/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, Input, EventEmitter, Output, Inject, LOCALE_ID } from '@angular/core';
import { TreeTableComponent } from '@farris/ui-treetable';
import { FilterExpression, ExpressionItem } from '../filter-expression-entity';
import { ExpressionService } from '@gsp-svc/expression';
import { ExpressTypeEnum, RelationTypeEnum, CompareTypeEnum } from '../typeinfo';
import { PropertyDataType } from '../property-entity';
import { FilterInjectedEntity } from '../injected-entity';
import { ViewEncapsulation } from '@angular/core';
import { NotifyService } from '@farris/ui-notify';
import { FilterConditionLocalePipe } from '../filter-condition-locale.pipe';
var FilterConditionComponent = /** @class */ (function () {
    function FilterConditionComponent(expr, notifyservice, localeId) {
        this.expr = expr;
        this.notifyservice = notifyservice;
        //关闭窗口事件
        this.closed = new EventEmitter();
        this.result = new EventEmitter();
        //预置计算表达式上下文实体
        this.contextEntity = [];
        //预置计算默认表达式显示
        this.expressionText = "";
        //预置计算表达式中的schema
        this.expressionSchema = [];
        //预置计算表达式中的注入实体
        this.expressionInjectedEntities = [];
        //预置计算表达式cdt集
        this.expressionCDT = [];
        //预置属性列表
        this.propertyList = [];
        //预置过滤表达式串
        this.filterExpressionString = null;
        //预置过滤表达式schema
        this.schemaMap = new Map();
        //==============新加入的newSchemaMap=======================
        //预置过滤表达式newSchema
        this.newSchemaMap = new Map();
        //========================================================
        //预置过滤表达式注入实体
        this.injectedEntity = new FilterInjectedEntity();
        //预置计算表达式弹出框宽度
        this.exprWinWidth = 850;
        this.popupSettings = {
            popupClass: "lpopup"
        };
        this.operatorView = [];
        //操作比较符集
        this.operators = [];
        this.stringOperators = [];
        this.NumberOperators = [];
        //关系集
        this.relations = [];
        //表达式类型集
        this.expressTypes = [];
        //判断是否保存编辑后的过滤表达式
        this.isEdited = false;
        this.displayPopup = false;
        this.groupIcon = '<span class="f-icon f-icon-windows"></span>';
        this.treeData = [];
        //消息提示
        this.notifies = {};
        localeId = localStorage.getItem('languageCode');
        this.localePipe = new FilterConditionLocalePipe(localeId);
    }
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    /**
     * @return {?}
     */
    FilterConditionComponent.prototype.ngOnInit = 
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    /**
     * @return {?}
     */
    function () {
        //并且树形表绑定的显示的列 
        this.cols = [
            { field: 'item', title: this.localePipe.transform("Item"), width: 271 },
            { field: 'operator', title: this.localePipe.transform("Operator"), width: 191 },
            { field: 'expressType', title: this.localePipe.transform("ExpressType"), width: 180 },
            { field: 'value', title: this.localePipe.transform("Value"), width: 214 },
            { field: 'operation', title: this.localePipe.transform("Operation"), width: 130 }
        ];
        if (!(this.filterExpressionString) || this.filterExpressionString == "") {
            this.treeData = [
                {
                    data: {
                        "id": 1,
                        //树形结构中每个节点的id
                        "item": this.localePipe.transform("And"),
                        //属性项
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": null,
                        //操作比较符
                        "expressType": null,
                        //表达式类型
                        "value": null,
                        //值
                        "displaySelect": false,
                        //选择项显示
                        "displayOperator": false,
                        //操作符项显示
                        "displayExpressType": false,
                        //表达式类型显示
                        "displayValue": false,
                        //值显示
                        "parentItem": null //父子项 
                    },
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                }
            ];
        }
        else {
            this.filterExpressionPre = JSON.parse(this.filterExpressionString);
            this.treeData.push(this.unConvert(this.filterExpressionPre));
            this.treeData[0].data.id = 1;
        }
        this.treeDataTemp = this.treeData;
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.defaultExpressTypeText = this.localePipe.transform("Value");
        this.defaultSelectGroup = this.localePipe.transform("And");
        this.defaultOperatorText = this.localePipe.transform("GreaterThan");
        this.notifies = {
            1: { type: 'success', msg: this.localePipe.transform("Success") },
            2: { type: 'warning', msg: this.localePipe.transform("Warning_SelectRelation") },
            3: { type: 'warning', msg: this.localePipe.transform("Warning_ContainsFilters") },
            4: { type: 'warning', msg: this.localePipe.transform("Warning_ConditionsComplete") },
            5: { type: 'warning', msg: this.localePipe.transform("Warning_NumericMatch") }
        };
        this.expressTypes = [
            { id: this.localePipe.transform("Value") },
            { id: this.localePipe.transform("Expression") }
        ];
        this.relations = [
            { id: this.localePipe.transform("And") },
            { id: this.localePipe.transform("Or") },
        ];
        this.operators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
            { id: this.localePipe.transform("In") },
            { id: this.localePipe.transform("NotIn") },
        ];
        this.NumberOperators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
        this.stringOperators = [
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
    };
    /**
     * 树形表中节点选择触发函数
     * @param $event 所选节点信息
     */
    /**
     * 树形表中节点选择触发函数
     * @param {?} $event 所选节点信息
     * @return {?}
     */
    FilterConditionComponent.prototype.nodeSelected = /**
     * 树形表中节点选择触发函数
     * @param {?} $event 所选节点信息
     * @return {?}
     */
    function ($event) {
        //隐藏掉所有的节点选择编辑框，包括子节点的
        this.hideNodeEditor(this.treeData);
        //将所选节点比较项、表达式类型项、值编辑框显示，并将所选对应数据赋给默认项进行显示 
        this.defaultOperatorText = $event.node.data.operator;
        this.defaultExpressTypeText = $event.node.data.expressType;
        if ($event.node.data.item == this.localePipe.transform("And") || $event.node.data.item == this.localePipe.transform("Or")) {
            this.defaultSelectGroup = $event.node.data.item;
        }
        else if ($event.node.data.item !== this.localePipe.transform("SelectProperty")) {
            /** @type {?} */
            var properties = this.propertyList.filter((/**
             * @param {?} x
             * @return {?}
             */
            function (x) { return x.text == $event.node.data.item; }));
            this.defaultSelectItem = properties[0].value;
            if (properties[0].propertyDataType == PropertyDataType.String) {
                this.operatorView = this.stringOperators;
            }
            else if (properties[0].propertyDataType == PropertyDataType.Int16 ||
                properties[0].propertyDataType == PropertyDataType.Int32 ||
                properties[0].propertyDataType == PropertyDataType.Int64 ||
                properties[0].propertyDataType == PropertyDataType.Decimal ||
                properties[0].propertyDataType == PropertyDataType.Double) {
                this.operatorView = this.NumberOperators;
            }
            else
                this.operatorView = this.operators;
        }
        $event.node.data.displayOperator = true;
        $event.node.data.displayExpressType = true;
        $event.node.data.displayValue = true;
        $event.node.data.displaySelect = true;
    };
    ;
    /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param treeNodes 树形表绑定结构
     */
    /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param {?} treeNodes 树形表绑定结构
     * @return {?}
     */
    FilterConditionComponent.prototype.hideNodeEditor = /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param {?} treeNodes 树形表绑定结构
     * @return {?}
     */
    function (treeNodes) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            element.data.displayOperator = false;
            element.data.displayExpressType = false;
            element.data.displayValue = false;
            element.data.displaySelect = false;
            //若有子节点，则将其子节点的编辑选择框隐藏
            if ((element.children) && element.children.length != 0) {
                _this.hideNodeEditor(element.children);
            }
        }));
    };
    ;
    /***
     * 选择逻辑集时
     */
    /**
     *
     * 选择逻辑集时
     * @param {?} $event
     * @return {?}
     */
    FilterConditionComponent.prototype.selectGroup = /**
     *
     * 选择逻辑集时
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 0 /* Group */);
    };
    /***
     * 选择项时
     */
    /**
     *
     * 选择项时
     * @param {?} $event
     * @return {?}
     */
    FilterConditionComponent.prototype.selectItem = /**
     *
     * 选择项时
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    };
    /**
     * 选择比较操作符时
     * @param $event 比较操作项信息
     */
    /**
     * 选择比较操作符时
     * @param {?} $event 比较操作项信息
     * @return {?}
     */
    FilterConditionComponent.prototype.selectOperator = /**
     * 选择比较操作符时
     * @param {?} $event 比较操作项信息
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 2 /* Operation */);
    };
    ;
    /**
     * 选择值类型时
     * @param $event 值类型项信息
     */
    /**
     * 选择值类型时
     * @param {?} $event 值类型项信息
     * @return {?}
     */
    FilterConditionComponent.prototype.selectExpressType = /**
     * 选择值类型时
     * @param {?} $event 值类型项信息
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 3 /* Valuetype */);
    };
    ;
    /**
     * 选择结束后隐藏该字段选择框
     * @param treeNodes 树形表绑定结构
     * @param fieldType 所选字段
     */
    /**
     * 选择结束后隐藏该字段选择框
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 所选字段
     * @return {?}
     */
    FilterConditionComponent.prototype.hideFieldEditor = /**
     * 选择结束后隐藏该字段选择框
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 所选字段
     * @return {?}
     */
    function (treeNodes, fieldType) {
        var _this = this;
        //找到所操作的节点，根据所选择的字段将对应选择编辑框隐藏
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (_this.tt.isSelected(treeNode)) {
                switch (fieldType) {
                    case 1 /* Item */:
                        treeNode.data.displaySelect = false;
                        break;
                    case 2 /* Operation */:
                        treeNode.data.displayOperator = false;
                        break;
                    case 3 /* Valuetype */:
                        treeNode.data.displayExpressType = false;
                        break;
                }
                return;
            }
            //若未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                _this.hideFieldEditor(treeNode.children, fieldType);
            }
        }));
    };
    /**
     * 打开计算表达式编辑器
     */
    /**
     * 打开计算表达式编辑器
     * @return {?}
     */
    FilterConditionComponent.prototype.openExpressEditor = /**
     * 打开计算表达式编辑器
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var that = this;
        //预置计算表达式弹出框宽度
        //this.expr.addWindowWidth(this.exprWinWidth);
        //添加预置上下文变量
        if (this.contextEntity && this.contextEntity.length != 0) {
            this.contextEntity.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                _this.expr.addContext(element);
            }));
        }
        //添加预置表达式文本
        /** @type {?} */
        var selectNode = this.isSelected(this.treeData);
        if ((selectNode) && (selectNode.data.value != "") && (selectNode.data.value != null)) {
            this.expr.addExpressionText(selectNode.data.value);
        }
        else
            this.expr.addExpressionText(this.expressionText);
        //添加注入实体
        this.expressionInjectedEntities.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.expr.addInjectedEntity(element.name, element.schemaName, element.injectedName, element.injectedType);
        }));
        //添加schema
        this.expressionSchema.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.expr.addSchema(element.name, element.schema);
        }));
        //添加cdt
        this.expr.addCDT(this.expressionCDT);
        //打开表达式编辑器并返回编辑结果
        this.expr.buildExpression().then((/**
         * @param {?} info
         * @return {?}
         */
        function (info) {
            /** @type {?} */
            var expressInfo = info;
            _this.displayExpressResult(that.treeData, expressInfo);
        }));
    };
    /**
    * 选中节点选择
    * @param treeNodes 关系组
    */
    /**
     * 选中节点选择
     * @param {?} treeNodes 关系组
     * @return {?}
     */
    FilterConditionComponent.prototype.isSelected = /**
     * 选中节点选择
     * @param {?} treeNodes 关系组
     * @return {?}
     */
    function (treeNodes) {
        /** @type {?} */
        var treeNode;
        for (var i = 0; i < treeNodes.length; i++) {
            if (this.tt.isSelected(treeNodes[i])) {
                treeNode = treeNodes[i];
                break;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNodes[i].children) && treeNodes[i].children.length != 0) {
                treeNode = this.isSelected(treeNodes[i].children);
                if ((treeNode))
                    break;
            }
        }
        return treeNode;
    };
    /**
     * 将计算表达式结果展示到对应节点
     * @param treeNodes 树表绑定结构
     * @param expressInfo 计算表达式得到结果
     */
    /**
     * 将计算表达式结果展示到对应节点
     * @param {?} treeNodes 树表绑定结构
     * @param {?} expressInfo 计算表达式得到结果
     * @return {?}
     */
    FilterConditionComponent.prototype.displayExpressResult = /**
     * 将计算表达式结果展示到对应节点
     * @param {?} treeNodes 树表绑定结构
     * @param {?} expressInfo 计算表达式得到结果
     * @return {?}
     */
    function (treeNodes, expressInfo) {
        var _this = this;
        //找到所选节点实体，并将计算表达式所得结果赋给对应属性进行显示
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (_this.tt.isSelected(treeNode)) {
                treeNode.data.value = expressInfo;
                return;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                _this.displayExpressResult(treeNode.children, expressInfo);
            }
            //若仍未找到，则不进行任何操作
        }));
    };
    /**
     * 关系选择按钮选择事件
     * @param $event 选择按钮所选信息
     */
    /**
     * 关系选择按钮选择事件
     * @param {?} $event 选择按钮所选信息
     * @return {?}
     */
    FilterConditionComponent.prototype.itemClick = /**
     * 关系选择按钮选择事件
     * @param {?} $event 选择按钮所选信息
     * @return {?}
     */
    function ($event) {
        //若选择添加关系
        if ($event.value == RelationTypeEnum.AddRelation) {
            this.addNode(this.treeData, this.localePipe.transform("And"), null, null);
        }
        //若选择添加属性
        else if ($event.value == RelationTypeEnum.AddProperty) {
            this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
        }
        else
            this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    };
    /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param value
     * @param treeNodes 树形表绑定结构
     * @param fieldType 节点类型
     */
    /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param {?} event
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 节点类型
     * @return {?}
     */
    FilterConditionComponent.prototype.propertyNodeOperate = /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param {?} event
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 节点类型
     * @return {?}
     */
    function (event, treeNodes, fieldType) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} treenode
         * @return {?}
         */
        function (treenode) {
            if (_this.tt.isSelected(treenode)) {
                //对所选节点进行赋值操作
                switch (fieldType) {
                    case 0 /* Group */:
                        {
                            treenode.data.item = event.data.id;
                            _this.defaultSelectGroup = event.data.id;
                        }
                        break;
                    case 1 /* Item */:
                        {
                            treenode.data.item = event.data.text;
                            _this.defaultSelectItem = event.data.value;
                            treenode.data.parentItem = event.data.parentItem;
                            treenode.data.propertyDataType = event.data.propertyDataType;
                            if (treenode.data.propertyDataType == PropertyDataType.String) {
                                _this.operatorView = _this.stringOperators;
                            }
                            else if (treenode.data.propertyDataType == PropertyDataType.Int16 ||
                                treenode.data.propertyDataType == PropertyDataType.Int32 ||
                                treenode.data.propertyDataType == PropertyDataType.Int64 ||
                                treenode.data.propertyDataType == PropertyDataType.Decimal ||
                                treenode.data.propertyDataType == PropertyDataType.Double) {
                                _this.operatorView = _this.NumberOperators;
                            }
                            else
                                _this.operatorView = _this.operators;
                        }
                        break;
                    case 2 /* Operation */:
                        {
                            treenode.data.operator = event.data.id;
                            _this.defaultOperatorText = event.data.id;
                        }
                        break;
                    case 3 /* Valuetype */:
                        {
                            treenode.data.expressType = event.data.id;
                            _this.defaultExpressTypeText = event.data.id;
                        }
                        break;
                }
                return;
            }
            //否则对其子节点进行赋值操作
            else if ((treenode.children) && treenode.children.length != 0) {
                _this.propertyNodeOperate(event, treenode.children, fieldType);
            }
        }));
    };
    /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param treeNodes 树形表绑定结构
     * @param defaultString 新节点显示默认值
     */
    /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} defaultString 新节点显示默认值
     * @param {?} defaultOperator
     * @param {?} defalutExpressType
     * @return {?}
     */
    FilterConditionComponent.prototype.addNode = /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} defaultString 新节点显示默认值
     * @param {?} defaultOperator
     * @param {?} defalutExpressType
     * @return {?}
     */
    function (treeNodes, defaultString, defaultOperator, defalutExpressType) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (_this.tt.isSelected(treeNode)) {
                //若关系值为空
                if (!(treeNode.data.item)) {
                    _this.notifyservice[_this.notifies['2'].type]({
                        msg: _this.notifies['2'].msg
                    });
                    return;
                }
                //若为所选的关系节点，则在其子项里添加新子节点
                /** @type {?} */
                var newNode = {
                    data: {
                        "item": defaultString,
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": defaultOperator,
                        "expressType": defalutExpressType,
                        "value": null,
                        "id": Math.random(),
                        "parentItem": null
                    },
                    parent: treeNode,
                    children: [],
                    expanded: true
                };
                //向该所选节点的子项添加新节点
                treeNode.children.push(newNode);
                return;
            }
            //若未找到所选节点，且该节点子项不为空，则在其子项中查找所选节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                _this.addNode(treeNode.children, defaultString, defaultOperator, defalutExpressType);
            }
        }));
        this.tt.updateSerializedValue();
    };
    /**
     * 删除节点
     * @param treeNode 要删除的节点
     */
    /**
     * 删除节点
     * @param {?} $event
     * @return {?}
     */
    FilterConditionComponent.prototype.deleteNode = /**
     * 删除节点
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.onDelete(this.treeData, $event);
    };
    /**
     * 删除节点具体实现类
     * @param treeNodes 树形表绑定结构
     */
    /**
     * 删除节点具体实现类
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} id
     * @return {?}
     */
    FilterConditionComponent.prototype.onDelete = /**
     * 删除节点具体实现类
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} id
     * @return {?}
     */
    function (treeNodes, id) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (treeNode.data.id == id) {
                if (treeNode.data.id == 1) {
                    _this.treeData = [
                        {
                            data: {
                                "id": 1,
                                //树形结构中每个节点的id
                                "propertyDataType": null,
                                //属性数据类型
                                "item": _this.localePipe.transform("And"),
                                //属性项
                                "operator": null,
                                //操作比较符
                                "expressType": null,
                                //表达式类型
                                "value": null,
                                //值
                                "displaySelect": false,
                                //选择项显示
                                "displayOperator": false,
                                //操作符项显示
                                "displayExpressType": false,
                                //表达式类型显示
                                "displayValue": false,
                                //值显示
                                "parentItem": null //父项
                            },
                            children: [],
                            //子节点集合
                            expanded: true //是否展开
                        }
                    ];
                    return;
                }
                //所选节点所在数
                /** @type {?} */
                var index = treeNodes.indexOf(treeNode);
                //将所选节点剔除
                treeNodes.splice(index, 1);
            }
            else if ((treeNode.children) && treeNode.children.length != 0) {
                treeNode.children = _this.onDelete(treeNode.children, id);
            }
        }));
        this.tt.updateSerializedValue();
        return treeNodes;
    };
    /**
     * 确定
     * 生成过滤表达式
     */
    /**
     * 确定
     * 生成过滤表达式
     * @return {?}
     */
    FilterConditionComponent.prototype.onConfirm = /**
     * 确定
     * 生成过滤表达式
     * @return {?}
     */
    function () {
        this.treeDataTemp = this.treeData;
        /** @type {?} */
        var isNull = true;
        /** @type {?} */
        var isMatch = true;
        if (this.checkNull(this.treeDataTemp[0].children, isNull) && this.checkMatch(this.treeDataTemp[0].children, isMatch)) {
            this.filterExpression = new FilterExpression();
            //根据树形数据结构转化为过滤表达式实体
            this.convert(this.filterExpression, this.treeDataTemp[0]);
            this.isEdited = true;
            this.notifyservice[this.notifies['1'].type]({
                msg: this.notifies['1'].msg
            });
            this.close();
            this.closed.emit("close");
        }
    };
    //递归检查整个过滤表达式是否有漏填的项
    //递归检查整个过滤表达式是否有漏填的项
    /**
     * @param {?} treeNodes
     * @param {?} isNull
     * @return {?}
     */
    FilterConditionComponent.prototype.checkNull = 
    //递归检查整个过滤表达式是否有漏填的项
    /**
     * @param {?} treeNodes
     * @param {?} isNull
     * @return {?}
     */
    function (treeNodes, isNull) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item == this.localePipe.transform("And") || treeNodes[i].data.item == this.localePipe.transform("Or")) {
                if (!(treeNodes[i].children) || treeNodes[i].children.length == 0) {
                    this.notifyservice[this.notifies['3'].type]({
                        msg: this.notifies['3'].msg
                    });
                    isNull = false;
                    break;
                }
                else if (!this.checkNull(treeNodes[i].children, isNull)) {
                    isNull = false;
                    break;
                }
            }
            else {
                if (!(treeNodes[i].data.item) || treeNodes[i].data.item == this.localePipe.transform("SelectProperty")
                    || !(treeNodes[i].data.operator) || !(treeNodes[i].data.expressType)
                    || treeNodes[i].data.value == null || treeNodes[i].data.value == undefined) {
                    this.notifyservice[this.notifies['4'].type]({
                        msg: this.notifies['4'].msg
                    });
                    isNull = false;
                    break;
                }
            }
        }
        return isNull;
    };
    /**
     * 重置
     * 重置为初始状态
     */
    /**
     * 重置
     * 重置为初始状态
     * @return {?}
     */
    FilterConditionComponent.prototype.onCancel = /**
     * 重置
     * 重置为初始状态
     * @return {?}
     */
    function () {
        this.isEdited = false;
        if (this.filterExpressionString == null || this.filterExpressionString == "") {
            this.treeData = [
                {
                    data: {
                        "id": 1,
                        //树形结构中每个节点的id
                        "item": null,
                        //属性项
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": null,
                        //操作比较符
                        "expressType": null,
                        //表达式类型
                        "value": null,
                        //值
                        "displaySelect": false,
                        //选择项显示
                        "displayOperator": false,
                        //操作符项显示
                        "displayExpressType": false,
                        //表达式类型显示
                        "displayValue": false,
                        //值显示
                        "parentItem": null //父项
                    },
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                }
            ];
        }
        else {
            this.filterExpressionPre = JSON.parse(this.filterExpressionString);
            this.treeData = [];
            this.treeData.push(this.unConvert(this.filterExpressionPre));
            this.treeData[0].data.id = 1;
        }
    };
    /**取消 */
    /**
     * 取消
     * @return {?}
     */
    FilterConditionComponent.prototype.cancle = /**
     * 取消
     * @return {?}
     */
    function () {
        this.closed.emit("close");
    };
    /**
     * 关闭窗口
     */
    /**
     * 关闭窗口
     * @return {?}
     */
    FilterConditionComponent.prototype.close = /**
     * 关闭窗口
     * @return {?}
     */
    function () {
        if (this.isEdited == true) {
            //若只包含关系项则返回空
            if (this.filterExpression.expressItems.length == 0)
                this.result.next(null);
            //若最后一次点了确定，则将过滤表达式JSON序列化输出
            else
                this.result.next(JSON.stringify(this.filterExpression));
        }
        //若未点确定，默认无任何编辑文本，则输出空串
        else
            this.result.next(this.filterExpressionString);
    };
    /**
     * 将treeData转化为filetrExpression实体
     * @param filterExpression 过滤表达式实体
     * @param treeNode 最外层的treeNode
     */
    /**
     * 将treeData转化为filetrExpression实体
     * @param {?} filterExpression 过滤表达式实体
     * @param {?} treeNode 最外层的treeNode
     * @return {?}
     */
    FilterConditionComponent.prototype.convert = /**
     * 将treeData转化为filetrExpression实体
     * @param {?} filterExpression 过滤表达式实体
     * @param {?} treeNode 最外层的treeNode
     * @return {?}
     */
    function (filterExpression, treeNode) {
        var _this = this;
        //得到最外层的关系符
        filterExpression.relationOperator = this.typeMatch(treeNode.data.item);
        //若其子项不为空
        if (treeNode.children.length != 0) {
            //对其每一个子项进行转化操作
            treeNode.children.forEach((/**
             * @param {?} treeNodeItem
             * @return {?}
             */
            function (treeNodeItem) {
                //若子项为并且、或者，则新建复杂过滤表达式
                if (_this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.And ||
                    _this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.Or) {
                    /** @type {?} */
                    var filterExpressionItem = new FilterExpression();
                    filterExpression.expressItems.push(_this.convert(filterExpressionItem, treeNodeItem));
                }
                //若子项为属性表达式
                else {
                    /** @type {?} */
                    var filterItem = new ExpressionItem();
                    //根据属性名展示值找到其在预置列表中的语义化值，将语义化值赋给实体保存
                    /** @type {?} */
                    var properties = _this.propertyList.filter((/**
                     * @param {?} x
                     * @return {?}
                     */
                    function (x) { return x.text == treeNodeItem.data.item; }));
                    filterItem.propertyName = properties[0].value;
                    filterItem.propertyDataType = treeNodeItem.data.propertyDataType;
                    filterItem.operator = _this.typeMatch(treeNodeItem.data.operator);
                    filterItem.expressType = _this.typeMatch(treeNodeItem.data.expressType);
                    filterItem.value = treeNodeItem.data.value;
                    filterItem.parentItem = treeNodeItem.data.parentItem;
                    //若为数值型比较，则将value值强制转换为数字
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.GreaterThan
                            || filterItem.operator == CompareTypeEnum.GreaterThanOrEqual
                            || filterItem.operator == CompareTypeEnum.LessThan
                            || filterItem.operator == CompareTypeEnum.LessThanOrEqual)) {
                        filterItem.value = Number(treeNodeItem.data.value);
                    }
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.Equal
                            || filterItem.operator == CompareTypeEnum.NotEqual)) {
                        if (filterItem.propertyDataType == PropertyDataType.Decimal
                            || filterItem.propertyDataType == PropertyDataType.Double
                            || filterItem.propertyDataType == PropertyDataType.Int16
                            || filterItem.propertyDataType == PropertyDataType.Int32
                            || filterItem.propertyDataType == PropertyDataType.Int64) {
                            filterItem.value = Number(treeNodeItem.data.value);
                        }
                    }
                    //将子项放入父项的字段中
                    filterExpression.expressItems.push(filterItem);
                }
            }));
        }
        return filterExpression;
    };
    /**
     * filetrExpression反转化为TreeNode
     * @param filterExpress 待转化的filetrExpression实体
     */
    /**
     * filetrExpression反转化为TreeNode
     * @param {?} filterExpress 待转化的filetrExpression实体
     * @return {?}
     */
    FilterConditionComponent.prototype.unConvert = /**
     * filetrExpression反转化为TreeNode
     * @param {?} filterExpress 待转化的filetrExpression实体
     * @return {?}
     */
    function (filterExpress) {
        var _this = this;
        /** @type {?} */
        var treeData = {
            data: {
                "id": Math.random(),
                //树形结构中每个节点的id
                "item": this.relationTypeReverseMatch(filterExpress.relationOperator),
                //属性项
                "propertyDataType": null,
                //属性数据类型
                "operator": null,
                //操作比较符
                "expressType": null,
                //表达式类型
                "value": null,
                //值
                "displaySelect": false,
                //选择项显示
                "displayOperator": false,
                //操作符项显示
                "displayExpressType": false,
                //表达式类型显示
                "displayValue": false,
                //值显示
                "parentItem": null //父项
            },
            children: [],
            //子节点集合
            expanded: true //是否展开
        };
        //对于每一个子项
        filterExpress.expressItems.forEach((/**
         * @param {?} expressItem
         * @return {?}
         */
        function (expressItem) {
            /** @type {?} */
            var filterExpressItem = (/** @type {?} */ (expressItem));
            //若子项为FilterExpression类型，赋值
            if ((filterExpressItem.relationOperator == RelationTypeEnum.And || filterExpressItem.relationOperator == RelationTypeEnum.Or)) {
                /** @type {?} */
                var treeDataChild = _this.unConvert(filterExpressItem);
                treeDataChild.data.parent = treeData; //添加父节点
                treeData.children.push(treeDataChild);
            }
            else //若子项为ExpressionItem类型，赋值
             {
                /** @type {?} */
                var expressionItem_1 = (/** @type {?} */ (expressItem));
                /** @type {?} */
                var properties = _this.propertyList.filter((/**
                 * @param {?} x
                 * @return {?}
                 */
                function (x) { return x.value == expressionItem_1.propertyName; }));
                /** @type {?} */
                var treeDataChild = {
                    data: {
                        "id": Math.random(),
                        //树形结构中每个节点的id
                        "item": properties[0].text,
                        //属性项
                        "propertyDataType": expressionItem_1.propertyDataType,
                        //属性数据类型
                        "operator": _this.operatorReverseMatch(expressionItem_1.operator),
                        //操作比较符
                        "expressType": _this.expressTypeReverseMatch(expressionItem_1.expressType),
                        //表达式类型
                        "value": expressionItem_1.value,
                        //值
                        "parentItem": expressionItem_1.parentItem //父项
                    },
                    parent: treeData,
                    //添加父节点
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                };
                treeData.children.push(treeDataChild);
            }
        }));
        return treeData;
    };
    /***
     * 添加条件项
     */
    /**
     *
     * 添加条件项
     * @return {?}
     */
    FilterConditionComponent.prototype.addItem = /**
     *
     * 添加条件项
     * @return {?}
     */
    function () {
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.hideNodeEditor(this.treeData);
        this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
    };
    /***
     * 添加条件组
     */
    /**
     *
     * 添加条件组
     * @return {?}
     */
    FilterConditionComponent.prototype.addGroup = /**
     *
     * 添加条件组
     * @return {?}
     */
    function () {
        this.addNode(this.treeData, this.localePipe.transform("And"), null, null);
    };
    /**
     * 类型信息匹配
     * @param type 类型
     */
    /**
     * 类型信息匹配
     * @param {?} type 类型
     * @return {?}
     */
    FilterConditionComponent.prototype.typeMatch = /**
     * 类型信息匹配
     * @param {?} type 类型
     * @return {?}
     */
    function (type) {
        switch (type) {
            case this.localePipe.transform("And"): return RelationTypeEnum.And;
            case this.localePipe.transform("Or"): return RelationTypeEnum.Or;
            case this.localePipe.transform("GreaterThan"): return CompareTypeEnum.GreaterThan;
            case this.localePipe.transform("GreaterThanOrEqual"): return CompareTypeEnum.GreaterThanOrEqual;
            case this.localePipe.transform("LessThan"): return CompareTypeEnum.LessThan;
            case this.localePipe.transform("LessThanOrEqual"): return CompareTypeEnum.LessThanOrEqual;
            case this.localePipe.transform("Equal"): return CompareTypeEnum.Equal;
            case this.localePipe.transform("NotEqual"): return CompareTypeEnum.NotEqual;
            case this.localePipe.transform("Contains"): return CompareTypeEnum.Contains;
            case this.localePipe.transform("NotContains"): return CompareTypeEnum.NotContains;
            case this.localePipe.transform("StartsWith"): return CompareTypeEnum.StartsWith;
            case this.localePipe.transform("EndsWith"): return CompareTypeEnum.EndsWith;
            case this.localePipe.transform("NotStartsWith"): return CompareTypeEnum.NotStartsWith;
            case this.localePipe.transform("NotEndsWith"): return CompareTypeEnum.NotEndsWith;
            case this.localePipe.transform("IsNull"): return CompareTypeEnum.IsNull;
            case this.localePipe.transform("IsNotNull"): return CompareTypeEnum.IsNotNull;
            case this.localePipe.transform("In"): return CompareTypeEnum.In;
            case this.localePipe.transform("NotIn"): return CompareTypeEnum.NotIn;
            case this.localePipe.transform("Value"): return ExpressTypeEnum.Value;
            case this.localePipe.transform("Expression"): return ExpressTypeEnum.Expression;
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    FilterConditionComponent.prototype.relationTypeReverseMatch = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case RelationTypeEnum.And: return this.localePipe.transform("And");
            case RelationTypeEnum.Or: return this.localePipe.transform("Or");
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    FilterConditionComponent.prototype.operatorReverseMatch = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case CompareTypeEnum.GreaterThan: return this.localePipe.transform("GreaterThan");
            case CompareTypeEnum.GreaterThanOrEqual: return this.localePipe.transform("GreaterThanOrEqual");
            case CompareTypeEnum.LessThan: return this.localePipe.transform("LessThan");
            case CompareTypeEnum.LessThanOrEqual: return this.localePipe.transform("LessThanOrEqual");
            case CompareTypeEnum.Equal: return this.localePipe.transform("Equal");
            case CompareTypeEnum.NotEqual: return this.localePipe.transform("NotEqual");
            case CompareTypeEnum.Contains: return this.localePipe.transform("Contains");
            case CompareTypeEnum.NotContains: return this.localePipe.transform("NotContains");
            case CompareTypeEnum.StartsWith: return this.localePipe.transform("StartsWith");
            case CompareTypeEnum.EndsWith: return this.localePipe.transform("EndsWith");
            case CompareTypeEnum.NotStartsWith: return this.localePipe.transform("NotStartsWith");
            case CompareTypeEnum.NotEndsWith: return this.localePipe.transform("NotEndsWith");
            case CompareTypeEnum.IsNull: return this.localePipe.transform("IsNull");
            case CompareTypeEnum.IsNotNull: return this.localePipe.transform("IsNotNull");
            case CompareTypeEnum.In: return this.localePipe.transform("In");
            case CompareTypeEnum.NotIn: return this.localePipe.transform("NotIn");
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    FilterConditionComponent.prototype.expressTypeReverseMatch = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case ExpressTypeEnum.Value: return this.localePipe.transform("Value");
            case ExpressTypeEnum.Expression: return this.localePipe.transform("Expression");
        }
    };
    /**
     * @return {?}
     */
    FilterConditionComponent.prototype.onfocus = /**
     * @return {?}
     */
    function () {
        this.displayPopup = true;
    };
    /**
     * @return {?}
     */
    FilterConditionComponent.prototype.onblur = /**
     * @return {?}
     */
    function () {
        this.displayPopup = false;
    };
    /**
     * @param {?} treeNodes
     * @param {?} isMatch
     * @return {?}
     */
    FilterConditionComponent.prototype.checkMatch = /**
     * @param {?} treeNodes
     * @param {?} isMatch
     * @return {?}
     */
    function (treeNodes, isMatch) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item != this.localePipe.transform("And") && treeNodes[i].data.item != this.localePipe.transform("Or")) {
                if (treeNodes[i].data.expressType == this.localePipe.transform("Value")) {
                    if ((treeNodes[i].data.propertyDataType == PropertyDataType.Int16 || treeNodes[i].data.propertyDataType == PropertyDataType.Int32 || treeNodes[i].data.propertyDataType == PropertyDataType.Int64) && isNaN(treeNodes[i].data.value)) {
                        this.notifyservice[this.notifies['5'].type]({
                            msg: this.notifies['5'].msg
                        });
                        isMatch = false;
                        break;
                    }
                }
            }
            else
                isMatch = this.checkMatch(treeNodes[i].children, isMatch);
        }
        return isMatch;
    };
    FilterConditionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-filter-condition',
                    template: "<div class=\"filter \">   \r\n    <farris-treetable #tt\r\n    class=\"farristreetable\"\r\n    [data]=\"treeData\" \r\n    [columns]=\"cols\" \r\n    [idField]=\"'id'\" \r\n    [showIcon]=\"false\" \r\n    [resizableColumns]=\"true\"\r\n    (nodeSelected)=\"nodeSelected($event)\" \r\n    [fitColumns]=\"true\" \r\n    [showFilterBar]=\"false\"\r\n    [showHeader]=\"true\"\r\n    [enableFindText]=\"true\"\r\n    [fit]=\"true\"\r\n    [fixedHeader]=\"true\"\r\n    [showBorder]=\"false\"\r\n    >\r\n      <ng-template farrisTemplate=\"body\" let-rowNode let-rowData=\"rowData\" let-columns=\"columns\">\r\n        <tr [selectRow]=\"rowNode\" [dblclick]=\"true\">\r\n          <td *ngFor=\"let col of columns; let i = index\"\r\n          [ngStyle]=\"{'text-align':col.title=='' ?'center':'left'}\">\r\n            <farris-treeTableToggler [rowNode]=\"rowNode\" *ngIf=\"i == 0\"></farris-treeTableToggler>\r\n            <ng-container *ngIf=\"i==0\">\r\n                <span style=\"display: inline-block;\" id=\"groupAnd\" *ngIf=\"rowData['item']==this.localePipe.transform('And') || rowData['item']==null\"><img src='/platform/common/web/assets/filter-icon/and.svg'></span>\r\n                <span style=\"display: inline-block;\" id=\"groupOr\" *ngIf=\"rowData['item']==this.localePipe.transform('Or')\"><img src='/platform/common/web/assets/filter-icon/or.svg'></span>\r\n\r\n                <farris-combo-list *ngIf=\"(rowData['item']==this.localePipe.transform('Or') || rowData['item']==this.localePipe.transform('And') || rowData['item']==null)&& rowData['displaySelect']\"\r\n                style=\"display: inline-block;\"\r\n                [(ngModel)]=\"defaultSelectGroup\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"relations\" \r\n                (selectChange)=\"selectGroup($event)\">\r\n                </farris-combo-list>\r\n                <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displaySelect']\"\r\n                style=\"display: inline-block;\"\r\n                [(ngModel)]=\"defaultSelectItem\"\r\n                [idField]=\"'value'\"\r\n                [textField]=\"'text'\"\r\n                [data]=\"propertyList\" \r\n                (selectChange)=\"selectItem($event)\">\r\n                </farris-combo-list>\r\n                <ng-container *ngIf=\"!rowData['displaySelect']\">\r\n                     {{rowData[col.field]}}\r\n                </ng-container>\r\n            </ng-container>\r\n          \r\n            <ng-container *ngIf=\"i==1\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultOperatorText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"operatorView\"\r\n                [panelHeight]=200\r\n                (selectChange)=\"selectOperator($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayOperator']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==2\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultExpressTypeText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"expressTypes\"\r\n                (selectChange)=\"selectExpressType($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayExpressType']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==3\">\r\n              <ng-container *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayValue']\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"{{ 'PlaceHolder' | locale }}\" aria-describedby=\"button-addon\" [(ngModel)]=\"rowData['value']\"/>\r\n                <button *ngIf=\"rowData['expressType']==this.localePipe.transform('Expression')\" class=\"btn btn-outline-secondary\" style=\"border: none;width: 25px;padding-left: 4px\" type=\"button\" id=\"button-addon\" (click)=\"openExpressEditor()\"><span class=\"f-icon f-icon-windows\"></span></button>\r\n              </div>\r\n              </ng-container>\r\n              <ng-container *ngIf=\"!rowData['displayValue']\">\r\n                <span style=\"display: inline-block;overflow: hidden;width: 100%\">{{rowData[col.field]}}</span>\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==4\">\r\n                <div class=\"btn-group mr-3\" fDropdown>\r\n                  <button class=\"btn btn-link\" fDropdownToggle type=\"button\">\r\n                    {{ 'Add' | locale }}\r\n                  </button>\r\n                  <div class=\"dropdown-menu\" fDropdownMenu>\r\n                    <li class=\"dropdown-item\" (click)=\"addGroup()\"><span> {{ 'AddGroup' | locale }}</span></li>\r\n                    <li class=\"dropdown-item\" (click)=\"addItem()\"><span> {{ 'AddItem' | locale }}</span></li>\r\n                  </div>\r\n                </div>\r\n                <button style=\"padding-left: 16px;\" type=\"button\" class=\"btn btn-link\" (click)=\"deleteNode(rowData['id'])\">{{ 'Delete' | locale }}</button> \r\n            </ng-container>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </farris-treetable>\r\n</div>\r\n<div class=\"modal-footer footer\">\r\n  <button type=\"button\" class=\"btn f-btn-mr btn-primary\" (click)=\"onConfirm()\">{{ 'Confirm' | locale }}</button>\r\n  <button type=\"button\" class=\"k-button k-button-icon k-flat\" (click)=\"onCancel()\">{{ 'Reset' | locale }}</button>\r\n  <button type=\"button\" class=\"k-button k-button-icon k-flat\" (click)=\"cancle()\">{{ 'Cancle' | locale }}</button>\r\n</div>\r\n",
                    providers: [ExpressionService],
                    encapsulation: ViewEncapsulation.None,
                    styles: [".lpopup kendo-button-list{height:250px;overflow-y:auto}.footer{position:fixed;bottom:0;left:0;right:0}.farristreetable .farris-treetable .farris-treetable-tbody tr td{overflow:inherit}.filter{padding-left:20px;padding-right:20px}"]
                }] }
    ];
    /** @nocollapse */
    FilterConditionComponent.ctorParameters = function () { return [
        { type: ExpressionService },
        { type: NotifyService },
        { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }
    ]; };
    FilterConditionComponent.propDecorators = {
        tt: [{ type: ViewChild, args: ['tt',] }],
        closed: [{ type: Output }],
        result: [{ type: Output }],
        contextEntity: [{ type: Input }],
        expressionText: [{ type: Input }],
        expressionSchema: [{ type: Input }],
        expressionInjectedEntities: [{ type: Input }],
        expressionCDT: [{ type: Input }],
        propertyList: [{ type: Input }],
        filterExpressionString: [{ type: Input }],
        schemaMap: [{ type: Input }],
        newSchemaMap: [{ type: Input }],
        injectedEntity: [{ type: Input }],
        exprWinWidth: [{ type: Input }]
    };
    return FilterConditionComponent;
}());
export { FilterConditionComponent };
if (false) {
    /** @type {?} */
    FilterConditionComponent.prototype.localePipe;
    /** @type {?} */
    FilterConditionComponent.prototype.treeDataTemp;
    /** @type {?} */
    FilterConditionComponent.prototype.tt;
    /** @type {?} */
    FilterConditionComponent.prototype.closed;
    /** @type {?} */
    FilterConditionComponent.prototype.result;
    /** @type {?} */
    FilterConditionComponent.prototype.contextEntity;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionText;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionSchema;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionInjectedEntities;
    /** @type {?} */
    FilterConditionComponent.prototype.expressionCDT;
    /** @type {?} */
    FilterConditionComponent.prototype.propertyList;
    /** @type {?} */
    FilterConditionComponent.prototype.filterExpressionString;
    /** @type {?} */
    FilterConditionComponent.prototype.schemaMap;
    /** @type {?} */
    FilterConditionComponent.prototype.newSchemaMap;
    /** @type {?} */
    FilterConditionComponent.prototype.injectedEntity;
    /** @type {?} */
    FilterConditionComponent.prototype.exprWinWidth;
    /** @type {?} */
    FilterConditionComponent.prototype.popupSettings;
    /** @type {?} */
    FilterConditionComponent.prototype.operatorView;
    /** @type {?} */
    FilterConditionComponent.prototype.operators;
    /** @type {?} */
    FilterConditionComponent.prototype.stringOperators;
    /** @type {?} */
    FilterConditionComponent.prototype.NumberOperators;
    /** @type {?} */
    FilterConditionComponent.prototype.relations;
    /** @type {?} */
    FilterConditionComponent.prototype.expressTypes;
    /** @type {?} */
    FilterConditionComponent.prototype.filterExpression;
    /** @type {?} */
    FilterConditionComponent.prototype.nodeTemp;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultSelectGroup;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultSelectItem;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultOperatorText;
    /** @type {?} */
    FilterConditionComponent.prototype.defaultExpressTypeText;
    /** @type {?} */
    FilterConditionComponent.prototype.isEdited;
    /** @type {?} */
    FilterConditionComponent.prototype.filterExpressionPre;
    /** @type {?} */
    FilterConditionComponent.prototype.displayPopup;
    /** @type {?} */
    FilterConditionComponent.prototype.cols;
    /** @type {?} */
    FilterConditionComponent.prototype.groupIcon;
    /** @type {?} */
    FilterConditionComponent.prototype.treeData;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.notifies;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.itemValue;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.expr;
    /**
     * @type {?}
     * @private
     */
    FilterConditionComponent.prototype.notifyservice;
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWNvbmRpdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXN2Yy9maWx0ZXJjb25kaXRpb24vIiwic291cmNlcyI6WyJsaWIvZmlsdGVyLWNvbmRpdGlvbi9maWx0ZXItY29uZGl0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQVUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RyxPQUFPLEVBQUUsa0JBQWtCLEVBQVksTUFBTSxzQkFBc0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDL0UsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFLeEQsT0FBTyxFQUFFLGVBQWUsRUFBNkMsZ0JBQWdCLEVBQUUsZUFBZSxFQUFDLE1BQU0sYUFBYSxDQUFDO0FBQzNILE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBR3RELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzFELE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNoRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFFNUU7SUFZRSxrQ0FBb0IsSUFBdUIsRUFDakMsYUFBMkIsRUFDaEIsUUFBZTtRQUZoQixTQUFJLEdBQUosSUFBSSxDQUFtQjtRQUNqQyxrQkFBYSxHQUFiLGFBQWEsQ0FBYzs7UUFXM0IsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFVLENBQUM7UUFDcEMsV0FBTSxHQUFHLElBQUksWUFBWSxFQUFVLENBQUM7O1FBRXJD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QyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFDO1lBQ25ELEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFDO1lBQ3pDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFDO1lBQzVDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFDO1lBQzVDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFDO1lBQy9DLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxFQUFDO1lBQzlDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFDO1lBQzVDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUFDO1lBQ2pELEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFDO1lBQy9DLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFDO1lBQzFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxFQUFDO1lBQzdDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFDO1lBQ3RDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFDO1NBQzFDLENBQUM7UUFDRixJQUFJLENBQUMsZUFBZSxHQUFHO1lBQ3JCLEVB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O0lBQzlDLDBDQUE4Qzs7SUFFOUMsaURBQXVDOztJQUV2QyxrREFBcUM7O0lBRXJDLG9EQUF3RTs7SUFFeEUsOERBQTJEOztJQUUzRCxpREFBaUQ7O0lBRWpELGdEQUFzSDs7SUFFdEgsMERBQStDOztJQUUvQyw2Q0FBMEQ7O0lBR3pELGdEQUFvRDs7SUFHckQsa0RBQXFEOztJQUVyRCxnREFBa0M7O0lBQ2xDLGlEQUdDOztJQUVELGdEQUF5Qjs7SUFFekIsNkNBQXFCOztJQUVyQixtREFBNEI7O0lBRTVCLG1EQUE0Qjs7SUFFNUIsNkNBQXNCOztJQUV0QixnREFBMEI7O0lBQzFCLG9EQUEwQzs7SUFFMUMsNENBQTRCOztJQUU1QixzREFBMEI7O0lBQzFCLHFEQUF5Qjs7SUFFekIsdURBQWtDOztJQUVsQywwREFBcUM7O0lBRXJDLDRDQUFpQzs7SUFFakMsdURBQTZDOztJQUM3QyxnREFBb0M7O0lBQ3BDLHdDQUFXOztJQUNYLDZDQUEwRDs7SUFDMUQsNENBQTBCOzs7OztJQUUxQiw0Q0FBc0I7Ozs7O0lBQ3RCLDZDQUF5Qjs7Ozs7SUExRWIsd0NBQStCOzs7OztJQUN6QyxpREFBbUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDaGlsZCwgSW5wdXQsIEV2ZW50RW1pdHRlciwgT3V0cHV0LCBPbkluaXQsIEluamVjdCwgTE9DQUxFX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVUYWJsZUNvbXBvbmVudCwgVHJlZU5vZGUgfSBmcm9tICdAZmFycmlzL3VpLXRyZWV0YWJsZSc7XHJcbmltcG9ydCB7IEZpbHRlckV4cHJlc3Npb24sIEV4cHJlc3Npb25JdGVtIH0gZnJvbSAnLi4vZmlsdGVyLWV4cHJlc3Npb24tZW50aXR5JztcclxuaW1wb3J0IHsgRXhwcmVzc2lvblNlcnZpY2UgfSBmcm9tICdAZ3NwLXN2Yy9leHByZXNzaW9uJztcclxuaW1wb3J0IHsgVmFyRW50aXR5IH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ0Bnc3Atc3ZjL2V4cHJlc3Npb24nO1xyXG5pbXBvcnQgeyBHc3BDb21tb25EYXRhVHlwZSB9IGZyb20gJ0Bnc3AtYmVmL2dzcC1jbS1tZXRhZGF0YSc7XHJcbmltcG9ydCB7IEluamVjdGVkRW50aXR5IH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IEV4cHJlc3NUeXBlRW51bSwgQ29tcGFyZVR5cGVzLCBSZWxhdGlvblR5cGVzLCBFeHByZXNzVHlwZXMsIFJlbGF0aW9uVHlwZUVudW0sIENvbXBhcmVUeXBlRW51bX0gZnJvbSAnLi4vdHlwZWluZm8nO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eURhdGFUeXBlIH0gZnJvbSAnLi4vcHJvcGVydHktZW50aXR5JztcclxuaW1wb3J0IHtGaWVsZFR5cGV9IGZyb20gJy4uL2ZpZWxkLXR5cGUnO1xyXG5pbXBvcnQgeyBGaWx0ZXJFbnRpdHlTY2hlbWEgfSBmcm9tICcuLi9zY2hlbWEnO1xyXG5pbXBvcnQgeyBGaWx0ZXJJbmplY3RlZEVudGl0eSB9IGZyb20gJy4uL2luamVjdGVkLWVudGl0eSc7XHJcbmltcG9ydCB7Vmlld0VuY2Fwc3VsYXRpb259IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBOb3RpZnlTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1ub3RpZnknO1xyXG5pbXBvcnQgeyBGaWx0ZXJDb25kaXRpb25Mb2NhbGVQaXBlIH0gZnJvbSAnLi4vZmlsdGVyLWNvbmRpdGlvbi1sb2NhbGUucGlwZSc7XHJcbmltcG9ydCB7IE5ld1NjaGVtYSB9IGZyb20gJy4uL05ld1NjaGVtYSc7XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWZpbHRlci1jb25kaXRpb24nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9maWx0ZXItY29uZGl0aW9uLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9maWx0ZXItY29uZGl0aW9uLmNvbXBvbmVudC5jc3MnXSxcclxuICBwcm92aWRlcnM6IFtFeHByZXNzaW9uU2VydmljZV0sXHJcbiAgZW5jYXBzdWxhdGlvbjpWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbn0pXHJcbi8qKlxyXG4gKiDov4fmu6TmnaHku7blvLnlh7rmoYbpgLvovpHnsbtcclxuICovXHJcbmV4cG9ydCBjbGFzcyBGaWx0ZXJDb25kaXRpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIGxvY2FsZVBpcGU6IEZpbHRlckNvbmRpdGlvbkxvY2FsZVBpcGU7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBleHByOiBFeHByZXNzaW9uU2VydmljZSxcclxuICAgIHByaXZhdGUgbm90aWZ5c2VydmljZTpOb3RpZnlTZXJ2aWNlLFxyXG4gICAgQEluamVjdChMT0NBTEVfSUQpIGxvY2FsZUlkOnN0cmluZyxcclxuICAgICkge1xyXG4gICAgICBsb2NhbGVJZCA9ICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFuZ3VhZ2VDb2RlJyk7XHJcbiAgICAgIHRoaXMubG9jYWxlUGlwZSA9IG5ldyBGaWx0ZXJDb25kaXRpb25Mb2NhbGVQaXBlKGxvY2FsZUlkKTtcclxuICAgICB9XHJcbiAgXHJcbiAgdHJlZURhdGFUZW1wOiBUcmVlTm9kZVtdXHJcbiAgLy/ojrflvpfmoJHliJfooajnu4Tku7bmn4RcclxuICBAVmlld0NoaWxkKCd0dCcpIHR0OiBUcmVlVGFibGVDb21wb25lbnQ7XHJcbiAgLy/lhbPpl63nqpflj6Pkuovku7ZcclxuICBAT3V0cHV0KCkgY2xvc2VkID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XHJcbiAgQE91dHB1dCgpIHJlc3VsdCA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG4gIC8v6aKE572u6K6h566X6KGo6L6+5byP5LiK5LiL5paH5a6e5L2TXHJcbiAgQElucHV0KCkgY29udGV4dEVudGl0eTpWYXJFbnRpdHlbXSA9W107XHJcbiAgLy/pooTnva7orqHnrpfpu5jorqTooajovr7lvI/mmL7npLpcclxuICBASW5wdXQoKSBleHByZXNzaW9uVGV4dDogc3RyaW5nID0gXCJcIjtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j+S4reeahHNjaGVtYVxyXG4gIEBJbnB1dCgpIGV4cHJlc3Npb25TY2hlbWE6IEFycmF5PHsgbmFtZTogc3RyaW5nLCBzY2hlbWE6IFNjaGVtYSB9PiA9IFtdO1xyXG4gIC8v6aKE572u6K6h566X6KGo6L6+5byP5Lit55qE5rOo5YWl5a6e5L2TXHJcbiAgQElucHV0KCkgZXhwcmVzc2lvbkluamVjdGVkRW50aXRpZXM6IEluamVjdGVkRW50aXR5W10gPSBbXTtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j2NkdOmbhlxyXG4gIEBJbnB1dCgpIGV4cHJlc3Npb25DRFQ6IEdzcENvbW1vbkRhdGFUeXBlW10gPSBbXTtcclxuICAvL+mihOe9ruWxnuaAp+WIl+ihqFxyXG4gIEBJbnB1dCgpIHByb3BlcnR5TGlzdDogQXJyYXk8eyB0ZXh0OiBzdHJpbmcscHJvcGVydHlEYXRhVHlwZTpQcm9wZXJ0eURhdGFUeXBlLCB2YWx1ZTogc3RyaW5nLHBhcmVudEl0ZW06c3RyaW5nfT4gPSBbXTtcclxuICAvL+mihOe9rui/h+a7pOihqOi+vuW8j+S4slxyXG4gIEBJbnB1dCgpIGZpbHRlckV4cHJlc3Npb25TdHJpbmc6IHN0cmluZyA9IG51bGw7XHJcbiAgLy/pooTnva7ov4fmu6Tooajovr7lvI9zY2hlbWFcclxuICBASW5wdXQoKSBzY2hlbWFNYXAgPSBuZXcgTWFwPHN0cmluZyxGaWx0ZXJFbnRpdHlTY2hlbWE+KCk7XHJcbiAgLy89PT09PT09PT09PT09PeaWsOWKoOWFpeeahG5ld1NjaGVtYU1hcD09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy/pooTnva7ov4fmu6Tooajovr7lvI9uZXdTY2hlbWFcclxuICAgQElucHV0KCkgbmV3U2NoZW1hTWFwID0gbmV3IE1hcDxzdHJpbmcsTmV3U2NoZW1hPigpO1xyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvL+mihOe9rui/h+a7pOihqOi+vuW8j+azqOWFpeWunuS9k1xyXG4gIEBJbnB1dCgpIGluamVjdGVkRW50aXR5ID0gbmV3IEZpbHRlckluamVjdGVkRW50aXR5KCk7XHJcbiAgLy/pooTnva7orqHnrpfooajovr7lvI/lvLnlh7rmoYblrr3luqZcclxuICBASW5wdXQoKSBleHByV2luV2lkdGg6bnVtYmVyID04NTA7XHJcbiAgcG9wdXBTZXR0aW5ncz1cclxuICB7XHJcbiAgICBwb3B1cENsYXNzOlwibHBvcHVwXCJcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvcGVyYXRvclZpZXcgPSBbXTtcclxuICAvL+aTjeS9nOavlOi+g+espumbhlxyXG4gIHB1YmxpYyBvcGVyYXRvcnM9IFtdO1xyXG4gIFxyXG4gIHB1YmxpYyBzdHJpbmdPcGVyYXRvcnMgPSBbXTtcclxuXHJcbiAgcHVibGljIE51bWJlck9wZXJhdG9ycyA9IFtdO1xyXG4gIC8v5YWz57O76ZuGXHJcbiAgcHVibGljIHJlbGF0aW9ucyA9IFtdO1xyXG4gIC8v6KGo6L6+5byP57G75Z6L6ZuGXHJcbiAgcHVibGljIGV4cHJlc3NUeXBlcyA9ICBbXTtcclxuICBwdWJsaWMgZmlsdGVyRXhwcmVzc2lvbjogRmlsdGVyRXhwcmVzc2lvbjtcclxuICAvL+agkeW9oue7k+aehOiKgueCueWunuS9k+mbhlxyXG4gIHB1YmxpYyBub2RlVGVtcDogVHJlZU5vZGVbXTtcclxuICAvL+aTjeS9nOmAu+i+kembhum7mOiupOaYvuekuuWAvFxyXG4gIGRlZmF1bHRTZWxlY3RHcm91cDpzdHJpbmc7XHJcbiAgZGVmYXVsdFNlbGVjdEl0ZW06c3RyaW5nO1xyXG4gIC8v5pON5L2c5q+U6L6D56ym6buY6K6k5pi+56S65YC8XHJcbiAgcHVibGljIGRlZmF1bHRPcGVyYXRvclRleHQ6c3RyaW5nO1xyXG4gIC8v6KGo6L6+5byP57G75Z6L6buY6K6k5pi+56S65YC8XHJcbiAgcHVibGljIGRlZmF1bHRFeHByZXNzVHlwZVRleHQ6c3RyaW5nO1xyXG4gIC8v5Yik5pat5piv5ZCm5L+d5a2Y57yW6L6R5ZCO55qE6L+H5ruk6KGo6L6+5byPXHJcbiAgcHVibGljIGlzRWRpdGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgLy/pooTnva7ov4fmu6Tooajovr7lvI/kuLJcclxuICBwdWJsaWMgZmlsdGVyRXhwcmVzc2lvblByZTogRmlsdGVyRXhwcmVzc2lvbjtcclxuICBwdWJsaWMgZGlzcGxheVBvcHVwOmJvb2xlYW4gPSBmYWxzZTtcclxuICBjb2xzOmFueVtdO1xyXG4gIGdyb3VwSWNvbiA9ICc8c3BhbiBjbGFzcz1cImYtaWNvbiBmLWljb24td2luZG93c1wiPjwvc3Bhbj4nO1xyXG4gIHRyZWVEYXRhOiBUcmVlTm9kZVtdID0gW107XHJcbiAgIC8v5raI5oGv5o+Q56S6XHJcbiAgcHJpdmF0ZSBub3RpZmllcyA9IHt9OyAgXHJcbiAgcHJpdmF0ZSBpdGVtVmFsdWU6c3RyaW5nO1xyXG4gIC8v5Yid5aeL5YyW77yM5aSN5Yi2dHJlZURhdGHlgLwsdHJlZURhdGFUZW1w55So5LqO6L2s5o2i5Li6RmlsdGVyRXhwcmVzc2lvbuWunuS9k1xyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgLy/lubbkuJTmoJHlvaLooajnu5HlrprnmoTmmL7npLrnmoTliJcgXHJcbiAgICB0aGlzLmNvbHMgPSBbXHJcbiAgICAgIHsgZmllbGQ6ICdpdGVtJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJdGVtXCIpLCB3aWR0aDogMjcxIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdvcGVyYXRvcicsIHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3BlcmF0b3JcIiksIHdpZHRoOiAxOTEgfSxcclxuICAgICAgeyBmaWVsZDogJ2V4cHJlc3NUeXBlJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFeHByZXNzVHlwZVwiKSwgd2lkdGg6IDE4MCB9LFxyXG4gICAgICB7IGZpZWxkOiAndmFsdWUnLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpLCB3aWR0aDogMjE0IH0sXHJcbiAgICAgIHsgZmllbGQ6ICdvcGVyYXRpb24nLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9wZXJhdGlvblwiKSwgd2lkdGg6IDEzMH1dO1xyXG4gICAgaWYgKCEodGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nKSB8fCB0aGlzLmZpbHRlckV4cHJlc3Npb25TdHJpbmcgPT0gXCJcIikge1xyXG4gICAgICB0aGlzLnRyZWVEYXRhID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGE6XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogMSwgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgXCJpdGVtXCI6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIiksICAgICAgICAgICAgIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOm51bGwsICAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgICAgIFwib3BlcmF0b3JcIjogbnVsbCwgICAgICAgICAgIC8v5pON5L2c5q+U6L6D56ymXHJcbiAgICAgICAgICAgIFwiZXhwcmVzc1R5cGVcIjogbnVsbCwgICAgICAgIC8v6KGo6L6+5byP57G75Z6LXHJcbiAgICAgICAgICAgIFwidmFsdWVcIjogbnVsbCwgICAgICAgICAgICAgIC8v5YC8XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVNlbGVjdFwiOmZhbHNlLCAgICAgIC8v6YCJ5oup6aG55pi+56S6XHJcbiAgICAgICAgICAgIFwiZGlzcGxheU9wZXJhdG9yXCI6IGZhbHNlLCAgIC8v5pON5L2c56ym6aG55pi+56S6XHJcbiAgICAgICAgICAgIFwiZGlzcGxheUV4cHJlc3NUeXBlXCI6IGZhbHNlLC8v6KGo6L6+5byP57G75Z6L5pi+56S6XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVZhbHVlXCI6IGZhbHNlLCAgICAgIC8v5YC85pi+56S6XHJcbiAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOm51bGwgICAgICAgICAgIC8v54i25a2Q6aG5IFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgICAgICBleHBhbmRlZDogdHJ1ZSAgICAgICAgICAgICAgICAvL+aYr+WQpuWxleW8gFxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmZpbHRlckV4cHJlc3Npb25QcmUgPSBKU09OLnBhcnNlKHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZyk7XHJcbiAgICAgIHRoaXMudHJlZURhdGEucHVzaCh0aGlzLnVuQ29udmVydCh0aGlzLmZpbHRlckV4cHJlc3Npb25QcmUpKTtcclxuICAgICAgdGhpcy50cmVlRGF0YVswXS5kYXRhLmlkID0gMTtcclxuICAgIH1cclxuICAgIHRoaXMudHJlZURhdGFUZW1wID0gdGhpcy50cmVlRGF0YTtcclxuICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSAgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlNlbGVjdEl0ZW1cIik7XHJcbiAgICB0aGlzLmRlZmF1bHRFeHByZXNzVHlwZVRleHQgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIik7XHJcbiAgICB0aGlzLmRlZmF1bHRTZWxlY3RHcm91cD10aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpO1xyXG4gICAgdGhpcy5kZWZhdWx0T3BlcmF0b3JUZXh0ID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuXCIpO1xyXG4gICAgdGhpcy5ub3RpZmllcyA9IHtcclxuICAgICAgMTogeyB0eXBlOiAnc3VjY2VzcycsIG1zZzogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN1Y2Nlc3NcIil9LFxyXG4gICAgICAyOiB7IHR5cGU6ICd3YXJuaW5nJywgbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19TZWxlY3RSZWxhdGlvblwiKSB9LFxyXG4gICAgICAzOiB7IHR5cGU6ICd3YXJuaW5nJyxtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJXYXJuaW5nX0NvbnRhaW5zRmlsdGVyc1wiKSB9LFxyXG4gICAgICA0OiB7IHR5cGU6ICd3YXJuaW5nJyxtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJXYXJuaW5nX0NvbmRpdGlvbnNDb21wbGV0ZVwiKX0sXHJcbiAgICAgIDU6IHsgdHlwZTogJ3dhcm5pbmcnLG1zZzp0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19OdW1lcmljTWF0Y2hcIil9XHJcbiAgICB9OyAgXHJcbiAgICB0aGlzLmV4cHJlc3NUeXBlcyA9ICBbXHJcbiAgICAgIHtpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpfSxcclxuICAgICAge2lkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXhwcmVzc2lvblwiKX1cclxuICAgIF07XHJcbiAgICB0aGlzLnJlbGF0aW9ucyA9ICBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIil9LFxyXG4gICAgXTtcclxuICAgIHRoaXMub3BlcmF0b3JzID0gW1xyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5cIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuT3JFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJDb250YWluc1wiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RDb250YWluc1wiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdGFydHNXaXRoXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVuZHNXaXRoXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdFN0YXJ0c1dpdGhcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RW5kc1dpdGhcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOdWxsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTm90TnVsbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJblwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RJblwiKX0sXHJcbiAgICBdO1xyXG4gICAgdGhpcy5OdW1iZXJPcGVyYXRvcnMgPSBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhbk9yRXF1YWxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5cIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5PckVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVxdWFsXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIil9LFxyXG4gICAgXTtcclxuICAgIHRoaXMuc3RyaW5nT3BlcmF0b3JzID0gW1xyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90Q29udGFpbnNcIil9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3RhcnRzV2l0aFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFbmRzV2l0aFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RTdGFydHNXaXRoXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKX0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIil9LFxyXG4gICAgXTtcclxuICB9XHJcbiBcclxuXHJcbiAgLyoqXHJcbiAgICog5qCR5b2i6KGo5Lit6IqC54K56YCJ5oup6Kem5Y+R5Ye95pWwXHJcbiAgICogQHBhcmFtICRldmVudCDmiYDpgInoioLngrnkv6Hmga9cclxuICAgKi9cclxuICBub2RlU2VsZWN0ZWQoJGV2ZW50KSB7XHJcbiAgIFxyXG4gICAgLy/pmpDol4/mjonmiYDmnInnmoToioLngrnpgInmi6nnvJbovpHmoYbvvIzljIXmi6zlrZDoioLngrnnmoRcclxuICAgIHRoaXMuaGlkZU5vZGVFZGl0b3IodGhpcy50cmVlRGF0YSk7XHJcblxyXG4gICAgLy/lsIbmiYDpgInoioLngrnmr5TovoPpobnjgIHooajovr7lvI/nsbvlnovpobnjgIHlgLznvJbovpHmoYbmmL7npLrvvIzlubblsIbmiYDpgInlr7nlupTmlbDmja7otYvnu5npu5jorqTpobnov5vooYzmmL7npLogXHJcbiAgICB0aGlzLmRlZmF1bHRPcGVyYXRvclRleHQgPSAkZXZlbnQubm9kZS5kYXRhLm9wZXJhdG9yO1xyXG4gICAgdGhpcy5kZWZhdWx0RXhwcmVzc1R5cGVUZXh0ID0gJGV2ZW50Lm5vZGUuZGF0YS5leHByZXNzVHlwZTtcclxuICAgIGlmKCRldmVudC5ub2RlLmRhdGEuaXRlbT09dGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSB8fCAkZXZlbnQubm9kZS5kYXRhLml0ZW09PXRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJPclwiKSlcclxuICAgIHtcclxuICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0R3JvdXAgPSAkZXZlbnQubm9kZS5kYXRhLml0ZW07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKCRldmVudC5ub2RlLmRhdGEuaXRlbSE9PXRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKSlcclxuICAgIHtcclxuICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5TGlzdC5maWx0ZXIoeCA9PiB4LnRleHQgPT0gJGV2ZW50Lm5vZGUuZGF0YS5pdGVtKTtcclxuICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0SXRlbSA9IHByb3BlcnRpZXNbMF0udmFsdWU7XHJcblxyXG4gICAgICBpZihwcm9wZXJ0aWVzWzBdLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuU3RyaW5nKXtcclxuICAgICAgICB0aGlzLm9wZXJhdG9yVmlldyA9IHRoaXMuc3RyaW5nT3BlcmF0b3JzO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYocHJvcGVydGllc1swXS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkludDE2fHxcclxuICAgICAgcHJvcGVydGllc1swXS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkludDMyIHx8XHJcbiAgICAgIHByb3BlcnRpZXNbMF0ucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQ2NCB8fFxyXG4gICAgICBwcm9wZXJ0aWVzWzBdLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuRGVjaW1hbCB8fFxyXG4gICAgICBwcm9wZXJ0aWVzWzBdLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuRG91YmxlKXtcclxuICAgICAgICB0aGlzLm9wZXJhdG9yVmlldyA9IHRoaXMuTnVtYmVyT3BlcmF0b3JzO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgdGhpcy5vcGVyYXRvclZpZXcgPSB0aGlzLm9wZXJhdG9ycztcclxuICAgIH1cclxuICAgXHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlPcGVyYXRvciA9IHRydWU7XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlFeHByZXNzVHlwZSA9IHRydWU7XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlWYWx1ZSA9IHRydWU7XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlTZWxlY3QgPSB0cnVlO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICog6ZqQ6JeP5o6J5omA5pyJ55qE6IqC54K56YCJ5oup57yW6L6R5qGG77yM5YyF5ous5a2Q6IqC54K555qEXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKi9cclxuICBoaWRlTm9kZUVkaXRvcih0cmVlTm9kZXM6IFRyZWVOb2RlW10pIHtcclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICBlbGVtZW50LmRhdGEuZGlzcGxheU9wZXJhdG9yID0gZmFsc2U7XHJcbiAgICAgIGVsZW1lbnQuZGF0YS5kaXNwbGF5RXhwcmVzc1R5cGUgPSBmYWxzZTtcclxuICAgICAgZWxlbWVudC5kYXRhLmRpc3BsYXlWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICBlbGVtZW50LmRhdGEuZGlzcGxheVNlbGVjdCA9IGZhbHNlO1xyXG4gICAgICAvL+iLpeacieWtkOiKgueCue+8jOWImeWwhuWFtuWtkOiKgueCueeahOe8lui+kemAieaLqeahhumakOiXj1xyXG4gICAgICBpZiAoKGVsZW1lbnQuY2hpbGRyZW4pICYmIGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLmhpZGVOb2RlRWRpdG9yKGVsZW1lbnQuY2hpbGRyZW4pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8qKipcclxuICAgKiDpgInmi6npgLvovpHpm4bml7ZcclxuICAgKi9cclxuICBzZWxlY3RHcm91cCgkZXZlbnQpXHJcbiAge1xyXG4gICAgdGhpcy5wcm9wZXJ0eU5vZGVPcGVyYXRlKCRldmVudCwgdGhpcy50cmVlRGF0YSwgRmllbGRUeXBlLkdyb3VwKTtcclxuICB9XHJcbiAgLyoqKlxyXG4gICAqIOmAieaLqemhueaXtlxyXG4gICAqL1xyXG4gIHNlbGVjdEl0ZW0oJGV2ZW50KVxyXG4gIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5JdGVtKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6YCJ5oup5q+U6L6D5pON5L2c56ym5pe2XHJcbiAgICogQHBhcmFtICRldmVudCDmr5TovoPmk43kvZzpobnkv6Hmga9cclxuICAgKi9cclxuICBzZWxlY3RPcGVyYXRvcigkZXZlbnQpIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5PcGVyYXRpb24pO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICog6YCJ5oup5YC857G75Z6L5pe2XHJcbiAgICogQHBhcmFtICRldmVudCDlgLznsbvlnovpobnkv6Hmga9cclxuICAgKi9cclxuICBzZWxlY3RFeHByZXNzVHlwZSgkZXZlbnQpIHtcclxuICAgIHRoaXMucHJvcGVydHlOb2RlT3BlcmF0ZSgkZXZlbnQsIHRoaXMudHJlZURhdGEsIEZpZWxkVHlwZS5WYWx1ZXR5cGUpXHJcbiAgfTtcclxuICAvKipcclxuICAgKiDpgInmi6nnu5PmnZ/lkI7pmpDol4/or6XlrZfmrrXpgInmi6nmoYZcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqIEBwYXJhbSBmaWVsZFR5cGUg5omA6YCJ5a2X5q61XHJcbiAgICovXHJcbiAgaGlkZUZpZWxkRWRpdG9yKHRyZWVOb2RlczogVHJlZU5vZGVbXSwgZmllbGRUeXBlOiBGaWVsZFR5cGUpIHtcclxuICAgIC8v5om+5Yiw5omA5pON5L2c55qE6IqC54K577yM5qC55o2u5omA6YCJ5oup55qE5a2X5q615bCG5a+55bqU6YCJ5oup57yW6L6R5qGG6ZqQ6JePXHJcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCh0cmVlTm9kZSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnR0LmlzU2VsZWN0ZWQodHJlZU5vZGUpKSB7XHJcbiAgICAgICAgc3dpdGNoIChmaWVsZFR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLkl0ZW06dHJlZU5vZGUuZGF0YS5kaXNwbGF5U2VsZWN0ID0gZmFsc2U7YnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5PcGVyYXRpb246IHRyZWVOb2RlLmRhdGEuZGlzcGxheU9wZXJhdG9yID0gZmFsc2U7IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuVmFsdWV0eXBlOiB0cmVlTm9kZS5kYXRhLmRpc3BsYXlFeHByZXNzVHlwZSA9IGZhbHNlOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8v6Iul5pyq5om+5Yiw5omA6YCJ6IqC54K577yM5YiZ5om+5YW25a2Q6IqC54K5XHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlTm9kZS5jaGlsZHJlbikgJiYgdHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLmhpZGVGaWVsZEVkaXRvcih0cmVlTm9kZS5jaGlsZHJlbiwgZmllbGRUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOaJk+W8gOiuoeeul+ihqOi+vuW8j+e8lui+keWZqFxyXG4gICAqL1xyXG4gIG9wZW5FeHByZXNzRWRpdG9yKCkge1xyXG4gICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgLy/pooTnva7orqHnrpfooajovr7lvI/lvLnlh7rmoYblrr3luqZcclxuICAgIC8vdGhpcy5leHByLmFkZFdpbmRvd1dpZHRoKHRoaXMuZXhwcldpbldpZHRoKTtcclxuICAgIC8v5re75Yqg6aKE572u5LiK5LiL5paH5Y+Y6YePXHJcbiAgICBpZih0aGlzLmNvbnRleHRFbnRpdHkgJiYgdGhpcy5jb250ZXh0RW50aXR5Lmxlbmd0aCE9MClcclxuICAgIHtcclxuICAgICAgdGhpcy5jb250ZXh0RW50aXR5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5leHByLmFkZENvbnRleHQoZWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvL+a3u+WKoOmihOe9ruihqOi+vuW8j+aWh+acrFxyXG4gICAgbGV0IHNlbGVjdE5vZGUgPSB0aGlzLmlzU2VsZWN0ZWQodGhpcy50cmVlRGF0YSk7XHJcbiAgICBpZigoc2VsZWN0Tm9kZSkgJiYgKHNlbGVjdE5vZGUuZGF0YS52YWx1ZSE9XCJcIikgJiYgKHNlbGVjdE5vZGUuZGF0YS52YWx1ZSE9bnVsbCkpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuZXhwci5hZGRFeHByZXNzaW9uVGV4dChzZWxlY3ROb2RlLmRhdGEudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQodGhpcy5leHByZXNzaW9uVGV4dCk7XHJcbiAgICAvL+a3u+WKoOazqOWFpeWunuS9k1xyXG4gICAgdGhpcy5leHByZXNzaW9uSW5qZWN0ZWRFbnRpdGllcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICB0aGlzLmV4cHIuYWRkSW5qZWN0ZWRFbnRpdHkoZWxlbWVudC5uYW1lLCBlbGVtZW50LnNjaGVtYU5hbWUsIGVsZW1lbnQuaW5qZWN0ZWROYW1lLCBlbGVtZW50LmluamVjdGVkVHlwZSk7XHJcbiAgICB9KTtcclxuICAgIC8v5re75Yqgc2NoZW1hXHJcbiAgICB0aGlzLmV4cHJlc3Npb25TY2hlbWEuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgdGhpcy5leHByLmFkZFNjaGVtYShlbGVtZW50Lm5hbWUsIGVsZW1lbnQuc2NoZW1hKTtcclxuICAgIH0pO1xyXG4gICAgLy/mt7vliqBjZHRcclxuICAgIHRoaXMuZXhwci5hZGRDRFQodGhpcy5leHByZXNzaW9uQ0RUKTtcclxuICAgIC8v5omT5byA6KGo6L6+5byP57yW6L6R5Zmo5bm26L+U5Zue57yW6L6R57uT5p6cXHJcbiAgICB0aGlzLmV4cHIuYnVpbGRFeHByZXNzaW9uKCkudGhlbihpbmZvID0+IHtcclxuICAgICAgbGV0IGV4cHJlc3NJbmZvOiBhbnkgPSBpbmZvO1xyXG4gICAgICB0aGlzLmRpc3BsYXlFeHByZXNzUmVzdWx0KHRoYXQudHJlZURhdGEsIGV4cHJlc3NJbmZvKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAgLyoqXHJcbiAgICog6YCJ5Lit6IqC54K56YCJ5oupXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDlhbPns7vnu4RcclxuICAgKi9cclxuICBpc1NlbGVjdGVkKHRyZWVOb2RlczpUcmVlTm9kZVtdKTphbnlcclxuICB7XHJcbiAgICBsZXQgdHJlZU5vZGU6VHJlZU5vZGU7XHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdHJlZU5vZGVzLmxlbmd0aDsgaSArKylcclxuICAgIHtcclxuICAgICAgaWYgKHRoaXMudHQuaXNTZWxlY3RlZCh0cmVlTm9kZXNbaV0pKSB7XHJcbiAgICAgICAgdHJlZU5vZGUgPSB0cmVlTm9kZXNbaV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgLy/oi6XlnKjor6XlsYLoioLngrnkuK3mnKrmib7liLDmiYDpgInoioLngrnvvIzliJnmib7lhbblrZDoioLngrlcclxuICAgICAgZWxzZSBpZiAoKHRyZWVOb2Rlc1tpXS5jaGlsZHJlbikgJiYgdHJlZU5vZGVzW2ldLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdHJlZU5vZGUgPSB0aGlzLmlzU2VsZWN0ZWQodHJlZU5vZGVzW2ldLmNoaWxkcmVuKTtcclxuICAgICAgICBpZigodHJlZU5vZGUpKSBicmVhazsgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cmVlTm9kZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5bCG6K6h566X6KGo6L6+5byP57uT5p6c5bGV56S65Yiw5a+55bqU6IqC54K5XHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZXhwcmVzc0luZm8g6K6h566X6KGo6L6+5byP5b6X5Yiw57uT5p6cXHJcbiAgICovXHJcbiAgZGlzcGxheUV4cHJlc3NSZXN1bHQodHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBleHByZXNzSW5mbzogc3RyaW5nKSB7XHJcbiAgICAvL+aJvuWIsOaJgOmAieiKgueCueWunuS9k++8jOW5tuWwhuiuoeeul+ihqOi+vuW8j+aJgOW+l+e7k+aenOi1i+e7meWvueW6lOWxnuaAp+i/m+ihjOaYvuekulxyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2RlKSkge1xyXG4gICAgICAgIHRyZWVOb2RlLmRhdGEudmFsdWUgPSBleHByZXNzSW5mbztcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy/oi6XlnKjor6XlsYLoioLngrnkuK3mnKrmib7liLDmiYDpgInoioLngrnvvIzliJnmib7lhbblrZDoioLngrlcclxuICAgICAgZWxzZSBpZiAoKHRyZWVOb2RlLmNoaWxkcmVuKSAmJiB0cmVlTm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheUV4cHJlc3NSZXN1bHQodHJlZU5vZGUuY2hpbGRyZW4sIGV4cHJlc3NJbmZvKTtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeS7jeacquaJvuWIsO+8jOWImeS4jei/m+ihjOS7u+S9leaTjeS9nFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWFs+ezu+mAieaLqeaMiemSrumAieaLqeS6i+S7tlxyXG4gICAqIEBwYXJhbSAkZXZlbnQg6YCJ5oup5oyJ6ZKu5omA6YCJ5L+h5oGvXHJcbiAgICovXHJcbiAgaXRlbUNsaWNrKCRldmVudCkge1xyXG4gICAgLy/oi6XpgInmi6nmt7vliqDlhbPns7tcclxuICAgIGlmICgkZXZlbnQudmFsdWUgPT0gUmVsYXRpb25UeXBlRW51bS5BZGRSZWxhdGlvbikge1xyXG4gICAgICB0aGlzLmFkZE5vZGUodGhpcy50cmVlRGF0YSx0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpLG51bGwsbnVsbCk7XHJcbiAgICB9XHJcbiAgICAvL+iLpemAieaLqea3u+WKoOWxnuaAp1xyXG4gICAgZWxzZSBpZiAoJGV2ZW50LnZhbHVlID09IFJlbGF0aW9uVHlwZUVudW0uQWRkUHJvcGVydHkpIHtcclxuICAgICAgdGhpcy5hZGROb2RlKHRoaXMudHJlZURhdGEsIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKSx0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIiksdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpKTtcclxuICAgIH1cclxuICAgIGVsc2UgdGhpcy5wcm9wZXJ0eU5vZGVPcGVyYXRlKCRldmVudCwgdGhpcy50cmVlRGF0YSwgRmllbGRUeXBlLkl0ZW0pO1xyXG4gIH1cclxuIFxyXG4gIC8qKlxyXG4gICAqIOmAieaLqeWxnuaAp+iKgueCueaTjeS9nFxyXG4gICAqIOWvueaWsOa3u+WKoOeahOWxnuaAp+iKgueCuei/m+ihjOmAu+i+keWkhOeQhlxyXG4gICAqIEBwYXJhbSB2YWx1ZSBcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqIEBwYXJhbSBmaWVsZFR5cGUg6IqC54K557G75Z6LXHJcbiAgICovXHJcbiAgcHJvcGVydHlOb2RlT3BlcmF0ZShldmVudDogYW55LCB0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGZpZWxkVHlwZTogRmllbGRUeXBlKSB7XHJcbiAgICB0cmVlTm9kZXMuZm9yRWFjaCh0cmVlbm9kZSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnR0LmlzU2VsZWN0ZWQodHJlZW5vZGUpKSB7XHJcbiAgICAgICAgLy/lr7nmiYDpgInoioLngrnov5vooYzotYvlgLzmk43kvZxcclxuICAgICAgICBzd2l0Y2ggKGZpZWxkVHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuR3JvdXA6XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEuaXRlbSA9IGV2ZW50LmRhdGEuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEdyb3VwID0gZXZlbnQuZGF0YS5pZDtcclxuICAgICAgICAgIH1icmVhaztcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLkl0ZW06IFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLml0ZW0gPWV2ZW50LmRhdGEudGV4dDtcclxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0SXRlbSA9IGV2ZW50LmRhdGEudmFsdWU7XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucGFyZW50SXRlbSA9IGV2ZW50LmRhdGEucGFyZW50SXRlbTtcclxuICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5wcm9wZXJ0eURhdGFUeXBlID0gZXZlbnQuZGF0YS5wcm9wZXJ0eURhdGFUeXBlO1xyXG5cclxuICAgICAgICAgICAgaWYodHJlZW5vZGUuZGF0YS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLlN0cmluZyl7XHJcbiAgICAgICAgICAgICAgdGhpcy5vcGVyYXRvclZpZXcgPSB0aGlzLnN0cmluZ09wZXJhdG9ycztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQxNiB8fFxyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuSW50MzIgfHxcclxuICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkludDY0IHx8XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5EZWNpbWFsIHx8XHJcbiAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5Eb3VibGUpe1xyXG4gICAgICAgICAgICAgIHRoaXMub3BlcmF0b3JWaWV3ID0gdGhpcy5OdW1iZXJPcGVyYXRvcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aGlzLm9wZXJhdG9yVmlldyA9IHRoaXMub3BlcmF0b3JzO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuT3BlcmF0aW9uOiBcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5vcGVyYXRvciA9IGV2ZW50LmRhdGEuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdE9wZXJhdG9yVGV4dCA9IGV2ZW50LmRhdGEuaWQ7ICAgICAgICBcclxuICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5WYWx1ZXR5cGU6IFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0cmVlbm9kZS5kYXRhLmV4cHJlc3NUeXBlID0gZXZlbnQuZGF0YS5pZDsgXHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEV4cHJlc3NUeXBlVGV4dCA9IGV2ZW50LmRhdGEuaWQ7ICAgICAgICAgIFxyXG4gICAgICAgICAgfSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8v5ZCm5YiZ5a+55YW25a2Q6IqC54K56L+b6KGM6LWL5YC85pON5L2cXHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlbm9kZS5jaGlsZHJlbikgJiYgdHJlZW5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoZXZlbnQsIHRyZWVub2RlLmNoaWxkcmVuLCBmaWVsZFR5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5qC55o2u5omA6YCJ5Li65YWz57O75oiW6ICF5bGe5oCn5a+55paw6IqC54K56L+b6KGM5Yid5aeL5YyWXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZGVmYXVsdFN0cmluZyDmlrDoioLngrnmmL7npLrpu5jorqTlgLxcclxuICAgKi9cclxuICBhZGROb2RlKHRyZWVOb2RlczogVHJlZU5vZGVbXSwgZGVmYXVsdFN0cmluZzogYW55LGRlZmF1bHRPcGVyYXRvcjpzdHJpbmcsZGVmYWx1dEV4cHJlc3NUeXBlOnN0cmluZylcclxuICAge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2RlKSkge1xyXG4gICAgICAgIC8v6Iul5YWz57O75YC85Li656m6XHJcbiAgICAgICAgaWYoISh0cmVlTm9kZS5kYXRhLml0ZW0pKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWycyJ10udHlwZV0oe1xyXG4gICAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzInXS5tc2dcclxuICAgICAgICAgIH0pOyAgXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6Iul5Li65omA6YCJ55qE5YWz57O76IqC54K577yM5YiZ5Zyo5YW25a2Q6aG56YeM5re75Yqg5paw5a2Q6IqC54K5XHJcbiAgICAgICAgbGV0IG5ld05vZGU6IFRyZWVOb2RlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcIml0ZW1cIjogZGVmYXVsdFN0cmluZyxcclxuICAgICAgICAgICAgXCJwcm9wZXJ0eURhdGFUeXBlXCI6bnVsbCwgICAgLy/lsZ7mgKfmlbDmja7nsbvlnotcclxuICAgICAgICAgICAgXCJvcGVyYXRvclwiOiBkZWZhdWx0T3BlcmF0b3IsXHJcbiAgICAgICAgICAgIFwiZXhwcmVzc1R5cGVcIjogZGVmYWx1dEV4cHJlc3NUeXBlLFxyXG4gICAgICAgICAgICBcInZhbHVlXCI6IG51bGwsXHJcbiAgICAgICAgICAgIFwiaWRcIjogTWF0aC5yYW5kb20oKSxcclxuICAgICAgICAgICAgXCJwYXJlbnRJdGVtXCI6bnVsbCAgICAgIFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBhcmVudDogdHJlZU5vZGUsXHJcbiAgICAgICAgICBjaGlsZHJlbjogW10sXHJcbiAgICAgICAgICBleHBhbmRlZDogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy/lkJHor6XmiYDpgInoioLngrnnmoTlrZDpobnmt7vliqDmlrDoioLngrlcclxuICAgICAgICB0cmVlTm9kZS5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeacquaJvuWIsOaJgOmAieiKgueCue+8jOS4lOivpeiKgueCueWtkOmhueS4jeS4uuepuu+8jOWImeWcqOWFtuWtkOmhueS4reafpeaJvuaJgOmAieiKgueCuVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5hZGROb2RlKHRyZWVOb2RlLmNoaWxkcmVuLCBkZWZhdWx0U3RyaW5nLGRlZmF1bHRPcGVyYXRvcixkZWZhbHV0RXhwcmVzc1R5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMudHQudXBkYXRlU2VyaWFsaXplZFZhbHVlKCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWIoOmZpOiKgueCuVxyXG4gICAqIEBwYXJhbSB0cmVlTm9kZSDopoHliKDpmaTnmoToioLngrlcclxuICAgKi9cclxuICBkZWxldGVOb2RlKCRldmVudCkge1xyXG4gICAgdGhpcy5vbkRlbGV0ZSh0aGlzLnRyZWVEYXRhLCRldmVudCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWIoOmZpOiKgueCueWFt+S9k+WunueOsOexu1xyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5qCR5b2i6KGo57uR5a6a57uT5p6EXHJcbiAgICovXHJcbiAgb25EZWxldGUodHJlZU5vZGVzOiBUcmVlTm9kZVtdLGlkOm51bWJlcikge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodHJlZU5vZGUuZGF0YS5pZD09aWQpIHtcclxuICAgICAgICBpZih0cmVlTm9kZS5kYXRhLmlkPT0xKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMudHJlZURhdGEgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiaWRcIjogMSwgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOm51bGwsICAgIC8v5bGe5oCn5pWw5o2u57G75Z6LXHJcbiAgICAgICAgICAgICAgICBcIml0ZW1cIjogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSwgICAgICAgICAgICAgIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgICAgICAgICBcIm9wZXJhdG9yXCI6IG51bGwsICAgICAgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICAgICAgXCJleHByZXNzVHlwZVwiOiBudWxsLCAgICAgICAgLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogbnVsbCwgICAgICAgICAgICAgIC8v5YC8XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlTZWxlY3RcIjpmYWxzZSwgICAgICAvL+mAieaLqemhueaYvuekulxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5T3BlcmF0b3JcIjogZmFsc2UsICAgLy/mk43kvZznrKbpobnmmL7npLpcclxuICAgICAgICAgICAgICAgIFwiZGlzcGxheUV4cHJlc3NUeXBlXCI6IGZhbHNlLC8v6KGo6L6+5byP57G75Z6L5pi+56S6XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlWYWx1ZVwiOiBmYWxzZSwgICAgICAvL+WAvOaYvuekulxyXG4gICAgICAgICAgICAgICAgXCJwYXJlbnRJdGVtXCI6bnVsbCAgICAgICAgICAgLy/niLbpoblcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgICAgICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/miYDpgInoioLngrnmiYDlnKjmlbBcclxuICAgICAgICBsZXQgaW5kZXggPSB0cmVlTm9kZXMuaW5kZXhPZih0cmVlTm9kZSk7XHJcbiAgICAgICAgLy/lsIbmiYDpgInoioLngrnliZTpmaRcclxuICAgICAgICB0cmVlTm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdHJlZU5vZGUuY2hpbGRyZW4gPSB0aGlzLm9uRGVsZXRlKHRyZWVOb2RlLmNoaWxkcmVuLGlkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnR0LnVwZGF0ZVNlcmlhbGl6ZWRWYWx1ZSgpO1xyXG4gICAgcmV0dXJuIHRyZWVOb2RlcztcclxuICB9XHJcbiAgLyoqXHJcbiAgICog56Gu5a6aXHJcbiAgICog55Sf5oiQ6L+H5ruk6KGo6L6+5byPXHJcbiAgICovXHJcbiAgb25Db25maXJtKCkge1xyXG4gICAgdGhpcy50cmVlRGF0YVRlbXAgPSB0aGlzLnRyZWVEYXRhO1xyXG4gICAgbGV0IGlzTnVsbCA9IHRydWU7XHJcbiAgICBsZXQgaXNNYXRjaCA9IHRydWU7XHJcbiAgICBpZih0aGlzLmNoZWNrTnVsbCh0aGlzLnRyZWVEYXRhVGVtcFswXS5jaGlsZHJlbixpc051bGwpICYmIHRoaXMuY2hlY2tNYXRjaCh0aGlzLnRyZWVEYXRhVGVtcFswXS5jaGlsZHJlbiwgaXNNYXRjaCkpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuZmlsdGVyRXhwcmVzc2lvbiA9IG5ldyBGaWx0ZXJFeHByZXNzaW9uKCk7XHJcbiAgICAgIC8v5qC55o2u5qCR5b2i5pWw5o2u57uT5p6E6L2s5YyW5Li66L+H5ruk6KGo6L6+5byP5a6e5L2TXHJcbiAgICAgIHRoaXMuY29udmVydCh0aGlzLmZpbHRlckV4cHJlc3Npb24sIHRoaXMudHJlZURhdGFUZW1wWzBdKTtcclxuICAgICAgdGhpcy5pc0VkaXRlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWycxJ10udHlwZV0oe1xyXG4gICAgICAgIG1zZzogdGhpcy5ub3RpZmllc1snMSddLm1zZ1xyXG4gICAgICB9KTsgIFxyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuY2xvc2VkLmVtaXQoXCJjbG9zZVwiKTtcclxuICAgIH1cclxuICAgXHJcbiAgfVxyXG4gIC8v6YCS5b2S5qOA5p+l5pW05Liq6L+H5ruk6KGo6L6+5byP5piv5ZCm5pyJ5ryP5aGr55qE6aG5XHJcbiAgY2hlY2tOdWxsKHRyZWVOb2RlczpUcmVlTm9kZVtdLGlzTnVsbDpib29sZWFuKTpib29sZWFuXHJcbiAge1xyXG4gICAgZm9yKHZhciBpPTA7aTx0cmVlTm9kZXMubGVuZ3RoO2krKylcclxuICAgIHtcclxuICAgICAgaWYodHJlZU5vZGVzW2ldLmRhdGEuaXRlbSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQW5kXCIpIHx8IHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0gPT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9yXCIpKVxyXG4gICAgICB7XHJcbiAgICAgICAgaWYoISh0cmVlTm9kZXNbaV0uY2hpbGRyZW4pIHx8IHRyZWVOb2Rlc1tpXS5jaGlsZHJlbi5sZW5ndGg9PTApIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWyczJ10udHlwZV0oe1xyXG4gICAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzMnXS5tc2dcclxuICAgICAgICAgIH0pOyAgXHJcbiAgICAgICAgICBpc051bGwgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCF0aGlzLmNoZWNrTnVsbCh0cmVlTm9kZXNbaV0uY2hpbGRyZW4saXNOdWxsKSkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaXNOdWxsID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZVxyXG4gICAgICB7XHJcbiAgICAgICAgaWYoISh0cmVlTm9kZXNbaV0uZGF0YS5pdGVtKSB8fCB0cmVlTm9kZXNbaV0uZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKVxyXG4gICAgICAgIHx8ICEodHJlZU5vZGVzW2ldLmRhdGEub3BlcmF0b3IpIHx8ICEodHJlZU5vZGVzW2ldLmRhdGEuZXhwcmVzc1R5cGUpIFxyXG4gICAgICAgIHx8IHRyZWVOb2Rlc1tpXS5kYXRhLnZhbHVlPT1udWxsIHx8IHRyZWVOb2Rlc1tpXS5kYXRhLnZhbHVlPT11bmRlZmluZWQpXHJcbiAgICAgICB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlzZXJ2aWNlW3RoaXMubm90aWZpZXNbJzQnXS50eXBlXSh7XHJcbiAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzQnXS5tc2dcclxuICAgICAgICB9KTsgIFxyXG4gICAgICAgICBpc051bGwgPSBmYWxzZTtcclxuICAgICAgICAgYnJlYWs7XHJcbiAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpc051bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDph43nva5cclxuICAgKiDph43nva7kuLrliJ3lp4vnirbmgIFcclxuICAgKi9cclxuICBvbkNhbmNlbCgpIHtcclxuICAgIHRoaXMuaXNFZGl0ZWQgPSBmYWxzZTtcclxuICAgIGlmKHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZyA9PSBudWxsIHx8IHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZyA9PVwiXCIpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMudHJlZURhdGEgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZGF0YTpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgXCJpZFwiOiAxLCAgICAgICAgICAgICAgICAgICAgLy/moJHlvaLnu5PmnoTkuK3mr4/kuKroioLngrnnmoRpZFxyXG4gICAgICAgICAgICBcIml0ZW1cIjogbnVsbCwgICAgICAgICAgICAgICAvL+WxnuaAp+mhuVxyXG4gICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjpudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgICAgICBcIm9wZXJhdG9yXCI6IG51bGwsICAgICAgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IG51bGwsICAgICAgICAvL+ihqOi+vuW8j+exu+Wei1xyXG4gICAgICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgICAgICBcImRpc3BsYXlTZWxlY3RcIjpmYWxzZSwgICAgICAvL+mAieaLqemhueaYvuekulxyXG4gICAgICAgICAgICBcImRpc3BsYXlPcGVyYXRvclwiOiBmYWxzZSwgICAvL+aTjeS9nOespumhueaYvuekulxyXG4gICAgICAgICAgICBcImRpc3BsYXlFeHByZXNzVHlwZVwiOiBmYWxzZSwvL+ihqOi+vuW8j+exu+Wei+aYvuekulxyXG4gICAgICAgICAgICBcImRpc3BsYXlWYWx1ZVwiOiBmYWxzZSwgICAgICAvL+WAvOaYvuekulxyXG4gICAgICAgICAgICBcInBhcmVudEl0ZW1cIjpudWxsICAgICAgICAgICAvL+eItumhuVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgICAgICBleHBhbmRlZDogdHJ1ZSAgICAgICAgICAgICAgICAvL+aYr+WQpuWxleW8gFxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuICAgIH1cclxuICAgIGVsc2UgXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuZmlsdGVyRXhwcmVzc2lvblByZSA9IEpTT04ucGFyc2UodGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nKTtcclxuICAgICAgdGhpcy50cmVlRGF0YSA9IFtdO1xyXG4gICAgICB0aGlzLnRyZWVEYXRhLnB1c2godGhpcy51bkNvbnZlcnQodGhpcy5maWx0ZXJFeHByZXNzaW9uUHJlKSk7XHJcbiAgICAgIHRoaXMudHJlZURhdGFbMF0uZGF0YS5pZCA9IDE7XHJcbiAgICB9XHJcbiAgfVxyXG4gICAvKirlj5bmtoggKi9cclxuICAgY2FuY2xlKClcclxuICAge1xyXG4gICAgIHRoaXMuY2xvc2VkLmVtaXQoXCJjbG9zZVwiKTtcclxuICAgfVxyXG4gIC8qKlxyXG4gICAqIOWFs+mXreeql+WPo1xyXG4gICAqL1xyXG4gIGNsb3NlKCkge1xyXG4gICAgaWYgKHRoaXMuaXNFZGl0ZWQgPT0gdHJ1ZSkge1xyXG4gICAgICAvL+iLpeWPquWMheWQq+WFs+ezu+mhueWImei/lOWbnuepulxyXG4gICAgICBpZih0aGlzLmZpbHRlckV4cHJlc3Npb24uZXhwcmVzc0l0ZW1zLmxlbmd0aD09MCkgdGhpcy5yZXN1bHQubmV4dChudWxsKTtcclxuICAgICAgLy/oi6XmnIDlkI7kuIDmrKHngrnkuobnoa7lrprvvIzliJnlsIbov4fmu6Tooajovr7lvI9KU09O5bqP5YiX5YyW6L6T5Ye6XHJcbiAgICAgIGVsc2UgdGhpcy5yZXN1bHQubmV4dChKU09OLnN0cmluZ2lmeSh0aGlzLmZpbHRlckV4cHJlc3Npb24pKTtcclxuICAgIH1cclxuICAgIC8v6Iul5pyq54K556Gu5a6a77yM6buY6K6k5peg5Lu75L2V57yW6L6R5paH5pys77yM5YiZ6L6T5Ye656m65LiyXHJcbiAgICBlbHNlIHRoaXMucmVzdWx0Lm5leHQodGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5bCGdHJlZURhdGHovazljJbkuLpmaWxldHJFeHByZXNzaW9u5a6e5L2TXHJcbiAgICogQHBhcmFtIGZpbHRlckV4cHJlc3Npb24g6L+H5ruk6KGo6L6+5byP5a6e5L2TXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlIOacgOWkluWxgueahHRyZWVOb2RlXHJcbiAgICovXHJcbiAgY29udmVydChmaWx0ZXJFeHByZXNzaW9uOiBGaWx0ZXJFeHByZXNzaW9uLCB0cmVlTm9kZTogVHJlZU5vZGUpOiBGaWx0ZXJFeHByZXNzaW9uIHtcclxuICAgIC8v5b6X5Yiw5pyA5aSW5bGC55qE5YWz57O756ymXHJcbiAgICBmaWx0ZXJFeHByZXNzaW9uLnJlbGF0aW9uT3BlcmF0b3IgPSB0aGlzLnR5cGVNYXRjaCh0cmVlTm9kZS5kYXRhLml0ZW0pO1xyXG4gICAgLy/oi6XlhbblrZDpobnkuI3kuLrnqbpcclxuICAgIGlmICh0cmVlTm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAvL+WvueWFtuavj+S4gOS4quWtkOmhuei/m+ihjOi9rOWMluaTjeS9nFxyXG4gICAgICB0cmVlTm9kZS5jaGlsZHJlbi5mb3JFYWNoKHRyZWVOb2RlSXRlbSA9PiB7XHJcbiAgICAgICAgLy/oi6XlrZDpobnkuLrlubbkuJTjgIHmiJbogIXvvIzliJnmlrDlu7rlpI3mnYLov4fmu6Tooajovr7lvI9cclxuICAgICAgICBpZiAodGhpcy50eXBlTWF0Y2godHJlZU5vZGVJdGVtLmRhdGEuaXRlbSkgPT0gUmVsYXRpb25UeXBlRW51bS5BbmQgfHxcclxuICAgICAgICAgIHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLml0ZW0pID09IFJlbGF0aW9uVHlwZUVudW0uT3IpIHtcclxuICAgICAgICAgIGxldCBmaWx0ZXJFeHByZXNzaW9uSXRlbSA9IG5ldyBGaWx0ZXJFeHByZXNzaW9uKCk7XHJcbiAgICAgICAgICBmaWx0ZXJFeHByZXNzaW9uLmV4cHJlc3NJdGVtcy5wdXNoKHRoaXMuY29udmVydChmaWx0ZXJFeHByZXNzaW9uSXRlbSwgdHJlZU5vZGVJdGVtKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v6Iul5a2Q6aG55Li65bGe5oCn6KGo6L6+5byPXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBsZXQgZmlsdGVySXRlbSA9IG5ldyBFeHByZXNzaW9uSXRlbSgpO1xyXG4gICAgICAgICAgLy/moLnmja7lsZ7mgKflkI3lsZXnpLrlgLzmib7liLDlhbblnKjpooTnva7liJfooajkuK3nmoTor63kuYnljJblgLzvvIzlsIbor63kuYnljJblgLzotYvnu5nlrp7kvZPkv53lrZhcclxuICAgICAgICAgIGxldCBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0eUxpc3QuZmlsdGVyKHggPT4geC50ZXh0ID09IHRyZWVOb2RlSXRlbS5kYXRhLml0ZW0pO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0aWVzWzBdLnZhbHVlO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID0gdHJlZU5vZGVJdGVtLmRhdGEucHJvcGVydHlEYXRhVHlwZTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0ub3BlcmF0b3IgPSB0aGlzLnR5cGVNYXRjaCh0cmVlTm9kZUl0ZW0uZGF0YS5vcGVyYXRvcik7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLmV4cHJlc3NUeXBlID0gdGhpcy50eXBlTWF0Y2godHJlZU5vZGVJdGVtLmRhdGEuZXhwcmVzc1R5cGUpO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS52YWx1ZSA9IHRyZWVOb2RlSXRlbS5kYXRhLnZhbHVlO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS5wYXJlbnRJdGVtID0gdHJlZU5vZGVJdGVtLmRhdGEucGFyZW50SXRlbTtcclxuICAgICAgICAgIC8v6Iul5Li65pWw5YC85Z6L5q+U6L6D77yM5YiZ5bCGdmFsdWXlgLzlvLrliLbovazmjaLkuLrmlbDlrZdcclxuICAgICAgICAgIGlmIChmaWx0ZXJJdGVtLmV4cHJlc3NUeXBlID09IEV4cHJlc3NUeXBlRW51bS5WYWx1ZSAmJlxyXG4gICAgICAgICAgICAoZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW5cclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbk9yRXF1YWxcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5MZXNzVGhhblxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuT3JFcXVhbFxyXG4gICAgICAgICAgICApKSB7XHJcbiAgICAgICAgICAgIGZpbHRlckl0ZW0udmFsdWUgPSBOdW1iZXIodHJlZU5vZGVJdGVtLmRhdGEudmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGZpbHRlckl0ZW0uZXhwcmVzc1R5cGUgPT0gRXhwcmVzc1R5cGVFbnVtLlZhbHVlICYmXHJcbiAgICAgICAgICAgIChmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5FcXVhbFxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLk5vdEVxdWFsKSkge1xyXG4gICAgICAgICAgICBpZihmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5EZWNpbWFsIFxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkRvdWJsZVxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkludDE2XHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuSW50MzJcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5JbnQ2NCApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBmaWx0ZXJJdGVtLnZhbHVlID0gTnVtYmVyKHRyZWVOb2RlSXRlbS5kYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy/lsIblrZDpobnmlL7lhaXniLbpobnnmoTlrZfmrrXkuK1cclxuICAgICAgICAgIGZpbHRlckV4cHJlc3Npb24uZXhwcmVzc0l0ZW1zLnB1c2goZmlsdGVySXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBmaWx0ZXJFeHByZXNzaW9uO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBmaWxldHJFeHByZXNzaW9u5Y+N6L2s5YyW5Li6VHJlZU5vZGVcclxuICAgKiBAcGFyYW0gZmlsdGVyRXhwcmVzcyDlvoXovazljJbnmoRmaWxldHJFeHByZXNzaW9u5a6e5L2TXHJcbiAgICovXHJcbiAgdW5Db252ZXJ0KGZpbHRlckV4cHJlc3M6IEZpbHRlckV4cHJlc3Npb24pOiBUcmVlTm9kZSB7XHJcbiAgICBsZXQgdHJlZURhdGE6IFRyZWVOb2RlID1cclxuICAgIHtcclxuICAgICAgZGF0YTpcclxuICAgICAge1xyXG4gICAgICAgIFwiaWRcIjogTWF0aC5yYW5kb20oKSwgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICBcIml0ZW1cIjogdGhpcy5yZWxhdGlvblR5cGVSZXZlcnNlTWF0Y2goZmlsdGVyRXhwcmVzcy5yZWxhdGlvbk9wZXJhdG9yKSwgLy/lsZ7mgKfpoblcclxuICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjpudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgIFwib3BlcmF0b3JcIjogbnVsbCwgICAgICAgICAgIC8v5pON5L2c5q+U6L6D56ymXHJcbiAgICAgICAgXCJleHByZXNzVHlwZVwiOiBudWxsLCAgICAgICAgLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgIFwiZGlzcGxheVNlbGVjdFwiOmZhbHNlLCAgICAgIC8v6YCJ5oup6aG55pi+56S6XHJcbiAgICAgICAgXCJkaXNwbGF5T3BlcmF0b3JcIjogZmFsc2UsICAgLy/mk43kvZznrKbpobnmmL7npLpcclxuICAgICAgICBcImRpc3BsYXlFeHByZXNzVHlwZVwiOiBmYWxzZSwvL+ihqOi+vuW8j+exu+Wei+aYvuekulxyXG4gICAgICAgIFwiZGlzcGxheVZhbHVlXCI6IGZhbHNlLCAgICAgIC8v5YC85pi+56S6XHJcbiAgICAgICAgXCJwYXJlbnRJdGVtXCI6bnVsbCAgICAgICAgICAgLy/niLbpoblcclxuICAgICAgfSxcclxuICAgICAgY2hpbGRyZW46IFtdLCAgICAgICAgICAgICAgICAgLy/lrZDoioLngrnpm4blkIhcclxuICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgIH07XHJcbiAgICAvL+WvueS6juavj+S4gOS4quWtkOmhuVxyXG4gICAgZmlsdGVyRXhwcmVzcy5leHByZXNzSXRlbXMuZm9yRWFjaChleHByZXNzSXRlbSA9PiB7XHJcbiAgICAgIGxldCBmaWx0ZXJFeHByZXNzSXRlbSA9IGV4cHJlc3NJdGVtIGFzIEZpbHRlckV4cHJlc3Npb247XHJcbiAgICAgIC8v6Iul5a2Q6aG55Li6RmlsdGVyRXhwcmVzc2lvbuexu+Wei++8jOi1i+WAvFxyXG4gICAgICBpZiAoKGZpbHRlckV4cHJlc3NJdGVtLnJlbGF0aW9uT3BlcmF0b3IgPT0gUmVsYXRpb25UeXBlRW51bS5BbmQgfHwgZmlsdGVyRXhwcmVzc0l0ZW0ucmVsYXRpb25PcGVyYXRvciA9PSBSZWxhdGlvblR5cGVFbnVtLk9yKSkgXHJcbiAgICAgIHtcclxuICAgICAgICBsZXQgdHJlZURhdGFDaGlsZCA9IHRoaXMudW5Db252ZXJ0KGZpbHRlckV4cHJlc3NJdGVtKTtcclxuICAgICAgICB0cmVlRGF0YUNoaWxkLmRhdGEucGFyZW50ID0gdHJlZURhdGE7Ly/mt7vliqDniLboioLngrlcclxuICAgICAgICB0cmVlRGF0YS5jaGlsZHJlbi5wdXNoKHRyZWVEYXRhQ2hpbGQpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgLy/oi6XlrZDpobnkuLpFeHByZXNzaW9uSXRlbeexu+Wei++8jOi1i+WAvFxyXG4gICAgICB7XHJcbiAgICAgICAgbGV0IGV4cHJlc3Npb25JdGVtID0gZXhwcmVzc0l0ZW0gYXMgRXhwcmVzc2lvbkl0ZW07XHJcbiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5TGlzdC5maWx0ZXIoeCA9PiB4LnZhbHVlID09IGV4cHJlc3Npb25JdGVtLnByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgbGV0IHRyZWVEYXRhQ2hpbGQ6VHJlZU5vZGUgPVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGRhdGE6XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwiaWRcIjogTWF0aC5yYW5kb20oKSwgICAgICAgICAgICAgICAgICAgICAgLy/moJHlvaLnu5PmnoTkuK3mr4/kuKroioLngrnnmoRpZFxyXG4gICAgICAgICAgICBcIml0ZW1cIjogcHJvcGVydGllc1swXS50ZXh0LCAgICAgICAgICAgICAgIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOmV4cHJlc3Npb25JdGVtLnByb3BlcnR5RGF0YVR5cGUsICAgICAgICAgICAgICAgICAgLy/lsZ7mgKfmlbDmja7nsbvlnotcclxuICAgICAgICAgICAgXCJvcGVyYXRvclwiOiB0aGlzLm9wZXJhdG9yUmV2ZXJzZU1hdGNoKGV4cHJlc3Npb25JdGVtLm9wZXJhdG9yKSwgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IHRoaXMuZXhwcmVzc1R5cGVSZXZlcnNlTWF0Y2goZXhwcmVzc2lvbkl0ZW0uZXhwcmVzc1R5cGUpLC8v6KGo6L6+5byP57G75Z6LXHJcbiAgICAgICAgICAgIFwidmFsdWVcIjogZXhwcmVzc2lvbkl0ZW0udmFsdWUsICAgICAgICAgICAgLy/lgLxcclxuICAgICAgICAgICAgXCJwYXJlbnRJdGVtXCI6ZXhwcmVzc2lvbkl0ZW0ucGFyZW50SXRlbSAgICAvL+eItumhuVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBhcmVudDogdHJlZURhdGEsICAgICAgICAgICAgIC8v5re75Yqg54i26IqC54K5XHJcbiAgICAgICAgICBjaGlsZHJlbjogW10sICAgICAgICAgICAgICAgICAvL+WtkOiKgueCuembhuWQiFxyXG4gICAgICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJlZURhdGEuY2hpbGRyZW4ucHVzaCh0cmVlRGF0YUNoaWxkKTsgXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRyZWVEYXRhO1xyXG4gIH1cclxuICAvKioqXHJcbiAgICog5re75Yqg5p2h5Lu26aG5XHJcbiAgICovXHJcbiAgYWRkSXRlbSgpXHJcbiAge1xyXG4gICAgdGhpcy5kZWZhdWx0U2VsZWN0SXRlbSA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RJdGVtXCIpO1xyXG4gICAgdGhpcy5oaWRlTm9kZUVkaXRvcih0aGlzLnRyZWVEYXRhKTtcclxuICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIiksdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpLHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKSk7XHJcbiAgfVxyXG4gIC8qKipcclxuICAgKiDmt7vliqDmnaHku7bnu4RcclxuICAgKi9cclxuICBhZGRHcm91cCgpXHJcbiAge1xyXG4gICAgdGhpcy5hZGROb2RlKHRoaXMudHJlZURhdGEsdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSxudWxsLG51bGwpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDnsbvlnovkv6Hmga/ljLnphY1cclxuICAgKiBAcGFyYW0gdHlwZSDnsbvlnotcclxuICAgKi9cclxuICB0eXBlTWF0Y2godHlwZTogYW55KTogYW55IHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIik6IHJldHVybiBSZWxhdGlvblR5cGVFbnVtLkFuZDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIik6IHJldHVybiBSZWxhdGlvblR5cGVFbnVtLk9yO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuT3JFcXVhbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5cIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW47XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuT3JFcXVhbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbk9yRXF1YWw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkVxdWFsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Ob3RFcXVhbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uQ29udGFpbnM7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdENvbnRhaW5zXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdENvbnRhaW5zO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdGFydHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLlN0YXJ0c1dpdGg7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVuZHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkVuZHNXaXRoO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RTdGFydHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdFN0YXJ0c1dpdGg7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdEVuZHNXaXRoO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uSXNOdWxsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uSXNOb3ROdWxsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJblwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5JbjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90SW5cIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTm90SW47XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpOiByZXR1cm4gRXhwcmVzc1R5cGVFbnVtLlZhbHVlO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFeHByZXNzaW9uXCIpOiByZXR1cm4gRXhwcmVzc1R5cGVFbnVtLkV4cHJlc3Npb247XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlbGF0aW9uVHlwZVJldmVyc2VNYXRjaCh0eXBlOiBSZWxhdGlvblR5cGVFbnVtKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIFJlbGF0aW9uVHlwZUVudW0uQW5kOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuZFwiKSA7XHJcbiAgICAgIGNhc2UgUmVsYXRpb25UeXBlRW51bS5PcjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJPclwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgb3BlcmF0b3JSZXZlcnNlTWF0Y2godHlwZTogQ29tcGFyZVR5cGVFbnVtKTogc3RyaW5nXHJcbiAge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbk9yRXF1YWw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhblwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW5PckVxdWFsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuT3JFcXVhbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uRXF1YWw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdEVxdWFsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVxdWFsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Db250YWluczogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJDb250YWluc1wiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTm90Q29udGFpbnM6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90Q29udGFpbnNcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLlN0YXJ0c1dpdGg6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3RhcnRzV2l0aFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uRW5kc1dpdGg6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRW5kc1dpdGhcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdFN0YXJ0c1dpdGg6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90U3RhcnRzV2l0aFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTm90RW5kc1dpdGg6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RW5kc1dpdGhcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLklzTnVsbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLklzTm90TnVsbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkluOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkluXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RJbjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RJblwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgZXhwcmVzc1R5cGVSZXZlcnNlTWF0Y2godHlwZTogRXhwcmVzc1R5cGVFbnVtKTogc3RyaW5nXHJcbiAge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgRXhwcmVzc1R5cGVFbnVtLlZhbHVlOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpO1xyXG4gICAgICBjYXNlIEV4cHJlc3NUeXBlRW51bS5FeHByZXNzaW9uOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkV4cHJlc3Npb25cIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uZm9jdXMoKVxyXG57XHJcbiAgdGhpcy5kaXNwbGF5UG9wdXAgPSB0cnVlO1xyXG59XHJcbm9uYmx1cigpXHJcbntcclxuICB0aGlzLmRpc3BsYXlQb3B1cCA9IGZhbHNlO1xyXG59XHJcblxyXG5jaGVja01hdGNoKHRyZWVOb2RlczogVHJlZU5vZGVbXSxpc01hdGNoOiBib29sZWFuKVxyXG57XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmICh0cmVlTm9kZXNbaV0uZGF0YS5pdGVtICE9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIikgJiYgdHJlZU5vZGVzW2ldLmRhdGEuaXRlbSAhPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIikpIHtcclxuICAgICAgaWYgKHRyZWVOb2Rlc1tpXS5kYXRhLmV4cHJlc3NUeXBlPT10aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFsdWVcIikpe1xyXG4gICAgICAgIGlmKCh0cmVlTm9kZXNbaV0uZGF0YS5wcm9wZXJ0eURhdGFUeXBlPT1Qcm9wZXJ0eURhdGFUeXBlLkludDE2IHx8IHRyZWVOb2Rlc1tpXS5kYXRhLnByb3BlcnR5RGF0YVR5cGU9PVByb3BlcnR5RGF0YVR5cGUuSW50MzIgfHwgdHJlZU5vZGVzW2ldLmRhdGEucHJvcGVydHlEYXRhVHlwZT09UHJvcGVydHlEYXRhVHlwZS5JbnQ2NCkgJiYgaXNOYU4odHJlZU5vZGVzW2ldLmRhdGEudmFsdWUpKXtcclxuICAgICAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWyc1J10udHlwZV0oe1xyXG4gICAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzUnXS5tc2dcclxuICAgICAgICAgIH0pOyAgXHJcbiAgICAgICAgICBpc01hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaXNNYXRjaCA9IHRoaXMuY2hlY2tNYXRjaCh0cmVlTm9kZXNbaV0uY2hpbGRyZW4saXNNYXRjaCk7XHJcbn1cclxucmV0dXJuIGlzTWF0Y2g7XHJcbn1cclxufVxyXG4iXX0=