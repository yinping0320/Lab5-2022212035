/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ViewChild, Input, ViewEncapsulation, LOCALE_ID, Inject, Injector } from '@angular/core';
import { TreeTableComponent } from '@farris/ui-treetable';
import { FilterExpression, ExpressionItem } from '../filter-expression-entity';
import { ExpressTypeEnum, RelationTypeEnum, CompareTypeEnum } from '../typeinfo';
import { ExpressionService } from '@gsp-svc/expression';
import { PropertyDataType } from '../property-entity';
import { FilterInjectedEntity } from '../injected-entity';
import { PropertyAdapter } from '../property-adapter';
import { FilterEntitySchema } from '../schema';
import { GSPCommonObject } from '@gsp-bef/gsp-cm-metadata';
import { Adapter } from '../adapter';
import { NotifyService } from '@farris/ui-notify';
import { FilterConditionLocalePipe } from '../filter-condition-locale.pipe';
import { NewSchema } from '../NewSchema';
var FilterExpressionComponent = /** @class */ (function () {
    function FilterExpressionComponent(expr, propertyAdapter, notifyservice, injector, localeId) {
        this.expr = expr;
        this.propertyAdapter = propertyAdapter;
        this.notifyservice = notifyservice;
        this.injector = injector;
        //预置计算表达式上下文实体
        this.contextEntity = [];
        //预置计算默认表达式显示
        this.expressionText = "";
        //预置计算表达式中的schema
        this.expressionSchema = [];
        //预置计算表达式中的注入实体
        this.expressionInjectedEntities = [];
        //预置计算表达式cdt集
        this.expressionCDT = [];
        //预置属性列表
        this.propertyList = [];
        //预置过滤表达式串
        this.filterExpressionString = null;
        //schema存储结构
        this.filterNewSchemaMap = new Map();
        this.disabled = false;
        //内部属性列表使用
        this.propertyListInner = [];
        //操作比较符集
        this.operators = [];
        this.stringOperators = [];
        this.NumberOperators = [];
        //关系集
        this.relations = [];
        //表达式类型集
        this.expressTypes = [];
        this.displayPopup = false;
        //检查过滤条件实体是否完整正确
        this.checkFilterStruc = true;
        //schema存储结构
        this.filterSchemaMap = new Map();
        this.adapter = new Adapter();
        this.treeData = [];
        this.columnWidth = ["30%", "20%", "20%", "20%", "10%"];
        //消息提示
        this.notifies = {};
        this.localePipe = new FilterConditionLocalePipe(localeId);
    }
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    /**
     * @return {?}
     */
    FilterExpressionComponent.prototype.ngOnChanges = 
    //初始化，复制treeData值,treeDataTemp用于转换为FilterExpression实体
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        //并且树形表绑定的显示的列 
        this.cols = [
            { field: 'item', title: this.localePipe.transform("Item"), width: 271 },
            { field: 'operator', title: this.localePipe.transform("Operator"), width: 191 },
            { field: 'expressType', title: this.localePipe.transform("ExpressType"), width: 180 },
            { field: 'value', title: this.localePipe.transform("Value"), width: 214 },
            { field: 'operation', title: this.localePipe.transform("Operation"), width: 130 }
        ];
        this.propertyListInner = [];
        this.treeDataTemp = this.treeData;
        //=================================分割线之NewSchema====================================
        //注入NewSchema
        if (this.schemaName && this.newSchema) {
            this.addNewSchema(this.schemaName, this.newSchema);
            //注入co
            if (this.gspCommonObject) {
                /** @type {?} */
                var newSchema_1;
                //若schemaMap中存在CO的schema
                if ((this.filterNewSchemaMap.get("CommonObject"))) {
                    newSchema_1 = this.filterNewSchemaMap.get("CommonObject");
                }
                else {
                    newSchema_1 = new NewSchema();
                }
                //将每一个CO转化为schema内部结构中的entityType
                /** @type {?} */
                var entityTypes = this.adapter.convertCOOfNewSchema(this.gspCommonObject);
                if ((entityTypes) && entityTypes.length != 0) {
                    entityTypes.forEach((/**
                     * @param {?} entityType
                     * @return {?}
                     */
                    function (entityType) {
                        if (newSchema_1.entityTypes.find((/**
                         * @param {?} x
                         * @return {?}
                         */
                        function (x) { return x.code == entityType.code; })) == null) {
                            newSchema_1.entityTypes.push(entityType);
                        }
                    }));
                }
                //将合并后的schema放入内部上下文实体中
                this.addNewSchema("CommonObject", newSchema_1);
            }
            //添加属性列表
            this.propertyList.forEach((/**
             * @param {?} property
             * @return {?}
             */
            function (property) {
                /** @type {?} */
                var propertyInner = {
                    value: property.value,
                    text: property.text,
                    propertyDataType: property.propertyFieldType,
                    parentItem: null
                };
                _this.propertyListInner.push(propertyInner);
            }));
            if ((this.injectedEntity)) {
                this.propertyAdapter.adapterOfNewSchema(this.injectedEntity, this.filterNewSchemaMap).forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                function (element) {
                    _this.propertyListInner.push(element);
                }));
            }
        }
        else {
            //===========================================旧Schema==========================================
            if (this.schemaName != null && (this.schema)) {
                this.addSchema(this.schemaName, this.schema);
            }
            if ((this.gspCommonObject)) {
                /** @type {?} */
                var schema_1;
                //若schemaMap中存在CO的schema
                if ((this.filterSchemaMap.get("CommonObject"))) {
                    schema_1 = this.filterSchemaMap.get("CommonObject");
                }
                else
                    schema_1 = new FilterEntitySchema();
                //将每一个CO转化为schema内部结构中的entityType
                /** @type {?} */
                var entityTypes = this.adapter.convertCO(this.gspCommonObject);
                if ((entityTypes) && entityTypes.length != 0) {
                    entityTypes.forEach((/**
                     * @param {?} entityType
                     * @return {?}
                     */
                    function (entityType) {
                        if (schema_1.entityTypes.find((/**
                         * @param {?} x
                         * @return {?}
                         */
                        function (x) { return x.name == entityType.name; })) == null) {
                            schema_1.entityTypes.push(entityType);
                        }
                    }));
                }
                //将合并后的schema放入内部上下文实体中
                this.addSchema("CommonObject", schema_1);
            }
            this.propertyList.forEach((/**
             * @param {?} property
             * @return {?}
             */
            function (property) {
                /** @type {?} */
                var propertyInner = {
                    text: property.text,
                    propertyDataType: property.propertyFieldType,
                    value: property.value,
                    parentItem: null
                };
                _this.propertyListInner.push(propertyInner);
            }));
            if ((this.injectedEntity)) {
                this.propertyAdapter.adapter(this.injectedEntity, this.filterSchemaMap).forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                function (element) {
                    _this.propertyListInner.push(element);
                }));
            }
        }
        this.defaultExpressTypeText = this.localePipe.transform("Value");
        this.defaultSelectGroup = this.localePipe.transform('And');
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.defaultOperatorText = this.localePipe.transform("GreaterThan");
        this.notifies = {
            1: { type: 'success', msg: this.localePipe.transform("Success") },
            2: { type: 'warning', msg: this.localePipe.transform("Warning_SelectRelation") },
            3: { type: 'warning', msg: this.localePipe.transform("Warning_ContainsFilters") },
            4: { type: 'warning', msg: this.localePipe.transform("Warning_ConditionsComplete") },
            5: { type: 'warning', msg: this.localePipe.transform("Warning_NumericMatch") }
        };
        this.expressTypes = [
            { id: this.localePipe.transform("Value") },
            { id: this.localePipe.transform("Expression") }
        ];
        this.relations = [
            { id: this.localePipe.transform("And") },
            { id: this.localePipe.transform("Or") },
        ];
        this.NumberOperators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
        this.stringOperators = [
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
        ];
        this.operators = [
            { id: this.localePipe.transform("GreaterThan") },
            { id: this.localePipe.transform("GreaterThanOrEqual") },
            { id: this.localePipe.transform("LessThan") },
            { id: this.localePipe.transform("LessThanOrEqual") },
            { id: this.localePipe.transform("Equal") },
            { id: this.localePipe.transform("NotEqual") },
            { id: this.localePipe.transform("Contains") },
            { id: this.localePipe.transform("NotContains") },
            { id: this.localePipe.transform("StartsWith") },
            { id: this.localePipe.transform("EndsWith") },
            { id: this.localePipe.transform("NotStartsWith") },
            { id: this.localePipe.transform("NotEndsWith") },
            { id: this.localePipe.transform("IsNull") },
            { id: this.localePipe.transform("IsNotNull") },
            { id: this.localePipe.transform("In") },
            { id: this.localePipe.transform("NotIn") },
        ];
        this.onCancel();
    };
    //=================添加NewSchema=====================
    /**
     * @description 添加NewSchema到Map中
     * @param name schema名称
     * @param filterNewSchema 注入的统一结构NewSchema
     */
    //=================添加NewSchema=====================
    /**
     * \@description 添加NewSchema到Map中
     * @param {?} name schema名称
     * @param {?} filterNewSchema 注入的统一结构NewSchema
     * @return {?}
     */
    FilterExpressionComponent.prototype.addNewSchema = 
    //=================添加NewSchema=====================
    /**
     * \@description 添加NewSchema到Map中
     * @param {?} name schema名称
     * @param {?} filterNewSchema 注入的统一结构NewSchema
     * @return {?}
     */
    function (name, filterNewSchema) {
        this.filterNewSchemaMap.set(name, filterNewSchema);
    };
    //==================================================
    /**
     * 添加schema入Map
     * @param name schema名
     * @param filterSchema
     */
    //==================================================
    /**
     * 添加schema入Map
     * @param {?} name schema名
     * @param {?} filterSchema
     * @return {?}
     */
    FilterExpressionComponent.prototype.addSchema = 
    //==================================================
    /**
     * 添加schema入Map
     * @param {?} name schema名
     * @param {?} filterSchema
     * @return {?}
     */
    function (name, filterSchema) {
        this.filterSchemaMap.set(name, filterSchema);
    };
    /**
     * 树形表中节点选择触发函数
     * @param $event 所选节点信息
     */
    /**
     * 树形表中节点选择触发函数
     * @param {?} $event 所选节点信息
     * @return {?}
     */
    FilterExpressionComponent.prototype.nodeSelected = /**
     * 树形表中节点选择触发函数
     * @param {?} $event 所选节点信息
     * @return {?}
     */
    function ($event) {
        //隐藏掉所有的节点选择编辑框，包括子节点的
        this.hideNodeEditor(this.treeData);
        //将所选节点比较项、表达式类型项、值编辑框显示，并将所选对应数据赋给默认项进行显示
        this.defaultOperatorText = $event.node.data.operator;
        this.defaultExpressTypeText = $event.node.data.expressType;
        if ($event.node.data.item == this.localePipe.transform('And') || $event.node.data.item == this.localePipe.transform('Or')) {
            this.defaultSelectGroup = $event.node.data.item;
        }
        else if ($event.node.data.item !== this.localePipe.transform("SelectProperty")) {
            /** @type {?} */
            var properties = this.propertyListInner.filter((/**
             * @param {?} x
             * @return {?}
             */
            function (x) { return x.text == $event.node.data.item; }));
            this.defaultSelectItem = properties[0].value;
        }
        else if ($event.node.data.item == this.localePipe.transform("SelectProperty")) {
            this.defaultSelectItem = $event.node.data.item;
        }
        this.treeData = tslib_1.__spread(this.treeData);
        $event.node.data.displayOperator = true;
        $event.node.data.displayExpressType = true;
        $event.node.data.displayValue = true;
        $event.node.data.displaySelect = true;
    };
    ;
    /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param treeNodes 树形表绑定结构
     */
    /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param {?} treeNodes 树形表绑定结构
     * @return {?}
     */
    FilterExpressionComponent.prototype.hideNodeEditor = /**
     * 隐藏掉所有的节点选择编辑框，包括子节点的
     * @param {?} treeNodes 树形表绑定结构
     * @return {?}
     */
    function (treeNodes) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            element.data.displayOperator = false;
            element.data.displayExpressType = false;
            element.data.displayValue = false;
            element.data.displaySelect = false;
            //若有子节点，则将其子节点的编辑选择框隐藏
            if ((element.children) && element.children.length != 0) {
                _this.hideNodeEditor(element.children);
            }
        }));
    };
    ;
    //节点未选择函数
    //节点未选择函数
    /**
     * @return {?}
     */
    FilterExpressionComponent.prototype.nodeUnSelect = 
    //节点未选择函数
    /**
     * @return {?}
     */
    function () {
        console.log("nodeUnselect");
    };
    ;
    /***
    * 选择逻辑集时
    */
    /**
     *
     * 选择逻辑集时
     * @param {?} $event
     * @return {?}
     */
    FilterExpressionComponent.prototype.selectGroup = /**
     *
     * 选择逻辑集时
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 0 /* Group */);
    };
    /***
     * 选择项时
     */
    /**
     *
     * 选择项时
     * @param {?} $event
     * @return {?}
     */
    FilterExpressionComponent.prototype.selectItem = /**
     *
     * 选择项时
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    };
    /**
     * 选择比较操作符时
     * @param $event 比较操作项信息
     */
    /**
     * 选择比较操作符时
     * @param {?} $event 比较操作项信息
     * @return {?}
     */
    FilterExpressionComponent.prototype.selectOperator = /**
     * 选择比较操作符时
     * @param {?} $event 比较操作项信息
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 2 /* Operation */);
    };
    ;
    /**
     * 选择值类型时
     * @param $event 值类型项信息
     */
    /**
     * 选择值类型时
     * @param {?} $event 值类型项信息
     * @return {?}
     */
    FilterExpressionComponent.prototype.selectExpressType = /**
     * 选择值类型时
     * @param {?} $event 值类型项信息
     * @return {?}
     */
    function ($event) {
        this.propertyNodeOperate($event, this.treeData, 3 /* Valuetype */);
    };
    ;
    /**
     * 选择结束后隐藏该字段选择框
     * @param treeNodes 树形表绑定结构
     * @param fieldType 所选字段
     */
    /**
     * 选择结束后隐藏该字段选择框
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 所选字段
     * @return {?}
     */
    FilterExpressionComponent.prototype.hideFieldEditor = /**
     * 选择结束后隐藏该字段选择框
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 所选字段
     * @return {?}
     */
    function (treeNodes, fieldType) {
        var _this = this;
        //找到所操作的节点，根据所选择的字段将对应选择编辑框隐藏
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (_this.tt.isSelected(treeNode)) {
                switch (fieldType) {
                    case 1 /* Item */:
                        treeNode.data.displaySelect = false;
                        break;
                    case 2 /* Operation */:
                        treeNode.data.displayOperator = false;
                        break;
                    case 3 /* Valuetype */:
                        treeNode.data.displayExpressType = false;
                        break;
                }
                return;
            }
            //若未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                _this.hideFieldEditor(treeNode.children, fieldType);
            }
        }));
    };
    /**
     * 打开计算表达式编辑器
     */
    /**
     * 打开计算表达式编辑器
     * @return {?}
     */
    FilterExpressionComponent.prototype.openExpressEditor = /**
     * 打开计算表达式编辑器
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var that = this;
        //添加预置上下文变量
        if (this.contextEntity && this.contextEntity.length != 0) {
            this.contextEntity.forEach((/**
             * @param {?} element
             * @return {?}
             */
            function (element) {
                _this.expr.addContext(element);
            }));
        }
        //添加预置表达式文本
        /** @type {?} */
        var selectNode = this.isSelected(this.treeData);
        if ((selectNode) && (selectNode.data.value != "") && (selectNode.data.value != null)) {
            this.expr.addExpressionText(selectNode.data.value);
        }
        else
            this.expr.addExpressionText(this.expressionText);
        //添加注入实体
        this.expressionInjectedEntities.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.expr.addInjectedEntity(element.name, element.schemaName, element.injectedName, element.injectedType);
        }));
        //添加CDT
        this.expr.addCDT(this.expressionCDT);
        //添加schema
        this.expressionSchema.forEach((/**
         * @param {?} element
         * @return {?}
         */
        function (element) {
            _this.expr.addSchema(element.name, element.schema);
        }));
        //打开表达式编辑器并返回编辑结果
        this.expr.buildExpression().then((/**
         * @param {?} info
         * @return {?}
         */
        function (info) {
            /** @type {?} */
            var expressInfo = info;
            _this.displayExpressResult(that.treeData, expressInfo);
        }));
    };
    /**
     * 选中节点选择
     * @param treeNodes 关系组
     */
    /**
     * 选中节点选择
     * @param {?} treeNodes 关系组
     * @return {?}
     */
    FilterExpressionComponent.prototype.isSelected = /**
     * 选中节点选择
     * @param {?} treeNodes 关系组
     * @return {?}
     */
    function (treeNodes) {
        /** @type {?} */
        var treeNode;
        for (var i = 0; i < treeNodes.length; i++) {
            if (this.tt.isSelected(treeNodes[i])) {
                treeNode = treeNodes[i];
                break;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNodes[i].children) && treeNodes[i].children.length != 0) {
                treeNode = this.isSelected(treeNodes[i].children);
                if ((treeNode))
                    break;
            }
        }
        return treeNode;
    };
    /**
     * 将计算表达式结果展示到对应节点
     * @param treeNodes 树表绑定结构
     * @param expressInfo 计算表达式得到结果
     */
    /**
     * 将计算表达式结果展示到对应节点
     * @param {?} treeNodes 树表绑定结构
     * @param {?} expressInfo 计算表达式得到结果
     * @return {?}
     */
    FilterExpressionComponent.prototype.displayExpressResult = /**
     * 将计算表达式结果展示到对应节点
     * @param {?} treeNodes 树表绑定结构
     * @param {?} expressInfo 计算表达式得到结果
     * @return {?}
     */
    function (treeNodes, expressInfo) {
        var _this = this;
        //找到所选节点实体，并将计算表达式所得结果赋给对应属性进行显示
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (_this.tt.isSelected(treeNode)) {
                treeNode.data.value = expressInfo;
                return;
            }
            //若在该层节点中未找到所选节点，则找其子节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                _this.displayExpressResult(treeNode.children, expressInfo);
            }
            //若仍未找到，则不进行任何操作
        }));
    };
    /**
     * 关系选择按钮选择事件
     * @param $event 选择按钮所选信息
     */
    /**
     * 关系选择按钮选择事件
     * @param {?} $event 选择按钮所选信息
     * @return {?}
     */
    FilterExpressionComponent.prototype.itemClick = /**
     * 关系选择按钮选择事件
     * @param {?} $event 选择按钮所选信息
     * @return {?}
     */
    function ($event) {
        //若选择添加关系
        if ($event.value == RelationTypeEnum.AddRelation) {
            this.addNode(this.treeData, this.localePipe.transform('And'), null, null);
        }
        //若选择添加属性
        else if ($event.value == RelationTypeEnum.AddProperty) {
            this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
        }
        else
            this.propertyNodeOperate($event, this.treeData, 1 /* Item */);
    };
    /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param event 点击事件
     * @param treeNodes 树形表绑定结构
     * @param fieldType 节点类型
     */
    /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param {?} event 点击事件
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 节点类型
     * @return {?}
     */
    FilterExpressionComponent.prototype.propertyNodeOperate = /**
     * 选择属性节点操作
     * 对新添加的属性节点进行逻辑处理
     * @param {?} event 点击事件
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} fieldType 节点类型
     * @return {?}
     */
    function (event, treeNodes, fieldType) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} treenode
         * @return {?}
         */
        function (treenode) {
            if (_this.tt.isSelected(treenode)) {
                //对所选节点进行赋值操作
                switch (fieldType) {
                    case 0 /* Group */:
                        {
                            treenode.data.item = event.data.id;
                            _this.defaultSelectGroup = event.data.id;
                        }
                        break;
                    case 1 /* Item */:
                        {
                            treenode.data.item = event.data.text;
                            _this.defaultSelectItem = event.data.value;
                            treenode.data.parentItem = event.data.parentItem;
                            treenode.data.propertyDataType = event.data.propertyDataType;
                        }
                        break;
                    case 2 /* Operation */:
                        {
                            treenode.data.operator = event.data.id;
                            _this.defaultOperatorText = event.data.id;
                        }
                        break;
                    case 3 /* Valuetype */:
                        {
                            treenode.data.expressType = event.data.id;
                            _this.defaultExpressTypeText = event.data.id;
                        }
                        break;
                }
                return;
            }
            //否则对其子节点进行赋值操作
            else if ((treenode.children) && treenode.children.length != 0) {
                _this.propertyNodeOperate(event, treenode.children, fieldType);
            }
        }));
    };
    /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param treeNodes 树形表绑定结构
     * @param defaultString 新节点显示默认值
     */
    /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} defaultString 新节点显示默认值
     * @param {?} defaultOperator
     * @param {?} defalutExpressType
     * @return {?}
     */
    FilterExpressionComponent.prototype.addNode = /**
     * 根据所选为关系或者属性对新节点进行初始化
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} defaultString 新节点显示默认值
     * @param {?} defaultOperator
     * @param {?} defalutExpressType
     * @return {?}
     */
    function (treeNodes, defaultString, defaultOperator, defalutExpressType) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (_this.tt.isSelected(treeNode)) {
                //若关系值为空
                if (!(treeNode.data.item)) {
                    _this.notifyservice[_this.notifies['2'].type]({
                        msg: _this.notifies['2'].msg
                    });
                    return;
                }
                //若为所选的关系节点，则在其子项里添加新子节点
                /** @type {?} */
                var newNode = {
                    data: {
                        "item": defaultString,
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": defaultOperator,
                        "expressType": defalutExpressType,
                        "value": null,
                        "id": Math.random(),
                        "parentItem": null
                    },
                    parent: treeNode,
                    children: [],
                    expanded: true
                };
                //向该所选节点的子项添加新节点
                treeNode.children.push(newNode);
                return;
            }
            //若未找到所选节点，且该节点子项不为空，则在其子项中查找所选节点
            else if ((treeNode.children) && treeNode.children.length != 0) {
                _this.addNode(treeNode.children, defaultString, defaultOperator, defalutExpressType);
            }
        }));
        this.tt.updateSerializedValue();
    };
    /**
     * 删除节点
     * @param treeNode 要删除的节点
     */
    /**
     * 删除节点
     * @param {?} $event
     * @return {?}
     */
    FilterExpressionComponent.prototype.deleteNode = /**
     * 删除节点
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.onDelete(this.treeData, $event);
    };
    /**
    * 重置(外部调用)
    * 重置为初始状态
    */
    /**
     * 重置(外部调用)
     * 重置为初始状态
     * @return {?}
     */
    FilterExpressionComponent.prototype.onCancel = /**
     * 重置(外部调用)
     * 重置为初始状态
     * @return {?}
     */
    function () {
        if (this.filterExpressionString == null || this.filterExpressionString == "") {
            this.treeData = [
                {
                    data: {
                        "id": 1,
                        //树形结构中每个节点的id
                        "item": this.localePipe.transform('And'),
                        //属性项
                        "propertyDataType": null,
                        //属性数据类型
                        "operator": null,
                        //操作比较符
                        "expressType": null,
                        //表达式类型
                        "value": null,
                        //值
                        "displaySelect": false,
                        //选择项显示
                        "displayOperator": false,
                        //操作符项显示
                        "displayExpressType": false,
                        //表达式类型显示
                        "displayValue": false,
                        //值显示
                        "parentItem": null //父项
                    },
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                }
            ];
        }
        else {
            this.filterExpressionPre = JSON.parse(this.filterExpressionString);
            this.treeData = [];
            this.treeData.push(this.unConvert(this.filterExpressionPre));
            this.treeData[0].data.id = 1;
        }
    };
    /**
     * 删除节点具体实现类
     * @param treeNodes 树形表绑定结构
     */
    /**
     * 删除节点具体实现类
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} id
     * @return {?}
     */
    FilterExpressionComponent.prototype.onDelete = /**
     * 删除节点具体实现类
     * @param {?} treeNodes 树形表绑定结构
     * @param {?} id
     * @return {?}
     */
    function (treeNodes, id) {
        var _this = this;
        treeNodes.forEach((/**
         * @param {?} treeNode
         * @return {?}
         */
        function (treeNode) {
            if (treeNode.data.id == id) {
                if (treeNode.data.id == 1) {
                    _this.treeData = [
                        {
                            data: {
                                "id": 1,
                                //树形结构中每个节点的id
                                "item": _this.localePipe.transform('And'),
                                //属性项
                                "propertyDataType": null,
                                //属性数据类型
                                "operator": null,
                                //操作比较符
                                "expressType": null,
                                //表达式类型
                                "value": null,
                                //值
                                "displaySelect": false,
                                //选择项显示
                                "displayOperator": false,
                                //操作符项显示
                                "displayExpressType": false,
                                //表达式类型显示
                                "displayValue": false,
                                //值显示
                                "parentItem": null //父项
                            },
                            children: [],
                            //子节点集合
                            expanded: true //是否展开
                        }
                    ];
                    return;
                }
                //所选节点所在数
                /** @type {?} */
                var index = treeNodes.indexOf(treeNode);
                //将所选节点剔除
                treeNodes.splice(index, 1);
            }
            else if ((treeNode.children) && treeNode.children.length != 0) {
                treeNode.children = _this.onDelete(treeNode.children, id);
            }
        }));
        this.tt.updateSerializedValue();
        return treeNodes;
    };
    /***
    * 添加条件项
    */
    /**
     *
     * 添加条件项
     * @return {?}
     */
    FilterExpressionComponent.prototype.addItem = /**
     *
     * 添加条件项
     * @return {?}
     */
    function () {
        this.defaultSelectItem = this.localePipe.transform("SelectItem");
        this.hideNodeEditor(this.treeData);
        this.addNode(this.treeData, this.localePipe.transform("SelectProperty"), this.localePipe.transform("Equal"), this.localePipe.transform("Value"));
    };
    /***
     * 添加条件组
     */
    /**
     *
     * 添加条件组
     * @return {?}
     */
    FilterExpressionComponent.prototype.addGroup = /**
     *
     * 添加条件组
     * @return {?}
     */
    function () {
        this.addNode(this.treeData, this.localePipe.transform('And'), null, null);
    };
    /**
     * 将treeData转化为filetrExpression实体
     * @param filterExpression 过滤表达式实体
     * @param treeNode 最外层的treeNode
     */
    /**
     * 将treeData转化为filetrExpression实体
     * @param {?} filterExpression 过滤表达式实体
     * @param {?} treeNode 最外层的treeNode
     * @return {?}
     */
    FilterExpressionComponent.prototype.convert = /**
     * 将treeData转化为filetrExpression实体
     * @param {?} filterExpression 过滤表达式实体
     * @param {?} treeNode 最外层的treeNode
     * @return {?}
     */
    function (filterExpression, treeNode) {
        var _this = this;
        //得到最外层的关系符
        filterExpression.relationOperator = this.typeMatch(treeNode.data.item);
        //若其子项不为空
        if (treeNode.children.length != 0) {
            //对其每一个子项进行转化操作
            treeNode.children.forEach((/**
             * @param {?} treeNodeItem
             * @return {?}
             */
            function (treeNodeItem) {
                //若子项为并且、或者，则新建复杂过滤表达式
                if (_this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.And ||
                    _this.typeMatch(treeNodeItem.data.item) == RelationTypeEnum.Or) {
                    /** @type {?} */
                    var filterExpressionItem = new FilterExpression();
                    filterExpression.expressItems.push(_this.convert(filterExpressionItem, treeNodeItem));
                }
                //若子项为属性表达式
                else {
                    /** @type {?} */
                    var filterItem = new ExpressionItem();
                    /** @type {?} */
                    var properties = _this.propertyListInner.filter((/**
                     * @param {?} x
                     * @return {?}
                     */
                    function (x) { return x.text == treeNodeItem.data.item; }));
                    filterItem.propertyName = properties[0].value;
                    filterItem.propertyDataType = treeNodeItem.data.propertyDataType;
                    filterItem.operator = _this.typeMatch(treeNodeItem.data.operator);
                    filterItem.expressType = _this.typeMatch(treeNodeItem.data.expressType);
                    filterItem.value = treeNodeItem.data.value;
                    filterItem.parentItem = treeNodeItem.data.parentItem;
                    //若为数值型比较，则将value值强制转换为数字
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.GreaterThan
                            || filterItem.operator == CompareTypeEnum.GreaterThanOrEqual
                            || filterItem.operator == CompareTypeEnum.LessThan
                            || filterItem.operator == CompareTypeEnum.LessThanOrEqual)) {
                        filterItem.value = Number(treeNodeItem.data.value);
                    }
                    if (filterItem.expressType == ExpressTypeEnum.Value &&
                        (filterItem.operator == CompareTypeEnum.Equal
                            || filterItem.operator == CompareTypeEnum.NotEqual)) {
                        if (filterItem.propertyDataType == PropertyDataType.Decimal
                            || filterItem.propertyDataType == PropertyDataType.Double
                            || filterItem.propertyDataType == PropertyDataType.Int16
                            || filterItem.propertyDataType == PropertyDataType.Int32
                            || filterItem.propertyDataType == PropertyDataType.Int64) {
                            filterItem.value = Number(treeNodeItem.data.value);
                        }
                    }
                    //将子项放入父项的字段中
                    filterExpression.expressItems.push(filterItem);
                }
            }));
        }
        return filterExpression;
    };
    /**
    * filetrExpression反转化为TreeNode
    * @param filterExpress 待转化的filetrExpression实体
    */
    /**
     * filetrExpression反转化为TreeNode
     * @param {?} filterExpress 待转化的filetrExpression实体
     * @return {?}
     */
    FilterExpressionComponent.prototype.unConvert = /**
     * filetrExpression反转化为TreeNode
     * @param {?} filterExpress 待转化的filetrExpression实体
     * @return {?}
     */
    function (filterExpress) {
        var _this = this;
        /** @type {?} */
        var treeData = {
            data: {
                "id": Math.random(),
                //树形结构中每个节点的id
                "item": this.relationTypeReverseMatch(filterExpress.relationOperator),
                //属性项
                "propertyDataType": null,
                //属性数据类型
                "operator": null,
                //操作比较符
                "expressType": null,
                //表达式类型
                "value": null,
                //值
                "displaySelect": false,
                //选择项显示
                "displayOperator": false,
                //操作符项显示
                "displayExpressType": false,
                //表达式类型显示
                "displayValue": false,
                //值显示
                "parentItem": null //父项
            },
            children: [],
            //子节点集合
            expanded: true //是否展开
        };
        //对于每一个子项
        filterExpress.expressItems.forEach((/**
         * @param {?} expressItem
         * @return {?}
         */
        function (expressItem) {
            /** @type {?} */
            var filterExpressItem = (/** @type {?} */ (expressItem));
            //若子项为FilterExpression类型，赋值
            if ((filterExpressItem.relationOperator == RelationTypeEnum.And || filterExpressItem.relationOperator == RelationTypeEnum.Or)) {
                /** @type {?} */
                var treeDataChild = _this.unConvert(filterExpressItem);
                treeDataChild.data.parent = treeData; //添加父节点
                treeData.children.push(treeDataChild);
            }
            else //若子项为ExpressionItem类型，赋值
             {
                /** @type {?} */
                var expressionItem_1 = (/** @type {?} */ (expressItem));
                /** @type {?} */
                var properties = _this.propertyListInner.filter((/**
                 * @param {?} x
                 * @return {?}
                 */
                function (x) { return x.value == expressionItem_1.propertyName; }));
                /** @type {?} */
                var treeDataChild = {
                    data: {
                        "id": Math.random(),
                        //树形结构中每个节点的id
                        "item": properties[0].text,
                        //属性项
                        "propertyDataType": expressionItem_1.propertyDataType,
                        "operator": _this.operatorReverseMatch(expressionItem_1.operator),
                        //操作比较符
                        "expressType": _this.expressTypeReverseMatch(expressionItem_1.expressType),
                        //表达式类型
                        "value": expressionItem_1.value,
                        //值
                        "parentItem": expressionItem_1.parentItem //父项
                    },
                    parent: treeData,
                    //添加父节点
                    children: [],
                    //子节点集合
                    expanded: true //是否展开
                };
                treeData.children.push(treeDataChild);
            }
        }));
        return treeData;
    };
    /**
     * 类型信息匹配
     * @param type 类型
     */
    /**
     * 类型信息匹配
     * @param {?} type 类型
     * @return {?}
     */
    FilterExpressionComponent.prototype.typeMatch = /**
     * 类型信息匹配
     * @param {?} type 类型
     * @return {?}
     */
    function (type) {
        switch (type) {
            case this.localePipe.transform("And"): return RelationTypeEnum.And;
            case this.localePipe.transform("Or"): return RelationTypeEnum.Or;
            case this.localePipe.transform("GreaterThan"): return CompareTypeEnum.GreaterThan;
            case this.localePipe.transform("GreaterThanOrEqual"): return CompareTypeEnum.GreaterThanOrEqual;
            case this.localePipe.transform("LessThan"): return CompareTypeEnum.LessThan;
            case this.localePipe.transform("LessThanOrEqual"): return CompareTypeEnum.LessThanOrEqual;
            case this.localePipe.transform("Equal"): return CompareTypeEnum.Equal;
            case this.localePipe.transform("NotEqual"): return CompareTypeEnum.NotEqual;
            case this.localePipe.transform("Contains"): return CompareTypeEnum.Contains;
            case this.localePipe.transform("NotContains"): return CompareTypeEnum.NotContains;
            case this.localePipe.transform("StartsWith"): return CompareTypeEnum.StartsWith;
            case this.localePipe.transform("EndsWith"): return CompareTypeEnum.EndsWith;
            case this.localePipe.transform("NotStartsWith"): return CompareTypeEnum.NotStartsWith;
            case this.localePipe.transform("NotEndsWith"): return CompareTypeEnum.NotEndsWith;
            case this.localePipe.transform("IsNull"): return CompareTypeEnum.IsNull;
            case this.localePipe.transform("IsNotNull"): return CompareTypeEnum.IsNotNull;
            case this.localePipe.transform("In"): return CompareTypeEnum.In;
            case this.localePipe.transform("NotIn"): return CompareTypeEnum.NotIn;
            case this.localePipe.transform("Value"): return ExpressTypeEnum.Value;
            case this.localePipe.transform("Expression"): return ExpressTypeEnum.Expression;
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    FilterExpressionComponent.prototype.relationTypeReverseMatch = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case RelationTypeEnum.And: return this.localePipe.transform('And');
            case RelationTypeEnum.Or: return this.localePipe.transform('Or');
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    FilterExpressionComponent.prototype.operatorReverseMatch = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case CompareTypeEnum.GreaterThan: return this.localePipe.transform("GreaterThan");
            case CompareTypeEnum.GreaterThanOrEqual: return this.localePipe.transform("GreaterThanOrEqual");
            case CompareTypeEnum.LessThan: return this.localePipe.transform("LessThan");
            case CompareTypeEnum.LessThanOrEqual: return this.localePipe.transform("LessThanOrEqual");
            case CompareTypeEnum.Equal: return this.localePipe.transform("Equal");
            case CompareTypeEnum.NotEqual: return this.localePipe.transform("NotEqual");
            case CompareTypeEnum.Contains: return this.localePipe.transform("Contains");
            case CompareTypeEnum.NotContains: return this.localePipe.transform("NotContains");
            case CompareTypeEnum.StartsWith: return this.localePipe.transform("StartsWith");
            case CompareTypeEnum.EndsWith: return this.localePipe.transform("EndsWith");
            case CompareTypeEnum.NotStartsWith: return this.localePipe.transform("NotStartsWith");
            case CompareTypeEnum.NotEndsWith: return this.localePipe.transform("NotEndsWith");
            case CompareTypeEnum.IsNull: return this.localePipe.transform("IsNull");
            case CompareTypeEnum.IsNotNull: return this.localePipe.transform("IsNotNull");
            case CompareTypeEnum.In: return this.localePipe.transform("In");
            case CompareTypeEnum.NotIn: return this.localePipe.transform("NotIn");
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    FilterExpressionComponent.prototype.expressTypeReverseMatch = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case ExpressTypeEnum.Value: return this.localePipe.transform("Value");
            case ExpressTypeEnum.Expression: return this.localePipe.transform('Expression');
        }
    };
    /**
     * 过滤表达式获取(外部调用)
     */
    /**
     * 过滤表达式获取(外部调用)
     * @return {?}
     */
    FilterExpressionComponent.prototype.getFilterExpression = /**
     * 过滤表达式获取(外部调用)
     * @return {?}
     */
    function () {
        this.treeDataTemp = this.treeData;
        /** @type {?} */
        var isNull = true;
        /** @type {?} */
        var isMatch = true;
        if (this.checkNull(this.treeDataTemp[0].children, isNull) && this.checkMatch(this.treeDataTemp[0].children, isMatch)) {
            this.filterExpression = new FilterExpression();
            //根据树形数据结构转化为过滤表达式实体
            this.convert(this.filterExpression, this.treeDataTemp[0]);
            //若只包含关系项则返回空
            if (this.filterExpression.expressItems.length == 0)
                return null;
            else {
                if (this.filterExpression.relationOperator == null) {
                    this.filterExpression.relationOperator = RelationTypeEnum.Or;
                }
                return JSON.stringify(this.filterExpression);
            }
        }
    };
    //递归检查整个过滤表达式是否有漏填的项
    //递归检查整个过滤表达式是否有漏填的项
    /**
     * @param {?} treeNodes
     * @param {?} isNull
     * @return {?}
     */
    FilterExpressionComponent.prototype.checkNull = 
    //递归检查整个过滤表达式是否有漏填的项
    /**
     * @param {?} treeNodes
     * @param {?} isNull
     * @return {?}
     */
    function (treeNodes, isNull) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item == this.localePipe.transform('And') || treeNodes[i].data.item == this.localePipe.transform('Or')) {
                if (!(treeNodes[i].children) || treeNodes[i].children.length == 0) {
                    this.checkFilterStruc = false;
                    this.notifyservice[this.notifies['3'].type]({
                        msg: this.notifies['3'].msg
                    });
                    isNull = false;
                    break;
                }
                else if (!this.checkNull(treeNodes[i].children, isNull)) {
                    isNull = false;
                    break;
                }
            }
            else {
                if (!(treeNodes[i].data.item) || treeNodes[i].data.item == this.localePipe.transform("SelectProperty")
                    || !(treeNodes[i].data.operator) || !(treeNodes[i].data.expressType)
                    || !(treeNodes[i].data.value)) {
                    this.notifyservice[this.notifies['4'].type]({
                        msg: this.notifies['4'].msg
                    });
                    this.checkFilterStruc = false;
                    isNull = false;
                    break;
                }
            }
        }
        return isNull;
    };
    /**
     * @return {?}
     */
    FilterExpressionComponent.prototype.onfocus = /**
     * @return {?}
     */
    function () {
        this.displayPopup = true;
    };
    /**
     * @return {?}
     */
    FilterExpressionComponent.prototype.onblur = /**
     * @return {?}
     */
    function () {
        this.displayPopup = false;
    };
    /**
     * @param {?} treeNodes
     * @param {?} isMatch
     * @return {?}
     */
    FilterExpressionComponent.prototype.checkMatch = /**
     * @param {?} treeNodes
     * @param {?} isMatch
     * @return {?}
     */
    function (treeNodes, isMatch) {
        for (var i = 0; i < treeNodes.length; i++) {
            if (treeNodes[i].data.item != this.localePipe.transform('And') && treeNodes[i].data.item != this.localePipe.transform('Or')) {
                if (treeNodes[i].data.expressType == this.localePipe.transform("Value")) {
                    if ((treeNodes[i].data.propertyDataType == PropertyDataType.Int16 || treeNodes[i].data.propertyDataType == PropertyDataType.Int32 || treeNodes[i].data.propertyDataType == PropertyDataType.Int64) && isNaN(treeNodes[i].data.value)) {
                        this.notifyservice[this.notifies['5'].type]({
                            msg: this.notifies['5'].msg
                        });
                        isMatch = false;
                        break;
                    }
                }
            }
            else
                isMatch = this.checkMatch(treeNodes[i].children, isMatch);
        }
        return isMatch;
    };
    FilterExpressionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-filter-expression',
                    template: "<div class=\"filter \">   \r\n    <farris-treetable #tt\r\n    class=\"farristreetable\"\r\n    [data]=\"treeData\" \r\n    [columns]=\"cols\" \r\n    [idField]=\"'id'\" \r\n    [showIcon]=\"false\" \r\n    [resizableColumns]=\"true\"\r\n    (nodeSelected)=\"nodeSelected($event)\" \r\n    [fitColumns]=\"true\" \r\n    [showFilterBar]=\"false\"\r\n    [showHeader]=\"true\"\r\n    [enableFindText]=\"true\"\r\n    [fit]=\"true\"\r\n    [disabled]=\"disabled\"\r\n    [fixedHeader]=\"true\"\r\n    [showBorder]=\"false\"\r\n    >\r\n      <ng-template farrisTemplate=\"body\" let-rowNode let-rowData=\"rowData\" let-columns=\"columns\">\r\n        <tr [selectRow]=\"rowNode\" [dblclick]=\"true\">\r\n          <td *ngFor=\"let col of columns; let i = index\"\r\n          [ngStyle]=\"{'text-align':col.title=='' ?'center':'left'}\">\r\n          <div class=\"treetable-cell-content p-0 d-flex\">\r\n            <farris-treeTableToggler [rowNode]=\"rowNode\" *ngIf=\"i == 0\"></farris-treeTableToggler>\r\n            <ng-container *ngIf=\"i==0\">\r\n              <div class=\"flex-grow-1 text d-flex\">\r\n                <span id=\"groupAnd\" *ngIf=\"rowData['item']==this.localePipe.transform('And') || rowData['item']==null\"><img src='/platform/common/web/assets/filter-icon/and.svg'></span>\r\n                <span id=\"groupOr\" *ngIf=\"rowData['item']==this.localePipe.transform('Or')\"><img src='/platform/common/web/assets/filter-icon/or.svg'></span>\r\n                <div class=\"flex-grow-1 text\">\r\n                <farris-combo-list *ngIf=\"(rowData['item']==this.localePipe.transform('Or') || rowData['item']==this.localePipe.transform('And') || rowData['item']==null)&& rowData['displaySelect']\"\r\n     \r\n                [(ngModel)]=\"defaultSelectGroup\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"relations\" \r\n                (selectChange)=\"selectGroup($event)\">\r\n                </farris-combo-list>\r\n                \r\n                <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displaySelect']\"\r\n              \r\n                [(ngModel)]=\"defaultSelectItem\"\r\n                [idField]=\"'value'\"\r\n                [textField]=\"'text'\"\r\n                [data]=\"propertyListInner\" \r\n                (selectChange)=\"selectItem($event)\">\r\n                </farris-combo-list>\r\n              \r\n                <ng-container *ngIf=\"!rowData['displaySelect']\">\r\n                  <span>{{rowData[col.field]}}</span>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==1\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultOperatorText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"operators\"\r\n                [panelHeight]=200\r\n                (selectChange)=\"selectOperator($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayOperator']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==2\">\r\n              <farris-combo-list *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayExpressType']\"\r\n                [(ngModel)]=\"defaultExpressTypeText\"\r\n                [idField]=\"'id'\"\r\n                [textField]=\"'id'\"\r\n                [data]=\"expressTypes\"\r\n                (selectChange)=\"selectExpressType($event)\">\r\n              </farris-combo-list>\r\n              <ng-container *ngIf=\"!rowData['displayExpressType']\">\r\n                {{rowData[col.field]}}\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==3\">\r\n              <ng-container *ngIf=\"rowData['item']!=this.localePipe.transform('Or') && rowData['item']!=this.localePipe.transform('And') && rowData['item']!=null && rowData['displayValue']\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\" class=\"form-control\" placeholder=\"{{ 'PlaceHolder' | locale }}\" aria-describedby=\"button-addon\" [(ngModel)]=\"rowData['value']\"/>\r\n                <button *ngIf=\"rowData['expressType']==this.localePipe.transform('Expression')\" class=\"btn btn-outline-secondary\" style=\"border: none;width: 25px;padding-left: 4px\" type=\"button\" id=\"button-addon\" (click)=\"openExpressEditor()\"><span class=\"f-icon f-icon-windows\"></span></button>\r\n              </div>\r\n              </ng-container>\r\n              <ng-container *ngIf=\"!rowData['displayValue']\">\r\n                <span style=\"display: inline-block;overflow: hidden;width: 100%\">{{rowData[col.field]}}</span>\r\n              </ng-container>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i==4\">\r\n                <div class=\"btn-group mr-3\" fDropdown>\r\n                  <button class=\"btn btn-link\" fDropdownToggle type=\"button\">\r\n                    {{ 'Add' | locale }}\r\n                  </button>\r\n                  <div class=\"dropdown-menu\" fDropdownMenu>\r\n                    <li class=\"dropdown-item\" (click)=\"addGroup()\"><span>{{ 'AddGroup' | locale }}</span></li>\r\n                    <li class=\"dropdown-item\" (click)=\"addItem()\"><span>{{ 'AddItem' | locale }}</span></li>\r\n                  </div>\r\n                </div>\r\n                <button style=\"padding-left: 16px;\" type=\"button\" class=\"btn btn-link\" (click)=\"deleteNode(rowData['id'])\">{{ 'Delete' | locale }}</button> \r\n            </ng-container>\r\n          </div>\r\n          </td>\r\n        </tr>\r\n      </ng-template>\r\n    </farris-treetable>\r\n</div>\r\n",
                    providers: [ExpressionService, PropertyAdapter],
                    encapsulation: ViewEncapsulation.None,
                    styles: [".lpopup kendo-button-list{height:250px;overflow-y:auto}.footer{position:fixed;bottom:0;left:0;right:0}.farristreetable .farris-treetable .farris-treetable-tbody tr td{overflow:inherit}.filter{height:100%}"]
                }] }
    ];
    /** @nocollapse */
    FilterExpressionComponent.ctorParameters = function () { return [
        { type: ExpressionService },
        { type: PropertyAdapter },
        { type: NotifyService },
        { type: Injector },
        { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }
    ]; };
    FilterExpressionComponent.propDecorators = {
        tt: [{ type: ViewChild, args: ['tt',] }],
        contextEntity: [{ type: Input }],
        expressionText: [{ type: Input }],
        expressionSchema: [{ type: Input }],
        expressionInjectedEntities: [{ type: Input }],
        expressionCDT: [{ type: Input }],
        propertyList: [{ type: Input }],
        filterExpressionString: [{ type: Input }],
        schemaName: [{ type: Input }],
        schema: [{ type: Input }],
        newSchema: [{ type: Input }],
        injectedEntity: [{ type: Input }],
        gspCommonObject: [{ type: Input }],
        disabled: [{ type: Input }]
    };
    return FilterExpressionComponent;
}());
export { FilterExpressionComponent };
if (false) {
    /** @type {?} */
    FilterExpressionComponent.prototype.localePipe;
    /** @type {?} */
    FilterExpressionComponent.prototype.treeDataTemp;
    /** @type {?} */
    FilterExpressionComponent.prototype.tt;
    /** @type {?} */
    FilterExpressionComponent.prototype.contextEntity;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionText;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionSchema;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionInjectedEntities;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressionCDT;
    /** @type {?} */
    FilterExpressionComponent.prototype.propertyList;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterExpressionString;
    /** @type {?} */
    FilterExpressionComponent.prototype.schemaName;
    /** @type {?} */
    FilterExpressionComponent.prototype.schema;
    /** @type {?} */
    FilterExpressionComponent.prototype.newSchema;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterNewSchemaMap;
    /** @type {?} */
    FilterExpressionComponent.prototype.injectedEntity;
    /** @type {?} */
    FilterExpressionComponent.prototype.gspCommonObject;
    /** @type {?} */
    FilterExpressionComponent.prototype.disabled;
    /** @type {?} */
    FilterExpressionComponent.prototype.propertyListInner;
    /** @type {?} */
    FilterExpressionComponent.prototype.operators;
    /** @type {?} */
    FilterExpressionComponent.prototype.stringOperators;
    /** @type {?} */
    FilterExpressionComponent.prototype.NumberOperators;
    /** @type {?} */
    FilterExpressionComponent.prototype.relations;
    /** @type {?} */
    FilterExpressionComponent.prototype.expressTypes;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterExpression;
    /** @type {?} */
    FilterExpressionComponent.prototype.nodeTemp;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultSelectGroup;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultSelectItem;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultOperatorText;
    /** @type {?} */
    FilterExpressionComponent.prototype.defaultExpressTypeText;
    /** @type {?} */
    FilterExpressionComponent.prototype.displayPopup;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterExpressionPre;
    /** @type {?} */
    FilterExpressionComponent.prototype.checkFilterStruc;
    /** @type {?} */
    FilterExpressionComponent.prototype.filterSchemaMap;
    /** @type {?} */
    FilterExpressionComponent.prototype.adapter;
    /** @type {?} */
    FilterExpressionComponent.prototype.treeData;
    /** @type {?} */
    FilterExpressionComponent.prototype.columnWidth;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.notifies;
    /** @type {?} */
    FilterExpressionComponent.prototype.cols;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.expr;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.propertyAdapter;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.notifyservice;
    /**
     * @type {?}
     * @private
     */
    FilterExpressionComponent.prototype.injector;
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWV4cHJlc3Npb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1zdmMvZmlsdGVyY29uZGl0aW9uLyIsInNvdXJjZXMiOlsibGliL2ZpbHRlci1leHByZXNzaW9uL2ZpbHRlci1leHByZXNzaW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBMkMsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckosT0FBTyxFQUFFLGtCQUFrQixFQUFZLE1BQU0sc0JBQXNCLENBQUM7QUFDcEUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBSy9FLE9BQU8sRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsZUFBZSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2pGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRXRELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzFELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsa0JBQWtCLEVBQW9CLE1BQU0sV0FBVyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUM1RSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3pD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QixnREFBa0Q7Ozs7O0lBRWxELDZDQUFzQjs7SUFDdEIseUNBQVk7Ozs7O0lBNUVBLHlDQUErQjs7Ozs7SUFDekMsb0RBQXdDOzs7OztJQUN4QyxrREFBb0M7Ozs7O0lBQ3BDLDZDQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NoaWxkLCBJbnB1dCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIE9uSW5pdCwgT25DaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiwgTE9DQUxFX0lELCBJbmplY3QsIEluamVjdG9yIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVUYWJsZUNvbXBvbmVudCwgVHJlZU5vZGUgfSBmcm9tICdAZmFycmlzL3VpLXRyZWV0YWJsZSc7XHJcbmltcG9ydCB7IEZpbHRlckV4cHJlc3Npb24sIEV4cHJlc3Npb25JdGVtIH0gZnJvbSAnLi4vZmlsdGVyLWV4cHJlc3Npb24tZW50aXR5JztcclxuaW1wb3J0IHsgVmFyRW50aXR5IH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IFNjaGVtYSB9IGZyb20gJ0Bnc3Atc3ZjL2V4cHJlc3Npb24nO1xyXG5pbXBvcnQgeyBHc3BDb21tb25EYXRhVHlwZSB9IGZyb20gJ0Bnc3AtYmVmL2dzcC1jbS1tZXRhZGF0YSc7XHJcbmltcG9ydCB7IEluamVjdGVkRW50aXR5IH0gZnJvbSAnQGdzcC1zdmMvZXhwcmVzc2lvbic7XHJcbmltcG9ydCB7IEV4cHJlc3NUeXBlRW51bSwgUmVsYXRpb25UeXBlRW51bSwgQ29tcGFyZVR5cGVFbnVtIH0gZnJvbSAnLi4vdHlwZWluZm8nO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uU2VydmljZSB9IGZyb20gJ0Bnc3Atc3ZjL2V4cHJlc3Npb24nO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eURhdGFUeXBlIH0gZnJvbSAnLi4vcHJvcGVydHktZW50aXR5JztcclxuaW1wb3J0IHsgRmllbGRUeXBlIH0gZnJvbSAnLi4vZmllbGQtdHlwZSc7XHJcbmltcG9ydCB7IEZpbHRlckluamVjdGVkRW50aXR5IH0gZnJvbSAnLi4vaW5qZWN0ZWQtZW50aXR5JztcclxuaW1wb3J0IHsgUHJvcGVydHlBZGFwdGVyIH0gZnJvbSAnLi4vcHJvcGVydHktYWRhcHRlcic7XHJcbmltcG9ydCB7IEZpbHRlckVudGl0eVNjaGVtYSwgRmlsdGVyRW50aXR5VHlwZSB9IGZyb20gJy4uL3NjaGVtYSc7XHJcbmltcG9ydCB7IEdTUENvbW1vbk9iamVjdCB9IGZyb20gJ0Bnc3AtYmVmL2dzcC1jbS1tZXRhZGF0YSc7XHJcbmltcG9ydCB7IEFkYXB0ZXIgfSBmcm9tICcuLi9hZGFwdGVyJztcclxuaW1wb3J0IHsgTm90aWZ5U2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbm90aWZ5JztcclxuaW1wb3J0IHsgRmlsdGVyQ29uZGl0aW9uTG9jYWxlUGlwZSB9IGZyb20gJy4uL2ZpbHRlci1jb25kaXRpb24tbG9jYWxlLnBpcGUnO1xyXG5pbXBvcnQgeyBOZXdTY2hlbWEgfSBmcm9tICcuLi9OZXdTY2hlbWEnO1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC1maWx0ZXItZXhwcmVzc2lvbicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2ZpbHRlci1leHByZXNzaW9uLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9maWx0ZXItZXhwcmVzc2lvbi5jb21wb25lbnQuY3NzJ10sXHJcbiAgcHJvdmlkZXJzOiBbRXhwcmVzc2lvblNlcnZpY2UsIFByb3BlcnR5QWRhcHRlcl0sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxyXG59KVxyXG4vKipcclxuICog6L+H5ruk5p2h5Lu26Z2i5p2/6YC76L6R57G7XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRmlsdGVyRXhwcmVzc2lvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XHJcbiAgbG9jYWxlUGlwZTogRmlsdGVyQ29uZGl0aW9uTG9jYWxlUGlwZTtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGV4cHI6IEV4cHJlc3Npb25TZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBwcm9wZXJ0eUFkYXB0ZXI6IFByb3BlcnR5QWRhcHRlcixcclxuICAgIHByaXZhdGUgbm90aWZ5c2VydmljZTogTm90aWZ5U2VydmljZSxcclxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgQEluamVjdChMT0NBTEVfSUQpIGxvY2FsZUlkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMubG9jYWxlUGlwZSA9IG5ldyBGaWx0ZXJDb25kaXRpb25Mb2NhbGVQaXBlKGxvY2FsZUlkKTtcclxuICB9XHJcbiAgdHJlZURhdGFUZW1wOiBUcmVlTm9kZVtdXHJcbiAgLy/ojrflvpfmoJHliJfooajnu4Tku7bmn4RcclxuICBAVmlld0NoaWxkKCd0dCcpIHR0OiBUcmVlVGFibGVDb21wb25lbnQ7XHJcbiAgLy/pooTnva7orqHnrpfooajovr7lvI/kuIrkuIvmloflrp7kvZNcclxuICBASW5wdXQoKSBjb250ZXh0RW50aXR5OiBWYXJFbnRpdHlbXSA9IFtdO1xyXG4gIC8v6aKE572u6K6h566X6buY6K6k6KGo6L6+5byP5pi+56S6XHJcbiAgQElucHV0KCkgZXhwcmVzc2lvblRleHQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgLy/pooTnva7orqHnrpfooajovr7lvI/kuK3nmoRzY2hlbWFcclxuICBASW5wdXQoKSBleHByZXNzaW9uU2NoZW1hOiBBcnJheTx7IG5hbWU6IHN0cmluZywgc2NoZW1hOiBTY2hlbWEgfT4gPSBbXTtcclxuICAvL+mihOe9ruiuoeeul+ihqOi+vuW8j+S4reeahOazqOWFpeWunuS9k1xyXG4gIEBJbnB1dCgpIGV4cHJlc3Npb25JbmplY3RlZEVudGl0aWVzOiBJbmplY3RlZEVudGl0eVtdID0gW107XHJcbiAgLy/pooTnva7orqHnrpfooajovr7lvI9jZHTpm4ZcclxuICBASW5wdXQoKSBleHByZXNzaW9uQ0RUOiBHc3BDb21tb25EYXRhVHlwZVtdID0gW107XHJcbiAgLy/pooTnva7lsZ7mgKfliJfooahcclxuICBASW5wdXQoKSBwcm9wZXJ0eUxpc3Q6IEFycmF5PHsgdGV4dDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBwcm9wZXJ0eUZpZWxkVHlwZTogUHJvcGVydHlEYXRhVHlwZSB9PiA9IFtdO1xyXG4gIC8v6aKE572u6L+H5ruk6KGo6L6+5byP5LiyXHJcbiAgQElucHV0KCkgZmlsdGVyRXhwcmVzc2lvblN0cmluZzogc3RyaW5nID0gbnVsbDtcclxuICAvL+mihOe9rnNjaGVtYeWQjVxyXG4gIEBJbnB1dCgpIHNjaGVtYU5hbWU6IHN0cmluZztcclxuICAvL+mihOe9rui/h+a7pOihqOi+vuW8j3NjaGVtYVxyXG4gIEBJbnB1dCgpIHNjaGVtYTogRmlsdGVyRW50aXR5U2NoZW1hO1xyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT095YiG5Ymy57q/5LmLTmV3U2NoZW1hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIEBJbnB1dCgpIG5ld1NjaGVtYTogTmV3U2NoZW1hO1xyXG4gIC8vc2NoZW1h5a2Y5YKo57uT5p6EXHJcbiAgZmlsdGVyTmV3U2NoZW1hTWFwID0gbmV3IE1hcDxzdHJpbmcsIE5ld1NjaGVtYT4oKTtcclxuICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy/ov4fmu6Tooajovr7lvI/ms6jlhaXlrp7kvZNcclxuICBASW5wdXQoKSBpbmplY3RlZEVudGl0eTogRmlsdGVySW5qZWN0ZWRFbnRpdHk7XHJcbiAgLy/ms6jlhaVDT1xyXG4gIEBJbnB1dCgpIGdzcENvbW1vbk9iamVjdDogR1NQQ29tbW9uT2JqZWN0O1xyXG5cclxuICBASW5wdXQoKSBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8v5YaF6YOo5bGe5oCn5YiX6KGo5L2/55SoXHJcbiAgcHJvcGVydHlMaXN0SW5uZXI6IEFycmF5PHsgdGV4dDogc3RyaW5nLCBwcm9wZXJ0eURhdGFUeXBlOiBQcm9wZXJ0eURhdGFUeXBlLCB2YWx1ZTogc3RyaW5nLCBwYXJlbnRJdGVtOiBzdHJpbmcgfT4gPSBbXTtcclxuICAvL+aTjeS9nOavlOi+g+espumbhlxyXG4gIHB1YmxpYyBvcGVyYXRvcnMgPSBbXTtcclxuXHJcbiAgcHVibGljIHN0cmluZ09wZXJhdG9ycyA9IFtdO1xyXG5cclxuICBwdWJsaWMgTnVtYmVyT3BlcmF0b3JzID0gW107XHJcbiAgLy/lhbPns7vpm4ZcclxuICBwdWJsaWMgcmVsYXRpb25zID0gW107XHJcbiAgLy/ooajovr7lvI/nsbvlnovpm4ZcclxuICBwdWJsaWMgZXhwcmVzc1R5cGVzID0gW107XHJcbiAgcHVibGljIGZpbHRlckV4cHJlc3Npb246IEZpbHRlckV4cHJlc3Npb247XHJcbiAgLy/moJHlvaLnu5PmnoToioLngrnlrp7kvZPpm4ZcclxuICBwdWJsaWMgbm9kZVRlbXA6IFRyZWVOb2RlW107XHJcbiAgZGVmYXVsdFNlbGVjdEdyb3VwOiBzdHJpbmc7XHJcbiAgZGVmYXVsdFNlbGVjdEl0ZW06IHN0cmluZztcclxuICAvL+aTjeS9nOavlOi+g+espum7mOiupOaYvuekuuWAvFxyXG4gIHB1YmxpYyBkZWZhdWx0T3BlcmF0b3JUZXh0OiBzdHJpbmc7XHJcbiAgLy/ooajovr7lvI/nsbvlnovpu5jorqTmmL7npLrlgLxcclxuICBwdWJsaWMgZGVmYXVsdEV4cHJlc3NUeXBlVGV4dDtcclxuXHJcbiAgcHVibGljIGRpc3BsYXlQb3B1cDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8vIHB1YmxpYyBkZWZhdWx0T3BlcmF0b3I6IHsgdGV4dDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIH0gPSB7IHRleHQ6IG51bGwsIHZhbHVlOiBudWxsIH07XHJcbiAgLy/ooajovr7lvI/nsbvlnovpu5jorqTmmL7npLrlgLwgXHJcbiAgLy8gcHVibGljIGRlZmF1bHRFeHByZXNzVHlwZTogeyB0ZXh0OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfSA9IHsgdGV4dDogbnVsbCwgdmFsdWU6IG51bGwgfTtcclxuICAvL+mihOe9rui/h+a7pOihqOi+vuW8j+WunuS9k1xyXG4gIHB1YmxpYyBmaWx0ZXJFeHByZXNzaW9uUHJlOiBGaWx0ZXJFeHByZXNzaW9uO1xyXG4gIC8v5qOA5p+l6L+H5ruk5p2h5Lu25a6e5L2T5piv5ZCm5a6M5pW05q2j56GuXHJcbiAgcHVibGljIGNoZWNrRmlsdGVyU3RydWM6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIC8vc2NoZW1h5a2Y5YKo57uT5p6EXHJcbiAgZmlsdGVyU2NoZW1hTWFwID0gbmV3IE1hcDxzdHJpbmcsIEZpbHRlckVudGl0eVNjaGVtYT4oKTtcclxuICBhZGFwdGVyOiBBZGFwdGVyID0gbmV3IEFkYXB0ZXIoKTtcclxuICB0cmVlRGF0YTogVHJlZU5vZGVbXSA9IFtdO1xyXG4gIGNvbHVtbldpZHRoID0gW1wiMzAlXCIsIFwiMjAlXCIsIFwiMjAlXCIsIFwiMjAlXCIsIFwiMTAlXCJdO1xyXG4gIC8v5raI5oGv5o+Q56S6XHJcbiAgcHJpdmF0ZSBub3RpZmllcyA9IHt9O1xyXG4gIGNvbHM6IGFueVtdO1xyXG4gIC8v5Yid5aeL5YyW77yM5aSN5Yi2dHJlZURhdGHlgLwsdHJlZURhdGFUZW1w55So5LqO6L2s5o2i5Li6RmlsdGVyRXhwcmVzc2lvbuWunuS9k1xyXG4gIG5nT25DaGFuZ2VzKCk6IHZvaWQge1xyXG4gICAgLy/lubbkuJTmoJHlvaLooajnu5HlrprnmoTmmL7npLrnmoTliJcgXHJcbiAgICB0aGlzLmNvbHMgPSBbXHJcbiAgICAgIHsgZmllbGQ6ICdpdGVtJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJdGVtXCIpLCB3aWR0aDogMjcxIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdvcGVyYXRvcicsIHRpdGxlOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3BlcmF0b3JcIiksIHdpZHRoOiAxOTEgfSxcclxuICAgICAgeyBmaWVsZDogJ2V4cHJlc3NUeXBlJywgdGl0bGU6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFeHByZXNzVHlwZVwiKSwgd2lkdGg6IDE4MCB9LFxyXG4gICAgICB7IGZpZWxkOiAndmFsdWUnLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpLCB3aWR0aDogMjE0IH0sXHJcbiAgICAgIHsgZmllbGQ6ICdvcGVyYXRpb24nLCB0aXRsZTogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9wZXJhdGlvblwiKSwgd2lkdGg6IDEzMCB9XTtcclxuXHJcbiAgICB0aGlzLnByb3BlcnR5TGlzdElubmVyID0gW107XHJcbiAgICB0aGlzLnRyZWVEYXRhVGVtcCA9IHRoaXMudHJlZURhdGE7XHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PeWIhuWJsue6v+S5i05ld1NjaGVtYT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy/ms6jlhaVOZXdTY2hlbWFcclxuICAgIGlmICh0aGlzLnNjaGVtYU5hbWUgJiYgdGhpcy5uZXdTY2hlbWEpIHtcclxuICAgICAgdGhpcy5hZGROZXdTY2hlbWEodGhpcy5zY2hlbWFOYW1lLCB0aGlzLm5ld1NjaGVtYSk7XHJcbiAgICAgIC8v5rOo5YWlY29cclxuICAgICAgaWYgKHRoaXMuZ3NwQ29tbW9uT2JqZWN0KSB7XHJcbiAgICAgICAgbGV0IG5ld1NjaGVtYTogTmV3U2NoZW1hO1xyXG4gICAgICAgIC8v6Iulc2NoZW1hTWFw5Lit5a2Y5ZyoQ0/nmoRzY2hlbWFcclxuICAgICAgICBpZiAoKHRoaXMuZmlsdGVyTmV3U2NoZW1hTWFwLmdldChcIkNvbW1vbk9iamVjdFwiKSkpIHtcclxuICAgICAgICAgIG5ld1NjaGVtYSA9IHRoaXMuZmlsdGVyTmV3U2NoZW1hTWFwLmdldChcIkNvbW1vbk9iamVjdFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbmV3U2NoZW1hID0gbmV3IE5ld1NjaGVtYSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+Wwhuavj+S4gOS4qkNP6L2s5YyW5Li6c2NoZW1h5YaF6YOo57uT5p6E5Lit55qEZW50aXR5VHlwZVxyXG4gICAgICAgIGxldCBlbnRpdHlUeXBlcyA9IHRoaXMuYWRhcHRlci5jb252ZXJ0Q09PZk5ld1NjaGVtYSh0aGlzLmdzcENvbW1vbk9iamVjdCk7XHJcbiAgICAgICAgaWYgKChlbnRpdHlUeXBlcykgJiYgZW50aXR5VHlwZXMubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgIGVudGl0eVR5cGVzLmZvckVhY2goZW50aXR5VHlwZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuZXdTY2hlbWEuZW50aXR5VHlwZXMuZmluZCh4ID0+IHguY29kZSA9PSBlbnRpdHlUeXBlLmNvZGUpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICBuZXdTY2hlbWEuZW50aXR5VHlwZXMucHVzaChlbnRpdHlUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v5bCG5ZCI5bm25ZCO55qEc2NoZW1h5pS+5YWl5YaF6YOo5LiK5LiL5paH5a6e5L2T5LitXHJcbiAgICAgICAgdGhpcy5hZGROZXdTY2hlbWEoXCJDb21tb25PYmplY3RcIiwgbmV3U2NoZW1hKTtcclxuICAgICAgfVxyXG4gICAgICAvL+a3u+WKoOWxnuaAp+WIl+ihqFxyXG4gICAgICB0aGlzLnByb3BlcnR5TGlzdC5mb3JFYWNoKHByb3BlcnR5ID0+IHtcclxuICAgICAgICBsZXQgcHJvcGVydHlJbm5lciA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWU6IHByb3BlcnR5LnZhbHVlLFxyXG4gICAgICAgICAgdGV4dDogcHJvcGVydHkudGV4dCxcclxuICAgICAgICAgIHByb3BlcnR5RGF0YVR5cGU6IHByb3BlcnR5LnByb3BlcnR5RmllbGRUeXBlLFxyXG4gICAgICAgICAgcGFyZW50SXRlbTogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUxpc3RJbm5lci5wdXNoKHByb3BlcnR5SW5uZXIpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCh0aGlzLmluamVjdGVkRW50aXR5KSkge1xyXG4gICAgICAgIHRoaXMucHJvcGVydHlBZGFwdGVyLmFkYXB0ZXJPZk5ld1NjaGVtYSh0aGlzLmluamVjdGVkRW50aXR5LCB0aGlzLmZpbHRlck5ld1NjaGVtYU1hcCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMucHJvcGVydHlMaXN0SW5uZXIucHVzaChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT095penU2NoZW1hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgIGlmICh0aGlzLnNjaGVtYU5hbWUgIT0gbnVsbCAmJiAodGhpcy5zY2hlbWEpKSB7XHJcbiAgICAgICAgdGhpcy5hZGRTY2hlbWEodGhpcy5zY2hlbWFOYW1lLCB0aGlzLnNjaGVtYSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCh0aGlzLmdzcENvbW1vbk9iamVjdCkpIHtcclxuICAgICAgICBsZXQgc2NoZW1hOiBGaWx0ZXJFbnRpdHlTY2hlbWE7XHJcbiAgICAgICAgLy/oi6VzY2hlbWFNYXDkuK3lrZjlnKhDT+eahHNjaGVtYVxyXG4gICAgICAgIGlmICgodGhpcy5maWx0ZXJTY2hlbWFNYXAuZ2V0KFwiQ29tbW9uT2JqZWN0XCIpKSkge1xyXG4gICAgICAgICAgc2NoZW1hID0gdGhpcy5maWx0ZXJTY2hlbWFNYXAuZ2V0KFwiQ29tbW9uT2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICBzY2hlbWEgPSBuZXcgRmlsdGVyRW50aXR5U2NoZW1hKCk7XHJcbiAgICAgICAgLy/lsIbmr4/kuIDkuKpDT+i9rOWMluS4unNjaGVtYeWGhemDqOe7k+aehOS4reeahGVudGl0eVR5cGVcclxuICAgICAgICBsZXQgZW50aXR5VHlwZXMgPSB0aGlzLmFkYXB0ZXIuY29udmVydENPKHRoaXMuZ3NwQ29tbW9uT2JqZWN0KTtcclxuICAgICAgICBpZiAoKGVudGl0eVR5cGVzKSAmJiBlbnRpdHlUeXBlcy5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgZW50aXR5VHlwZXMuZm9yRWFjaChlbnRpdHlUeXBlID0+IHtcclxuICAgICAgICAgICAgaWYgKHNjaGVtYS5lbnRpdHlUeXBlcy5maW5kKHggPT4geC5uYW1lID09IGVudGl0eVR5cGUubmFtZSkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHNjaGVtYS5lbnRpdHlUeXBlcy5wdXNoKGVudGl0eVR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lsIblkIjlubblkI7nmoRzY2hlbWHmlL7lhaXlhoXpg6jkuIrkuIvmloflrp7kvZPkuK1cclxuICAgICAgICB0aGlzLmFkZFNjaGVtYShcIkNvbW1vbk9iamVjdFwiLCBzY2hlbWEpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcGVydHlMaXN0LmZvckVhY2gocHJvcGVydHkgPT4ge1xyXG4gICAgICAgIGxldCBwcm9wZXJ0eUlubmVyID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICB0ZXh0OiBwcm9wZXJ0eS50ZXh0LFxyXG4gICAgICAgICAgcHJvcGVydHlEYXRhVHlwZTogcHJvcGVydHkucHJvcGVydHlGaWVsZFR5cGUsXHJcbiAgICAgICAgICB2YWx1ZTogcHJvcGVydHkudmFsdWUsXHJcbiAgICAgICAgICBwYXJlbnRJdGVtOiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByb3BlcnR5TGlzdElubmVyLnB1c2gocHJvcGVydHlJbm5lcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoKHRoaXMuaW5qZWN0ZWRFbnRpdHkpKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0eUFkYXB0ZXIuYWRhcHRlcih0aGlzLmluamVjdGVkRW50aXR5LCB0aGlzLmZpbHRlclNjaGVtYU1hcCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMucHJvcGVydHlMaXN0SW5uZXIucHVzaChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGVmYXVsdEV4cHJlc3NUeXBlVGV4dCA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKTtcclxuICAgIHRoaXMuZGVmYXVsdFNlbGVjdEdyb3VwID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnQW5kJyk7XHJcbiAgICB0aGlzLmRlZmF1bHRTZWxlY3RJdGVtID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlNlbGVjdEl0ZW1cIik7XHJcbiAgICB0aGlzLmRlZmF1bHRPcGVyYXRvclRleHQgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5cIik7XHJcbiAgICB0aGlzLm5vdGlmaWVzID0ge1xyXG4gICAgICAxOiB7IHR5cGU6ICdzdWNjZXNzJywgbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3VjY2Vzc1wiKSB9LFxyXG4gICAgICAyOiB7IHR5cGU6ICd3YXJuaW5nJywgbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19TZWxlY3RSZWxhdGlvblwiKSB9LFxyXG4gICAgICAzOiB7IHR5cGU6ICd3YXJuaW5nJywgbXNnOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiV2FybmluZ19Db250YWluc0ZpbHRlcnNcIikgfSxcclxuICAgICAgNDogeyB0eXBlOiAnd2FybmluZycsIG1zZzogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIldhcm5pbmdfQ29uZGl0aW9uc0NvbXBsZXRlXCIpIH0sXHJcbiAgICAgIDU6IHsgdHlwZTogJ3dhcm5pbmcnLCBtc2c6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJXYXJuaW5nX051bWVyaWNNYXRjaFwiKSB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5leHByZXNzVHlwZXMgPSBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXhwcmVzc2lvblwiKSB9XHJcbiAgICBdO1xyXG4gICAgdGhpcy5yZWxhdGlvbnMgPSBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk9yXCIpIH0sXHJcbiAgICBdO1xyXG4gICAgdGhpcy5OdW1iZXJPcGVyYXRvcnMgPSBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJMZXNzVGhhblwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5PckVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOb3ROdWxsXCIpIH0sXHJcbiAgICBdO1xyXG4gICAgdGhpcy5zdHJpbmdPcGVyYXRvcnMgPSBbXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkNvbnRhaW5zXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RDb250YWluc1wiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU3RhcnRzV2l0aFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRW5kc1dpdGhcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdFN0YXJ0c1dpdGhcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTm90TnVsbFwiKSB9LFxyXG4gICAgXTtcclxuICAgIHRoaXMub3BlcmF0b3JzID0gW1xyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5cIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkdyZWF0ZXJUaGFuT3JFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5cIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuT3JFcXVhbFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVxdWFsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJDb250YWluc1wiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90Q29udGFpbnNcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN0YXJ0c1dpdGhcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVuZHNXaXRoXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RTdGFydHNXaXRoXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFbmRzV2l0aFwiKSB9LFxyXG4gICAgICB7IGlkOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSXNOdWxsXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIikgfSxcclxuICAgICAgeyBpZDogdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkluXCIpIH0sXHJcbiAgICAgIHsgaWQ6IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RJblwiKSB9LFxyXG4gICAgXTtcclxuICAgIHRoaXMub25DYW5jZWwoKTtcclxuICB9XHJcblxyXG4gIC8vPT09PT09PT09PT09PT09PT3mt7vliqBOZXdTY2hlbWE9PT09PT09PT09PT09PT09PT09PT1cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24g5re75YqgTmV3U2NoZW1h5YiwTWFw5LitXHJcbiAgICogQHBhcmFtIG5hbWUgc2NoZW1h5ZCN56ewXHJcbiAgICogQHBhcmFtIGZpbHRlck5ld1NjaGVtYSDms6jlhaXnmoTnu5/kuIDnu5PmnoROZXdTY2hlbWFcclxuICAgKi9cclxuICBhZGROZXdTY2hlbWEobmFtZTogc3RyaW5nLCBmaWx0ZXJOZXdTY2hlbWE6IE5ld1NjaGVtYSkge1xyXG4gICAgdGhpcy5maWx0ZXJOZXdTY2hlbWFNYXAuc2V0KG5hbWUsIGZpbHRlck5ld1NjaGVtYSk7XHJcbiAgfVxyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICog5re75Yqgc2NoZW1h5YWlTWFwXHJcbiAgICogQHBhcmFtIG5hbWUgc2NoZW1h5ZCNXHJcbiAgICogQHBhcmFtIGZpbHRlclNjaGVtYSBcclxuICAgKi9cclxuICBhZGRTY2hlbWEobmFtZTogc3RyaW5nLCBmaWx0ZXJTY2hlbWE6IEZpbHRlckVudGl0eVNjaGVtYSkge1xyXG4gICAgdGhpcy5maWx0ZXJTY2hlbWFNYXAuc2V0KG5hbWUsIGZpbHRlclNjaGVtYSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOagkeW9ouihqOS4reiKgueCuemAieaLqeinpuWPkeWHveaVsFxyXG4gICAqIEBwYXJhbSAkZXZlbnQg5omA6YCJ6IqC54K55L+h5oGvXHJcbiAgICovXHJcbiAgbm9kZVNlbGVjdGVkKCRldmVudCkge1xyXG4gICAgLy/pmpDol4/mjonmiYDmnInnmoToioLngrnpgInmi6nnvJbovpHmoYbvvIzljIXmi6zlrZDoioLngrnnmoRcclxuICAgIHRoaXMuaGlkZU5vZGVFZGl0b3IodGhpcy50cmVlRGF0YSk7XHJcbiAgICAvL+WwhuaJgOmAieiKgueCueavlOi+g+mhueOAgeihqOi+vuW8j+exu+Wei+mhueOAgeWAvOe8lui+keahhuaYvuekuu+8jOW5tuWwhuaJgOmAieWvueW6lOaVsOaNrui1i+e7mem7mOiupOmhuei/m+ihjOaYvuekulxyXG4gICAgdGhpcy5kZWZhdWx0T3BlcmF0b3JUZXh0ID0gJGV2ZW50Lm5vZGUuZGF0YS5vcGVyYXRvcjtcclxuICAgIHRoaXMuZGVmYXVsdEV4cHJlc3NUeXBlVGV4dCA9ICRldmVudC5ub2RlLmRhdGEuZXhwcmVzc1R5cGU7XHJcbiAgICBpZiAoJGV2ZW50Lm5vZGUuZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ0FuZCcpIHx8ICRldmVudC5ub2RlLmRhdGEuaXRlbSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdPcicpKSB7XHJcbiAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEdyb3VwID0gJGV2ZW50Lm5vZGUuZGF0YS5pdGVtO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoJGV2ZW50Lm5vZGUuZGF0YS5pdGVtICE9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIikpIHtcclxuICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5TGlzdElubmVyLmZpbHRlcih4ID0+IHgudGV4dCA9PSAkZXZlbnQubm9kZS5kYXRhLml0ZW0pO1xyXG4gICAgICB0aGlzLmRlZmF1bHRTZWxlY3RJdGVtID0gcHJvcGVydGllc1swXS52YWx1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCRldmVudC5ub2RlLmRhdGEuaXRlbSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIikpIHtcclxuICAgICAgdGhpcy5kZWZhdWx0U2VsZWN0SXRlbSA9ICRldmVudC5ub2RlLmRhdGEuaXRlbTtcclxuICAgIH1cclxuICAgIHRoaXMudHJlZURhdGEgPSBbLi4udGhpcy50cmVlRGF0YV07XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlPcGVyYXRvciA9IHRydWU7XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlFeHByZXNzVHlwZSA9IHRydWU7XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlWYWx1ZSA9IHRydWU7XHJcbiAgICAkZXZlbnQubm9kZS5kYXRhLmRpc3BsYXlTZWxlY3QgPSB0cnVlO1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICog6ZqQ6JeP5o6J5omA5pyJ55qE6IqC54K56YCJ5oup57yW6L6R5qGG77yM5YyF5ous5a2Q6IqC54K555qEXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKi9cclxuICBoaWRlTm9kZUVkaXRvcih0cmVlTm9kZXM6IFRyZWVOb2RlW10pIHtcclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICBlbGVtZW50LmRhdGEuZGlzcGxheU9wZXJhdG9yID0gZmFsc2U7XHJcbiAgICAgIGVsZW1lbnQuZGF0YS5kaXNwbGF5RXhwcmVzc1R5cGUgPSBmYWxzZTtcclxuICAgICAgZWxlbWVudC5kYXRhLmRpc3BsYXlWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICBlbGVtZW50LmRhdGEuZGlzcGxheVNlbGVjdCA9IGZhbHNlO1xyXG4gICAgICAvL+iLpeacieWtkOiKgueCue+8jOWImeWwhuWFtuWtkOiKgueCueeahOe8lui+kemAieaLqeahhumakOiXj1xyXG4gICAgICBpZiAoKGVsZW1lbnQuY2hpbGRyZW4pICYmIGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLmhpZGVOb2RlRWRpdG9yKGVsZW1lbnQuY2hpbGRyZW4pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIC8v6IqC54K55pyq6YCJ5oup5Ye95pWwXHJcbiAgbm9kZVVuU2VsZWN0KCkge1xyXG4gICAgY29uc29sZS5sb2coXCJub2RlVW5zZWxlY3RcIik7XHJcbiAgfTtcclxuICAvKioqXHJcbiAgKiDpgInmi6npgLvovpHpm4bml7ZcclxuICAqL1xyXG4gIHNlbGVjdEdyb3VwKCRldmVudCkge1xyXG4gICAgdGhpcy5wcm9wZXJ0eU5vZGVPcGVyYXRlKCRldmVudCwgdGhpcy50cmVlRGF0YSwgRmllbGRUeXBlLkdyb3VwKTtcclxuICB9XHJcbiAgLyoqKlxyXG4gICAqIOmAieaLqemhueaXtlxyXG4gICAqL1xyXG4gIHNlbGVjdEl0ZW0oJGV2ZW50KSB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuSXRlbSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOmAieaLqeavlOi+g+aTjeS9nOespuaXtlxyXG4gICAqIEBwYXJhbSAkZXZlbnQg5q+U6L6D5pON5L2c6aG55L+h5oGvXHJcbiAgICovXHJcbiAgc2VsZWN0T3BlcmF0b3IoJGV2ZW50KSB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuT3BlcmF0aW9uKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIOmAieaLqeWAvOexu+Wei+aXtlxyXG4gICAqIEBwYXJhbSAkZXZlbnQg5YC857G75Z6L6aG55L+h5oGvXHJcbiAgICovXHJcbiAgc2VsZWN0RXhwcmVzc1R5cGUoJGV2ZW50KSB7XHJcbiAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoJGV2ZW50LCB0aGlzLnRyZWVEYXRhLCBGaWVsZFR5cGUuVmFsdWV0eXBlKTtcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIOmAieaLqee7k+adn+WQjumakOiXj+ivpeWtl+autemAieaLqeahhlxyXG4gICAqIEBwYXJhbSB0cmVlTm9kZXMg5qCR5b2i6KGo57uR5a6a57uT5p6EXHJcbiAgICogQHBhcmFtIGZpZWxkVHlwZSDmiYDpgInlrZfmrrVcclxuICAgKi9cclxuICBoaWRlRmllbGRFZGl0b3IodHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBmaWVsZFR5cGU6IEZpZWxkVHlwZSkge1xyXG4gICAgLy/mib7liLDmiYDmk43kvZznmoToioLngrnvvIzmoLnmja7miYDpgInmi6nnmoTlrZfmrrXlsIblr7nlupTpgInmi6nnvJbovpHmoYbpmpDol49cclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKHRyZWVOb2RlID0+IHtcclxuICAgICAgaWYgKHRoaXMudHQuaXNTZWxlY3RlZCh0cmVlTm9kZSkpIHtcclxuICAgICAgICBzd2l0Y2ggKGZpZWxkVHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuSXRlbTogdHJlZU5vZGUuZGF0YS5kaXNwbGF5U2VsZWN0ID0gZmFsc2U7IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuT3BlcmF0aW9uOiB0cmVlTm9kZS5kYXRhLmRpc3BsYXlPcGVyYXRvciA9IGZhbHNlOyBicmVhaztcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLlZhbHVldHlwZTogdHJlZU5vZGUuZGF0YS5kaXNwbGF5RXhwcmVzc1R5cGUgPSBmYWxzZTsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeacquaJvuWIsOaJgOmAieiKgueCue+8jOWImeaJvuWFtuWtkOiKgueCuVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5oaWRlRmllbGRFZGl0b3IodHJlZU5vZGUuY2hpbGRyZW4sIGZpZWxkVHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmiZPlvIDorqHnrpfooajovr7lvI/nvJbovpHlmahcclxuICAgKi9cclxuICBvcGVuRXhwcmVzc0VkaXRvcigpIHtcclxuICAgIGxldCB0aGF0ID0gdGhpcztcclxuICAgIC8v5re75Yqg6aKE572u5LiK5LiL5paH5Y+Y6YePXHJcbiAgICBpZiAodGhpcy5jb250ZXh0RW50aXR5ICYmIHRoaXMuY29udGV4dEVudGl0eS5sZW5ndGggIT0gMCkge1xyXG4gICAgICB0aGlzLmNvbnRleHRFbnRpdHkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICB0aGlzLmV4cHIuYWRkQ29udGV4dChlbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL+a3u+WKoOmihOe9ruihqOi+vuW8j+aWh+acrFxyXG4gICAgbGV0IHNlbGVjdE5vZGUgPSB0aGlzLmlzU2VsZWN0ZWQodGhpcy50cmVlRGF0YSk7XHJcbiAgICBpZiAoKHNlbGVjdE5vZGUpICYmIChzZWxlY3ROb2RlLmRhdGEudmFsdWUgIT0gXCJcIikgJiYgKHNlbGVjdE5vZGUuZGF0YS52YWx1ZSAhPSBudWxsKSkge1xyXG4gICAgICB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQoc2VsZWN0Tm9kZS5kYXRhLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgdGhpcy5leHByLmFkZEV4cHJlc3Npb25UZXh0KHRoaXMuZXhwcmVzc2lvblRleHQpO1xyXG4gICAgLy/mt7vliqDms6jlhaXlrp7kvZNcclxuICAgIHRoaXMuZXhwcmVzc2lvbkluamVjdGVkRW50aXRpZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgdGhpcy5leHByLmFkZEluamVjdGVkRW50aXR5KGVsZW1lbnQubmFtZSwgZWxlbWVudC5zY2hlbWFOYW1lLCBlbGVtZW50LmluamVjdGVkTmFtZSwgZWxlbWVudC5pbmplY3RlZFR5cGUpO1xyXG4gICAgfSk7XHJcbiAgICAvL+a3u+WKoENEVFxyXG4gICAgdGhpcy5leHByLmFkZENEVCh0aGlzLmV4cHJlc3Npb25DRFQpO1xyXG4gICAgLy/mt7vliqBzY2hlbWFcclxuICAgIHRoaXMuZXhwcmVzc2lvblNjaGVtYS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICB0aGlzLmV4cHIuYWRkU2NoZW1hKGVsZW1lbnQubmFtZSwgZWxlbWVudC5zY2hlbWEpO1xyXG4gICAgfSk7XHJcbiAgICAvL+aJk+W8gOihqOi+vuW8j+e8lui+keWZqOW5tui/lOWbnue8lui+kee7k+aenFxyXG4gICAgdGhpcy5leHByLmJ1aWxkRXhwcmVzc2lvbigpLnRoZW4oaW5mbyA9PiB7XHJcbiAgICAgIGxldCBleHByZXNzSW5mbzogYW55ID0gaW5mbztcclxuICAgICAgdGhpcy5kaXNwbGF5RXhwcmVzc1Jlc3VsdCh0aGF0LnRyZWVEYXRhLCBleHByZXNzSW5mbyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6YCJ5Lit6IqC54K56YCJ5oupXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDlhbPns7vnu4RcclxuICAgKi9cclxuICBpc1NlbGVjdGVkKHRyZWVOb2RlczogVHJlZU5vZGVbXSk6IGFueSB7XHJcbiAgICBsZXQgdHJlZU5vZGU6IFRyZWVOb2RlO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMudHQuaXNTZWxlY3RlZCh0cmVlTm9kZXNbaV0pKSB7XHJcbiAgICAgICAgdHJlZU5vZGUgPSB0cmVlTm9kZXNbaV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgLy/oi6XlnKjor6XlsYLoioLngrnkuK3mnKrmib7liLDmiYDpgInoioLngrnvvIzliJnmib7lhbblrZDoioLngrlcclxuICAgICAgZWxzZSBpZiAoKHRyZWVOb2Rlc1tpXS5jaGlsZHJlbikgJiYgdHJlZU5vZGVzW2ldLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdHJlZU5vZGUgPSB0aGlzLmlzU2VsZWN0ZWQodHJlZU5vZGVzW2ldLmNoaWxkcmVuKTtcclxuICAgICAgICBpZiAoKHRyZWVOb2RlKSkgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cmVlTm9kZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5bCG6K6h566X6KGo6L6+5byP57uT5p6c5bGV56S65Yiw5a+55bqU6IqC54K5XHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZXhwcmVzc0luZm8g6K6h566X6KGo6L6+5byP5b6X5Yiw57uT5p6cXHJcbiAgICovXHJcbiAgZGlzcGxheUV4cHJlc3NSZXN1bHQodHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBleHByZXNzSW5mbzogc3RyaW5nKSB7XHJcbiAgICAvL+aJvuWIsOaJgOmAieiKgueCueWunuS9k++8jOW5tuWwhuiuoeeul+ihqOi+vuW8j+aJgOW+l+e7k+aenOi1i+e7meWvueW6lOWxnuaAp+i/m+ihjOaYvuekulxyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVOb2RlKSkge1xyXG4gICAgICAgIHRyZWVOb2RlLmRhdGEudmFsdWUgPSBleHByZXNzSW5mbztcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy/oi6XlnKjor6XlsYLoioLngrnkuK3mnKrmib7liLDmiYDpgInoioLngrnvvIzliJnmib7lhbblrZDoioLngrlcclxuICAgICAgZWxzZSBpZiAoKHRyZWVOb2RlLmNoaWxkcmVuKSAmJiB0cmVlTm9kZS5jaGlsZHJlbi5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheUV4cHJlc3NSZXN1bHQodHJlZU5vZGUuY2hpbGRyZW4sIGV4cHJlc3NJbmZvKTtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeS7jeacquaJvuWIsO+8jOWImeS4jei/m+ihjOS7u+S9leaTjeS9nFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWFs+ezu+mAieaLqeaMiemSrumAieaLqeS6i+S7tlxyXG4gICAqIEBwYXJhbSAkZXZlbnQg6YCJ5oup5oyJ6ZKu5omA6YCJ5L+h5oGvXHJcbiAgICovXHJcbiAgaXRlbUNsaWNrKCRldmVudCkge1xyXG4gICAgLy/oi6XpgInmi6nmt7vliqDlhbPns7tcclxuICAgIGlmICgkZXZlbnQudmFsdWUgPT0gUmVsYXRpb25UeXBlRW51bS5BZGRSZWxhdGlvbikge1xyXG4gICAgICB0aGlzLmFkZE5vZGUodGhpcy50cmVlRGF0YSwgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnQW5kJyksIG51bGwsIG51bGwpO1xyXG4gICAgfVxyXG4gICAgLy/oi6XpgInmi6nmt7vliqDlsZ7mgKdcclxuICAgIGVsc2UgaWYgKCRldmVudC52YWx1ZSA9PSBSZWxhdGlvblR5cGVFbnVtLkFkZFByb3BlcnR5KSB7XHJcbiAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0UHJvcGVydHlcIiksIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKSwgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpKTtcclxuICAgIH1cclxuICAgIGVsc2UgdGhpcy5wcm9wZXJ0eU5vZGVPcGVyYXRlKCRldmVudCwgdGhpcy50cmVlRGF0YSwgRmllbGRUeXBlLkl0ZW0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDpgInmi6nlsZ7mgKfoioLngrnmk43kvZxcclxuICAgKiDlr7nmlrDmt7vliqDnmoTlsZ7mgKfoioLngrnov5vooYzpgLvovpHlpITnkIZcclxuICAgKiBAcGFyYW0gZXZlbnQg54K55Ye75LqL5Lu2XHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZmllbGRUeXBlIOiKgueCueexu+Wei1xyXG4gICAqL1xyXG4gIHByb3BlcnR5Tm9kZU9wZXJhdGUoZXZlbnQ6IGFueSwgdHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBmaWVsZFR5cGU6IEZpZWxkVHlwZSkge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZW5vZGUgPT4ge1xyXG4gICAgICBpZiAodGhpcy50dC5pc1NlbGVjdGVkKHRyZWVub2RlKSkge1xyXG4gICAgICAgIC8v5a+55omA6YCJ6IqC54K56L+b6KGM6LWL5YC85pON5L2cXHJcbiAgICAgICAgc3dpdGNoIChmaWVsZFR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgRmllbGRUeXBlLkdyb3VwOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5pdGVtID0gZXZlbnQuZGF0YS5pZDtcclxuICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRTZWxlY3RHcm91cCA9IGV2ZW50LmRhdGEuaWQ7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5JdGVtOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5pdGVtID0gZXZlbnQuZGF0YS50ZXh0O1xyXG4gICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSBldmVudC5kYXRhLnZhbHVlO1xyXG4gICAgICAgICAgICAgIHRyZWVub2RlLmRhdGEucGFyZW50SXRlbSA9IGV2ZW50LmRhdGEucGFyZW50SXRlbTtcclxuICAgICAgICAgICAgICB0cmVlbm9kZS5kYXRhLnByb3BlcnR5RGF0YVR5cGUgPSBldmVudC5kYXRhLnByb3BlcnR5RGF0YVR5cGU7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIEZpZWxkVHlwZS5PcGVyYXRpb246XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0cmVlbm9kZS5kYXRhLm9wZXJhdG9yID0gZXZlbnQuZGF0YS5pZDtcclxuICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRPcGVyYXRvclRleHQgPSBldmVudC5kYXRhLmlkO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBGaWVsZFR5cGUuVmFsdWV0eXBlOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdHJlZW5vZGUuZGF0YS5leHByZXNzVHlwZSA9IGV2ZW50LmRhdGEuaWQ7XHJcbiAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0RXhwcmVzc1R5cGVUZXh0ID0gZXZlbnQuZGF0YS5pZDtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8v5ZCm5YiZ5a+55YW25a2Q6IqC54K56L+b6KGM6LWL5YC85pON5L2cXHJcbiAgICAgIGVsc2UgaWYgKCh0cmVlbm9kZS5jaGlsZHJlbikgJiYgdHJlZW5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgICB0aGlzLnByb3BlcnR5Tm9kZU9wZXJhdGUoZXZlbnQsIHRyZWVub2RlLmNoaWxkcmVuLCBmaWVsZFR5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5qC55o2u5omA6YCJ5Li65YWz57O75oiW6ICF5bGe5oCn5a+55paw6IqC54K56L+b6KGM5Yid5aeL5YyWXHJcbiAgICogQHBhcmFtIHRyZWVOb2RlcyDmoJHlvaLooajnu5Hlrprnu5PmnoRcclxuICAgKiBAcGFyYW0gZGVmYXVsdFN0cmluZyDmlrDoioLngrnmmL7npLrpu5jorqTlgLxcclxuICAgKi9cclxuICBhZGROb2RlKHRyZWVOb2RlczogVHJlZU5vZGVbXSwgZGVmYXVsdFN0cmluZzogYW55LCBkZWZhdWx0T3BlcmF0b3I6IHN0cmluZywgZGVmYWx1dEV4cHJlc3NUeXBlOiBzdHJpbmcpIHtcclxuICAgIHRyZWVOb2Rlcy5mb3JFYWNoKHRyZWVOb2RlID0+IHtcclxuICAgICAgaWYgKHRoaXMudHQuaXNTZWxlY3RlZCh0cmVlTm9kZSkpIHtcclxuICAgICAgICAvL+iLpeWFs+ezu+WAvOS4uuepulxyXG4gICAgICAgIGlmICghKHRyZWVOb2RlLmRhdGEuaXRlbSkpIHtcclxuICAgICAgICAgIHRoaXMubm90aWZ5c2VydmljZVt0aGlzLm5vdGlmaWVzWycyJ10udHlwZV0oe1xyXG4gICAgICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzInXS5tc2dcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iLpeS4uuaJgOmAieeahOWFs+ezu+iKgueCue+8jOWImeWcqOWFtuWtkOmhuemHjOa3u+WKoOaWsOWtkOiKgueCuVxyXG4gICAgICAgIGxldCBuZXdOb2RlOiBUcmVlTm9kZSA9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZGF0YTpcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgXCJpdGVtXCI6IGRlZmF1bHRTdHJpbmcsXHJcbiAgICAgICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOiBudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgICAgICBcIm9wZXJhdG9yXCI6IGRlZmF1bHRPcGVyYXRvcixcclxuICAgICAgICAgICAgXCJleHByZXNzVHlwZVwiOiBkZWZhbHV0RXhwcmVzc1R5cGUsXHJcbiAgICAgICAgICAgIFwidmFsdWVcIjogbnVsbCxcclxuICAgICAgICAgICAgXCJpZFwiOiBNYXRoLnJhbmRvbSgpLFxyXG4gICAgICAgICAgICBcInBhcmVudEl0ZW1cIjogbnVsbFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHBhcmVudDogdHJlZU5vZGUsXHJcbiAgICAgICAgICBjaGlsZHJlbjogW10sXHJcbiAgICAgICAgICBleHBhbmRlZDogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy/lkJHor6XmiYDpgInoioLngrnnmoTlrZDpobnmt7vliqDmlrDoioLngrlcclxuICAgICAgICB0cmVlTm9kZS5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvL+iLpeacquaJvuWIsOaJgOmAieiKgueCue+8jOS4lOivpeiKgueCueWtkOmhueS4jeS4uuepuu+8jOWImeWcqOWFtuWtkOmhueS4reafpeaJvuaJgOmAieiKgueCuVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5hZGROb2RlKHRyZWVOb2RlLmNoaWxkcmVuLCBkZWZhdWx0U3RyaW5nLCBkZWZhdWx0T3BlcmF0b3IsIGRlZmFsdXRFeHByZXNzVHlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy50dC51cGRhdGVTZXJpYWxpemVkVmFsdWUoKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5Yig6Zmk6IqC54K5XHJcbiAgICogQHBhcmFtIHRyZWVOb2RlIOimgeWIoOmZpOeahOiKgueCuVxyXG4gICAqL1xyXG4gIGRlbGV0ZU5vZGUoJGV2ZW50KSB7XHJcbiAgICB0aGlzLm9uRGVsZXRlKHRoaXMudHJlZURhdGEsICRldmVudCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICog6YeN572uKOWklumDqOiwg+eUqClcclxuICAqIOmHjee9ruS4uuWIneWni+eKtuaAgVxyXG4gICovXHJcbiAgb25DYW5jZWwoKSB7XHJcbiAgICBpZiAodGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nID09IG51bGwgfHwgdGhpcy5maWx0ZXJFeHByZXNzaW9uU3RyaW5nID09IFwiXCIpIHtcclxuICAgICAgdGhpcy50cmVlRGF0YSA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcImlkXCI6IDEsICAgICAgICAgICAgICAgICAgICAvL+agkeW9oue7k+aehOS4reavj+S4quiKgueCueeahGlkXHJcbiAgICAgICAgICAgIFwiaXRlbVwiOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKSwgICAgICAgICAgICAgICAvL+WxnuaAp+mhuVxyXG4gICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjogbnVsbCwgICAgLy/lsZ7mgKfmlbDmja7nsbvlnotcclxuICAgICAgICAgICAgXCJvcGVyYXRvclwiOiBudWxsLCAgICAgICAgICAgLy/mk43kvZzmr5TovoPnrKZcclxuICAgICAgICAgICAgXCJleHByZXNzVHlwZVwiOiBudWxsLCAgICAgICAgLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBudWxsLCAgICAgICAgICAgICAgLy/lgLxcclxuICAgICAgICAgICAgXCJkaXNwbGF5U2VsZWN0XCI6IGZhbHNlLCAgICAgIC8v6YCJ5oup6aG55pi+56S6XHJcbiAgICAgICAgICAgIFwiZGlzcGxheU9wZXJhdG9yXCI6IGZhbHNlLCAgIC8v5pON5L2c56ym6aG55pi+56S6XHJcbiAgICAgICAgICAgIFwiZGlzcGxheUV4cHJlc3NUeXBlXCI6IGZhbHNlLC8v6KGo6L6+5byP57G75Z6L5pi+56S6XHJcbiAgICAgICAgICAgIFwiZGlzcGxheVZhbHVlXCI6IGZhbHNlLCAgICAgIC8v5YC85pi+56S6XHJcbiAgICAgICAgICAgIFwicGFyZW50SXRlbVwiOiBudWxsICAgICAgICAgICAvL+eItumhuVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgICAgICBleHBhbmRlZDogdHJ1ZSAgICAgICAgICAgICAgICAvL+aYr+WQpuWxleW8gFxyXG4gICAgICAgIH1cclxuICAgICAgXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmZpbHRlckV4cHJlc3Npb25QcmUgPSBKU09OLnBhcnNlKHRoaXMuZmlsdGVyRXhwcmVzc2lvblN0cmluZyk7XHJcbiAgICAgIHRoaXMudHJlZURhdGEgPSBbXTtcclxuICAgICAgdGhpcy50cmVlRGF0YS5wdXNoKHRoaXMudW5Db252ZXJ0KHRoaXMuZmlsdGVyRXhwcmVzc2lvblByZSkpO1xyXG4gICAgICB0aGlzLnRyZWVEYXRhWzBdLmRhdGEuaWQgPSAxO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiDliKDpmaToioLngrnlhbfkvZPlrp7njrDnsbtcclxuICAgKiBAcGFyYW0gdHJlZU5vZGVzIOagkeW9ouihqOe7keWumue7k+aehFxyXG4gICAqL1xyXG4gIG9uRGVsZXRlKHRyZWVOb2RlczogVHJlZU5vZGVbXSwgaWQ6IG51bWJlcikge1xyXG4gICAgdHJlZU5vZGVzLmZvckVhY2godHJlZU5vZGUgPT4ge1xyXG4gICAgICBpZiAodHJlZU5vZGUuZGF0YS5pZCA9PSBpZCkge1xyXG4gICAgICAgIGlmICh0cmVlTm9kZS5kYXRhLmlkID09IDEpIHtcclxuICAgICAgICAgIHRoaXMudHJlZURhdGEgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiaWRcIjogMSwgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgICAgIFwiaXRlbVwiOiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKSwgICAgICAgICAgICAgIC8v5bGe5oCn6aG5XHJcbiAgICAgICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjogbnVsbCwgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgICAgICAgICAgXCJvcGVyYXRvclwiOiBudWxsLCAgICAgICAgICAgLy/mk43kvZzmr5TovoPnrKZcclxuICAgICAgICAgICAgICAgIFwiZXhwcmVzc1R5cGVcIjogbnVsbCwgICAgICAgIC8v6KGo6L6+5byP57G75Z6LXHJcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5U2VsZWN0XCI6IGZhbHNlLCAgICAgIC8v6YCJ5oup6aG55pi+56S6XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlPcGVyYXRvclwiOiBmYWxzZSwgICAvL+aTjeS9nOespumhueaYvuekulxyXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5RXhwcmVzc1R5cGVcIjogZmFsc2UsLy/ooajovr7lvI/nsbvlnovmmL7npLpcclxuICAgICAgICAgICAgICAgIFwiZGlzcGxheVZhbHVlXCI6IGZhbHNlLCAgICAgIC8v5YC85pi+56S6XHJcbiAgICAgICAgICAgICAgICBcInBhcmVudEl0ZW1cIjogbnVsbCAgICAgICAgICAgLy/niLbpoblcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXSwgICAgICAgICAgICAgICAgIC8v5a2Q6IqC54K56ZuG5ZCIXHJcbiAgICAgICAgICAgICAgZXhwYW5kZWQ6IHRydWUgICAgICAgICAgICAgICAgLy/mmK/lkKblsZXlvIBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/miYDpgInoioLngrnmiYDlnKjmlbBcclxuICAgICAgICBsZXQgaW5kZXggPSB0cmVlTm9kZXMuaW5kZXhPZih0cmVlTm9kZSk7XHJcbiAgICAgICAgLy/lsIbmiYDpgInoioLngrnliZTpmaRcclxuICAgICAgICB0cmVlTm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICgodHJlZU5vZGUuY2hpbGRyZW4pICYmIHRyZWVOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgdHJlZU5vZGUuY2hpbGRyZW4gPSB0aGlzLm9uRGVsZXRlKHRyZWVOb2RlLmNoaWxkcmVuLCBpZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy50dC51cGRhdGVTZXJpYWxpemVkVmFsdWUoKTtcclxuICAgIHJldHVybiB0cmVlTm9kZXM7XHJcbiAgfVxyXG4gIC8qKipcclxuICAqIOa3u+WKoOadoeS7tumhuVxyXG4gICovXHJcbiAgYWRkSXRlbSgpIHtcclxuICAgIHRoaXMuZGVmYXVsdFNlbGVjdEl0ZW0gPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiU2VsZWN0SXRlbVwiKTtcclxuICAgIHRoaXMuaGlkZU5vZGVFZGl0b3IodGhpcy50cmVlRGF0YSk7XHJcbiAgICB0aGlzLmFkZE5vZGUodGhpcy50cmVlRGF0YSwgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlNlbGVjdFByb3BlcnR5XCIpLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXF1YWxcIiksIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYWx1ZVwiKSk7XHJcbiAgfVxyXG4gIC8qKipcclxuICAgKiDmt7vliqDmnaHku7bnu4RcclxuICAgKi9cclxuICBhZGRHcm91cCgpIHtcclxuICAgIHRoaXMuYWRkTm9kZSh0aGlzLnRyZWVEYXRhLCB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKSwgbnVsbCwgbnVsbCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWwhnRyZWVEYXRh6L2s5YyW5Li6ZmlsZXRyRXhwcmVzc2lvbuWunuS9k1xyXG4gICAqIEBwYXJhbSBmaWx0ZXJFeHByZXNzaW9uIOi/h+a7pOihqOi+vuW8j+WunuS9k1xyXG4gICAqIEBwYXJhbSB0cmVlTm9kZSDmnIDlpJblsYLnmoR0cmVlTm9kZVxyXG4gICAqL1xyXG4gIGNvbnZlcnQoZmlsdGVyRXhwcmVzc2lvbjogRmlsdGVyRXhwcmVzc2lvbiwgdHJlZU5vZGU6IFRyZWVOb2RlKTogRmlsdGVyRXhwcmVzc2lvbiB7XHJcbiAgICAvL+W+l+WIsOacgOWkluWxgueahOWFs+ezu+esplxyXG4gICAgZmlsdGVyRXhwcmVzc2lvbi5yZWxhdGlvbk9wZXJhdG9yID0gdGhpcy50eXBlTWF0Y2godHJlZU5vZGUuZGF0YS5pdGVtKTtcclxuICAgIC8v6Iul5YW25a2Q6aG55LiN5Li656m6XHJcbiAgICBpZiAodHJlZU5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9IDApIHtcclxuICAgICAgLy/lr7nlhbbmr4/kuIDkuKrlrZDpobnov5vooYzovazljJbmk43kvZxcclxuICAgICAgdHJlZU5vZGUuY2hpbGRyZW4uZm9yRWFjaCh0cmVlTm9kZUl0ZW0gPT4ge1xyXG4gICAgICAgIC8v6Iul5a2Q6aG55Li65bm25LiU44CB5oiW6ICF77yM5YiZ5paw5bu65aSN5p2C6L+H5ruk6KGo6L6+5byPXHJcbiAgICAgICAgaWYgKHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLml0ZW0pID09IFJlbGF0aW9uVHlwZUVudW0uQW5kIHx8XHJcbiAgICAgICAgICB0aGlzLnR5cGVNYXRjaCh0cmVlTm9kZUl0ZW0uZGF0YS5pdGVtKSA9PSBSZWxhdGlvblR5cGVFbnVtLk9yKSB7XHJcbiAgICAgICAgICBsZXQgZmlsdGVyRXhwcmVzc2lvbkl0ZW0gPSBuZXcgRmlsdGVyRXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgZmlsdGVyRXhwcmVzc2lvbi5leHByZXNzSXRlbXMucHVzaCh0aGlzLmNvbnZlcnQoZmlsdGVyRXhwcmVzc2lvbkl0ZW0sIHRyZWVOb2RlSXRlbSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+iLpeWtkOmhueS4uuWxnuaAp+ihqOi+vuW8j1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbGV0IGZpbHRlckl0ZW0gPSBuZXcgRXhwcmVzc2lvbkl0ZW0oKTtcclxuICAgICAgICAgIGxldCBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0eUxpc3RJbm5lci5maWx0ZXIoeCA9PiB4LnRleHQgPT0gdHJlZU5vZGVJdGVtLmRhdGEuaXRlbSk7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLnByb3BlcnR5TmFtZSA9IHByb3BlcnRpZXNbMF0udmFsdWU7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPSB0cmVlTm9kZUl0ZW0uZGF0YS5wcm9wZXJ0eURhdGFUeXBlO1xyXG4gICAgICAgICAgZmlsdGVySXRlbS5vcGVyYXRvciA9IHRoaXMudHlwZU1hdGNoKHRyZWVOb2RlSXRlbS5kYXRhLm9wZXJhdG9yKTtcclxuICAgICAgICAgIGZpbHRlckl0ZW0uZXhwcmVzc1R5cGUgPSB0aGlzLnR5cGVNYXRjaCh0cmVlTm9kZUl0ZW0uZGF0YS5leHByZXNzVHlwZSk7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLnZhbHVlID0gdHJlZU5vZGVJdGVtLmRhdGEudmFsdWU7XHJcbiAgICAgICAgICBmaWx0ZXJJdGVtLnBhcmVudEl0ZW0gPSB0cmVlTm9kZUl0ZW0uZGF0YS5wYXJlbnRJdGVtO1xyXG4gICAgICAgICAgLy/oi6XkuLrmlbDlgLzlnovmr5TovoPvvIzliJnlsIZ2YWx1ZeWAvOW8uuWItui9rOaNouS4uuaVsOWtl1xyXG4gICAgICAgICAgaWYgKGZpbHRlckl0ZW0uZXhwcmVzc1R5cGUgPT0gRXhwcmVzc1R5cGVFbnVtLlZhbHVlICYmXHJcbiAgICAgICAgICAgIChmaWx0ZXJJdGVtLm9wZXJhdG9yID09IENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhblxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuT3JFcXVhbFxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW5PckVxdWFsXHJcbiAgICAgICAgICAgICkpIHtcclxuICAgICAgICAgICAgZmlsdGVySXRlbS52YWx1ZSA9IE51bWJlcih0cmVlTm9kZUl0ZW0uZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZmlsdGVySXRlbS5leHByZXNzVHlwZSA9PSBFeHByZXNzVHlwZUVudW0uVmFsdWUgJiZcclxuICAgICAgICAgICAgKGZpbHRlckl0ZW0ub3BlcmF0b3IgPT0gQ29tcGFyZVR5cGVFbnVtLkVxdWFsXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5vcGVyYXRvciA9PSBDb21wYXJlVHlwZUVudW0uTm90RXF1YWwpKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5EZWNpbWFsXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuRG91YmxlXHJcbiAgICAgICAgICAgICAgfHwgZmlsdGVySXRlbS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuSW50MTZcclxuICAgICAgICAgICAgICB8fCBmaWx0ZXJJdGVtLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5JbnQzMlxyXG4gICAgICAgICAgICAgIHx8IGZpbHRlckl0ZW0ucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkludDY0KSB7XHJcbiAgICAgICAgICAgICAgZmlsdGVySXRlbS52YWx1ZSA9IE51bWJlcih0cmVlTm9kZUl0ZW0uZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvL+WwhuWtkOmhueaUvuWFpeeItumhueeahOWtl+auteS4rVxyXG4gICAgICAgICAgZmlsdGVyRXhwcmVzc2lvbi5leHByZXNzSXRlbXMucHVzaChmaWx0ZXJJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpbHRlckV4cHJlc3Npb247XHJcbiAgfVxyXG4gIC8qKlxyXG4gICogZmlsZXRyRXhwcmVzc2lvbuWPjei9rOWMluS4ulRyZWVOb2RlXHJcbiAgKiBAcGFyYW0gZmlsdGVyRXhwcmVzcyDlvoXovazljJbnmoRmaWxldHJFeHByZXNzaW9u5a6e5L2TXHJcbiAgKi9cclxuICB1bkNvbnZlcnQoZmlsdGVyRXhwcmVzczogRmlsdGVyRXhwcmVzc2lvbik6IFRyZWVOb2RlIHtcclxuICAgIGxldCB0cmVlRGF0YTogVHJlZU5vZGUgPVxyXG4gICAge1xyXG4gICAgICBkYXRhOlxyXG4gICAgICB7XHJcbiAgICAgICAgXCJpZFwiOiBNYXRoLnJhbmRvbSgpLCAgICAgICAgLy/moJHlvaLnu5PmnoTkuK3mr4/kuKroioLngrnnmoRpZFxyXG4gICAgICAgIFwiaXRlbVwiOiB0aGlzLnJlbGF0aW9uVHlwZVJldmVyc2VNYXRjaChmaWx0ZXJFeHByZXNzLnJlbGF0aW9uT3BlcmF0b3IpLCAvL+WxnuaAp+mhuVxyXG4gICAgICAgIFwicHJvcGVydHlEYXRhVHlwZVwiOiBudWxsLCAgICAvL+WxnuaAp+aVsOaNruexu+Wei1xyXG4gICAgICAgIFwib3BlcmF0b3JcIjogbnVsbCwgICAgICAgICAgIC8v5pON5L2c5q+U6L6D56ymXHJcbiAgICAgICAgXCJleHByZXNzVHlwZVwiOiBudWxsLCAgICAgICAgLy/ooajovr7lvI/nsbvlnotcclxuICAgICAgICBcInZhbHVlXCI6IG51bGwsICAgICAgICAgICAgICAvL+WAvFxyXG4gICAgICAgIFwiZGlzcGxheVNlbGVjdFwiOiBmYWxzZSwgICAgICAvL+mAieaLqemhueaYvuekulxyXG4gICAgICAgIFwiZGlzcGxheU9wZXJhdG9yXCI6IGZhbHNlLCAgIC8v5pON5L2c56ym6aG55pi+56S6XHJcbiAgICAgICAgXCJkaXNwbGF5RXhwcmVzc1R5cGVcIjogZmFsc2UsLy/ooajovr7lvI/nsbvlnovmmL7npLpcclxuICAgICAgICBcImRpc3BsYXlWYWx1ZVwiOiBmYWxzZSwgICAgICAvL+WAvOaYvuekulxyXG4gICAgICAgIFwicGFyZW50SXRlbVwiOiBudWxsICAgICAgICAgICAvL+eItumhuVxyXG4gICAgICB9LFxyXG4gICAgICBjaGlsZHJlbjogW10sICAgICAgICAgICAgICAgICAvL+WtkOiKgueCuembhuWQiFxyXG4gICAgICBleHBhbmRlZDogdHJ1ZSAgICAgICAgICAgICAgICAvL+aYr+WQpuWxleW8gFxyXG4gICAgfTtcclxuICAgIC8v5a+55LqO5q+P5LiA5Liq5a2Q6aG5XHJcbiAgICBmaWx0ZXJFeHByZXNzLmV4cHJlc3NJdGVtcy5mb3JFYWNoKGV4cHJlc3NJdGVtID0+IHtcclxuICAgICAgbGV0IGZpbHRlckV4cHJlc3NJdGVtID0gZXhwcmVzc0l0ZW0gYXMgRmlsdGVyRXhwcmVzc2lvbjtcclxuICAgICAgLy/oi6XlrZDpobnkuLpGaWx0ZXJFeHByZXNzaW9u57G75Z6L77yM6LWL5YC8XHJcbiAgICAgIGlmICgoZmlsdGVyRXhwcmVzc0l0ZW0ucmVsYXRpb25PcGVyYXRvciA9PSBSZWxhdGlvblR5cGVFbnVtLkFuZCB8fCBmaWx0ZXJFeHByZXNzSXRlbS5yZWxhdGlvbk9wZXJhdG9yID09IFJlbGF0aW9uVHlwZUVudW0uT3IpKSB7XHJcbiAgICAgICAgbGV0IHRyZWVEYXRhQ2hpbGQgPSB0aGlzLnVuQ29udmVydChmaWx0ZXJFeHByZXNzSXRlbSk7XHJcbiAgICAgICAgdHJlZURhdGFDaGlsZC5kYXRhLnBhcmVudCA9IHRyZWVEYXRhOy8v5re75Yqg54i26IqC54K5XHJcbiAgICAgICAgdHJlZURhdGEuY2hpbGRyZW4ucHVzaCh0cmVlRGF0YUNoaWxkKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIC8v6Iul5a2Q6aG55Li6RXhwcmVzc2lvbkl0ZW3nsbvlnovvvIzotYvlgLxcclxuICAgICAge1xyXG4gICAgICAgIGxldCBleHByZXNzaW9uSXRlbSA9IGV4cHJlc3NJdGVtIGFzIEV4cHJlc3Npb25JdGVtO1xyXG4gICAgICAgIGxldCBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0eUxpc3RJbm5lci5maWx0ZXIoeCA9PiB4LnZhbHVlID09IGV4cHJlc3Npb25JdGVtLnByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgbGV0IHRyZWVEYXRhQ2hpbGQ6IFRyZWVOb2RlID1cclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcImlkXCI6IE1hdGgucmFuZG9tKCksICAgICAgICAgICAgICAgICAgICAgIC8v5qCR5b2i57uT5p6E5Lit5q+P5Liq6IqC54K555qEaWRcclxuICAgICAgICAgICAgXCJpdGVtXCI6IHByb3BlcnRpZXNbMF0udGV4dCwgICAgICAgICAgICAgICAvL+WxnuaAp+mhuVxyXG4gICAgICAgICAgICBcInByb3BlcnR5RGF0YVR5cGVcIjogZXhwcmVzc2lvbkl0ZW0ucHJvcGVydHlEYXRhVHlwZSxcclxuICAgICAgICAgICAgXCJvcGVyYXRvclwiOiB0aGlzLm9wZXJhdG9yUmV2ZXJzZU1hdGNoKGV4cHJlc3Npb25JdGVtLm9wZXJhdG9yKSwgICAgICAvL+aTjeS9nOavlOi+g+esplxyXG4gICAgICAgICAgICBcImV4cHJlc3NUeXBlXCI6IHRoaXMuZXhwcmVzc1R5cGVSZXZlcnNlTWF0Y2goZXhwcmVzc2lvbkl0ZW0uZXhwcmVzc1R5cGUpLC8v6KGo6L6+5byP57G75Z6LXHJcbiAgICAgICAgICAgIFwidmFsdWVcIjogZXhwcmVzc2lvbkl0ZW0udmFsdWUsICAgICAgICAgICAgLy/lgLxcclxuICAgICAgICAgICAgXCJwYXJlbnRJdGVtXCI6IGV4cHJlc3Npb25JdGVtLnBhcmVudEl0ZW0gICAgLy/niLbpoblcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwYXJlbnQ6IHRyZWVEYXRhLCAgICAgICAgICAgICAvL+a3u+WKoOeItuiKgueCuVxyXG4gICAgICAgICAgY2hpbGRyZW46IFtdLCAgICAgICAgICAgICAgICAgLy/lrZDoioLngrnpm4blkIhcclxuICAgICAgICAgIGV4cGFuZGVkOiB0cnVlICAgICAgICAgICAgICAgIC8v5piv5ZCm5bGV5byAXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyZWVEYXRhLmNoaWxkcmVuLnB1c2godHJlZURhdGFDaGlsZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRyZWVEYXRhO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDnsbvlnovkv6Hmga/ljLnphY1cclxuICAgKiBAcGFyYW0gdHlwZSDnsbvlnotcclxuICAgKi9cclxuICB0eXBlTWF0Y2godHlwZTogYW55KTogYW55IHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBbmRcIik6IHJldHVybiBSZWxhdGlvblR5cGVFbnVtLkFuZDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiT3JcIik6IHJldHVybiBSZWxhdGlvblR5cGVFbnVtLk9yO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhblwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5HcmVhdGVyVGhhbjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5PckVxdWFsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuT3JFcXVhbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5cIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTGVzc1RoYW47XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuT3JFcXVhbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbk9yRXF1YWw7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVxdWFsXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkVxdWFsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFcXVhbFwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5Ob3RFcXVhbDtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ29udGFpbnNcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uQ29udGFpbnM7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdENvbnRhaW5zXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdENvbnRhaW5zO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdGFydHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLlN0YXJ0c1dpdGg7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkVuZHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLkVuZHNXaXRoO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RTdGFydHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdFN0YXJ0c1dpdGg7XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEVuZHNXaXRoXCIpOiByZXR1cm4gQ29tcGFyZVR5cGVFbnVtLk5vdEVuZHNXaXRoO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc051bGxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uSXNOdWxsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJc05vdE51bGxcIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uSXNOb3ROdWxsO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJJblwiKTogcmV0dXJuIENvbXBhcmVUeXBlRW51bS5JbjtcclxuICAgICAgY2FzZSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90SW5cIik6IHJldHVybiBDb21wYXJlVHlwZUVudW0uTm90SW47XHJcbiAgICAgIGNhc2UgdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpOiByZXR1cm4gRXhwcmVzc1R5cGVFbnVtLlZhbHVlO1xyXG4gICAgICBjYXNlIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFeHByZXNzaW9uXCIpOiByZXR1cm4gRXhwcmVzc1R5cGVFbnVtLkV4cHJlc3Npb247XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlbGF0aW9uVHlwZVJldmVyc2VNYXRjaCh0eXBlOiBSZWxhdGlvblR5cGVFbnVtKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlIFJlbGF0aW9uVHlwZUVudW0uQW5kOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnQW5kJyk7XHJcbiAgICAgIGNhc2UgUmVsYXRpb25UeXBlRW51bS5PcjogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ09yJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9wZXJhdG9yUmV2ZXJzZU1hdGNoKHR5cGU6IENvbXBhcmVUeXBlRW51bSk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uR3JlYXRlclRoYW46IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiR3JlYXRlclRoYW5cIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkdyZWF0ZXJUaGFuT3JFcXVhbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJHcmVhdGVyVGhhbk9yRXF1YWxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkxlc3NUaGFuOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkxlc3NUaGFuXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5MZXNzVGhhbk9yRXF1YWw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTGVzc1RoYW5PckVxdWFsXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5FcXVhbDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFcXVhbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTm90RXF1YWw6IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTm90RXF1YWxcIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLkNvbnRhaW5zOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkNvbnRhaW5zXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RDb250YWluczogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RDb250YWluc1wiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uU3RhcnRzV2l0aDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTdGFydHNXaXRoXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5FbmRzV2l0aDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFbmRzV2l0aFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uTm90U3RhcnRzV2l0aDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RTdGFydHNXaXRoXCIpO1xyXG4gICAgICBjYXNlIENvbXBhcmVUeXBlRW51bS5Ob3RFbmRzV2l0aDogcmV0dXJuIHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJOb3RFbmRzV2l0aFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uSXNOdWxsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTnVsbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uSXNOb3ROdWxsOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIklzTm90TnVsbFwiKTtcclxuICAgICAgY2FzZSBDb21wYXJlVHlwZUVudW0uSW46IHJldHVybiB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSW5cIik7XHJcbiAgICAgIGNhc2UgQ29tcGFyZVR5cGVFbnVtLk5vdEluOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIk5vdEluXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBleHByZXNzVHlwZVJldmVyc2VNYXRjaCh0eXBlOiBFeHByZXNzVHlwZUVudW0pOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgRXhwcmVzc1R5cGVFbnVtLlZhbHVlOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpO1xyXG4gICAgICBjYXNlIEV4cHJlc3NUeXBlRW51bS5FeHByZXNzaW9uOiByZXR1cm4gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnRXhwcmVzc2lvbicpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiDov4fmu6Tooajovr7lvI/ojrflj5Yo5aSW6YOo6LCD55SoKVxyXG4gICAqL1xyXG4gIGdldEZpbHRlckV4cHJlc3Npb24oKTogc3RyaW5nIHtcclxuICAgIHRoaXMudHJlZURhdGFUZW1wID0gdGhpcy50cmVlRGF0YTtcclxuICAgIGxldCBpc051bGwgPSB0cnVlO1xyXG4gICAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMuY2hlY2tOdWxsKHRoaXMudHJlZURhdGFUZW1wWzBdLmNoaWxkcmVuLCBpc051bGwpICYmIHRoaXMuY2hlY2tNYXRjaCh0aGlzLnRyZWVEYXRhVGVtcFswXS5jaGlsZHJlbiwgaXNNYXRjaCkpIHtcclxuICAgICAgdGhpcy5maWx0ZXJFeHByZXNzaW9uID0gbmV3IEZpbHRlckV4cHJlc3Npb24oKTtcclxuICAgICAgLy/moLnmja7moJHlvaLmlbDmja7nu5PmnoTovazljJbkuLrov4fmu6Tooajovr7lvI/lrp7kvZNcclxuICAgICAgdGhpcy5jb252ZXJ0KHRoaXMuZmlsdGVyRXhwcmVzc2lvbiwgdGhpcy50cmVlRGF0YVRlbXBbMF0pO1xyXG4gICAgICAvL+iLpeWPquWMheWQq+WFs+ezu+mhueWImei/lOWbnuepulxyXG4gICAgICBpZiAodGhpcy5maWx0ZXJFeHByZXNzaW9uLmV4cHJlc3NJdGVtcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLmZpbHRlckV4cHJlc3Npb24ucmVsYXRpb25PcGVyYXRvciA9PSBudWxsKSB7XHJcbiAgICAgICAgICB0aGlzLmZpbHRlckV4cHJlc3Npb24ucmVsYXRpb25PcGVyYXRvciA9IFJlbGF0aW9uVHlwZUVudW0uT3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmZpbHRlckV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v6YCS5b2S5qOA5p+l5pW05Liq6L+H5ruk6KGo6L6+5byP5piv5ZCm5pyJ5ryP5aGr55qE6aG5XHJcbiAgcHVibGljIGNoZWNrTnVsbCh0cmVlTm9kZXM6IFRyZWVOb2RlW10sIGlzTnVsbDogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRyZWVOb2Rlc1tpXS5kYXRhLml0ZW0gPT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybSgnQW5kJykgfHwgdHJlZU5vZGVzW2ldLmRhdGEuaXRlbSA9PSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdPcicpKSB7XHJcbiAgICAgICAgaWYgKCEodHJlZU5vZGVzW2ldLmNoaWxkcmVuKSB8fCB0cmVlTm9kZXNbaV0uY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgIHRoaXMuY2hlY2tGaWx0ZXJTdHJ1YyA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnlzZXJ2aWNlW3RoaXMubm90aWZpZXNbJzMnXS50eXBlXSh7XHJcbiAgICAgICAgICAgIG1zZzogdGhpcy5ub3RpZmllc1snMyddLm1zZ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpc051bGwgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy5jaGVja051bGwodHJlZU5vZGVzW2ldLmNoaWxkcmVuLCBpc051bGwpKSB7XHJcbiAgICAgICAgICBpc051bGwgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAoISh0cmVlTm9kZXNbaV0uZGF0YS5pdGVtKSB8fCB0cmVlTm9kZXNbaV0uZGF0YS5pdGVtID09IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJTZWxlY3RQcm9wZXJ0eVwiKVxyXG4gICAgICAgICAgfHwgISh0cmVlTm9kZXNbaV0uZGF0YS5vcGVyYXRvcikgfHwgISh0cmVlTm9kZXNbaV0uZGF0YS5leHByZXNzVHlwZSlcclxuICAgICAgICAgIHx8ICEodHJlZU5vZGVzW2ldLmRhdGEudmFsdWUpKSB7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeXNlcnZpY2VbdGhpcy5ub3RpZmllc1snNCddLnR5cGVdKHtcclxuICAgICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyc0J10ubXNnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMuY2hlY2tGaWx0ZXJTdHJ1YyA9IGZhbHNlO1xyXG4gICAgICAgICAgaXNOdWxsID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpc051bGw7XHJcbiAgfVxyXG4gIG9uZm9jdXMoKSB7XHJcbiAgICB0aGlzLmRpc3BsYXlQb3B1cCA9IHRydWU7XHJcbiAgfVxyXG4gIG9uYmx1cigpIHtcclxuICAgIHRoaXMuZGlzcGxheVBvcHVwID0gZmFsc2U7XHJcbiAgfVxyXG4gIGNoZWNrTWF0Y2godHJlZU5vZGVzOiBUcmVlTm9kZVtdLCBpc01hdGNoOiBib29sZWFuKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWVOb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodHJlZU5vZGVzW2ldLmRhdGEuaXRlbSAhPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKCdBbmQnKSAmJiB0cmVlTm9kZXNbaV0uZGF0YS5pdGVtICE9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oJ09yJykpIHtcclxuICAgICAgICBpZiAodHJlZU5vZGVzW2ldLmRhdGEuZXhwcmVzc1R5cGUgPT0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlZhbHVlXCIpKSB7XHJcbiAgICAgICAgICBpZiAoKHRyZWVOb2Rlc1tpXS5kYXRhLnByb3BlcnR5RGF0YVR5cGUgPT0gUHJvcGVydHlEYXRhVHlwZS5JbnQxNiB8fCB0cmVlTm9kZXNbaV0uZGF0YS5wcm9wZXJ0eURhdGFUeXBlID09IFByb3BlcnR5RGF0YVR5cGUuSW50MzIgfHwgdHJlZU5vZGVzW2ldLmRhdGEucHJvcGVydHlEYXRhVHlwZSA9PSBQcm9wZXJ0eURhdGFUeXBlLkludDY0KSAmJiBpc05hTih0cmVlTm9kZXNbaV0uZGF0YS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnlzZXJ2aWNlW3RoaXMubm90aWZpZXNbJzUnXS50eXBlXSh7XHJcbiAgICAgICAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyc1J10ubXNnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpc01hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlzTWF0Y2ggPSB0aGlzLmNoZWNrTWF0Y2godHJlZU5vZGVzW2ldLmNoaWxkcmVuLCBpc01hdGNoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpc01hdGNoO1xyXG4gIH1cclxufVxyXG5cclxuIl19