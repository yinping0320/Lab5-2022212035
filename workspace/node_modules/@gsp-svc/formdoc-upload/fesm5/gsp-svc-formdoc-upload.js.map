{"version":3,"file":"gsp-svc-formdoc-upload.js.map","sources":["ng://@gsp-svc/formdoc-upload/lib/formdoc-upload.service.ts","ng://@gsp-svc/formdoc-upload/lib/formdoc-upload.component.ts","ng://@gsp-svc/formdoc-upload/lib/formdoc-upload.module.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/doctype.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/operatingmodes.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspformremovelistentity.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspformdocoperateentity.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/changeinstancerequest.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/copyfilerequest.ts","ng://@gsp-svc/formdoc-upload/lib/upload/upload.service.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/uploadfileinfo.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/extensionstoragefileinfo.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/filestate.ts","ng://@gsp-svc/formdoc-upload/lib/i18n/language.resource.ts","ng://@gsp-svc/formdoc-upload/lib/local.pipe.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspdocsecuritybaseinfo.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/initmultiuploadrequest.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/completemultiuploadrequest.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspformstreamentity.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/multiuploadrequest.ts","ng://@gsp-svc/formdoc-upload/lib/upload/file-upload/file-upload.component.ts","ng://@gsp-svc/formdoc-upload/lib/upload/download.service.ts","ng://@gsp-svc/formdoc-upload/lib/upload/upload.module.ts","ng://@gsp-svc/formdoc-upload/lib/uploaddialog/uploaddialog/uploaddialog.component.ts","ng://@gsp-svc/formdoc-upload/lib/uploaddialog.service.ts","ng://@gsp-svc/formdoc-upload/lib/uploaddialog/uploaddialog.module.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/uploadlimit.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspformuploadlistentity.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspformdocinfo.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspdocmetaproperty.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/gspformuploadentity.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/fileinfo.ts","ng://@gsp-svc/formdoc-upload/lib/upload/entity/securityentity.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FormdocUploadService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-formdoc-upload',\n  template: `\n    <p>\n      formdoc-upload works!\n    </p>\n  `,\n  styles: []\n})\nexport class FormdocUploadComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { HttpClientModule } from '@angular/common/http';\nimport { LOCALE_ID, NgModule } from '@angular/core';\nimport { CacheService, HttpService, LanguageService, SessionService } from '@ecp-caf/caf-common';\nimport { FormdocUploadComponent } from './formdoc-upload.component';\nimport { LocalLangPipe } from './local.pipe';\n\n\n@NgModule({\n  declarations: [FormdocUploadComponent],\n  imports: [\n    HttpClientModule\n  ],\n  \n  exports: [FormdocUploadComponent],\n  providers:[    LanguageService,HttpService,CacheService,SessionService,\n    { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' },]\n})\nexport class FormdocUploadModule { }\n","export enum DocType{\r\n    Word,\r\n    Excel,\r\n    Powerpoint,\r\n    Pdf,\r\n    Txt,\r\n    Image,\r\n    Other\r\n}","export enum OperatingModes{\r\n    Formal,\r\n    Temp\r\n}","import { OperatingModes } from \"./operatingmodes\";\r\n\r\nexport class GspFormRemoveListEntity {\r\n    public metadataIdList: string[];\r\n    public mode: OperatingModes;\r\n    public rootId: string;\r\n}","export class GspFormDocOperateEntity {\r\n    public metadataIdList: string[];\r\n    public rootId: string;\r\n}","import { ExStorageFileInfo } from './extensionstoragefileinfo';\r\n\r\nexport class ChangeInstanceRequest {\r\n    public fileInfoList: ExStorageFileInfo[];\r\n    public rootId: string;\r\n}","export class CopyFileRequest{\r\n    public metadataId:string;\r\n    public rootId:string;\r\n    public path:string;\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { GspFormUploadListEntity } from './entity/gspformuploadlistentity';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\nimport { GspFormRemoveListEntity } from './entity/gspformremovelistentity';\r\nimport { of } from 'rxjs/observable/of';\r\nimport { GspFormDocOperateEntity } from './entity/gspformdocoperateentity';\r\n\r\nimport { GspFormUploadEntity } from './entity/gspformuploadentity';\r\nimport { ExStorageFileInfo } from './entity/extensionstoragefileinfo';\r\nimport { ChangeInstanceRequest } from './entity/changeinstancerequest';\r\nimport { OperatingModes } from './entity/operatingmodes';\r\nimport { GspDocSecurityBaseInfo } from './entity/gspdocsecuritybaseinfo';\r\nimport { UploadFileInfo } from './entity/uploadfileinfo';\r\nimport { ExPropertyRequest } from './entity/expropertyrequest';\r\nimport { CopyFileRequest } from './entity/copyfilerequest';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class UploadService {\r\n\r\n  constructor(private http: HttpService, private httpclient: HttpClient) { }\r\n\r\n  uploadList(docListInfo: GspFormUploadListEntity, rootId: string): Observable<any> {\r\n    let url;\r\n    docListInfo.rootId = rootId;\r\n\r\n    url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n    //url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n\r\n    return this.http.post(url, docListInfo).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n\r\n  commit(metadataIdList: string[], rootId: string): Observable<any> {\r\n    let url;\r\n    let entity: GspFormDocOperateEntity = new GspFormDocOperateEntity;\r\n    entity.metadataIdList = metadataIdList;\r\n    entity.rootId = rootId;\r\n    url = \"/api/runtime/dfs/v1.0/formdoc/commit\";\r\n    //url = \"http://localhost:5000/api/runtime/dfs/v1.0/formdoc/commit\";\r\n\r\n    return this.http.post(url, entity).pipe();\r\n  }\r\n\r\n  cancel(metadataIdList: string[], rootId: string): Observable<any> {\r\n    let url;\r\n    let entity: GspFormDocOperateEntity = new GspFormDocOperateEntity;\r\n    entity.metadataIdList = metadataIdList;\r\n    entity.rootId = rootId;\r\n    url = \"/api/runtime/dfs/v1.0/formdoc/cancel\";\r\n    //url = \"http://localhost:5000/api/runtime/dfs/v1.0/formdoc/cancel\";\r\n    //localStorage.setItem(\"SessionId\",\"huoliang\");\r\n    return this.http.put(url, entity).pipe();\r\n  }\r\n\r\n  removeList(idList: string[], rootId: string) {\r\n    let url;\r\n    //url = \"http://localhost:5000/api/runtime/dfs/v1.0/formdoc/list\";\r\n    url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n    var idListInfo = new GspFormRemoveListEntity;\r\n    idListInfo.metadataIdList = idList;\r\n    idListInfo.mode = OperatingModes.Temp;\r\n    idListInfo.rootId = rootId;\r\n    return this.http.delete(url, idListInfo).pipe();\r\n  }\r\n\r\n  getFile(metadataId: string, rootId: string) {\r\n\r\n    let url;\r\n    if (rootId == \"\")\r\n      url = \"/api/runtime/dfs/v1.0/formdoc/file/\" + metadataId;\r\n    else\r\n      url = \"/api/runtime/dfs/v1.0/formdoc/file/\" + metadataId + \"/\" + rootId;\r\n    return this.http.get(url).pipe(tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n\r\n  }\r\n\r\n  uploadFile(docInfo: GspFormUploadEntity): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc\";\r\n    //url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n\r\n    return this.http.post(url, docInfo).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  uploadSliceFile(formdata: FormData): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/slice\";\r\n    //url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n\r\n    return this.httpclient.post(url, formdata).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n\r\n  getStorageExtensionInfo(): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/storagestrategy/extension\";\r\n    //url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n\r\n    return this.http.get(url).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  getSecurityInfoList(baseInfo: GspDocSecurityBaseInfo): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/storagestrategy/security\";\r\n    url = url + \"?id=\" + baseInfo.securityId + \"&level=\" + baseInfo.securityLevel;\r\n\r\n    return this.http.get(url).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  changeStorageInstance(storageInfoList: ExStorageFileInfo[], rootId: string): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/changeinstance\";\r\n    let request: ChangeInstanceRequest = new ChangeInstanceRequest;\r\n    request.fileInfoList = storageInfoList;\r\n    request.rootId = rootId;\r\n    return this.http.post(url, request).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  copyFile(metadataId: string, rootId: string, path: string): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/copy\";\r\n    let request: CopyFileRequest = new CopyFileRequest;\r\n    request.metadataId = metadataId;\r\n    request.rootId = rootId;\r\n    request.path = path;\r\n    return this.httpclient.post(url, request,{responseType: 'text'}).pipe(\r\n      tap(res => { }),\r\n      // catchError((error: HttpErrorResponse) => {\r\n      //   return of(error);\r\n      // })\r\n      );\r\n  }\r\n\r\n  saveSecurityInfo(uploadFileInfoList: UploadFileInfo[], rootId: string): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/doc/exproperty\";\r\n    let reqList: ExPropertyRequest[] = [];\r\n    uploadFileInfoList.forEach(element => {\r\n      let request: ExPropertyRequest = { id: element.metadataId, rootId: rootId, exProperty: JSON.stringify(element.securityInfo) };\r\n      reqList.push(request);\r\n    })\r\n    return this.http.post(url, reqList).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }))\r\n  }\r\n\r\n\r\n  getUploadedFileInfoList(formId: string, rootId: string): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/uploadedfile/infolist\" + \"?formid=\" + formId + \"&rootid=\" + rootId;\r\n    //url = \"/api/runtime/dfs/v1.0/formdoc/list\";\r\n\r\n    return this.http.get(url).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n    getUploadInfo(rootId: string): Observable<any> {\r\n    let url = \"/api/runtime/dfs/v1.0/rootsetting/info?id=\" + rootId;\r\n\r\n    return this.http.get(url).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  // getRootSetting(rootId: string): Observable<any> {\r\n  //   let url = \"/api/runtime/dfs/v1.0/rootsetting/\" + rootId;\r\n\r\n  //   return this.http.get(url).pipe(\r\n  //     tap(res => { }),\r\n  //     catchError((error: HttpErrorResponse) => {\r\n  //       return of(error);\r\n  //     }));\r\n  // }\r\n\r\n  // getValidation(id: string): Observable<any> {\r\n  //   let url = \"/api/runtime/dfs/v1.0/validation/\" + id;\r\n\r\n  //   return this.http.get(url).pipe(\r\n  //     tap(res => { }),\r\n  //     catchError((error: HttpErrorResponse) => {\r\n  //       return of(error);\r\n  //     }));\r\n  // }\r\n\r\n}\r\n","import { FileState } from \"./filestate\";\r\nimport { SecurityEntity } from \"./securityentity\";\r\n\r\nexport class UploadFileInfo {\r\n\r\n    public metadataId: string;\r\n    public fileName: string;\r\n    public fileSize: string;\r\n    public state: FileState;\r\n    public securityInfo: SecurityEntity;\r\n\r\n}","export class ExStorageFileInfo {\r\n    public metadataId: string;\r\n    public exPropertyName: string;\r\n}","export enum FileState{\r\n    New,\r\n    Update\r\n}","export const LANG_RESOURCES = {\r\n    'zh-CHS': {\r\n        'uploadFile': 'ä¸ä¼ æä»¶',\r\n        'uploading':'æ­£å¨ä¸ä¼ æä»¶â¦â¦',\r\n        'selectedCount':'å·²éæ©æä»¶æ°éï¼',\r\n        'limitCount':'è¶åºç³»ç»éå¶æ°éï¼',\r\n        'rechooseFile':',éæ°éæ©ä¸ä¼ æä»¶ã',\r\n        'save':'ä¿å­',\r\n        'cancel':'åæ¶',\r\n        'haveSameName':'å·²ä¸ä¼ è¿ååæä»¶: ',\r\n        'rename':'éå½å',\r\n\t\t'replace':'æ¿æ¢',\r\n        'sizeZero':'æä»¶å¤§å°ä¸º0',\r\n        'sizeMax':'æä»¶å¤§å°è¶åºéå¶',\r\n        'uploadFailure':'ä¸ä¼ å¤±è´¥',\r\n        'uploadSucceed':'ä¸ä¼ æå',\r\n        'wait':'ç­ä¸ä¸ï¼ææ¡£æ­£å¨ä¸ä¼ ã',\r\n        'saveTo':'æ­£å¨å°æä»¶ä¿å­å°',\r\n        'delete':'å é¤',\r\n        'selectAll':'å¨é',\r\n        'selectNull':'å¨ä¸é',\r\n        'detail':'è¯¦æ',\r\n        'fileName':'æä»¶å',\r\n        'state':'ç¶æ',\r\n        'operation':'æä½',\r\n        'size':'å¤§å°',\r\n        'close':'å³é­',\r\n        'loading':'æ¼å½å è½½ä¸­',\r\n        'mismatchChunkSize':'ææ¡£åçä¸ä¼ é¨åä¸¢å¤±ï¼è¯·éæ°ä¸ä¼ ï¼å¦æå¤æ¬¡ä¸ä¼ å¤±è´¥ï¼è¯·èç³»ç®¡çåã'\r\n    },\r\n    'en-US': {\r\n        'uploadFile': 'Upload File',\r\n        'uploading':'File Uploadingâ¦â¦',\r\n        'selectedCount':'Selected files countï¼',\r\n        'limitCount':'System limit countï¼',\r\n        'rechooseFile':',Reselect upload file.',\r\n        'save':'Save',\r\n        'cancel':'Cancel',\r\n        'haveSameName':'A file with the same name has been uploaded: ',\r\n        'rename':'Rename',\r\n\t\t'replace':'Replace',\r\n        'sizeZero':'File size is 0',\r\n        'sizeMax':'File size beyond limit',\r\n        'uploadFailure':'Upload failed',\r\n        'uploadSucceed':'Upload successfully',\r\n        'wait':'Wait a minute, the file is uploading.',\r\n        'saveTo':'Saving file to',\r\n        'delete':'Delete',\r\n        'selectAll':'Select all',\r\n        'selectNull':'Not at all',\r\n        'detail':'Details',\r\n        'fileName':'Filename',\r\n        'state':'State',\r\n        'operation':'Operation',\r\n        'size':'Size',\r\n        'close':'Close',\r\n        'loading':'Loading',\r\n        'mismatchChunkSize':'The partial upload of document shards is missing. Please upload again. If multiple uploads fail, please contact the administrator.'\r\n    },\r\n    'en': {\r\n        'uploadFile': 'Upload File',\r\n        'uploading':'File Uploadingâ¦â¦',\r\n        'selectedCount':'Selected files countï¼',\r\n        'limitCount':'System limit countï¼',\r\n        'rechooseFile':',Reselect upload file.',\r\n        'save':'Save',\r\n        'cancel':'Cancel',\r\n        'haveSameName':'A file with the same name has been uploaded: ',\r\n        'rename':'Rename',\r\n\t\t'replace':'Replace',\r\n        'sizeZero':'File size is 0',\r\n        'sizeMax':'File size beyond limit',\r\n        'uploadFailure':'Upload failed',\r\n        'uploadSucceed':'Upload successfully',\r\n        'wait':'Wait a minute, the file is uploading.',\r\n        'saveTo':'Saving file to',\r\n        'delete':'Delete',\r\n        'selectAll':'Select all',\r\n        'selectNull':'Not at all',\r\n        'detail':'Details',\r\n        'fileName':'Filename',\r\n        'state':'State',\r\n        'operation':'Operation',\r\n        'size':'Size',\r\n        'close':'Close',\r\n        'loading':'Loading',\r\n        'mismatchChunkSize':'The partial upload of document shards is missing. Please upload again. If multiple uploads fail, please contact the administrator.'\r\n    },\r\n    'zh-CHT': {\r\n        'uploadFile': 'ä¸å³æä»¶',\r\n        'uploading':'æ­£å¨ä¸å³æä»¶â¦â¦',\r\n        'selectedCount':'å·²é¸ææä»¶æ¸éï¼',\r\n        'limitCount':'è¶åºç³»çµ±éå¶æ¸éï¼',\r\n        'rechooseFile':',éæ°é¸æä¸å³æä»¶ã',\r\n        'save':'ä¿å­',\r\n        'cancel':'åæ¶',\r\n        'haveSameName':'å·²ä¸å³éååæä»¶: ',\r\n        'rename':'éå½å',\r\n\t\t'replace':'æ¿æ',\r\n        'sizeZero':'æä»¶å¤§å°çº0',\r\n        'sizeMax':'æä»¶å¤§å°è¶åºéå¶',\r\n        'uploadFailure':'ä¸å³å¤±æ',\r\n        'uploadSucceed':'ä¸å³æå',\r\n        'wait':'ç­ä¸ä¸ï¼æä»¶æ­£å¨ä¸å³ã',\r\n        'saveTo':'æ­£å¨å°æä»¶ä¿å­å°',\r\n        'delete':'å é¤',\r\n        'selectAll':'å¨é¸',\r\n        'selectNull':'å¨ä¸é¸',\r\n        'detail':'è©³æ',\r\n        'fileName':'æä»¶å',\r\n        'state':'çæ',\r\n        'operation':'æä½',\r\n        'size':'å¤§å°',\r\n        'close':'éé',\r\n        'loading':'æ¼å½å è¼ä¸­',\r\n        'mismatchChunkSize':'ææªåçä¸å³é¨åéºå¤±ï¼è«éæ°ä¸å³ï¼å¦æå¤æ¬¡ä¸å³å¤±æï¼è«è¯ç³»ç®¡çå¡ã'\r\n    },\r\n};","import { Pipe, PipeTransform, Inject, LOCALE_ID } from '@angular/core';\r\nimport { LANG_RESOURCES } from './i18n/language.resource';\r\n\r\n@Pipe({ name: 'locale' })\r\nexport class LocalLangPipe implements PipeTransform {\r\n    private readonly defaultLang: string = \"zh-CHS\";\r\n    private langCode: string;\r\n    private lang: {};\r\n    constructor(\r\n        @Inject(LOCALE_ID) localeId: string\r\n    ) {\r\n        this.langCode = localStorage.getItem(\"languageCode\") || localeId || this.defaultLang;\r\n        this.lang = LANG_RESOURCES[this.langCode] || LANG_RESOURCES[this.defaultLang];\r\n    }\r\n    transform(name: string): any {\r\n        return this.lang[name] || name;\r\n    }\r\n}\r\n\r\n","export class GspDocSecurityBaseInfo {\r\n    public securityId: string;\r\n    public securityLevel: number;\r\n    public name: string;\r\n}","export class InitMultiUploadRequest {\r\n    public path: string;\r\n    public metadataId: string;\r\n    public rootId: string;\r\n    public fileName: string;\r\n    public size: number;\r\n}","import { MultiUploadResult } from \"./multiuploadresult\";\r\n\r\nexport class CompleteMultiUploadRequest {\r\n    public metadataId: string;\r\n    public rootId: string;\r\n    public uploadId: string;\r\n    public size: number;\r\n    public partList: MultiUploadResult[];\r\n    public exPropertyName: string;\r\n}","import { GspDocMetaProperty } from \"./gspdocmetaproperty\";\r\nimport { OperatingModes } from \"./operatingmodes\";\r\n\r\nexport class GspFormStreamEntity {\r\n    public formId: string;\r\n    public metadataId: string;\r\n    public rootId: string;\r\n    public fileName: string;\r\n    public size: number;\r\n    public mode: OperatingModes;\r\n    public exPropertyName: string;\r\n    public extProperty: GspDocMetaProperty;\r\n}","export class MultiUploadRequest {\r\n    public metadataId: string;\r\n\r\n    public total: number;\r\n\r\n    public size: number;\r\n\r\n    public index: number;\r\n\r\n    public rootId: string;\r\n\r\n    public uploadId: string;\r\n}","import { Component, OnInit, Input, ViewChild, TemplateRef, Injector, LOCALE_ID } from '@angular/core';\r\nimport { FileInfo } from '../entity/fileinfo';\r\nimport { DocType } from '../entity/doctype';\r\nimport { GspFormDocInfo } from '../entity/gspformdocinfo';\r\nimport { OperatingModes } from '../entity/operatingmodes';\r\nimport { UploadService } from '../upload.service';\r\nimport { UploadFileInfo } from '../entity/uploadfileinfo';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { Observable, of } from 'rxjs';\r\nimport { GspFormUploadEntity } from '../entity/gspformuploadentity';\r\nimport { UUID } from 'angular2-uuid';\r\nimport { StorageExtension } from '../entity/storageextension';\r\nimport { ExStorageFileInfo } from '../entity/extensionstoragefileinfo';\r\nimport { DropListEntity } from '../entity/droplistentity';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { FileState } from '../entity/filestate';\r\nimport { LocalLangPipe } from '../../local.pipe';\r\nimport { GspDocSecurityBaseInfo } from '../entity/gspdocsecuritybaseinfo';\r\nimport { SecurityEntity } from '../entity/securityentity';\r\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\nimport { InitMultiUploadRequest } from '../entity/initmultiuploadrequest';\r\nimport { CompleteMultiUploadRequest } from '../entity/completemultiuploadrequest';\r\nimport { GspFormStreamEntity } from '../entity/gspformstreamentity';\r\nimport { MultiUploadRequest } from '../entity/multiuploadrequest';\r\nimport { MultiUploadResult } from '../entity/multiuploadresult';\r\n\r\n\r\n@Component({\r\n  selector: 'app-file-upload',\r\n  templateUrl: './file-upload.component.html',\r\n  styleUrls: ['./file-upload.component.css'],\r\n})\r\nexport class FileUploadComponent implements OnInit {\r\n\r\n  files: FileInfo[] = [];\r\n  metadataIdList: string[] = [];\r\n  uploadFileInfoList: UploadFileInfo[] = [];\r\n  errFileList: string[] = [];\r\n  errTypeList: string[] = [];\r\n  nullFileList: string[] = [];\r\n  beyondFileList: string[] = [];\r\n  showType: number = 0;\r\n  mouseOn: boolean = false;\r\n  bufferSize = 5 * 1024 * 1024;\r\n  selectedFiles: any;\r\n  radioButtonGroupValue;\r\n  selectedFileCount: number = 0;\r\n\r\n  uploadIconAddress = '/platform/runtime/dfs/images/upload.svg';\r\n  uploadLittleIconAddress = '/platform/runtime/dfs/images/uploadIcon.svg';\r\n\r\n  hasSelectedFile: boolean = false;\r\n\r\n  fileAllSelected: boolean = false;\r\n\r\n  uploadProcess = { width: '0%' };\r\n\r\n  fileTotalChunk: { [key: string]: number } = {};\r\n\r\n  requestArray: Array<Observable<any>> = new Array;\r\n\r\n  requestBodyArray: Array<GspFormUploadEntity> = new Array;\r\n\r\n  uploadedChunk: { [key: string]: number } = {};\r\n  uploadedProcess: { [key: string]: number } = {};\r\n\r\n  //allSelected: boolean = true;\r\n  storageExtension: StorageExtension;\r\n\r\n  defaultPropertyName: string = \"\";\r\n  propertiesNames: DropListEntity[] = [];\r\n\r\n  securityInfoList: SecurityEntity[] = [];\r\n\r\n  queueListStyle = { width: '480px' };\r\n\r\n  dropListValue: string = \"\";\r\n\r\n  uploadedFileTotal: number = 0;\r\n\r\n  allowedMultiUpload: boolean;\r\n\r\n  haveExtensionProperty: boolean = false;\r\n\r\n  haveSecurityInfo: boolean = false;\r\n\r\n  uploadedFileInfoList = [];\r\n  oldUploadedFileList = [];\r\n  //uploadedNameList = [];\r\n\r\n  sameNameAllowed = true;\r\n  maxFileSize: number = 0;;\r\n  localeid: string;\r\n  localepipe: LocalLangPipe;\r\n  httpclient: HttpClient;\r\n  checkboxPos = { top: '0px' }\r\n\r\n  constructor(private msgService: MessagerService, private uploadService: UploadService, private loadService: LoadingService, private injector?: Injector) {\r\n    if (this.injector) {\r\n      this.httpclient = this.injector.get(HttpClient);\r\n      this.localeid = localStorage.getItem(\"languageCode\") || this.injector.get(LOCALE_ID);\r\n      this.localepipe = new LocalLangPipe(this.localeid);\r\n    }\r\n  }\r\n  @Input() formId: string;\r\n  @Input() rootId: string;\r\n  @Input() fileType: string = \"*\";\r\n  @Input() fileCount: number = 0;\r\n  @Input() oldIdList: string[] = [];\r\n  @Input() securityInfo: GspDocSecurityBaseInfo = null;\r\n\r\n  @ViewChild('opCell') opCell: TemplateRef<any>;\r\n\r\n  ngOnInit() {\r\n    if (navigator.userAgent.indexOf('Firefox') >= 0)\r\n      this.checkboxPos.top = '14px';\r\n    //if (this.storageService != null) {\r\n    if (this.securityInfo != null) {\r\n      this.uploadService.getSecurityInfoList(this.securityInfo).subscribe(\r\n        res => {\r\n          this.haveSecurityInfo = true;\r\n          let i = 0;\r\n          res.forEach(element => {\r\n            this.securityInfoList.push({ id: i.toString(), securityId: element.securityId, securityLevel: element.securityLevel, name: element.name });\r\n            i++;\r\n          });\r\n        }\r\n      )\r\n    }\r\n    this.uploadService.getStorageExtensionInfo().subscribe(\r\n      res => {\r\n        if (res != null && res.error == null) {\r\n          this.storageExtension = res;\r\n          this.defaultPropertyName = this.storageExtension.defaultPropertyName;\r\n          this.propertiesNames.push({ id: \"0\", name: this.storageExtension.defaultPropertyName });\r\n          let i = 0;\r\n          // this.propertiesNames.push(...(this.storageExtension.extensionPropertyNameList));\r\n          this.storageExtension.extensionPropertyNameList.forEach(element => {\r\n            this.propertiesNames.push({ id: (++i).toString(), name: element });\r\n          });\r\n          this.queueListStyle.width = '380px';\r\n          this.haveExtensionProperty = true;\r\n        }\r\n      }\r\n    )\r\n\r\n    this.uploadService.getUploadInfo(this.rootId).subscribe(\r\n      res => {\r\n        if (res != null && res.error == null) {\r\n          this.sameNameAllowed = res.sameNameAllowed;\r\n          this.maxFileSize = parseInt(JSON.parse(res.validateConfiguration).maxFileSize);\r\n          this.allowedMultiUpload = res.allowedMultiUpload;\r\n          if (!this.sameNameAllowed) {\r\n            this.uploadService.getUploadedFileInfoList(this.formId, this.rootId).subscribe(\r\n              res => {\r\n                if (res != null && res.error == null) {\r\n                  this.uploadedFileInfoList = res;\r\n                  this.oldUploadedFileList = JSON.parse(JSON.stringify(res));;\r\n\r\n                }\r\n              })\r\n          }\r\n\r\n        }\r\n      }\r\n    )\r\n    if (this.oldIdList != null && this.oldIdList.length > 0) {\r\n      // this.uploadService.cancel(this.oldIdList, this.rootId).subscribe();\r\n    }\r\n\r\n    this.radioButtonGroupValue = 'showByGroup';\r\n  }\r\n\r\n  totalLoad: any = null;\r\n\r\n  showLoading() {\r\n    this.hasSelectedFile = true;\r\n    // if (this.totalLoad == null)\r\n    //   this.totalLoad = this.loadService.show({\r\n    //     message: this.localepipe.transform('uploading')\r\n    //   });\r\n  }\r\n\r\n\r\n  fileSelected($event) {\r\n\r\n    this.hasSelectedFile = true;\r\n    this.selectedFiles = document.querySelector('#file');\r\n\r\n    if (this.fileCount > 0) {\r\n      if (this.selectedFiles.files.length + this.files.length > this.fileCount) {\r\n        let selectedNum: number = (this.selectedFiles.files.length as number) + this.files.length;\r\n        this.msgService.warning(this.localepipe.transform('selectedCount') + selectedNum + this.localepipe.transform('limitCount') + this.fileCount + this.localepipe.transform('rechooseFile'));\r\n        return;\r\n      }\r\n    }\r\n\r\n    //this.flag = 0;\r\n    for (let i = 0; i < this.selectedFiles.files.length; i++) {\r\n      let selectedFile = this.selectedFiles.files[i];\r\n      //selectedFile.slice\r\n      let uuid = UUID.UUID();\r\n\r\n      if (selectedFile.size == 0) {\r\n        this.nullFileList.push(selectedFile.name);\r\n        continue;\r\n      }\r\n\r\n      if (this.maxFileSize != null && this.maxFileSize > 0) {\r\n        if (selectedFile.size > this.maxFileSize * 1000) {\r\n          this.beyondFileList.push(selectedFile.name);\r\n          continue;\r\n        }\r\n      }\r\n\r\n      if (!this.sameNameAllowed) {\r\n        if (this.uploadedFileInfoList.find(x => x.fileName == selectedFile.name) != null) {\r\n\r\n          const msg = this.msgService.show('warning', this.localepipe.transform('haveSameName') + selectedFile.name, {\r\n            initialState: {\r\n              buttons: [\r\n                {\r\n                  text: this.localepipe.transform('rename'),\r\n                  cls: 'btn btn-secondary',\r\n                  handle: () => {\r\n                    let oldName: string = selectedFile.name;\r\n                    let newName\r\n                    let flag = true;\r\n                    let i = 1;\r\n                    while (flag) {\r\n                      newName = oldName.substring(0, oldName.lastIndexOf('.')) + '(' + i + ')' + oldName.substring(oldName.lastIndexOf('.'));\r\n                      if (this.uploadedFileInfoList.find(x => x.fileName == newName) != null) {\r\n                        i++;\r\n                      }\r\n                      else\r\n                        flag = false;\r\n                    }\r\n\r\n                    this.uploadFile(uuid, selectedFile, newName);\r\n                    msg.close();\r\n                  }\r\n                },\r\n                {\r\n                  text: this.localepipe.transform('replace'),\r\n                  cls: 'btn btn-secondary',\r\n                  handle: () => {\r\n                    uuid = this.uploadedFileInfoList.find(x => x.fileName == selectedFile.name).metadataId;\r\n                    this.uploadFile(uuid, selectedFile, selectedFile.name, FileState.Update);\r\n                    this.uploadedFileTotal--;\r\n                    if (this.oldUploadedFileList.find(x => x.fileName == selectedFile.name)) {\r\n                      this.uploadedFileTotal++;\r\n                      this.uploadedFileInfoList.splice(this.uploadedFileInfoList.indexOf(this.uploadedFileInfoList.filter(x => x.fileName == selectedFile.name)[0]), 1);\r\n                    }\r\n                    msg.close();\r\n                  }\r\n                },\r\n                {\r\n                  text: this.localepipe.transform('cancel'),\r\n                  cls: 'btn btn-secondary',\r\n                  handle: () => {\r\n                    msg.close();\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          })\r\n          continue;\r\n        }\r\n      }\r\n      this.uploadFile(uuid, selectedFile, selectedFile.name);\r\n\r\n    }\r\n\r\n    if (this.errFileList.length > 0) {\r\n      let name: string = this.listToString(this.errFileList);\r\n      this.msgService.warning(this.localepipe.transform('haveSameName') + name + this.localepipe.transform('rechooseFile'));\r\n      this.errFileList = [];\r\n    }\r\n\r\n    if (this.nullFileList.length > 0) {\r\n      let name: string = this.listToString(this.nullFileList);\r\n      name = name.substring(0, name.length - 1);\r\n      this.msgService.warning(name + this.localepipe.transform('sizeZero') + this.localepipe.transform('rechooseFile'));\r\n      this.nullFileList = [];\r\n    }\r\n\r\n    if (this.beyondFileList.length > 0) {\r\n      let name: string = this.listToString(this.beyondFileList);\r\n      name = name.substring(0, name.length - 1);\r\n      this.msgService.warning(name + this.localepipe.transform('sizeMax') + this.maxFileSize + \"KB\" + this.localepipe.transform('rechooseFile'));\r\n      this.beyondFileList = [];\r\n    }\r\n    this.files = this.files.slice();\r\n    this.fileAllSelected = false;\r\n    $event.target.value = '';\r\n    // loading.close();\r\n  }\r\n\r\n  showErrorMessage(file) {\r\n    this.msgService.error(this.localepipe.transform('uploadFailure') + file.errorMessage);\r\n  }\r\n\r\n  handleFileInfo(uuid: string, selectedFile, fileName: string): any {\r\n\r\n    let fileInfo: FileInfo;\r\n\r\n    fileInfo = {\r\n      id: uuid,\r\n      name: fileName,\r\n      type: selectedFile.type,\r\n      source: \"\",\r\n      size: this.getFileSize(selectedFile.size),\r\n      fileSize: selectedFile.size,\r\n      picListDisplayName: this.getPicListDisplayName(fileName),\r\n      queueListDisplayName: this.getQueueDisplayName(fileName),\r\n      //content: reader.result.toString(),\r\n      hasUploaded: false,\r\n      mouseOn: false,\r\n      selectd: false,\r\n      isUploading: true,\r\n      uploadResult: false,\r\n      uploadProcess: 0,\r\n      errorMessage: \"\",\r\n      extensionDropListId: 0,\r\n      extensionName: \"\",\r\n      securityDropListId: 0,\r\n      securityInfo: this.securityInfoList[0]\r\n    }\r\n\r\n    if (this.storageExtension != null)\r\n      fileInfo.extensionName = this.defaultPropertyName;\r\n\r\n\r\n    let type: string = selectedFile.type;\r\n    if (type.includes(\"tiff\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Other);\r\n    }\r\n    else if (type.includes(\"image\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Image);\r\n    }\r\n    else if (type.includes(\"word\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Word);\r\n    }\r\n    else if (type.includes(\"pdf\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Pdf);\r\n    }\r\n    else if (type.includes(\"plain\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Txt);\r\n    }\r\n    else if (type.includes(\"sheet\") || type.includes(\"excel\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Excel)\r\n    }\r\n    else if (type.includes(\"powerpoint\") || type.includes(\"presentation\")) {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Powerpoint);\r\n    }\r\n    else {\r\n      this.addDocInfo(selectedFile, fileInfo, DocType.Other);\r\n      // let name: string = selectedFile.name;\r\n      // let errType = name.substring(selectedFile.name.lastIndexOf('.'));\r\n      // this.errTypeList.push(errType);\r\n    }\r\n    return fileInfo;\r\n  }\r\n\r\n  uploadFile(uuid: string, selectedFile, fileName: string, state: FileState = FileState.New) {\r\n\r\n    let fileInfo = this.handleFileInfo(uuid, selectedFile, fileName);\r\n\r\n    let uploadFileInfo = new UploadFileInfo();\r\n\r\n    uploadFileInfo.metadataId = uuid;\r\n    uploadFileInfo.fileName = fileInfo.name;\r\n    uploadFileInfo.fileSize = fileInfo.size;\r\n    uploadFileInfo.state = state;\r\n    uploadFileInfo.securityInfo = this.securityInfoList[0];\r\n\r\n\r\n    //å¤æ­æ¯å¦æ¯æåçä¸ä¼ \r\n    if (this.allowedMultiUpload) {\r\n\r\n      //æ¯æåçä¸ä¼ \r\n      let initRequest: InitMultiUploadRequest = new InitMultiUploadRequest;\r\n\r\n      initRequest.path = this.formId;\r\n      initRequest.metadataId = uuid;\r\n      initRequest.rootId = this.rootId;\r\n      initRequest.size = fileInfo.fileSize;\r\n      initRequest.fileName = fileName;\r\n\r\n      //åå§ååç\r\n      this.initMultiUpload(initRequest).subscribe(res => {\r\n        if (res.error != null) {\r\n          this.files[this.files.indexOf(fileInfo)].uploadResult = false;\r\n          this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n          this.files[this.files.indexOf(fileInfo)].errorMessage = res.error.Message;\r\n        } else {\r\n          let uploadId = res.uploadId;\r\n          let chunkTotal: number = Math.ceil(selectedFile.size / this.bufferSize);\r\n          let chunkIndex: number = 0;\r\n\r\n          let multiResultList: MultiUploadResult[] = [];\r\n\r\n          this.fileTotalChunk[uuid] = chunkTotal;\r\n          this.uploadedChunk[uuid] = 0;\r\n\r\n          while (chunkIndex < chunkTotal) {\r\n\r\n            let nextSize = Math.min((chunkIndex + 1) * this.bufferSize, selectedFile.size);\r\n            let fileData = selectedFile.slice(chunkIndex * this.bufferSize, nextSize);\r\n\r\n            let multiRequest = new MultiUploadRequest;\r\n            multiRequest.metadataId = uuid;\r\n            multiRequest.rootId = this.rootId;\r\n            multiRequest.uploadId = uploadId;\r\n            multiRequest.index = chunkIndex;\r\n            multiRequest.total = chunkTotal;\r\n            multiRequest.size = fileData.size;\r\n\r\n            let formData = new FormData();\r\n            formData.append('multiRequest', JSON.stringify(multiRequest));\r\n            formData.append('file', fileData);\r\n\r\n            this.multiUpload(formData).subscribe(res => {\r\n              if (res.error != null) {\r\n                this.files[this.files.indexOf(fileInfo)].uploadResult = false;\r\n                this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n                this.files[this.files.indexOf(fileInfo)].errorMessage = res.error.Message;\r\n              } else {\r\n                multiResultList.push(res.result);\r\n                this.uploadedChunk[uuid]++;\r\n                this.files[this.files.indexOf(fileInfo)].uploadProcess = Number.parseInt((this.uploadedChunk[uuid] / this.fileTotalChunk[uuid] * 100).toFixed(0));\r\n                if (this.uploadedChunk[uuid] == this.fileTotalChunk[uuid]) {\r\n                  if (multiResultList.length == this.fileTotalChunk[uuid]) {\r\n\r\n                    let completeMultiUploadRequest: CompleteMultiUploadRequest = new CompleteMultiUploadRequest;\r\n                    completeMultiUploadRequest.metadataId = uuid;\r\n                    completeMultiUploadRequest.partList = multiResultList;\r\n                    completeMultiUploadRequest.rootId = this.rootId;\r\n                    completeMultiUploadRequest.uploadId = uploadId;\r\n                    completeMultiUploadRequest.size = fileInfo.fileSize;\r\n                    if (this.haveExtensionProperty)\r\n                      completeMultiUploadRequest.exPropertyName = this.defaultPropertyName;\r\n                    this.completeMultiUpload(completeMultiUploadRequest).subscribe(res => {\r\n                      if (res.status != 200) {\r\n                        this.files[this.files.indexOf(fileInfo)].uploadResult = false;\r\n                        this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n                        this.files[this.files.indexOf(fileInfo)].errorMessage = res.error.Message;\r\n                      } else {\r\n                        this.files[this.files.indexOf(fileInfo)].uploadResult = true;\r\n                        this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n                        this.uploadFileInfoList = this.uploadFileInfoList.concat(uploadFileInfo);\r\n                        this.uploadedFileInfoList = this.uploadedFileInfoList.concat(uploadFileInfo);\r\n                        this.uploadedFileTotal++;\r\n                      }\r\n                    })\r\n                    //åå°å¼æ­¥æ¼æ¥ææ¡£\r\n                  } else {\r\n                    this.files[this.files.indexOf(fileInfo)].uploadResult = false;\r\n                    this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n                    this.files[this.files.indexOf(fileInfo)].errorMessage = this.localepipe.transform('mismatchChunkSize');\r\n                  }\r\n\r\n                }\r\n              }\r\n            })\r\n\r\n            chunkIndex = chunkIndex + 1;\r\n          }\r\n        }\r\n\r\n      })\r\n\r\n    } else {\r\n      let entity = new GspFormStreamEntity;\r\n      entity.formId = this.formId;\r\n      entity.metadataId = uuid;\r\n      entity.mode = OperatingModes.Temp;\r\n      entity.rootId = this.rootId;\r\n      entity.size = selectedFile.size;\r\n      entity.fileName = fileName;\r\n      if (this.haveExtensionProperty)\r\n        entity.exPropertyName = this.defaultPropertyName;\r\n\r\n      let formData = new FormData();\r\n      formData.append('uploadEntity', JSON.stringify(entity));\r\n      formData.append('file', selectedFile);\r\n\r\n      this.uploadSingleFile(formData).subscribe(res => {\r\n        if (res != null) {\r\n          this.files[this.files.indexOf(fileInfo)].uploadResult = false;\r\n          this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n          this.files[this.files.indexOf(fileInfo)].errorMessage = res.error.Message;\r\n        } else {\r\n          this.files[this.files.indexOf(fileInfo)].uploadResult = true;\r\n          this.files[this.files.indexOf(fileInfo)].isUploading = false;\r\n          this.uploadFileInfoList = this.uploadFileInfoList.concat(uploadFileInfo);\r\n          this.uploadedFileInfoList = this.uploadedFileInfoList.concat(uploadFileInfo);\r\n          this.uploadedFileTotal++;\r\n\r\n        }\r\n      })\r\n\r\n    }\r\n\r\n\r\n\r\n    let index = -1;\r\n    this.files.forEach(x => {\r\n      if (x.name == fileInfo.name) {\r\n        if (index == -1)\r\n          index = this.files.indexOf(x);\r\n      }\r\n    })\r\n    if (index != -1 && index != this.files.length - 1) {\r\n      this.files.splice(index, 1);\r\n      this.uploadFileInfoList.splice(index, 1);\r\n      this.uploadedFileInfoList.splice(index, 1);\r\n      //this.uploadedFileTotal--;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  uploadSingleFile(formdata: FormData): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/single\";\r\n\r\n    return this.httpclient.post(url, formdata).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  uploadSliceFile(formdata: FormData): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/slice\";\r\n\r\n    return this.httpclient.post(url, formdata).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  initMultiUpload(request: InitMultiUploadRequest): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/multi/init\";\r\n\r\n    return this.httpclient.post(url, request).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  multiUpload(formdata: FormData): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/multi/upload\";\r\n\r\n    return this.httpclient.post(url, formdata).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n  completeMultiUpload(request: CompleteMultiUploadRequest): Observable<any> {\r\n\r\n    let url = \"/api/runtime/dfs/v1.0/formdoc/multi/complete\";\r\n\r\n    return this.httpclient.post(url, request).pipe(\r\n      tap(res => { }),\r\n      catchError((error: HttpErrorResponse) => {\r\n        return of(error);\r\n      }));\r\n  }\r\n\r\n\r\n\r\n  selectAllFile() {\r\n\r\n    if (!this.fileAllSelected) {\r\n      this.files.forEach(element => {\r\n\r\n        element.selectd = true;\r\n      });\r\n      this.fileAllSelected = true;\r\n      this.selectedFileCount = this.files.length;\r\n\r\n    } else {\r\n      this.files.forEach(element => {\r\n\r\n        element.selectd = false;\r\n      });\r\n      this.fileAllSelected = false;\r\n      this.selectedFileCount = 0;\r\n    }\r\n  }\r\n\r\n\r\n  checkoutSelectFile(file: FileInfo) {\r\n    // let obj: any = document.getElementById(fileName);\r\n    file.selectd = !file.selectd;\r\n    if (file.selectd)\r\n      this.selectedFileCount++;\r\n    else\r\n      this.selectedFileCount--;\r\n    if (this.selectedFileCount == this.files.length) {\r\n      this.fileAllSelected = true;\r\n      //this.isFileAllSelected();\r\n    }\r\n    else {\r\n      this.fileAllSelected = false;\r\n      //this.isFileAllSelected();\r\n    }\r\n\r\n  }\r\n\r\n  listDeleteFile(fileInfo: FileInfo) {\r\n    if (fileInfo.selectd)\r\n      this.selectedFileCount--;\r\n    //console.log(fileName);\r\n    this.files.splice(this.files.indexOf(fileInfo), 1);\r\n    if (fileInfo.uploadResult) {\r\n      let idList: string[] = [];\r\n      idList.push(fileInfo.id);\r\n      this.uploadService.cancel(idList, this.rootId).subscribe();\r\n\r\n      this.uploadFileInfoList.splice(this.uploadFileInfoList.indexOf(this.uploadFileInfoList.filter(x => x.fileName == fileInfo.name)[0]), 1);\r\n      this.uploadedFileInfoList.splice(this.uploadedFileInfoList.indexOf(this.uploadedFileInfoList.filter(x => x.fileName == fileInfo.name)[0]), 1);\r\n      this.uploadedFileTotal--;\r\n    }\r\n    if (this.selectedFileCount == 0)\r\n      this.fileAllSelected = false;\r\n  }\r\n\r\n  listMultipleDeleteFile() {\r\n    let selectedFile: FileInfo[] = [];\r\n    this.files.forEach(element => {\r\n      let obj: any = document.getElementById(element.name);\r\n      if (obj.checked)\r\n        selectedFile.push(element);\r\n    })\r\n    let metadataList: string[] = [];\r\n    selectedFile.forEach(element => {\r\n      metadataList.push(element.id);\r\n      this.files.splice(this.files.indexOf(element), 1);\r\n      if (element.uploadResult) {\r\n\r\n        this.uploadFileInfoList.splice(this.uploadFileInfoList.indexOf(this.uploadFileInfoList.filter(x => x.fileName == element.name)[0]), 1);\r\n        this.uploadedFileInfoList.splice(this.uploadedFileInfoList.indexOf(this.uploadedFileInfoList.filter(x => x.fileName == element.name)[0]), 1);\r\n        this.uploadedFileTotal--;\r\n      }\r\n    })\r\n    this.uploadService.cancel(metadataList, this.rootId).subscribe();\r\n\r\n    let allBox: any = document.getElementById(\"allCheckBox\");\r\n    if (allBox != null)\r\n      allBox.checked = false;\r\n    this.selectedFileCount = 0;\r\n    this.fileAllSelected = false;\r\n  }\r\n\r\n\r\n  getPicListDisplayName(fileName: string) {\r\n    if (fileName.length <= 10)\r\n      return fileName;\r\n    else {\r\n      let headContent = fileName.substring(0, 2);\r\n      let tailContent = fileName.substring(fileName.lastIndexOf('.') - 2);\r\n      return headContent + \"â¦\" + tailContent;\r\n    }\r\n  }\r\n\r\n  getQueueDisplayName(fileName: string) {\r\n    return fileName;\r\n  }\r\n\r\n  addDocInfo(selectdFile, fileInfo: FileInfo, docType: DocType) {\r\n\r\n    switch (docType) {\r\n      case DocType.Word: {\r\n        fileInfo.source = \"/platform/runtime/dfs/images/word.png\"\r\n        this.files.push(fileInfo);\r\n        break;\r\n      }\r\n\r\n      case DocType.Pdf: {\r\n        fileInfo.source = \"/platform/runtime/dfs/images/pdf.png\"\r\n        this.files.push(fileInfo);\r\n        break;\r\n      }\r\n\r\n      case DocType.Excel: {\r\n        fileInfo.source = \"/platform/runtime/dfs/images/excel.png\";\r\n        this.files.push(fileInfo);\r\n        break;\r\n      }\r\n\r\n      case DocType.Txt: {\r\n        fileInfo.source = \"/platform/runtime/dfs/images/txt.png\";\r\n        this.files.push(fileInfo);\r\n        break;\r\n      }\r\n\r\n      case DocType.Powerpoint: {\r\n        fileInfo.source = \"/platform/runtime/dfs/images/ppt.png\";\r\n        this.files.push(fileInfo);\r\n        break;\r\n      }\r\n\r\n      case DocType.Other: {\r\n        fileInfo.source = \"/platform/runtime/dfs/images/file.png\";\r\n        this.files.push(fileInfo);\r\n        break;\r\n      }\r\n\r\n      case DocType.Image: {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(selectdFile);\r\n        reader.onload = (_event) => {\r\n          let imgUrl = reader.result;\r\n          if (this.injector != null) {\r\n            let sanitizer = this.injector.get(DomSanitizer);\r\n            imgUrl = sanitizer.bypassSecurityTrustResourceUrl(imgUrl);\r\n          }\r\n          fileInfo.source = imgUrl;\r\n          this.files.push(fileInfo);\r\n\r\n          //å ä¸ºå¼æ­¥å¤ççå·®å¼ï¼è¡¥å¿ä¸æ¬¡å é¤\r\n          let index = -1;\r\n          this.files.forEach(x => {\r\n            if (x.name == fileInfo.name) {\r\n              if (index == -1)\r\n                index = this.files.indexOf(x);\r\n            }\r\n          })\r\n          if (index != -1 && index != this.files.length - 1) {\r\n            this.files.splice(index, 1);\r\n            this.uploadFileInfoList.splice(index, 1);\r\n            this.uploadedFileInfoList.splice(index, 1);\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  listToString(strList: string[]) {\r\n    let name: string = \"\";\r\n    for (let i = 0; i < strList.length; i++) {\r\n      name += strList[i] + \",\";\r\n    }\r\n    return name;\r\n  }\r\n\r\n  securityChange($event: any, file: FileInfo) {\r\n    file.securityInfo = $event.data;\r\n    let uploadFile = this.uploadFileInfoList.filter(x => x.metadataId = file.id)[0];\r\n    uploadFile.securityInfo = $event.data;\r\n  }\r\n\r\n\r\n  exStorageFileList: ExStorageFileInfo[] = [];\r\n\r\n  typeChange($event: any, file: FileInfo) {\r\n    file.extensionName = $event.data.name;\r\n    let exStorageFileInfo: ExStorageFileInfo = new ExStorageFileInfo;\r\n    if (file.extensionName == this.storageExtension.defaultPropertyName) {\r\n      if (this.exStorageFileList.filter(x => x.metadataId == file.id).length > 0)\r\n        this.exStorageFileList.splice(this.exStorageFileList.findIndex(x => x.metadataId == file.id), 1)\r\n    } else {\r\n      if (this.exStorageFileList.filter(x => x.metadataId == file.id).length > 0) {\r\n        exStorageFileInfo = this.exStorageFileList.filter(x => x.metadataId == file.id)[0];\r\n        exStorageFileInfo.exPropertyName = file.extensionName;\r\n      } else {\r\n        exStorageFileInfo.metadataId = file.id;\r\n        exStorageFileInfo.exPropertyName = file.extensionName;\r\n        this.exStorageFileList.push(exStorageFileInfo);\r\n      }\r\n    }\r\n  }\r\n\r\n  upload(): Observable<any> {\r\n    if (this.uploadedFileTotal != this.files.filter(x => x.isUploading || x.uploadResult).length) {\r\n\r\n      this.msgService.warning(this.localepipe.transform('wait'));\r\n      return of(false);\r\n    }\r\n    if (this.haveSecurityInfo) {\r\n      this.uploadService.saveSecurityInfo(this.uploadFileInfoList, this.rootId).subscribe();\r\n    }\r\n    if (this.storageExtension == null)\r\n      return of(this.uploadFileInfoList);\r\n    else {\r\n      if (this.exStorageFileList.length == 0)\r\n        return of(this.uploadFileInfoList);\r\n      else {\r\n        const loading = this.loadService.show({\r\n          message: this.localepipe.transform('saveTo') + this.storageExtension.extensionName\r\n        });\r\n        return this.uploadService.changeStorageInstance(this.exStorageFileList, this.rootId).pipe(\r\n          map(res => {\r\n            // if (res != null)\r\n            //   this.msgService.error('ä¿å­å°' + this.storageExtension.extensionName + \"å¤±è´¥ï¼ä¸ä¼ æä»¶èªå¨ä¿å­å°\" + this.storageExtension.defaultPropertyName + \"å­å¨ã\" + res.error.Message);\r\n            loading.close();\r\n            return this.uploadFileInfoList;\r\n          }))\r\n      }\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    if (this.uploadFileInfoList.length == 0)\r\n      return;\r\n    this.uploadFileInfoList.forEach(element => {\r\n      this.metadataIdList.push(element.metadataId);\r\n    })\r\n    this.uploadService.cancel(this.metadataIdList, this.rootId).subscribe();\r\n\r\n  }\r\n\r\n  getUploadFileInfoList() {\r\n    return this.uploadFileInfoList;\r\n  }\r\n\r\n  delete(file) {\r\n    this.files.splice(this.files.indexOf(file), 1);\r\n    if (file.uploadResult)\r\n      this.uploadedFileTotal--;\r\n    if (this.exStorageFileList.filter(x => x.metadataId == file.id).length > 0) {\r\n      this.exStorageFileList.splice(this.exStorageFileList.findIndex(x => x.metadataId == file.id), 1);\r\n    }\r\n\r\n  }\r\n\r\n  getFileSize(size: number) {\r\n    if (size < 102400)\r\n      return (size / 1024).toFixed(1) + \"K\";\r\n    else if (size < 1024 * 1024)\r\n      return (size / 1024).toFixed(0) + \"K\";\r\n    else if (size < 100 * 1024 * 1024)\r\n      return (size / 1024 / 1024).toFixed(1) + \"M\";\r\n    else if (size < 1024 * 1024 * 1024)\r\n      return (size / 1024 / 1024).toFixed(0) + \"M\";\r\n    else\r\n      return (size / 1024 / 1024 / 1024).toFixed(1) + \"G\";\r\n  }\r\n  showByGroup() {\r\n    this.showType = 0;\r\n    // this.selectedFileCount = 0;\r\n  }\r\n\r\n  showByList() {\r\n    this.showType = 1;\r\n    // this.selectedFileCount = 0;\r\n    if (this.selectedFileCount != 0 && this.selectedFileCount == this.files.length) {\r\n      this.fileAllSelected = true;\r\n    }\r\n  }\r\n\r\n  mouseOver(file) {\r\n    file.mouseOn = true;\r\n  }\r\n  mouseOut(file) {\r\n    file.mouseOn = false;\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class DownloadService {\r\n\r\n  constructor() { }\r\n\r\n  getDownloadUrl(metadataId: string, rootId: string) {\r\n    return \"/api/runtime/dfs/v1.0/doc/filecontent?metadataid=\" + metadataId + \"&rootid=\" + rootId + \"&token=\" + this.getToken(this.mergeString(metadataId, rootId));\r\n  }\r\n\r\n\r\n  getStreamDownloadUrl(metadataId: string, rootId: string) {\r\n    return \"/api/runtime/dfs/v1.0/formdoc/stream?metadataid=\" + metadataId + \"&rootid=\" + rootId + \"&token=\" + this.getToken(this.mergeString(metadataId, rootId));\r\n  }\r\n\r\n  getMultipleDownloadUrl(metadataIdList: string, rootId: string) {\r\n    let list: string[] = JSON.parse(metadataIdList);\r\n    return \"/api/runtime/dfs/v1.0/doc/multiple/download?metadataidlist=\" + metadataIdList + \"&rootid=\" + rootId + \"&token=\" + this.getToken(this.mergeString(list[0], rootId));\r\n  }\r\n\r\n  getMultipleDownloadUrlWithName(metadataIdList: string, rootId: string, zipName: string) {\r\n    let list: string[] = JSON.parse(metadataIdList);\r\n    if (zipName == null || zipName == \"\")\r\n      zipName = 'unifile.zip';\r\n    if (!zipName.endsWith(\".zip\"))\r\n      zipName += '.zip';\r\n\r\n\r\n\r\n    return \"/api/runtime/dfs/v1.0/doc/compress/download?metadataidlist=\" + metadataIdList + \"&rootid=\" + rootId + \"&token=\" + this.getToken(this.mergeString(list[0], rootId)) + \"&zipName=\" + encodeURIComponent(zipName);\r\n  }\r\n\r\n  getHistoryDownloadUrl(metadataId: string, rootId: string, version: string) {\r\n    //let list:string[]=JSON.parse(metadataIdList);\r\n    return \"/api/runtime/dfs/v1.0/doc/historycontent?metadataid=\" + metadataId + \"&rootid=\" + rootId + \"&version=\" + version + \"&token=\" + this.getToken(this.mergeString(metadataId, rootId));\r\n  }\r\n\r\n\r\n\r\n  private mergeString(str: string, str1: string): string {\r\n    let min = str.length < str1.length ? str.length : str1.length;\r\n    let res: string = \"\";\r\n    let i = 0;\r\n    for (i = 0; i < min; i++) {\r\n      res += str.substring(i, i + 1);\r\n      res += str1.substring(i, i + 1);\r\n    }\r\n    res += str.length < str1.length ? str1.substring(i) : str.substring(i);\r\n    return res;\r\n  }\r\n\r\n  private getToken(str: string): string {\r\n    let array = [1, 2, 3];\r\n    if (str.length > 24)\r\n      str = str.substring(0, 24);\r\n    let length = Math.floor(str.length / 3);\r\n    let str1 = str.substring(0, length);\r\n    let str2 = str.substring(length, 2 * length);\r\n    let str3 = str.substring(2 * length, 3 * length);\r\n    let randomArray = [];\r\n    var random = Math.ceil(Math.random() * 3);\r\n    randomArray.push(array[random - 1]);\r\n    array.splice(random - 1, 1);\r\n    random = Math.ceil(Math.random() * 2);\r\n    randomArray.push(array[random - 1]);\r\n    array.splice(random - 1, 1);\r\n    randomArray.push(array[0]);\r\n    let timeStamp: string = Math.round(new Date().getTime() / 1000) + \"\";\r\n\r\n    return timeStamp.substring(0, 5) + \"times\" + randomArray[0] + \"\" + randomArray[1] + \"\" + randomArray[2] + this.switchStr(str1, str2, str3, randomArray[0]) + this.switchStr(str1, str2, str3, randomArray[1]) + this.switchStr(str1, str2, str3, randomArray[2]) + \"times\" + timeStamp.substring(5);\r\n  }\r\n\r\n  private switchStr(str1: string, str2: string, str3: string, i: number): string {\r\n    switch (i) {\r\n      case 1: return str1;\r\n      case 2: return str2;\r\n      case 3: return str3;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { LOCALE_ID, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FileUploadComponent } from './file-upload/file-upload.component';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { UploadService } from './upload.service';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { ProgressModule } from '@farris/ui-progress'\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisFormsModule } from '@farris/ui-forms'\r\nimport { DownloadService } from './download.service';\r\nimport { LocalLangPipe } from '../local.pipe';\r\nimport { CacheService, HttpService, LanguageService, SessionService } from '@ecp-caf/caf-common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [FileUploadComponent, LocalLangPipe],\r\n  imports: [\r\n    CommonModule,\r\n    NotifyModule,\r\n    MessagerModule.forRoot(),\r\n    LoadingModule.forRoot(),\r\n    ProgressModule,\r\n    FormsModule,\r\n    FarrisFormsModule,\r\n    ComboListModule,\r\n    HttpClientModule\r\n  ],\r\n  exports: [FileUploadComponent],\r\n  entryComponents: [FileUploadComponent],\r\n  providers: [UploadService, DownloadService, LanguageService, HttpService, CacheService, SessionService,\r\n    { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' },]\r\n\r\n})\r\nexport class UploadModule { }\r\n\r\nexport const Éµa = UploadModule;\r\n","import { Component, OnInit, ViewChild, Input } from '@angular/core';\nimport { BsModalRef, BsModalService } from '@farris/ui-modal';\nimport { FileUploadComponent } from '../../upload/file-upload/file-upload.component';\n\n@Component({\n  selector: 'app-uploaddialog',\n  templateUrl: './uploaddialog.component.html',\n  styleUrls: ['./uploaddialog.component.css']\n})\nexport class UploadDialogComponent implements OnInit {\n\n  dlg: BsModalRef;\n\n  metadataIdList:string[]=[];\n\n  @Input() formId:string;\n\n  constructor(private modalService: BsModalService) { }\n\n  @ViewChild(FileUploadComponent) fileUpload: FileUploadComponent;\n\n  ngOnInit() {\n  }\n\n  showDialog() {\n    this.dlg = this.modalService.show(FileUploadComponent, {\n      title: 'éæ©æä»¶',\n      width: 800, height: 500,\n      buttons: [\n        {\n          text: 'ä¸ä¼ ', cls: 'k-button k-button-icontext k-primary', iconCls: \"k-icon k-i-check\", handle: () => {\n            this.fileUpload.upload();\n            this.dlg.close();\n          }\n        },\n        {\n          text: 'å³é­', cls: 'k-button k-button-icontext', iconCls: \"k-icon k-i-close\", handle: () => {\n            this.fileUpload.cancel();\n            this.dlg.close();\n          }\n        }\n      ],\n\n      showButtons: true,\n\n    });\n    this.dlg.content.formId=this.formId;\n\n  }\n\n}\n","import { Injectable, Injector, ComponentFactoryResolver, LOCALE_ID } from '@angular/core';\r\nimport { FileUploadComponent } from './upload/file-upload/file-upload.component';\r\nimport { BsModalService, BsModalRef } from '@farris/ui-modal';\r\nimport { UploadFileInfo } from './upload/entity/uploadfileinfo';\r\nimport { Observable, of } from 'rxjs';\r\nimport { UploadLimit } from './upload/entity/uploadlimit';\r\nimport { LocalLangPipe } from './local.pipe';\r\n\r\n\r\n@Injectable()\r\nexport class UploadDialogService {\r\n\r\n    localeid: string;\r\n    localpipe: LocalLangPipe;\r\n    constructor(private modalService: BsModalService, private componentFactoryResolver: ComponentFactoryResolver, private injector: Injector) {\r\n        if (this.injector) {\r\n            this.modalService = this.injector.get(BsModalService);\r\n            this.localeid = localStorage.getItem(\"languageCode\") || this.injector.get(LOCALE_ID);\r\n            this.localpipe = new LocalLangPipe(this.localeid);\r\n        }\r\n    }\r\n\r\n    dlg: BsModalRef;\r\n\r\n    fileInfoList: UploadFileInfo[] = [];\r\n\r\n    showDialog(formId: string, rootId: string) {\r\n        let flag = 0;\r\n        return new Promise(resolve => {\r\n            var viewerFactory = this.componentFactoryResolver.resolveComponentFactory(FileUploadComponent);\r\n            var viewerRef = viewerFactory.create(this.injector);\r\n\r\n            viewerRef.instance.rootId = rootId;\r\n            viewerRef.instance.formId = formId;\r\n\r\n            this.dlg = this.modalService.show(viewerRef, {\r\n                title: this.localpipe.transform('uploadFile'),\r\n                width: 950, height: 570,\r\n                buttons: [\r\n                    {\r\n                        text: this.localpipe.transform('save'), cls: 'k-button k-button-icontext k-primary', handle: () => {\r\n                            this.dlg.content.upload().subscribe(\r\n                                res => {\r\n                                    if (res) {\r\n                                        resolve(res);\r\n                                        flag = 1;\r\n                                        this.dlg.close();\r\n                                    }\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    {\r\n                        text: this.localpipe.transform('close'), cls: 'k-button k-button-icontext', handle: () => {\r\n                            this.dlg.close();\r\n                        }\r\n                    }\r\n                ],\r\n\r\n                showButtons: true,\r\n                showMaxButton: false,\r\n                beforeClose: (): Observable<boolean> => {\r\n                    if (flag == 0)\r\n                        this.dlg.content.cancel();\r\n                    return of(true);\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    uploadFile(formId: string, rootId: string, oldIdList: string[] = []) {\r\n        return this.uploadFileWithLimit(formId, rootId, null, oldIdList);\r\n    }\r\n\r\n\r\n    uploadFileWithLimit(formId: string, rootId: string, limit: UploadLimit, oldIdList: string[] = []) {\r\n        let flag = 0;\r\n        return new Promise(resolve => {\r\n            var uploadFactory = this.componentFactoryResolver.resolveComponentFactory(FileUploadComponent);\r\n            var uploadRef = uploadFactory.create(this.injector);\r\n            if (limit != null) {\r\n                uploadRef.instance.fileCount = limit.fileCount;\r\n                uploadRef.instance.securityInfo=limit.securityInfo;\r\n                if (limit.fileType != null && limit.fileType != \"\")\r\n                    uploadRef.instance.fileType = limit.fileType\r\n            }\r\n\r\n            uploadRef.instance.rootId = rootId;\r\n            uploadRef.instance.formId = formId;\r\n            uploadRef.instance.oldIdList = oldIdList;\r\n\r\n            this.dlg = this.modalService.show(uploadRef, {\r\n                title: this.localpipe.transform('uploadFile'),\r\n                width: 950, height: 570,\r\n                buttons: [\r\n                    {\r\n\r\n                        text: this.localpipe.transform('save'), cls: 'k-button k-button-icontext k-primary', handle: () => {\r\n                            this.dlg.content.upload().subscribe(\r\n                                res => {\r\n                                    if (res) {\r\n                                        resolve(res);\r\n                                        flag = 1;\r\n                                        this.dlg.close();\r\n                                    }\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    {\r\n                        text: this.localpipe.transform('close'), cls: 'k-button k-button-icontext', handle: () => {\r\n                            this.dlg.close();\r\n                        }\r\n                    }\r\n                ],\r\n\r\n                showButtons: true,\r\n                showMaxButton: false,\r\n                beforeClose: (): Observable<boolean> => {\r\n                    if (flag == 0)\r\n                        this.dlg.content.cancel();\r\n                    return of(true);\r\n                }\r\n            });\r\n        })\r\n    }\r\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FarrisDialogModule } from '@farris/ui-dialog';\nimport { MessagerModule } from '@farris/ui-messager';\nimport { BsModalService } from '@farris/ui-modal';\n\nimport { UploadModule } from '../upload/upload.module';\nimport { UploadDialogComponent } from './uploaddialog/uploaddialog.component';\nimport { HttpService } from '@ecp-caf/caf-common';\nimport { UploadService } from '../upload/upload.service';\nimport { UploadDialogService } from '../uploaddialog.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { NotifyModule } from '@farris/ui-notify';\nimport { FileUploadComponent } from '../upload/file-upload/file-upload.component';\n\n\n@NgModule({\n  declarations: [UploadDialogComponent],\n  imports: [\n    CommonModule,\n    FarrisDialogModule,\n    MessagerModule.forRoot(),\n    UploadModule,\n    NotifyModule.forRoot(),\n    HttpClientModule\n  ],\n  exports: [UploadDialogComponent,FileUploadComponent],\n  entryComponents: [UploadDialogComponent,FileUploadComponent],\n  providers: [BsModalService, HttpService, UploadDialogService, UploadService]\n})\nexport class UploadDialogMoudle { }\n","import { GspDocSecurityBaseInfo } from \"./gspdocsecuritybaseinfo\";\r\n\r\nexport class UploadLimit {\r\n    public fileType: string = \"*\";\r\n    public fileCount: number = 0;\r\n    public securityInfo: GspDocSecurityBaseInfo = null;\r\n}","import { GspFormDocInfo } from './gspformdocinfo';\r\nimport { OperatingModes } from './operatingmodes';\r\n\r\nexport class GspFormUploadListEntity {\r\n    public formId: string;\r\n    public docInfoList: GspFormDocInfo[];\r\n    public mode: OperatingModes;\r\n    public rootId: string;\r\n}","import { GspDocMetaProperty } from './gspdocmetaproperty';\r\n\r\nexport class GspFormDocInfo {\r\n    public metadataId: string;\r\n    public fileName: string;\r\n    public fileContent: string;\r\n    public index: number;\r\n    public total: number;\r\n    public size: number;\r\n    public exPropertyName: string;\r\n    public extProperty: GspDocMetaProperty;\r\n}","export class GspDocMetaProperty{\r\n    public extProperties1:string;\r\n    public extProperties2:string;\r\n    public extProperties3:string;\r\n    public extProperties4:string;\r\n    public extProperties5:string;\r\n}","import { OperatingModes } from './operatingmodes';\r\nimport { GspFormDocInfo } from './gspformdocinfo';\r\n\r\nexport class GspFormUploadEntity{\r\n    public formId: string;\r\n    public docInfo: GspFormDocInfo;\r\n    public mode: OperatingModes;\r\n    public rootId: string;\r\n\r\n} ","import { SecurityEntity } from \"./securityentity\";\r\n\r\nexport class FileInfo {\r\n    public id: string;\r\n    public name: string;\r\n    public type: string;\r\n    public source: any;\r\n    public picListDisplayName: string;\r\n    public queueListDisplayName: string;\r\n    //public content: string;\r\n    public size: string;\r\n    public fileSize: number;\r\n    public hasUploaded: boolean;\r\n    public mouseOn: boolean;\r\n    public selectd: boolean;\r\n    public isUploading: boolean;\r\n    public uploadResult: boolean;\r\n    public uploadProcess: number;\r\n    public errorMessage: string;\r\n    public extensionDropListId:number;\r\n    public extensionName: string;\r\n    public securityDropListId:number;\r\n    public securityInfo:SecurityEntity;\r\n}","export class SecurityEntity {\r\n    public id: string;\r\n    public securityId: string;\r\n    public securityLevel: number;\r\n    public name: string;\r\n}"],"names":["of"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;IAOE;KAAiB;;gBALlB,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;;+BAJD;CAEA;;;;;;ACFA;IAaE;KAAiB;;;;IAEjB,yCAAQ;;;IAAR;KACC;;gBAdF,SAAS,SAAC;oBACT,QAAQ,EAAE,oBAAoB;oBAC9B,QAAQ,EAAE,sDAIT;iBAEF;;;;IAQD,6BAAC;CAhBD;;;;;;ACFA,SAeoC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,QAAQ;AARpF;IAAA;KAUoC;;gBAVnC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,sBAAsB,CAAC;oBACtC,OAAO,EAAE;wBACP,gBAAgB;qBACjB;oBAED,OAAO,EAAE,CAAC,sBAAsB,CAAC;oBACjC,SAAS,EAAC,CAAK,eAAe,EAAC,WAAW,EAAC,YAAY,EAAC,cAAc;wBACpE,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,IAAkD,EAAE,EAAE;iBACvF;;IACkC,0BAAC;CAVpC;;;;;;;;ICNI,OAAI;IACJ,QAAK;IACL,aAAU;IACV,MAAG;IACH,MAAG;IACH,QAAK;IACL,QAAK;;;;;;;;;;;;;;;;ICNL,SAAM;IACN,OAAI;;;;;;;;;ACAR;IAAA;KAIC;IAAD,8BAAC;CAAA;;;;;;ACND;IAAA;KAGC;IAAD,8BAAC;CAAA;;;;;;ACDD;IAAA;KAGC;IAAD,4BAAC;CAAA,IAAA;;;;;;ACLD;IAAA;KAIC;IAAD,sBAAC;CAAA;;;;;;ACJD;IAwBE,uBAAoB,IAAiB,EAAU,UAAsB;QAAjD,SAAI,GAAJ,IAAI,CAAa;QAAU,eAAU,GAAV,UAAU,CAAY;KAAK;;;;;;IAE1E,kCAAU;;;;;IAAV,UAAW,WAAoC,EAAE,MAAc;;YACzD,GAAG;QACP,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC;QAE5B,GAAG,GAAG,oCAAoC,CAAC;;QAG3C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC,IAAI,CAC1C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;;IAGD,8BAAM;;;;;IAAN,UAAO,cAAwB,EAAE,MAAc;;YACzC,GAAG;;YACH,MAAM,GAA4B,IAAI,uBAAuB;QACjE,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC;QACvC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QACvB,GAAG,GAAG,sCAAsC,CAAC;;QAG7C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;KAC3C;;;;;;IAED,8BAAM;;;;;IAAN,UAAO,cAAwB,EAAE,MAAc;;YACzC,GAAG;;YACH,MAAM,GAA4B,IAAI,uBAAuB;QACjE,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC;QACvC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QACvB,GAAG,GAAG,sCAAsC,CAAC;;;QAG7C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;KAC1C;;;;;;IAED,kCAAU;;;;;IAAV,UAAW,MAAgB,EAAE,MAAc;;YACrC,GAAG;;QAEP,GAAG,GAAG,oCAAoC,CAAC;;YACvC,UAAU,GAAG,IAAI,uBAAuB;QAC5C,UAAU,CAAC,cAAc,GAAG,MAAM,CAAC;QACnC,UAAU,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC;QACtC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC;QAC3B,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC;KACjD;;;;;;IAED,+BAAO;;;;;IAAP,UAAQ,UAAkB,EAAE,MAAc;;YAEpC,GAAG;QACP,IAAI,MAAM,IAAI,EAAE;YACd,GAAG,GAAG,qCAAqC,GAAG,UAAU,CAAC;;YAEzD,GAAG,GAAG,qCAAqC,GAAG,UAAU,GAAG,GAAG,GAAG,MAAM,CAAC;QAC1E,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EAC5C,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KAEP;;;;;IAED,kCAAU;;;;IAAV,UAAW,OAA4B;;YAEjC,GAAG,GAAG,+BAA+B;;QAGzC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CACtC,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAED,uCAAe;;;;IAAf,UAAgB,QAAkB;;YAE5B,GAAG,GAAG,qCAAqC;;QAG/C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,IAAI,CAC7C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;IAGD,+CAAuB;;;IAAvB;;YACM,GAAG,GAAG,iDAAiD;;QAG3D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAED,2CAAmB;;;;IAAnB,UAAoB,QAAgC;;YAC9C,GAAG,GAAG,gDAAgD;QAC1D,GAAG,GAAG,GAAG,GAAG,MAAM,GAAG,QAAQ,CAAC,UAAU,GAAG,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC;QAE9E,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;;IAED,6CAAqB;;;;;IAArB,UAAsB,eAAoC,EAAE,MAAc;;YACpE,GAAG,GAAG,8CAA8C;;YACpD,OAAO,GAA0B,IAAI,qBAAqB;QAC9D,OAAO,CAAC,YAAY,GAAG,eAAe,CAAC;QACvC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;QACxB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CACtC,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;;;IAED,gCAAQ;;;;;;IAAR,UAAS,UAAkB,EAAE,MAAc,EAAE,IAAY;;YACnD,GAAG,GAAG,oCAAoC;;YAC1C,OAAO,GAAoB,IAAI,eAAe;QAClD,OAAO,CAAC,UAAU,GAAG,UAAU,CAAC;QAChC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;QACxB,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QACpB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAC,EAAC,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC,IAAI,CACnE,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,CAId,CAAC;KACL;;;;;;IAED,wCAAgB;;;;;IAAhB,UAAiB,kBAAoC,EAAE,MAAc;;YAC/D,GAAG,GAAG,sCAAsC;;YAC5C,OAAO,GAAwB,EAAE;QACrC,kBAAkB,CAAC,OAAO;;;;QAAC,UAAA,OAAO;;gBAC5B,OAAO,GAAsB,EAAE,EAAE,EAAE,OAAO,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;YAC7H,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACvB,EAAC,CAAA;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CACtC,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAA;KACN;;;;;;IAGD,+CAAuB;;;;;IAAvB,UAAwB,MAAc,EAAE,MAAc;;YAChD,GAAG,GAAG,qDAAqD,GAAG,UAAU,GAAG,MAAM,GAAG,UAAU,GAAG,MAAM;;QAG3G,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAEC,qCAAa;;;;IAAb,UAAc,MAAc;;YACxB,GAAG,GAAG,4CAA4C,GAAG,MAAM;QAE/D,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;gBA9KF,UAAU;;;;gBAlBF,WAAW;gBAEX,UAAU;;IAoNnB,oBAAC;CApMD;;;;;;AClBA;IAAA;KAQC;IAAD,qBAAC;CAAA;;;;;;ACXD;IAAA;KAGC;IAAD,wBAAC;CAAA;;;;;;;;ICFG,MAAG;IACH,SAAM;;;;;;;;;;ACFV,IAAa,cAAc,GAAG;IAC1B,QAAQ,EAAE;QACN,YAAY,EAAE,MAAM;QACpB,WAAW,EAAC,UAAU;QACtB,eAAe,EAAC,UAAU;QAC1B,YAAY,EAAC,WAAW;QACxB,cAAc,EAAC,YAAY;QAC3B,MAAM,EAAC,IAAI;QACX,QAAQ,EAAC,IAAI;QACb,cAAc,EAAC,YAAY;QAC3B,QAAQ,EAAC,KAAK;QACpB,SAAS,EAAC,IAAI;QACR,UAAU,EAAC,QAAQ;QACnB,SAAS,EAAC,UAAU;QACpB,eAAe,EAAC,MAAM;QACtB,eAAe,EAAC,MAAM;QACtB,MAAM,EAAC,aAAa;QACpB,QAAQ,EAAC,UAAU;QACnB,QAAQ,EAAC,IAAI;QACb,WAAW,EAAC,IAAI;QAChB,YAAY,EAAC,KAAK;QAClB,QAAQ,EAAC,IAAI;QACb,UAAU,EAAC,KAAK;QAChB,OAAO,EAAC,IAAI;QACZ,WAAW,EAAC,IAAI;QAChB,MAAM,EAAC,IAAI;QACX,OAAO,EAAC,IAAI;QACZ,SAAS,EAAC,OAAO;QACjB,mBAAmB,EAAC,mCAAmC;KAC1D;IACD,OAAO,EAAE;QACL,YAAY,EAAE,aAAa;QAC3B,WAAW,EAAC,kBAAkB;QAC9B,eAAe,EAAC,uBAAuB;QACvC,YAAY,EAAC,qBAAqB;QAClC,cAAc,EAAC,wBAAwB;QACvC,MAAM,EAAC,MAAM;QACb,QAAQ,EAAC,QAAQ;QACjB,cAAc,EAAC,+CAA+C;QAC9D,QAAQ,EAAC,QAAQ;QACvB,SAAS,EAAC,SAAS;QACb,UAAU,EAAC,gBAAgB;QAC3B,SAAS,EAAC,wBAAwB;QAClC,eAAe,EAAC,eAAe;QAC/B,eAAe,EAAC,qBAAqB;QACrC,MAAM,EAAC,uCAAuC;QAC9C,QAAQ,EAAC,gBAAgB;QACzB,QAAQ,EAAC,QAAQ;QACjB,WAAW,EAAC,YAAY;QACxB,YAAY,EAAC,YAAY;QACzB,QAAQ,EAAC,SAAS;QAClB,UAAU,EAAC,UAAU;QACrB,OAAO,EAAC,OAAO;QACf,WAAW,EAAC,WAAW;QACvB,MAAM,EAAC,MAAM;QACb,OAAO,EAAC,OAAO;QACf,SAAS,EAAC,SAAS;QACnB,mBAAmB,EAAC,oIAAoI;KAC3J;IACD,IAAI,EAAE;QACF,YAAY,EAAE,aAAa;QAC3B,WAAW,EAAC,kBAAkB;QAC9B,eAAe,EAAC,uBAAuB;QACvC,YAAY,EAAC,qBAAqB;QAClC,cAAc,EAAC,wBAAwB;QACvC,MAAM,EAAC,MAAM;QACb,QAAQ,EAAC,QAAQ;QACjB,cAAc,EAAC,+CAA+C;QAC9D,QAAQ,EAAC,QAAQ;QACvB,SAAS,EAAC,SAAS;QACb,UAAU,EAAC,gBAAgB;QAC3B,SAAS,EAAC,wBAAwB;QAClC,eAAe,EAAC,eAAe;QAC/B,eAAe,EAAC,qBAAqB;QACrC,MAAM,EAAC,uCAAuC;QAC9C,QAAQ,EAAC,gBAAgB;QACzB,QAAQ,EAAC,QAAQ;QACjB,WAAW,EAAC,YAAY;QACxB,YAAY,EAAC,YAAY;QACzB,QAAQ,EAAC,SAAS;QAClB,UAAU,EAAC,UAAU;QACrB,OAAO,EAAC,OAAO;QACf,WAAW,EAAC,WAAW;QACvB,MAAM,EAAC,MAAM;QACb,OAAO,EAAC,OAAO;QACf,SAAS,EAAC,SAAS;QACnB,mBAAmB,EAAC,oIAAoI;KAC3J;IACD,QAAQ,EAAE;QACN,YAAY,EAAE,MAAM;QACpB,WAAW,EAAC,UAAU;QACtB,eAAe,EAAC,UAAU;QAC1B,YAAY,EAAC,WAAW;QACxB,cAAc,EAAC,YAAY;QAC3B,MAAM,EAAC,IAAI;QACX,QAAQ,EAAC,IAAI;QACb,cAAc,EAAC,YAAY;QAC3B,QAAQ,EAAC,KAAK;QACpB,SAAS,EAAC,IAAI;QACR,UAAU,EAAC,QAAQ;QACnB,SAAS,EAAC,UAAU;QACpB,eAAe,EAAC,MAAM;QACtB,eAAe,EAAC,MAAM;QACtB,MAAM,EAAC,aAAa;QACpB,QAAQ,EAAC,UAAU;QACnB,QAAQ,EAAC,IAAI;QACb,WAAW,EAAC,IAAI;QAChB,YAAY,EAAC,KAAK;QAClB,QAAQ,EAAC,IAAI;QACb,UAAU,EAAC,KAAK;QAChB,OAAO,EAAC,IAAI;QACZ,WAAW,EAAC,IAAI;QAChB,MAAM,EAAC,IAAI;QACX,OAAO,EAAC,IAAI;QACZ,SAAS,EAAC,OAAO;QACjB,mBAAmB,EAAC,mCAAmC;KAC1D;CACJ;;;;;;ACrHD;IAQI,uBACuB,QAAgB;QAJtB,gBAAW,GAAW,QAAQ,CAAC;QAM5C,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC;QACrF,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACjF;;;;;IACD,iCAAS;;;;IAAT,UAAU,IAAY;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;KAClC;;gBAbJ,IAAI,SAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;;;6CAMf,MAAM,SAAC,SAAS;;IAQzB,oBAAC;CAdD;;;;;;ACHA;IAAA;KAIC;IAAD,6BAAC;CAAA;;;;;;ACJD;IAAA;KAMC;IAAD,6BAAC;CAAA,IAAA;;;;;;ACJD;IAAA;KAOC;IAAD,iCAAC;CAAA,IAAA;;;;;;ACND;IAAA;KASC;IAAD,0BAAC;CAAA,IAAA;;;;;;ACZD;IAAA;KAYC;IAAD,yBAAC;CAAA,IAAA;;;;;;ACZD;IAmGE,6BAAoB,UAA2B,EAAU,aAA4B,EAAU,WAA2B,EAAU,QAAmB;QAAnI,eAAU,GAAV,UAAU,CAAiB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAgB;QAAU,aAAQ,GAAR,QAAQ,CAAW;QA/DvJ,UAAK,GAAe,EAAE,CAAC;QACvB,mBAAc,GAAa,EAAE,CAAC;QAC9B,uBAAkB,GAAqB,EAAE,CAAC;QAC1C,gBAAW,GAAa,EAAE,CAAC;QAC3B,gBAAW,GAAa,EAAE,CAAC;QAC3B,iBAAY,GAAa,EAAE,CAAC;QAC5B,mBAAc,GAAa,EAAE,CAAC;QAC9B,aAAQ,GAAW,CAAC,CAAC;QACrB,YAAO,GAAY,KAAK,CAAC;QACzB,eAAU,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;QAG7B,sBAAiB,GAAW,CAAC,CAAC;QAE9B,sBAAiB,GAAG,yCAAyC,CAAC;QAC9D,4BAAuB,GAAG,6CAA6C,CAAC;QAExE,oBAAe,GAAY,KAAK,CAAC;QAEjC,oBAAe,GAAY,KAAK,CAAC;QAEjC,kBAAa,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;QAEhC,mBAAc,GAA8B,EAAE,CAAC;QAE/C,iBAAY,GAA2B,IAAI,KAAK,CAAC;QAEjD,qBAAgB,GAA+B,IAAI,KAAK,CAAC;QAEzD,kBAAa,GAA8B,EAAE,CAAC;QAC9C,oBAAe,GAA8B,EAAE,CAAC;QAKhD,wBAAmB,GAAW,EAAE,CAAC;QACjC,oBAAe,GAAqB,EAAE,CAAC;QAEvC,qBAAgB,GAAqB,EAAE,CAAC;QAExC,mBAAc,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC;QAEpC,kBAAa,GAAW,EAAE,CAAC;QAE3B,sBAAiB,GAAW,CAAC,CAAC;QAI9B,0BAAqB,GAAY,KAAK,CAAC;QAEvC,qBAAgB,GAAY,KAAK,CAAC;QAElC,yBAAoB,GAAG,EAAE,CAAC;QAC1B,wBAAmB,GAAG,EAAE,CAAC;;QAGzB,oBAAe,GAAG,IAAI,CAAC;QACvB,gBAAW,GAAW,CAAC,CAAC;QAIxB,gBAAW,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,CAAA;QAWnB,aAAQ,GAAW,GAAG,CAAC;QACvB,cAAS,GAAW,CAAC,CAAC;QACtB,cAAS,GAAa,EAAE,CAAC;QACzB,iBAAY,GAA2B,IAAI,CAAC;QAgErD,cAAS,GAAQ,IAAI,CAAC;QAglBtB,sBAAiB,GAAwB,EAAE,CAAC;QA3pB1C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAChD,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACrF,IAAI,CAAC,UAAU,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACpD;KACF;;;;IAUD,sCAAQ;;;IAAR;QAAA,iBA0DC;QAzDC,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;YAC7C,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,MAAM,CAAC;;QAEhC,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,EAAE;YAC7B,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS;;;;YACjE,UAAA,GAAG;gBACD,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;;oBACzB,CAAC,GAAG,CAAC;gBACT,GAAG,CAAC,OAAO;;;;gBAAC,UAAA,OAAO;oBACjB,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,OAAO,CAAC,UAAU,EAAE,aAAa,EAAE,OAAO,CAAC,aAAa,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC3I,CAAC,EAAE,CAAC;iBACL,EAAC,CAAC;aACJ,EACF,CAAA;SACF;QACD,IAAI,CAAC,aAAa,CAAC,uBAAuB,EAAE,CAAC,SAAS;;;;QACpD,UAAA,GAAG;YACD,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,EAAE;gBACpC,KAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC;gBAC5B,KAAI,CAAC,mBAAmB,GAAG,KAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC;gBACrE,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,KAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,CAAC,CAAC;;oBACpF,GAAC,GAAG,CAAC;;gBAET,KAAI,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,OAAO;;;;gBAAC,UAAA,OAAO;oBAC7D,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAC,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;iBACpE,EAAC,CAAC;gBACH,KAAI,CAAC,cAAc,CAAC,KAAK,GAAG,OAAO,CAAC;gBACpC,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;aACnC;SACF,EACF,CAAA;QAED,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS;;;;QACrD,UAAA,GAAG;YACD,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,EAAE;gBACpC,KAAI,CAAC,eAAe,GAAG,GAAG,CAAC,eAAe,CAAC;gBAC3C,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,WAAW,CAAC,CAAC;gBAC/E,KAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,kBAAkB,CAAC;gBACjD,IAAI,CAAC,KAAI,CAAC,eAAe,EAAE;oBACzB,KAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,KAAI,CAAC,MAAM,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC,SAAS;;;;oBAC5E,UAAA,GAAG;wBACD,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,EAAE;4BACpC,KAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC;4BAChC,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;yBAE5D;qBACF,EAAC,CAAA;iBACL;aAEF;SACF,EACF,CAAA;QACD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAExD;QAED,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC;KAC5C;;;;IAID,yCAAW;;;IAAX;QACE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;;;;;KAK7B;;;;;IAGD,0CAAY;;;;IAAZ,UAAa,MAAM;QAAnB,iBAgHC;QA9GC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAErD,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;YACtB,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;;oBACpE,WAAW,GAAW,oBAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,MAAc,IAAI,CAAC,KAAK,CAAC,MAAM;gBACzF,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;gBACzL,OAAO;aACR;SACF;gCAGQ,CAAC;;gBACJ,YAAY,GAAG,OAAK,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;;;gBAE1C,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE;YAEtB,IAAI,YAAY,CAAC,IAAI,IAAI,CAAC,EAAE;gBAC1B,OAAK,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;;aAE3C;YAED,IAAI,OAAK,WAAW,IAAI,IAAI,IAAI,OAAK,WAAW,GAAG,CAAC,EAAE;gBACpD,IAAI,YAAY,CAAC,IAAI,GAAG,OAAK,WAAW,GAAG,IAAI,EAAE;oBAC/C,OAAK,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;;iBAE7C;aACF;YAED,IAAI,CAAC,OAAK,eAAe,EAAE;gBACzB,IAAI,OAAK,oBAAoB,CAAC,IAAI;;;;gBAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,YAAY,CAAC,IAAI,GAAA,EAAC,IAAI,IAAI,EAAE;;wBAE1E,KAAG,GAAG,OAAK,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,OAAK,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,YAAY,CAAC,IAAI,EAAE;wBACzG,YAAY,EAAE;4BACZ,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,OAAK,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;oCACzC,GAAG,EAAE,mBAAmB;oCACxB,MAAM;;;oCAAE;;4CACF,OAAO,GAAW,YAAY,CAAC,IAAI;;4CACnC,OAAO;;4CACP,IAAI,GAAG,IAAI;;4CACX,CAAC,GAAG,CAAC;wCACT,OAAO,IAAI,EAAE;4CACX,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;4CACvH,IAAI,KAAI,CAAC,oBAAoB,CAAC,IAAI;;;;4CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,OAAO,GAAA,EAAC,IAAI,IAAI,EAAE;gDACtE,CAAC,EAAE,CAAC;6CACL;;gDAEC,IAAI,GAAG,KAAK,CAAC;yCAChB;wCAED,KAAI,CAAC,UAAU,CAAC,IAAI,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC;wCAC7C,KAAG,CAAC,KAAK,EAAE,CAAC;qCACb,CAAA;iCACF;gCACD;oCACE,IAAI,EAAE,OAAK,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC;oCAC1C,GAAG,EAAE,mBAAmB;oCACxB,MAAM;;;oCAAE;wCACN,IAAI,GAAG,KAAI,CAAC,oBAAoB,CAAC,IAAI;;;;wCAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,YAAY,CAAC,IAAI,GAAA,EAAC,CAAC,UAAU,CAAC;wCACvF,KAAI,CAAC,UAAU,CAAC,IAAI,EAAE,YAAY,EAAE,YAAY,CAAC,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;wCACzE,KAAI,CAAC,iBAAiB,EAAE,CAAC;wCACzB,IAAI,KAAI,CAAC,mBAAmB,CAAC,IAAI;;;;wCAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,YAAY,CAAC,IAAI,GAAA,EAAC,EAAE;4CACvE,KAAI,CAAC,iBAAiB,EAAE,CAAC;4CACzB,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,KAAI,CAAC,oBAAoB,CAAC,MAAM;;;;4CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,YAAY,CAAC,IAAI,GAAA,EAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;yCACnJ;wCACD,KAAG,CAAC,KAAK,EAAE,CAAC;qCACb,CAAA;iCACF;gCACD;oCACE,IAAI,EAAE,OAAK,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;oCACzC,GAAG,EAAE,mBAAmB;oCACxB,MAAM;;;oCAAE;wCACN,KAAG,CAAC,KAAK,EAAE,CAAC;qCACb,CAAA;iCACF;6BACF;yBACF;qBACF,CAAC;;iBAEH;aACF;YACD,OAAK,UAAU,CAAC,IAAI,EAAE,YAAY,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;;;;QAvEzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;oBAA/C,CAAC;SAyET;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC3B,MAAI,GAAW,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC;YACtD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,MAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YACtH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;SACvB;QAED,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC5B,MAAI,GAAW,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC;YACvD,MAAI,GAAG,MAAI,CAAC,SAAS,CAAC,CAAC,EAAE,MAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YAClH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;SACxB;QAED,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;;gBAC9B,MAAI,GAAW,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC;YACzD,MAAI,GAAG,MAAI,CAAC,SAAS,CAAC,CAAC,EAAE,MAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;YAC3I,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;SAC1B;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;;KAE1B;;;;;IAED,8CAAgB;;;;IAAhB,UAAiB,IAAI;QACnB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;KACvF;;;;;;;IAED,4CAAc;;;;;;IAAd,UAAe,IAAY,EAAE,YAAY,EAAE,QAAgB;;YAErD,QAAkB;QAEtB,QAAQ,GAAG;YACT,EAAE,EAAE,IAAI;YACR,IAAI,EAAE,QAAQ;YACd,IAAI,EAAE,YAAY,CAAC,IAAI;YACvB,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC;YACzC,QAAQ,EAAE,YAAY,CAAC,IAAI;YAC3B,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC;YACxD,oBAAoB,EAAE,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;;YAExD,WAAW,EAAE,KAAK;YAClB,OAAO,EAAE,KAAK;YACd,OAAO,EAAE,KAAK;YACd,WAAW,EAAE,IAAI;YACjB,YAAY,EAAE,KAAK;YACnB,aAAa,EAAE,CAAC;YAChB,YAAY,EAAE,EAAE;YAChB,mBAAmB,EAAE,CAAC;YACtB,aAAa,EAAE,EAAE;YACjB,kBAAkB,EAAE,CAAC;YACrB,YAAY,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;SACvC,CAAA;QAED,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI;YAC/B,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC;;YAGhD,IAAI,GAAW,YAAY,CAAC,IAAI;QACpC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;SACxD;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YAC/B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;SACxD;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YAC9B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;SACvD;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YAC7B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;SACtD;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YAC/B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;SACtD;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YACzD,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAA;SACvD;aACI,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;YACrE,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;SAC7D;aACI;YACH,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;;;;SAIxD;QACD,OAAO,QAAQ,CAAC;KACjB;;;;;;;;IAED,wCAAU;;;;;;;IAAV,UAAW,IAAY,EAAE,YAAY,EAAE,QAAgB,EAAE,KAAgC;QAAzF,iBA4JC;QA5JwD,sBAAA,EAAA,QAAmB,SAAS,CAAC,GAAG;;YAEnF,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,CAAC;;YAE5D,cAAc,GAAG,IAAI,cAAc,EAAE;QAEzC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC;QACjC,cAAc,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;QACxC,cAAc,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;QACxC,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;QAC7B,cAAc,CAAC,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;;QAIvD,IAAI,IAAI,CAAC,kBAAkB,EAAE;;;gBAGvB,WAAW,GAA2B,IAAI,sBAAsB;YAEpE,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;YAC/B,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;YAC9B,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACjC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC;YACrC,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;;YAGhC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,SAAS;;;;YAAC,UAAA,GAAG;gBAC7C,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,EAAE;oBACrB,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;oBAC9D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;oBAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;iBAC3E;qBAAM;;wBACD,UAAQ,GAAG,GAAG,CAAC,QAAQ;;wBACvB,UAAU,GAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,KAAI,CAAC,UAAU,CAAC;;wBACnE,UAAU,GAAW,CAAC;;wBAEtB,iBAAe,GAAwB,EAAE;oBAE7C,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC;oBACvC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAE7B,OAAO,UAAU,GAAG,UAAU,EAAE;;4BAE1B,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,UAAU,GAAG,CAAC,IAAI,KAAI,CAAC,UAAU,EAAE,YAAY,CAAC,IAAI,CAAC;;4BAC1E,QAAQ,GAAG,YAAY,CAAC,KAAK,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,EAAE,QAAQ,CAAC;;4BAErE,YAAY,GAAG,IAAI,kBAAkB;wBACzC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;wBAC/B,YAAY,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,CAAC;wBAClC,YAAY,CAAC,QAAQ,GAAG,UAAQ,CAAC;wBACjC,YAAY,CAAC,KAAK,GAAG,UAAU,CAAC;wBAChC,YAAY,CAAC,KAAK,GAAG,UAAU,CAAC;wBAChC,YAAY,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;;4BAE9B,QAAQ,GAAG,IAAI,QAAQ,EAAE;wBAC7B,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;wBAC9D,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;wBAElC,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,SAAS;;;;wBAAC,UAAA,GAAG;4BACtC,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,EAAE;gCACrB,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;gCAC9D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;gCAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;6BAC3E;iCAAM;gCACL,iBAAe,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gCACjC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;gCAC3B,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gCAClJ,IAAI,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;oCACzD,IAAI,iBAAe,CAAC,MAAM,IAAI,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;;4CAEnD,0BAA0B,GAA+B,IAAI,0BAA0B;wCAC3F,0BAA0B,CAAC,UAAU,GAAG,IAAI,CAAC;wCAC7C,0BAA0B,CAAC,QAAQ,GAAG,iBAAe,CAAC;wCACtD,0BAA0B,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,CAAC;wCAChD,0BAA0B,CAAC,QAAQ,GAAG,UAAQ,CAAC;wCAC/C,0BAA0B,CAAC,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC;wCACpD,IAAI,KAAI,CAAC,qBAAqB;4CAC5B,0BAA0B,CAAC,cAAc,GAAG,KAAI,CAAC,mBAAmB,CAAC;wCACvE,KAAI,CAAC,mBAAmB,CAAC,0BAA0B,CAAC,CAAC,SAAS;;;;wCAAC,UAAA,GAAG;4CAChE,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;gDACrB,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;gDAC9D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;gDAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;6CAC3E;iDAAM;gDACL,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;gDAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;gDAC7D,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gDACzE,KAAI,CAAC,oBAAoB,GAAG,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;gDAC7E,KAAI,CAAC,iBAAiB,EAAE,CAAC;6CAC1B;yCACF,EAAC,CAAA;;qCAEH;yCAAM;wCACL,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;wCAC9D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;wCAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;qCACxG;iCAEF;6BACF;yBACF,EAAC,CAAA;wBAEF,UAAU,GAAG,UAAU,GAAG,CAAC,CAAC;qBAC7B;iBACF;aAEF,EAAC,CAAA;SAEH;aAAM;;gBACD,MAAM,GAAG,IAAI,mBAAmB;YACpC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC5B,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;YACzB,MAAM,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC;YAClC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC5B,MAAM,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;YAChC,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC3B,IAAI,IAAI,CAAC,qBAAqB;gBAC5B,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC;;gBAE/C,QAAQ,GAAG,IAAI,QAAQ,EAAE;YAC7B,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;YACxD,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;YAEtC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,SAAS;;;;YAAC,UAAA,GAAG;gBAC3C,IAAI,GAAG,IAAI,IAAI,EAAE;oBACf,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,KAAK,CAAC;oBAC9D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;oBAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;iBAC3E;qBAAM;oBACL,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,GAAG,IAAI,CAAC;oBAC7D,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;oBAC7D,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;oBACzE,KAAI,CAAC,oBAAoB,GAAG,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;oBAC7E,KAAI,CAAC,iBAAiB,EAAE,CAAC;iBAE1B;aACF,EAAC,CAAA;SAEH;;YAIG,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,CAAC,OAAO;;;;QAAC,UAAA,CAAC;YAClB,IAAI,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,EAAE;gBAC3B,IAAI,KAAK,IAAI,CAAC,CAAC;oBACb,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;aACjC;SACF,EAAC,CAAA;QACF,IAAI,KAAK,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;;SAE5C;KAEF;;;;;IAGD,8CAAgB;;;;IAAhB,UAAiB,QAAkB;;YAE7B,GAAG,GAAG,sCAAsC;QAEhD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,IAAI,CAC7C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAED,6CAAe;;;;IAAf,UAAgB,QAAkB;;YAE5B,GAAG,GAAG,qCAAqC;QAE/C,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,IAAI,CAC7C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAED,6CAAe;;;;IAAf,UAAgB,OAA+B;;YAEzC,GAAG,GAAG,0CAA0C;QAEpD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CAC5C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAED,yCAAW;;;;IAAX,UAAY,QAAkB;;YAExB,GAAG,GAAG,4CAA4C;QAEtD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,IAAI,CAC7C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;;IAED,iDAAmB;;;;IAAnB,UAAoB,OAAmC;;YAEjD,GAAG,GAAG,8CAA8C;QAExD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI,CAC5C,GAAG;;;;QAAC,UAAA,GAAG,KAAO,EAAC,EACf,UAAU;;;;QAAC,UAAC,KAAwB;YAClC,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;SAClB,EAAC,CAAC,CAAC;KACP;;;;IAID,2CAAa;;;IAAb;QAEE,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACzB,IAAI,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAA,OAAO;gBAExB,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;aACxB,EAAC,CAAC;YACH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;SAE5C;aAAM;YACL,IAAI,CAAC,KAAK,CAAC,OAAO;;;;YAAC,UAAA,OAAO;gBAExB,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;aACzB,EAAC,CAAC;YACH,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;SAC5B;KACF;;;;;IAGD,gDAAkB;;;;IAAlB,UAAmB,IAAc;;QAE/B,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,IAAI,CAAC,OAAO;YACd,IAAI,CAAC,iBAAiB,EAAE,CAAC;;YAEzB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YAC/C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;;SAE7B;aACI;YACH,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;;SAE9B;KAEF;;;;;IAED,4CAAc;;;;IAAd,UAAe,QAAkB;QAC/B,IAAI,QAAQ,CAAC,OAAO;YAClB,IAAI,CAAC,iBAAiB,EAAE,CAAC;;QAE3B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;QACnD,IAAI,QAAQ,CAAC,YAAY,EAAE;;gBACrB,MAAM,GAAa,EAAE;YACzB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;YAE3D,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM;;;;YAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,GAAA,EAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACxI,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM;;;;YAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,GAAA,EAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9I,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QACD,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC;YAC7B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;KAChC;;;;IAED,oDAAsB;;;IAAtB;QAAA,iBAyBC;;YAxBK,YAAY,GAAe,EAAE;QACjC,IAAI,CAAC,KAAK,CAAC,OAAO;;;;QAAC,UAAA,OAAO;;gBACpB,GAAG,GAAQ,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC;YACpD,IAAI,GAAG,CAAC,OAAO;gBACb,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9B,EAAC,CAAA;;YACE,YAAY,GAAa,EAAE;QAC/B,YAAY,CAAC,OAAO;;;;QAAC,UAAA,OAAO;YAC1B,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC9B,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YAClD,IAAI,OAAO,CAAC,YAAY,EAAE;gBAExB,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAI,CAAC,kBAAkB,CAAC,MAAM;;;;gBAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC,IAAI,GAAA,EAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvI,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,KAAI,CAAC,oBAAoB,CAAC,MAAM;;;;gBAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC,IAAI,GAAA,EAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7I,KAAI,CAAC,iBAAiB,EAAE,CAAC;aAC1B;SACF,EAAC,CAAA;QACF,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;;YAE7D,MAAM,GAAQ,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC;QACxD,IAAI,MAAM,IAAI,IAAI;YAChB,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;KAC9B;;;;;IAGD,mDAAqB;;;;IAArB,UAAsB,QAAgB;QACpC,IAAI,QAAQ,CAAC,MAAM,IAAI,EAAE;YACvB,OAAO,QAAQ,CAAC;aACb;;gBACC,WAAW,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;;gBACtC,WAAW,GAAG,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnE,OAAO,WAAW,GAAG,GAAG,GAAG,WAAW,CAAC;SACxC;KACF;;;;;IAED,iDAAmB;;;;IAAnB,UAAoB,QAAgB;QAClC,OAAO,QAAQ,CAAC;KACjB;;;;;;;IAED,wCAAU;;;;;;IAAV,UAAW,WAAW,EAAE,QAAkB,EAAE,OAAgB;QAA5D,iBAqEC;QAnEC,QAAQ,OAAO;YACb,KAAK,OAAO,CAAC,IAAI,EAAE;gBACjB,QAAQ,CAAC,MAAM,GAAG,uCAAuC,CAAA;gBACzD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,MAAM;aACP;YAED,KAAK,OAAO,CAAC,GAAG,EAAE;gBAChB,QAAQ,CAAC,MAAM,GAAG,sCAAsC,CAAA;gBACxD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,MAAM;aACP;YAED,KAAK,OAAO,CAAC,KAAK,EAAE;gBAClB,QAAQ,CAAC,MAAM,GAAG,wCAAwC,CAAC;gBAC3D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,MAAM;aACP;YAED,KAAK,OAAO,CAAC,GAAG,EAAE;gBAChB,QAAQ,CAAC,MAAM,GAAG,sCAAsC,CAAC;gBACzD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,MAAM;aACP;YAED,KAAK,OAAO,CAAC,UAAU,EAAE;gBACvB,QAAQ,CAAC,MAAM,GAAG,sCAAsC,CAAC;gBACzD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,MAAM;aACP;YAED,KAAK,OAAO,CAAC,KAAK,EAAE;gBAClB,QAAQ,CAAC,MAAM,GAAG,uCAAuC,CAAC;gBAC1D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,MAAM;aACP;YAED,KAAK,OAAO,CAAC,KAAK,EAAE;;oBACd,QAAM,GAAG,IAAI,UAAU,EAAE;gBAC7B,QAAM,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;gBAClC,QAAM,CAAC,MAAM;;;;gBAAG,UAAC,MAAM;;wBACjB,MAAM,GAAG,QAAM,CAAC,MAAM;oBAC1B,IAAI,KAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;;4BACrB,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC;wBAC/C,MAAM,GAAG,SAAS,CAAC,8BAA8B,CAAC,MAAM,CAAC,CAAC;qBAC3D;oBACD,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;oBACzB,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;;wBAGtB,KAAK,GAAG,CAAC,CAAC;oBACd,KAAI,CAAC,KAAK,CAAC,OAAO;;;;oBAAC,UAAA,CAAC;wBAClB,IAAI,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,EAAE;4BAC3B,IAAI,KAAK,IAAI,CAAC,CAAC;gCACb,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;yBACjC;qBACF,EAAC,CAAA;oBACF,IAAI,KAAK,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjD,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;wBAC5B,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;wBACzC,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;qBAC5C;iBACF,CAAA,CAAA;aACF;SAEF;KAEF;;;;;IAED,0CAAY;;;;IAAZ,UAAa,OAAiB;;YACxB,IAAI,GAAW,EAAE;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;SAC1B;QACD,OAAO,IAAI,CAAC;KACb;;;;;;IAED,4CAAc;;;;;IAAd,UAAe,MAAW,EAAE,IAAc;QACxC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC;;YAC5B,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM;;;;QAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,GAAA,EAAC,CAAC,CAAC,CAAC;QAC/E,UAAU,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC;KACvC;;;;;;IAKD,wCAAU;;;;;IAAV,UAAW,MAAW,EAAE,IAAc;QACpC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;;YAClC,iBAAiB,GAAsB,IAAI,iBAAiB;QAChE,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE;YACnE,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM;;;;YAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE,GAAA,EAAC,CAAC,MAAM,GAAG,CAAC;gBACxE,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS;;;;gBAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE,GAAA,EAAC,EAAE,CAAC,CAAC,CAAA;SACnG;aAAM;YACL,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM;;;;YAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE,GAAA,EAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1E,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM;;;;gBAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE,GAAA,EAAC,CAAC,CAAC,CAAC,CAAC;gBACnF,iBAAiB,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;aACvD;iBAAM;gBACL,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC;gBACvC,iBAAiB,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC;gBACtD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;aAChD;SACF;KACF;;;;IAED,oCAAM;;;IAAN;QAAA,iBA2BC;QA1BC,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM;;;;QAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,YAAY,GAAA,EAAC,CAAC,MAAM,EAAE;YAE5F,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3D,OAAOA,IAAE,CAAC,KAAK,CAAC,CAAC;SAClB;QACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;SACvF;QACD,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI;YAC/B,OAAOA,IAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;aAChC;YACH,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,IAAI,CAAC;gBACpC,OAAOA,IAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;iBAChC;;oBACG,SAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;oBACpC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa;iBACnF,CAAC;gBACF,OAAO,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CACvF,GAAG;;;;gBAAC,UAAA,GAAG;;;oBAGL,SAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,OAAO,KAAI,CAAC,kBAAkB,CAAC;iBAChC,EAAC,CAAC,CAAA;aACN;SACF;KACF;;;;IAED,oCAAM;;;IAAN;QAAA,iBAQC;QAPC,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,IAAI,CAAC;YACrC,OAAO;QACT,IAAI,CAAC,kBAAkB,CAAC,OAAO;;;;QAAC,UAAA,OAAO;YACrC,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;SAC9C,EAAC,CAAA;QACF,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;KAEzE;;;;IAED,mDAAqB;;;IAArB;QACE,OAAO,IAAI,CAAC,kBAAkB,CAAC;KAChC;;;;;IAED,oCAAM;;;;IAAN,UAAO,IAAI;QACT,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,IAAI,IAAI,CAAC,YAAY;YACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM;;;;QAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE,GAAA,EAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1E,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS;;;;YAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,UAAU,IAAI,IAAI,CAAC,EAAE,GAAA,EAAC,EAAE,CAAC,CAAC,CAAC;SAClG;KAEF;;;;;IAED,yCAAW;;;;IAAX,UAAY,IAAY;QACtB,IAAI,IAAI,GAAG,MAAM;YACf,OAAO,CAAC,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aACnC,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI;YACzB,OAAO,CAAC,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aACnC,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI;YAC/B,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aAC1C,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;YAChC,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;;YAE7C,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;KACvD;;;;IACD,yCAAW;;;IAAX;QACE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;;KAEnB;;;;IAED,wCAAU;;;IAAV;QACE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;;QAElB,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YAC9E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC7B;KACF;;;;;IAED,uCAAS;;;;IAAT,UAAU,IAAI;QACZ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KACrB;;;;;IACD,sCAAQ;;;;IAAR,UAAS,IAAI;QACX,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACtB;;gBAz0BF,SAAS,SAAC;oBACT,QAAQ,EAAE,iBAAiB;oBAC3B,6ifAA2C;;iBAE5C;;;;gBA1BQ,eAAe;gBAFf,aAAa;gBAUb,cAAc;gBAfoC,QAAQ;;;yBA0GhE,KAAK;yBACL,KAAK;2BACL,KAAK;4BACL,KAAK;4BACL,KAAK;+BACL,KAAK;yBAEL,SAAS,SAAC,QAAQ;;IAuvBrB,0BAAC;CA30BD;;;;;;AC7BA;IAME;KAAiB;;;;;;IAEjB,wCAAc;;;;;IAAd,UAAe,UAAkB,EAAE,MAAc;QAC/C,OAAO,mDAAmD,GAAG,UAAU,GAAG,UAAU,GAAG,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC;KACjK;;;;;;IAGD,8CAAoB;;;;;IAApB,UAAqB,UAAkB,EAAE,MAAc;QACrD,OAAO,kDAAkD,GAAG,UAAU,GAAG,UAAU,GAAG,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC;KAChK;;;;;;IAED,gDAAsB;;;;;IAAtB,UAAuB,cAAsB,EAAE,MAAc;;YACvD,IAAI,GAAa,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;QAC/C,OAAO,6DAA6D,GAAG,cAAc,GAAG,UAAU,GAAG,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;KAC5K;;;;;;;IAED,wDAA8B;;;;;;IAA9B,UAA+B,cAAsB,EAAE,MAAc,EAAE,OAAe;;YAChF,IAAI,GAAa,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;QAC/C,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,IAAI,EAAE;YAClC,OAAO,GAAG,aAAa,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC3B,OAAO,IAAI,MAAM,CAAC;QAIpB,OAAO,6DAA6D,GAAG,cAAc,GAAG,UAAU,GAAG,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,WAAW,GAAG,kBAAkB,CAAC,OAAO,CAAC,CAAC;KACxN;;;;;;;IAED,+CAAqB;;;;;;IAArB,UAAsB,UAAkB,EAAE,MAAc,EAAE,OAAe;;QAEvE,OAAO,sDAAsD,GAAG,UAAU,GAAG,UAAU,GAAG,MAAM,GAAG,WAAW,GAAG,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC;KAC5L;;;;;;;IAIO,qCAAW;;;;;;IAAnB,UAAoB,GAAW,EAAE,IAAY;;YACvC,GAAG,GAAG,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;;YACzD,GAAG,GAAW,EAAE;;YAChB,CAAC,GAAG,CAAC;QACT,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACxB,GAAG,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/B,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;SACjC;QACD,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACvE,OAAO,GAAG,CAAC;KACZ;;;;;;IAEO,kCAAQ;;;;;IAAhB,UAAiB,GAAW;;YACtB,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACrB,IAAI,GAAG,CAAC,MAAM,GAAG,EAAE;YACjB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;;YACzB,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC;;YACnC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC;;YAC/B,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,MAAM,CAAC;;YACxC,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,MAAM,CAAC;;YAC5C,WAAW,GAAG,EAAE;;YAChB,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QACzC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QACpC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;QACtC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QACpC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;;YACvB,SAAS,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE;QAEpE,OAAO,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;KACrS;;;;;;;;;IAEO,mCAAS;;;;;;;;IAAjB,UAAkB,IAAY,EAAE,IAAY,EAAE,IAAY,EAAE,CAAS;QACnE,QAAQ,CAAC;YACP,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;YACpB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;YACpB,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;SACrB;KACF;;gBA7EF,UAAU;;;;IAgFX,sBAAC;CAhFD;;;;;;ACHA,WAkCoC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,QAAQ;AAhBpF;IAAA;KAmB6B;;gBAnB5B,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,mBAAmB,EAAE,aAAa,CAAC;oBAClD,OAAO,EAAE;wBACP,YAAY;wBACZ,YAAY;wBACZ,cAAc,CAAC,OAAO,EAAE;wBACxB,aAAa,CAAC,OAAO,EAAE;wBACvB,cAAc;wBACd,WAAW;wBACX,iBAAiB;wBACjB,eAAe;wBACf,gBAAgB;qBACjB;oBACD,OAAO,EAAE,CAAC,mBAAmB,CAAC;oBAC9B,eAAe,EAAE,CAAC,mBAAmB,CAAC;oBACtC,SAAS,EAAE,CAAC,aAAa,EAAE,eAAe,EAAE,eAAe,EAAE,WAAW,EAAE,YAAY,EAAE,cAAc;wBACpG,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,MAAkD,EAAE,EAAE;iBAEvF;;IAC2B,mBAAC;CAnB7B,IAmB6B;;AAE7B,IAAa,EAAE,GAAG,YAAY;;;;;;ACvC9B;IAiBE,+BAAoB,YAA4B;QAA5B,iBAAY,GAAZ,YAAY,CAAgB;QAJhD,mBAAc,GAAU,EAAE,CAAC;KAI0B;;;;IAIrD,wCAAQ;;;IAAR;KACC;;;;IAED,0CAAU;;;IAAV;QAAA,iBAwBC;QAvBC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,mBAAmB,EAAE;YACrD,KAAK,EAAE,MAAM;YACb,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;YACvB,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,sCAAsC,EAAE,OAAO,EAAE,kBAAkB,EAAE,MAAM;;;oBAAE;wBAC5F,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;wBACzB,KAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;qBAClB,CAAA;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,4BAA4B,EAAE,OAAO,EAAE,kBAAkB,EAAE,MAAM;;;oBAAE;wBAClF,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;wBACzB,KAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;qBAClB,CAAA;iBACF;aACF;YAED,WAAW,EAAE,IAAI;SAElB,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,CAAC;KAErC;;gBA5CF,SAAS,SAAC;oBACT,QAAQ,EAAE,kBAAkB;oBAC5B,cAA4C;;iBAE7C;;;;gBAPoB,cAAc;;;yBAchC,KAAK;6BAIL,SAAS,SAAC,mBAAmB;;IA+BhC,4BAAC;CA9CD;;;;;;ACJA;IAcI,6BAAoB,YAA4B,EAAU,wBAAkD,EAAU,QAAkB;QAApH,iBAAY,GAAZ,YAAY,CAAgB;QAAU,6BAAwB,GAAxB,wBAAwB,CAA0B;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAUxI,iBAAY,GAAqB,EAAE,CAAC;QAThC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YACtD,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACrF,IAAI,CAAC,SAAS,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACrD;KACJ;;;;;;IAMD,wCAAU;;;;;IAAV,UAAW,MAAc,EAAE,MAAc;QAAzC,iBA0CC;;YAzCO,IAAI,GAAG,CAAC;QACZ,OAAO,IAAI,OAAO;;;;QAAC,UAAA,OAAO;;gBAClB,aAAa,GAAG,KAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,mBAAmB,CAAC;;gBAC1F,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC;YAEnD,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;YACnC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;YAEnC,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE;gBACzC,KAAK,EAAE,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC;gBAC7C,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;gBACvB,OAAO,EAAE;oBACL;wBACI,IAAI,EAAE,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,sCAAsC,EAAE,MAAM;;;wBAAE;4BACzF,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,SAAS;;;;4BAC/B,UAAA,GAAG;gCACC,IAAI,GAAG,EAAE;oCACL,OAAO,CAAC,GAAG,CAAC,CAAC;oCACb,IAAI,GAAG,CAAC,CAAC;oCACT,KAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;iCACpB;6BACJ,EACJ,CAAC;yBACL,CAAA;qBACJ;oBACD;wBACI,IAAI,EAAE,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,4BAA4B,EAAE,MAAM;;;wBAAE;4BAChF,KAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;yBACpB,CAAA;qBACJ;iBACJ;gBAED,WAAW,EAAE,IAAI;gBACjB,aAAa,EAAE,KAAK;gBACpB,WAAW;;;gBAAE;oBACT,IAAI,IAAI,IAAI,CAAC;wBACT,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;oBAC9B,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;iBACnB,CAAA;aACJ,CAAC,CAAC;SACN,EAAC,CAAA;KACL;;;;;;;IAED,wCAAU;;;;;;IAAV,UAAW,MAAc,EAAE,MAAc,EAAE,SAAwB;QAAxB,0BAAA,EAAA,cAAwB;QAC/D,OAAO,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;KACpE;;;;;;;;IAGD,iDAAmB;;;;;;;IAAnB,UAAoB,MAAc,EAAE,MAAc,EAAE,KAAkB,EAAE,SAAwB;QAAhG,iBAkDC;QAlDuE,0BAAA,EAAA,cAAwB;;YACxF,IAAI,GAAG,CAAC;QACZ,OAAO,IAAI,OAAO;;;;QAAC,UAAA,OAAO;;gBAClB,aAAa,GAAG,KAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,mBAAmB,CAAC;;gBAC1F,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC;YACnD,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,SAAS,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC/C,SAAS,CAAC,QAAQ,CAAC,YAAY,GAAC,KAAK,CAAC,YAAY,CAAC;gBACnD,IAAI,KAAK,CAAC,QAAQ,IAAI,IAAI,IAAI,KAAK,CAAC,QAAQ,IAAI,EAAE;oBAC9C,SAAS,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAA;aACnD;YAED,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;YACnC,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;YACnC,SAAS,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;YAEzC,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE;gBACzC,KAAK,EAAE,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC;gBAC7C,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;gBACvB,OAAO,EAAE;oBACL;wBAEI,IAAI,EAAE,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,sCAAsC,EAAE,MAAM;;;wBAAE;4BACzF,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,SAAS;;;;4BAC/B,UAAA,GAAG;gCACC,IAAI,GAAG,EAAE;oCACL,OAAO,CAAC,GAAG,CAAC,CAAC;oCACb,IAAI,GAAG,CAAC,CAAC;oCACT,KAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;iCACpB;6BACJ,EACJ,CAAC;yBACL,CAAA;qBACJ;oBACD;wBACI,IAAI,EAAE,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,4BAA4B,EAAE,MAAM;;;wBAAE;4BAChF,KAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;yBACpB,CAAA;qBACJ;iBACJ;gBAED,WAAW,EAAE,IAAI;gBACjB,aAAa,EAAE,KAAK;gBACpB,WAAW;;;gBAAE;oBACT,IAAI,IAAI,IAAI,CAAC;wBACT,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;oBAC9B,OAAOA,IAAE,CAAC,IAAI,CAAC,CAAC;iBACnB,CAAA;aACJ,CAAC,CAAC;SACN,EAAC,CAAA;KACL;;gBApHJ,UAAU;;;;gBAPF,cAAc;gBAFQ,wBAAwB;gBAAlC,QAAQ;;IA8H7B,0BAAC;CArHD;;;;;;ACTA;IAiBA;KAcmC;;gBAdlC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,qBAAqB,CAAC;oBACrC,OAAO,EAAE;wBACP,YAAY;wBACZ,kBAAkB;wBAClB,cAAc,CAAC,OAAO,EAAE;wBACxB,YAAY;wBACZ,YAAY,CAAC,OAAO,EAAE;wBACtB,gBAAgB;qBACjB;oBACD,OAAO,EAAE,CAAC,qBAAqB,EAAC,mBAAmB,CAAC;oBACpD,eAAe,EAAE,CAAC,qBAAqB,EAAC,mBAAmB,CAAC;oBAC5D,SAAS,EAAE,CAAC,cAAc,EAAE,WAAW,EAAE,mBAAmB,EAAE,aAAa,CAAC;iBAC7E;;IACiC,yBAAC;CAdnC;;;;;;ACfA;IAAA;QACW,aAAQ,GAAW,GAAG,CAAC;QACvB,cAAS,GAAW,CAAC,CAAC;QACtB,iBAAY,GAA2B,IAAI,CAAC;KACtD;IAAD,kBAAC;CAAA;;;;;;ACHD;IAAA;KAKC;IAAD,8BAAC;CAAA;;;;;;ACND;IAAA;KASC;IAAD,qBAAC;CAAA;;;;;;ACXD;IAAA;KAMC;IAAD,yBAAC;CAAA;;;;;;ACHD;IAAA;KAMC;IAAD,0BAAC;CAAA;;;;;;ACPD;IAAA;KAqBC;IAAD,eAAC;CAAA;;;;;;ACvBD;IAAA;KAKC;IAAD,qBAAC;CAAA;;;;;;;;;;;;;;"}
