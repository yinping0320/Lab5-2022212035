{"version":3,"file":"gsp-svc-cloudprint.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@gsp-svc/cloudprint/lib/entitys/printEntity.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.filtervalue.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.utils.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.format.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.convert.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.register.ts","ng://@gsp-svc/cloudprint/lib/entitys/config.ts","ng://@gsp-svc/cloudprint/lib/utils/cloudprint.Urls.ts","ng://@gsp-svc/cloudprint/lib/entitys/printFormat.ts","ng://@gsp-svc/cloudprint/lib/utils/cloudprint.datavalidator.ts","ng://@gsp-svc/cloudprint/lib/services/printFormatService.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-designer/cloudprint-designer.service.ts","ng://@gsp-svc/cloudprint/lib/utils/cloudprint.utils.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-designer/cloudprint-designer.component.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-viewer/cloudprint-viewer.service.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-viewer/cloudprint-viewer.component.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/cmpType.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/outputParam.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/sourceType.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-formatlist/formatlist.component.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/querytype.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/printtype.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/printsetting.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/printOritation.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/paperkind.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-formatlistjob/formatlistjob.component.ts","ng://@gsp-svc/cloudprint/lib/i18n/language.resource.ts","ng://@gsp-svc/cloudprint/lib/local.pipe.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.service.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.module.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/basesourceoptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/sourceFilterOptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/sourceOptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/retrieveParam.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/fileType.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/outputOptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/outputType.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.internalservice.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.attachmentservice.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { EventEmitter } from '@angular/core';\r\nimport { PrintFormat } from './printFormat';\r\nimport { SourceType } from './enums/sourceType';\r\n\r\nexport class PrintEntity {\r\n    /**\r\n     * æ¯å¦å¨å±æ¸²æ\r\n     * é»è®¤ï¼false\r\n     */\r\n    isFullScreen: boolean;\r\n    /**\r\n     * SessionID\r\n     */\r\n    sessionId: string;\r\n    /**\r\n     * ç¬¬ä¸æ¹åºç¨çåºå°å\r\n     * (é»è®¤GSPäºæå°åºå°å)\r\n     */\r\n    appUrl: string;\r\n    /**\r\n     * å½åè¯­è¨\r\n     */\r\n    language: string;\r\n    /**\r\n     * ä¸ä¸ªå¼å³ï¼æ¯å¦è®¾è®¡å¨å¤çä¿å­é»è¾\r\n     * é»è®¤ä¸º:false\r\n     */\r\n    isUseMetaData: boolean;\r\n    //#region æ ¼å¼ç¸å³\r\n    /**\r\n     * è®¾è®¡å¨çé«åº¦\r\n     */\r\n    designerHeight: string;\r\n    /**\r\n     * æ ¼å¼id\r\n     */\r\n    foramtId: string;\r\n    /**\r\n     * æ¥è¡¨æ ¼å¼(è®¾è®¡æ¶)\r\n     */\r\n    format: string;\r\n    /**\r\n     * æ°æ®Id\r\n     */\r\n    dataId: string;\r\n    /**\r\n     * æ¥è¡¨æ°æ®\r\n     */\r\n    data: any;\r\n    /**\r\n     * schemaçç±»åï¼\r\n     *  BE\r\n     *  vo\r\n     *  BO\r\n     *  co\r\n     */\r\n    schemaType: SourceType;\r\n\r\n    printFormat: PrintFormat;\r\n\r\n    downLoadFileName='PrintReport'\r\n\r\n    //0ç¼è¾ï¼1æ¥ç\r\n    state:any;\r\n    \r\n    /**\r\n     * å·²ç»æ¸²ææå½¢çæ¥è¡¨æ ¼å¼(è¿è¡æ¶)\r\n     */\r\n    rendedFormat: any;\r\n\r\n    /**\r\n     * ä¿å­åäºä»¶\r\n     */\r\n    onSaveReportEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * éåºåäºä»¶\r\n     * å¯ç¨äºéæ¯èµæº\r\n     */\r\n    onExitEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * ä¿å­æåä¹åçidäºä»¶\r\n     */\r\n    onGetPrintFormatIdEvent: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    /**\r\n     * ä¿å­æååçäºä»¶\r\n     */\r\n    onSavedReportEvent: EventEmitter<any> = new EventEmitter<any>();\r\n}\r\n","// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n/**\r\n * äºæå°åç½®çå½æ°\r\n */\r\nexport class PrintFunctionsOfFiltervalue {\r\n    // /**\r\n    //  * æ³¨æï¼\r\n    //  * 1.ArgsTypeçç±»ååºè¯¥ä¸ºJavaScriptçç±»åèä¸æ¯stimulsoftçç±»å( è¿éä¼è¢«å®æ¹ææ¡£å¹²æ° )\r\n    //  * 2.æ°æ®æºçä¼ éï¼ç´æ¥å¨åæ°ä¸äºä¸tableåå°±è¡äºã\r\n    //  */\r\n\r\n    // /**\r\n    //  * åé¡µå½æ°\r\n    //  */\r\n    // Pagination = {\r\n    //     Category : \"GSPBuildInFunc\",\r\n    //     GroupFunctionName : \"FilterData\",\r\n    //     FunctionName : \"Pagination\",\r\n    //     Description : \"åé¡µ\",\r\n    //     TypeOfFunction : \"void\",\r\n    //     ReturnType : 'void',\r\n    //     ReturnDescription : \"æ°æ®å¼\",\r\n    //     ArgumentTypes : [Object,Number],\r\n    //     ArgumentNames : [ 'dataSource','pagesize'],\r\n    //     ArgumentDescriptions : [ \"æ°æ®æº\", \"æ¯é¡µè¡æ°\"],\r\n    //     Function: function(dataSource,pagesize) {\r\n    //         const pos = dataSource.position+1;\r\n    //         // æ¢é¡µ\r\n    //         if (pos % pagesize === 0 && pos !== 0) {\r\n    //             dataSource.dictionary.report.engine.newPage();\r\n    //         }\r\n    //     },\r\n    // };\r\n\r\n\r\n    /**\r\n     * è·åæå®æ°æ®æºä¸­æå®è¡åæå®åçå¼\r\n     */\r\n    GetValue = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'FilterData',\r\n        FunctionName : 'GetValue',\r\n        Description : 'è·åæå®æ°æ®æºä¸­æå®è¡åæå®åçå¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ°æ®å¼',\r\n        ArgumentTypes : [Object, Number, Number],\r\n        ArgumentNames : [ 'dataSource', 'row', 'col'],\r\n        ArgumentDescriptions : [ 'æ°æ®æº', 'æ¯é¡µè¡æ°'],\r\n        Function: function(dataSource, row, col) {\r\n            const table = dataSource.dataTable;\r\n            if (table == null) {\r\n                return '';\r\n            }\r\n\r\n            const a = table.rows.list[row - 1].columns.list[col - 1].storage.values[row - 1];\r\n            return a;\r\n        },\r\n    };\r\n\r\n\r\n    /**\r\n     * è·åç¬¦åæ¡ä»¶çç®æ åçå¼\r\n     */\r\n    GetFilterValues = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'FilterData',\r\n        FunctionName : 'GetFilterValues',\r\n        Description : 'è·åç¬¦åæ¡ä»¶çç®æ åçå¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ°æ®å¼',\r\n        ArgumentTypes : [Object, String, String, String, Boolean],\r\n        ArgumentNames : [ 'dataSource', 'filterColumn', 'filterValue', 'targetColumnName', 'first'],\r\n        ArgumentDescriptions : [ 'æ°æ®æº', 'è¿æ»¤å', 'è¿æ»¤å¼ï¼å¿é¡»æ¯stirngï¼', 'ç®æ å', 'æ¯å¦è·åç¬¬ä¸ä¸ªç¬¦åæ¡ä»¶çå¼' ],\r\n        Function: function(dataSource: any, filterColumn: string, filterValue: any, targetColumnName: string, first: boolean) {\r\n            const table = dataSource.dataTable;\r\n            if (table == null) {\r\n                return '';\r\n            }\r\n            const colValues = table.columns.list.find((e) => e.columnName === filterColumn).storage.values;\r\n            const a = [];\r\n            for (let index = 0; index < colValues.length; index++) {\r\n                const element = colValues[index];\r\n                if (element === filterValue) {\r\n                    a.push(index);\r\n                    if (first) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let res = '';\r\n            const tmpIndex = a.pop();\r\n            if (tmpIndex >= 0) {\r\n                res += table.columns.list.find((e) => e.columnName === targetColumnName).storage.values[tmpIndex];\r\n                res += ';';\r\n            }\r\n\r\n            return res.substring(0, res.length - 2);\r\n        },\r\n    };\r\n\r\n\r\n}\r\n","/**\r\n * äºæå°å½æ°å·¥å·ç±»\r\n */\r\nexport class PrintFunctionUtils {\r\n\r\n\r\n    /**\r\n     * å°æ°å­è½¬ä¸ºæ±å­\r\n     * @param number æ°å¼\r\n     */\r\n    public static FormatToCurrencyNumber(number: number): string {\r\n\r\n        var result = PrintFunctionUtils.FormatToCurrencyNumberCN(number);\r\n        // æç±»ä¼¼ ãä¸åäºãä¸­çä¸å»æï¼æ¹ä¸ºãåäºã\r\n        if (result.startsWith('ä¸å')) {\r\n            result = result.substring(1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * å°æ°å­è½¬æ¢ä¸ºæ±å­\r\n     * @param number æ°å¼\r\n     */\r\n    public static FormatToCurrencyNumberCN(number: number): string {\r\n        var res = PrintFunctionUtils.ConvertCurrency(number);\r\n        var result = res;\r\n\r\n        result = result.replace(new RegExp(\"å£¹\",\"gm\"), \"ä¸\");\r\n        result = result.replace(new RegExp(\"è´°\",\"gm\"), \"äº\");\r\n        result = result.replace(new RegExp(\"å\",\"gm\"), \"ä¸\");\r\n        result = result.replace(new RegExp(\"è\",\"gm\"), \"å\");\r\n        result = result.replace(new RegExp(\"ä¼\",\"gm\"), \"äº\");\r\n        result = result.replace(new RegExp(\"é\",\"gm\"), \"å­\");\r\n        result = result.replace(new RegExp(\"æ\",\"gm\"), \"ä¸\");\r\n        result = result.replace(new RegExp(\"æ\",\"gm\"), \"å«\");\r\n        result = result.replace(new RegExp(\"ç\",\"gm\"), \"ä¹\");\r\n        result = result.replace(new RegExp(\"æ¾\",\"gm\"), \"å\");\r\n        result = result.replace(new RegExp(\"ä½°\",\"gm\"), \"ç¾\");\r\n        result = result.replace(new RegExp(\"ä»\",\"gm\"), \"å\");\r\n\r\n        result = result.replace(\"å\", \"ç¹\");\r\n        result = result.replace(\"è§\", \"\");\r\n        result = result.replace(\"å\", \"\");\r\n        result = result.replace(\"æ´\", \"\");\r\n\r\n        if (result[result.length - 1] == 'ç¹') \r\n        {\r\n            result = result.substring(0, result.length-1);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static ConvertCurrency(money) {\r\n        //æ±å­çæ°å­\r\n        var cnNums = new Array('é¶', 'å£¹', 'è´°', 'å', 'è', 'ä¼', 'é', 'æ', 'æ', 'ç');\r\n        //åºæ¬åä½\r\n        var cnIntRadice = new Array('', 'æ¾', 'ä½°', 'ä»');\r\n        //å¯¹åºæ´æ°é¨åæ©å±åä½\r\n        var cnIntUnits = new Array('', 'ä¸', 'äº¿', 'å');\r\n        //å¯¹åºå°æ°é¨ååä½\r\n        var cnDecUnits = new Array('è§', 'å', 'æ¯«', 'å');\r\n        //æ´æ°éé¢æ¶åé¢è·çå­ç¬¦\r\n        var cnInteger = 'æ´';\r\n        //æ´åå®ä»¥åçåä½\r\n        var cnIntLast = 'å';\r\n        //æå¤§å¤ççæ°å­\r\n        var maxNum = 999999999999999.9999;\r\n        //éé¢æ´æ°é¨å\r\n        var integerNum;\r\n        //éé¢å°æ°é¨å\r\n        var decimalNum;\r\n        //è¾åºçä¸­æéé¢å­ç¬¦ä¸²\r\n        var chineseStr = '';\r\n        //åç¦»éé¢åç¨çæ°ç»ï¼é¢å®ä¹\r\n        var parts;\r\n        if (money == '') { return ''; }\r\n        money = parseFloat(money);\r\n        if (money >= maxNum) {\r\n          //è¶åºæå¤§å¤çæ°å­\r\n          return '';\r\n        }\r\n        if (money == 0) {\r\n          chineseStr = cnNums[0] + cnIntLast + cnInteger;\r\n          return chineseStr;\r\n        }\r\n        //è½¬æ¢ä¸ºå­ç¬¦ä¸²\r\n        money = money.toString();\r\n        if (money.indexOf('.') == -1) {\r\n          integerNum = money;\r\n          decimalNum = '';\r\n        } else {\r\n          parts = money.split('.');\r\n          integerNum = parts[0];\r\n          decimalNum = parts[1].substr(0, 4);\r\n        }\r\n        //è·åæ´åé¨åè½¬æ¢\r\n        if (parseInt(integerNum, 10) > 0) {\r\n          var zeroCount = 0;\r\n          var IntLen = integerNum.length;\r\n          for (var i = 0; i < IntLen; i++) {\r\n            var n = integerNum.substr(i, 1);\r\n            var p = IntLen - i - 1;\r\n            var q = p / 4;\r\n            var m = p % 4;\r\n            if (n == '0') {\r\n              zeroCount++;\r\n            } else {\r\n              if (zeroCount > 0) {\r\n                chineseStr += cnNums[0];\r\n              }\r\n              //å½é¶\r\n              zeroCount = 0;\r\n              chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];\r\n            }\r\n            if (m == 0 && zeroCount < 4) {\r\n              chineseStr += cnIntUnits[q];\r\n            }\r\n          }\r\n          chineseStr += cnIntLast;\r\n        }\r\n        //å°æ°é¨å\r\n        if (decimalNum != '') {\r\n          var decLen = decimalNum.length;\r\n          //å¤çå°å\r\n          if (decLen > 2) \r\n          {\r\n              decLen = 2;\r\n          }\r\n          for (var i = 0; i < decLen; i++) {\r\n            var n = decimalNum.substr(i, 1);\r\n            if (n != '0') {\r\n              chineseStr += cnNums[Number(n)] + cnDecUnits[i];\r\n            }\r\n          }\r\n        }\r\n        if (chineseStr == '') {\r\n          chineseStr += cnNums[0] + cnIntLast + cnInteger;\r\n        } else if (decimalNum == '') {\r\n          chineseStr += cnInteger;\r\n        }\r\n        return chineseStr;\r\n    }\r\n\r\n    /**\r\n     * å°æ°å¼æ ¼å¼åä¸ºä¸­æå¤§åè´§å¸éé¢ï¼å½¢å¦ãå£¹æ¾ä¸æä»åé¶ä¼è§ååã\r\n     */\r\n    public static FormatToCurrencyCN(money: number) {\r\n        return PrintFunctionUtils.ConvertCurrency(money);\r\n    }\r\n\r\n    public static FormatToCurrency(money: number){\r\n        let str = this.FormatToCurrencyCN(money);\r\n        str = str.replace('é¶','');\r\n        return str;\r\n    }\r\n\r\n\r\n    private static insert_item(str, item, index) {\r\n        // åå§åä¸ä¸ªç©ºå­ç¬¦ä¸²\r\n        let newstr = '';\r\n        const tmp = str.substring(0, index);\r\n        const estr = str.substring(index, str.length);\r\n        newstr += tmp + item + estr;\r\n        return newstr;\r\n    }\r\n\r\n    /**\r\n    * å¯¹æ¥æè¿è¡æ ¼å¼åï¼ åC#å¤§è´ä¸è´ é»è®¤yyyy-MM-dd HH:mm:ss\r\n    * å¯ä¸å¸¦åæ° ä¸ä¸ªæ¥æåæ° æä¸ä¸ªæ ¼å¼ååæ°\r\n    * @param date è¦æ ¼å¼åçæ¥æ \r\n    * @param format è¿è¡æ ¼å¼åçæ¨¡å¼å­ç¬¦ä¸²\r\n    *     æ¯æçæ¨¡å¼å­æ¯æï¼ \r\n    *     y:å¹´, \r\n    *     M:å¹´ä¸­çæä»½(1-12), \r\n    *     d:æä»½ä¸­çå¤©(1-31), \r\n    *     H:å°æ¶(0-23), \r\n    *     h:å°æ¶(0-11), \r\n    *     m:å(0-59), \r\n    *     s:ç§(0-59), \r\n    *     f:æ¯«ç§(0-999),\r\n    *     q:å­£åº¦(1-4)\r\n    * @return String\r\n    * @author adswads@gmail.com\r\n    */\r\n    public static dateFormat(date?: any, format?: string): string {\r\n        // æ åæ°\r\n        if (date === undefined && format === undefined) {\r\n            date = new Date();\r\n            format = 'yyyy-MM-dd HH:mm:ss';\r\n        } else if (typeof (date) === 'string') {// æ æ¥æ\r\n            format = date;\r\n            date = new Date();\r\n        } else if (format === undefined) {// æ æ ¼å¼ååæ°\r\n            format = 'yyyy-MM-dd HH:mm:ss';\r\n        } else { }// æ²¡æåéç¬¦çç¹æ®å¤ç\r\n\r\n        const map = {\r\n            y: date.getFullYear() + '', // å¹´ä»½\r\n            M: date.getMonth() + 1 + '', // æä»½\r\n            d: date.getDate() + '', // æ¥\r\n            H: date.getHours(), // å°æ¶ 24\r\n            m: date.getMinutes() + '', // å\r\n            s: date.getSeconds() + '', // ç§\r\n            q: Math.floor((date.getMonth() + 3) / 3) + '', // å­£åº¦\r\n            f: date.getMilliseconds() + '' // æ¯«ç§\r\n        };\r\n        // å°æ¶ 12\r\n        if (map['H'] > 12) { map['h'] = map['H'] - 12 + ''; } else { map['h'] = map['H'] + ''; }\r\n        map['H'] += '';\r\n\r\n        const reg = 'yMdHhmsqf';\r\n        let all = '', str = '';\r\n        for (let i = 0, n = 0; i < reg.length; i++) {\r\n            n = format.indexOf(reg[i]);\r\n            if (n < 0) { continue; }\r\n            all = '';\r\n            for (; n < format.length; n++) {\r\n                if (format[n] !== reg[i]) {\r\n                    break;\r\n                }\r\n                all += reg[i];\r\n            }\r\n            if (all.length > 0) {\r\n                if (all.length === map[reg[i]].length) {\r\n                    str = map[reg[i]];\r\n                } else if (all.length > map[reg[i]].length) {\r\n                    if (reg[i] === 'f') {\r\n                        str = map[reg[i]] + this.charString('0', all.length - map[reg[i]].length);\r\n                    }  else {\r\n                        str = this.charString('0', all.length - map[reg[i]].length) + map[reg[i]];\r\n                    }\r\n                } else {\r\n                    switch (reg[i]) {\r\n                        case 'y': str = map[reg[i]].substr(map[reg[i]].length - all.length); break;\r\n                        case 'f': str = map[reg[i]].substr(0, all.length); break;\r\n                        default: str = map[reg[i]]; break;\r\n                    }\r\n                }\r\n                format = format.replace(all, str);\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    /**\r\n    * è¿åå­ç¬¦ä¸² ä¸ºnä¸ªcharææ\r\n    * @param char éå¤çå­ç¬¦\r\n    * @param count æ¬¡æ°\r\n    * @return String\r\n    * @author adswads@gmail.com\r\n    */\r\n   private static charString(char: string, count: number): string {\r\n        let str = '';\r\n        while (count--) {\r\n            str += char;\r\n        }\r\n        return str;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * æ ¼å¼åæ°å­\r\n     * @param  number  [è¦æ ¼å¼åçæ°å­]\r\n     * @param  decimals         [ä¿çå ä½å°æ°]\r\n     * @param  dec_point        [å°æ°ç¹ç¬¦å·]\r\n     * @param  thousands_sep    [ååä½ç¬¦å·]\r\n     * @param  roundtag         [èå¥åæ°ï¼é»è®¤ \"ceil\" åä¸å,\"floor\"åä¸å,\"round\" åèäºå¥]\r\n     * @return  æ ¼å¼ååçç»æ\r\n     */\r\n    private static  number_format(number, decimals, dec_point, thousands_sep, roundtag) {\r\n        number = (number + '').replace(/[^0-9+-Ee.]/g, '');\r\n        roundtag = roundtag || 'ceil'; // \"ceil\",\"floor\",\"round\"\r\n        let n = !isFinite(+number) ? 0 : +number,\r\n            prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n            sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n            dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n            s = [],\r\n            toFixedFix = function (n, prec) {\r\n\r\n                const k = Math.pow(10, prec);\r\n                console.log();\r\n    \r\n                return '' + parseFloat(Math[roundtag](parseFloat((n * k).toFixed(prec * 2))).toFixed(prec * 2)) / k;\r\n            };\r\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n        const re = /(-?\\d+)(\\d{3})/;\r\n        while (re.test(s[0])) {\r\n            s[0] = s[0].replace(re, '$1' + sep + '$2');\r\n        }\r\n    \r\n        if ((s[1] || '').length < prec) {\r\n            s[1] = s[1] || '';\r\n            s[1] += new Array(prec - s[1].length + 1).join('0');\r\n        }\r\n        return s.join(dec);\r\n    }\r\n\r\n}\r\n","import { PrintFunctionUtils } from './cloudprint.function.utils';\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n/**\r\n * äºæå°åç½®çå½æ°\r\n */\r\nexport class PrintFunctionsOfFormat {\r\n    /**\r\n     * æ³¨æï¼\r\n     * 1.ArgsTypeçç±»ååºè¯¥ä¸ºJavaScriptçç±»åèä¸æ¯stimulsoftçç±»å( è¿éä¼è¢«å®æ¹ææ¡£å¹²æ° )\r\n     * 2.æ°æ®æºçä¼ éï¼ç´æ¥å¨åæ°ä¸äºä¸tableåå°±è¡äºã\r\n     */\r\n\r\n\r\n    /**\r\n     * å°æä¸¾å¼è½¬æ¢ä¸ºæ¾ç¤ºå¼\r\n     */\r\n    ParseEnumValue = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format', \r\n        FunctionName : 'ParseEnumValue',\r\n        Description : 'å°æä¸¾å¼è½¬æ¢ä¸ºæ¾ç¤ºå¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ¾ç¤ºå¼',\r\n        ArgumentTypes : [String, String, Object],\r\n        ArgumentNames : [ 'realValue', 'disPlayValue', 'enumObject'],\r\n        ArgumentDescriptions : [  'æä¸¾å¼(0/1/2)', 'æ¾ç¤ºå¼(ä¸­/è±/æ³)', 'æä¸¾å®ä¾'],\r\n        Function: function(realValue: string, disPlayValue: string, enumObject: any) {\r\n            // const real = realValue.split('/');\r\n            // const disPlay = disPlayValue.split('/');\r\n\r\n            // if (real.length === disPlay.length) {\r\n            //     const enumIntValue = enumObject.toString();\r\n            //     const index = real.findIndex(x => x === enumIntValue);\r\n\r\n            //     if (index > -1) {\r\n            //         return disPlay[index];\r\n            //     }\r\n            // }\r\n\r\n            // return '';\r\n        },\r\n    };\r\n\r\n\r\n    /**\r\n     * å°8ä½å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼\r\n     */\r\n    Format8CharDateTime = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'Format8CharDateTime',\r\n        Description : 'å°8ä½å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æå®æ¥ææ ¼å¼çå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, String],\r\n        ArgumentNames : [ 'format', 'dataString'],\r\n        ArgumentDescriptions : [  'æä¸¾å¼(0/1/2)', 'æ¾ç¤ºå¼(ä¸­/è±/æ³)', 'æä¸¾å®ä¾'],\r\n        Function: function(format: string, dataString: string) {\r\n            // if (dataString.length !== 8) {\r\n            //     return dataString;\r\n            // }\r\n            // // tslint:disable-next-line:radix\r\n            // const year = parseInt(dataString.substring(0, 4));\r\n            // // tslint:disable-next-line:radix\r\n            // const mouth = parseInt(dataString.substring(4, 6));\r\n            // // tslint:disable-next-line:radix\r\n            // const day = parseInt(dataString.substring(6, 8));\r\n\r\n            // const dateTime = new Date();\r\n            // dateTime.setFullYear(year);\r\n            // /**\r\n            //  * Sets the month value in the Date object using local time.\r\n            //  * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //  * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            // */\r\n            // dateTime.setMonth(mouth - 1);\r\n            // dateTime.setDate(day);\r\n\r\n            // return PrintFunctionUtils.dateFormat(dateTime, format);\r\n        },\r\n    };\r\n\r\n\r\n    /**\r\n     * å°8ä½å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼\r\n     */\r\n    FormatDateTime = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDateTime',\r\n        Description : 'å°æ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æå®æ¥ææ ¼å¼çå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, Object],\r\n        ArgumentNames : [ 'format', 'datetime'],\r\n        ArgumentDescriptions : [  'æ ¼å¼', 'æ¥æ(DateTimeç±»å)'],\r\n        Function: function(format: string, datetime: any) {\r\n            // if (typeof (date) === 'string') {\r\n\r\n            //     const year = parseInt(date.substring(0, 4));\r\n            //     const mouth = parseInt(date.substring(5, 7));\r\n            //     const day = parseInt(date.substring(8, 10));\r\n            //     const dateTime = new Date();\r\n            //     dateTime.setFullYear(year);\r\n            //     /**\r\n            //      * Sets the month value in the Date object using local time.\r\n            //      * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //      * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            //     */\r\n            //     dateTime.setMonth(mouth - 1);\r\n            //     dateTime.setDate(day);\r\n            //     return PrintFunctionUtils.dateFormat(dateTime, format);\r\n            // } else {\r\n            //     const year = date.year;\r\n            //     const mouth = date.month;\r\n            //     const day = date.day;\r\n            //     const dateTime = new Date();\r\n            //     dateTime.setFullYear(year);\r\n            //     /**\r\n            //      * Sets the month value in the Date object using local time.\r\n            //      * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //      * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            //     */\r\n            //     dateTime.setMonth(mouth - 1);\r\n            //     dateTime.setDate(day);\r\n            //     return PrintFunctionUtils.dateFormat(dateTime, format);\r\n            // }\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼\r\n     */\r\n    FormatDateTimeStr = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDateTimeStr',\r\n        Description : 'å°æ¥æå­ç¬¦ä¸²è½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æå®æ¥ææ ¼å¼çå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, String],\r\n        ArgumentNames : [ 'format', 'datestring'],\r\n        ArgumentDescriptions : [  'æ ¼å¼', 'æ¥æå­ç¬¦ä¸²)'],\r\n        Function: function(format: string, datestring: string) {\r\n\r\n            // const year = parseInt(date.substring(0, 4));\r\n            // const mouth = parseInt(date.substring(5, 7));\r\n            // const day = parseInt(date.substring(8, 10));\r\n            // const dateTime = new Date();\r\n            // dateTime.setFullYear(year);\r\n            // /**\r\n            //  * Sets the month value in the Date object using local time.\r\n            //  * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //  * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            // */\r\n            // dateTime.setMonth(mouth - 1);\r\n            // dateTime.setDate(day);\r\n            // return PrintFunctionUtils.dateFormat(dateTime, format);\r\n        },\r\n    };\r\n\r\n    FormatDateTimeCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDateTimeCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­æ¥æ',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­æ¥æ',\r\n        ArgumentTypes : [Object, Boolean,Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple','isDeleteZero'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n        Function: function(datetime,isSimple,isDeleteZero) {\r\n        },\r\n    };\r\n\r\n    // FormatDateTimeStrCN = {\r\n    //     Category : 'IGixFucs',\r\n    //     GroupFunctionName : 'Format',\r\n    //     FunctionName : 'FormatDateTimeStrCN',\r\n    //     Description : 'å°æ°å­æ¥æå­ç¬¦è½¬æ¢ä¸ºæ±å­æ¥æ',\r\n    //     TypeOfFunction : 'void',\r\n    //     ReturnType : String,\r\n    //     ReturnDescription : 'æ±å­æ¥æ',\r\n    //     ArgumentTypes : [String, Boolean,Boolean],\r\n    //     ArgumentNames : [ 'datestring', 'isSimple','isDeleteZero'],\r\n    //     ArgumentDescriptions : [  'æ¥æå­ç¬¦ä¸²ï¼yyyy-MM-ddï¼', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n    //     Function: function(datestring: string, isSimple: Boolean,isDeleteZero: Boolean) {\r\n    //     },\r\n    // };\r\n\r\n    FormatYearCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatYearCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­å¹´',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­å¹´',\r\n        ArgumentTypes : [Object, Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­'],\r\n        Function: function(datetime,isSimple) {\r\n        },\r\n    };\r\n\r\n    FormatMonthCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatMonthCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­æ',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­æ',\r\n        ArgumentTypes : [Object, Boolean,Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple','isDeleteZero'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n        Function: function(datetime,isSimple,isDeleteZero) {\r\n        },\r\n    };\r\n\r\n    FormatDayCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDayCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­æ¥',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­æ¥',\r\n        ArgumentTypes : [Object, Boolean,Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple','isDeleteZero'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n        Function: function(datetime,isSimple,isDeleteZero) {\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrencyNumber = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrencyNumber',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºå¤§åä¸­æï¼æ¯å¦å°12.38æ ¼å¼åä¸ºãåäºç¹ä¸å«ã',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'å¤§åä¸­ææ°å­',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'number'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrencyNumber,\r\n    };\r\n\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrencyNumberCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrencyNumberCN',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºå¤§åä¸­æéé¢æ°å¼ï¼æ¯å¦å°12.38æ ¼å¼åä¸ºãä¸åäºç¹ä¸å«ã',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'å¤§åä¸­ææ°å¼',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'number'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrencyNumberCN,\r\n    };\r\n\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrencyCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrencyCN',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºä¸­æå¤§åè´§å¸éé¢',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'ä¸­æå¤§åè´§å¸éé¢',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'money'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrencyCN,\r\n    };\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrency = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrency',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºä¸­æå¤§åè´§å¸éé¢',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'ä¸­æå¤§åè´§å¸éé¢',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'money'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrency,\r\n    };\r\n\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatFloat = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format', \r\n        FunctionName : 'FormatFloat',\r\n        Description : 'å°æµ®ç¹ç±»åè½¬åä¸ºæå®çæ ¼å¼æ¾ç¤º',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æµ®ç¹åæ°å­ç»æ',\r\n        ArgumentTypes : [Number, String],\r\n        ArgumentNames : [ 'f', 'format'],\r\n        ArgumentDescriptions : ['æµ®ç¹åæ°å­', 'æ ¼å¼'],\r\n        Function: function(f: number, format: string) {\r\n            \r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°è¿ç»­åºç°çè¿æ¥ç¬¦è½¬æ¢ä¸ºåä¸ªå­ç¬¦ï¼\r\n     * ä¾å¦å°12---32è½¬æ¢ä¸º12-32\r\n     */\r\n    RemoveRepeatedJoiner = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'RemoveRepeatedJoiner',\r\n        Description : 'å°è¿ç»­åºç°çè¿æ¥ç¬¦è½¬æ¢ä¸ºåä¸ªå­ç¬¦ï¼ä¾å¦å°12---32è½¬æ¢ä¸º12-32',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'ææ¢åçå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, String],\r\n        ArgumentNames : [ 'joiner', 'str'],\r\n        ArgumentDescriptions : ['è¿æ¥ç¬¦', 'å­ç¬¦ä¸²'],\r\n        Function: function(joiner: string, str: string) {\r\n            // if (joiner.length > 1 && str.trim().length) {\r\n            //     return str;\r\n            // }\r\n\r\n            // joiner = joiner.substring(0, 1);\r\n\r\n            // const patten = '(' + joiner + ')+';\r\n            // const subStr = new RegExp(patten, 'g');\r\n            // let res = str.replace(subStr, joiner);\r\n\r\n            // if (res[0] === joiner) {\r\n            //     res = res.substr(1);\r\n            // }\r\n            // if (res[res.length - 1] === joiner) {\r\n            //     res = res.substr(0, res.length - 2);\r\n            // }\r\n            // return res;\r\n        },\r\n  \r\n    };\r\n\r\n    /**\r\n     * æ ¹æ®èµ·å§é¡µç è½¬åé¡µç \r\n     */\r\n    FormatPageIndexWithStartNumber = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatPageIndexWithStartNumber',\r\n        Description : 'æ ¹æ®èµ·å§é¡µç éæ°è®¡ç®é¡µç ï¼ä¾å¦ï¼èµ·å§é¡µç ä¸º10ï¼é£ç¬¬ä¸é¡µå°æ¾ç¤º10',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'è½¬ååçé¡µç ',\r\n        ArgumentTypes : [String, Number],\r\n        ArgumentNames : [ 'page', 'start'],\r\n        ArgumentDescriptions : ['å½åé¡µç (æ¥èªç³»ç»åé)', 'èµ·å§é¡µ'],\r\n        Function: function(page: string, start: number) {\r\n            // const newline = Number(page)+start;\r\n            // return newline;\r\n        },\r\n    }\r\n    \r\n    /**\r\n     * è¿åæå®keyçèµæºå¼\r\n     */\r\n    // L = {\r\n    //     Category : 'IGixFucs',\r\n    //     GroupFunctionName : 'Location',\r\n    //     FunctionName : 'L',\r\n    //     Description : 'æ¬å°å',\r\n    //     TypeOfFunction : 'void',\r\n    //     ReturnType : String,\r\n    //     ReturnDescription : 'è¿åæå®keyçèµæºå¼',\r\n    //     ArgumentTypes : [String, String],\r\n    //     ArgumentNames : [ 'resourceKey', 'defaultValue'],\r\n    //     ArgumentDescriptions : ['èµæºKey', 'defaultValue'],\r\n    //     Function: function(resourceKey: string, defaultValue: string) {\r\n    //         return defaultValue;\r\n    //     },\r\n    // };\r\n}\r\n\r\n\r\n","// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n/**\r\n * äºæå°åç½®çå½æ°\r\n */\r\nexport class PrintFunctionsOfConvert {\r\n    \r\n    /**\r\n     * å°å­ç¬¦ä¸²è½¬åä¸ºBigDecimal\r\n     */\r\n    ConvertStringToBigDecimal = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'ConvertStringToBigDecimal',\r\n        Description : 'å°å­ç¬¦ä¸²è½¬åä¸ºBigDecimal',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ¾ç¤ºå¼',\r\n        ArgumentTypes : [String],\r\n        ArgumentNames : [ 'money'],\r\n        ArgumentDescriptions : ['éé¢å­ç¬¦ä¸²'],\r\n        Function: function(money:String) {\r\n            // const real = realValue.split('/');\r\n            // const disPlay = disPlayValue.split('/');\r\n\r\n            // if (real.length === disPlay.length) {\r\n            //     const enumIntValue = enumObject.toString();\r\n            //     const index = real.findIndex(x => x === enumIntValue);\r\n\r\n            //     if (index > -1) {\r\n            //         return disPlay[index];\r\n            //     }\r\n            // }\r\n\r\n            // return '';\r\n        },\r\n    };\r\n\r\n        \r\n    /**\r\n     * å°Doubleè½¬åä¸ºBigDecimal\r\n     */\r\n    ConvertDoubleToBigDecimal = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'ConvertDoubleToBigDecimal',\r\n        Description : 'å°Doubleè½¬åä¸ºBigDecimal',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ¾ç¤ºå¼',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'money',],\r\n        ArgumentDescriptions : ['doubleç±»åçéé¢'],\r\n        Function: function(money:Number) {\r\n            // const real = realValue.split('/');\r\n            // const disPlay = disPlayValue.split('/');\r\n\r\n            // if (real.length === disPlay.length) {\r\n            //     const enumIntValue = enumObject.toString();\r\n            //     const index = real.findIndex(x => x === enumIntValue);\r\n\r\n            //     if (index > -1) {\r\n            //         return disPlay[index];\r\n            //     }\r\n            // }\r\n\r\n            // return '';\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°Doubleè½¬åä¸ºBigDecimal\r\n     */\r\n    SubStringMoney = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'SubStringMoney',\r\n        Description : 'æç§ä½ç½®æªåéé¢æ°å¼',\r\n        TypeOfFunction : 'string',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æªåçéé¢ï¼ä¾å¦ï¼SubStringMoney(\"1232.32\",\"-1\")è¿å3ï¼',\r\n        ArgumentTypes : [Number,String,Boolean],\r\n        ArgumentNames : [ 'money','position','isZeroShow'],\r\n        ArgumentDescriptions : ['stringç±»åçéé¢','stringæªåçä½ç½®ï¼å°æ°ç¹å¾å·¦ä½ç½®æ¯1,2,3ä¾æ¬¡ç±»æ¨ï¼å¾å³æ¯-1,-2ä¾æ¬¡ç±»æ¨ï¼'],\r\n        Function: function(money:String,position: String,isZeroShow: boolean) {\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°Doubleè½¬åä¸ºBigDecimal\r\n     */\r\n    SubDoubleMoney = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'SubDoubleMoney',\r\n        Description : 'æç§ä½ç½®æªåéé¢æ°å¼',\r\n        TypeOfFunction : 'string',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æªåçéé¢ï¼ä¾å¦ï¼SubStringMoney(\"1232.32\",\"3\")è¿å2ï¼',\r\n        ArgumentTypes : [Number,String,Boolean],\r\n        ArgumentNames : [ 'money','position','isZeroShow'],\r\n        ArgumentDescriptions : ['doubleç±»åçéé¢','stringç±»åæªåçä½ç½®ï¼å°æ°ç¹å¾å·¦ä½ç½®æ¯1,2,3ä¾æ¬¡ç±»æ¨ï¼å¾å³æ¯-1,-2ä¾æ¬¡ç±»æ¨ï¼'],\r\n        Function: function(money:Number,position: String,isZeroShow: boolean) {\r\n        },\r\n    };\r\n}","import { Injectable } from '@angular/core';\r\nimport { PrintFunctionsOfFiltervalue } from './cloudprint.function.filtervalue';\r\nimport { PrintFunctionsOfFormat } from './cloudprint.function.format';\r\nimport { Subject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { PrintFunctionsOfConvert } from './cloudprint.function.convert';\r\n\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n@Injectable()\r\nexport class CloudprintFunctionRegister {\r\n\r\n  private httpoptions = {};\r\n\r\n  constructor(private http: HttpClient) { \r\n    this.httpoptions['headers'] = {\r\n      SessionId:'',\r\n      'Content-Type':'application/json'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * åå§åèªå®ä¹å½æ°\r\n   */\r\n  public initCustomFunction(configUrl) {\r\n\r\n    // åç½®å½æ°-æ°å¼è¿æ»¤\r\n    const funcs = new PrintFunctionsOfFiltervalue();\r\n    // åç½®å½æ°-æ ¼å¼å\r\n    const funcFormat = new PrintFunctionsOfFormat();\r\n    // åç½®å½æ°-æ ¼å¼å\r\n    const funcConvert = new PrintFunctionsOfConvert();\r\n\r\n    // è¿éé»è®¤çGSPåç½®å½æ°åç»ä¸ºGSP\r\n    if (Stimulsoft.Report.Dictionary.StiFunctions.getFunctions('IGixFucs').length === 0) {\r\n        // tslint:disable-next-line:forin\r\n        for (const f in funcs) {\r\n            const func = funcs[f];\r\n            Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n              func.Category,\r\n              func.GroupFunctionName,\r\n              func.FunctionName,\r\n              func.Description,\r\n              func.TypeOfFunction,\r\n              func.ReturnType,\r\n              func.ReturnDescription,\r\n              func.ArgumentTypes,\r\n              func.ArgumentNames,\r\n              func.ArgumentDescriptions,\r\n              func.Function\r\n              );\r\n        }\r\n\r\n        // tslint:disable-next-line:forin\r\n        for (const f in funcFormat) {\r\n          const func = funcFormat[f];\r\n          Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n            func.Category,\r\n            func.GroupFunctionName,\r\n            func.FunctionName,\r\n            func.Description,\r\n            func.TypeOfFunction,\r\n            func.ReturnType,\r\n            func.ReturnDescription,\r\n            func.ArgumentTypes,\r\n            func.ArgumentNames,\r\n            func.ArgumentDescriptions,\r\n            func.Function);\r\n        }\r\n\r\n        // tslint:disable-next-line:forin\r\n        for (const f in funcConvert) {\r\n          const func = funcConvert[f];\r\n          Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n            func.Category,\r\n            func.GroupFunctionName,\r\n            func.FunctionName,\r\n            func.Description,\r\n            func.TypeOfFunction,\r\n            func.ReturnType,\r\n            func.ReturnDescription,\r\n            func.ArgumentTypes,\r\n            func.ArgumentNames,\r\n            func.ArgumentDescriptions,\r\n            func.Function);\r\n        }\r\n    }\r\n\r\n\r\n    // èªå®ä¹å½æ°todo:æç»èªå®ä¹å½æ°ä»åå°åéç½®æä»¶éçè§£æ\r\n    return this.http.get(configUrl,this.httpoptions).toPromise()\r\n    .then((data:[]) => {\r\n      if(data && data.length>0){\r\n        return this.addJsFuncPlugins(-1, data)\r\n        .then(() => {\r\n          if (!data) {\r\n            return;\r\n          }\r\n          const allFuncs = [];\r\n          // tslint:disable-next-line:forin\r\n          if(data.length>0){\r\n            for (const i in data) {\r\n              allFuncs.push(window[(data[i] as any).key]);\r\n            }\r\n          }\r\n\r\n  \r\n          \r\n          if (Stimulsoft.Report.Dictionary.StiFunctions.getFunctions('CustomFucs').length === 0 && allFuncs.length>0) {\r\n            // tslint:disable-next-line:forin\r\n            for (const f in allFuncs) {\r\n                const item = allFuncs[f];\r\n                // tslint:disable-next-line:forin\r\n                for (const f2 in item) {\r\n                  const func = item[f2];\r\n                  Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n                    'CustomFucs',\r\n                    func.GroupFunctionName,\r\n                    func.FunctionName,\r\n                    func.Description,\r\n                    func.TypeOfFunction,\r\n                    func.ReturnType,\r\n                    func.ReturnDescription,\r\n                    func.ArgumentTypes,\r\n                    func.ArgumentNames,\r\n                    func.ArgumentDescriptions,\r\n                    func.Function);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ·»å jsä¸å¡å½æ°æä»¶\r\n   */\r\n  private addJsFuncPlugins(i, data) {\r\n    if (!data && data.length==0) {\r\n      const sub = new Subject<any>();\r\n      sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n      return sub.toPromise();\r\n    }\r\n\r\n    const loader = window['System'];\r\n    if (i < data.length - 1) {\r\n      i++;\r\n      this.addJsFuncPlugins(i, data);\r\n    }\r\n    return loader.import(data[i].path);\r\n  }\r\n\r\n}\r\n","export class Config{\r\n    public static PRINT_SU = 'Prt';\r\n}\r\n","import { Config } from '../entitys/config';\r\n\r\nexport const Urls = {\r\n    // ç¬¬ä¸æ¹åºç¨é½ç»ä¸èµ°èªå·±æå¡ç«¯è½¬è°\r\n    \r\n\r\n    /** äºæå°çåºå°å*/\r\n    CloudPrintBaseUrl: '/api/runtime/'+Config.PRINT_SU+'/v1.0/service',\r\n    CloudPrintDimensionUrl: '/api/runtime/'+Config.PRINT_SU+'/v1.0/demensionservice',\r\n    CloudPrintDeviceUrl: '/api/runtime/'+Config.PRINT_SU+'/v1.0/device',\r\n\r\n    /**æ ¹æ®æ°æ®æºè·åæ ¼å¼ */\r\n    GetPrintFormatByDataSrouceId : '/GetPrintFormatByDataSrouceId?',\r\n    \r\n    /**æ ¹æ®æ°æ®æºåç»´åº¦è·åæ ¼å¼*/\r\n    GetPrintFormatByDataSrouceAndDimension : '/GetPrintFormatByDataSrouceAndDimension?',\r\n\r\n    /**è·åæ ¼å¼åæå°è®¾å¤ */\r\n    GetPrintFormatAndDevice: '/getPrintFormatAndDevice?',\r\n    GetPrintDevice: '/getPrintDevice?',\r\n\r\n    /**ä¿å­æ ¼å¼ */\r\n    SavePrintFormat : '/SavePrintFormat',\r\n\r\n    /**ä¿å­æ ¼å¼ */\r\n    SavePrintFormatWithRes : '/savePrintFormatWithRes',\r\n\r\n    /**å é¤æå®ç»´åº¦ */\r\n    DeletePrintFormat : '/DeletePrintFormat',\r\n\r\n    /**è·åæå®ä¸å¡å¯¹è±¡ä¸çæå°æ°æ®æº */\r\n    GetDataSourceByBOId : '/GetDataSourceByBOId?',\r\n\r\n    CreatePrintFormatWithBE : '/CreatePrintFormatWithBE?',\r\n\r\n    CreatePrintFormatWithVO : '/CreatePrintFormatWithVO?',\r\n\r\n    CreatePrintFormatWithBO : '/CreatePrintFormatWithBO?',\r\n\r\n    CreatePrintFormatWithSchema: '/CreatePrintFormatWithSchema',\r\n    \r\n\r\n    /**å è½½å·²ææ ¼å¼API*/\r\n    LoadPrintFormatById: '/GetPrintFormatById?',\r\n\r\n    LoadNewSourcePrintFormatById:'/getNewSourcePrintFormatById?',\r\n\r\n    LoadNewSourcePrintFormatByIdAndLang:'/getNewSourcePrintFormatByIdAndLang?',\r\n\r\n    /**å è½½æå°æ°æ®API*/\r\n    LoadPrintData: '/GetPrintData?',\r\n\r\n    /**è·åè®¾è®¡å¨é¡µé¢*/\r\n    GetDesigerHtml: '/GetDesigerHtml',\r\n\r\n    /**è·åæ©å±çjsä¸å¡å½æ°*/\r\n    GetCustomJsFunc: '/GetCustomJsFunc',\r\n\r\n    /**æå°API*/\r\n    PrintSingleById: '/OutputBEData?',\r\n    PrintSingleByFilter: '/OutputBEDataWithFilter?',\r\n    PrintMultiById:'/printMultiById?',\r\n    PrintMultiByFilter:'/printMultiByFilter?',\r\n    PrintSingleBOData: '/OutputBOData?',\r\n    /** æå°æµè¯æ°æ®ï¼ç¨äºè®¾è®¡æ¶é¢è§ */\r\n    PrintTestData:'/printTestData?',\r\n    /** è§¦åæå°äºä»¶ */\r\n    SendPrintEvent:'/sendPrintEvent?',\r\n    PrintAttachment:'/printAttachment?',\r\n    IsRemotePrint:'/isRemotePrint?',\r\n    GetEnableFonts:'/fonts?'\r\n};\r\n","import { SourceType } from './enums/sourceType';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { SysOrgType } from './enums/sysorgtype';\r\n\r\nexport class PrintFormat{\r\n    constructor(){\r\n        this.nameMap = {};\r\n    }\r\n    //#region è¿é¨åæ¯è·åç«¯å®ä½ç±»å¯¹åºçå±æ§ï¼æä»¥é¦å­æ¯å¤§åäº\r\n    /** æå°åæ°æ®id */\r\n    id: string;\r\n    /** æå°åæ°æ®ç¼å· */\r\n    code: string;\r\n    /** æå°åæ°æ®åç§° */\r\n    name: string;\r\n    name_chs:string;\r\n    name_en:string;\r\n    /** å¤è¯­åç§°å¯¹è±¡ */\r\n    nameMap={};\r\n\r\n    /** ä¸å¡å¯¹è±¡id */\r\n    bizObjectId: string;\r\n    /** æ ¼å¼åå®¹ */\r\n    content: string;\r\n    /** æ°æ®æºId */\r\n    dataSourceId: string;\r\n    /** æ°æ®Schema */\r\n    dataSchema: any;\r\n\r\n    /** åå§åè¯­è¨ */\r\n    originLanguage: string;\r\n\r\n    /** è¯­è¨ */\r\n    language: string;\r\n\r\n    /** åå»ºäºº */\r\n    creator: string;\r\n\r\n    /** åå»ºæ¶é´ */\r\n    createdTime: Date;\r\n\r\n    /** æåä¿®æ¹äºº */\r\n    lastModifier: string;\r\n\r\n    /** æåä¿®æ¹æ¶é´ */\r\n    lastModifiedTime: Date;\r\n    /** å®ä½ç±»schemaæå¨çdll */\r\n    entityDll: string;\r\n    /** å®ä½ç±»schemaæå¨çclass */\r\n    entityClass: string;\r\n    //#endregion\r\n\r\n    // æ°æ®æºåæ°æ®å¯¹è±¡\r\n    sourceMetadata: any;\r\n    // æ¯å¦ä½¿ç¨æ¨¡æ¿\r\n    isUseTemplate: boolean;\r\n    /**\r\n     * æ°æ®æºç±»å\r\n     * BEï¼GSPBusinessEntity\r\n     * EF: EFCoreçå®ä½ç±»\r\n     * VOï¼GSPViewModel\r\n     */\r\n    sourceType: SourceType;\r\n\r\n    sysFormat: boolean;\r\n\r\n    sysOrgType: SysOrgType;\r\n\r\n    currentLanguage;\r\n\r\n    publicFormat: boolean;\r\n\r\n    billcategoryId:string;\r\n\r\n    /**\r\n     * ç»´åº¦åéid\r\n     */\r\n    distributeId: string;\r\n    /**\r\n     * ç»´åº¦ä¸\r\n     */\r\n    firstDimensionVal: string;\r\n\r\n    /**\r\n     * ç»´åº¦äº\r\n     */\r\n    secondDimensionVal: string;\r\n\r\n    // /**\r\n    //  * ä¿å­åäºä»¶\r\n    //  */\r\n    // onSaveReportEvent: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    // /**\r\n    //  * éåºåäºä»¶\r\n    //  * å¯ç¨äºéæ¯èµæº\r\n    //  */\r\n    // onExitEvent: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n}\r\n","export class DataValidator{\r\n\r\n    static checkForEmptyString(obj:String, s:String)\r\n    {\r\n        if(obj || obj.length===0)\r\n        {\r\n            throw new Error(s+'ä¸ºç©º');\r\n        }\r\n    }\r\n\r\n    static checkForNullReference(obj:Object, s:String)\r\n    {\r\n        if(obj == null)\r\n        {\r\n            throw new Error(s+'ä¸ºnull');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¹æ³æ å¿ä½æ ¡éª\r\n     */\r\n    static checkFlag(flag: string) {\r\n        if (flag && flag === 'CloudPrint') {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ ¡éªappUrl\r\n     */\r\n    static checkAppUrl(url) {\r\n        if (!url) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { PrintFormat } from '../entitys/printFormat';\r\nimport { Urls } from '../utils/cloudprint.Urls';\r\nimport { PrintEntity } from '../entitys/printEntity';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Utils } from '../utils/cloudprint.utils';\r\nimport { Subject } from 'rxjs';\r\nimport { SourceOptions } from '../entitys/datasourceoptions/sourceOptions';\r\nimport { OutputOptions } from '../entitys/outputoptions/outputOptions';\r\nimport { SourceFilterOptions } from '../entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from '../entitys/datasourceoptions/booptions';\r\nimport { Config } from '../entitys/config';\r\nimport { DataValidator } from '../utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from '../entitys/datasourceoptions/basesourceoptions';\r\n\r\n@Injectable()\r\nexport class PrintFormatService {\r\n\r\n    printEntity = new PrintEntity();\r\n\r\n    private curSu = Config.PRINT_SU;\r\n    \r\n    constructor(private httpClient: HttpClient) {\r\n    }\r\n\r\n    createPrintFormatWithBE(beId: string): Promise<any> {\r\n        const url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBE+'beId='+ beId + '&su=' + this.curSu;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url ,httpoptions).toPromise();\r\n    }\r\n\r\n    createPrintFormatWithVO(voId: string): Promise<any> {\r\n\r\n        const url = this.printEntity.appUrl + Urls.CreatePrintFormatWithVO+'voId=' + voId + '&su=' + this.curSu;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise();\r\n    }\r\n    \r\n\r\n    createPrintFormatWithBO(biznessObjectClassInfo: string): Promise<any> {\r\n\r\n        const url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBO+'biznessObjectClassInfo=' + biznessObjectClassInfo + '&su=' + this.curSu;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise();\r\n    }\r\n    \r\n    \r\n    getDataSourceByBOId(boId: string): Promise<any>{\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        const url = this.printEntity.appUrl + Urls.GetDataSourceByBOId;\r\n        return this.httpClient.get(url + 'boId=' +  boId + '&su='+this.curSu).toPromise();\r\n    }\r\n\r\n    getFormatBySourceId(dataSourceId:string) : Promise<any>{\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(this.printEntity.appUrl + Urls.GetPrintFormatByDataSrouceId+'dataSrouceId=' + dataSourceId+'&su='+this.curSu,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getPrintFormatByDataSrouceAndDimension(billCategoryId,sourceId,firstDimension,secondDimension) : Promise<any>{\r\n\r\n        firstDimension = firstDimension || '';\r\n        secondDimension = secondDimension || ''\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(this.printEntity.appUrl + Urls.GetPrintFormatByDataSrouceAndDimension+'billCategoryId='+billCategoryId+'&sourceId='+sourceId+'&firstDimension='+firstDimension+'&secondDimension='+secondDimension+'&su='+this.curSu,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getPrintFormatAndDevice(billCategoryId,sourceId,firstDimension,secondDimension) : Promise<any>{\r\n\r\n        firstDimension = firstDimension || '';\r\n        secondDimension = secondDimension || ''\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        const data = {\r\n            billCategoryId:billCategoryId,\r\n            sourceId:sourceId,\r\n            firstDimension:firstDimension,\r\n            secondDimension:secondDimension\r\n        }\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.GetPrintFormatAndDevice+'su='+this.curSu, data,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getPrintDevice() : Promise<any>{\r\n\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(Urls.CloudPrintDeviceUrl + Urls.GetPrintDevice+'su='+this.curSu, null,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getFormatByFormatId(formatId:string) : Promise<any>{\r\n        const url = this.printEntity.appUrl + Urls.LoadPrintFormatById+'metadataId=' + formatId+'&su='+this.curSu;\r\n        // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºidï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼\r\n     */\r\n    getNewSourceFormatByFormatId(formatId:string): Promise<any> {\r\n        const url = Urls.CloudPrintBaseUrl + Urls.LoadNewSourcePrintFormatById;\r\n\r\n        return this.httpClient.get(url + 'formatId=' +  formatId).toPromise();\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºid,è¯­è¨ï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼\r\n     */\r\n    getNewSourceFormatByFormatIdAndLang(formatId:string,lang:string): Promise<any> {\r\n        const url = Urls.CloudPrintBaseUrl + Urls.LoadNewSourcePrintFormatByIdAndLang;\r\n\r\n        return this.httpClient.get(url + 'formatId=' +  formatId +'&lang='+lang).toPromise();\r\n    }\r\n\r\n    save(data: PrintFormat) : Promise<any> {\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.SavePrintFormat+'?su='+this.curSu, data,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    saveWithRes(data: PrintFormat) : Promise<any> {\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.SavePrintFormatWithRes+'?su='+this.curSu, data,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    remove(data: string) {\r\n        // const body = { 'printFormatId':data};\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.DeletePrintFormat+'/'+data+'?su='+this.curSu, null,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * å è½½æ ¼å¼\r\n     * @param reportID id\r\n     */\r\n    loadFormat(reportID: string, flag: string): Promise<any> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n        /**\r\n         * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.formatèµå¼äº\r\n         */\r\n        if (this.printEntity.format) {\r\n            const sub = new Subject<any>();\r\n            sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n            return sub.toPromise()\r\n            .then(() => {\r\n                this.printEntity.printFormat = this.printEntity.printFormat || new PrintFormat();\r\n                this.printEntity.printFormat.content = this.printEntity.format;\r\n                return this.printEntity.format;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°CreatePrintFormatWithBE,CreatePrintFormatWithSchemaåGetPrintFormatByIdè¿ä¿©ä¸ªgetè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        let url: string ;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        if (reportID && reportID.length > 0) {// å è½½å·²æçæ ¼å¼\r\n            url = this.printEntity.appUrl + Urls.LoadPrintFormatById+'metadataId=' + reportID+'&su='+this.curSu;\r\n            // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n            return this.httpClient.get(url,httpoptions).toPromise()\r\n            .then((data: any) => {\r\n                // å è½½äºæ ¼å¼åææ ¼å¼è®°ä½\r\n                this.printEntity.printFormat = data;\r\n                this.printEntity.format = data.content; \r\n                return data.content;\r\n            });\r\n        } else {\r\n            console.log(this.printEntity.format);\r\n            console.log(reportID);\r\n            console.error('æ ¼å¼idä¸ºç©ºï¼æ æ³è·åæ ¼å¼ä¿¡æ¯');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å è½½æ°æ®\r\n     * @param dataIds è¦å è½½çæ°æ®Id\r\n     */\r\n    loadData(dataIds: string, flag: string): Promise<any> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n        /**\r\n         * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.dataèµå¼äº\r\n         */\r\n        if (this.printEntity.data) {\r\n            const sub = new Subject<any>();\r\n            sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n            return sub.toPromise()\r\n            .then(() => {\r\n                return this.printEntity.data;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°GetPrintDataè¿ä¸ªgetè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(this.printEntity.appUrl + Urls.LoadPrintData + 'dataIds=' + dataIds+'&su='+this.curSu, httpoptions).toPromise()\r\n        .then((data2) => {\r\n            return data2;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * åæ ¼å¼æ°æ®idæ¸²ææå°\r\n     * GSåé¨/ç¬¬ä¸æ¹\r\n     * @param beOptions æ°æ®æºéé¡¹\r\n     * @param options å¯¼åºéé¡¹\r\n     * @param su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printSingleById(beOptions: SourceOptions, options: OutputOptions ,su:string,  flag): Promise<string> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            BEOptions: beOptions,\r\n            Options: options\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        if(!beOptions.ServiceUnit){\r\n            return this.getSuByFormatId(beOptions.FormatId)\r\n            .then((sucode)=>{\r\n                beOptions.ServiceUnit = sucode;\r\n                su = su || beOptions.ServiceUnit;\r\n                return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleById + 'su='+su, body, httpoptions).toPromise()\r\n                .then((ret: any) => {\r\n                    return ret;\r\n                });\r\n            });\r\n        }else{\r\n            su = su || beOptions.ServiceUnit;\r\n            return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleById + 'su='+su, body, httpoptions).toPromise()\r\n            .then((ret: any) => {\r\n                return ret;\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åæ ¼å¼è¿æ»¤æ¡ä»¶æ¸²ææå°\r\n     * GSåé¨/ç¬¬ä¸æ¹\r\n     * @param beOptions BEFilteréé¡¹\r\n     * @param options å¯¼åºéé¡¹\r\n     * @param su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printSingleByFilter(beOptions: SourceFilterOptions, options: OutputOptions,su:string, flag): Promise<string> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            BEOptions: beOptions,\r\n            Options: options\r\n        };\r\n\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        if(!beOptions.ServiceUnit){\r\n            return this.getSuByFormatId(beOptions.FormatId)\r\n            .then((sucode)=>{\r\n                beOptions.ServiceUnit = sucode;\r\n                su = su || beOptions.ServiceUnit;\r\n                return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleByFilter + 'su='+su, body, httpoptions).toPromise()\r\n                .then((ret: any) => {\r\n                    return ret;\r\n                });\r\n            });\r\n        }else{\r\n            su = su || beOptions.ServiceUnit;\r\n            return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleByFilter + 'su='+su, body, httpoptions).toPromise()\r\n            .then((ret: any) => {\r\n                return ret;\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printMultiById(beOptionsList: Array<SourceOptions>, options: OutputOptions, su:String , flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            sourceOptionsList: beOptionsList,\r\n            options: options\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.PrintMultiById + 'su='+su, body, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printMultiByFilter(beOptionsList: Array<SourceFilterOptions>, options: OutputOptions, su:String , flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            sourceFilterOptionsList: beOptionsList,\r\n            options: options\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.PrintMultiByFilter + 'su='+su, body, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ¸²ææµè¯æ°æ®\r\n     */\r\n    printTestData(formats:String, datas:String , flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            format: formats,\r\n            data: JSON.stringify(datas),\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.PrintTestData + 'su='+this.curSu, body, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * è§¦åæå°äºä»¶\r\n     */\r\n    sendPrintEvent(data, flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        // const body = {\r\n        //     formatid:formatid,\r\n        //     su:su,\r\n        // };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.SendPrintEvent + 'su='+this.curSu, data, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    async isRemotePrint() : Promise<any>{\r\n        const url = this.printEntity.appUrl + Urls.IsRemotePrint+'su='+this.curSu;\r\n        // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        // var httpops = Object.assign({},httpoptions);\r\n        // httpops['responseType']=\"text/html\";\r\n\r\n        return await this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    } \r\n\r\n    async getEnableFonts() : Promise<any>{\r\n        const url = this.printEntity.appUrl + Urls.GetEnableFonts+'su='+this.curSu;\r\n        // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return await this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    } \r\n\r\n\r\n    /**\r\n     * éè¿æå°æ ¼å¼ï¼è·åboï¼å¨è·åsuï¼è¿æ¯ä¸ä¸ªä¸´æ¶æ¹æ¡ï¼\r\n     * @param id \r\n     */\r\n    private getSuByFormatId(formatId): Promise<string> {\r\n        const url = this.printEntity.appUrl +'/getSuByFormatId?formatId=' + formatId+'&su=cloudprint';\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'text/html';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    }\r\n \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n// @Injectable({\r\n//   providedIn: 'root'\r\n// })\r\n/**\r\n * ä¸ç¨äºï¼ä½æ¯å¾ä¿çï¼ä¸ç¶çè¯å«äººç¨äºè¿ä¸ªnpmåçå¾éæ°æå\r\n */\r\n@Injectable()\r\nexport class CloudprintdesignerService {\r\n  // printEntity = new PrintEntity();\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // /**\r\n  //  * å è½½Designerçç»æ\r\n  //  * @param reportID id\r\n  //  */\r\n  // loadFormat(reportID: string, flag: string): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.formatèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.format) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       this.printEntity.printFormat = this.printEntity.printFormat || new PrintFormat();\r\n  //       this.printEntity.printFormat.content = this.printEntity.format;\r\n  //       return this.printEntity.format;\r\n  //     });\r\n  //   }\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°CreatePrintFormatWithBE,CreatePrintFormatWithSchemaåGetPrintFormatByIdè¿ä¿©ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   let url: string ;\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n\r\n  //   if (reportID && reportID.length > 0) {// å è½½å·²æçæ ¼å¼\r\n  //     url = this.printEntity.appUrl + Urls.LoadPrintFormatById + reportID;\r\n  //     // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n  //     return this.http.get(url,httpoptions).toPromise()\r\n  //     .then((data: any) => {\r\n  //       // å è½½äºæ ¼å¼åææ ¼å¼è®°ä½\r\n  //       this.printEntity.printFormat = data;\r\n  //       return data.content;\r\n  //     });\r\n  //   } else {// å è½½æ°æ ¼å¼\r\n  //     const body = {};\r\n  //     // CreatePrintFormatWithBEåCreatePrintFormatWithBOæ¯postè¯·æ±\r\n\r\n  //     if (this.printEntity.schemaType === SchemaType.BO) {// bo\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBO + this.printEntity.format;\r\n  //       return this.http.get(url, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret: any) => {\r\n  //         return ret.format;\r\n  //       });\r\n\r\n  //     } else {// schema\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithSchema;\r\n  //       body['printDataSchemaView'] = this.printEntity.format;\r\n  //       return this.http.post(url, body, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret) => {\r\n  //         return ret;\r\n  //       });\r\n  //     }\r\n  //   }\r\n\r\n  // }\r\n\r\n  // /**\r\n  //  * å è½½designeræ°æ®\r\n  //  * @param dataIds è¦å è½½çæ°æ®Id\r\n  //  */\r\n  // loadData(dataIds: string, flag: string): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.dataèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.data) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       return this.printEntity.data;\r\n  //     });\r\n\r\n  //   }\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°GetPrintDataè¿ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.get(this.printEntity.appUrl + Urls.LoadPrintData + dataIds, httpoptions).toPromise()\r\n  //   .then((data2) => {\r\n  //     return data2;\r\n  //   });\r\n  // }\r\n\r\n\r\n  // // /**\r\n  // //  * ä¿å­å½åçæ ¼å¼\r\n  // //  * @param id æ ¼å¼id/æ ¼å¼åæ°æ®id\r\n  // //  * @param mrt å½åçè®¾è®¡å¨æ ¼å¼\r\n  // //  */\r\n  // // saveReportFormat(printFormat: PrintFormat,flag: string): Promise<string> {\r\n  // //   if (Utils.checkFlag(flag) === false) {\r\n  // //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  // //     return null;\r\n  // //   }\r\n\r\n  // //   // const body = {\r\n  // //   //   PrintFormat: printFormat,\r\n  // //   // };\r\n\r\n  // //   /**\r\n  // //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  // //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°SavePrintFormatè¿ä¸ªgetè¯·æ±æ¥å£\r\n  // //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  // //    */\r\n  // //   const httpoptions = {};\r\n  // //   httpoptions['headers'] = {\r\n  // //     SessionId: this.printEntity.sessionId || '',\r\n  // //     'Content-Type':'application/json'\r\n  // //   };\r\n\r\n\r\n  // //   return this.http.post(this.printEntity.appUrl + Urls.SavePrintFormat, body, httpoptions)\r\n  // //   .toPromise()\r\n  // //   .then((ret: any) => {\r\n  // //     return ret;\r\n  // //   });\r\n  // // }\r\n  \r\n}\r\n","// @dynamic\r\nexport class Utils {\r\n\r\n    /**\r\n     * å¤æ­æ¯å¦PCç«¯ or ç§»å¨ç«¯\r\n     * true:PC\r\n     * false:Mobile\r\n     */\r\n    public static isPC(): boolean {\r\n\r\n        if ((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {\r\n            return false;  // ç§»å¨ç«¯\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public static uuid(): string {\r\n        return [this.gen(2), this.gen(1), this.gen(1), this.gen(1), this.gen(3)].join('-');\r\n    }\r\n\r\n    public static renderPdfByByte(rendedFormat,ele){\r\n        if (rendedFormat) {\r\n\r\n          const lock = setInterval(function() {\r\n            if (ele) { \r\n                const v = document.getElementById('viewframe') as any;\r\n                if(v){\r\n                    const filebtn = v.contentWindow.document.getElementById('openFile');\r\n                    const printbtn =  v.contentWindow.document.getElementById('print');\r\n                    const downbtn =  v.contentWindow.document.getElementById('download');\r\n                    let file = false;\r\n                    let down = false;\r\n                    let print = false;\r\n                    if(filebtn) {\r\n                        filebtn.style.display='none';\r\n                        file = true;\r\n                    }\r\n                    if(downbtn) {\r\n                        downbtn.style.display='none';\r\n                        down = true;\r\n                    }\r\n                    if(printbtn) {\r\n                        printbtn.style.display='none';\r\n                        print = true;\r\n                    }\r\n    \r\n                    if(file && down && print){\r\n                        clearInterval(lock);\r\n                    }\r\n                }else{\r\n                    const binaryData = [];\r\n                    // binaryData.push(self.convertBase64ToUint8Array(rendedFormat));\r\n                    binaryData.push(new Uint8Array(rendedFormat));\r\n                    this.url =window.URL.createObjectURL(new Blob(binaryData, {type:'application/pdf'}));\r\n                    // éè¿pdfjsæ¥é¢è§pdf\r\n                    ele.innerHTML = '<iframe id=\"viewframe\" src=\"/platform/common/web/pdfjs/viewer.html?file='+encodeURIComponent(this.url)+'\" height=\"100%\" width=\"100%\"></iframe>';\r\n                    ele.hidden = false;\r\n                }\r\n            }\r\n          }, 200);\r\n        }\r\n    }\r\n    \r\n    private static gen(count: number) {\r\n        let out = '';\r\n        for (let i = 0; i < count; i++) {\r\n            // tslint:disable-next-line:no-bitwise\r\n            out += (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return out;\r\n    }\r\n\r\n}\r\n","import { Component, OnInit, OnDestroy, ViewChild, ViewContainerRef } from '@angular/core';\r\n// import { CloudprintdesignerService } from './cloudprint-designer.service';\r\nimport { PrintEntity } from '../entitys/printEntity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { CloudprintFunctionRegister } from '../functions/cloudprint.function.register';\r\nimport { Urls } from '../utils/cloudprint.Urls';\r\nimport { PrintFormatService } from '../services/printFormatService';\r\nimport { CloudprintdesignerService } from './cloudprint-designer.service';\r\nimport { Utils } from '../utils/cloudprint.utils';\r\nimport { LoadingService } from '@farris/ui-loading';\r\n// import {DialogService} from '@progress/kendo-angular-dialog';\r\n// import * as Stimulsoft from 'stimulsoft-reports-js';\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n@Component({\r\n  selector: 'app-cloudprint-designer',\r\n  templateUrl: './cloudprint-designer.component.html',\r\n  styleUrls: ['./cloudprint-designer.component.css'],\r\n  // providers: [\r\n  //   CloudprintdesignerService,\r\n  //   NotifyService\r\n  // ],\r\n})\r\nexport class CloudprintDesignerComponent implements OnInit, OnDestroy {\r\n  // private options: any;\r\n  /** è®¾è®¡å¨å¯¹è±¡ */\r\n  private designer: any;\r\n\r\n  private docTitle: string;\r\n\r\n  /** æå°åæ°å®ä½ */\r\n  printEntity = new PrintEntity();\r\n  // localeid:string\r\n\r\n  constructor(private server: CloudprintdesignerService,\r\n              private formatSrv: PrintFormatService,\r\n              private notifyService: NotifyService,\r\n              private functionRegister: CloudprintFunctionRegister,\r\n              private editsrv: PrintFormatService,\r\n              private loadSrv: LoadingService,\r\n              ) {\r\n\r\n    Stimulsoft.Base.StiLicense.key = '6vJhGtLLLz2GNviWmUTrhSqnOItdDwjBylQzQcAOiHmUA7xxS8GDDAme3ObyU+jZAO9YGs0yUwkFhPz4MWHZaEdiyH' + \r\n        'ffzbOBGSAkqiNry5YZGU/0ZeiKWcHEB38tgR/zaXp8v+ktUiBOl5B2Dll4y33a3osXfKmsg7lHgK/JYlcS08G7Nggu' + \r\n        'H8vVnzvNulyD1uv6QdfRDQOP/FfeKHq3M70ZPvUspYpkCzGqP4nJJ5ktST13+f3E90Y0n1BkbAbYCI3JqheM988LYP' + \r\n        '2lmJ5mAzuV5t3ILzfUehp6/HIy8LPbzzVlU22X9I1t2xY6W1qsi/pKaXeAfJ0T5x/CUbywJ9JyKaTMwIUhDqUVIrle' + \r\n        'QbFvNFUrLznXCcd55QNngQjoC6Wx9CZ9ryjdPdp0dMfCC0exZXtQW0IR+lWjD9pdUkYPJWn5eACs0ToahpEvdwlW76' + \r\n        'eL5ufNRT6xYjBqlGQ/9VuV5LD9EROLqHxpucBoNPLl7s8ealNcm5seZjuR1iSiOPcqd05m3ellOoxBzSLWaB/sNMWT' + \r\n        'AOhBIWNv7dPOcq8KuAfwaJCkV3WTbQAhX2XJ';   \r\n          \r\n    this.printEntity.isUseMetaData = true;\r\n    // this.server.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.docTitle = document.title;\r\n    this.initDesigner();\r\n    console.log('å è½½è®¾è®¡å¨æå');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.printEntity.onExitEvent.emit();\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   *\r\n   * å¦ä¸ä»£ç æ¯cloudprint.service.tséçä»£ç ï¼å¨cloudprint.service.tsææ°çprintEntityï¼\r\n   *           æä»¥éè¦è°ç¨setPrintEntityæ¥åæ­¥\r\n   *           this.designercomponentRef.instance.setPrintEntity(this.printEntity)\r\n   *\r\n   */\r\n  setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.server.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®Designerçoptions\r\n   * @param options Designerçoptionså¯¹è±¡\r\n   */\r\n  private setOptions(options: any): void {\r\n    options.toolbar.showAboutButton = false;\r\n    // æä»¶tab\r\n    // options.toolbar.showFileMenu = false;\r\n    // æä»¶tabä¸çæé®\r\n    options.toolbar.showFileMenuAbout = false;\r\n    options.toolbar.showFileMenuClose = false;\r\n    options.toolbar.showFileMenuExit = false;\r\n    options.toolbar.showFileMenuInfo = false;\r\n    options.toolbar.showFileMenuNew = false;\r\n    // options.toolbar.showFileMenuOpen = false;\r\n    options.toolbar.showFileMenuOptions = false;\r\n    options.toolbar.showFileMenuReportSetup = false;\r\n    options.toolbar.showFileMenuSave = false;\r\n    // options.toolbar.showFileMenussSaveAs = false;\r\n    // é¢è§tab\r\n    // options.toolbar.showPreviewButton = false;\r\n    options.toolbar.showPublishButton = false;\r\n    // ä¿å­æé®\r\n    options.toolbar.showSaveButton = !(this.printEntity.state==1);\r\n    options.toolbar.showSetupToolboxButton = false;\r\n\r\n    // options.appearance.showReportTree = false;\r\n    options.appearance.showTooltipsHelp = false;\r\n    options.appearance.fullScreenMode = this.printEntity.isFullScreen || false;\r\n    // options.appearance.showSaveDialog = false;\r\n\r\n    // options.components.showBarCode = false;\r\n    // options.components.showChart = false;\r\n    // options.components.showCheckBox = false;\r\n    // options.components.showClone = false;\r\n    // options.components.showImage = false;\r\n    // options.components.showPanel = false;\r\n    // options.components.showRichText = false;\r\n    // options.components.showShape = false;\r\n    // options.components.showSubReport = false;\r\n    // options.components.showText = false;\r\n    // options.components.showTextInCells = false;\r\n    // options.components.showZipCode = false;\r\n\r\n    // options.crossBands.showCrossDataBand = false;\r\n    // options.crossBands.showCrossFooterBand = false;\r\n    // options.crossBands.showCrossGroupFooterBand = false;\r\n    // options.crossBands.showCrossGroupHeaderBand = false;\r\n    // options.crossBands.showCrossHeaderBand = false;\r\n    // options.crossBands.showCrossTab = false;\r\n\r\n    // options.bands.showChildBand = false;\r\n    // options.bands.showColumnFooterBand = false;\r\n    // options.bands.showColumnHeaderBand = false;\r\n    // options.bands.showDataBand = false;\r\n    // options.bands.showEmptyBand = false;\r\n    // options.bands.showFooterBand = false;\r\n    // options.bands.showGroupFooterBand = false;\r\n    // options.bands.showGroupHeaderBand = false;\r\n    // options.bands.showHeaderBand = false;\r\n    // options.bands.showHierarchicalBand = false;\r\n    // options.bands.showOverlayBand = false;\r\n    // options.bands.showPageFooterBand = false;\r\n    // options.bands.showPageHeaderBand = false;\r\n    // options.bands.showReportSummaryBand = false;\r\n    // options.bands.showReportTitleBand = false;\r\n    // options.bands.showTable = false;\r\n\r\n    options.dictionary.dataSourcesPermissions = Stimulsoft.Designer.StiDesignerPermissions.ModifyView;\r\n    options.dictionary.resourcesPermissions = Stimulsoft.Designer.StiDesignerPermissions.None;\r\n    options.dictionary.dataRelationsPermissions = Stimulsoft.Designer.StiDesignerPermissions.ModifyView;\r\n    options.dictionary.dataColumnsPermissions = Stimulsoft.Designer.StiDesignerPermissions.ModifyView;\r\n\r\n  }\r\n\r\n  /**\r\n   * åå§åDesignerçäºä»¶\r\n   */\r\n  private initEvents(): void {\r\n    const self = this;\r\n    // ä¿å­å\r\n    this.designer.onSaveReport = function(e) {\r\n\r\n      const temp = e.report.saveToJsonString();\r\n      const pages = this.report.pages.list;\r\n      // ä¿å­åäºä»¶\r\n      self.printEntity.onSaveReportEvent.emit(temp);\r\n      if(window.parent && window.parent['onSaveReportEvent']){\r\n        (window.parent as any).onSaveReportEvent({\r\n          format:temp,\r\n        });\r\n      }\r\n\r\n      // isUseMetaDataå½ä¸ªå¼å³å§ï¼å¤çè®¾ç½®ä¸ºfalseï¼ä»£è¡¨å¤çèªå·±å¤çä¿å­äº\r\n      if (self.printEntity.isUseMetaData) {\r\n        self.printEntity.printFormat.content = temp;\r\n\r\n        self.formatSrv.saveWithRes(self.printEntity.printFormat)\r\n        .then((format) => {\r\n\r\n          const msg  = Stimulsoft.Base.Localization.StiLocalization.get('Custom', 'sucSave');\r\n          self.notifyService.success(msg);\r\n          \r\n          self.printEntity.printFormat = format;\r\n          //åè°è®¢éæ ¼å¼idäºä»¶\r\n          self.printEntity.onGetPrintFormatIdEvent.emit(self.printEntity.printFormat.id);\r\n\r\n          //åè°æ ¼å¼ä¿å­åäºä»¶\r\n          self.printEntity.onSavedReportEvent.emit({\r\n            printFormat: self.printEntity.printFormat,\r\n          });\r\n\r\n          //åè°æ ¼å¼ä¿å­åäºä»¶\r\n          if(window.parent && window.parent['onSavedReportEvent']){\r\n            (window.parent as any).onSavedReportEvent({\r\n              saved: true,\r\n              format:self.printEntity.printFormat,\r\n            });\r\n          }\r\n\r\n        })\r\n        .catch((e)=> {\r\n          const msg  = Stimulsoft.Base.Localization.StiLocalization.get('Custom', 'failSave');\r\n          self.notifyService.error(msg);\r\n          self.printEntity.onGetPrintFormatIdEvent.emit('');\r\n          console.log(e);\r\n        });\r\n      }\r\n    };\r\n\r\n    // é¢è§å\r\n    this.designer.onPreviewReport = function(e) {  \r\n      const temp = e.report.saveToJsonString();\r\n      const ele = document.getElementById('StiDesigner_ViewerReportPanel');\r\n      ele.hidden = true;\r\n\r\n      self.loadSrv.show({\r\n        message: 'loading...',\r\n      });\r\n      self.editsrv.printTestData(temp,self.printEntity.data,'CloudPrint')\r\n      .then((data)=>{\r\n\r\n        const b = new Blob([data]);\r\n        const reader = new FileReader();\r\n        reader.readAsArrayBuffer(b);\r\n        reader.onload = function (e) {\r\n          const rendedFormat = reader.result as any;\r\n          Utils.renderPdfByByte(rendedFormat,ele);\r\n        };\r\n\r\n        self.loadSrv.close();\r\n      }); \r\n\r\n      return false;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ä¿å­åæ ¡éª\r\n   * @param pages æ¥è¡¨çpage\r\n   */\r\n  private checkBeforeSave(pages): boolean {\r\n    let isSave = true;\r\n    for (let i = 0; i < pages.count; i++) {\r\n      if (pages[i].components.count === 0) {\r\n        isSave = false;\r\n        break;\r\n      }\r\n    }\r\n    return isSave;\r\n  }\r\n\r\n  /**\r\n   * åå§åDesigner\r\n   */\r\n  private initDesigner(): Promise<void> {\r\n    return this.editsrv.getEnableFonts()\r\n    .then((fonts)=>{\r\n      // var temp = Stimulsoft.Base.StiFontCollection.getFontFamilies().filter(x=>x.name=='SimSun' || x.name=='SimHei' || x.name=='Arial');\r\n      //families æ¯ä¸ªåªè¯»å±æ§ï¼æ æ³èµå¼ï¼å¯ç´æ¥ä¿®æ¹å¶åé¨å¯¹è±¡çå¼_families\r\n      // Stimulsoft.System.Drawing.FontFamily.families.clear();\r\n      // Stimulsoft.System.Drawing.FontFamily._families=temp;\r\n      var fontsAll = [];\r\n      fonts.forEach(element => {\r\n        var copytemp = new Stimulsoft.System.Drawing.FontFamily(element)\r\n        fontsAll.push(copytemp);\r\n      });\r\n      Stimulsoft.System.Drawing.FontFamily._families=fontsAll;\r\n  \r\n      // Set full screen mode for the designer\r\n      const options = new Stimulsoft.Designer.StiDesignerOptions();\r\n      // Create the report designer with specified options\r\n      this.designer = new Stimulsoft.Designer.StiDesigner(options, 'StiDesigner', false);\r\n      this.designer.report = new Stimulsoft.Report.StiReport();\r\n  \r\n      // å½éåè®¾ç½®\r\n      this.initLocalizations();\r\n      // è®¾ç½®ä¸äºå±æ§\r\n      this.setOptions(options);\r\n      // æ³¨åäºä»¶\r\n      this.initEvents();\r\n      // å è½½è®¾è®¡å¨\r\n      return this.loadDesigner(this.printEntity.foramtId);\r\n    })\r\n    .catch(()=>{\r\n      this.notifyService.error(\"Load Enable Fonts Error\");\r\n    })\r\n  }\r\n\r\n  /**\r\n   * åå§åæ¬å°å\r\n   */\r\n  private initLocalizations() {\r\n    const loc = this.printEntity.language;\r\n\r\n    // è®¾ç½®æ¬å°åè¯­è¨ç¸å³\r\n    Stimulsoft.Base\r\n              .Localization\r\n              .StiLocalization\r\n              .addLocalizationFile('/platform/common/web/stimulsoft/languages/' + loc + '.xml', false, loc);\r\n    Stimulsoft.Base.Localization.StiLocalization.cultureName = loc;\r\n  }\r\n\r\n  /**\r\n   * åå§åèªå®ä¹å½æ°\r\n   */\r\n  private initCustomFunction() {\r\n    return this.functionRegister.initCustomFunction(this.printEntity.appUrl + Urls.GetCustomJsFunc);\r\n  }\r\n\r\n\r\n  /**\r\n   * å è½½Designer\r\n   * @param formatId æ ¼å¼id\r\n   */\r\n  private loadDesigner(formatId: string) {\r\n    // å è½½designerçschema\r\n    return this.formatSrv.loadFormat(formatId, 'CloudPrint')\r\n    .then((format) => {\r\n\r\n      this.designer.report.load(format);\r\n      // å è½½æ°æ®\r\n      return this.formatSrv.loadData(this.printEntity.dataId, 'CloudPrint');\r\n    })\r\n    .then((data2) => {\r\n      // å è½½æ°æ®\r\n      const dataSet = new Stimulsoft.System.Data.DataSet('Data');\r\n      console.log('ç»æ°æ®æºæ·»å æ°æ®');\r\n\r\n      dataSet.readJson(data2);\r\n      console.log('æ¸ç©ºæ¥è¡¨çæ°æ®æºï¼ä»¥ä¾¿éæ°èµå¼');\r\n      this.designer.report.dictionary.databases.clear();\r\n      this.designer.report.regData('Data', 'Data', dataSet);\r\n\r\n      // åå§åèªå®ä¹å½æ°\r\n      return this.initCustomFunction();\r\n    })\r\n    .then(() => {\r\n\r\n      // æ¸²æ\r\n      this.designer.renderHtml('designer');\r\n      // è®¾ç½®æ¸²æåçå±æ§\r\n      this.setOptionsAfterRend(this.designer);\r\n      // ä¿®æ¹stimulsoftæ¸²ææ¶è®¾å®çå·¥ä½åºçé»è®¤é«åº¦\r\n      document.getElementById('StiDesigner').style.height = this.printEntity.designerHeight;\r\n      // è°æ´å¤§å°\r\n      // this.designer.jsObject.ResizeDesigner();\r\n      document.title = this.docTitle;\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ¸²æåéè¦è®¾ç½®çå±æ§\r\n   * @param designer å½åçDesignerå¯¹è±¡\r\n   */\r\n  private setOptionsAfterRend(designer: any): void {\r\n    //å±è½ä¿å­æé®çå¼¹æ¡\r\n    designer.jsObject.options.report.properties.reportFile='report.mrt';\r\n\r\n    designer.jsObject.options.buttons.dictionaryActions.hidden = true;\r\n    designer.jsObject.options.buttons.dictionaryNewItem.hidden = true;\r\n    designer.jsObject.options.buttons.pageToolButton.hidden = true;\r\n    designer.jsObject.options.buttons.insertToolButton.hidden = true;\r\n    // å±æ§é¢æ¿çäºä»¶æé®\r\n    designer.jsObject.options.buttons.propertiesToolbarEventsTab.hidden=true;\r\n    // å±æ§é¢æ¿çäºä»¶tab\r\n    // designer.jsObject.options.buttons.propertiesToolbarEventsTab.hidden = true;\r\n    // å±æ§é¢æ¿çå±æ§tab\r\n    // designer.jsObject.options.buttons.propertiesToolbarPropertiesTab.hidden = true;\r\n    designer.jsObject.options.buttons.redoButton.hidden = true;\r\n    designer.jsObject.options.buttons.undoButton.hidden = true;\r\n    designer.jsObject.options.buttons.reportCheckerButton.hidden = true;\r\n    designer.jsObject.options.buttons.localizationButton.hidden = true;\r\n    designer.jsObject.options.buttons.resizeDesigner.hidden = true;\r\n\r\n    // é»è®¤éèworkpanel\r\n    designer.jsObject.options.workPanel.changeVisibleState(!1);\r\n    designer.jsObject.options.workPanel.visibleState = !1;\r\n\r\n    const viewer = designer.jsObject.options.viewerContainer.firstChild;\r\n    // viewer.jsObject.controls.menus.saveMenu.items[\"Html\"].style.display = \"none\";\r\n    // viewer.jsObject.controls.menus.saveMenu.items[\"separator2\"].style.display = \"none\";\r\n    // var toolbarTable = viewer.jsObject.controls.toolbar.firstChild;\r\n    // viewer.jsObject.controls.toolbar.removeChild(toolbarTable);\r\n    //é¢è§çé¢çå·¥å·æ \r\n    viewer.jsObject.controls.toolbar.style.display = 'none';\r\n    //é¢è§çé¢çç¼©æ¾æé®\r\n    viewer.jsObject.controls.buttons.Zoom.style.display = 'none';\r\n    viewer.jsObject.controls.buttons.ZoomOnePage.style.display = 'none';\r\n    viewer.jsObject.controls.buttons.ZoomPageWidth.style.display = 'none';\r\n    // viewer.jsObject.controls.menus.printMenu.items['PrintPdf'].style.display='none'\r\n    // viewer.jsObject.controls.menus.printMenu.items['PrintWithPreview'].style.display='none'\r\n    // viewer.jsObject.controls.menus.printMenu.items['PrintWithoutPreview'].style.display='none'\r\n\r\n  }\r\n\r\n  private loadSystemFonts():any{\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n/**\r\n * ä¸ç¨äºï¼ä½æ¯å¾ä¿çï¼ä¸ç¶çè¯å«äººç¨äºè¿ä¸ªnpmåçå¾éæ°æå\r\n */\r\n@Injectable()\r\nexport class CloudprintviewerService {\r\n\r\n  // printEntity = new PrintEntity();\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // /**\r\n  //  * å è½½Viewerç»æ\r\n  //  * @param reportID id\r\n  //  */\r\n  // loadFormat(reportID: string, flag): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.formatèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.format) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       return this.printEntity.format;\r\n  //     });\r\n  //   }\r\n\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°NewPrintFormatåGetPrintFormatByIdè¿ä¿©ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   let url: string ;\r\n  //   if (reportID && reportID.length > 0) {\r\n  //     url = this.printEntity.appUrl + Urls.LoadPrintFormatById + reportID;\r\n  //     // å è½½å·²ææ ¼å¼æ¯ä¸ªgetè¯·æ±\r\n  //     return this.http.get(url,httpoptions).toPromise()\r\n  //     .then((data) => {\r\n  //       return data;\r\n  //     });\r\n  //   } else {\r\n  //     const body = {};\r\n      \r\n\r\n  //     if (this.printEntity.schemaType === SchemaType.BO) {// bo\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBO + this.printEntity.format;\r\n  //       return this.http.get(url, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret) => {\r\n  //         return ret;\r\n  //       });\r\n  //     } else {// schema\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithSchema;\r\n  //       body['printDataSchemaView'] = this.printEntity.format;\r\n  //       return this.http.post(url, body, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret) => {\r\n  //         return ret;\r\n  //       });\r\n  //     }\r\n\r\n  //     // CreatePrintFormatWithBEåCreatePrintFormatWithBOæ¯postè¯·æ±\r\n\r\n \r\n  //   }\r\n\r\n  // }\r\n\r\n  // /**\r\n  //  * å è½½Vieweræ°æ®\r\n  //  * @param dataIds è¦å è½½çæ°æ®Id\r\n  //  */\r\n  // loadData(dataIds: string, flag): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.dataèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.data) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       return this.printEntity.data;\r\n  //     });\r\n  //   }\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°GetPrintDataè¿ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.get(this.printEntity.appUrl + Urls.LoadPrintData + dataIds, httpoptions).toPromise()\r\n  //   .then((data2) => {\r\n  //     return data2;\r\n  //   });\r\n  // }\r\n\r\n  // /**\r\n  //  * åå°æå°\r\n  //  * GSåé¨/ç¬¬ä¸æ¹\r\n  //  * @param beOptions æ°æ®æºéé¡¹\r\n  //  * @param options å¯¼åºéé¡¹\r\n  //  */\r\n  // OutputBEData(beOptions: SourceOptions, options: OutputOptions , flag): Promise<string> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n\r\n  //   const body = {\r\n  //     BEOptions: beOptions,\r\n  //     Options: options\r\n  //   };\r\n  //   // const httpoptions = {};\r\n  //   // httpoptions['responseType'] = 'arraybuffer';\r\n  //   // return this.http.post(this.printEntity.appUrl + Urls.OutputBEData, body).toPromise()\r\n  //   // .then((ret: any) => {\r\n  //   //   return ret;\r\n  //   // });\r\n  //   /**\r\n  //    * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['responseType'] = 'arraybuffer';\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.post(this.printEntity.appUrl + Urls.OutputBEData, body, httpoptions).toPromise()\r\n  //   .then((ret: any) => {\r\n  //     return ret;\r\n  //   });\r\n  // }\r\n\r\n  // /**\r\n  //  * åå°æå°\r\n  //  * GSåé¨/ç¬¬ä¸æ¹\r\n  //  * @param beOptions BEFilteréé¡¹\r\n  //  * @param options å¯¼åºéé¡¹\r\n  //  */\r\n  // OutputBEDataWithFilter(beOptions: SourceFilterOptions, options: OutputOptions, flag): Promise<string> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n\r\n  //   const body = {\r\n  //     BEOptions: beOptions,\r\n  //     Options: options\r\n  //   };\r\n\r\n  //   // this.http.setHeader({\r\n  //   //   responseType : 'arraybuffer'\r\n  //   // });\r\n  //   // return this.http.post(this.printEntity.appUrl + Urls.OutputBEDataWithFilter, body).toPromise()\r\n  //   // .then((ret: any) => {\r\n  //   //   return ret;\r\n  //   // });\r\n  //   /**\r\n  //    * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['responseType'] = 'arraybuffer';\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.post(this.printEntity.appUrl + Urls.OutputBEDataWithFilter, body, httpoptions).toPromise()\r\n  //   .then((ret: any) => {\r\n  //     return ret;\r\n  //   });\r\n  // }\r\n\r\n  // /**\r\n  //  * åå°æå°\r\n  //  * GSåé¨/ç¬¬ä¸æ¹\r\n  //  * @param boOptions BOéé¡¹\r\n  //  * @param options å¯¼åºéé¡¹\r\n  //  */\r\n  // OutputBOData(boOptions: BOOptions, options: OutputOptions, flag): Promise<string> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n\r\n  //   const body = {\r\n  //     BOOptions: boOptions,\r\n  //     Options: options\r\n  //   };\r\n\r\n  //   // this.http.setHeader({\r\n  //   //   responseType : 'arraybuffer'\r\n  //   // });\r\n  //   // return this.http.post(this.printEntity.appUrl + Urls.OutputBOData, body).toPromise()\r\n  //   // .then((ret: any) => {\r\n  //   //   return ret;\r\n  //   // });\r\n  //   /**\r\n  //    * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['responseType'] = 'arraybuffer';\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.post(this.printEntity.appUrl + Urls.OutputBOData, body, httpoptions).toPromise()\r\n  //   .then((ret: any) => {\r\n  //     return ret;\r\n  //   });\r\n  // }\r\n}\r\n","import { Component, OnInit, OnDestroy, Input, Inject, forwardRef, ElementRef } from '@angular/core';\r\nimport { CloudprintviewerService } from './cloudprint-viewer.service';\r\nimport { PrintEntity } from '../entitys/printEntity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { Utils } from '../utils/cloudprint.utils';\r\nimport { CloudprintFunctionRegister } from '../functions/cloudprint.function.register';\r\nimport { Urls } from '../utils/cloudprint.Urls';\r\nimport { PrintFormatService } from '../services/printFormatService';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\nimport { SourceFilterOptions } from '../entitys/datasourceoptions/sourceFilterOptions';\r\nimport { OutputParam } from '../entitys/outputoptions/outputParam';\r\nimport { SourceOptions } from '../entitys/datasourceoptions/sourceOptions';\r\nimport { CloudprintService } from '../cloudprint.service';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { LocalLangPipe } from '../local.pipe';\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n@Component({\r\n  selector: 'app-cloudprint-viewer',\r\n  templateUrl: './cloudprint-viewer.component.html',\r\n  styleUrls: ['./cloudprint-viewer.component.css'],\r\n  // providers: [\r\n  //   CloudprintviewerService,\r\n  //   NotifyService,\r\n  //   LanguageService\r\n  // ],\r\n})\r\nexport class CloudprintViewerComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() public outputParam : OutputParam;\r\n  @Input() public isRemotePrint: any;\r\n\r\n  /** é¢è§å¨å¯¹è±¡ */\r\n  private viewer: any;\r\n  localpipe: LocalLangPipe;\r\n\r\n  private docTitle: string;\r\n  /** æå°åæ°å®ä½ */\r\n  printEntity = new PrintEntity();\r\n\r\n  // private server: CloudprintviewerService,\r\n  constructor(private server: CloudprintviewerService,\r\n              private formatSrv: PrintFormatService,\r\n              private notifyService: NotifyService,\r\n              private functionRegister: CloudprintFunctionRegister,\r\n              private langservice:LanguageService,\r\n              private loadSrv: LoadingService,\r\n              private elementRef: ElementRef,\r\n              //@Inject(forwardRef(() => CloudprintService))çåå ï¼https://stackoverflow.com/questions/37997824/exception-cant-resolve-all-parameters#\r\n              @Inject(forwardRef(() => CloudprintService))private printSrv: CloudprintService) {\r\n\r\n\r\n      Stimulsoft.Base.StiLicense.key = '6vJhGtLLLz2GNviWmUTrhSqnOItdDwjBylQzQcAOiHmUA7xxS8GDDAme3ObyU+jZAO9YGs0yUwkFhPz4MWHZaEdiyH' + \r\n        'ffzbOBGSAkqiNry5YZGU/0ZeiKWcHEB38tgR/zaXp8v+ktUiBOl5B2Dll4y33a3osXfKmsg7lHgK/JYlcS08G7Nggu' + \r\n        'H8vVnzvNulyD1uv6QdfRDQOP/FfeKHq3M70ZPvUspYpkCzGqP4nJJ5ktST13+f3E90Y0n1BkbAbYCI3JqheM988LYP' + \r\n        '2lmJ5mAzuV5t3ILzfUehp6/HIy8LPbzzVlU22X9I1t2xY6W1qsi/pKaXeAfJ0T5x/CUbywJ9JyKaTMwIUhDqUVIrle' + \r\n        'QbFvNFUrLznXCcd55QNngQjoC6Wx9CZ9ryjdPdp0dMfCC0exZXtQW0IR+lWjD9pdUkYPJWn5eACs0ToahpEvdwlW76' + \r\n        'eL5ufNRT6xYjBqlGQ/9VuV5LD9EROLqHxpucBoNPLl7s8ealNcm5seZjuR1iSiOPcqd05m3ellOoxBzSLWaB/sNMWT' + \r\n        'AOhBIWNv7dPOcq8KuAfwaJCkV3WTbQAhX2XJ';\r\n      \r\n      this.printEntity.isUseMetaData = true;\r\n      this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.docTitle = document.title;\r\n    // åå§åViewer;\r\n    this.initViewer();\r\n\r\n    console.log('ç»ä»¶åå§ï¼å è½½é¢è§å¨æå');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.printEntity.onExitEvent.emit();\r\n\r\n    console.log('ç»ä»¶éæ¯');\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   *\r\n   * å¦ä¸ä»£ç æ¯cloudprint.service.tséçä»£ç ï¼å¨cloudprint.service.tsææ°çprintEntityï¼\r\n   *           æä»¥éè¦è°ç¨setPrintEntityæ¥åæ­¥\r\n   *           this.designercomponentRef.instance.setPrintEntity(this.printEntity)\r\n   *\r\n   */\r\n  setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.server.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  /**\r\n   * åå§åViewer\r\n   */\r\n  private initViewer(): void {\r\n    // å è½½æ°æ®\r\n    const self = this;\r\n    document.title = this.docTitle;\r\n    this.loadSrv.show({\r\n      message: 'loading...',\r\n    });\r\n    // å¦ææ¯åç«¯æ¸²æçåéï¼ååå°ç´æ¥ä½¿ç¨\r\n    const rendedFormat = this.printEntity.rendedFormat;\r\n    const ret = this.renderPdf(rendedFormat);\r\n    if(ret && ret.then){\r\n      ret.then(()=>{\r\n        this.loadSrv.close();\r\n      });\r\n    }else{\r\n      this.loadSrv.close();\r\n    }\r\n\r\n  }\r\n\r\n  private renderPdf(rendedFormat){\r\n    const self = this;\r\n\r\n    if (rendedFormat) {//ææ¸²æçç»æåç´æ¥å±ç¤º\r\n      const ele = document.getElementById('viewer');\r\n      // ele.hidden = true;\r\n      Utils.renderPdfByByte(rendedFormat,ele);\r\n\r\n    } else {//æ²¡ææ¸²æçç»æåéè¿åç«¯æ¸²æåå±ç¤º\r\n      this.outputParam.prnOutputOps.printJob = false;\r\n      if (this.outputParam.prnSourceOptions.length > 1) {\r\n        if (this.outputParam.isFilter) {\r\n          return this.formatSrv.printMultiByFilter(this.outputParam.prnSourceOptions as Array<SourceFilterOptions>, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        } else {\r\n          return this.formatSrv.printMultiById(this.outputParam.prnSourceOptions as Array<SourceOptions>, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        }\r\n      } else {\r\n        if (this.outputParam.isFilter) {\r\n          return this.formatSrv.printSingleByFilter(this.outputParam.prnSourceOptions[0] as SourceFilterOptions, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        } else {\r\n          return this.formatSrv.printSingleById(this.outputParam.prnSourceOptions[0] as SourceOptions, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** ç´æ¥æå° */\r\n  printDirect(){\r\n    const ele = document.getElementById('viewer');\r\n    const iframe = ele.firstChild as any;\r\n    iframe.contentWindow.print();\r\n\r\n    const sourceopslist = this.outputParam.prnSourceOptions;\r\n    let su=[];\r\n    let id=[];\r\n    let billcate=[];\r\n    let biztype=[];\r\n    let source=[];\r\n    let entityfilter=[];\r\n    let dataid=[];\r\n    let isfilter=[];\r\n    sourceopslist.forEach(x=>{\r\n      su.push(x.ServiceUnit);\r\n      id.push(x.FormatId);\r\n      source.push(x.SourceId);\r\n      isfilter.push(this.outputParam.isFilter);\r\n      if(this.outputParam.isFilter){\r\n        entityfilter.push(JSON.stringify((x as SourceFilterOptions).EntityFilter));\r\n      }else{\r\n        dataid.push((x as SourceOptions).DataIds);\r\n      }\r\n      billcate.push(x.billCategoryId);\r\n      biztype.push(x.bizTypeId);\r\n    });\r\n    const data = {\r\n      formatid:id,\r\n      sourceid:source,\r\n      entityfilter:entityfilter,\r\n      dataid:dataid,\r\n      isfilter:isfilter,\r\n      su:su,\r\n      billcategory:billcate,\r\n      biztype:biztype\r\n    };\r\n    this.formatSrv.sendPrintEvent(data,\"CloudPrint\");\r\n  }\r\n\r\n  /** çå­åå°æå° */\r\n  printBox(){\r\n    const self = this;\r\n    self.outputParam.prnOutputOps.printJob = true;\r\n    if (self.outputParam.prnSourceOptions.length > 1) {\r\n      if (self.outputParam.isFilter) {\r\n        return self.printSrv.printMultiByFilter4Job(self.outputParam.prnSourceOptions as Array<SourceFilterOptions>, self.outputParam.prnOutputOps);\r\n      } else {\r\n        return self.printSrv.printMultiById4Job(self.outputParam.prnSourceOptions as Array<SourceOptions>, self.outputParam.prnOutputOps);\r\n      }\r\n    } else {\r\n      if (self.outputParam.isFilter) {\r\n        return self.printSrv.printSingleByFilter4Job(self.outputParam.prnSourceOptions[0] as SourceFilterOptions, self.outputParam.prnOutputOps);\r\n      } else {\r\n        return self.printSrv.printSingleById4Job(self.outputParam.prnSourceOptions[0] as SourceOptions, self.outputParam.prnOutputOps);\r\n      }\r\n    }\r\n  }\r\n}\r\n","/** æ§ä»¶ç±»åæä¸¾ */\r\nexport enum CmpType {\r\n    Designer= 1,\r\n    Viewer= 2\r\n}\r\n","import { OutputOptions } from './outputOptions';\r\nimport { CmpType } from '../enums/cmpType';\r\nimport { BaseSourceOptions } from '../datasourceoptions/basesourceoptions';\r\n\r\n/**\r\n * å¯¼åºè®¾ç½®\r\n */\r\nexport class OutputParam {\r\n    prnFormat: string;\r\n    prnData: object;\r\n    prnFormatId: string;\r\n    prnDataId: string;\r\n    prnType: CmpType;\r\n    prnRendedFormat: string;\r\n    prnSourceOptions:Array<BaseSourceOptions>;\r\n    prnOutputOps: OutputOptions;\r\n    isFilter:boolean;\r\n}\r\n\r\n\r\n","\r\n\r\n/**\r\n * æ°æ®æºç±»å\r\n */\r\nexport enum SourceType {\r\n    BE= 0, // BE\r\n    VO= 1, // VO\r\n    BO= 2,// .net å®ä½\r\n    CO=3,//éç¨æ°æ®ç»æ\r\n}\r\n","import { Component, OnInit, Input, EventEmitter, ViewChild, LOCALE_ID, Inject } from '@angular/core';\r\nimport { PrintFormat } from '../entitys/printFormat';\r\nimport { PageChangeEvent, GridDataResult } from '@progress/kendo-angular-grid';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { BsModalRef } from '@farris/ui-modal';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalLangPipe } from '../local.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-formatlist',\r\n  templateUrl: './formatlist.component.html',\r\n  styleUrls: ['./formatlist.component.css']\r\n})\r\nexport class FormatlistComponent implements OnInit {\r\n  // @ViewChild('printjob') printjob: DialogComponent;\r\n\r\n  @Input() public formats : PrintFormat[];\r\n\r\n  print: EventEmitter<any> = new EventEmitter<any>();\r\n  // dlg:BsModalRef;\r\n  columns = [];\r\n  formatId:string;\r\n\r\n  localepip:LocalLangPipe;\r\n\r\n  constructor(private notifyService: NotifyService,\r\n    @Inject(LOCALE_ID) localeid:string) { \r\n      \r\n    debugger;\r\n    // localeid = localStorage.getItem(\"languageCode\") || localeid;\r\n    // this.localepip = new LocalLangPipe(localeid);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      {field: 'code', title: this.localepip.transform('formatcode')},\r\n      {field: 'name', title:  this.localepip.transform('formatname')},\r\n    ];\r\n  }\r\n\r\n  selectChange(rowdata: any){\r\n    this.formatId = rowdata.id;\r\n  }\r\n\r\n  printJob(){\r\n\r\n    if(this.checkBeforePrint()){\r\n      this.print.emit({\r\n        id:this.formatId\r\n      });\r\n    }\r\n  }\r\n\r\n  private checkBeforePrint(){\r\n    if(!this.formatId){\r\n      this.notifyService.warning(this.localepip.transform('selectformat'));\r\n      return false;\r\n    }else{\r\n      return true;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * æ¥è¯¢ç±»å\r\n */\r\nexport enum QueryType{\r\n    BusinessEntity = 'BusinessEntity', //ä¸å¡å®ä½\r\n    ViewModel = 'ViewModel', //è§å¾å®ä½\r\n    InternalService = 'InternalService',// åé¨æå¡\r\n    CunstomComponent = 'CunstomComponent',// èªå®ä¹æä»¶\r\n    CommonStructure = 'CommonStructure',//éç¨æ°æ®ç»æ\r\n    PrintReport = 'PrintReport',\r\n    BusinessObject = 'BusinessObject',//ç¡¬ç¼ç çä¸å¡å®ä½\r\n    Unknown = 'Unknown',\r\n}\r\n","/**\r\n * æå°ç±»å\r\n */\r\nexport enum PrintType{\r\n    /**\r\n     * è¡¨åæå°\r\n     */\r\n    Form='Form',\r\n    /**\r\n     * æ¥è¯¢æå°\r\n     */\r\n    Query='Query',\r\n    /**\r\n     * è´¦é¡µæå°\r\n     */\r\n    LedgerPaper='LedgerPaper',\r\n\r\n    /**\r\n     * éä»¶æå°\r\n     */\r\n    Attachment='Attachment',\r\n\r\n    Unknown='Unknown'\r\n}\r\n","import { PrintOritation } from '../enums/printOritation';\r\n\r\nexport class PrintSetting{\r\n    copys:Number;\r\n    paperName:String;\r\n    width:Number;\r\n    height:Number;\r\n    top:Number;\r\n    bottom:Number;\r\n    left:Number;\r\n    right:Number;\r\n    printOritation:PrintOritation;\r\n    centerPrint:boolean;\r\n}","/** æå°æ¹å */\r\nexport enum PrintOritation {\r\n    Portrait = 'Portrait',//çºµå\r\n    Landscape = 'Landscape'//æ¨ªå\r\n}\r\n","export const PaperKind = [\r\n    {\r\n        key:'A2',\r\n        value:'A2'\r\n    },\r\n    {\r\n        key:'A3',\r\n        value:'A3'\r\n    },\r\n    // {\r\n    //     key:'A3Extra',\r\n    //     value:'A3Extra'\r\n    // },\r\n    // {\r\n    //     key:'A3ExtraTransverse',\r\n    //     value:'A3ExtraTransverse'\r\n    // },\r\n    // {\r\n    //     key:'A3Transverse',\r\n    //     value:'A3Transverse'\r\n    // },\r\n    {\r\n        key:'A4',\r\n        value:'A4'\r\n    },\r\n    {\r\n        key:'A5',\r\n        value:'A5'\r\n    },\r\n    {\r\n        key:'B4',\r\n        value:'B4'\r\n    },\r\n    {\r\n        key:'B5',\r\n        value:'B5'\r\n    },\r\n    {\r\n        key:'Legal',\r\n        value:'Legal'\r\n    },\r\n    {\r\n        key:'Letter',\r\n        value:'Letter'\r\n    },\r\n    {\r\n        key:'Statement',\r\n        value:'Statement'\r\n    },\r\n    {\r\n        key:'Tabloid',\r\n        value:'Tabloid'\r\n    }\r\n];","import { Component, OnInit,AfterViewInit, Input, EventEmitter, ViewChild, LOCALE_ID, Inject } from '@angular/core';\r\nimport { PrintFormat } from '../entitys/printFormat';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { PrintSetting } from '../entitys/outputoptions/printsetting';\r\nimport { PrintOritation } from '../entitys/enums/printOritation';\r\nimport { PaperKind } from '../entitys/outputoptions/paperkind';\r\nimport { BsModalRef } from '@farris/ui-modal';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { LocalLangPipe } from '../local.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-formatlistjob',\r\n  templateUrl: './formatlistjob.component.html',\r\n  styleUrls: ['./formatlistjob.component.css']\r\n})\r\nexport class FormatlistjobComponent implements OnInit {\r\n  // @ViewChild('printjob') printjob: DialogComponent;\r\n\r\n  @Input() public formats : PrintFormat[];\r\n  @Input() public boxlist : any[];\r\n\r\n  print: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // dlg:BsModalRef;\r\n  paperlist = [];\r\n  layoutlist = [];\r\n  columns = [];\r\n  //æ¯å¦å±ç¤ºæ ¼å¼åè¡¨\r\n  isShowFormat = true;\r\n  //æå°ç±»å0:è¡¨åæå°ï¼1:éä»¶æå°\r\n  printType = 0;\r\n  height=0;//é»è®¤ä¸º0ï¼æ ¹æ®çº¸å¼ å¤§å°æ¥\r\n  width=0;//é»è®¤ä¸º0,æ ¹æ®çº¸å¼ å¤§å°æ¥\r\n  top=0;\r\n  bottom=0;\r\n  left=0;\r\n  right=0;\r\n  copy=1;\r\n  paperkind='A4';\r\n  layout='Portrait';\r\n  printter:string;\r\n  printboxid='';\r\n  formatId:string;\r\n  //èªå®ä¹çº¸å¼ \r\n  isCustomPaper=false;\r\n  //èªå®ä¹é¡µè¾¹è·\r\n  isCustomMargin=false;\r\n\r\n  custompaper='èªå®ä¹çº¸å¼ :';\r\n  custommargin='èªå®ä¹é¡µè¾¹è·:';\r\n\r\n  localepip : LocalLangPipe;\r\n  constructor(private notifyService: NotifyService,\r\n    @Inject(LOCALE_ID) localeid:string) { \r\n      \r\n      debugger;\r\n      // localeid = localStorage.getItem(\"languageCode\") || localeid;\r\n      // this.localepip = new LocalLangPipe(localeid);\r\n      \r\n  }\r\n\r\n  ngOnInit() {\r\n    debugger;\r\n    \r\n    this.custompaper = this.localepip.transform('custompaper');\r\n    this.custommargin = this.localepip.transform('custommargin');\r\n\r\n    this.columns = [\r\n      {field: 'code', title: this.localepip.transform('formatcode')},\r\n      {field: 'name', title: this.localepip.transform('formatname')},\r\n    ];\r\n    //çº¸å¼ \r\n    this.paperlist = PaperKind;\r\n    //å¸å±\r\n    this.layoutlist = [\r\n      {\r\n        key:'Portrait',\r\n        value:this.localepip.transform('portrait')\r\n      },\r\n      {\r\n        key:'Landscape',\r\n        value:this.localepip.transform('landscape')\r\n      }\r\n    ];\r\n    \r\n  }\r\n  \r\n  printerSelectChange(rowdata: any){\r\n    this.printboxid = rowdata.data.boxId;\r\n  }\r\n\r\n  selectChange(rowdata: any){\r\n    this.formatId = rowdata.id;\r\n  }\r\n\r\n  printJob(){\r\n\r\n    if(this.checkBeforePrint()){\r\n      const ps = new PrintSetting();\r\n      ps.bottom = this.bottom;\r\n      ps.top = this.top;\r\n      ps.left = this.left;\r\n      ps.right = this.right;\r\n      ps.height = this.height;\r\n      ps.width = this.width;\r\n      ps.copys = this.copy;\r\n      ps.paperName = this.paperkind;\r\n      if(this.isCustomPaper){\r\n        ps.centerPrint = false;\r\n      }else{\r\n        ps.centerPrint = true;\r\n      }\r\n\r\n      if(PrintOritation.Landscape.toString() == this.layout){\r\n        ps.printOritation = PrintOritation.Landscape;\r\n      }else{\r\n        ps.printOritation = PrintOritation.Portrait;\r\n      }\r\n      \r\n      this.print.emit({\r\n        id:this.formatId,\r\n        boxId:this.printboxid,\r\n        printter:this.printter,\r\n        printSetting:ps\r\n      });  \r\n    }\r\n  }\r\n\r\n  private checkBeforePrint(){\r\n    if(!this.formatId && this.printType!=1){\r\n      this.notifyService.warning(this.localepip.transform('selectformat'));\r\n      return false;\r\n    }else if(!this.printter){\r\n      this.notifyService.warning(this.localepip.transform('selectprinter'));\r\n      return false;\r\n    }else if(!this.layout){\r\n      this.notifyService.warning(this.localepip.transform('selectlayout'));\r\n      return false;\r\n    }else if(!this.paperkind && this.height==0 && this.width==0){\r\n      this.notifyService.warning(this.localepip.transform('nopapersize'));\r\n      return false;\r\n    }else if(!this.printboxid){\r\n      this.notifyService.warning(this.localepip.transform('noagent'));\r\n      return false;\r\n    }else{\r\n      return true;\r\n    }\r\n  }\r\n\r\n}\r\n","export const LANG_RESOURCES = {\r\n    'zh-CHS': {\r\n        'printview': 'æå°é¢è§',\r\n        'printformat':'æå°æ ¼å¼',\r\n        'printdesigner':'æå°è®¾è®¡å¨',\r\n        'printset':'æå°éç½®',\r\n        'printer':'æå°æº',\r\n        'print':'æå°',\r\n        'cancel':'åæ¶',\r\n        'sendprintjob':'å·²æååéæå°ä»»å¡',\r\n        'appurlerror':'æªéç½®æ­£ç¡®çappUrl',\r\n        'formatcode':'æ ¼å¼ç¼å·',\r\n        'formatname':'æ ¼å¼åç§°',\r\n        'portrait':'çºµå',\r\n        'landscape':'æ¨ªå',\r\n        'selectprinter':'è¯·éæ©æå°æº',\r\n        'selectformat':'è¯·éæ©æå°æ ¼å¼',\r\n        'selectlayout':'è¯·éæ©å¸å±',\r\n        'noagent':'æå°æºå¯¹åºçæå°ä»£çä¸ºç©º,åç»­æå°å°æ æ³å®ä½æå°æº',\r\n        'nopapersize':'çº¸å¼ åèªå®ä¹å¤§å°ä¸å¯åæ¶ä¸ºç©º',\r\n        'paper':'çº¸å¼ ',\r\n        'paperway':'çº¸å¼ æ¹å',\r\n        'copys':'æå°ä»½æ°',\r\n        'length':'é¿(åç±³)',\r\n        'width':'å®½(åç±³)',\r\n        'top':'ä¸(åç±³)',\r\n        'bottom':'ä¸(åç±³)',\r\n        'left':'å·¦(åç±³)',\r\n        'right':'å³(åç±³)',\r\n        'custompaper':'èªå®ä¹çº¸å¼ :',\r\n        'custommargin':'èªå®ä¹é¡µè¾¹è·:',\r\n        'PrintWithoutPreview':'ç´æ¥æå°',\r\n        'PrintWithBox':'è¿ç¨æå°',\r\n    },\r\n    'en-US': {\r\n        'printview': 'Print View',\r\n        'printformat':'Print Format',\r\n        'printdesigner':'Print Designer',\r\n        'printset':'Print Setting',\r\n        'print':'Print',\r\n        'cancel':'Cancel',\r\n        'printer':'Printer',\r\n        'sendprintjob':'Send Print Job Success',\r\n        'appurlerror':'AppUrl Error',\r\n        'formatcode':'Format Code',\r\n        'formatname':'Format Name',\r\n        'portrait':'Portrait',\r\n        'landscape':'Landscape',\r\n        'selectprinter':'Please Select Printer',\r\n        'selectformat':'Please Select Format',\r\n        'selectlayout':'Please Select Layout',\r\n        'noagent':'Agent Is Empty,It May Can Not Locate The Printer',\r\n        'nopapersize':'Paper Size Is Not Allowed Empty',\r\n        'paper':'Paper',\r\n        'paperway':'Paper Direction',\r\n        'copys':'Copy',\r\n        'length':'Length(centimetre)',\r\n        'width':'Width(centimetre)',\r\n        'top':'Top(centimetre)',\r\n        'bottom':'Bottom(centimetre)',\r\n        'left':'Left(centimetre)',\r\n        'right':'Right(centimetre)',\r\n        'custompaper':'Custom Paper:',\r\n        'custommargin':'Custom Margin:',\r\n        'PrintWithoutPreview':'Direct Print',\r\n        'PrintWithBox':'Remote Print',\r\n    },\r\n    'en': {\r\n        'printview': 'Print View',\r\n        'printformat':'Print Format',\r\n        'printdesigner':'Print Designer',\r\n        'printset':'Print Setting',\r\n        'print':'Print',\r\n        'cancel':'Cancel',\r\n        'printer':'Printer',\r\n        'sendprintjob':'Send Print Job Success',\r\n        'appurlerror':'AppUrl Error',\r\n        'formatcode':'Format Code',\r\n        'formatname':'Format Name',\r\n        'portrait':'Portrait',\r\n        'landscape':'Landscape',\r\n        'selectprinter':'Please Select Printer',\r\n        'selectformat':'Please Select Format',\r\n        'selectlayout':'Please Select Layout',\r\n        'noagent':'Agent Is Empty,It May Can Not Locate The Printer',\r\n        'nopapersize':'Paper Size Is Not Allowed Empty',\r\n        'paper':'Paper',\r\n        'paperway':'Paper Direction',\r\n        'copys':'Copy',\r\n        'length':'Length(centimetre)',\r\n        'width':'Width(centimetre)',\r\n        'top':'Top(centimetre)',\r\n        'bottom':'Bottom(centimetre)',\r\n        'left':'Left(centimetre)',\r\n        'right':'Right(centimetre)',\r\n        'custompaper':'Custom Paper:',\r\n        'custommargin':'Custom Margin:',\r\n        'PrintWithoutPreview':'Direct Print',\r\n        'PrintWithBox':'Remote Print',\r\n    },\r\n    'zh-CHT': {\r\n        'printview': 'æå°é è¦½',\r\n        'printformat':'æå°æ ¼å¼',\r\n        'printdesigner':'æå°è¨­è¨å¨',\r\n        'printset':'æå°éç½®',\r\n        'printer':'æå°æ©',\r\n        'print':'æå°',\r\n        'cancel':'åæ¶',\r\n        'sendprintjob':'å·²æåç¼éæå°ä»»å',\r\n        'appurlerror':'æªéç½®æ­£ç¢ºçappUrl',\r\n        'formatcode':'æ ¼å¼ç·¨è',\r\n        'formatname':'æ ¼å¼åç¨±',\r\n        'portrait':'ç¸±å',\r\n        'landscape':'æ©«å',\r\n        'selectprinter':'è«é¸ææå°æ©',\r\n        'selectformat':'è«é¸ææå°æ ¼å¼',\r\n        'selectlayout':'è«é¸æä½å±',\r\n        'noagent':'æå°æ©å°æçæå°ä»£ççºç©º,å¾çºæå°å°ç¡æ³å®ä½æå°æ©',\r\n        'nopapersize':'ç´å¼µåèªå®ç¾©å¤§å°ä¸å¯åæçºç©º',\r\n        'paper':'ç´å¼µ',\r\n        'paperway':'ç´å¼µæ¹å',\r\n        'copys':'æå°ä»½æ¸',\r\n        'length':'é·(åç±³)',\r\n        'width':'å¯¬(åç±³)',\r\n        'top':'ä¸(åç±³)',\r\n        'bottom':'ä¸(åç±³)',\r\n        'left':'å·¦(åç±³)',\r\n        'right':'å³(åç±³)',\r\n        'custompaper':'èªå®ç¾©ç´å¼µ:',\r\n        'custommargin':'èªå®ç¾©é éè·:',\r\n        'PrintWithoutPreview':'ç´æ¥æå°',\r\n        'PrintWithBox':'é ç¨æå°',\r\n    },\r\n};","import { Pipe, PipeTransform, Inject, LOCALE_ID } from '@angular/core';\r\nimport { LANG_RESOURCES } from './i18n/language.resource';\r\n\r\n@Pipe({ name: 'locale' })\r\nexport class LocalLangPipe implements PipeTransform {\r\n    private readonly defaultLang: string = \"zh-CHS\";\r\n    private langCode: string;\r\n    private lang: {};\r\n    constructor(\r\n        @Inject(LOCALE_ID) localeId: string\r\n    ) {\r\n        this.langCode = localStorage.getItem(\"languageCode\") || localeId || this.defaultLang;\r\n        this.lang = LANG_RESOURCES[this.langCode] || LANG_RESOURCES[this.defaultLang];\r\n    }\r\n    transform(name: string): any {\r\n        return this.lang[name] || name;\r\n    }\r\n}\r\n\r\n","import { Injectable, Injector, ApplicationRef, EventEmitter, Query, LOCALE_ID } from '@angular/core';\r\nimport { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ViewContainerRef } from '@angular/core';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { PrintEntity } from './entitys/printEntity';\r\n\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { OutputOptions } from './entitys/outputoptions/outputOptions';\r\nimport { Urls } from './utils/cloudprint.Urls';\r\nimport { SourceOptions } from './entitys/datasourceoptions/sourceOptions';\r\nimport { SourceFilterOptions } from './entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from './entitys/datasourceoptions/booptions';\r\nimport { AppService, AppOptions, FrameworkVariableService } from '@gsp-sys/rtf-common';\r\nimport { FileType } from './entitys/outputoptions/fileType';\r\nimport { CmpType } from './entitys/enums/cmpType';\r\nimport { OutputParam } from './entitys/outputoptions/outputParam';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { SourceType } from './entitys/enums/sourceType';\r\n\r\nimport { PrintFormat } from './entitys/printFormat';\r\n\r\n\r\nimport {\r\n  WindowRef,\r\n  WindowCloseResult,\r\n  WindowService\r\n} from '@progress/kendo-angular-dialog';\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { Utils } from './utils/cloudprint.utils';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { Subject } from 'rxjs';\r\nimport { QueryType } from './entitys/enums/querytype';\r\nimport { PrintType } from './entitys/enums/printtype';\r\nimport { DataValidator } from './utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from './entitys/datasourceoptions/basesourceoptions';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { LocalLangPipe } from './local.pipe';\r\n\r\n\r\n@Injectable()\r\nexport class CloudprintService {\r\n  // ç»ä»¶å¼ç¨åé\r\n  private designercomponentRef: ComponentRef<CloudprintDesignerComponent>;\r\n  private viewercomponentRef: ComponentRef<CloudprintViewerComponent>;\r\n  /**\r\n   * Saasåºç¨éè¿æé å½æ°æ³¨å¥çViewContainerRefå¯¹è±¡\r\n   * \r\n   * ä¾å­ï¼\r\n   *    xxx.html\r\n   *          <ng-container #prndesigner></ng-container>\r\n   * \r\n   *    xxx.component.ts\r\n   *          @ViewChild('prndesigner', {read: ViewContainerRef}) \r\n   *          private container: ViewContainerRef;\r\n   */\r\n  viewContainer: ViewContainerRef;\r\n\r\n  /**\r\n   * æå°åæ°å®ä½\r\n   */\r\n  printEntity = new PrintEntity();\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   */\r\n  set setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  localeid:string;\r\n  localpipe: LocalLangPipe;\r\n\r\n  constructor(\r\n    private formatSrv: PrintFormatService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private designerSrv: CloudprintdesignerService,\r\n    private viewerSrv: CloudprintviewerService,\r\n    private injector: Injector,\r\n    private applicationRef: ApplicationRef,\r\n    private notifyService: NotifyService,\r\n    private appService: AppService,\r\n    private windowService: WindowService,\r\n    private modalService: BsModalService,\r\n    ) {\r\n      \r\n    // è®¾ç½®printEntityçé»è®¤å¼\r\n    this.printEntity.appUrl = Urls.CloudPrintBaseUrl;\r\n    this.printEntity.isUseMetaData = true;\r\n    this.printEntity.language = localStorage.getItem(\"languageCode\") || 'zh-CHS';\r\n    \r\n    // å°printEntityè®¾ç½®å°designer serviceä¸ï¼ä¸è®¾ç½®ï¼åé¢è°ç¨æå¡ä¼åç°æå¡çprintEntityæ¯ç©ºçï¼\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // å°printEntityè®¾ç½®å°viewer serviceä¸ï¼ä¸è®¾ç½®ï¼åé¢è°ç¨æå¡ä¼åç°æå¡çprintEntityæ¯ç©ºçï¼\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n\r\n    if(this.injector)\r\n    {\r\n      this.modalService = this.injector.get(BsModalService);\r\n      this.localeid = localStorage.getItem(\"languageCode\") || this.injector.get(LOCALE_ID);\r\n      this.localpipe = new LocalLangPipe(this.localeid);\r\n    } \r\n   \r\n  }\r\n\r\n\r\n  //#region æ ¼å¼éæ©åè¡¨ç¸å³æ¥å£\r\n  windowRef: WindowRef = undefined;\r\n\r\n  /**\r\n   * è¿è¡æ¶æå°æ¶æ ¹æ®ç»´åº¦è¿æ»¤å¼¹åºæå°æ ¼å¼éæ©åè¡¨\r\n   * @param dataSourceId æ°æ®æºId\r\n   * @param filter æ¯å¦è¿æ»¤æ¡ä»¶\r\n   * @param beOptions beOptions\r\n   * @param options è¾åºoptions\r\n   * @param ele æå®çelementåç´ \r\n   */\r\n  private openFormatListByDimension(beOptions:BaseSourceOptions, options: OutputOptions, ele:any,filter:boolean){\r\n    const that = this;\r\n    const dataSourceId = beOptions.SourceId;\r\n    const billCategoryId = beOptions.billCategoryId;\r\n    return this.formatSrv.getPrintFormatByDataSrouceAndDimension(billCategoryId,dataSourceId,(beOptions as any).FirstDimensionVal,(beOptions as any).SecondDimensionVal).then((res)=>{\r\n      const format : PrintFormat[] = (res != null && res.length != undefined) ? res : [];\r\n\r\n      //åªæä¸æ¡æå°æ ¼å¼ï¼ç´æ¥è¾åºé¢è§\r\n      if(format.length === 1){\r\n        return that.outputBySingleSelectionFormat({\r\n          'id': format[0].id, \r\n          'isFilter' : filter, \r\n          'beoptions': Object.assign({}, beOptions), \r\n          'options':options,\r\n          'isJob': false, \r\n          'printerName':'',\r\n          'boxId':'',\r\n          'printSetting':null,\r\n          'ele':ele});\r\n      }\r\n\r\n      const factory = that.resolver.resolveComponentFactory(FormatlistComponent);\r\n      const printsetting = factory.create(that.injector);\r\n      \r\n      printsetting.instance.formats = [...format];\r\n      printsetting.instance.localepip = that.localpipe;\r\n\r\n      const dlg = this.modalService.show(printsetting,{\r\n        title: this.localpipe.transform('printformat'),\r\n        width:400, \r\n        height: 500,\r\n        showButtons: true,\r\n        showMaxButton:false,\r\n        buttons: [\r\n          { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n            printsetting.instance.printJob();\r\n          }},\r\n          { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n            dlg.close();\r\n          }}\r\n        ],\r\n      });\r\n      // printsetting.instance.dlg = dlg;\r\n      //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n      printsetting.instance.print.subscribe((data) => {\r\n          dlg.close();\r\n          return that.outputBySingleSelectionFormat({\r\n              'id': data.id, \r\n              'isFilter' : filter, \r\n              'beoptions': Object.assign({}, beOptions), \r\n              'options':options, \r\n              'isJob': false,\r\n              'printerName':'',\r\n              'boxId':'',\r\n              'printSetting':null,\r\n              'ele':ele});\r\n      });\r\n      \r\n    });\r\n  }\r\n\r\n  /**\r\n   * åå°æå°ä»»å¡çæ ¼å¼éæ©åæå°éç½®åè¡¨\r\n   */\r\n  private openFormatListByDimension4Job(beOptions:Array<BaseSourceOptions>, options: OutputOptions,filter:boolean,isMulti:boolean){\r\n    const that = this;\r\n\r\n    if(isMulti){//æ¹éæå°\r\n      return this.formatSrv.getPrintDevice().then((data)=>{\r\n        const device = data || [];\r\n\r\n        let ids = '';\r\n        beOptions.forEach(x=>ids+=x.FormatId+',');\r\n  \r\n        const factory = that.resolver.resolveComponentFactory(FormatlistjobComponent);\r\n        const printsetting = factory.create(that.injector);\r\n  \r\n        printsetting.instance.boxlist = device;\r\n        printsetting.instance.formatId = ids.length>0?ids.substr(0,ids.length-1):ids;\r\n        printsetting.instance.isShowFormat = false;\r\n        printsetting.instance.localepip = that.localpipe;\r\n\r\n        const dlg = this.modalService.show(printsetting,{\r\n          title: this.localpipe.transform('printset'),\r\n          width: 800, \r\n          height: 500,\r\n          showButtons: true,\r\n          showMaxButton:false,\r\n          buttons: [\r\n            { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n              printsetting.instance.printJob();\r\n            }},\r\n            { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n              dlg.close();\r\n            }}\r\n          ],\r\n        });  \r\n        //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n        printsetting.instance.print.subscribe((data) => {\r\n            dlg.close();\r\n            return that.outputByMultiSelectionFormat({\r\n              'isFilter' : filter, \r\n              'beoptions': [...beOptions], \r\n              'options': Object.assign({}, options),\r\n              'isJob': true,\r\n              'printerName':data.printter,\r\n              'boxId':data.boxId,\r\n              'printSetting':data.printSetting,\r\n              'ele':null});\r\n        });\r\n      });\r\n    }else{\r\n      const billCategoryId = beOptions[0].billCategoryId;\r\n      const dataSourceId = beOptions[0].SourceId;\r\n      return this.formatSrv.getPrintFormatAndDevice(billCategoryId,dataSourceId,(beOptions as any).FirstDimensionVal,(beOptions as any).SecondDimensionVal).then((res)=>{\r\n        const format = res.format || [];\r\n        const device = res.device || [];\r\n        //åªæä¸æ¡æå°æ ¼å¼ï¼åä¸ç¨åéæ©æ ¼å¼\r\n        if(format.length === 1){\r\n          beOptions[0].FormatId = format[0].id;\r\n        }\r\n  \r\n        const factory = that.resolver.resolveComponentFactory(FormatlistjobComponent);\r\n        const printsetting = factory.create(that.injector);\r\n   \r\n        printsetting.instance.formats = format;\r\n        printsetting.instance.boxlist = device;\r\n        printsetting.instance.formatId = beOptions[0].FormatId;\r\n        printsetting.instance.isShowFormat = beOptions[0].FormatId?false:true;\r\n        printsetting.instance.localepip = that.localpipe;\r\n\r\n        const dlg = this.modalService.show(printsetting,{\r\n          title: this.localpipe.transform('printset'),\r\n          width: 800, \r\n          height: 500,\r\n          showButtons: true,\r\n          showMaxButton:false,\r\n          buttons: [\r\n            { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n              printsetting.instance.printJob();\r\n            }},\r\n            { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n              dlg.close();\r\n            }}\r\n          ],\r\n        });  \r\n        //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n        printsetting.instance.print.subscribe((data) => {\r\n            dlg.close();\r\n            return that.outputBySingleSelectionFormat({\r\n              'id': data.id, \r\n              'isFilter' : filter, \r\n              'beoptions': Object.assign({}, beOptions[0]), \r\n              'options': Object.assign({}, options),\r\n              'isJob': true,\r\n              'printerName':data.printter,\r\n              'boxId':data.boxId,\r\n              'printSetting':data.printSetting,\r\n              'ele':null});\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // éäºæ ¼å¼åçè¾åº\r\n  private outputBySingleSelectionFormat(res: any): any{\r\n    console.log('éå®æ ¼å¼åå¤æ¸²æ: ' + JSON.stringify(res));\r\n    const self = this;\r\n\r\n    if(!res.id){\r\n      return;\r\n    }\r\n  \r\n    res.beoptions.FormatId = res.id;\r\n    res.options.DeviceId = res.boxId;\r\n    res.options.printerName = res.printerName;\r\n    res.options.printSetting = res.printSetting;\r\n    res.options.printJob = res.isJob;\r\n\r\n    if(res.isJob){//åå°æå°\r\n      if(res.isFilter === true) {\r\n        return this.formatSrv.printSingleByFilter(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }else{\r\n        return this.formatSrv.printSingleById(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }\r\n    }else{//åå°æå°\r\n      if(res.ele) {//æeleï¼åå¼æè´è´£æ¸²æ\r\n        if(res.isFilter === true) {\r\n          if(res.ele==='download'){\r\n            return this.formatSrv.printSingleByFilter(res.beoptions, res.options, res.su,'CloudPrint')\r\n            .then((data) => {\r\n              self.downloadFile(data);  \r\n            }); \r\n          }else{\r\n            self.openRendedViewer(res.ele,null,res.options,[res.beoptions],res.isFilter);\r\n          }  \r\n        } else {  \r\n          if(res.ele==='download'){\r\n            return this.formatSrv.printSingleById(res.beoptions, res.options, res.su,'CloudPrint')\r\n            .then((data) => {\r\n              self.downloadFile(data);  \r\n            }); \r\n          }else{\r\n            self.openRendedViewer(res.ele,null,res.options,[res.beoptions],res.isFilter);\r\n          }\r\n        }\r\n      }else{//æ²¡æeleï¼ååªè¿ååå°çæ¸²æç»æï¼ç»è°ç¨æ¹èªå·±å¤ç\r\n        if(res.filter === true){\r\n          return this.formatSrv.printSingleByFilter(res.beoptions, res.options, res.su,'CloudPrint');\r\n        }else{\r\n          return this.formatSrv.printSingleById(res.beoptions, res.options, res.su,'CloudPrint');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private outputByMultiSelectionFormat(res: any): any{\r\n    console.log('éå®æ ¼å¼åå¤æ¸²æ: ' + JSON.stringify(res));\r\n    const self = this;\r\n\r\n    res.options.DeviceId = res.boxId;\r\n    res.options.printerName = res.printerName;\r\n    res.options.printSetting = res.printSetting;\r\n    res.options.printJob = res.isJob;\r\n\r\n    if(res.isJob){//åå°æå°\r\n      if(res.isFilter === true) {\r\n        return this.formatSrv.printMultiByFilter(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }else{\r\n        return this.formatSrv.printMultiById(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  //#region å¯¹å¤è®¾è®¡å¨åé¢è§å¨æ¥å£\r\n\r\n  /**\r\n   * å¨å½åé¡µé¢Bodyä¸æå¼Designer\r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  openDesigner(format: string, data: object, formatId: string, dataIds: string) {\r\n    this.openDesignerInternal(window.document.body, format, data, formatId, dataIds);\r\n  }\r\n\r\n  /**\r\n   * å¨å½åé¡µé¢çæå®çåç´ ä¸æå¼Designer\r\n   * @param ele æå®çåç´ \r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  openDesignerOnEle(ele: HTMLElement, format: string, data: object, formatId: string, dataIds: string) {\r\n    this.openDesignerInternal(ele, format, data, formatId, dataIds);\r\n  }\r\n\r\n  /**\r\n   * å¨æ°çtabé¡µé¢ä¸æå¼Designer\r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  openDesignerNewTab(format: string, data: object, formatId: string, dataIds: string) {\r\n    this.openDesignerInternal(null, format, data, formatId, dataIds);\r\n  }\r\n  \r\n  /**\r\n   * è¿è¡æ¶å¨å½åé¡µé¢çæå®çåç´ ä¸æå¼Designer\r\n   * @param ele æå®çåç´ \r\n   * @param formatCode æ ¼å¼ç¼å·\r\n   * @param formatName æ ¼å¼åç§°\r\n   * @param bizObjectId ä¸å¡å¯¹è±¡Id\r\n   * @param datasourceId æ°æ®æºId, BEId/VOId/BesinessObjectClassInfo\r\n   * @param sourceType æ°æ®æºç±»å, SourceType.BE/SourceType.VO/SourceType.BO\r\n   */\r\n  openDesignerOnEleForRuntime(ele: HTMLElement,formatId: string, formatCode: string, formatName: string, bizObjectId: string, datasourceId: string, sourceType: SourceType) {\r\n    this.printEntity.printFormat = new PrintFormat();\r\n    this.printEntity.isUseMetaData = true;\r\n\r\n    if(formatId && formatId.length>0){\r\n      // ç¼è¾\r\n      this.formatSrv.getNewSourceFormatByFormatId(formatId)\r\n      .then((res) => {\r\n        this.printEntity.printFormat = res;\r\n        //æå¼è®¾è®¡å¨\r\n        this.openDesignerOnEle(ele, this.printEntity.printFormat.content, {}, '', '');\r\n      });\r\n    }else{\r\n      //åå§å\r\n      this.initPrintFormat(datasourceId, sourceType)\r\n      .then((res)=>{\r\n        this.printEntity.printFormat.id = Utils.uuid();\r\n        this.printEntity.printFormat.code = formatCode;\r\n        this.printEntity.printFormat.name = formatName;\r\n\r\n        this.printEntity.printFormat.bizObjectId = bizObjectId;\r\n        this.printEntity.printFormat.dataSourceId = datasourceId;\r\n        this.printEntity.printFormat.sourceType = sourceType;\r\n        this.printEntity.printFormat.isUseTemplate = false;\r\n        this.printEntity.printFormat.content = res.format; //æå°æ ¼å¼mrt   \r\n        this.printEntity.printFormat.dataSchema =  res.printschema;//PrintDataSchemaViewæè¿°   \r\n\r\n        //æå¼è®¾è®¡å¨\r\n        this.openDesignerOnEle(ele, this.printEntity.printFormat.content, {}, '', '');\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¨æå®çåç´ ä¸æå¼Designer(åç«¯æ¸²æ)\r\n   * @param ele æå®çåç´ \r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  private openDesignerInternal(ele: HTMLElement, format: string, data: object, formatId: string, dataIds: string) {\r\n    if (ele) {\r\n      this.printEntity.format = format;\r\n      this.printEntity.data = data;\r\n      this.printEntity.foramtId = formatId;\r\n      this.printEntity.dataId = dataIds;\r\n      this.createDesignerRef();\r\n      // ç»è§å¾æ·»å èæ£æ¥(è¿ä¸ªæ¹å¼æ¯éå@ViewChildçæ¹æ³ä½¿ç¨ç)\r\n      // this.applicationRef.attachView(this.designercomponentRef.hostView);\r\n      // å°åå»ºå¥½çç»ä»¶å¼ç¨appendå°æå®æ ç­¾ä¸\r\n      // è¿éå°å¨æç»ä»¶å è½½å°æå®çhtmléæä¸¤ç§æ¹å¼ï¼\r\n      //  1.ä¸é¢ç@ViewChil\r\n      //  2.å¦ä¸çele.appendChild(this.getComponentRootNode(this.viewercomponentRef));æ¹å¼\r\n      ele.appendChild(this.getComponentRootNode(this.designercomponentRef)); \r\n    } else {\r\n      const param = new OutputParam();\r\n      param.prnFormat = format;\r\n      param.prnData = data;\r\n      param.prnFormatId = formatId;\r\n      param.prnDataId = dataIds;\r\n      param.prnType = CmpType.Designer;\r\n\r\n      this.appService.openAppByOptions({\r\n        appType:'app',\r\n        funcId:'',\r\n        tabName:this.localpipe.transform('printdesigner'),\r\n        appId:'cloudprint-view-index',\r\n        appEntrance:'cloudprint-view-index',\r\n        tabId:Utils.uuid(),\r\n        entityParams:{\r\n          foramtParam:param,\r\n          formatEntity:null,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·åç©ºç½æå°æ ¼å¼\r\n   */\r\n  private initPrintFormat(datasourceId: string, sourceType: SourceType):Promise<any>{\r\n\r\n    if(sourceType === SourceType.BE)\r\n    {\r\n      //boæ°æ®æº\r\n      return this.formatSrv.createPrintFormatWithBE(datasourceId);\r\n    }\r\n    else if (sourceType === SourceType.VO) \r\n    {\r\n      // voæ°æ®æº\r\n      return this.formatSrv.createPrintFormatWithVO(datasourceId);\r\n    }\r\n    else\r\n    {\r\n      // é»è®¤ç¨BEæ°æ®æº\r\n      return this.formatSrv.createPrintFormatWithBO(datasourceId);\r\n    }  \r\n  }\r\n\r\n  /**\r\n   * åå»ºDesigneræä»¶çå¼ç¨å¯¹è±¡\r\n   */\r\n  private createDesignerRef(): void {\r\n\r\n    const factory = this.resolver.resolveComponentFactory(CloudprintDesignerComponent);\r\n    if (!this.viewContainer) {\r\n      this.designercomponentRef = factory.create(this.injector);\r\n      this.applicationRef.attachView(this.designercomponentRef.hostView);\r\n\r\n    } else {\r\n      this.viewContainer.clear();\r\n      this.designercomponentRef = this.viewContainer.createComponent(factory);\r\n    }\r\n\r\n    // åæ­¥ç»ä»¶åç»ä»¶ä¸ä¾èµçæå¡çprintEntity\r\n    this.designercomponentRef.instance.setPrintEntity(this.printEntity);\r\n    // this.designercomponentRef.instance.localeid = this.localeid;\r\n\r\n    // è®¢ééåºäºä»¶\r\n    this.designercomponentRef.instance.printEntity.onExitEvent.subscribe((e) => {\r\n      this.designercomponentRef.destroy();\r\n      if (!this.viewContainer) {\r\n        this.applicationRef.detachView(this.designercomponentRef.hostView);\r\n      } else {\r\n        this.viewContainer.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æå¼å·²ç»æ¸²æçViewerï¼åç«¯æ¸²æï¼\r\n   * @param ele æå®çåç´ \r\n   * @param data å·²ç»æ¸²æçæ ¼å¼(åç«¯æ¸²ææ¯pdfçäºè¿å¶æµ)\r\n   */\r\n  openRendedViewer(ele: any, data: any, options: OutputOptions,sourceOptions: Array<BaseSourceOptions>=null,isFilter:boolean=false,printEntity:PrintEntity=null,param:any=null) {\r\n    \r\n    if(printEntity!=null){//ç¨å¤ççprintEntityå±æ§è¦çå½åçprintEntityçå±æ§\r\n      // tslint:disable-next-line:forin\r\n      for (const key in printEntity) {\r\n        this.printEntity[key] = printEntity[key];\r\n      }\r\n    }\r\n\r\n    if(data){//æ°æ®å·²æ¸²æï¼ç´æ¥æå°ï¼ä¸å­å¨åå°æå°äº\r\n      this.preViewLocal(ele,data,options,sourceOptions,printEntity,isFilter,param);\r\n    }else{\r\n      this.preViewRemote(ele,options,sourceOptions,isFilter,printEntity,param);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * æå¼å·²ç»æ¸²æçViewerï¼åç«¯æ¸²æ,ç»éä»¶ç¨çï¼\r\n   * @param ele æå®çåç´ \r\n   * @param data å·²ç»æ¸²æçæ ¼å¼(åç«¯æ¸²ææ¯pdfçäºè¿å¶æµ)\r\n   */\r\n  openRendedViewer4Attachment(ele: any, data: any, options: OutputOptions) {\r\n    \r\n    this.openRendedViewer(ele,data,options,null,false,this.printEntity);\r\n  }\r\n\r\n  /**\r\n   * æ¬å°ç´æ¥æå°\r\n   */\r\n  private preViewLocal(ele: any, data: any, options: OutputOptions,sourceOptions: Array<BaseSourceOptions>=null,printEntity:PrintEntity=null,isFilter:boolean,param:any=null){\r\n    const self = this;\r\n\r\n    const b = new Blob([data]);\r\n    const reader = new FileReader();\r\n    reader.readAsArrayBuffer(b);\r\n    reader.onload = async function (e) {\r\n      const rendedFormat = reader.result as any;\r\n      const param = new OutputParam();\r\n      param.prnRendedFormat = btoa(new Uint8Array(rendedFormat) as any);\r\n      param.prnType = CmpType.Viewer;\r\n      param.prnOutputOps = Object.assign({},options);\r\n      param.prnSourceOptions = sourceOptions?[...sourceOptions]:[];\r\n      param.isFilter = isFilter;\r\n\r\n      if (ele === 'tab') {\r\n        self.appService.openAppByOptions({\r\n          appType:'app',\r\n          funcId:'',\r\n          tabName:self.localpipe.transform('printview'),\r\n          appId:'cloudprint-view-index',\r\n          appEntrance:'cloudprint-view-index',\r\n          tabId:Utils.uuid(),\r\n          entityParams:{\r\n            foramtParam:param,\r\n            formatEntity:null,\r\n          },\r\n        });\r\n      } else {\r\n        const remotePrint = await self.formatSrv.isRemotePrint();\r\n        self.createViewerRef();        \r\n        self.printEntity.rendedFormat = rendedFormat;\r\n        self.viewercomponentRef.instance.outputParam = param;\r\n        self.viewercomponentRef.instance.isRemotePrint = remotePrint;\r\n        ele.appendChild(self.getComponentRootNode(self.viewercomponentRef));\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * è¿ç¨æå°\r\n   */\r\n  private async preViewRemote(ele: any, options: OutputOptions,sourceOptions: Array<BaseSourceOptions>=null,isFilter:boolean,printEntity:PrintEntity=null,param:any=null){\r\n    const self = this;\r\n\r\n    const outputparam = new OutputParam();\r\n    outputparam.prnType = CmpType.Viewer;\r\n    outputparam.prnOutputOps = Object.assign({},options);\r\n    outputparam.prnSourceOptions =[...sourceOptions];\r\n    outputparam.isFilter = isFilter;\r\n    if (ele === 'tab') {\r\n\r\n      self.appService.openAppByOptions({\r\n        appType:'app',\r\n        funcId:'',\r\n        tabName:self.localpipe.transform('printview'),\r\n        appId:'cloudprint-view-index',\r\n        appEntrance:'cloudprint-view-index',\r\n        tabId:Utils.uuid(),\r\n        entityParams:{\r\n          foramtParam:outputparam,\r\n          formatEntity:null,\r\n        },\r\n      });\r\n    } else {\r\n      const remotePrint = await self.formatSrv.isRemotePrint();\r\n      self.createViewerRef();\r\n      self.viewercomponentRef.instance.outputParam = outputparam;\r\n      self.viewercomponentRef.instance.isRemotePrint = remotePrint;\r\n      ele.appendChild(self.getComponentRootNode(self.viewercomponentRef));\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * åå»ºVieweræä»¶çå¼ç¨å¯¹è±¡\r\n   */\r\n  private createViewerRef(): void {\r\n\r\n    const factory = this.resolver.resolveComponentFactory(CloudprintViewerComponent);\r\n    if (!this.viewContainer) {\r\n      this.viewercomponentRef = factory.create(this.injector);\r\n      this.applicationRef.attachView(this.viewercomponentRef.hostView);\r\n    } else {\r\n      this.viewContainer.clear();\r\n      this.viewercomponentRef = this.viewContainer.createComponent(factory);\r\n    }\r\n\r\n    // åæ­¥ç»ä»¶åç»ä»¶ä¸ä¾èµçæå¡çprintEntity\r\n    this.viewercomponentRef.instance.setPrintEntity(this.printEntity);\r\n    this.viewercomponentRef.instance.localpipe = this.localpipe;\r\n    // è®¢ééåºäºä»¶\r\n    this.viewercomponentRef.instance.printEntity.onExitEvent.subscribe((e) => {\r\n      this.viewercomponentRef.destroy();\r\n      if (!this.viewContainer) {\r\n        this.applicationRef.detachView(this.viewercomponentRef.hostView);\r\n      } else {\r\n        this.viewContainer.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å°ComponentRefç±»åçç»ä»¶å¼ç¨è½¬æ¢ä¸ºDOMèç¹ï¼åèèªMaterial2ï¼\r\n   * @param cpRef ç»ä»¶çå¼ç¨å¯¹è±¡\r\n   */\r\n  private getComponentRootNode(cpRef: ComponentRef<any>): HTMLElement {\r\n    return (cpRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n  }\r\n  //#endregion\r\n\r\n  //#region å¯¹å¤æå°æå¡æ¥å£\r\n  /**\r\n   * åæ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleById(beoptions: SourceOptions, options: OutputOptions, ele: any,su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n\r\n    if(beoptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beoptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n\r\n    //ä¸è¡¨åéææ¶ï¼è¡¨åæå°æ¶æå¤ä¸ªæå°æ ¼å¼ï¼éè¦éæ©ï¼è¿æ¶åæ ¼å¼idæ¯ç©ºç\r\n    if(beoptions.FormatId == undefined || beoptions.FormatId == '') {\r\n      return this.openFormatListByDimension(beoptions, options, ele, false);\r\n    } else {\r\n      if (ele) {\r\n        const self = this;\r\n        if(ele==='download'){\r\n          return this.formatSrv.printSingleById(beoptions, options,su, 'CloudPrint')\r\n          .then((data) => {\r\n            self.downloadFile(data); \r\n          }); \r\n        }else{\r\n          self.openRendedViewer(ele,null,options,[beoptions],false);\r\n        }\r\n      } else {\r\n        return this.formatSrv.printSingleById(beoptions, options,su, 'CloudPrint');\r\n      }      \r\n    }\r\n  }\r\n\r\n  /**\r\n   * åæ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleByFilter(beFilteroptions: SourceFilterOptions, options: OutputOptions, ele: any,su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    \r\n    if(beFilteroptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beFilteroptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n\r\n    //ä¸è¡¨åéææ¶ï¼è¡¨åæå°æ¶æå¤ä¸ªæå°æ ¼å¼ï¼éè¦éæ©ï¼è¿æ¶åæ ¼å¼idæ¯ç©ºç\r\n    if(beFilteroptions.FormatId == undefined || beFilteroptions.FormatId == '') {\r\n      return this.openFormatListByDimension(beFilteroptions, options, ele, true);\r\n    } else  {\r\n      if (ele) {\r\n        const self = this;\r\n        if(ele==='download'){\r\n          return this.formatSrv.printSingleByFilter(beFilteroptions, options,su, 'CloudPrint')\r\n          .then((data) => {\r\n            self.downloadFile(data);\r\n    \r\n          });\r\n        }else{\r\n          self.openRendedViewer(ele,null,options,[beFilteroptions],true);\r\n        }\r\n      } else {\r\n        return this.formatSrv.printSingleByFilter(beFilteroptions, options, su,'CloudPrint');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨,éè¦å¤çç»ç»å¥½æ ¼å¼åæ°æ®çå¯¹åºå³ç³»\r\n   */\r\n  printMultiById(beOptionsList: Array<SourceOptions>, options: OutputOptions,ele: any, su=null, param=null): any{\r\n    for(let i=0; i< beOptionsList.length;i++){\r\n      DataValidator.checkForNullReference(beOptionsList[i].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n\r\n    if(ele){\r\n      const self = this;\r\n      if(ele==='download'){\r\n        return this.formatSrv.printMultiById(beOptionsList,options,su,'CloudPrint')\r\n        .then((data) => {\r\n          this.downloadFile(data);\r\n        }); \r\n      }else{\r\n        self.openRendedViewer(ele, null, options,beOptionsList,false);\r\n      }\r\n    }else{\r\n      return this.formatSrv.printMultiById(beOptionsList,options,su,'CloudPrint');\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨,éè¦å¤çç»ç»å¥½æ ¼å¼åæ°æ®çå¯¹åºå³ç³»\r\n   */\r\n  printMultiByFilter(beOptionsList: Array<SourceFilterOptions>, options: OutputOptions, ele: any,su=null, param=null): any{\r\n    for(let i=0; i< beOptionsList.length;i++){\r\n      DataValidator.checkForNullReference(beOptionsList[i].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl) == false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    if(ele){\r\n      const self = this;\r\n      if(ele==='download'){\r\n        return this.formatSrv.printMultiByFilter(beOptionsList,options,su,'CloudPrint')\r\n        .then((data) => {\r\n          this.downloadFile(data);\r\n        });  \r\n      }else{\r\n        self.openRendedViewer(ele, null, options,beOptionsList,true);\r\n      }\r\n   \r\n    }else{\r\n      return this.formatSrv.printMultiByFilter(beOptionsList,options,su,'CloudPrint');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åæ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleById4Job(beoptions: SourceOptions, options: OutputOptions,su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    if(beoptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beoptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n\r\n    return this.openFormatListByDimension4Job([beoptions], options, false,false);\r\n  }\r\n\r\n  /**\r\n   * åæ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleByFilter4Job(beFilteroptions: SourceFilterOptions, options: OutputOptions, su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    if(beFilteroptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beFilteroptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n    return this.openFormatListByDimension4Job([beFilteroptions], options, true,false);\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨\r\n   */\r\n  printMultiById4Job(beOptionsList: Array<SourceOptions>, options: OutputOptions, su=null, param=null): any{\r\n    // tslint:disable-next-line:forin\r\n    for(const b in beOptionsList){\r\n      DataValidator.checkForNullReference(beOptionsList[0].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    return this.openFormatListByDimension4Job(beOptionsList, options, false,true);\r\n\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨\r\n   */\r\n  printMultiByFilter4Job(beFilteroptions: Array<SourceFilterOptions>, options: OutputOptions, su=null, param=null): any{\r\n\r\n    // tslint:disable-next-line:forin\r\n    for(const b in beFilteroptions){\r\n      DataValidator.checkForNullReference(beFilteroptions[0].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    return this.openFormatListByDimension4Job(beFilteroptions, options, true,true);\r\n  }\r\n  \r\n  /**\r\n   * åå»ºblobå¯¹è±¡ï¼å¹¶å©ç¨æµè§å¨æå¼urlè¿è¡ä¸è½½\r\n   * @param data æä»¶æµæ°æ®\r\n   */\r\n  downloadFile(data) {\r\n  \r\n    const link = document.createElement('a');\r\n    const blob = new Blob([data], {type: 'application/pdf;charset=UTF-8'});\r\n    link.setAttribute('href', window.URL.createObjectURL(blob));\r\n    link.setAttribute('download', this.printEntity.downLoadFileName+'.pdf');\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n  //#endregion\r\n  \r\n  /**\r\n   * æå°ï¼è¿æäºï¼æ¹ä¸ºprintSingleByIdï¼\r\n   * @param beoptions æ°æ®æºéé¡¹\r\n   * @param options å¯¼åºéé¡¹\r\n   * @param ele é¢è§æ¶è¦æ¸²æçä¸»ä½\r\n   * eleä¸ºç©ºæ¶ï¼è¿åæ¸²ææµï¼\r\n   * eleä¸ºtabå­ç¬¦ä¸²æ¶ï¼æ°çtabé¡µæå¼é¢è§å¨ï¼\r\n   * eleä¸ºdownloadå­ç¬¦ä¸²æ¶ï¼ä¸è½½ï¼\r\n   * eleä¸ºelementåç´ æ¶ï¼å½åé¡µçelementä¸æ¸²æé¢è§å¨\r\n   * \r\n   * æ³¨æbeoptionséçRetrieveParamåçå±æ§å¼é½éè¦å°åå­æ¯å¼å¤´\r\n   */\r\n  outputBEData(beoptions: any, options: OutputOptions, ele: any): any {\r\n    return this.printSingleById(beoptions,options,ele);\r\n  }\r\n\r\n  /**\r\n   * æå°ï¼è¿æäºï¼æ¹ä¸ºprintSingleByFilterï¼\r\n   * @param beoptions BEFilteréé¡¹\r\n   * @param options å¯¼åºéé¡¹\r\n   * @param ele é¢è§æ¶è¦æ¸²æçä¸»ä½\r\n   * eleä¸ºç©ºæ¶ï¼è¿åæ¸²ææµï¼\r\n   * eleä¸ºtabå­ç¬¦ä¸²æ¶ï¼æ°çtabé¡µæå¼é¢è§å¨ï¼\r\n   * eleä¸ºdownloadå­ç¬¦ä¸²æ¶ï¼ä¸è½½\r\n   * eleä¸ºelementåç´ æ¶ï¼å½åé¡µçelementä¸æ¸²æé¢è§å¨\r\n   * \r\n   * æ³¨æbeoptionséçRetrieveParamåçå±æ§å¼é½éè¦å°åå­æ¯å¼å¤´\r\n   */\r\n  outputBEDataWithFilter(beFilteroptions: any, options: OutputOptions, ele: any): any {\r\n    return this.printSingleByFilter(beFilteroptions, options,ele);\r\n  }\r\n\r\n}\r\n","import { LOCALE_ID, NgModule, SystemJsNgModuleLoaderConfig } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { CloudprintService } from './cloudprint.service';\r\n\r\nimport { NotifyService, NotifyContainerComponent, NotifyModule } from '@farris/ui-notify';\r\nimport { CloudprintFunctionRegister } from './functions/cloudprint.function.register';\r\nimport { AppService, CommonSharedModule } from '@gsp-sys/rtf-common';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { WindowModule, DialogModule } from '@progress/kendo-angular-dialog';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\n\r\nimport { LoadingModule, LoadingService } from '@farris/ui-loading';\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { SplitterModule  } from '@farris/ui-splitter';\r\nimport { FarrisSectionModule } from '@farris/ui-section';\r\nimport { AngularDraggableModule } from '@farris/ui-draggable';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { NumberSpinnerModule } from '@farris/ui-number-spinner';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { LocalLangPipe } from './local.pipe';\r\n// import { BrowserModule } from '@angular/platform-browser';\r\nimport { FResponseToolbarModule } from '@farris/ui-response-toolbar';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    // BrowserModule,\r\n    HttpClientModule,\r\n    NotifyModule,\r\n    WindowModule,\r\n    FormsModule,\r\n    GridModule,\r\n    DialogModule,\r\n    LoadingModule,\r\n    LoadingModule.forRoot(),\r\n    FarrisDialogModule,\r\n    FarrisButtonModule,\r\n    SplitterModule,\r\n    DatagridModule,\r\n    AngularDraggableModule,\r\n    FarrisSectionModule,\r\n    ModalModule.forRoot(),\r\n    NumberSpinnerModule,\r\n    ComboListModule,\r\n    FarrisFormsModule,\r\n    FResponseToolbarModule\r\n  ],\r\n  declarations: [\r\n    CloudprintDesignerComponent,\r\n    CloudprintViewerComponent,\r\n    FormatlistComponent,\r\n    FormatlistjobComponent,\r\n    LocalLangPipe\r\n  ],\r\n  entryComponents: [\r\n    CloudprintDesignerComponent,\r\n    CloudprintViewerComponent,\r\n    NotifyContainerComponent,\r\n    FormatlistComponent,\r\n    FormatlistjobComponent\r\n  ],\r\n  providers: [\r\n    // componentéä¾èµçæå¡é½éè¦å¨è¿éç³æä¸\r\n    CloudprintdesignerService,\r\n    CloudprintviewerService,\r\n    CloudprintService,\r\n    NotifyService,\r\n    CloudprintFunctionRegister,\r\n    AppService,\r\n    PrintFormatService,\r\n    LanguageService,\r\n    LoadingService,\r\n    { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' },\r\n  ],\r\n  // bootstrap: [ CloudprintDesignerComponent ]\r\n})\r\nexport class CloudPrintModule {\r\n}\r\n","import { QueryType } from '../enums/querytype';\r\n\r\nexport class BaseSourceOptions{\r\n    /**æå°åæ°æ®ç¼å·*/\r\n    FormatId: string;\r\n    /**BEåæ°æ®ç¼å·*/\r\n    SourceId: string;\r\n    /** åæ®ç±»åid*/\r\n    billCategoryId:string;\r\n    /**ä¸å¡ç±»åid */\r\n    bizTypeId:string;\r\n    /** æå¡åå*/\r\n    ServiceUnit: string;\r\n    /** å½åé¡µ*/\r\n    currentPage: number;\r\n    /** æ¯é¡µè¡æ°*/\r\n    pageRowCount: number;\r\n    /**æ¥è¯¢ç±»åï¼\r\n     * éå¯¹èªå®ä¹åæ°çæ¹å¼ï¼ç±»åå¼ç±åæ¹èªå·±çº¦å®å­ç¬¦ä¸²*/\r\n    queryType:QueryType;    \r\n    /**åé¨æå¡çserviceid*/\r\n    queryServiceId:string;\r\n    /** æ¥è¯¢åæ°*/\r\n    queryParam:any;\r\n\r\n    includeChildData:boolean = true;\r\n}\r\n","import { BaseSourceOptions } from './basesourceoptions';\r\nimport { QueryType } from '../enums/querytype';\r\n\r\nexport class SourceFilterOptions extends BaseSourceOptions{\r\n    public constructor() {\r\n        super();\r\n        this.queryType = QueryType.Unknown;\r\n\r\n    }\r\n    /**\r\n     * Gsç³»ç»Beæ°æ®è¿æ»¤å¨\r\n     */\r\n    EntityFilter: any;\r\n\r\n    // FirstDimensionId:string;\r\n\r\n    FirstDimensionVal: string;\r\n\r\n    // SecondDimension: string;\r\n\r\n    SecondDimensionVal: string;\r\n}\r\n","import { BaseSourceOptions } from './basesourceoptions';\r\nimport { QueryType } from '../enums/querytype';\r\n\r\nexport class SourceOptions extends BaseSourceOptions{\r\n\r\n    public constructor() {\r\n        super();\r\n        this.queryType = QueryType.Unknown;\r\n    }\r\n    /**\r\n     * Gsç³»ç»Beæ°æ®æ è¯\r\n     */\r\n    DataIds: string[];\r\n\r\n    RetrieveParam:any;\r\n    \r\n    // FirstDimensionId:string;\r\n\r\n    FirstDimensionVal: string;\r\n\r\n    // SecondDimensionId: string;\r\n\r\n    SecondDimensionVal: string;\r\n}\r\n","/**\r\n * è¿ä¸ªç±»ä»¥åä¸ç¨äºï¼ä½æ¯ä¸è½å ï¼è´¢å¡å·²ç»ä½¿ç¨ \r\n */\r\n\r\nexport class RetrieveParam {\r\n    NeedLock: boolean;\r\n    NodeSortInfos: NodeSortInfos[];\r\n    CacheType: RequestedBufferType;\r\n    ForceFromRepository: boolean;\r\n}\r\n\r\nexport class NodeSortInfos {\r\n    NodeCode: string;\r\n    SortConditions: SortConditions[];\r\n}\r\n\r\nexport class SortConditions {\r\n    SortType: SortType;\r\n    SortField: string;\r\n}\r\n\r\n\r\n//\r\n// æè¦:\r\n//     æ°æ®æ£ç´¢æ¶ä½¿ç¨çæ°æ®æ¥æºç±»å\r\nexport enum RequestedBufferType\r\n{\r\n    //\r\n    // æè¦:\r\n    //     æ¬æ¬¡è¯·æ±ä¸­çæ°æ®ã\r\n    //\r\n    // è¨è®ºï¼\r\n    //     å¦ææ¬æ¬¡è¯·æ±æ§è¡æå,æäº¤å°Inspur.Gsp.Bef.Api.Parameter.RequestedBufferType.TransactionalBuffer,å¦åè¢«ä¸¢å¼\r\n    CurrentData = 0,\r\n    //\r\n    // æè¦:\r\n    //     åå«ä¼è¯è¿ç¨ä¸­å·²ç»æ¥åçåæ´æ°æ®\r\n    TransactionalBuffer = 1,\r\n    //\r\n    // æè¦:\r\n    //     ä¿®æ¹ä¹åçèå¼,ç¨äºæ¯è¾åæ´,è·åå·®å¼æè§¦åäºä»¶ãä¼è¯è¿ç¨ä¸­ä¿æä¸æ°æ®åºä¸­ä¸è´\r\n    Original = 2\r\n}\r\n\r\nexport enum SortType {\r\n    Asc = 0,\r\n    Desc = 1\r\n}\r\n\r\n\r\n///\t\t\t\"RetrieveParam\": {\r\n///\t\t\t\t\"NeedLock\": false,\r\n///\t\t\t\t\"CacheType\": 0,\r\n///\t\t\t\t\"NodeSortInfos\": [{\r\n///\t\t\t\t\t\"NodeCode\": \"OrderItems\",\r\n///\t\t\t\t\t\"SortConditions\": [{\r\n///\t\t\t\t\t\t\"SortType\": 0,\r\n///\t\t\t\t\t\t\"SortField\": \"Price\"\r\n///\r\n///\t\t\t\t\t}]\r\n///\t\t\t\t}],\r\n///\t\t\t\t\"ForceFromRepository\": false\r\n///\t\t\t}\r\n","/**\r\n * æä»¶ç±»å\r\n *  (ä¸ºäºå¼å®¹javaï¼æ¹ä¸ºstringç±»å)\r\n */\r\nexport enum FileType {\r\n    None = 'None',\r\n    //\r\n    // æè¦:1\r\n    //     Adobe PDF format for export.\r\n    Pdf ='Pdf',\r\n    //\r\n    // æè¦:36\r\n    //     HTML5 format for export.\r\n    Html5 = 'Html5',\r\n    // //\r\n    // // æè¦:\r\n    // //     Microsoft Xps format for export.\r\n    // Xps = 2,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML Table format for export.\r\n    // HtmlTable = 3,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML Span format for export.\r\n    // HtmlSpan = 4,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML Div format for export.\r\n    // HtmlDiv = 5,\r\n    // //\r\n    // // æè¦:\r\n    // //     RTF format for export.\r\n    // Rtf = 6,\r\n    // //\r\n    // // æè¦:\r\n    // //     Table in Rtf format for export.\r\n    // RtfTable = 7,\r\n    // //\r\n    // // æè¦:\r\n    // //     Components of the report will be placed into RTF frames for export.\r\n    // RtfFrame = 8,\r\n    // //\r\n    // // æè¦:\r\n    // //     Please use StiExportFormat.RtfFrame instead.\r\n    // RtfMode1 = 8,\r\n    // //\r\n    // // æè¦:\r\n    // //     Components of the report will be placed into RTF frames with borders in Microsoft\r\n    // //     Word graphic format for export.\r\n    // RtfWinWord = 9,\r\n    // //\r\n    // // æè¦:\r\n    // //     StiExportFormat.RtfWinWord should be used instead.\r\n    // RtfMode2 = 9,\r\n    // //\r\n    // // æè¦:\r\n    // //     Mode for export to the RTF format with Tab symbol as delimiter of the text.\r\n    // RtfTabbedText = 10,\r\n    // //\r\n    // // æè¦:\r\n    // //     StiExportFormat.RtfTabbedText should be used instead.\r\n    // RtfMode3 = 10,\r\n    // //\r\n    // // æè¦:\r\n    // //     Text format for export.\r\n    // Text = 11,\r\n    // //\r\n    // // æè¦:\r\n    // //     Excel BIFF (Binary Interchange File Format) format for export.\r\n    // Excel = 12,\r\n    // //\r\n    // // æè¦:\r\n    // //     Excel Xml format for export.\r\n    // ExcelXml = 13,\r\n    // //\r\n    // // æè¦:\r\n    // //     Excel 2007 format for export.\r\n    // Excel2007 = 14,\r\n    // //\r\n    // // æè¦:\r\n    // //     Word 2007 format for export.\r\n    // Word2007 = 15,\r\n    // //\r\n    // // æè¦:\r\n    // //     Xml format for export.\r\n    // Xml = 16,\r\n    // //\r\n    // // æè¦:\r\n    // //     CSV (Comma Separated Value) file format for export.\r\n    // Csv = 17,\r\n    // //\r\n    // // æè¦:\r\n    // //     Dif file format for export.\r\n    // Dif = 18,\r\n    // //\r\n    // // æè¦:\r\n    // //     Sylk file format for export.\r\n    // Sylk = 19,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image format for export.\r\n    // Image = 20,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in GIF format for export.\r\n    // ImageGif = 21,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in BMP format for export.\r\n    // ImageBmp = 22,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in PNG format for export.\r\n    // ImagePng = 23,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in TIFF format for export.\r\n    // ImageTiff = 24,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in JPEG format for export.\r\n    // ImageJpeg = 25,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in PCX format for export.\r\n    // ImagePcx = 26,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in EMF format for export.\r\n    // ImageEmf = 27,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in SVG format for export.\r\n    // ImageSvg = 28,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in SVGZ format for export.\r\n    // ImageSvgz = 29,\r\n    // //\r\n    // // æè¦:\r\n    // //     WebArchive format for export.\r\n    // Mht = 30,\r\n    // //\r\n    // // æè¦:\r\n    // //     dBase/FoxPro format for export.\r\n    // Dbf = 31,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML format for export.\r\n    // Html = 32,\r\n    // //\r\n    // // æè¦:\r\n    // //     OpenDocument Calc file\r\n    // Ods = 33,\r\n    // //\r\n    // // æè¦:\r\n    // //     OpenDocument Writer file\r\n    // Odt = 34,\r\n    // //\r\n    // // æè¦:\r\n    // //     PowerPoint 2007 format for export\r\n    // Ppt2007 = 35,\r\n\r\n    // //\r\n    // // æè¦:\r\n    // //     Universal format for all data type of exports.\r\n    // Data = 37,\r\n    // //\r\n    // // æè¦:\r\n    // //     Document MDC file.\r\n    // Document = 1000\r\n}\r\n","import { FileType } from './fileType';\r\nimport { OutputType } from './outputType';\r\nimport { PrintType } from '../enums/printtype';\r\nimport { PrintSetting } from './printsetting';\r\n\r\n/**\r\n * å¯¼åºè®¾ç½®\r\n */\r\nexport class OutputOptions {\r\n\r\n    constructor() {\r\n        this.FileType = FileType.Pdf;\r\n        this.printType= PrintType.Form;\r\n    }\r\n    /**è¾åºç±»å æå°/å¯¼åº*/\r\n    OutputType: OutputType;\r\n    /** å¯¼åºæä»¶ç±»å(é»è®¤æ¯Pdf) */\r\n    FileType: FileType;\r\n    /** å¯¼åºè·¯å¾ */\r\n    Path: string;\r\n    /** è®¾å¤Id */\r\n    DeviceId: string;\r\n    /** æå°ç±»å */\r\n    printType: PrintType;\r\n    /** æ¯å¦åå°ä»»å¡æå°*/\r\n    printJob:boolean=false;\r\n    /**æå°æºåç§°*/\r\n    printerName:String='';\r\n    /**æå°è®¾ç½®*/\r\n    printSetting:PrintSetting=new PrintSetting();\r\n}\r\n\r\n\r\n","/**\r\n * å¯¼åºç±»å\r\n * (ä¸ºäºå¼å®¹javaï¼æ¹ä¸ºstringç±»å)\r\n */\r\nexport enum OutputType {\r\n    /**\r\n     * 0\r\n     */\r\n    None = 'None',\r\n    /** æå° 1*/\r\n    PRINT = 'PRINT',\r\n    /** å¯¼åº 2*/\r\n    EXPORT = 'EXPORT',\r\n}\r\n","import { Injectable, Injector, ApplicationRef, EventEmitter, Query, LOCALE_ID } from '@angular/core';\r\nimport { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ViewContainerRef } from '@angular/core';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { PrintEntity } from './entitys/printEntity';\r\n\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { OutputOptions } from './entitys/outputoptions/outputOptions';\r\nimport { Urls } from './utils/cloudprint.Urls';\r\nimport { SourceOptions } from './entitys/datasourceoptions/sourceOptions';\r\nimport { SourceFilterOptions } from './entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from './entitys/datasourceoptions/booptions';\r\nimport { AppService, AppOptions, FrameworkVariableService } from '@gsp-sys/rtf-common';\r\nimport { FileType } from './entitys/outputoptions/fileType';\r\nimport { CmpType } from './entitys/enums/cmpType';\r\nimport { OutputParam } from './entitys/outputoptions/outputParam';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { SourceType } from './entitys/enums/sourceType';\r\n\r\nimport { PrintFormat } from './entitys/printFormat';\r\n\r\n\r\nimport {\r\n  WindowRef,\r\n  WindowCloseResult,\r\n  WindowService\r\n} from '@progress/kendo-angular-dialog';\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { Utils } from './utils/cloudprint.utils';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { Subject } from 'rxjs';\r\nimport { QueryType } from './entitys/enums/querytype';\r\nimport { PrintType } from './entitys/enums/printtype';\r\nimport { DataValidator } from './utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from './entitys/datasourceoptions/basesourceoptions';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { LocalLangPipe } from './local.pipe';\r\n\r\n\r\n@Injectable()\r\nexport class CloudprintInternalService {\r\n \r\n  /**\r\n   * æå°åæ°å®ä½\r\n   */\r\n  printEntity = new PrintEntity();\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   */\r\n  set setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n  constructor(\r\n    private formatSrv: PrintFormatService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private applicationRef: ApplicationRef,\r\n    private notifyService: NotifyService,\r\n    private appService: AppService,\r\n    private windowService: WindowService,\r\n    private modalService: BsModalService,\r\n    ) {\r\n      \r\n        // è®¾ç½®printEntityçé»è®¤å¼\r\n        this.printEntity.appUrl = Urls.CloudPrintBaseUrl;\r\n        this.printEntity.isUseMetaData = true;\r\n        this.printEntity.language = localStorage.getItem(\"languageCode\") || 'zh-CHS';\r\n    \r\n        this.formatSrv.printEntity = this.printEntity;\r\n\r\n    }\r\n\r\n\r\n    /**beæ°æ®æºåå»ºæ ¼å¼*/\r\n    createPrintFormatWithBE(beId: string): Promise<any> {\r\n        return this.formatSrv.createPrintFormatWithBE(beId);\r\n    }\r\n\r\n    /**voæ°æ®æºåå»ºæ ¼å¼*/\r\n    createPrintFormatWithVO(voId: string): Promise<any> {\r\n        return this.formatSrv.createPrintFormatWithVO(voId);\r\n    }\r\n\r\n    /**æ ¹æ®æ°æ®æºidè·åæ ¼å¼*/\r\n    getPrintFormatByDataSrouceId(sourceId: string): Promise<any>{\r\n        return this.formatSrv.getFormatBySourceId(sourceId);\r\n    }\r\n\r\n    /**æ ¹æ®æ°æ®æºåç»´åº¦è·åæ ¼å¼*/\r\n    getPrintFormatByDataSrouceAndDimension(billCategoryId,sourceId,firstDimension,secondDimension): Promise<any>{\r\n        return this.formatSrv.getPrintFormatByDataSrouceAndDimension(billCategoryId,sourceId,firstDimension,secondDimension);\r\n    }\r\n\r\n    /**æ ¹æ®ä¸å¡å¯¹è±¡idè·åæ°æ®æº*/\r\n    getDataSourceByBOId(boId: string): Promise<any>{\r\n        return this.formatSrv.getDataSourceByBOId(boId);\r\n    }\r\n\r\n    /**æ ¹æ®æ ¼å¼idè·åæ ¼å¼*/\r\n    getFormatByFormatId(formatId:string) : Promise<any>{\r\n        return this.formatSrv.getFormatByFormatId(formatId);\r\n    }\r\n\r\n    /**æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºidï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼*/\r\n    getNewSourceFormatByFormatId(formatId:string): Promise<any> {\r\n        return this.formatSrv.getNewSourceFormatByFormatId(formatId);\r\n    }\r\n\r\n    /**æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºidï¼è¯­è¨ï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼*/\r\n    getNewSourceFormatByFormatIdAndLang(formatId:string,lang:string): Promise<any> {\r\n        return this.formatSrv.getNewSourceFormatByFormatIdAndLang(formatId,lang);\r\n    }\r\n\r\n    /**ä¿å­æ ¼å¼*/\r\n    save(data: PrintFormat) : Promise<any> {\r\n        return this.formatSrv.save(data);\r\n    }\r\n\r\n    /**ä¿å­æ ¼å¼*/\r\n    saveWithRes(data: PrintFormat) : Promise<any> {\r\n        return this.formatSrv.saveWithRes(data);\r\n    }\r\n\r\n    /**å é¤æ ¼å¼*/\r\n    remove(formatId: string) {\r\n        return this.formatSrv.remove(formatId);\r\n    }\r\n\r\n    /**æ ¹æ®æ ¼å¼idè·åæ ¼å¼*/\r\n    getFormatById(id: string): any {\r\n        if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n            this.notifyService.info('æªéç½®æ­£ç¡®çappUrl');\r\n            return;\r\n        }\r\n        return this.formatSrv.loadFormat(id, 'CloudPrint');\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable, Injector, ApplicationRef, EventEmitter, Query, LOCALE_ID } from '@angular/core';\r\nimport { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ViewContainerRef } from '@angular/core';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { PrintEntity } from './entitys/printEntity';\r\n\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { OutputOptions } from './entitys/outputoptions/outputOptions';\r\nimport { Urls } from './utils/cloudprint.Urls';\r\nimport { SourceOptions } from './entitys/datasourceoptions/sourceOptions';\r\nimport { SourceFilterOptions } from './entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from './entitys/datasourceoptions/booptions';\r\nimport { AppService, AppOptions, FrameworkVariableService } from '@gsp-sys/rtf-common';\r\nimport { FileType } from './entitys/outputoptions/fileType';\r\nimport { CmpType } from './entitys/enums/cmpType';\r\nimport { OutputParam } from './entitys/outputoptions/outputParam';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { SourceType } from './entitys/enums/sourceType';\r\n\r\nimport { PrintFormat } from './entitys/printFormat';\r\n\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { Utils } from './utils/cloudprint.utils';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { Subject } from 'rxjs';\r\nimport { QueryType } from './entitys/enums/querytype';\r\nimport { PrintType } from './entitys/enums/printtype';\r\nimport { DataValidator } from './utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from './entitys/datasourceoptions/basesourceoptions';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { LocalLangPipe } from './local.pipe';\r\nimport { AttachmentOptions } from './entitys/datasourceoptions/attachmentoptions';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Config } from './entitys/config';\r\n\r\n\r\n/**\r\n * éä»¶æå°çæå¡\r\n */\r\n@Injectable()\r\nexport class CloudPrintAttachmentService {\r\n \r\n  /**\r\n   * æå°åæ°å®ä½\r\n   */\r\n  printEntity = new PrintEntity();\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   */\r\n  set setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  localeid:string;\r\n  localpipe: LocalLangPipe;\r\n\r\n  constructor(\r\n    private formatSrv: PrintFormatService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private applicationRef: ApplicationRef,\r\n    private notifyService: NotifyService,\r\n    private appService: AppService,\r\n    private modalService: BsModalService,\r\n    private httpClient: HttpClient\r\n    ) {\r\n        // è®¾ç½®printEntityçé»è®¤å¼\r\n        this.printEntity.appUrl = Urls.CloudPrintBaseUrl;\r\n        this.printEntity.isUseMetaData = true;\r\n        this.printEntity.language = localStorage.getItem(\"languageCode\") || 'zh-CHS';\r\n    \r\n        this.formatSrv.printEntity = this.printEntity;\r\n\r\n\r\n        if(this.injector)\r\n        {\r\n          this.modalService = this.injector.get(BsModalService);\r\n          this.localeid = localStorage.getItem(\"languageCode\") || this.injector.get(LOCALE_ID);\r\n          this.localpipe = new LocalLangPipe(this.localeid);\r\n        } \r\n    }\r\n\r\n\r\n    async printAttachment(attachmentoptions: AttachmentOptions, options: OutputOptions,su=null,param=null) {\r\n      if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n        this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n        return;\r\n      }\r\n      if(attachmentoptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n        attachmentoptions.queryType = QueryType.Unknown;\r\n      }\r\n\r\n      if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n        options.printType = PrintType.Attachment;\r\n      }\r\n\r\n      const that = this;\r\n      return this.formatSrv.getPrintDevice().then((data)=>{\r\n        const device = data || [];\r\n        const factory = that.resolver.resolveComponentFactory(FormatlistjobComponent);\r\n        const printsetting = factory.create(that.injector);\r\n  \r\n        printsetting.instance.boxlist = device;\r\n        printsetting.instance.formatId = '';\r\n        printsetting.instance.isShowFormat = false;\r\n        printsetting.instance.printType = 1;\r\n        printsetting.instance.localepip = that.localpipe;\r\n\r\n        const dlg = this.modalService.show(printsetting,{\r\n          title: this.localpipe.transform('printset'),\r\n          width: 800, \r\n          height: 500,\r\n          showButtons: true,\r\n          showMaxButton:false,\r\n          buttons: [\r\n            { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n              printsetting.instance.printJob();\r\n            }},\r\n            { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n              dlg.close();\r\n            }}\r\n          ],\r\n        });  \r\n        //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n        printsetting.instance.print.subscribe(async (data) => {\r\n            dlg.close();\r\n            options.printSetting = data.printSetting;\r\n            options.printerName = data.printter;\r\n            options.DeviceId = data.boxId;\r\n            options.printJob = true;\r\n            return await this.printAttachmentJob(attachmentoptions,options);\r\n        });\r\n      });\r\n\r\n  \r\n      \r\n    }\r\n\r\n    private async printAttachmentJob(attachmentoptions: AttachmentOptions, options: OutputOptions){\r\n      const url = this.printEntity.appUrl + Urls.PrintAttachment+ 'su=' + Config.PRINT_SU;;\r\n\r\n      const httpoptions = {};\r\n      httpoptions['headers'] = {\r\n          SessionId: this.printEntity.sessionId || '',\r\n          'Content-Type':'application/json'\r\n      };\r\n      const data = {\r\n        attachmentOptions:attachmentoptions,\r\n        options:options,\r\n      }\r\n\r\n      return await this.httpClient.post(url,data,httpoptions).toPromise()\r\n      .then(()=>{\r\n        this.notifyService.info(this.localpipe.transform('sendprintjob'));\r\n        return this.localpipe.transform('sendprintjob');\r\n      })\r\n      .catch((err)=>{\r\n        this.notifyService.warning(err.error.Message);\r\n        return err.error.Message;\r\n      });    \r\n    }\r\n\r\n}\r\n"],"names":["EventEmitter","http","Subject","Injectable","HttpClient","Component","NotifyService","LoadingService","LanguageService","ElementRef","Inject","forwardRef","Input","LOCALE_ID","Pipe","BsModalService","ComponentFactoryResolver","Injector","ApplicationRef","AppService","WindowService","NgModule","CommonModule","HttpClientModule","NotifyModule","WindowModule","FormsModule","GridModule","DialogModule","LoadingModule","FarrisDialogModule","FarrisButtonModule","SplitterModule","DatagridModule","AngularDraggableModule","FarrisSectionModule","ModalModule","NumberSpinnerModule","ComboListModule","FarrisFormsModule","FResponseToolbarModule","NotifyContainerComponent","tslib_1.__extends"],"mappings":"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"}
