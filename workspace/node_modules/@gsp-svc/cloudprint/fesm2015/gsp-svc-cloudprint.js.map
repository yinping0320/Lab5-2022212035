{"version":3,"file":"gsp-svc-cloudprint.js.map","sources":["ng://@gsp-svc/cloudprint/lib/entitys/printEntity.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.filtervalue.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.utils.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.format.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.convert.ts","ng://@gsp-svc/cloudprint/lib/functions/cloudprint.function.register.ts","ng://@gsp-svc/cloudprint/lib/entitys/config.ts","ng://@gsp-svc/cloudprint/lib/utils/cloudprint.Urls.ts","ng://@gsp-svc/cloudprint/lib/entitys/printFormat.ts","ng://@gsp-svc/cloudprint/lib/utils/cloudprint.datavalidator.ts","ng://@gsp-svc/cloudprint/lib/services/printFormatService.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-designer/cloudprint-designer.service.ts","ng://@gsp-svc/cloudprint/lib/utils/cloudprint.utils.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-designer/cloudprint-designer.component.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-viewer/cloudprint-viewer.service.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/outputParam.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-viewer/cloudprint-viewer.component.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/cmpType.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/sourceType.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-formatlist/formatlist.component.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/querytype.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/printtype.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/printsetting.ts","ng://@gsp-svc/cloudprint/lib/entitys/enums/printOritation.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/paperkind.ts","ng://@gsp-svc/cloudprint/lib/cloudprint-formatlistjob/formatlistjob.component.ts","ng://@gsp-svc/cloudprint/lib/i18n/language.resource.ts","ng://@gsp-svc/cloudprint/lib/local.pipe.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.service.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.module.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/basesourceoptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/sourceFilterOptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/sourceOptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/datasourceoptions/retrieveParam.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/fileType.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/outputOptions.ts","ng://@gsp-svc/cloudprint/lib/entitys/outputoptions/outputType.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.internalservice.ts","ng://@gsp-svc/cloudprint/lib/cloudprint.attachmentservice.ts"],"sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport { PrintFormat } from './printFormat';\r\nimport { SourceType } from './enums/sourceType';\r\n\r\nexport class PrintEntity {\r\n    /**\r\n     * æ¯å¦å¨å±æ¸²æ\r\n     * é»è®¤ï¼false\r\n     */\r\n    isFullScreen: boolean;\r\n    /**\r\n     * SessionID\r\n     */\r\n    sessionId: string;\r\n    /**\r\n     * ç¬¬ä¸æ¹åºç¨çåºå°å\r\n     * (é»è®¤GSPäºæå°åºå°å)\r\n     */\r\n    appUrl: string;\r\n    /**\r\n     * å½åè¯­è¨\r\n     */\r\n    language: string;\r\n    /**\r\n     * ä¸ä¸ªå¼å³ï¼æ¯å¦è®¾è®¡å¨å¤çä¿å­é»è¾\r\n     * é»è®¤ä¸º:false\r\n     */\r\n    isUseMetaData: boolean;\r\n    //#region æ ¼å¼ç¸å³\r\n    /**\r\n     * è®¾è®¡å¨çé«åº¦\r\n     */\r\n    designerHeight: string;\r\n    /**\r\n     * æ ¼å¼id\r\n     */\r\n    foramtId: string;\r\n    /**\r\n     * æ¥è¡¨æ ¼å¼(è®¾è®¡æ¶)\r\n     */\r\n    format: string;\r\n    /**\r\n     * æ°æ®Id\r\n     */\r\n    dataId: string;\r\n    /**\r\n     * æ¥è¡¨æ°æ®\r\n     */\r\n    data: any;\r\n    /**\r\n     * schemaçç±»åï¼\r\n     *  BE\r\n     *  vo\r\n     *  BO\r\n     *  co\r\n     */\r\n    schemaType: SourceType;\r\n\r\n    printFormat: PrintFormat;\r\n\r\n    downLoadFileName='PrintReport'\r\n\r\n    //0ç¼è¾ï¼1æ¥ç\r\n    state:any;\r\n    \r\n    /**\r\n     * å·²ç»æ¸²ææå½¢çæ¥è¡¨æ ¼å¼(è¿è¡æ¶)\r\n     */\r\n    rendedFormat: any;\r\n\r\n    /**\r\n     * ä¿å­åäºä»¶\r\n     */\r\n    onSaveReportEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * éåºåäºä»¶\r\n     * å¯ç¨äºéæ¯èµæº\r\n     */\r\n    onExitEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    /**\r\n     * ä¿å­æåä¹åçidäºä»¶\r\n     */\r\n    onGetPrintFormatIdEvent: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    /**\r\n     * ä¿å­æååçäºä»¶\r\n     */\r\n    onSavedReportEvent: EventEmitter<any> = new EventEmitter<any>();\r\n}\r\n","// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n/**\r\n * äºæå°åç½®çå½æ°\r\n */\r\nexport class PrintFunctionsOfFiltervalue {\r\n    // /**\r\n    //  * æ³¨æï¼\r\n    //  * 1.ArgsTypeçç±»ååºè¯¥ä¸ºJavaScriptçç±»åèä¸æ¯stimulsoftçç±»å( è¿éä¼è¢«å®æ¹ææ¡£å¹²æ° )\r\n    //  * 2.æ°æ®æºçä¼ éï¼ç´æ¥å¨åæ°ä¸äºä¸tableåå°±è¡äºã\r\n    //  */\r\n\r\n    // /**\r\n    //  * åé¡µå½æ°\r\n    //  */\r\n    // Pagination = {\r\n    //     Category : \"GSPBuildInFunc\",\r\n    //     GroupFunctionName : \"FilterData\",\r\n    //     FunctionName : \"Pagination\",\r\n    //     Description : \"åé¡µ\",\r\n    //     TypeOfFunction : \"void\",\r\n    //     ReturnType : 'void',\r\n    //     ReturnDescription : \"æ°æ®å¼\",\r\n    //     ArgumentTypes : [Object,Number],\r\n    //     ArgumentNames : [ 'dataSource','pagesize'],\r\n    //     ArgumentDescriptions : [ \"æ°æ®æº\", \"æ¯é¡µè¡æ°\"],\r\n    //     Function: function(dataSource,pagesize) {\r\n    //         const pos = dataSource.position+1;\r\n    //         // æ¢é¡µ\r\n    //         if (pos % pagesize === 0 && pos !== 0) {\r\n    //             dataSource.dictionary.report.engine.newPage();\r\n    //         }\r\n    //     },\r\n    // };\r\n\r\n\r\n    /**\r\n     * è·åæå®æ°æ®æºä¸­æå®è¡åæå®åçå¼\r\n     */\r\n    GetValue = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'FilterData',\r\n        FunctionName : 'GetValue',\r\n        Description : 'è·åæå®æ°æ®æºä¸­æå®è¡åæå®åçå¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ°æ®å¼',\r\n        ArgumentTypes : [Object, Number, Number],\r\n        ArgumentNames : [ 'dataSource', 'row', 'col'],\r\n        ArgumentDescriptions : [ 'æ°æ®æº', 'æ¯é¡µè¡æ°'],\r\n        Function: function(dataSource, row, col) {\r\n            const table = dataSource.dataTable;\r\n            if (table == null) {\r\n                return '';\r\n            }\r\n\r\n            const a = table.rows.list[row - 1].columns.list[col - 1].storage.values[row - 1];\r\n            return a;\r\n        },\r\n    };\r\n\r\n\r\n    /**\r\n     * è·åç¬¦åæ¡ä»¶çç®æ åçå¼\r\n     */\r\n    GetFilterValues = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'FilterData',\r\n        FunctionName : 'GetFilterValues',\r\n        Description : 'è·åç¬¦åæ¡ä»¶çç®æ åçå¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ°æ®å¼',\r\n        ArgumentTypes : [Object, String, String, String, Boolean],\r\n        ArgumentNames : [ 'dataSource', 'filterColumn', 'filterValue', 'targetColumnName', 'first'],\r\n        ArgumentDescriptions : [ 'æ°æ®æº', 'è¿æ»¤å', 'è¿æ»¤å¼ï¼å¿é¡»æ¯stirngï¼', 'ç®æ å', 'æ¯å¦è·åç¬¬ä¸ä¸ªç¬¦åæ¡ä»¶çå¼' ],\r\n        Function: function(dataSource: any, filterColumn: string, filterValue: any, targetColumnName: string, first: boolean) {\r\n            const table = dataSource.dataTable;\r\n            if (table == null) {\r\n                return '';\r\n            }\r\n            const colValues = table.columns.list.find((e) => e.columnName === filterColumn).storage.values;\r\n            const a = [];\r\n            for (let index = 0; index < colValues.length; index++) {\r\n                const element = colValues[index];\r\n                if (element === filterValue) {\r\n                    a.push(index);\r\n                    if (first) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let res = '';\r\n            const tmpIndex = a.pop();\r\n            if (tmpIndex >= 0) {\r\n                res += table.columns.list.find((e) => e.columnName === targetColumnName).storage.values[tmpIndex];\r\n                res += ';';\r\n            }\r\n\r\n            return res.substring(0, res.length - 2);\r\n        },\r\n    };\r\n\r\n\r\n}\r\n","/**\r\n * äºæå°å½æ°å·¥å·ç±»\r\n */\r\nexport class PrintFunctionUtils {\r\n\r\n\r\n    /**\r\n     * å°æ°å­è½¬ä¸ºæ±å­\r\n     * @param number æ°å¼\r\n     */\r\n    public static FormatToCurrencyNumber(number: number): string {\r\n\r\n        var result = PrintFunctionUtils.FormatToCurrencyNumberCN(number);\r\n        // æç±»ä¼¼ ãä¸åäºãä¸­çä¸å»æï¼æ¹ä¸ºãåäºã\r\n        if (result.startsWith('ä¸å')) {\r\n            result = result.substring(1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * å°æ°å­è½¬æ¢ä¸ºæ±å­\r\n     * @param number æ°å¼\r\n     */\r\n    public static FormatToCurrencyNumberCN(number: number): string {\r\n        var res = PrintFunctionUtils.ConvertCurrency(number);\r\n        var result = res;\r\n\r\n        result = result.replace(new RegExp(\"å£¹\",\"gm\"), \"ä¸\");\r\n        result = result.replace(new RegExp(\"è´°\",\"gm\"), \"äº\");\r\n        result = result.replace(new RegExp(\"å\",\"gm\"), \"ä¸\");\r\n        result = result.replace(new RegExp(\"è\",\"gm\"), \"å\");\r\n        result = result.replace(new RegExp(\"ä¼\",\"gm\"), \"äº\");\r\n        result = result.replace(new RegExp(\"é\",\"gm\"), \"å­\");\r\n        result = result.replace(new RegExp(\"æ\",\"gm\"), \"ä¸\");\r\n        result = result.replace(new RegExp(\"æ\",\"gm\"), \"å«\");\r\n        result = result.replace(new RegExp(\"ç\",\"gm\"), \"ä¹\");\r\n        result = result.replace(new RegExp(\"æ¾\",\"gm\"), \"å\");\r\n        result = result.replace(new RegExp(\"ä½°\",\"gm\"), \"ç¾\");\r\n        result = result.replace(new RegExp(\"ä»\",\"gm\"), \"å\");\r\n\r\n        result = result.replace(\"å\", \"ç¹\");\r\n        result = result.replace(\"è§\", \"\");\r\n        result = result.replace(\"å\", \"\");\r\n        result = result.replace(\"æ´\", \"\");\r\n\r\n        if (result[result.length - 1] == 'ç¹') \r\n        {\r\n            result = result.substring(0, result.length-1);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static ConvertCurrency(money) {\r\n        //æ±å­çæ°å­\r\n        var cnNums = new Array('é¶', 'å£¹', 'è´°', 'å', 'è', 'ä¼', 'é', 'æ', 'æ', 'ç');\r\n        //åºæ¬åä½\r\n        var cnIntRadice = new Array('', 'æ¾', 'ä½°', 'ä»');\r\n        //å¯¹åºæ´æ°é¨åæ©å±åä½\r\n        var cnIntUnits = new Array('', 'ä¸', 'äº¿', 'å');\r\n        //å¯¹åºå°æ°é¨ååä½\r\n        var cnDecUnits = new Array('è§', 'å', 'æ¯«', 'å');\r\n        //æ´æ°éé¢æ¶åé¢è·çå­ç¬¦\r\n        var cnInteger = 'æ´';\r\n        //æ´åå®ä»¥åçåä½\r\n        var cnIntLast = 'å';\r\n        //æå¤§å¤ççæ°å­\r\n        var maxNum = 999999999999999.9999;\r\n        //éé¢æ´æ°é¨å\r\n        var integerNum;\r\n        //éé¢å°æ°é¨å\r\n        var decimalNum;\r\n        //è¾åºçä¸­æéé¢å­ç¬¦ä¸²\r\n        var chineseStr = '';\r\n        //åç¦»éé¢åç¨çæ°ç»ï¼é¢å®ä¹\r\n        var parts;\r\n        if (money == '') { return ''; }\r\n        money = parseFloat(money);\r\n        if (money >= maxNum) {\r\n          //è¶åºæå¤§å¤çæ°å­\r\n          return '';\r\n        }\r\n        if (money == 0) {\r\n          chineseStr = cnNums[0] + cnIntLast + cnInteger;\r\n          return chineseStr;\r\n        }\r\n        //è½¬æ¢ä¸ºå­ç¬¦ä¸²\r\n        money = money.toString();\r\n        if (money.indexOf('.') == -1) {\r\n          integerNum = money;\r\n          decimalNum = '';\r\n        } else {\r\n          parts = money.split('.');\r\n          integerNum = parts[0];\r\n          decimalNum = parts[1].substr(0, 4);\r\n        }\r\n        //è·åæ´åé¨åè½¬æ¢\r\n        if (parseInt(integerNum, 10) > 0) {\r\n          var zeroCount = 0;\r\n          var IntLen = integerNum.length;\r\n          for (var i = 0; i < IntLen; i++) {\r\n            var n = integerNum.substr(i, 1);\r\n            var p = IntLen - i - 1;\r\n            var q = p / 4;\r\n            var m = p % 4;\r\n            if (n == '0') {\r\n              zeroCount++;\r\n            } else {\r\n              if (zeroCount > 0) {\r\n                chineseStr += cnNums[0];\r\n              }\r\n              //å½é¶\r\n              zeroCount = 0;\r\n              chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];\r\n            }\r\n            if (m == 0 && zeroCount < 4) {\r\n              chineseStr += cnIntUnits[q];\r\n            }\r\n          }\r\n          chineseStr += cnIntLast;\r\n        }\r\n        //å°æ°é¨å\r\n        if (decimalNum != '') {\r\n          var decLen = decimalNum.length;\r\n          //å¤çå°å\r\n          if (decLen > 2) \r\n          {\r\n              decLen = 2;\r\n          }\r\n          for (var i = 0; i < decLen; i++) {\r\n            var n = decimalNum.substr(i, 1);\r\n            if (n != '0') {\r\n              chineseStr += cnNums[Number(n)] + cnDecUnits[i];\r\n            }\r\n          }\r\n        }\r\n        if (chineseStr == '') {\r\n          chineseStr += cnNums[0] + cnIntLast + cnInteger;\r\n        } else if (decimalNum == '') {\r\n          chineseStr += cnInteger;\r\n        }\r\n        return chineseStr;\r\n    }\r\n\r\n    /**\r\n     * å°æ°å¼æ ¼å¼åä¸ºä¸­æå¤§åè´§å¸éé¢ï¼å½¢å¦ãå£¹æ¾ä¸æä»åé¶ä¼è§ååã\r\n     */\r\n    public static FormatToCurrencyCN(money: number) {\r\n        return PrintFunctionUtils.ConvertCurrency(money);\r\n    }\r\n\r\n    public static FormatToCurrency(money: number){\r\n        let str = this.FormatToCurrencyCN(money);\r\n        str = str.replace('é¶','');\r\n        return str;\r\n    }\r\n\r\n\r\n    private static insert_item(str, item, index) {\r\n        // åå§åä¸ä¸ªç©ºå­ç¬¦ä¸²\r\n        let newstr = '';\r\n        const tmp = str.substring(0, index);\r\n        const estr = str.substring(index, str.length);\r\n        newstr += tmp + item + estr;\r\n        return newstr;\r\n    }\r\n\r\n    /**\r\n    * å¯¹æ¥æè¿è¡æ ¼å¼åï¼ åC#å¤§è´ä¸è´ é»è®¤yyyy-MM-dd HH:mm:ss\r\n    * å¯ä¸å¸¦åæ° ä¸ä¸ªæ¥æåæ° æä¸ä¸ªæ ¼å¼ååæ°\r\n    * @param date è¦æ ¼å¼åçæ¥æ \r\n    * @param format è¿è¡æ ¼å¼åçæ¨¡å¼å­ç¬¦ä¸²\r\n    *     æ¯æçæ¨¡å¼å­æ¯æï¼ \r\n    *     y:å¹´, \r\n    *     M:å¹´ä¸­çæä»½(1-12), \r\n    *     d:æä»½ä¸­çå¤©(1-31), \r\n    *     H:å°æ¶(0-23), \r\n    *     h:å°æ¶(0-11), \r\n    *     m:å(0-59), \r\n    *     s:ç§(0-59), \r\n    *     f:æ¯«ç§(0-999),\r\n    *     q:å­£åº¦(1-4)\r\n    * @return String\r\n    * @author adswads@gmail.com\r\n    */\r\n    public static dateFormat(date?: any, format?: string): string {\r\n        // æ åæ°\r\n        if (date === undefined && format === undefined) {\r\n            date = new Date();\r\n            format = 'yyyy-MM-dd HH:mm:ss';\r\n        } else if (typeof (date) === 'string') {// æ æ¥æ\r\n            format = date;\r\n            date = new Date();\r\n        } else if (format === undefined) {// æ æ ¼å¼ååæ°\r\n            format = 'yyyy-MM-dd HH:mm:ss';\r\n        } else { }// æ²¡æåéç¬¦çç¹æ®å¤ç\r\n\r\n        const map = {\r\n            y: date.getFullYear() + '', // å¹´ä»½\r\n            M: date.getMonth() + 1 + '', // æä»½\r\n            d: date.getDate() + '', // æ¥\r\n            H: date.getHours(), // å°æ¶ 24\r\n            m: date.getMinutes() + '', // å\r\n            s: date.getSeconds() + '', // ç§\r\n            q: Math.floor((date.getMonth() + 3) / 3) + '', // å­£åº¦\r\n            f: date.getMilliseconds() + '' // æ¯«ç§\r\n        };\r\n        // å°æ¶ 12\r\n        if (map['H'] > 12) { map['h'] = map['H'] - 12 + ''; } else { map['h'] = map['H'] + ''; }\r\n        map['H'] += '';\r\n\r\n        const reg = 'yMdHhmsqf';\r\n        let all = '', str = '';\r\n        for (let i = 0, n = 0; i < reg.length; i++) {\r\n            n = format.indexOf(reg[i]);\r\n            if (n < 0) { continue; }\r\n            all = '';\r\n            for (; n < format.length; n++) {\r\n                if (format[n] !== reg[i]) {\r\n                    break;\r\n                }\r\n                all += reg[i];\r\n            }\r\n            if (all.length > 0) {\r\n                if (all.length === map[reg[i]].length) {\r\n                    str = map[reg[i]];\r\n                } else if (all.length > map[reg[i]].length) {\r\n                    if (reg[i] === 'f') {\r\n                        str = map[reg[i]] + this.charString('0', all.length - map[reg[i]].length);\r\n                    }  else {\r\n                        str = this.charString('0', all.length - map[reg[i]].length) + map[reg[i]];\r\n                    }\r\n                } else {\r\n                    switch (reg[i]) {\r\n                        case 'y': str = map[reg[i]].substr(map[reg[i]].length - all.length); break;\r\n                        case 'f': str = map[reg[i]].substr(0, all.length); break;\r\n                        default: str = map[reg[i]]; break;\r\n                    }\r\n                }\r\n                format = format.replace(all, str);\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    /**\r\n    * è¿åå­ç¬¦ä¸² ä¸ºnä¸ªcharææ\r\n    * @param char éå¤çå­ç¬¦\r\n    * @param count æ¬¡æ°\r\n    * @return String\r\n    * @author adswads@gmail.com\r\n    */\r\n   private static charString(char: string, count: number): string {\r\n        let str = '';\r\n        while (count--) {\r\n            str += char;\r\n        }\r\n        return str;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * æ ¼å¼åæ°å­\r\n     * @param  number  [è¦æ ¼å¼åçæ°å­]\r\n     * @param  decimals         [ä¿çå ä½å°æ°]\r\n     * @param  dec_point        [å°æ°ç¹ç¬¦å·]\r\n     * @param  thousands_sep    [ååä½ç¬¦å·]\r\n     * @param  roundtag         [èå¥åæ°ï¼é»è®¤ \"ceil\" åä¸å,\"floor\"åä¸å,\"round\" åèäºå¥]\r\n     * @return  æ ¼å¼ååçç»æ\r\n     */\r\n    private static  number_format(number, decimals, dec_point, thousands_sep, roundtag) {\r\n        number = (number + '').replace(/[^0-9+-Ee.]/g, '');\r\n        roundtag = roundtag || 'ceil'; // \"ceil\",\"floor\",\"round\"\r\n        let n = !isFinite(+number) ? 0 : +number,\r\n            prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n            sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n            dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n            s = [],\r\n            toFixedFix = function (n, prec) {\r\n\r\n                const k = Math.pow(10, prec);\r\n                console.log();\r\n    \r\n                return '' + parseFloat(Math[roundtag](parseFloat((n * k).toFixed(prec * 2))).toFixed(prec * 2)) / k;\r\n            };\r\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n        const re = /(-?\\d+)(\\d{3})/;\r\n        while (re.test(s[0])) {\r\n            s[0] = s[0].replace(re, '$1' + sep + '$2');\r\n        }\r\n    \r\n        if ((s[1] || '').length < prec) {\r\n            s[1] = s[1] || '';\r\n            s[1] += new Array(prec - s[1].length + 1).join('0');\r\n        }\r\n        return s.join(dec);\r\n    }\r\n\r\n}\r\n","import { PrintFunctionUtils } from './cloudprint.function.utils';\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n/**\r\n * äºæå°åç½®çå½æ°\r\n */\r\nexport class PrintFunctionsOfFormat {\r\n    /**\r\n     * æ³¨æï¼\r\n     * 1.ArgsTypeçç±»ååºè¯¥ä¸ºJavaScriptçç±»åèä¸æ¯stimulsoftçç±»å( è¿éä¼è¢«å®æ¹ææ¡£å¹²æ° )\r\n     * 2.æ°æ®æºçä¼ éï¼ç´æ¥å¨åæ°ä¸äºä¸tableåå°±è¡äºã\r\n     */\r\n\r\n\r\n    /**\r\n     * å°æä¸¾å¼è½¬æ¢ä¸ºæ¾ç¤ºå¼\r\n     */\r\n    ParseEnumValue = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format', \r\n        FunctionName : 'ParseEnumValue',\r\n        Description : 'å°æä¸¾å¼è½¬æ¢ä¸ºæ¾ç¤ºå¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ¾ç¤ºå¼',\r\n        ArgumentTypes : [String, String, Object],\r\n        ArgumentNames : [ 'realValue', 'disPlayValue', 'enumObject'],\r\n        ArgumentDescriptions : [  'æä¸¾å¼(0/1/2)', 'æ¾ç¤ºå¼(ä¸­/è±/æ³)', 'æä¸¾å®ä¾'],\r\n        Function: function(realValue: string, disPlayValue: string, enumObject: any) {\r\n            // const real = realValue.split('/');\r\n            // const disPlay = disPlayValue.split('/');\r\n\r\n            // if (real.length === disPlay.length) {\r\n            //     const enumIntValue = enumObject.toString();\r\n            //     const index = real.findIndex(x => x === enumIntValue);\r\n\r\n            //     if (index > -1) {\r\n            //         return disPlay[index];\r\n            //     }\r\n            // }\r\n\r\n            // return '';\r\n        },\r\n    };\r\n\r\n\r\n    /**\r\n     * å°8ä½å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼\r\n     */\r\n    Format8CharDateTime = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'Format8CharDateTime',\r\n        Description : 'å°8ä½å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æå®æ¥ææ ¼å¼çå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, String],\r\n        ArgumentNames : [ 'format', 'dataString'],\r\n        ArgumentDescriptions : [  'æä¸¾å¼(0/1/2)', 'æ¾ç¤ºå¼(ä¸­/è±/æ³)', 'æä¸¾å®ä¾'],\r\n        Function: function(format: string, dataString: string) {\r\n            // if (dataString.length !== 8) {\r\n            //     return dataString;\r\n            // }\r\n            // // tslint:disable-next-line:radix\r\n            // const year = parseInt(dataString.substring(0, 4));\r\n            // // tslint:disable-next-line:radix\r\n            // const mouth = parseInt(dataString.substring(4, 6));\r\n            // // tslint:disable-next-line:radix\r\n            // const day = parseInt(dataString.substring(6, 8));\r\n\r\n            // const dateTime = new Date();\r\n            // dateTime.setFullYear(year);\r\n            // /**\r\n            //  * Sets the month value in the Date object using local time.\r\n            //  * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //  * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            // */\r\n            // dateTime.setMonth(mouth - 1);\r\n            // dateTime.setDate(day);\r\n\r\n            // return PrintFunctionUtils.dateFormat(dateTime, format);\r\n        },\r\n    };\r\n\r\n\r\n    /**\r\n     * å°8ä½å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼\r\n     */\r\n    FormatDateTime = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDateTime',\r\n        Description : 'å°æ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æå®æ¥ææ ¼å¼çå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, Object],\r\n        ArgumentNames : [ 'format', 'datetime'],\r\n        ArgumentDescriptions : [  'æ ¼å¼', 'æ¥æ(DateTimeç±»å)'],\r\n        Function: function(format: string, datetime: any) {\r\n            // if (typeof (date) === 'string') {\r\n\r\n            //     const year = parseInt(date.substring(0, 4));\r\n            //     const mouth = parseInt(date.substring(5, 7));\r\n            //     const day = parseInt(date.substring(8, 10));\r\n            //     const dateTime = new Date();\r\n            //     dateTime.setFullYear(year);\r\n            //     /**\r\n            //      * Sets the month value in the Date object using local time.\r\n            //      * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //      * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            //     */\r\n            //     dateTime.setMonth(mouth - 1);\r\n            //     dateTime.setDate(day);\r\n            //     return PrintFunctionUtils.dateFormat(dateTime, format);\r\n            // } else {\r\n            //     const year = date.year;\r\n            //     const mouth = date.month;\r\n            //     const day = date.day;\r\n            //     const dateTime = new Date();\r\n            //     dateTime.setFullYear(year);\r\n            //     /**\r\n            //      * Sets the month value in the Date object using local time.\r\n            //      * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //      * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            //     */\r\n            //     dateTime.setMonth(mouth - 1);\r\n            //     dateTime.setDate(day);\r\n            //     return PrintFunctionUtils.dateFormat(dateTime, format);\r\n            // }\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°å­ç¬¦ä¸²å½¢å¼çæ¥æè½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼\r\n     */\r\n    FormatDateTimeStr = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDateTimeStr',\r\n        Description : 'å°æ¥æå­ç¬¦ä¸²è½¬æ¢ä¸ºæå®æ ¼å¼çæ¥ææ ¼å¼',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æå®æ¥ææ ¼å¼çå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, String],\r\n        ArgumentNames : [ 'format', 'datestring'],\r\n        ArgumentDescriptions : [  'æ ¼å¼', 'æ¥æå­ç¬¦ä¸²)'],\r\n        Function: function(format: string, datestring: string) {\r\n\r\n            // const year = parseInt(date.substring(0, 4));\r\n            // const mouth = parseInt(date.substring(5, 7));\r\n            // const day = parseInt(date.substring(8, 10));\r\n            // const dateTime = new Date();\r\n            // dateTime.setFullYear(year);\r\n            // /**\r\n            //  * Sets the month value in the Date object using local time.\r\n            //  * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r\n            //  * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r\n            // */\r\n            // dateTime.setMonth(mouth - 1);\r\n            // dateTime.setDate(day);\r\n            // return PrintFunctionUtils.dateFormat(dateTime, format);\r\n        },\r\n    };\r\n\r\n    FormatDateTimeCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDateTimeCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­æ¥æ',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­æ¥æ',\r\n        ArgumentTypes : [Object, Boolean,Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple','isDeleteZero'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n        Function: function(datetime,isSimple,isDeleteZero) {\r\n        },\r\n    };\r\n\r\n    // FormatDateTimeStrCN = {\r\n    //     Category : 'IGixFucs',\r\n    //     GroupFunctionName : 'Format',\r\n    //     FunctionName : 'FormatDateTimeStrCN',\r\n    //     Description : 'å°æ°å­æ¥æå­ç¬¦è½¬æ¢ä¸ºæ±å­æ¥æ',\r\n    //     TypeOfFunction : 'void',\r\n    //     ReturnType : String,\r\n    //     ReturnDescription : 'æ±å­æ¥æ',\r\n    //     ArgumentTypes : [String, Boolean,Boolean],\r\n    //     ArgumentNames : [ 'datestring', 'isSimple','isDeleteZero'],\r\n    //     ArgumentDescriptions : [  'æ¥æå­ç¬¦ä¸²ï¼yyyy-MM-ddï¼', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n    //     Function: function(datestring: string, isSimple: Boolean,isDeleteZero: Boolean) {\r\n    //     },\r\n    // };\r\n\r\n    FormatYearCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatYearCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­å¹´',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­å¹´',\r\n        ArgumentTypes : [Object, Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­'],\r\n        Function: function(datetime,isSimple) {\r\n        },\r\n    };\r\n\r\n    FormatMonthCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatMonthCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­æ',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­æ',\r\n        ArgumentTypes : [Object, Boolean,Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple','isDeleteZero'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n        Function: function(datetime,isSimple,isDeleteZero) {\r\n        },\r\n    };\r\n\r\n    FormatDayCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatDayCN',\r\n        Description : 'å°æ°å­æ¥æè½¬æ¢ä¸ºæ±å­æ¥',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ±å­æ¥',\r\n        ArgumentTypes : [Object, Boolean,Boolean],\r\n        ArgumentNames : [ 'datetime', 'isSimple','isDeleteZero'],\r\n        ArgumentDescriptions : [  'æ¥æ(DateTimeç±»å)', 'æ¯å¦ç®ä½æ±å­','æ¯å¦å»é¤é¶'],\r\n        Function: function(datetime,isSimple,isDeleteZero) {\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrencyNumber = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrencyNumber',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºå¤§åä¸­æï¼æ¯å¦å°12.38æ ¼å¼åä¸ºãåäºç¹ä¸å«ã',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'å¤§åä¸­ææ°å­',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'number'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrencyNumber,\r\n    };\r\n\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrencyNumberCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrencyNumberCN',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºå¤§åä¸­æéé¢æ°å¼ï¼æ¯å¦å°12.38æ ¼å¼åä¸ºãä¸åäºç¹ä¸å«ã',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'å¤§åä¸­ææ°å¼',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'number'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrencyNumberCN,\r\n    };\r\n\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrencyCN = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrencyCN',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºä¸­æå¤§åè´§å¸éé¢',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'ä¸­æå¤§åè´§å¸éé¢',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'money'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrencyCN,\r\n    };\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatToCurrency = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatToCurrency',\r\n        Description : 'å°æ°å¼æ ¼å¼åä¸ºä¸­æå¤§åè´§å¸éé¢',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'ä¸­æå¤§åè´§å¸éé¢',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'money'],\r\n        ArgumentDescriptions : ['æ°å¼'],\r\n        Function: PrintFunctionUtils.FormatToCurrency,\r\n    };\r\n\r\n\r\n    /**\r\n     * å°é¿æä¼¯æ°å­è½¬æ¢ä¸ºæ±å­\r\n     */\r\n    FormatFloat = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format', \r\n        FunctionName : 'FormatFloat',\r\n        Description : 'å°æµ®ç¹ç±»åè½¬åä¸ºæå®çæ ¼å¼æ¾ç¤º',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æµ®ç¹åæ°å­ç»æ',\r\n        ArgumentTypes : [Number, String],\r\n        ArgumentNames : [ 'f', 'format'],\r\n        ArgumentDescriptions : ['æµ®ç¹åæ°å­', 'æ ¼å¼'],\r\n        Function: function(f: number, format: string) {\r\n            \r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°è¿ç»­åºç°çè¿æ¥ç¬¦è½¬æ¢ä¸ºåä¸ªå­ç¬¦ï¼\r\n     * ä¾å¦å°12---32è½¬æ¢ä¸º12-32\r\n     */\r\n    RemoveRepeatedJoiner = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'RemoveRepeatedJoiner',\r\n        Description : 'å°è¿ç»­åºç°çè¿æ¥ç¬¦è½¬æ¢ä¸ºåä¸ªå­ç¬¦ï¼ä¾å¦å°12---32è½¬æ¢ä¸º12-32',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'ææ¢åçå­ç¬¦ä¸²',\r\n        ArgumentTypes : [String, String],\r\n        ArgumentNames : [ 'joiner', 'str'],\r\n        ArgumentDescriptions : ['è¿æ¥ç¬¦', 'å­ç¬¦ä¸²'],\r\n        Function: function(joiner: string, str: string) {\r\n            // if (joiner.length > 1 && str.trim().length) {\r\n            //     return str;\r\n            // }\r\n\r\n            // joiner = joiner.substring(0, 1);\r\n\r\n            // const patten = '(' + joiner + ')+';\r\n            // const subStr = new RegExp(patten, 'g');\r\n            // let res = str.replace(subStr, joiner);\r\n\r\n            // if (res[0] === joiner) {\r\n            //     res = res.substr(1);\r\n            // }\r\n            // if (res[res.length - 1] === joiner) {\r\n            //     res = res.substr(0, res.length - 2);\r\n            // }\r\n            // return res;\r\n        },\r\n  \r\n    };\r\n\r\n    /**\r\n     * æ ¹æ®èµ·å§é¡µç è½¬åé¡µç \r\n     */\r\n    FormatPageIndexWithStartNumber = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Format',\r\n        FunctionName : 'FormatPageIndexWithStartNumber',\r\n        Description : 'æ ¹æ®èµ·å§é¡µç éæ°è®¡ç®é¡µç ï¼ä¾å¦ï¼èµ·å§é¡µç ä¸º10ï¼é£ç¬¬ä¸é¡µå°æ¾ç¤º10',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'è½¬ååçé¡µç ',\r\n        ArgumentTypes : [String, Number],\r\n        ArgumentNames : [ 'page', 'start'],\r\n        ArgumentDescriptions : ['å½åé¡µç (æ¥èªç³»ç»åé)', 'èµ·å§é¡µ'],\r\n        Function: function(page: string, start: number) {\r\n            // const newline = Number(page)+start;\r\n            // return newline;\r\n        },\r\n    }\r\n    \r\n    /**\r\n     * è¿åæå®keyçèµæºå¼\r\n     */\r\n    // L = {\r\n    //     Category : 'IGixFucs',\r\n    //     GroupFunctionName : 'Location',\r\n    //     FunctionName : 'L',\r\n    //     Description : 'æ¬å°å',\r\n    //     TypeOfFunction : 'void',\r\n    //     ReturnType : String,\r\n    //     ReturnDescription : 'è¿åæå®keyçèµæºå¼',\r\n    //     ArgumentTypes : [String, String],\r\n    //     ArgumentNames : [ 'resourceKey', 'defaultValue'],\r\n    //     ArgumentDescriptions : ['èµæºKey', 'defaultValue'],\r\n    //     Function: function(resourceKey: string, defaultValue: string) {\r\n    //         return defaultValue;\r\n    //     },\r\n    // };\r\n}\r\n\r\n\r\n","// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n/**\r\n * äºæå°åç½®çå½æ°\r\n */\r\nexport class PrintFunctionsOfConvert {\r\n    \r\n    /**\r\n     * å°å­ç¬¦ä¸²è½¬åä¸ºBigDecimal\r\n     */\r\n    ConvertStringToBigDecimal = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'ConvertStringToBigDecimal',\r\n        Description : 'å°å­ç¬¦ä¸²è½¬åä¸ºBigDecimal',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ¾ç¤ºå¼',\r\n        ArgumentTypes : [String],\r\n        ArgumentNames : [ 'money'],\r\n        ArgumentDescriptions : ['éé¢å­ç¬¦ä¸²'],\r\n        Function: function(money:String) {\r\n            // const real = realValue.split('/');\r\n            // const disPlay = disPlayValue.split('/');\r\n\r\n            // if (real.length === disPlay.length) {\r\n            //     const enumIntValue = enumObject.toString();\r\n            //     const index = real.findIndex(x => x === enumIntValue);\r\n\r\n            //     if (index > -1) {\r\n            //         return disPlay[index];\r\n            //     }\r\n            // }\r\n\r\n            // return '';\r\n        },\r\n    };\r\n\r\n        \r\n    /**\r\n     * å°Doubleè½¬åä¸ºBigDecimal\r\n     */\r\n    ConvertDoubleToBigDecimal = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'ConvertDoubleToBigDecimal',\r\n        Description : 'å°Doubleè½¬åä¸ºBigDecimal',\r\n        TypeOfFunction : 'void',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æ¾ç¤ºå¼',\r\n        ArgumentTypes : [Number],\r\n        ArgumentNames : [ 'money',],\r\n        ArgumentDescriptions : ['doubleç±»åçéé¢'],\r\n        Function: function(money:Number) {\r\n            // const real = realValue.split('/');\r\n            // const disPlay = disPlayValue.split('/');\r\n\r\n            // if (real.length === disPlay.length) {\r\n            //     const enumIntValue = enumObject.toString();\r\n            //     const index = real.findIndex(x => x === enumIntValue);\r\n\r\n            //     if (index > -1) {\r\n            //         return disPlay[index];\r\n            //     }\r\n            // }\r\n\r\n            // return '';\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°Doubleè½¬åä¸ºBigDecimal\r\n     */\r\n    SubStringMoney = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'SubStringMoney',\r\n        Description : 'æç§ä½ç½®æªåéé¢æ°å¼',\r\n        TypeOfFunction : 'string',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æªåçéé¢ï¼ä¾å¦ï¼SubStringMoney(\"1232.32\",\"-1\")è¿å3ï¼',\r\n        ArgumentTypes : [Number,String,Boolean],\r\n        ArgumentNames : [ 'money','position','isZeroShow'],\r\n        ArgumentDescriptions : ['stringç±»åçéé¢','stringæªåçä½ç½®ï¼å°æ°ç¹å¾å·¦ä½ç½®æ¯1,2,3ä¾æ¬¡ç±»æ¨ï¼å¾å³æ¯-1,-2ä¾æ¬¡ç±»æ¨ï¼'],\r\n        Function: function(money:String,position: String,isZeroShow: boolean) {\r\n        },\r\n    };\r\n\r\n    /**\r\n     * å°Doubleè½¬åä¸ºBigDecimal\r\n     */\r\n    SubDoubleMoney = {\r\n        Category : 'IGixFucs',\r\n        GroupFunctionName : 'Convert', \r\n        FunctionName : 'SubDoubleMoney',\r\n        Description : 'æç§ä½ç½®æªåéé¢æ°å¼',\r\n        TypeOfFunction : 'string',\r\n        ReturnType : String,\r\n        ReturnDescription : 'æªåçéé¢ï¼ä¾å¦ï¼SubStringMoney(\"1232.32\",\"3\")è¿å2ï¼',\r\n        ArgumentTypes : [Number,String,Boolean],\r\n        ArgumentNames : [ 'money','position','isZeroShow'],\r\n        ArgumentDescriptions : ['doubleç±»åçéé¢','stringç±»åæªåçä½ç½®ï¼å°æ°ç¹å¾å·¦ä½ç½®æ¯1,2,3ä¾æ¬¡ç±»æ¨ï¼å¾å³æ¯-1,-2ä¾æ¬¡ç±»æ¨ï¼'],\r\n        Function: function(money:Number,position: String,isZeroShow: boolean) {\r\n        },\r\n    };\r\n}","import { Injectable } from '@angular/core';\r\nimport { PrintFunctionsOfFiltervalue } from './cloudprint.function.filtervalue';\r\nimport { PrintFunctionsOfFormat } from './cloudprint.function.format';\r\nimport { Subject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { PrintFunctionsOfConvert } from './cloudprint.function.convert';\r\n\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n@Injectable()\r\nexport class CloudprintFunctionRegister {\r\n\r\n  private httpoptions = {};\r\n\r\n  constructor(private http: HttpClient) { \r\n    this.httpoptions['headers'] = {\r\n      SessionId:'',\r\n      'Content-Type':'application/json'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * åå§åèªå®ä¹å½æ°\r\n   */\r\n  public initCustomFunction(configUrl) {\r\n\r\n    // åç½®å½æ°-æ°å¼è¿æ»¤\r\n    const funcs = new PrintFunctionsOfFiltervalue();\r\n    // åç½®å½æ°-æ ¼å¼å\r\n    const funcFormat = new PrintFunctionsOfFormat();\r\n    // åç½®å½æ°-æ ¼å¼å\r\n    const funcConvert = new PrintFunctionsOfConvert();\r\n\r\n    // è¿éé»è®¤çGSPåç½®å½æ°åç»ä¸ºGSP\r\n    if (Stimulsoft.Report.Dictionary.StiFunctions.getFunctions('IGixFucs').length === 0) {\r\n        // tslint:disable-next-line:forin\r\n        for (const f in funcs) {\r\n            const func = funcs[f];\r\n            Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n              func.Category,\r\n              func.GroupFunctionName,\r\n              func.FunctionName,\r\n              func.Description,\r\n              func.TypeOfFunction,\r\n              func.ReturnType,\r\n              func.ReturnDescription,\r\n              func.ArgumentTypes,\r\n              func.ArgumentNames,\r\n              func.ArgumentDescriptions,\r\n              func.Function\r\n              );\r\n        }\r\n\r\n        // tslint:disable-next-line:forin\r\n        for (const f in funcFormat) {\r\n          const func = funcFormat[f];\r\n          Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n            func.Category,\r\n            func.GroupFunctionName,\r\n            func.FunctionName,\r\n            func.Description,\r\n            func.TypeOfFunction,\r\n            func.ReturnType,\r\n            func.ReturnDescription,\r\n            func.ArgumentTypes,\r\n            func.ArgumentNames,\r\n            func.ArgumentDescriptions,\r\n            func.Function);\r\n        }\r\n\r\n        // tslint:disable-next-line:forin\r\n        for (const f in funcConvert) {\r\n          const func = funcConvert[f];\r\n          Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n            func.Category,\r\n            func.GroupFunctionName,\r\n            func.FunctionName,\r\n            func.Description,\r\n            func.TypeOfFunction,\r\n            func.ReturnType,\r\n            func.ReturnDescription,\r\n            func.ArgumentTypes,\r\n            func.ArgumentNames,\r\n            func.ArgumentDescriptions,\r\n            func.Function);\r\n        }\r\n    }\r\n\r\n\r\n    // èªå®ä¹å½æ°todo:æç»èªå®ä¹å½æ°ä»åå°åéç½®æä»¶éçè§£æ\r\n    return this.http.get(configUrl,this.httpoptions).toPromise()\r\n    .then((data:[]) => {\r\n      if(data && data.length>0){\r\n        return this.addJsFuncPlugins(-1, data)\r\n        .then(() => {\r\n          if (!data) {\r\n            return;\r\n          }\r\n          const allFuncs = [];\r\n          // tslint:disable-next-line:forin\r\n          if(data.length>0){\r\n            for (const i in data) {\r\n              allFuncs.push(window[(data[i] as any).key]);\r\n            }\r\n          }\r\n\r\n  \r\n          \r\n          if (Stimulsoft.Report.Dictionary.StiFunctions.getFunctions('CustomFucs').length === 0 && allFuncs.length>0) {\r\n            // tslint:disable-next-line:forin\r\n            for (const f in allFuncs) {\r\n                const item = allFuncs[f];\r\n                // tslint:disable-next-line:forin\r\n                for (const f2 in item) {\r\n                  const func = item[f2];\r\n                  Stimulsoft.Report.Dictionary.StiFunctions.addFunction(\r\n                    'CustomFucs',\r\n                    func.GroupFunctionName,\r\n                    func.FunctionName,\r\n                    func.Description,\r\n                    func.TypeOfFunction,\r\n                    func.ReturnType,\r\n                    func.ReturnDescription,\r\n                    func.ArgumentTypes,\r\n                    func.ArgumentNames,\r\n                    func.ArgumentDescriptions,\r\n                    func.Function);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ·»å jsä¸å¡å½æ°æä»¶\r\n   */\r\n  private addJsFuncPlugins(i, data) {\r\n    if (!data && data.length==0) {\r\n      const sub = new Subject<any>();\r\n      sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n      return sub.toPromise();\r\n    }\r\n\r\n    const loader = window['System'];\r\n    if (i < data.length - 1) {\r\n      i++;\r\n      this.addJsFuncPlugins(i, data);\r\n    }\r\n    return loader.import(data[i].path);\r\n  }\r\n\r\n}\r\n","export class Config{\r\n    public static PRINT_SU = 'Prt';\r\n}\r\n","import { Config } from '../entitys/config';\r\n\r\nexport const Urls = {\r\n    // ç¬¬ä¸æ¹åºç¨é½ç»ä¸èµ°èªå·±æå¡ç«¯è½¬è°\r\n    \r\n\r\n    /** äºæå°çåºå°å*/\r\n    CloudPrintBaseUrl: '/api/runtime/'+Config.PRINT_SU+'/v1.0/service',\r\n    CloudPrintDimensionUrl: '/api/runtime/'+Config.PRINT_SU+'/v1.0/demensionservice',\r\n    CloudPrintDeviceUrl: '/api/runtime/'+Config.PRINT_SU+'/v1.0/device',\r\n\r\n    /**æ ¹æ®æ°æ®æºè·åæ ¼å¼ */\r\n    GetPrintFormatByDataSrouceId : '/GetPrintFormatByDataSrouceId?',\r\n    \r\n    /**æ ¹æ®æ°æ®æºåç»´åº¦è·åæ ¼å¼*/\r\n    GetPrintFormatByDataSrouceAndDimension : '/GetPrintFormatByDataSrouceAndDimension?',\r\n\r\n    /**è·åæ ¼å¼åæå°è®¾å¤ */\r\n    GetPrintFormatAndDevice: '/getPrintFormatAndDevice?',\r\n    GetPrintDevice: '/getPrintDevice?',\r\n\r\n    /**ä¿å­æ ¼å¼ */\r\n    SavePrintFormat : '/SavePrintFormat',\r\n\r\n    /**ä¿å­æ ¼å¼ */\r\n    SavePrintFormatWithRes : '/savePrintFormatWithRes',\r\n\r\n    /**å é¤æå®ç»´åº¦ */\r\n    DeletePrintFormat : '/DeletePrintFormat',\r\n\r\n    /**è·åæå®ä¸å¡å¯¹è±¡ä¸çæå°æ°æ®æº */\r\n    GetDataSourceByBOId : '/GetDataSourceByBOId?',\r\n\r\n    CreatePrintFormatWithBE : '/CreatePrintFormatWithBE?',\r\n\r\n    CreatePrintFormatWithVO : '/CreatePrintFormatWithVO?',\r\n\r\n    CreatePrintFormatWithBO : '/CreatePrintFormatWithBO?',\r\n\r\n    CreatePrintFormatWithSchema: '/CreatePrintFormatWithSchema',\r\n    \r\n\r\n    /**å è½½å·²ææ ¼å¼API*/\r\n    LoadPrintFormatById: '/GetPrintFormatById?',\r\n\r\n    LoadNewSourcePrintFormatById:'/getNewSourcePrintFormatById?',\r\n\r\n    LoadNewSourcePrintFormatByIdAndLang:'/getNewSourcePrintFormatByIdAndLang?',\r\n\r\n    /**å è½½æå°æ°æ®API*/\r\n    LoadPrintData: '/GetPrintData?',\r\n\r\n    /**è·åè®¾è®¡å¨é¡µé¢*/\r\n    GetDesigerHtml: '/GetDesigerHtml',\r\n\r\n    /**è·åæ©å±çjsä¸å¡å½æ°*/\r\n    GetCustomJsFunc: '/GetCustomJsFunc',\r\n\r\n    /**æå°API*/\r\n    PrintSingleById: '/OutputBEData?',\r\n    PrintSingleByFilter: '/OutputBEDataWithFilter?',\r\n    PrintMultiById:'/printMultiById?',\r\n    PrintMultiByFilter:'/printMultiByFilter?',\r\n    PrintSingleBOData: '/OutputBOData?',\r\n    /** æå°æµè¯æ°æ®ï¼ç¨äºè®¾è®¡æ¶é¢è§ */\r\n    PrintTestData:'/printTestData?',\r\n    /** è§¦åæå°äºä»¶ */\r\n    SendPrintEvent:'/sendPrintEvent?',\r\n    PrintAttachment:'/printAttachment?',\r\n    IsRemotePrint:'/isRemotePrint?',\r\n    GetEnableFonts:'/fonts?'\r\n};\r\n","import { SourceType } from './enums/sourceType';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { SysOrgType } from './enums/sysorgtype';\r\n\r\nexport class PrintFormat{\r\n    constructor(){\r\n        this.nameMap = {};\r\n    }\r\n    //#region è¿é¨åæ¯è·åç«¯å®ä½ç±»å¯¹åºçå±æ§ï¼æä»¥é¦å­æ¯å¤§åäº\r\n    /** æå°åæ°æ®id */\r\n    id: string;\r\n    /** æå°åæ°æ®ç¼å· */\r\n    code: string;\r\n    /** æå°åæ°æ®åç§° */\r\n    name: string;\r\n    name_chs:string;\r\n    name_en:string;\r\n    /** å¤è¯­åç§°å¯¹è±¡ */\r\n    nameMap={};\r\n\r\n    /** ä¸å¡å¯¹è±¡id */\r\n    bizObjectId: string;\r\n    /** æ ¼å¼åå®¹ */\r\n    content: string;\r\n    /** æ°æ®æºId */\r\n    dataSourceId: string;\r\n    /** æ°æ®Schema */\r\n    dataSchema: any;\r\n\r\n    /** åå§åè¯­è¨ */\r\n    originLanguage: string;\r\n\r\n    /** è¯­è¨ */\r\n    language: string;\r\n\r\n    /** åå»ºäºº */\r\n    creator: string;\r\n\r\n    /** åå»ºæ¶é´ */\r\n    createdTime: Date;\r\n\r\n    /** æåä¿®æ¹äºº */\r\n    lastModifier: string;\r\n\r\n    /** æåä¿®æ¹æ¶é´ */\r\n    lastModifiedTime: Date;\r\n    /** å®ä½ç±»schemaæå¨çdll */\r\n    entityDll: string;\r\n    /** å®ä½ç±»schemaæå¨çclass */\r\n    entityClass: string;\r\n    //#endregion\r\n\r\n    // æ°æ®æºåæ°æ®å¯¹è±¡\r\n    sourceMetadata: any;\r\n    // æ¯å¦ä½¿ç¨æ¨¡æ¿\r\n    isUseTemplate: boolean;\r\n    /**\r\n     * æ°æ®æºç±»å\r\n     * BEï¼GSPBusinessEntity\r\n     * EF: EFCoreçå®ä½ç±»\r\n     * VOï¼GSPViewModel\r\n     */\r\n    sourceType: SourceType;\r\n\r\n    sysFormat: boolean;\r\n\r\n    sysOrgType: SysOrgType;\r\n\r\n    currentLanguage;\r\n\r\n    publicFormat: boolean;\r\n\r\n    billcategoryId:string;\r\n\r\n    /**\r\n     * ç»´åº¦åéid\r\n     */\r\n    distributeId: string;\r\n    /**\r\n     * ç»´åº¦ä¸\r\n     */\r\n    firstDimensionVal: string;\r\n\r\n    /**\r\n     * ç»´åº¦äº\r\n     */\r\n    secondDimensionVal: string;\r\n\r\n    // /**\r\n    //  * ä¿å­åäºä»¶\r\n    //  */\r\n    // onSaveReportEvent: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    // /**\r\n    //  * éåºåäºä»¶\r\n    //  * å¯ç¨äºéæ¯èµæº\r\n    //  */\r\n    // onExitEvent: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n}\r\n","export class DataValidator{\r\n\r\n    static checkForEmptyString(obj:String, s:String)\r\n    {\r\n        if(obj || obj.length===0)\r\n        {\r\n            throw new Error(s+'ä¸ºç©º');\r\n        }\r\n    }\r\n\r\n    static checkForNullReference(obj:Object, s:String)\r\n    {\r\n        if(obj == null)\r\n        {\r\n            throw new Error(s+'ä¸ºnull');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¹æ³æ å¿ä½æ ¡éª\r\n     */\r\n    static checkFlag(flag: string) {\r\n        if (flag && flag === 'CloudPrint') {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ ¡éªappUrl\r\n     */\r\n    static checkAppUrl(url) {\r\n        if (!url) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { PrintFormat } from '../entitys/printFormat';\r\nimport { Urls } from '../utils/cloudprint.Urls';\r\nimport { PrintEntity } from '../entitys/printEntity';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Utils } from '../utils/cloudprint.utils';\r\nimport { Subject } from 'rxjs';\r\nimport { SourceOptions } from '../entitys/datasourceoptions/sourceOptions';\r\nimport { OutputOptions } from '../entitys/outputoptions/outputOptions';\r\nimport { SourceFilterOptions } from '../entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from '../entitys/datasourceoptions/booptions';\r\nimport { Config } from '../entitys/config';\r\nimport { DataValidator } from '../utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from '../entitys/datasourceoptions/basesourceoptions';\r\n\r\n@Injectable()\r\nexport class PrintFormatService {\r\n\r\n    printEntity = new PrintEntity();\r\n\r\n    private curSu = Config.PRINT_SU;\r\n    \r\n    constructor(private httpClient: HttpClient) {\r\n    }\r\n\r\n    createPrintFormatWithBE(beId: string): Promise<any> {\r\n        const url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBE+'beId='+ beId + '&su=' + this.curSu;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url ,httpoptions).toPromise();\r\n    }\r\n\r\n    createPrintFormatWithVO(voId: string): Promise<any> {\r\n\r\n        const url = this.printEntity.appUrl + Urls.CreatePrintFormatWithVO+'voId=' + voId + '&su=' + this.curSu;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise();\r\n    }\r\n    \r\n\r\n    createPrintFormatWithBO(biznessObjectClassInfo: string): Promise<any> {\r\n\r\n        const url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBO+'biznessObjectClassInfo=' + biznessObjectClassInfo + '&su=' + this.curSu;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise();\r\n    }\r\n    \r\n    \r\n    getDataSourceByBOId(boId: string): Promise<any>{\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        const url = this.printEntity.appUrl + Urls.GetDataSourceByBOId;\r\n        return this.httpClient.get(url + 'boId=' +  boId + '&su='+this.curSu).toPromise();\r\n    }\r\n\r\n    getFormatBySourceId(dataSourceId:string) : Promise<any>{\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(this.printEntity.appUrl + Urls.GetPrintFormatByDataSrouceId+'dataSrouceId=' + dataSourceId+'&su='+this.curSu,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getPrintFormatByDataSrouceAndDimension(billCategoryId,sourceId,firstDimension,secondDimension) : Promise<any>{\r\n\r\n        firstDimension = firstDimension || '';\r\n        secondDimension = secondDimension || ''\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(this.printEntity.appUrl + Urls.GetPrintFormatByDataSrouceAndDimension+'billCategoryId='+billCategoryId+'&sourceId='+sourceId+'&firstDimension='+firstDimension+'&secondDimension='+secondDimension+'&su='+this.curSu,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getPrintFormatAndDevice(billCategoryId,sourceId,firstDimension,secondDimension) : Promise<any>{\r\n\r\n        firstDimension = firstDimension || '';\r\n        secondDimension = secondDimension || ''\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        const data = {\r\n            billCategoryId:billCategoryId,\r\n            sourceId:sourceId,\r\n            firstDimension:firstDimension,\r\n            secondDimension:secondDimension\r\n        }\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.GetPrintFormatAndDevice+'su='+this.curSu, data,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getPrintDevice() : Promise<any>{\r\n\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(Urls.CloudPrintDeviceUrl + Urls.GetPrintDevice+'su='+this.curSu, null,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    getFormatByFormatId(formatId:string) : Promise<any>{\r\n        const url = this.printEntity.appUrl + Urls.LoadPrintFormatById+'metadataId=' + formatId+'&su='+this.curSu;\r\n        // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºidï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼\r\n     */\r\n    getNewSourceFormatByFormatId(formatId:string): Promise<any> {\r\n        const url = Urls.CloudPrintBaseUrl + Urls.LoadNewSourcePrintFormatById;\r\n\r\n        return this.httpClient.get(url + 'formatId=' +  formatId).toPromise();\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºid,è¯­è¨ï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼\r\n     */\r\n    getNewSourceFormatByFormatIdAndLang(formatId:string,lang:string): Promise<any> {\r\n        const url = Urls.CloudPrintBaseUrl + Urls.LoadNewSourcePrintFormatByIdAndLang;\r\n\r\n        return this.httpClient.get(url + 'formatId=' +  formatId +'&lang='+lang).toPromise();\r\n    }\r\n\r\n    save(data: PrintFormat) : Promise<any> {\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.SavePrintFormat+'?su='+this.curSu, data,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    saveWithRes(data: PrintFormat) : Promise<any> {\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.SavePrintFormatWithRes+'?su='+this.curSu, data,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    remove(data: string) {\r\n        // const body = { 'printFormatId':data};\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.DeletePrintFormat+'/'+data+'?su='+this.curSu, null,httpoptions)\r\n        .toPromise()\r\n        .then((ret) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * å è½½æ ¼å¼\r\n     * @param reportID id\r\n     */\r\n    loadFormat(reportID: string, flag: string): Promise<any> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n        /**\r\n         * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.formatèµå¼äº\r\n         */\r\n        if (this.printEntity.format) {\r\n            const sub = new Subject<any>();\r\n            sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n            return sub.toPromise()\r\n            .then(() => {\r\n                this.printEntity.printFormat = this.printEntity.printFormat || new PrintFormat();\r\n                this.printEntity.printFormat.content = this.printEntity.format;\r\n                return this.printEntity.format;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°CreatePrintFormatWithBE,CreatePrintFormatWithSchemaåGetPrintFormatByIdè¿ä¿©ä¸ªgetè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        let url: string ;\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        if (reportID && reportID.length > 0) {// å è½½å·²æçæ ¼å¼\r\n            url = this.printEntity.appUrl + Urls.LoadPrintFormatById+'metadataId=' + reportID+'&su='+this.curSu;\r\n            // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n            return this.httpClient.get(url,httpoptions).toPromise()\r\n            .then((data: any) => {\r\n                // å è½½äºæ ¼å¼åææ ¼å¼è®°ä½\r\n                this.printEntity.printFormat = data;\r\n                this.printEntity.format = data.content; \r\n                return data.content;\r\n            });\r\n        } else {\r\n            console.log(this.printEntity.format);\r\n            console.log(reportID);\r\n            console.error('æ ¼å¼idä¸ºç©ºï¼æ æ³è·åæ ¼å¼ä¿¡æ¯');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å è½½æ°æ®\r\n     * @param dataIds è¦å è½½çæ°æ®Id\r\n     */\r\n    loadData(dataIds: string, flag: string): Promise<any> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n        /**\r\n         * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.dataèµå¼äº\r\n         */\r\n        if (this.printEntity.data) {\r\n            const sub = new Subject<any>();\r\n            sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n            return sub.toPromise()\r\n            .then(() => {\r\n                return this.printEntity.data;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°GetPrintDataè¿ä¸ªgetè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(this.printEntity.appUrl + Urls.LoadPrintData + 'dataIds=' + dataIds+'&su='+this.curSu, httpoptions).toPromise()\r\n        .then((data2) => {\r\n            return data2;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * åæ ¼å¼æ°æ®idæ¸²ææå°\r\n     * GSåé¨/ç¬¬ä¸æ¹\r\n     * @param beOptions æ°æ®æºéé¡¹\r\n     * @param options å¯¼åºéé¡¹\r\n     * @param su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printSingleById(beOptions: SourceOptions, options: OutputOptions ,su:string,  flag): Promise<string> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            BEOptions: beOptions,\r\n            Options: options\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        if(!beOptions.ServiceUnit){\r\n            return this.getSuByFormatId(beOptions.FormatId)\r\n            .then((sucode)=>{\r\n                beOptions.ServiceUnit = sucode;\r\n                su = su || beOptions.ServiceUnit;\r\n                return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleById + 'su='+su, body, httpoptions).toPromise()\r\n                .then((ret: any) => {\r\n                    return ret;\r\n                });\r\n            });\r\n        }else{\r\n            su = su || beOptions.ServiceUnit;\r\n            return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleById + 'su='+su, body, httpoptions).toPromise()\r\n            .then((ret: any) => {\r\n                return ret;\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åæ ¼å¼è¿æ»¤æ¡ä»¶æ¸²ææå°\r\n     * GSåé¨/ç¬¬ä¸æ¹\r\n     * @param beOptions BEFilteréé¡¹\r\n     * @param options å¯¼åºéé¡¹\r\n     * @param su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printSingleByFilter(beOptions: SourceFilterOptions, options: OutputOptions,su:string, flag): Promise<string> {\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            BEOptions: beOptions,\r\n            Options: options\r\n        };\r\n\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        if(!beOptions.ServiceUnit){\r\n            return this.getSuByFormatId(beOptions.FormatId)\r\n            .then((sucode)=>{\r\n                beOptions.ServiceUnit = sucode;\r\n                su = su || beOptions.ServiceUnit;\r\n                return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleByFilter + 'su='+su, body, httpoptions).toPromise()\r\n                .then((ret: any) => {\r\n                    return ret;\r\n                });\r\n            });\r\n        }else{\r\n            su = su || beOptions.ServiceUnit;\r\n            return this.httpClient.post(this.printEntity.appUrl + Urls.PrintSingleByFilter + 'su='+su, body, httpoptions).toPromise()\r\n            .then((ret: any) => {\r\n                return ret;\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printMultiById(beOptionsList: Array<SourceOptions>, options: OutputOptions, su:String , flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            sourceOptionsList: beOptionsList,\r\n            options: options\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.PrintMultiById + 'su='+su, body, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * su:åæ æ¨¡å¼ä¸ï¼è¯¥suåªæ¯ç¨æ¥ç»nginxæ¥éç½®è·¯ç±\r\n     */\r\n    printMultiByFilter(beOptionsList: Array<SourceFilterOptions>, options: OutputOptions, su:String , flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            sourceFilterOptionsList: beOptionsList,\r\n            options: options\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.PrintMultiByFilter + 'su='+su, body, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ¸²ææµè¯æ°æ®\r\n     */\r\n    printTestData(formats:String, datas:String , flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        const body = {\r\n            format: formats,\r\n            data: JSON.stringify(datas),\r\n        };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'blob';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.PrintTestData + 'su='+this.curSu, body, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * è§¦åæå°äºä»¶\r\n     */\r\n    sendPrintEvent(data, flag): Promise<string>{\r\n        if (DataValidator.checkFlag(flag) === false) {\r\n            alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n            return null;\r\n        }\r\n\r\n        // const body = {\r\n        //     formatid:formatid,\r\n        //     su:su,\r\n        // };\r\n        /**\r\n         * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n         * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n         * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n         */\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return this.httpClient.post(this.printEntity.appUrl + Urls.SendPrintEvent + 'su='+this.curSu, data, httpoptions).toPromise()\r\n        .then((ret: any) => {\r\n            return ret;\r\n        });\r\n    }\r\n\r\n    async isRemotePrint() : Promise<any>{\r\n        const url = this.printEntity.appUrl + Urls.IsRemotePrint+'su='+this.curSu;\r\n        // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        // var httpops = Object.assign({},httpoptions);\r\n        // httpops['responseType']=\"text/html\";\r\n\r\n        return await this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    } \r\n\r\n    async getEnableFonts() : Promise<any>{\r\n        const url = this.printEntity.appUrl + Urls.GetEnableFonts+'su='+this.curSu;\r\n        // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n        const httpoptions = {};\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n\r\n        return await this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    } \r\n\r\n\r\n    /**\r\n     * éè¿æå°æ ¼å¼ï¼è·åboï¼å¨è·åsuï¼è¿æ¯ä¸ä¸ªä¸´æ¶æ¹æ¡ï¼\r\n     * @param id \r\n     */\r\n    private getSuByFormatId(formatId): Promise<string> {\r\n        const url = this.printEntity.appUrl +'/getSuByFormatId?formatId=' + formatId+'&su=cloudprint';\r\n        const httpoptions = {};\r\n        httpoptions['responseType'] = 'text/html';\r\n        httpoptions['headers'] = {\r\n            SessionId: this.printEntity.sessionId || '',\r\n            'Content-Type':'application/json'\r\n        };\r\n        return this.httpClient.get(url,httpoptions).toPromise()\r\n        .then((data: any) => {\r\n          return data;\r\n        });\r\n    }\r\n \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n// @Injectable({\r\n//   providedIn: 'root'\r\n// })\r\n/**\r\n * ä¸ç¨äºï¼ä½æ¯å¾ä¿çï¼ä¸ç¶çè¯å«äººç¨äºè¿ä¸ªnpmåçå¾éæ°æå\r\n */\r\n@Injectable()\r\nexport class CloudprintdesignerService {\r\n  // printEntity = new PrintEntity();\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // /**\r\n  //  * å è½½Designerçç»æ\r\n  //  * @param reportID id\r\n  //  */\r\n  // loadFormat(reportID: string, flag: string): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.formatèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.format) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       this.printEntity.printFormat = this.printEntity.printFormat || new PrintFormat();\r\n  //       this.printEntity.printFormat.content = this.printEntity.format;\r\n  //       return this.printEntity.format;\r\n  //     });\r\n  //   }\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°CreatePrintFormatWithBE,CreatePrintFormatWithSchemaåGetPrintFormatByIdè¿ä¿©ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   let url: string ;\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n\r\n  //   if (reportID && reportID.length > 0) {// å è½½å·²æçæ ¼å¼\r\n  //     url = this.printEntity.appUrl + Urls.LoadPrintFormatById + reportID;\r\n  //     // LoadPrintFormatByIdæ¯ä¸ªGetè¯·æ±\r\n  //     return this.http.get(url,httpoptions).toPromise()\r\n  //     .then((data: any) => {\r\n  //       // å è½½äºæ ¼å¼åææ ¼å¼è®°ä½\r\n  //       this.printEntity.printFormat = data;\r\n  //       return data.content;\r\n  //     });\r\n  //   } else {// å è½½æ°æ ¼å¼\r\n  //     const body = {};\r\n  //     // CreatePrintFormatWithBEåCreatePrintFormatWithBOæ¯postè¯·æ±\r\n\r\n  //     if (this.printEntity.schemaType === SchemaType.BO) {// bo\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBO + this.printEntity.format;\r\n  //       return this.http.get(url, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret: any) => {\r\n  //         return ret.format;\r\n  //       });\r\n\r\n  //     } else {// schema\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithSchema;\r\n  //       body['printDataSchemaView'] = this.printEntity.format;\r\n  //       return this.http.post(url, body, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret) => {\r\n  //         return ret;\r\n  //       });\r\n  //     }\r\n  //   }\r\n\r\n  // }\r\n\r\n  // /**\r\n  //  * å è½½designeræ°æ®\r\n  //  * @param dataIds è¦å è½½çæ°æ®Id\r\n  //  */\r\n  // loadData(dataIds: string, flag: string): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.dataèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.data) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       return this.printEntity.data;\r\n  //     });\r\n\r\n  //   }\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°GetPrintDataè¿ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.get(this.printEntity.appUrl + Urls.LoadPrintData + dataIds, httpoptions).toPromise()\r\n  //   .then((data2) => {\r\n  //     return data2;\r\n  //   });\r\n  // }\r\n\r\n\r\n  // // /**\r\n  // //  * ä¿å­å½åçæ ¼å¼\r\n  // //  * @param id æ ¼å¼id/æ ¼å¼åæ°æ®id\r\n  // //  * @param mrt å½åçè®¾è®¡å¨æ ¼å¼\r\n  // //  */\r\n  // // saveReportFormat(printFormat: PrintFormat,flag: string): Promise<string> {\r\n  // //   if (Utils.checkFlag(flag) === false) {\r\n  // //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  // //     return null;\r\n  // //   }\r\n\r\n  // //   // const body = {\r\n  // //   //   PrintFormat: printFormat,\r\n  // //   // };\r\n\r\n  // //   /**\r\n  // //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  // //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°SavePrintFormatè¿ä¸ªgetè¯·æ±æ¥å£\r\n  // //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  // //    */\r\n  // //   const httpoptions = {};\r\n  // //   httpoptions['headers'] = {\r\n  // //     SessionId: this.printEntity.sessionId || '',\r\n  // //     'Content-Type':'application/json'\r\n  // //   };\r\n\r\n\r\n  // //   return this.http.post(this.printEntity.appUrl + Urls.SavePrintFormat, body, httpoptions)\r\n  // //   .toPromise()\r\n  // //   .then((ret: any) => {\r\n  // //     return ret;\r\n  // //   });\r\n  // // }\r\n  \r\n}\r\n","// @dynamic\r\nexport class Utils {\r\n\r\n    /**\r\n     * å¤æ­æ¯å¦PCç«¯ or ç§»å¨ç«¯\r\n     * true:PC\r\n     * false:Mobile\r\n     */\r\n    public static isPC(): boolean {\r\n\r\n        if ((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {\r\n            return false;  // ç§»å¨ç«¯\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public static uuid(): string {\r\n        return [this.gen(2), this.gen(1), this.gen(1), this.gen(1), this.gen(3)].join('-');\r\n    }\r\n\r\n    public static renderPdfByByte(rendedFormat,ele){\r\n        if (rendedFormat) {\r\n\r\n          const lock = setInterval(function() {\r\n            if (ele) { \r\n                const v = document.getElementById('viewframe') as any;\r\n                if(v){\r\n                    const filebtn = v.contentWindow.document.getElementById('openFile');\r\n                    const printbtn =  v.contentWindow.document.getElementById('print');\r\n                    const downbtn =  v.contentWindow.document.getElementById('download');\r\n                    let file = false;\r\n                    let down = false;\r\n                    let print = false;\r\n                    if(filebtn) {\r\n                        filebtn.style.display='none';\r\n                        file = true;\r\n                    }\r\n                    if(downbtn) {\r\n                        downbtn.style.display='none';\r\n                        down = true;\r\n                    }\r\n                    if(printbtn) {\r\n                        printbtn.style.display='none';\r\n                        print = true;\r\n                    }\r\n    \r\n                    if(file && down && print){\r\n                        clearInterval(lock);\r\n                    }\r\n                }else{\r\n                    const binaryData = [];\r\n                    // binaryData.push(self.convertBase64ToUint8Array(rendedFormat));\r\n                    binaryData.push(new Uint8Array(rendedFormat));\r\n                    this.url =window.URL.createObjectURL(new Blob(binaryData, {type:'application/pdf'}));\r\n                    // éè¿pdfjsæ¥é¢è§pdf\r\n                    ele.innerHTML = '<iframe id=\"viewframe\" src=\"/platform/common/web/pdfjs/viewer.html?file='+encodeURIComponent(this.url)+'\" height=\"100%\" width=\"100%\"></iframe>';\r\n                    ele.hidden = false;\r\n                }\r\n            }\r\n          }, 200);\r\n        }\r\n    }\r\n    \r\n    private static gen(count: number) {\r\n        let out = '';\r\n        for (let i = 0; i < count; i++) {\r\n            // tslint:disable-next-line:no-bitwise\r\n            out += (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r\n        return out;\r\n    }\r\n\r\n}\r\n","import { Component, OnInit, OnDestroy, ViewChild, ViewContainerRef } from '@angular/core';\r\n// import { CloudprintdesignerService } from './cloudprint-designer.service';\r\nimport { PrintEntity } from '../entitys/printEntity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { CloudprintFunctionRegister } from '../functions/cloudprint.function.register';\r\nimport { Urls } from '../utils/cloudprint.Urls';\r\nimport { PrintFormatService } from '../services/printFormatService';\r\nimport { CloudprintdesignerService } from './cloudprint-designer.service';\r\nimport { Utils } from '../utils/cloudprint.utils';\r\nimport { LoadingService } from '@farris/ui-loading';\r\n// import {DialogService} from '@progress/kendo-angular-dialog';\r\n// import * as Stimulsoft from 'stimulsoft-reports-js';\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n@Component({\r\n  selector: 'app-cloudprint-designer',\r\n  templateUrl: './cloudprint-designer.component.html',\r\n  styleUrls: ['./cloudprint-designer.component.css'],\r\n  // providers: [\r\n  //   CloudprintdesignerService,\r\n  //   NotifyService\r\n  // ],\r\n})\r\nexport class CloudprintDesignerComponent implements OnInit, OnDestroy {\r\n  // private options: any;\r\n  /** è®¾è®¡å¨å¯¹è±¡ */\r\n  private designer: any;\r\n\r\n  private docTitle: string;\r\n\r\n  /** æå°åæ°å®ä½ */\r\n  printEntity = new PrintEntity();\r\n  // localeid:string\r\n\r\n  constructor(private server: CloudprintdesignerService,\r\n              private formatSrv: PrintFormatService,\r\n              private notifyService: NotifyService,\r\n              private functionRegister: CloudprintFunctionRegister,\r\n              private editsrv: PrintFormatService,\r\n              private loadSrv: LoadingService,\r\n              ) {\r\n\r\n    Stimulsoft.Base.StiLicense.key = '6vJhGtLLLz2GNviWmUTrhSqnOItdDwjBylQzQcAOiHmUA7xxS8GDDAme3ObyU+jZAO9YGs0yUwkFhPz4MWHZaEdiyH' + \r\n        'ffzbOBGSAkqiNry5YZGU/0ZeiKWcHEB38tgR/zaXp8v+ktUiBOl5B2Dll4y33a3osXfKmsg7lHgK/JYlcS08G7Nggu' + \r\n        'H8vVnzvNulyD1uv6QdfRDQOP/FfeKHq3M70ZPvUspYpkCzGqP4nJJ5ktST13+f3E90Y0n1BkbAbYCI3JqheM988LYP' + \r\n        '2lmJ5mAzuV5t3ILzfUehp6/HIy8LPbzzVlU22X9I1t2xY6W1qsi/pKaXeAfJ0T5x/CUbywJ9JyKaTMwIUhDqUVIrle' + \r\n        'QbFvNFUrLznXCcd55QNngQjoC6Wx9CZ9ryjdPdp0dMfCC0exZXtQW0IR+lWjD9pdUkYPJWn5eACs0ToahpEvdwlW76' + \r\n        'eL5ufNRT6xYjBqlGQ/9VuV5LD9EROLqHxpucBoNPLl7s8ealNcm5seZjuR1iSiOPcqd05m3ellOoxBzSLWaB/sNMWT' + \r\n        'AOhBIWNv7dPOcq8KuAfwaJCkV3WTbQAhX2XJ';   \r\n          \r\n    this.printEntity.isUseMetaData = true;\r\n    // this.server.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.docTitle = document.title;\r\n    this.initDesigner();\r\n    console.log('å è½½è®¾è®¡å¨æå');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.printEntity.onExitEvent.emit();\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   *\r\n   * å¦ä¸ä»£ç æ¯cloudprint.service.tséçä»£ç ï¼å¨cloudprint.service.tsææ°çprintEntityï¼\r\n   *           æä»¥éè¦è°ç¨setPrintEntityæ¥åæ­¥\r\n   *           this.designercomponentRef.instance.setPrintEntity(this.printEntity)\r\n   *\r\n   */\r\n  setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.server.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®Designerçoptions\r\n   * @param options Designerçoptionså¯¹è±¡\r\n   */\r\n  private setOptions(options: any): void {\r\n    options.toolbar.showAboutButton = false;\r\n    // æä»¶tab\r\n    // options.toolbar.showFileMenu = false;\r\n    // æä»¶tabä¸çæé®\r\n    options.toolbar.showFileMenuAbout = false;\r\n    options.toolbar.showFileMenuClose = false;\r\n    options.toolbar.showFileMenuExit = false;\r\n    options.toolbar.showFileMenuInfo = false;\r\n    options.toolbar.showFileMenuNew = false;\r\n    // options.toolbar.showFileMenuOpen = false;\r\n    options.toolbar.showFileMenuOptions = false;\r\n    options.toolbar.showFileMenuReportSetup = false;\r\n    options.toolbar.showFileMenuSave = false;\r\n    // options.toolbar.showFileMenussSaveAs = false;\r\n    // é¢è§tab\r\n    // options.toolbar.showPreviewButton = false;\r\n    options.toolbar.showPublishButton = false;\r\n    // ä¿å­æé®\r\n    options.toolbar.showSaveButton = !(this.printEntity.state==1);\r\n    options.toolbar.showSetupToolboxButton = false;\r\n\r\n    // options.appearance.showReportTree = false;\r\n    options.appearance.showTooltipsHelp = false;\r\n    options.appearance.fullScreenMode = this.printEntity.isFullScreen || false;\r\n    // options.appearance.showSaveDialog = false;\r\n\r\n    // options.components.showBarCode = false;\r\n    // options.components.showChart = false;\r\n    // options.components.showCheckBox = false;\r\n    // options.components.showClone = false;\r\n    // options.components.showImage = false;\r\n    // options.components.showPanel = false;\r\n    // options.components.showRichText = false;\r\n    // options.components.showShape = false;\r\n    // options.components.showSubReport = false;\r\n    // options.components.showText = false;\r\n    // options.components.showTextInCells = false;\r\n    // options.components.showZipCode = false;\r\n\r\n    // options.crossBands.showCrossDataBand = false;\r\n    // options.crossBands.showCrossFooterBand = false;\r\n    // options.crossBands.showCrossGroupFooterBand = false;\r\n    // options.crossBands.showCrossGroupHeaderBand = false;\r\n    // options.crossBands.showCrossHeaderBand = false;\r\n    // options.crossBands.showCrossTab = false;\r\n\r\n    // options.bands.showChildBand = false;\r\n    // options.bands.showColumnFooterBand = false;\r\n    // options.bands.showColumnHeaderBand = false;\r\n    // options.bands.showDataBand = false;\r\n    // options.bands.showEmptyBand = false;\r\n    // options.bands.showFooterBand = false;\r\n    // options.bands.showGroupFooterBand = false;\r\n    // options.bands.showGroupHeaderBand = false;\r\n    // options.bands.showHeaderBand = false;\r\n    // options.bands.showHierarchicalBand = false;\r\n    // options.bands.showOverlayBand = false;\r\n    // options.bands.showPageFooterBand = false;\r\n    // options.bands.showPageHeaderBand = false;\r\n    // options.bands.showReportSummaryBand = false;\r\n    // options.bands.showReportTitleBand = false;\r\n    // options.bands.showTable = false;\r\n\r\n    options.dictionary.dataSourcesPermissions = Stimulsoft.Designer.StiDesignerPermissions.ModifyView;\r\n    options.dictionary.resourcesPermissions = Stimulsoft.Designer.StiDesignerPermissions.None;\r\n    options.dictionary.dataRelationsPermissions = Stimulsoft.Designer.StiDesignerPermissions.ModifyView;\r\n    options.dictionary.dataColumnsPermissions = Stimulsoft.Designer.StiDesignerPermissions.ModifyView;\r\n\r\n  }\r\n\r\n  /**\r\n   * åå§åDesignerçäºä»¶\r\n   */\r\n  private initEvents(): void {\r\n    const self = this;\r\n    // ä¿å­å\r\n    this.designer.onSaveReport = function(e) {\r\n\r\n      const temp = e.report.saveToJsonString();\r\n      const pages = this.report.pages.list;\r\n      // ä¿å­åäºä»¶\r\n      self.printEntity.onSaveReportEvent.emit(temp);\r\n      if(window.parent && window.parent['onSaveReportEvent']){\r\n        (window.parent as any).onSaveReportEvent({\r\n          format:temp,\r\n        });\r\n      }\r\n\r\n      // isUseMetaDataå½ä¸ªå¼å³å§ï¼å¤çè®¾ç½®ä¸ºfalseï¼ä»£è¡¨å¤çèªå·±å¤çä¿å­äº\r\n      if (self.printEntity.isUseMetaData) {\r\n        self.printEntity.printFormat.content = temp;\r\n\r\n        self.formatSrv.saveWithRes(self.printEntity.printFormat)\r\n        .then((format) => {\r\n\r\n          const msg  = Stimulsoft.Base.Localization.StiLocalization.get('Custom', 'sucSave');\r\n          self.notifyService.success(msg);\r\n          \r\n          self.printEntity.printFormat = format;\r\n          //åè°è®¢éæ ¼å¼idäºä»¶\r\n          self.printEntity.onGetPrintFormatIdEvent.emit(self.printEntity.printFormat.id);\r\n\r\n          //åè°æ ¼å¼ä¿å­åäºä»¶\r\n          self.printEntity.onSavedReportEvent.emit({\r\n            printFormat: self.printEntity.printFormat,\r\n          });\r\n\r\n          //åè°æ ¼å¼ä¿å­åäºä»¶\r\n          if(window.parent && window.parent['onSavedReportEvent']){\r\n            (window.parent as any).onSavedReportEvent({\r\n              saved: true,\r\n              format:self.printEntity.printFormat,\r\n            });\r\n          }\r\n\r\n        })\r\n        .catch((e)=> {\r\n          const msg  = Stimulsoft.Base.Localization.StiLocalization.get('Custom', 'failSave');\r\n          self.notifyService.error(msg);\r\n          self.printEntity.onGetPrintFormatIdEvent.emit('');\r\n          console.log(e);\r\n        });\r\n      }\r\n    };\r\n\r\n    // é¢è§å\r\n    this.designer.onPreviewReport = function(e) {  \r\n      const temp = e.report.saveToJsonString();\r\n      const ele = document.getElementById('StiDesigner_ViewerReportPanel');\r\n      ele.hidden = true;\r\n\r\n      self.loadSrv.show({\r\n        message: 'loading...',\r\n      });\r\n      self.editsrv.printTestData(temp,self.printEntity.data,'CloudPrint')\r\n      .then((data)=>{\r\n\r\n        const b = new Blob([data]);\r\n        const reader = new FileReader();\r\n        reader.readAsArrayBuffer(b);\r\n        reader.onload = function (e) {\r\n          const rendedFormat = reader.result as any;\r\n          Utils.renderPdfByByte(rendedFormat,ele);\r\n        };\r\n\r\n        self.loadSrv.close();\r\n      }); \r\n\r\n      return false;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ä¿å­åæ ¡éª\r\n   * @param pages æ¥è¡¨çpage\r\n   */\r\n  private checkBeforeSave(pages): boolean {\r\n    let isSave = true;\r\n    for (let i = 0; i < pages.count; i++) {\r\n      if (pages[i].components.count === 0) {\r\n        isSave = false;\r\n        break;\r\n      }\r\n    }\r\n    return isSave;\r\n  }\r\n\r\n  /**\r\n   * åå§åDesigner\r\n   */\r\n  private initDesigner(): Promise<void> {\r\n    return this.editsrv.getEnableFonts()\r\n    .then((fonts)=>{\r\n      // var temp = Stimulsoft.Base.StiFontCollection.getFontFamilies().filter(x=>x.name=='SimSun' || x.name=='SimHei' || x.name=='Arial');\r\n      //families æ¯ä¸ªåªè¯»å±æ§ï¼æ æ³èµå¼ï¼å¯ç´æ¥ä¿®æ¹å¶åé¨å¯¹è±¡çå¼_families\r\n      // Stimulsoft.System.Drawing.FontFamily.families.clear();\r\n      // Stimulsoft.System.Drawing.FontFamily._families=temp;\r\n      var fontsAll = [];\r\n      fonts.forEach(element => {\r\n        var copytemp = new Stimulsoft.System.Drawing.FontFamily(element)\r\n        fontsAll.push(copytemp);\r\n      });\r\n      Stimulsoft.System.Drawing.FontFamily._families=fontsAll;\r\n  \r\n      // Set full screen mode for the designer\r\n      const options = new Stimulsoft.Designer.StiDesignerOptions();\r\n      // Create the report designer with specified options\r\n      this.designer = new Stimulsoft.Designer.StiDesigner(options, 'StiDesigner', false);\r\n      this.designer.report = new Stimulsoft.Report.StiReport();\r\n  \r\n      // å½éåè®¾ç½®\r\n      this.initLocalizations();\r\n      // è®¾ç½®ä¸äºå±æ§\r\n      this.setOptions(options);\r\n      // æ³¨åäºä»¶\r\n      this.initEvents();\r\n      // å è½½è®¾è®¡å¨\r\n      return this.loadDesigner(this.printEntity.foramtId);\r\n    })\r\n    .catch(()=>{\r\n      this.notifyService.error(\"Load Enable Fonts Error\");\r\n    })\r\n  }\r\n\r\n  /**\r\n   * åå§åæ¬å°å\r\n   */\r\n  private initLocalizations() {\r\n    const loc = this.printEntity.language;\r\n\r\n    // è®¾ç½®æ¬å°åè¯­è¨ç¸å³\r\n    Stimulsoft.Base\r\n              .Localization\r\n              .StiLocalization\r\n              .addLocalizationFile('/platform/common/web/stimulsoft/languages/' + loc + '.xml', false, loc);\r\n    Stimulsoft.Base.Localization.StiLocalization.cultureName = loc;\r\n  }\r\n\r\n  /**\r\n   * åå§åèªå®ä¹å½æ°\r\n   */\r\n  private initCustomFunction() {\r\n    return this.functionRegister.initCustomFunction(this.printEntity.appUrl + Urls.GetCustomJsFunc);\r\n  }\r\n\r\n\r\n  /**\r\n   * å è½½Designer\r\n   * @param formatId æ ¼å¼id\r\n   */\r\n  private loadDesigner(formatId: string) {\r\n    // å è½½designerçschema\r\n    return this.formatSrv.loadFormat(formatId, 'CloudPrint')\r\n    .then((format) => {\r\n\r\n      this.designer.report.load(format);\r\n      // å è½½æ°æ®\r\n      return this.formatSrv.loadData(this.printEntity.dataId, 'CloudPrint');\r\n    })\r\n    .then((data2) => {\r\n      // å è½½æ°æ®\r\n      const dataSet = new Stimulsoft.System.Data.DataSet('Data');\r\n      console.log('ç»æ°æ®æºæ·»å æ°æ®');\r\n\r\n      dataSet.readJson(data2);\r\n      console.log('æ¸ç©ºæ¥è¡¨çæ°æ®æºï¼ä»¥ä¾¿éæ°èµå¼');\r\n      this.designer.report.dictionary.databases.clear();\r\n      this.designer.report.regData('Data', 'Data', dataSet);\r\n\r\n      // åå§åèªå®ä¹å½æ°\r\n      return this.initCustomFunction();\r\n    })\r\n    .then(() => {\r\n\r\n      // æ¸²æ\r\n      this.designer.renderHtml('designer');\r\n      // è®¾ç½®æ¸²æåçå±æ§\r\n      this.setOptionsAfterRend(this.designer);\r\n      // ä¿®æ¹stimulsoftæ¸²ææ¶è®¾å®çå·¥ä½åºçé»è®¤é«åº¦\r\n      document.getElementById('StiDesigner').style.height = this.printEntity.designerHeight;\r\n      // è°æ´å¤§å°\r\n      // this.designer.jsObject.ResizeDesigner();\r\n      document.title = this.docTitle;\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ¸²æåéè¦è®¾ç½®çå±æ§\r\n   * @param designer å½åçDesignerå¯¹è±¡\r\n   */\r\n  private setOptionsAfterRend(designer: any): void {\r\n    //å±è½ä¿å­æé®çå¼¹æ¡\r\n    designer.jsObject.options.report.properties.reportFile='report.mrt';\r\n\r\n    designer.jsObject.options.buttons.dictionaryActions.hidden = true;\r\n    designer.jsObject.options.buttons.dictionaryNewItem.hidden = true;\r\n    designer.jsObject.options.buttons.pageToolButton.hidden = true;\r\n    designer.jsObject.options.buttons.insertToolButton.hidden = true;\r\n    // å±æ§é¢æ¿çäºä»¶æé®\r\n    designer.jsObject.options.buttons.propertiesToolbarEventsTab.hidden=true;\r\n    // å±æ§é¢æ¿çäºä»¶tab\r\n    // designer.jsObject.options.buttons.propertiesToolbarEventsTab.hidden = true;\r\n    // å±æ§é¢æ¿çå±æ§tab\r\n    // designer.jsObject.options.buttons.propertiesToolbarPropertiesTab.hidden = true;\r\n    designer.jsObject.options.buttons.redoButton.hidden = true;\r\n    designer.jsObject.options.buttons.undoButton.hidden = true;\r\n    designer.jsObject.options.buttons.reportCheckerButton.hidden = true;\r\n    designer.jsObject.options.buttons.localizationButton.hidden = true;\r\n    designer.jsObject.options.buttons.resizeDesigner.hidden = true;\r\n\r\n    // é»è®¤éèworkpanel\r\n    designer.jsObject.options.workPanel.changeVisibleState(!1);\r\n    designer.jsObject.options.workPanel.visibleState = !1;\r\n\r\n    const viewer = designer.jsObject.options.viewerContainer.firstChild;\r\n    // viewer.jsObject.controls.menus.saveMenu.items[\"Html\"].style.display = \"none\";\r\n    // viewer.jsObject.controls.menus.saveMenu.items[\"separator2\"].style.display = \"none\";\r\n    // var toolbarTable = viewer.jsObject.controls.toolbar.firstChild;\r\n    // viewer.jsObject.controls.toolbar.removeChild(toolbarTable);\r\n    //é¢è§çé¢çå·¥å·æ \r\n    viewer.jsObject.controls.toolbar.style.display = 'none';\r\n    //é¢è§çé¢çç¼©æ¾æé®\r\n    viewer.jsObject.controls.buttons.Zoom.style.display = 'none';\r\n    viewer.jsObject.controls.buttons.ZoomOnePage.style.display = 'none';\r\n    viewer.jsObject.controls.buttons.ZoomPageWidth.style.display = 'none';\r\n    // viewer.jsObject.controls.menus.printMenu.items['PrintPdf'].style.display='none'\r\n    // viewer.jsObject.controls.menus.printMenu.items['PrintWithPreview'].style.display='none'\r\n    // viewer.jsObject.controls.menus.printMenu.items['PrintWithoutPreview'].style.display='none'\r\n\r\n  }\r\n\r\n  private loadSystemFonts():any{\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n/**\r\n * ä¸ç¨äºï¼ä½æ¯å¾ä¿çï¼ä¸ç¶çè¯å«äººç¨äºè¿ä¸ªnpmåçå¾éæ°æå\r\n */\r\n@Injectable()\r\nexport class CloudprintviewerService {\r\n\r\n  // printEntity = new PrintEntity();\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // /**\r\n  //  * å è½½Viewerç»æ\r\n  //  * @param reportID id\r\n  //  */\r\n  // loadFormat(reportID: string, flag): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.formatèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.format) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       return this.printEntity.format;\r\n  //     });\r\n  //   }\r\n\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°NewPrintFormatåGetPrintFormatByIdè¿ä¿©ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   let url: string ;\r\n  //   if (reportID && reportID.length > 0) {\r\n  //     url = this.printEntity.appUrl + Urls.LoadPrintFormatById + reportID;\r\n  //     // å è½½å·²ææ ¼å¼æ¯ä¸ªgetè¯·æ±\r\n  //     return this.http.get(url,httpoptions).toPromise()\r\n  //     .then((data) => {\r\n  //       return data;\r\n  //     });\r\n  //   } else {\r\n  //     const body = {};\r\n      \r\n\r\n  //     if (this.printEntity.schemaType === SchemaType.BO) {// bo\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithBO + this.printEntity.format;\r\n  //       return this.http.get(url, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret) => {\r\n  //         return ret;\r\n  //       });\r\n  //     } else {// schema\r\n  //       url = this.printEntity.appUrl + Urls.CreatePrintFormatWithSchema;\r\n  //       body['printDataSchemaView'] = this.printEntity.format;\r\n  //       return this.http.post(url, body, httpoptions)\r\n  //       .toPromise()\r\n  //       .then((ret) => {\r\n  //         return ret;\r\n  //       });\r\n  //     }\r\n\r\n  //     // CreatePrintFormatWithBEåCreatePrintFormatWithBOæ¯postè¯·æ±\r\n\r\n \r\n  //   }\r\n\r\n  // }\r\n\r\n  // /**\r\n  //  * å è½½Vieweræ°æ®\r\n  //  * @param dataIds è¦å è½½çæ°æ®Id\r\n  //  */\r\n  // loadData(dataIds: string, flag): Promise<any> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n  //   /**\r\n  //    * å¯¹äºGSåé¨éæï¼åå¤å±å¶å®å·²ç»ç»this.printEntity.dataèµå¼äº\r\n  //    */\r\n  //   if (this.printEntity.data) {\r\n  //     const sub = new Subject<any>();\r\n  //     sub.complete(); // æ²¡æè¿å¥è¯toPromise()éçåå®¹ä¸è·\r\n  //     return sub.toPromise()\r\n  //     .then(() => {\r\n  //       return this.printEntity.data;\r\n  //     });\r\n  //   }\r\n\r\n  //   /**\r\n  //    * è¿åä¸»è¦è¿æ¯éå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°GetPrintDataè¿ä¸ªgetè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n\r\n  //   const httpoptions = {};\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.get(this.printEntity.appUrl + Urls.LoadPrintData + dataIds, httpoptions).toPromise()\r\n  //   .then((data2) => {\r\n  //     return data2;\r\n  //   });\r\n  // }\r\n\r\n  // /**\r\n  //  * åå°æå°\r\n  //  * GSåé¨/ç¬¬ä¸æ¹\r\n  //  * @param beOptions æ°æ®æºéé¡¹\r\n  //  * @param options å¯¼åºéé¡¹\r\n  //  */\r\n  // OutputBEData(beOptions: SourceOptions, options: OutputOptions , flag): Promise<string> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n\r\n  //   const body = {\r\n  //     BEOptions: beOptions,\r\n  //     Options: options\r\n  //   };\r\n  //   // const httpoptions = {};\r\n  //   // httpoptions['responseType'] = 'arraybuffer';\r\n  //   // return this.http.post(this.printEntity.appUrl + Urls.OutputBEData, body).toPromise()\r\n  //   // .then((ret: any) => {\r\n  //   //   return ret;\r\n  //   // });\r\n  //   /**\r\n  //    * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['responseType'] = 'arraybuffer';\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.post(this.printEntity.appUrl + Urls.OutputBEData, body, httpoptions).toPromise()\r\n  //   .then((ret: any) => {\r\n  //     return ret;\r\n  //   });\r\n  // }\r\n\r\n  // /**\r\n  //  * åå°æå°\r\n  //  * GSåé¨/ç¬¬ä¸æ¹\r\n  //  * @param beOptions BEFilteréé¡¹\r\n  //  * @param options å¯¼åºéé¡¹\r\n  //  */\r\n  // OutputBEDataWithFilter(beOptions: SourceFilterOptions, options: OutputOptions, flag): Promise<string> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n\r\n  //   const body = {\r\n  //     BEOptions: beOptions,\r\n  //     Options: options\r\n  //   };\r\n\r\n  //   // this.http.setHeader({\r\n  //   //   responseType : 'arraybuffer'\r\n  //   // });\r\n  //   // return this.http.post(this.printEntity.appUrl + Urls.OutputBEDataWithFilter, body).toPromise()\r\n  //   // .then((ret: any) => {\r\n  //   //   return ret;\r\n  //   // });\r\n  //   /**\r\n  //    * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['responseType'] = 'arraybuffer';\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.post(this.printEntity.appUrl + Urls.OutputBEDataWithFilter, body, httpoptions).toPromise()\r\n  //   .then((ret: any) => {\r\n  //     return ret;\r\n  //   });\r\n  // }\r\n\r\n  // /**\r\n  //  * åå°æå°\r\n  //  * GSåé¨/ç¬¬ä¸æ¹\r\n  //  * @param boOptions BOéé¡¹\r\n  //  * @param options å¯¼åºéé¡¹\r\n  //  */\r\n  // OutputBOData(boOptions: BOOptions, options: OutputOptions, flag): Promise<string> {\r\n  //   if (Utils.checkFlag(flag) === false) {\r\n  //     alert('åé¨æ¹æ³ï¼å¤é¨è¯·ä½¿ç¨cloudprint.serviceä¸çæå¡');\r\n  //     return null;\r\n  //   }\r\n\r\n  //   const body = {\r\n  //     BOOptions: boOptions,\r\n  //     Options: options\r\n  //   };\r\n\r\n  //   // this.http.setHeader({\r\n  //   //   responseType : 'arraybuffer'\r\n  //   // });\r\n  //   // return this.http.post(this.printEntity.appUrl + Urls.OutputBOData, body).toPromise()\r\n  //   // .then((ret: any) => {\r\n  //   //   return ret;\r\n  //   // });\r\n  //   /**\r\n  //    * è¿åå¦æéå¯¹çç¬¬ä¸æ¹ï¼ç¬¬ä¸æ¹éè¿è½¬è°çæ¹å¼\r\n  //    * 1.ç¬¬ä¸æ¹æå¡ç«¯å®ç°Printè¿ä¸ªpostè¯·æ±æ¥å£\r\n  //    * 2.ç¬¬ä¸æ¹æå¡ç«¯è¿ä¿©è¯·æ±æ¥å£è°ç¨äºæå°çæå¡\r\n  //    */\r\n  //   const httpoptions = {};\r\n  //   httpoptions['responseType'] = 'arraybuffer';\r\n  //   httpoptions['headers'] = {\r\n  //     SessionId: this.printEntity.sessionId || '',\r\n  //     'Content-Type':'application/json'\r\n  //   };\r\n  //   return this.http.post(this.printEntity.appUrl + Urls.OutputBOData, body, httpoptions).toPromise()\r\n  //   .then((ret: any) => {\r\n  //     return ret;\r\n  //   });\r\n  // }\r\n}\r\n","import { OutputOptions } from './outputOptions';\r\nimport { CmpType } from '../enums/cmpType';\r\nimport { BaseSourceOptions } from '../datasourceoptions/basesourceoptions';\r\n\r\n/**\r\n * å¯¼åºè®¾ç½®\r\n */\r\nexport class OutputParam {\r\n    prnFormat: string;\r\n    prnData: object;\r\n    prnFormatId: string;\r\n    prnDataId: string;\r\n    prnType: CmpType;\r\n    prnRendedFormat: string;\r\n    prnSourceOptions:Array<BaseSourceOptions>;\r\n    prnOutputOps: OutputOptions;\r\n    isFilter:boolean;\r\n}\r\n\r\n\r\n","import { Component, OnInit, OnDestroy, Input, Inject, forwardRef, ElementRef } from '@angular/core';\r\nimport { CloudprintviewerService } from './cloudprint-viewer.service';\r\nimport { PrintEntity } from '../entitys/printEntity';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { Utils } from '../utils/cloudprint.utils';\r\nimport { CloudprintFunctionRegister } from '../functions/cloudprint.function.register';\r\nimport { Urls } from '../utils/cloudprint.Urls';\r\nimport { PrintFormatService } from '../services/printFormatService';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\nimport { SourceFilterOptions } from '../entitys/datasourceoptions/sourceFilterOptions';\r\nimport { OutputParam } from '../entitys/outputoptions/outputParam';\r\nimport { SourceOptions } from '../entitys/datasourceoptions/sourceOptions';\r\nimport { CloudprintService } from '../cloudprint.service';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { LocalLangPipe } from '../local.pipe';\r\n\r\n// å¼å¥Stimulsoftçjsåº\r\ndeclare var Stimulsoft;\r\n\r\n@Component({\r\n  selector: 'app-cloudprint-viewer',\r\n  templateUrl: './cloudprint-viewer.component.html',\r\n  styleUrls: ['./cloudprint-viewer.component.css'],\r\n  // providers: [\r\n  //   CloudprintviewerService,\r\n  //   NotifyService,\r\n  //   LanguageService\r\n  // ],\r\n})\r\nexport class CloudprintViewerComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() public outputParam : OutputParam;\r\n  @Input() public isRemotePrint: any;\r\n\r\n  /** é¢è§å¨å¯¹è±¡ */\r\n  private viewer: any;\r\n  localpipe: LocalLangPipe;\r\n\r\n  private docTitle: string;\r\n  /** æå°åæ°å®ä½ */\r\n  printEntity = new PrintEntity();\r\n\r\n  // private server: CloudprintviewerService,\r\n  constructor(private server: CloudprintviewerService,\r\n              private formatSrv: PrintFormatService,\r\n              private notifyService: NotifyService,\r\n              private functionRegister: CloudprintFunctionRegister,\r\n              private langservice:LanguageService,\r\n              private loadSrv: LoadingService,\r\n              private elementRef: ElementRef,\r\n              //@Inject(forwardRef(() => CloudprintService))çåå ï¼https://stackoverflow.com/questions/37997824/exception-cant-resolve-all-parameters#\r\n              @Inject(forwardRef(() => CloudprintService))private printSrv: CloudprintService) {\r\n\r\n\r\n      Stimulsoft.Base.StiLicense.key = '6vJhGtLLLz2GNviWmUTrhSqnOItdDwjBylQzQcAOiHmUA7xxS8GDDAme3ObyU+jZAO9YGs0yUwkFhPz4MWHZaEdiyH' + \r\n        'ffzbOBGSAkqiNry5YZGU/0ZeiKWcHEB38tgR/zaXp8v+ktUiBOl5B2Dll4y33a3osXfKmsg7lHgK/JYlcS08G7Nggu' + \r\n        'H8vVnzvNulyD1uv6QdfRDQOP/FfeKHq3M70ZPvUspYpkCzGqP4nJJ5ktST13+f3E90Y0n1BkbAbYCI3JqheM988LYP' + \r\n        '2lmJ5mAzuV5t3ILzfUehp6/HIy8LPbzzVlU22X9I1t2xY6W1qsi/pKaXeAfJ0T5x/CUbywJ9JyKaTMwIUhDqUVIrle' + \r\n        'QbFvNFUrLznXCcd55QNngQjoC6Wx9CZ9ryjdPdp0dMfCC0exZXtQW0IR+lWjD9pdUkYPJWn5eACs0ToahpEvdwlW76' + \r\n        'eL5ufNRT6xYjBqlGQ/9VuV5LD9EROLqHxpucBoNPLl7s8ealNcm5seZjuR1iSiOPcqd05m3ellOoxBzSLWaB/sNMWT' + \r\n        'AOhBIWNv7dPOcq8KuAfwaJCkV3WTbQAhX2XJ';\r\n      \r\n      this.printEntity.isUseMetaData = true;\r\n      this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.docTitle = document.title;\r\n    // åå§åViewer;\r\n    this.initViewer();\r\n\r\n    console.log('ç»ä»¶åå§ï¼å è½½é¢è§å¨æå');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.printEntity.onExitEvent.emit();\r\n\r\n    console.log('ç»ä»¶éæ¯');\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   *\r\n   * å¦ä¸ä»£ç æ¯cloudprint.service.tséçä»£ç ï¼å¨cloudprint.service.tsææ°çprintEntityï¼\r\n   *           æä»¥éè¦è°ç¨setPrintEntityæ¥åæ­¥\r\n   *           this.designercomponentRef.instance.setPrintEntity(this.printEntity)\r\n   *\r\n   */\r\n  setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.server.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  /**\r\n   * åå§åViewer\r\n   */\r\n  private initViewer(): void {\r\n    // å è½½æ°æ®\r\n    const self = this;\r\n    document.title = this.docTitle;\r\n    this.loadSrv.show({\r\n      message: 'loading...',\r\n    });\r\n    // å¦ææ¯åç«¯æ¸²æçåéï¼ååå°ç´æ¥ä½¿ç¨\r\n    const rendedFormat = this.printEntity.rendedFormat;\r\n    const ret = this.renderPdf(rendedFormat);\r\n    if(ret && ret.then){\r\n      ret.then(()=>{\r\n        this.loadSrv.close();\r\n      });\r\n    }else{\r\n      this.loadSrv.close();\r\n    }\r\n\r\n  }\r\n\r\n  private renderPdf(rendedFormat){\r\n    const self = this;\r\n\r\n    if (rendedFormat) {//ææ¸²æçç»æåç´æ¥å±ç¤º\r\n      const ele = document.getElementById('viewer');\r\n      // ele.hidden = true;\r\n      Utils.renderPdfByByte(rendedFormat,ele);\r\n\r\n    } else {//æ²¡ææ¸²æçç»æåéè¿åç«¯æ¸²æåå±ç¤º\r\n      this.outputParam.prnOutputOps.printJob = false;\r\n      if (this.outputParam.prnSourceOptions.length > 1) {\r\n        if (this.outputParam.isFilter) {\r\n          return this.formatSrv.printMultiByFilter(this.outputParam.prnSourceOptions as Array<SourceFilterOptions>, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        } else {\r\n          return this.formatSrv.printMultiById(this.outputParam.prnSourceOptions as Array<SourceOptions>, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        }\r\n      } else {\r\n        if (this.outputParam.isFilter) {\r\n          return this.formatSrv.printSingleByFilter(this.outputParam.prnSourceOptions[0] as SourceFilterOptions, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        } else {\r\n          return this.formatSrv.printSingleById(this.outputParam.prnSourceOptions[0] as SourceOptions, this.outputParam.prnOutputOps, null,'CloudPrint')\r\n          .then((data)=>{\r\n            const b = new Blob([data]);\r\n            const reader = new FileReader();\r\n            reader.readAsArrayBuffer(b);\r\n            reader.onload = function (e) {\r\n              self.renderPdf(reader.result as any);\r\n            };\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** ç´æ¥æå° */\r\n  printDirect(){\r\n    const ele = document.getElementById('viewer');\r\n    const iframe = ele.firstChild as any;\r\n    iframe.contentWindow.print();\r\n\r\n    const sourceopslist = this.outputParam.prnSourceOptions;\r\n    let su=[];\r\n    let id=[];\r\n    let billcate=[];\r\n    let biztype=[];\r\n    let source=[];\r\n    let entityfilter=[];\r\n    let dataid=[];\r\n    let isfilter=[];\r\n    sourceopslist.forEach(x=>{\r\n      su.push(x.ServiceUnit);\r\n      id.push(x.FormatId);\r\n      source.push(x.SourceId);\r\n      isfilter.push(this.outputParam.isFilter);\r\n      if(this.outputParam.isFilter){\r\n        entityfilter.push(JSON.stringify((x as SourceFilterOptions).EntityFilter));\r\n      }else{\r\n        dataid.push((x as SourceOptions).DataIds);\r\n      }\r\n      billcate.push(x.billCategoryId);\r\n      biztype.push(x.bizTypeId);\r\n    });\r\n    const data = {\r\n      formatid:id,\r\n      sourceid:source,\r\n      entityfilter:entityfilter,\r\n      dataid:dataid,\r\n      isfilter:isfilter,\r\n      su:su,\r\n      billcategory:billcate,\r\n      biztype:biztype\r\n    };\r\n    this.formatSrv.sendPrintEvent(data,\"CloudPrint\");\r\n  }\r\n\r\n  /** çå­åå°æå° */\r\n  printBox(){\r\n    const self = this;\r\n    self.outputParam.prnOutputOps.printJob = true;\r\n    if (self.outputParam.prnSourceOptions.length > 1) {\r\n      if (self.outputParam.isFilter) {\r\n        return self.printSrv.printMultiByFilter4Job(self.outputParam.prnSourceOptions as Array<SourceFilterOptions>, self.outputParam.prnOutputOps);\r\n      } else {\r\n        return self.printSrv.printMultiById4Job(self.outputParam.prnSourceOptions as Array<SourceOptions>, self.outputParam.prnOutputOps);\r\n      }\r\n    } else {\r\n      if (self.outputParam.isFilter) {\r\n        return self.printSrv.printSingleByFilter4Job(self.outputParam.prnSourceOptions[0] as SourceFilterOptions, self.outputParam.prnOutputOps);\r\n      } else {\r\n        return self.printSrv.printSingleById4Job(self.outputParam.prnSourceOptions[0] as SourceOptions, self.outputParam.prnOutputOps);\r\n      }\r\n    }\r\n  }\r\n}\r\n","/** æ§ä»¶ç±»åæä¸¾ */\r\nexport enum CmpType {\r\n    Designer= 1,\r\n    Viewer= 2\r\n}\r\n","\r\n\r\n/**\r\n * æ°æ®æºç±»å\r\n */\r\nexport enum SourceType {\r\n    BE= 0, // BE\r\n    VO= 1, // VO\r\n    BO= 2,// .net å®ä½\r\n    CO=3,//éç¨æ°æ®ç»æ\r\n}\r\n","import { Component, OnInit, Input, EventEmitter, ViewChild, LOCALE_ID, Inject } from '@angular/core';\r\nimport { PrintFormat } from '../entitys/printFormat';\r\nimport { PageChangeEvent, GridDataResult } from '@progress/kendo-angular-grid';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { BsModalRef } from '@farris/ui-modal';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalLangPipe } from '../local.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-formatlist',\r\n  templateUrl: './formatlist.component.html',\r\n  styleUrls: ['./formatlist.component.css']\r\n})\r\nexport class FormatlistComponent implements OnInit {\r\n  // @ViewChild('printjob') printjob: DialogComponent;\r\n\r\n  @Input() public formats : PrintFormat[];\r\n\r\n  print: EventEmitter<any> = new EventEmitter<any>();\r\n  // dlg:BsModalRef;\r\n  columns = [];\r\n  formatId:string;\r\n\r\n  localepip:LocalLangPipe;\r\n\r\n  constructor(private notifyService: NotifyService,\r\n    @Inject(LOCALE_ID) localeid:string) { \r\n      \r\n    debugger;\r\n    // localeid = localStorage.getItem(\"languageCode\") || localeid;\r\n    // this.localepip = new LocalLangPipe(localeid);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      {field: 'code', title: this.localepip.transform('formatcode')},\r\n      {field: 'name', title:  this.localepip.transform('formatname')},\r\n    ];\r\n  }\r\n\r\n  selectChange(rowdata: any){\r\n    this.formatId = rowdata.id;\r\n  }\r\n\r\n  printJob(){\r\n\r\n    if(this.checkBeforePrint()){\r\n      this.print.emit({\r\n        id:this.formatId\r\n      });\r\n    }\r\n  }\r\n\r\n  private checkBeforePrint(){\r\n    if(!this.formatId){\r\n      this.notifyService.warning(this.localepip.transform('selectformat'));\r\n      return false;\r\n    }else{\r\n      return true;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * æ¥è¯¢ç±»å\r\n */\r\nexport enum QueryType{\r\n    BusinessEntity = 'BusinessEntity', //ä¸å¡å®ä½\r\n    ViewModel = 'ViewModel', //è§å¾å®ä½\r\n    InternalService = 'InternalService',// åé¨æå¡\r\n    CunstomComponent = 'CunstomComponent',// èªå®ä¹æä»¶\r\n    CommonStructure = 'CommonStructure',//éç¨æ°æ®ç»æ\r\n    PrintReport = 'PrintReport',\r\n    BusinessObject = 'BusinessObject',//ç¡¬ç¼ç çä¸å¡å®ä½\r\n    Unknown = 'Unknown',\r\n}\r\n","/**\r\n * æå°ç±»å\r\n */\r\nexport enum PrintType{\r\n    /**\r\n     * è¡¨åæå°\r\n     */\r\n    Form='Form',\r\n    /**\r\n     * æ¥è¯¢æå°\r\n     */\r\n    Query='Query',\r\n    /**\r\n     * è´¦é¡µæå°\r\n     */\r\n    LedgerPaper='LedgerPaper',\r\n\r\n    /**\r\n     * éä»¶æå°\r\n     */\r\n    Attachment='Attachment',\r\n\r\n    Unknown='Unknown'\r\n}\r\n","import { PrintOritation } from '../enums/printOritation';\r\n\r\nexport class PrintSetting{\r\n    copys:Number;\r\n    paperName:String;\r\n    width:Number;\r\n    height:Number;\r\n    top:Number;\r\n    bottom:Number;\r\n    left:Number;\r\n    right:Number;\r\n    printOritation:PrintOritation;\r\n    centerPrint:boolean;\r\n}","/** æå°æ¹å */\r\nexport enum PrintOritation {\r\n    Portrait = 'Portrait',//çºµå\r\n    Landscape = 'Landscape'//æ¨ªå\r\n}\r\n","export const PaperKind = [\r\n    {\r\n        key:'A2',\r\n        value:'A2'\r\n    },\r\n    {\r\n        key:'A3',\r\n        value:'A3'\r\n    },\r\n    // {\r\n    //     key:'A3Extra',\r\n    //     value:'A3Extra'\r\n    // },\r\n    // {\r\n    //     key:'A3ExtraTransverse',\r\n    //     value:'A3ExtraTransverse'\r\n    // },\r\n    // {\r\n    //     key:'A3Transverse',\r\n    //     value:'A3Transverse'\r\n    // },\r\n    {\r\n        key:'A4',\r\n        value:'A4'\r\n    },\r\n    {\r\n        key:'A5',\r\n        value:'A5'\r\n    },\r\n    {\r\n        key:'B4',\r\n        value:'B4'\r\n    },\r\n    {\r\n        key:'B5',\r\n        value:'B5'\r\n    },\r\n    {\r\n        key:'Legal',\r\n        value:'Legal'\r\n    },\r\n    {\r\n        key:'Letter',\r\n        value:'Letter'\r\n    },\r\n    {\r\n        key:'Statement',\r\n        value:'Statement'\r\n    },\r\n    {\r\n        key:'Tabloid',\r\n        value:'Tabloid'\r\n    }\r\n];","import { Component, OnInit,AfterViewInit, Input, EventEmitter, ViewChild, LOCALE_ID, Inject } from '@angular/core';\r\nimport { PrintFormat } from '../entitys/printFormat';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { PrintSetting } from '../entitys/outputoptions/printsetting';\r\nimport { PrintOritation } from '../entitys/enums/printOritation';\r\nimport { PaperKind } from '../entitys/outputoptions/paperkind';\r\nimport { BsModalRef } from '@farris/ui-modal';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { LocalLangPipe } from '../local.pipe';\r\n\r\n@Component({\r\n  selector: 'lib-formatlistjob',\r\n  templateUrl: './formatlistjob.component.html',\r\n  styleUrls: ['./formatlistjob.component.css']\r\n})\r\nexport class FormatlistjobComponent implements OnInit {\r\n  // @ViewChild('printjob') printjob: DialogComponent;\r\n\r\n  @Input() public formats : PrintFormat[];\r\n  @Input() public boxlist : any[];\r\n\r\n  print: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  // dlg:BsModalRef;\r\n  paperlist = [];\r\n  layoutlist = [];\r\n  columns = [];\r\n  //æ¯å¦å±ç¤ºæ ¼å¼åè¡¨\r\n  isShowFormat = true;\r\n  //æå°ç±»å0:è¡¨åæå°ï¼1:éä»¶æå°\r\n  printType = 0;\r\n  height=0;//é»è®¤ä¸º0ï¼æ ¹æ®çº¸å¼ å¤§å°æ¥\r\n  width=0;//é»è®¤ä¸º0,æ ¹æ®çº¸å¼ å¤§å°æ¥\r\n  top=0;\r\n  bottom=0;\r\n  left=0;\r\n  right=0;\r\n  copy=1;\r\n  paperkind='A4';\r\n  layout='Portrait';\r\n  printter:string;\r\n  printboxid='';\r\n  formatId:string;\r\n  //èªå®ä¹çº¸å¼ \r\n  isCustomPaper=false;\r\n  //èªå®ä¹é¡µè¾¹è·\r\n  isCustomMargin=false;\r\n\r\n  custompaper='èªå®ä¹çº¸å¼ :';\r\n  custommargin='èªå®ä¹é¡µè¾¹è·:';\r\n\r\n  localepip : LocalLangPipe;\r\n  constructor(private notifyService: NotifyService,\r\n    @Inject(LOCALE_ID) localeid:string) { \r\n      \r\n      debugger;\r\n      // localeid = localStorage.getItem(\"languageCode\") || localeid;\r\n      // this.localepip = new LocalLangPipe(localeid);\r\n      \r\n  }\r\n\r\n  ngOnInit() {\r\n    debugger;\r\n    \r\n    this.custompaper = this.localepip.transform('custompaper');\r\n    this.custommargin = this.localepip.transform('custommargin');\r\n\r\n    this.columns = [\r\n      {field: 'code', title: this.localepip.transform('formatcode')},\r\n      {field: 'name', title: this.localepip.transform('formatname')},\r\n    ];\r\n    //çº¸å¼ \r\n    this.paperlist = PaperKind;\r\n    //å¸å±\r\n    this.layoutlist = [\r\n      {\r\n        key:'Portrait',\r\n        value:this.localepip.transform('portrait')\r\n      },\r\n      {\r\n        key:'Landscape',\r\n        value:this.localepip.transform('landscape')\r\n      }\r\n    ];\r\n    \r\n  }\r\n  \r\n  printerSelectChange(rowdata: any){\r\n    this.printboxid = rowdata.data.boxId;\r\n  }\r\n\r\n  selectChange(rowdata: any){\r\n    this.formatId = rowdata.id;\r\n  }\r\n\r\n  printJob(){\r\n\r\n    if(this.checkBeforePrint()){\r\n      const ps = new PrintSetting();\r\n      ps.bottom = this.bottom;\r\n      ps.top = this.top;\r\n      ps.left = this.left;\r\n      ps.right = this.right;\r\n      ps.height = this.height;\r\n      ps.width = this.width;\r\n      ps.copys = this.copy;\r\n      ps.paperName = this.paperkind;\r\n      if(this.isCustomPaper){\r\n        ps.centerPrint = false;\r\n      }else{\r\n        ps.centerPrint = true;\r\n      }\r\n\r\n      if(PrintOritation.Landscape.toString() == this.layout){\r\n        ps.printOritation = PrintOritation.Landscape;\r\n      }else{\r\n        ps.printOritation = PrintOritation.Portrait;\r\n      }\r\n      \r\n      this.print.emit({\r\n        id:this.formatId,\r\n        boxId:this.printboxid,\r\n        printter:this.printter,\r\n        printSetting:ps\r\n      });  \r\n    }\r\n  }\r\n\r\n  private checkBeforePrint(){\r\n    if(!this.formatId && this.printType!=1){\r\n      this.notifyService.warning(this.localepip.transform('selectformat'));\r\n      return false;\r\n    }else if(!this.printter){\r\n      this.notifyService.warning(this.localepip.transform('selectprinter'));\r\n      return false;\r\n    }else if(!this.layout){\r\n      this.notifyService.warning(this.localepip.transform('selectlayout'));\r\n      return false;\r\n    }else if(!this.paperkind && this.height==0 && this.width==0){\r\n      this.notifyService.warning(this.localepip.transform('nopapersize'));\r\n      return false;\r\n    }else if(!this.printboxid){\r\n      this.notifyService.warning(this.localepip.transform('noagent'));\r\n      return false;\r\n    }else{\r\n      return true;\r\n    }\r\n  }\r\n\r\n}\r\n","export const LANG_RESOURCES = {\r\n    'zh-CHS': {\r\n        'printview': 'æå°é¢è§',\r\n        'printformat':'æå°æ ¼å¼',\r\n        'printdesigner':'æå°è®¾è®¡å¨',\r\n        'printset':'æå°éç½®',\r\n        'printer':'æå°æº',\r\n        'print':'æå°',\r\n        'cancel':'åæ¶',\r\n        'sendprintjob':'å·²æååéæå°ä»»å¡',\r\n        'appurlerror':'æªéç½®æ­£ç¡®çappUrl',\r\n        'formatcode':'æ ¼å¼ç¼å·',\r\n        'formatname':'æ ¼å¼åç§°',\r\n        'portrait':'çºµå',\r\n        'landscape':'æ¨ªå',\r\n        'selectprinter':'è¯·éæ©æå°æº',\r\n        'selectformat':'è¯·éæ©æå°æ ¼å¼',\r\n        'selectlayout':'è¯·éæ©å¸å±',\r\n        'noagent':'æå°æºå¯¹åºçæå°ä»£çä¸ºç©º,åç»­æå°å°æ æ³å®ä½æå°æº',\r\n        'nopapersize':'çº¸å¼ åèªå®ä¹å¤§å°ä¸å¯åæ¶ä¸ºç©º',\r\n        'paper':'çº¸å¼ ',\r\n        'paperway':'çº¸å¼ æ¹å',\r\n        'copys':'æå°ä»½æ°',\r\n        'length':'é¿(åç±³)',\r\n        'width':'å®½(åç±³)',\r\n        'top':'ä¸(åç±³)',\r\n        'bottom':'ä¸(åç±³)',\r\n        'left':'å·¦(åç±³)',\r\n        'right':'å³(åç±³)',\r\n        'custompaper':'èªå®ä¹çº¸å¼ :',\r\n        'custommargin':'èªå®ä¹é¡µè¾¹è·:',\r\n        'PrintWithoutPreview':'ç´æ¥æå°',\r\n        'PrintWithBox':'è¿ç¨æå°',\r\n    },\r\n    'en-US': {\r\n        'printview': 'Print View',\r\n        'printformat':'Print Format',\r\n        'printdesigner':'Print Designer',\r\n        'printset':'Print Setting',\r\n        'print':'Print',\r\n        'cancel':'Cancel',\r\n        'printer':'Printer',\r\n        'sendprintjob':'Send Print Job Success',\r\n        'appurlerror':'AppUrl Error',\r\n        'formatcode':'Format Code',\r\n        'formatname':'Format Name',\r\n        'portrait':'Portrait',\r\n        'landscape':'Landscape',\r\n        'selectprinter':'Please Select Printer',\r\n        'selectformat':'Please Select Format',\r\n        'selectlayout':'Please Select Layout',\r\n        'noagent':'Agent Is Empty,It May Can Not Locate The Printer',\r\n        'nopapersize':'Paper Size Is Not Allowed Empty',\r\n        'paper':'Paper',\r\n        'paperway':'Paper Direction',\r\n        'copys':'Copy',\r\n        'length':'Length(centimetre)',\r\n        'width':'Width(centimetre)',\r\n        'top':'Top(centimetre)',\r\n        'bottom':'Bottom(centimetre)',\r\n        'left':'Left(centimetre)',\r\n        'right':'Right(centimetre)',\r\n        'custompaper':'Custom Paper:',\r\n        'custommargin':'Custom Margin:',\r\n        'PrintWithoutPreview':'Direct Print',\r\n        'PrintWithBox':'Remote Print',\r\n    },\r\n    'en': {\r\n        'printview': 'Print View',\r\n        'printformat':'Print Format',\r\n        'printdesigner':'Print Designer',\r\n        'printset':'Print Setting',\r\n        'print':'Print',\r\n        'cancel':'Cancel',\r\n        'printer':'Printer',\r\n        'sendprintjob':'Send Print Job Success',\r\n        'appurlerror':'AppUrl Error',\r\n        'formatcode':'Format Code',\r\n        'formatname':'Format Name',\r\n        'portrait':'Portrait',\r\n        'landscape':'Landscape',\r\n        'selectprinter':'Please Select Printer',\r\n        'selectformat':'Please Select Format',\r\n        'selectlayout':'Please Select Layout',\r\n        'noagent':'Agent Is Empty,It May Can Not Locate The Printer',\r\n        'nopapersize':'Paper Size Is Not Allowed Empty',\r\n        'paper':'Paper',\r\n        'paperway':'Paper Direction',\r\n        'copys':'Copy',\r\n        'length':'Length(centimetre)',\r\n        'width':'Width(centimetre)',\r\n        'top':'Top(centimetre)',\r\n        'bottom':'Bottom(centimetre)',\r\n        'left':'Left(centimetre)',\r\n        'right':'Right(centimetre)',\r\n        'custompaper':'Custom Paper:',\r\n        'custommargin':'Custom Margin:',\r\n        'PrintWithoutPreview':'Direct Print',\r\n        'PrintWithBox':'Remote Print',\r\n    },\r\n    'zh-CHT': {\r\n        'printview': 'æå°é è¦½',\r\n        'printformat':'æå°æ ¼å¼',\r\n        'printdesigner':'æå°è¨­è¨å¨',\r\n        'printset':'æå°éç½®',\r\n        'printer':'æå°æ©',\r\n        'print':'æå°',\r\n        'cancel':'åæ¶',\r\n        'sendprintjob':'å·²æåç¼éæå°ä»»å',\r\n        'appurlerror':'æªéç½®æ­£ç¢ºçappUrl',\r\n        'formatcode':'æ ¼å¼ç·¨è',\r\n        'formatname':'æ ¼å¼åç¨±',\r\n        'portrait':'ç¸±å',\r\n        'landscape':'æ©«å',\r\n        'selectprinter':'è«é¸ææå°æ©',\r\n        'selectformat':'è«é¸ææå°æ ¼å¼',\r\n        'selectlayout':'è«é¸æä½å±',\r\n        'noagent':'æå°æ©å°æçæå°ä»£ççºç©º,å¾çºæå°å°ç¡æ³å®ä½æå°æ©',\r\n        'nopapersize':'ç´å¼µåèªå®ç¾©å¤§å°ä¸å¯åæçºç©º',\r\n        'paper':'ç´å¼µ',\r\n        'paperway':'ç´å¼µæ¹å',\r\n        'copys':'æå°ä»½æ¸',\r\n        'length':'é·(åç±³)',\r\n        'width':'å¯¬(åç±³)',\r\n        'top':'ä¸(åç±³)',\r\n        'bottom':'ä¸(åç±³)',\r\n        'left':'å·¦(åç±³)',\r\n        'right':'å³(åç±³)',\r\n        'custompaper':'èªå®ç¾©ç´å¼µ:',\r\n        'custommargin':'èªå®ç¾©é éè·:',\r\n        'PrintWithoutPreview':'ç´æ¥æå°',\r\n        'PrintWithBox':'é ç¨æå°',\r\n    },\r\n};","import { Pipe, PipeTransform, Inject, LOCALE_ID } from '@angular/core';\r\nimport { LANG_RESOURCES } from './i18n/language.resource';\r\n\r\n@Pipe({ name: 'locale' })\r\nexport class LocalLangPipe implements PipeTransform {\r\n    private readonly defaultLang: string = \"zh-CHS\";\r\n    private langCode: string;\r\n    private lang: {};\r\n    constructor(\r\n        @Inject(LOCALE_ID) localeId: string\r\n    ) {\r\n        this.langCode = localStorage.getItem(\"languageCode\") || localeId || this.defaultLang;\r\n        this.lang = LANG_RESOURCES[this.langCode] || LANG_RESOURCES[this.defaultLang];\r\n    }\r\n    transform(name: string): any {\r\n        return this.lang[name] || name;\r\n    }\r\n}\r\n\r\n","import { Injectable, Injector, ApplicationRef, EventEmitter, Query, LOCALE_ID } from '@angular/core';\r\nimport { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ViewContainerRef } from '@angular/core';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { PrintEntity } from './entitys/printEntity';\r\n\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { OutputOptions } from './entitys/outputoptions/outputOptions';\r\nimport { Urls } from './utils/cloudprint.Urls';\r\nimport { SourceOptions } from './entitys/datasourceoptions/sourceOptions';\r\nimport { SourceFilterOptions } from './entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from './entitys/datasourceoptions/booptions';\r\nimport { AppService, AppOptions, FrameworkVariableService } from '@gsp-sys/rtf-common';\r\nimport { FileType } from './entitys/outputoptions/fileType';\r\nimport { CmpType } from './entitys/enums/cmpType';\r\nimport { OutputParam } from './entitys/outputoptions/outputParam';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { SourceType } from './entitys/enums/sourceType';\r\n\r\nimport { PrintFormat } from './entitys/printFormat';\r\n\r\n\r\nimport {\r\n  WindowRef,\r\n  WindowCloseResult,\r\n  WindowService\r\n} from '@progress/kendo-angular-dialog';\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { Utils } from './utils/cloudprint.utils';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { Subject } from 'rxjs';\r\nimport { QueryType } from './entitys/enums/querytype';\r\nimport { PrintType } from './entitys/enums/printtype';\r\nimport { DataValidator } from './utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from './entitys/datasourceoptions/basesourceoptions';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { LocalLangPipe } from './local.pipe';\r\n\r\n\r\n@Injectable()\r\nexport class CloudprintService {\r\n  // ç»ä»¶å¼ç¨åé\r\n  private designercomponentRef: ComponentRef<CloudprintDesignerComponent>;\r\n  private viewercomponentRef: ComponentRef<CloudprintViewerComponent>;\r\n  /**\r\n   * Saasåºç¨éè¿æé å½æ°æ³¨å¥çViewContainerRefå¯¹è±¡\r\n   * \r\n   * ä¾å­ï¼\r\n   *    xxx.html\r\n   *          <ng-container #prndesigner></ng-container>\r\n   * \r\n   *    xxx.component.ts\r\n   *          @ViewChild('prndesigner', {read: ViewContainerRef}) \r\n   *          private container: ViewContainerRef;\r\n   */\r\n  viewContainer: ViewContainerRef;\r\n\r\n  /**\r\n   * æå°åæ°å®ä½\r\n   */\r\n  printEntity = new PrintEntity();\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   */\r\n  set setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  localeid:string;\r\n  localpipe: LocalLangPipe;\r\n\r\n  constructor(\r\n    private formatSrv: PrintFormatService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private designerSrv: CloudprintdesignerService,\r\n    private viewerSrv: CloudprintviewerService,\r\n    private injector: Injector,\r\n    private applicationRef: ApplicationRef,\r\n    private notifyService: NotifyService,\r\n    private appService: AppService,\r\n    private windowService: WindowService,\r\n    private modalService: BsModalService,\r\n    ) {\r\n      \r\n    // è®¾ç½®printEntityçé»è®¤å¼\r\n    this.printEntity.appUrl = Urls.CloudPrintBaseUrl;\r\n    this.printEntity.isUseMetaData = true;\r\n    this.printEntity.language = localStorage.getItem(\"languageCode\") || 'zh-CHS';\r\n    \r\n    // å°printEntityè®¾ç½®å°designer serviceä¸ï¼ä¸è®¾ç½®ï¼åé¢è°ç¨æå¡ä¼åç°æå¡çprintEntityæ¯ç©ºçï¼\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // å°printEntityè®¾ç½®å°viewer serviceä¸ï¼ä¸è®¾ç½®ï¼åé¢è°ç¨æå¡ä¼åç°æå¡çprintEntityæ¯ç©ºçï¼\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n\r\n    if(this.injector)\r\n    {\r\n      this.modalService = this.injector.get(BsModalService);\r\n      this.localeid = localStorage.getItem(\"languageCode\") || this.injector.get(LOCALE_ID);\r\n      this.localpipe = new LocalLangPipe(this.localeid);\r\n    } \r\n   \r\n  }\r\n\r\n\r\n  //#region æ ¼å¼éæ©åè¡¨ç¸å³æ¥å£\r\n  windowRef: WindowRef = undefined;\r\n\r\n  /**\r\n   * è¿è¡æ¶æå°æ¶æ ¹æ®ç»´åº¦è¿æ»¤å¼¹åºæå°æ ¼å¼éæ©åè¡¨\r\n   * @param dataSourceId æ°æ®æºId\r\n   * @param filter æ¯å¦è¿æ»¤æ¡ä»¶\r\n   * @param beOptions beOptions\r\n   * @param options è¾åºoptions\r\n   * @param ele æå®çelementåç´ \r\n   */\r\n  private openFormatListByDimension(beOptions:BaseSourceOptions, options: OutputOptions, ele:any,filter:boolean){\r\n    const that = this;\r\n    const dataSourceId = beOptions.SourceId;\r\n    const billCategoryId = beOptions.billCategoryId;\r\n    return this.formatSrv.getPrintFormatByDataSrouceAndDimension(billCategoryId,dataSourceId,(beOptions as any).FirstDimensionVal,(beOptions as any).SecondDimensionVal).then((res)=>{\r\n      const format : PrintFormat[] = (res != null && res.length != undefined) ? res : [];\r\n\r\n      //åªæä¸æ¡æå°æ ¼å¼ï¼ç´æ¥è¾åºé¢è§\r\n      if(format.length === 1){\r\n        return that.outputBySingleSelectionFormat({\r\n          'id': format[0].id, \r\n          'isFilter' : filter, \r\n          'beoptions': Object.assign({}, beOptions), \r\n          'options':options,\r\n          'isJob': false, \r\n          'printerName':'',\r\n          'boxId':'',\r\n          'printSetting':null,\r\n          'ele':ele});\r\n      }\r\n\r\n      const factory = that.resolver.resolveComponentFactory(FormatlistComponent);\r\n      const printsetting = factory.create(that.injector);\r\n      \r\n      printsetting.instance.formats = [...format];\r\n      printsetting.instance.localepip = that.localpipe;\r\n\r\n      const dlg = this.modalService.show(printsetting,{\r\n        title: this.localpipe.transform('printformat'),\r\n        width:400, \r\n        height: 500,\r\n        showButtons: true,\r\n        showMaxButton:false,\r\n        buttons: [\r\n          { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n            printsetting.instance.printJob();\r\n          }},\r\n          { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n            dlg.close();\r\n          }}\r\n        ],\r\n      });\r\n      // printsetting.instance.dlg = dlg;\r\n      //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n      printsetting.instance.print.subscribe((data) => {\r\n          dlg.close();\r\n          return that.outputBySingleSelectionFormat({\r\n              'id': data.id, \r\n              'isFilter' : filter, \r\n              'beoptions': Object.assign({}, beOptions), \r\n              'options':options, \r\n              'isJob': false,\r\n              'printerName':'',\r\n              'boxId':'',\r\n              'printSetting':null,\r\n              'ele':ele});\r\n      });\r\n      \r\n    });\r\n  }\r\n\r\n  /**\r\n   * åå°æå°ä»»å¡çæ ¼å¼éæ©åæå°éç½®åè¡¨\r\n   */\r\n  private openFormatListByDimension4Job(beOptions:Array<BaseSourceOptions>, options: OutputOptions,filter:boolean,isMulti:boolean){\r\n    const that = this;\r\n\r\n    if(isMulti){//æ¹éæå°\r\n      return this.formatSrv.getPrintDevice().then((data)=>{\r\n        const device = data || [];\r\n\r\n        let ids = '';\r\n        beOptions.forEach(x=>ids+=x.FormatId+',');\r\n  \r\n        const factory = that.resolver.resolveComponentFactory(FormatlistjobComponent);\r\n        const printsetting = factory.create(that.injector);\r\n  \r\n        printsetting.instance.boxlist = device;\r\n        printsetting.instance.formatId = ids.length>0?ids.substr(0,ids.length-1):ids;\r\n        printsetting.instance.isShowFormat = false;\r\n        printsetting.instance.localepip = that.localpipe;\r\n\r\n        const dlg = this.modalService.show(printsetting,{\r\n          title: this.localpipe.transform('printset'),\r\n          width: 800, \r\n          height: 500,\r\n          showButtons: true,\r\n          showMaxButton:false,\r\n          buttons: [\r\n            { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n              printsetting.instance.printJob();\r\n            }},\r\n            { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n              dlg.close();\r\n            }}\r\n          ],\r\n        });  \r\n        //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n        printsetting.instance.print.subscribe((data) => {\r\n            dlg.close();\r\n            return that.outputByMultiSelectionFormat({\r\n              'isFilter' : filter, \r\n              'beoptions': [...beOptions], \r\n              'options': Object.assign({}, options),\r\n              'isJob': true,\r\n              'printerName':data.printter,\r\n              'boxId':data.boxId,\r\n              'printSetting':data.printSetting,\r\n              'ele':null});\r\n        });\r\n      });\r\n    }else{\r\n      const billCategoryId = beOptions[0].billCategoryId;\r\n      const dataSourceId = beOptions[0].SourceId;\r\n      return this.formatSrv.getPrintFormatAndDevice(billCategoryId,dataSourceId,(beOptions as any).FirstDimensionVal,(beOptions as any).SecondDimensionVal).then((res)=>{\r\n        const format = res.format || [];\r\n        const device = res.device || [];\r\n        //åªæä¸æ¡æå°æ ¼å¼ï¼åä¸ç¨åéæ©æ ¼å¼\r\n        if(format.length === 1){\r\n          beOptions[0].FormatId = format[0].id;\r\n        }\r\n  \r\n        const factory = that.resolver.resolveComponentFactory(FormatlistjobComponent);\r\n        const printsetting = factory.create(that.injector);\r\n   \r\n        printsetting.instance.formats = format;\r\n        printsetting.instance.boxlist = device;\r\n        printsetting.instance.formatId = beOptions[0].FormatId;\r\n        printsetting.instance.isShowFormat = beOptions[0].FormatId?false:true;\r\n        printsetting.instance.localepip = that.localpipe;\r\n\r\n        const dlg = this.modalService.show(printsetting,{\r\n          title: this.localpipe.transform('printset'),\r\n          width: 800, \r\n          height: 500,\r\n          showButtons: true,\r\n          showMaxButton:false,\r\n          buttons: [\r\n            { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n              printsetting.instance.printJob();\r\n            }},\r\n            { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n              dlg.close();\r\n            }}\r\n          ],\r\n        });  \r\n        //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n        printsetting.instance.print.subscribe((data) => {\r\n            dlg.close();\r\n            return that.outputBySingleSelectionFormat({\r\n              'id': data.id, \r\n              'isFilter' : filter, \r\n              'beoptions': Object.assign({}, beOptions[0]), \r\n              'options': Object.assign({}, options),\r\n              'isJob': true,\r\n              'printerName':data.printter,\r\n              'boxId':data.boxId,\r\n              'printSetting':data.printSetting,\r\n              'ele':null});\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // éäºæ ¼å¼åçè¾åº\r\n  private outputBySingleSelectionFormat(res: any): any{\r\n    console.log('éå®æ ¼å¼åå¤æ¸²æ: ' + JSON.stringify(res));\r\n    const self = this;\r\n\r\n    if(!res.id){\r\n      return;\r\n    }\r\n  \r\n    res.beoptions.FormatId = res.id;\r\n    res.options.DeviceId = res.boxId;\r\n    res.options.printerName = res.printerName;\r\n    res.options.printSetting = res.printSetting;\r\n    res.options.printJob = res.isJob;\r\n\r\n    if(res.isJob){//åå°æå°\r\n      if(res.isFilter === true) {\r\n        return this.formatSrv.printSingleByFilter(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }else{\r\n        return this.formatSrv.printSingleById(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }\r\n    }else{//åå°æå°\r\n      if(res.ele) {//æeleï¼åå¼æè´è´£æ¸²æ\r\n        if(res.isFilter === true) {\r\n          if(res.ele==='download'){\r\n            return this.formatSrv.printSingleByFilter(res.beoptions, res.options, res.su,'CloudPrint')\r\n            .then((data) => {\r\n              self.downloadFile(data);  \r\n            }); \r\n          }else{\r\n            self.openRendedViewer(res.ele,null,res.options,[res.beoptions],res.isFilter);\r\n          }  \r\n        } else {  \r\n          if(res.ele==='download'){\r\n            return this.formatSrv.printSingleById(res.beoptions, res.options, res.su,'CloudPrint')\r\n            .then((data) => {\r\n              self.downloadFile(data);  \r\n            }); \r\n          }else{\r\n            self.openRendedViewer(res.ele,null,res.options,[res.beoptions],res.isFilter);\r\n          }\r\n        }\r\n      }else{//æ²¡æeleï¼ååªè¿ååå°çæ¸²æç»æï¼ç»è°ç¨æ¹èªå·±å¤ç\r\n        if(res.filter === true){\r\n          return this.formatSrv.printSingleByFilter(res.beoptions, res.options, res.su,'CloudPrint');\r\n        }else{\r\n          return this.formatSrv.printSingleById(res.beoptions, res.options, res.su,'CloudPrint');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private outputByMultiSelectionFormat(res: any): any{\r\n    console.log('éå®æ ¼å¼åå¤æ¸²æ: ' + JSON.stringify(res));\r\n    const self = this;\r\n\r\n    res.options.DeviceId = res.boxId;\r\n    res.options.printerName = res.printerName;\r\n    res.options.printSetting = res.printSetting;\r\n    res.options.printJob = res.isJob;\r\n\r\n    if(res.isJob){//åå°æå°\r\n      if(res.isFilter === true) {\r\n        return this.formatSrv.printMultiByFilter(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }else{\r\n        return this.formatSrv.printMultiById(res.beoptions, res.options, res.su,'CloudPrint')\r\n        .then(()=>{\r\n          self.notifyService.success(this.localpipe.transform('sendprintjob'));\r\n        });\r\n      }\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  //#region å¯¹å¤è®¾è®¡å¨åé¢è§å¨æ¥å£\r\n\r\n  /**\r\n   * å¨å½åé¡µé¢Bodyä¸æå¼Designer\r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  openDesigner(format: string, data: object, formatId: string, dataIds: string) {\r\n    this.openDesignerInternal(window.document.body, format, data, formatId, dataIds);\r\n  }\r\n\r\n  /**\r\n   * å¨å½åé¡µé¢çæå®çåç´ ä¸æå¼Designer\r\n   * @param ele æå®çåç´ \r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  openDesignerOnEle(ele: HTMLElement, format: string, data: object, formatId: string, dataIds: string) {\r\n    this.openDesignerInternal(ele, format, data, formatId, dataIds);\r\n  }\r\n\r\n  /**\r\n   * å¨æ°çtabé¡µé¢ä¸æå¼Designer\r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  openDesignerNewTab(format: string, data: object, formatId: string, dataIds: string) {\r\n    this.openDesignerInternal(null, format, data, formatId, dataIds);\r\n  }\r\n  \r\n  /**\r\n   * è¿è¡æ¶å¨å½åé¡µé¢çæå®çåç´ ä¸æå¼Designer\r\n   * @param ele æå®çåç´ \r\n   * @param formatCode æ ¼å¼ç¼å·\r\n   * @param formatName æ ¼å¼åç§°\r\n   * @param bizObjectId ä¸å¡å¯¹è±¡Id\r\n   * @param datasourceId æ°æ®æºId, BEId/VOId/BesinessObjectClassInfo\r\n   * @param sourceType æ°æ®æºç±»å, SourceType.BE/SourceType.VO/SourceType.BO\r\n   */\r\n  openDesignerOnEleForRuntime(ele: HTMLElement,formatId: string, formatCode: string, formatName: string, bizObjectId: string, datasourceId: string, sourceType: SourceType) {\r\n    this.printEntity.printFormat = new PrintFormat();\r\n    this.printEntity.isUseMetaData = true;\r\n\r\n    if(formatId && formatId.length>0){\r\n      // ç¼è¾\r\n      this.formatSrv.getNewSourceFormatByFormatId(formatId)\r\n      .then((res) => {\r\n        this.printEntity.printFormat = res;\r\n        //æå¼è®¾è®¡å¨\r\n        this.openDesignerOnEle(ele, this.printEntity.printFormat.content, {}, '', '');\r\n      });\r\n    }else{\r\n      //åå§å\r\n      this.initPrintFormat(datasourceId, sourceType)\r\n      .then((res)=>{\r\n        this.printEntity.printFormat.id = Utils.uuid();\r\n        this.printEntity.printFormat.code = formatCode;\r\n        this.printEntity.printFormat.name = formatName;\r\n\r\n        this.printEntity.printFormat.bizObjectId = bizObjectId;\r\n        this.printEntity.printFormat.dataSourceId = datasourceId;\r\n        this.printEntity.printFormat.sourceType = sourceType;\r\n        this.printEntity.printFormat.isUseTemplate = false;\r\n        this.printEntity.printFormat.content = res.format; //æå°æ ¼å¼mrt   \r\n        this.printEntity.printFormat.dataSchema =  res.printschema;//PrintDataSchemaViewæè¿°   \r\n\r\n        //æå¼è®¾è®¡å¨\r\n        this.openDesignerOnEle(ele, this.printEntity.printFormat.content, {}, '', '');\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¨æå®çåç´ ä¸æå¼Designer(åç«¯æ¸²æ)\r\n   * @param ele æå®çåç´ \r\n   * @param format æ ¼å¼\r\n   * @param data æ°æ®\r\n   * @param formatId æ ¼å¼id\r\n   * @param dataIds æ°æ®ids\r\n   */\r\n  private openDesignerInternal(ele: HTMLElement, format: string, data: object, formatId: string, dataIds: string) {\r\n    if (ele) {\r\n      this.printEntity.format = format;\r\n      this.printEntity.data = data;\r\n      this.printEntity.foramtId = formatId;\r\n      this.printEntity.dataId = dataIds;\r\n      this.createDesignerRef();\r\n      // ç»è§å¾æ·»å èæ£æ¥(è¿ä¸ªæ¹å¼æ¯éå@ViewChildçæ¹æ³ä½¿ç¨ç)\r\n      // this.applicationRef.attachView(this.designercomponentRef.hostView);\r\n      // å°åå»ºå¥½çç»ä»¶å¼ç¨appendå°æå®æ ç­¾ä¸\r\n      // è¿éå°å¨æç»ä»¶å è½½å°æå®çhtmléæä¸¤ç§æ¹å¼ï¼\r\n      //  1.ä¸é¢ç@ViewChil\r\n      //  2.å¦ä¸çele.appendChild(this.getComponentRootNode(this.viewercomponentRef));æ¹å¼\r\n      ele.appendChild(this.getComponentRootNode(this.designercomponentRef)); \r\n    } else {\r\n      const param = new OutputParam();\r\n      param.prnFormat = format;\r\n      param.prnData = data;\r\n      param.prnFormatId = formatId;\r\n      param.prnDataId = dataIds;\r\n      param.prnType = CmpType.Designer;\r\n\r\n      this.appService.openAppByOptions({\r\n        appType:'app',\r\n        funcId:'',\r\n        tabName:this.localpipe.transform('printdesigner'),\r\n        appId:'cloudprint-view-index',\r\n        appEntrance:'cloudprint-view-index',\r\n        tabId:Utils.uuid(),\r\n        entityParams:{\r\n          foramtParam:param,\r\n          formatEntity:null,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·åç©ºç½æå°æ ¼å¼\r\n   */\r\n  private initPrintFormat(datasourceId: string, sourceType: SourceType):Promise<any>{\r\n\r\n    if(sourceType === SourceType.BE)\r\n    {\r\n      //boæ°æ®æº\r\n      return this.formatSrv.createPrintFormatWithBE(datasourceId);\r\n    }\r\n    else if (sourceType === SourceType.VO) \r\n    {\r\n      // voæ°æ®æº\r\n      return this.formatSrv.createPrintFormatWithVO(datasourceId);\r\n    }\r\n    else\r\n    {\r\n      // é»è®¤ç¨BEæ°æ®æº\r\n      return this.formatSrv.createPrintFormatWithBO(datasourceId);\r\n    }  \r\n  }\r\n\r\n  /**\r\n   * åå»ºDesigneræä»¶çå¼ç¨å¯¹è±¡\r\n   */\r\n  private createDesignerRef(): void {\r\n\r\n    const factory = this.resolver.resolveComponentFactory(CloudprintDesignerComponent);\r\n    if (!this.viewContainer) {\r\n      this.designercomponentRef = factory.create(this.injector);\r\n      this.applicationRef.attachView(this.designercomponentRef.hostView);\r\n\r\n    } else {\r\n      this.viewContainer.clear();\r\n      this.designercomponentRef = this.viewContainer.createComponent(factory);\r\n    }\r\n\r\n    // åæ­¥ç»ä»¶åç»ä»¶ä¸ä¾èµçæå¡çprintEntity\r\n    this.designercomponentRef.instance.setPrintEntity(this.printEntity);\r\n    // this.designercomponentRef.instance.localeid = this.localeid;\r\n\r\n    // è®¢ééåºäºä»¶\r\n    this.designercomponentRef.instance.printEntity.onExitEvent.subscribe((e) => {\r\n      this.designercomponentRef.destroy();\r\n      if (!this.viewContainer) {\r\n        this.applicationRef.detachView(this.designercomponentRef.hostView);\r\n      } else {\r\n        this.viewContainer.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æå¼å·²ç»æ¸²æçViewerï¼åç«¯æ¸²æï¼\r\n   * @param ele æå®çåç´ \r\n   * @param data å·²ç»æ¸²æçæ ¼å¼(åç«¯æ¸²ææ¯pdfçäºè¿å¶æµ)\r\n   */\r\n  openRendedViewer(ele: any, data: any, options: OutputOptions,sourceOptions: Array<BaseSourceOptions>=null,isFilter:boolean=false,printEntity:PrintEntity=null,param:any=null) {\r\n    \r\n    if(printEntity!=null){//ç¨å¤ççprintEntityå±æ§è¦çå½åçprintEntityçå±æ§\r\n      // tslint:disable-next-line:forin\r\n      for (const key in printEntity) {\r\n        this.printEntity[key] = printEntity[key];\r\n      }\r\n    }\r\n\r\n    if(data){//æ°æ®å·²æ¸²æï¼ç´æ¥æå°ï¼ä¸å­å¨åå°æå°äº\r\n      this.preViewLocal(ele,data,options,sourceOptions,printEntity,isFilter,param);\r\n    }else{\r\n      this.preViewRemote(ele,options,sourceOptions,isFilter,printEntity,param);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * æå¼å·²ç»æ¸²æçViewerï¼åç«¯æ¸²æ,ç»éä»¶ç¨çï¼\r\n   * @param ele æå®çåç´ \r\n   * @param data å·²ç»æ¸²æçæ ¼å¼(åç«¯æ¸²ææ¯pdfçäºè¿å¶æµ)\r\n   */\r\n  openRendedViewer4Attachment(ele: any, data: any, options: OutputOptions) {\r\n    \r\n    this.openRendedViewer(ele,data,options,null,false,this.printEntity);\r\n  }\r\n\r\n  /**\r\n   * æ¬å°ç´æ¥æå°\r\n   */\r\n  private preViewLocal(ele: any, data: any, options: OutputOptions,sourceOptions: Array<BaseSourceOptions>=null,printEntity:PrintEntity=null,isFilter:boolean,param:any=null){\r\n    const self = this;\r\n\r\n    const b = new Blob([data]);\r\n    const reader = new FileReader();\r\n    reader.readAsArrayBuffer(b);\r\n    reader.onload = async function (e) {\r\n      const rendedFormat = reader.result as any;\r\n      const param = new OutputParam();\r\n      param.prnRendedFormat = btoa(new Uint8Array(rendedFormat) as any);\r\n      param.prnType = CmpType.Viewer;\r\n      param.prnOutputOps = Object.assign({},options);\r\n      param.prnSourceOptions = sourceOptions?[...sourceOptions]:[];\r\n      param.isFilter = isFilter;\r\n\r\n      if (ele === 'tab') {\r\n        self.appService.openAppByOptions({\r\n          appType:'app',\r\n          funcId:'',\r\n          tabName:self.localpipe.transform('printview'),\r\n          appId:'cloudprint-view-index',\r\n          appEntrance:'cloudprint-view-index',\r\n          tabId:Utils.uuid(),\r\n          entityParams:{\r\n            foramtParam:param,\r\n            formatEntity:null,\r\n          },\r\n        });\r\n      } else {\r\n        const remotePrint = await self.formatSrv.isRemotePrint();\r\n        self.createViewerRef();        \r\n        self.printEntity.rendedFormat = rendedFormat;\r\n        self.viewercomponentRef.instance.outputParam = param;\r\n        self.viewercomponentRef.instance.isRemotePrint = remotePrint;\r\n        ele.appendChild(self.getComponentRootNode(self.viewercomponentRef));\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * è¿ç¨æå°\r\n   */\r\n  private async preViewRemote(ele: any, options: OutputOptions,sourceOptions: Array<BaseSourceOptions>=null,isFilter:boolean,printEntity:PrintEntity=null,param:any=null){\r\n    const self = this;\r\n\r\n    const outputparam = new OutputParam();\r\n    outputparam.prnType = CmpType.Viewer;\r\n    outputparam.prnOutputOps = Object.assign({},options);\r\n    outputparam.prnSourceOptions =[...sourceOptions];\r\n    outputparam.isFilter = isFilter;\r\n    if (ele === 'tab') {\r\n\r\n      self.appService.openAppByOptions({\r\n        appType:'app',\r\n        funcId:'',\r\n        tabName:self.localpipe.transform('printview'),\r\n        appId:'cloudprint-view-index',\r\n        appEntrance:'cloudprint-view-index',\r\n        tabId:Utils.uuid(),\r\n        entityParams:{\r\n          foramtParam:outputparam,\r\n          formatEntity:null,\r\n        },\r\n      });\r\n    } else {\r\n      const remotePrint = await self.formatSrv.isRemotePrint();\r\n      self.createViewerRef();\r\n      self.viewercomponentRef.instance.outputParam = outputparam;\r\n      self.viewercomponentRef.instance.isRemotePrint = remotePrint;\r\n      ele.appendChild(self.getComponentRootNode(self.viewercomponentRef));\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * åå»ºVieweræä»¶çå¼ç¨å¯¹è±¡\r\n   */\r\n  private createViewerRef(): void {\r\n\r\n    const factory = this.resolver.resolveComponentFactory(CloudprintViewerComponent);\r\n    if (!this.viewContainer) {\r\n      this.viewercomponentRef = factory.create(this.injector);\r\n      this.applicationRef.attachView(this.viewercomponentRef.hostView);\r\n    } else {\r\n      this.viewContainer.clear();\r\n      this.viewercomponentRef = this.viewContainer.createComponent(factory);\r\n    }\r\n\r\n    // åæ­¥ç»ä»¶åç»ä»¶ä¸ä¾èµçæå¡çprintEntity\r\n    this.viewercomponentRef.instance.setPrintEntity(this.printEntity);\r\n    this.viewercomponentRef.instance.localpipe = this.localpipe;\r\n    // è®¢ééåºäºä»¶\r\n    this.viewercomponentRef.instance.printEntity.onExitEvent.subscribe((e) => {\r\n      this.viewercomponentRef.destroy();\r\n      if (!this.viewContainer) {\r\n        this.applicationRef.detachView(this.viewercomponentRef.hostView);\r\n      } else {\r\n        this.viewContainer.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å°ComponentRefç±»åçç»ä»¶å¼ç¨è½¬æ¢ä¸ºDOMèç¹ï¼åèèªMaterial2ï¼\r\n   * @param cpRef ç»ä»¶çå¼ç¨å¯¹è±¡\r\n   */\r\n  private getComponentRootNode(cpRef: ComponentRef<any>): HTMLElement {\r\n    return (cpRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n  }\r\n  //#endregion\r\n\r\n  //#region å¯¹å¤æå°æå¡æ¥å£\r\n  /**\r\n   * åæ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleById(beoptions: SourceOptions, options: OutputOptions, ele: any,su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n\r\n    if(beoptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beoptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n\r\n    //ä¸è¡¨åéææ¶ï¼è¡¨åæå°æ¶æå¤ä¸ªæå°æ ¼å¼ï¼éè¦éæ©ï¼è¿æ¶åæ ¼å¼idæ¯ç©ºç\r\n    if(beoptions.FormatId == undefined || beoptions.FormatId == '') {\r\n      return this.openFormatListByDimension(beoptions, options, ele, false);\r\n    } else {\r\n      if (ele) {\r\n        const self = this;\r\n        if(ele==='download'){\r\n          return this.formatSrv.printSingleById(beoptions, options,su, 'CloudPrint')\r\n          .then((data) => {\r\n            self.downloadFile(data); \r\n          }); \r\n        }else{\r\n          self.openRendedViewer(ele,null,options,[beoptions],false);\r\n        }\r\n      } else {\r\n        return this.formatSrv.printSingleById(beoptions, options,su, 'CloudPrint');\r\n      }      \r\n    }\r\n  }\r\n\r\n  /**\r\n   * åæ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleByFilter(beFilteroptions: SourceFilterOptions, options: OutputOptions, ele: any,su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    \r\n    if(beFilteroptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beFilteroptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n\r\n    //ä¸è¡¨åéææ¶ï¼è¡¨åæå°æ¶æå¤ä¸ªæå°æ ¼å¼ï¼éè¦éæ©ï¼è¿æ¶åæ ¼å¼idæ¯ç©ºç\r\n    if(beFilteroptions.FormatId == undefined || beFilteroptions.FormatId == '') {\r\n      return this.openFormatListByDimension(beFilteroptions, options, ele, true);\r\n    } else  {\r\n      if (ele) {\r\n        const self = this;\r\n        if(ele==='download'){\r\n          return this.formatSrv.printSingleByFilter(beFilteroptions, options,su, 'CloudPrint')\r\n          .then((data) => {\r\n            self.downloadFile(data);\r\n    \r\n          });\r\n        }else{\r\n          self.openRendedViewer(ele,null,options,[beFilteroptions],true);\r\n        }\r\n      } else {\r\n        return this.formatSrv.printSingleByFilter(beFilteroptions, options, su,'CloudPrint');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨,éè¦å¤çç»ç»å¥½æ ¼å¼åæ°æ®çå¯¹åºå³ç³»\r\n   */\r\n  printMultiById(beOptionsList: Array<SourceOptions>, options: OutputOptions,ele: any, su=null, param=null): any{\r\n    for(let i=0; i< beOptionsList.length;i++){\r\n      DataValidator.checkForNullReference(beOptionsList[i].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n\r\n    if(ele){\r\n      const self = this;\r\n      if(ele==='download'){\r\n        return this.formatSrv.printMultiById(beOptionsList,options,su,'CloudPrint')\r\n        .then((data) => {\r\n          this.downloadFile(data);\r\n        }); \r\n      }else{\r\n        self.openRendedViewer(ele, null, options,beOptionsList,false);\r\n      }\r\n    }else{\r\n      return this.formatSrv.printMultiById(beOptionsList,options,su,'CloudPrint');\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨,éè¦å¤çç»ç»å¥½æ ¼å¼åæ°æ®çå¯¹åºå³ç³»\r\n   */\r\n  printMultiByFilter(beOptionsList: Array<SourceFilterOptions>, options: OutputOptions, ele: any,su=null, param=null): any{\r\n    for(let i=0; i< beOptionsList.length;i++){\r\n      DataValidator.checkForNullReference(beOptionsList[i].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl) == false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    if(ele){\r\n      const self = this;\r\n      if(ele==='download'){\r\n        return this.formatSrv.printMultiByFilter(beOptionsList,options,su,'CloudPrint')\r\n        .then((data) => {\r\n          this.downloadFile(data);\r\n        });  \r\n      }else{\r\n        self.openRendedViewer(ele, null, options,beOptionsList,true);\r\n      }\r\n   \r\n    }else{\r\n      return this.formatSrv.printMultiByFilter(beOptionsList,options,su,'CloudPrint');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åæ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleById4Job(beoptions: SourceOptions, options: OutputOptions,su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    if(beoptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beoptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n\r\n    return this.openFormatListByDimension4Job([beoptions], options, false,false);\r\n  }\r\n\r\n  /**\r\n   * åæ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * 1.å¸¦ç»´åº¦è¿æ»¤æ ¼å¼éæ©å¨\r\n   */\r\n  printSingleByFilter4Job(beFilteroptions: SourceFilterOptions, options: OutputOptions, su=null,param=null): any {\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    if(beFilteroptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n      beFilteroptions.queryType = QueryType.Unknown;\r\n    }\r\n    if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n      options.printType = PrintType.Form;\r\n    }\r\n    return this.openFormatListByDimension4Job([beFilteroptions], options, true,false);\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼æ°æ®idæå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨\r\n   */\r\n  printMultiById4Job(beOptionsList: Array<SourceOptions>, options: OutputOptions, su=null, param=null): any{\r\n    // tslint:disable-next-line:forin\r\n    for(const b in beOptionsList){\r\n      DataValidator.checkForNullReference(beOptionsList[0].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    return this.openFormatListByDimension4Job(beOptionsList, options, false,true);\r\n\r\n  }\r\n\r\n  /**\r\n   * å¤æ ¼å¼è¿æ»¤å¨æå°\r\n   * suï¼åæ æ¨¡å¼ä¸nginxè·¯ç±çsu\r\n   * \r\n   * TODO: ç®åä¸å¸¦æ ¼å¼éæ©å¨\r\n   */\r\n  printMultiByFilter4Job(beFilteroptions: Array<SourceFilterOptions>, options: OutputOptions, su=null, param=null): any{\r\n\r\n    // tslint:disable-next-line:forin\r\n    for(const b in beFilteroptions){\r\n      DataValidator.checkForNullReference(beFilteroptions[0].queryType,'queryType');\r\n    }\r\n\r\n    DataValidator.checkForNullReference(options.printType,'printType');\r\n    if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n      this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n      return;\r\n    }\r\n    return this.openFormatListByDimension4Job(beFilteroptions, options, true,true);\r\n  }\r\n  \r\n  /**\r\n   * åå»ºblobå¯¹è±¡ï¼å¹¶å©ç¨æµè§å¨æå¼urlè¿è¡ä¸è½½\r\n   * @param data æä»¶æµæ°æ®\r\n   */\r\n  downloadFile(data) {\r\n  \r\n    const link = document.createElement('a');\r\n    const blob = new Blob([data], {type: 'application/pdf;charset=UTF-8'});\r\n    link.setAttribute('href', window.URL.createObjectURL(blob));\r\n    link.setAttribute('download', this.printEntity.downLoadFileName+'.pdf');\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }\r\n  //#endregion\r\n  \r\n  /**\r\n   * æå°ï¼è¿æäºï¼æ¹ä¸ºprintSingleByIdï¼\r\n   * @param beoptions æ°æ®æºéé¡¹\r\n   * @param options å¯¼åºéé¡¹\r\n   * @param ele é¢è§æ¶è¦æ¸²æçä¸»ä½\r\n   * eleä¸ºç©ºæ¶ï¼è¿åæ¸²ææµï¼\r\n   * eleä¸ºtabå­ç¬¦ä¸²æ¶ï¼æ°çtabé¡µæå¼é¢è§å¨ï¼\r\n   * eleä¸ºdownloadå­ç¬¦ä¸²æ¶ï¼ä¸è½½ï¼\r\n   * eleä¸ºelementåç´ æ¶ï¼å½åé¡µçelementä¸æ¸²æé¢è§å¨\r\n   * \r\n   * æ³¨æbeoptionséçRetrieveParamåçå±æ§å¼é½éè¦å°åå­æ¯å¼å¤´\r\n   */\r\n  outputBEData(beoptions: any, options: OutputOptions, ele: any): any {\r\n    return this.printSingleById(beoptions,options,ele);\r\n  }\r\n\r\n  /**\r\n   * æå°ï¼è¿æäºï¼æ¹ä¸ºprintSingleByFilterï¼\r\n   * @param beoptions BEFilteréé¡¹\r\n   * @param options å¯¼åºéé¡¹\r\n   * @param ele é¢è§æ¶è¦æ¸²æçä¸»ä½\r\n   * eleä¸ºç©ºæ¶ï¼è¿åæ¸²ææµï¼\r\n   * eleä¸ºtabå­ç¬¦ä¸²æ¶ï¼æ°çtabé¡µæå¼é¢è§å¨ï¼\r\n   * eleä¸ºdownloadå­ç¬¦ä¸²æ¶ï¼ä¸è½½\r\n   * eleä¸ºelementåç´ æ¶ï¼å½åé¡µçelementä¸æ¸²æé¢è§å¨\r\n   * \r\n   * æ³¨æbeoptionséçRetrieveParamåçå±æ§å¼é½éè¦å°åå­æ¯å¼å¤´\r\n   */\r\n  outputBEDataWithFilter(beFilteroptions: any, options: OutputOptions, ele: any): any {\r\n    return this.printSingleByFilter(beFilteroptions, options,ele);\r\n  }\r\n\r\n}\r\n","import { LOCALE_ID, NgModule, SystemJsNgModuleLoaderConfig } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { CloudprintService } from './cloudprint.service';\r\n\r\nimport { NotifyService, NotifyContainerComponent, NotifyModule } from '@farris/ui-notify';\r\nimport { CloudprintFunctionRegister } from './functions/cloudprint.function.register';\r\nimport { AppService, CommonSharedModule } from '@gsp-sys/rtf-common';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { WindowModule, DialogModule } from '@progress/kendo-angular-dialog';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\n\r\nimport { LoadingModule, LoadingService } from '@farris/ui-loading';\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { SplitterModule  } from '@farris/ui-splitter';\r\nimport { FarrisSectionModule } from '@farris/ui-section';\r\nimport { AngularDraggableModule } from '@farris/ui-draggable';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { NumberSpinnerModule } from '@farris/ui-number-spinner';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { LocalLangPipe } from './local.pipe';\r\n// import { BrowserModule } from '@angular/platform-browser';\r\nimport { FResponseToolbarModule } from '@farris/ui-response-toolbar';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    // BrowserModule,\r\n    HttpClientModule,\r\n    NotifyModule,\r\n    WindowModule,\r\n    FormsModule,\r\n    GridModule,\r\n    DialogModule,\r\n    LoadingModule,\r\n    LoadingModule.forRoot(),\r\n    FarrisDialogModule,\r\n    FarrisButtonModule,\r\n    SplitterModule,\r\n    DatagridModule,\r\n    AngularDraggableModule,\r\n    FarrisSectionModule,\r\n    ModalModule.forRoot(),\r\n    NumberSpinnerModule,\r\n    ComboListModule,\r\n    FarrisFormsModule,\r\n    FResponseToolbarModule\r\n  ],\r\n  declarations: [\r\n    CloudprintDesignerComponent,\r\n    CloudprintViewerComponent,\r\n    FormatlistComponent,\r\n    FormatlistjobComponent,\r\n    LocalLangPipe\r\n  ],\r\n  entryComponents: [\r\n    CloudprintDesignerComponent,\r\n    CloudprintViewerComponent,\r\n    NotifyContainerComponent,\r\n    FormatlistComponent,\r\n    FormatlistjobComponent\r\n  ],\r\n  providers: [\r\n    // componentéä¾èµçæå¡é½éè¦å¨è¿éç³æä¸\r\n    CloudprintdesignerService,\r\n    CloudprintviewerService,\r\n    CloudprintService,\r\n    NotifyService,\r\n    CloudprintFunctionRegister,\r\n    AppService,\r\n    PrintFormatService,\r\n    LanguageService,\r\n    LoadingService,\r\n    { provide: LOCALE_ID, useValue: localStorage.getItem('languageCode') || 'zh-CHS' },\r\n  ],\r\n  // bootstrap: [ CloudprintDesignerComponent ]\r\n})\r\nexport class CloudPrintModule {\r\n}\r\n","import { QueryType } from '../enums/querytype';\r\n\r\nexport class BaseSourceOptions{\r\n    /**æå°åæ°æ®ç¼å·*/\r\n    FormatId: string;\r\n    /**BEåæ°æ®ç¼å·*/\r\n    SourceId: string;\r\n    /** åæ®ç±»åid*/\r\n    billCategoryId:string;\r\n    /**ä¸å¡ç±»åid */\r\n    bizTypeId:string;\r\n    /** æå¡åå*/\r\n    ServiceUnit: string;\r\n    /** å½åé¡µ*/\r\n    currentPage: number;\r\n    /** æ¯é¡µè¡æ°*/\r\n    pageRowCount: number;\r\n    /**æ¥è¯¢ç±»åï¼\r\n     * éå¯¹èªå®ä¹åæ°çæ¹å¼ï¼ç±»åå¼ç±åæ¹èªå·±çº¦å®å­ç¬¦ä¸²*/\r\n    queryType:QueryType;    \r\n    /**åé¨æå¡çserviceid*/\r\n    queryServiceId:string;\r\n    /** æ¥è¯¢åæ°*/\r\n    queryParam:any;\r\n\r\n    includeChildData:boolean = true;\r\n}\r\n","import { BaseSourceOptions } from './basesourceoptions';\r\nimport { QueryType } from '../enums/querytype';\r\n\r\nexport class SourceFilterOptions extends BaseSourceOptions{\r\n    public constructor() {\r\n        super();\r\n        this.queryType = QueryType.Unknown;\r\n\r\n    }\r\n    /**\r\n     * Gsç³»ç»Beæ°æ®è¿æ»¤å¨\r\n     */\r\n    EntityFilter: any;\r\n\r\n    // FirstDimensionId:string;\r\n\r\n    FirstDimensionVal: string;\r\n\r\n    // SecondDimension: string;\r\n\r\n    SecondDimensionVal: string;\r\n}\r\n","import { BaseSourceOptions } from './basesourceoptions';\r\nimport { QueryType } from '../enums/querytype';\r\n\r\nexport class SourceOptions extends BaseSourceOptions{\r\n\r\n    public constructor() {\r\n        super();\r\n        this.queryType = QueryType.Unknown;\r\n    }\r\n    /**\r\n     * Gsç³»ç»Beæ°æ®æ è¯\r\n     */\r\n    DataIds: string[];\r\n\r\n    RetrieveParam:any;\r\n    \r\n    // FirstDimensionId:string;\r\n\r\n    FirstDimensionVal: string;\r\n\r\n    // SecondDimensionId: string;\r\n\r\n    SecondDimensionVal: string;\r\n}\r\n","/**\r\n * è¿ä¸ªç±»ä»¥åä¸ç¨äºï¼ä½æ¯ä¸è½å ï¼è´¢å¡å·²ç»ä½¿ç¨ \r\n */\r\n\r\nexport class RetrieveParam {\r\n    NeedLock: boolean;\r\n    NodeSortInfos: NodeSortInfos[];\r\n    CacheType: RequestedBufferType;\r\n    ForceFromRepository: boolean;\r\n}\r\n\r\nexport class NodeSortInfos {\r\n    NodeCode: string;\r\n    SortConditions: SortConditions[];\r\n}\r\n\r\nexport class SortConditions {\r\n    SortType: SortType;\r\n    SortField: string;\r\n}\r\n\r\n\r\n//\r\n// æè¦:\r\n//     æ°æ®æ£ç´¢æ¶ä½¿ç¨çæ°æ®æ¥æºç±»å\r\nexport enum RequestedBufferType\r\n{\r\n    //\r\n    // æè¦:\r\n    //     æ¬æ¬¡è¯·æ±ä¸­çæ°æ®ã\r\n    //\r\n    // è¨è®ºï¼\r\n    //     å¦ææ¬æ¬¡è¯·æ±æ§è¡æå,æäº¤å°Inspur.Gsp.Bef.Api.Parameter.RequestedBufferType.TransactionalBuffer,å¦åè¢«ä¸¢å¼\r\n    CurrentData = 0,\r\n    //\r\n    // æè¦:\r\n    //     åå«ä¼è¯è¿ç¨ä¸­å·²ç»æ¥åçåæ´æ°æ®\r\n    TransactionalBuffer = 1,\r\n    //\r\n    // æè¦:\r\n    //     ä¿®æ¹ä¹åçèå¼,ç¨äºæ¯è¾åæ´,è·åå·®å¼æè§¦åäºä»¶ãä¼è¯è¿ç¨ä¸­ä¿æä¸æ°æ®åºä¸­ä¸è´\r\n    Original = 2\r\n}\r\n\r\nexport enum SortType {\r\n    Asc = 0,\r\n    Desc = 1\r\n}\r\n\r\n\r\n///\t\t\t\"RetrieveParam\": {\r\n///\t\t\t\t\"NeedLock\": false,\r\n///\t\t\t\t\"CacheType\": 0,\r\n///\t\t\t\t\"NodeSortInfos\": [{\r\n///\t\t\t\t\t\"NodeCode\": \"OrderItems\",\r\n///\t\t\t\t\t\"SortConditions\": [{\r\n///\t\t\t\t\t\t\"SortType\": 0,\r\n///\t\t\t\t\t\t\"SortField\": \"Price\"\r\n///\r\n///\t\t\t\t\t}]\r\n///\t\t\t\t}],\r\n///\t\t\t\t\"ForceFromRepository\": false\r\n///\t\t\t}\r\n","/**\r\n * æä»¶ç±»å\r\n *  (ä¸ºäºå¼å®¹javaï¼æ¹ä¸ºstringç±»å)\r\n */\r\nexport enum FileType {\r\n    None = 'None',\r\n    //\r\n    // æè¦:1\r\n    //     Adobe PDF format for export.\r\n    Pdf ='Pdf',\r\n    //\r\n    // æè¦:36\r\n    //     HTML5 format for export.\r\n    Html5 = 'Html5',\r\n    // //\r\n    // // æè¦:\r\n    // //     Microsoft Xps format for export.\r\n    // Xps = 2,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML Table format for export.\r\n    // HtmlTable = 3,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML Span format for export.\r\n    // HtmlSpan = 4,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML Div format for export.\r\n    // HtmlDiv = 5,\r\n    // //\r\n    // // æè¦:\r\n    // //     RTF format for export.\r\n    // Rtf = 6,\r\n    // //\r\n    // // æè¦:\r\n    // //     Table in Rtf format for export.\r\n    // RtfTable = 7,\r\n    // //\r\n    // // æè¦:\r\n    // //     Components of the report will be placed into RTF frames for export.\r\n    // RtfFrame = 8,\r\n    // //\r\n    // // æè¦:\r\n    // //     Please use StiExportFormat.RtfFrame instead.\r\n    // RtfMode1 = 8,\r\n    // //\r\n    // // æè¦:\r\n    // //     Components of the report will be placed into RTF frames with borders in Microsoft\r\n    // //     Word graphic format for export.\r\n    // RtfWinWord = 9,\r\n    // //\r\n    // // æè¦:\r\n    // //     StiExportFormat.RtfWinWord should be used instead.\r\n    // RtfMode2 = 9,\r\n    // //\r\n    // // æè¦:\r\n    // //     Mode for export to the RTF format with Tab symbol as delimiter of the text.\r\n    // RtfTabbedText = 10,\r\n    // //\r\n    // // æè¦:\r\n    // //     StiExportFormat.RtfTabbedText should be used instead.\r\n    // RtfMode3 = 10,\r\n    // //\r\n    // // æè¦:\r\n    // //     Text format for export.\r\n    // Text = 11,\r\n    // //\r\n    // // æè¦:\r\n    // //     Excel BIFF (Binary Interchange File Format) format for export.\r\n    // Excel = 12,\r\n    // //\r\n    // // æè¦:\r\n    // //     Excel Xml format for export.\r\n    // ExcelXml = 13,\r\n    // //\r\n    // // æè¦:\r\n    // //     Excel 2007 format for export.\r\n    // Excel2007 = 14,\r\n    // //\r\n    // // æè¦:\r\n    // //     Word 2007 format for export.\r\n    // Word2007 = 15,\r\n    // //\r\n    // // æè¦:\r\n    // //     Xml format for export.\r\n    // Xml = 16,\r\n    // //\r\n    // // æè¦:\r\n    // //     CSV (Comma Separated Value) file format for export.\r\n    // Csv = 17,\r\n    // //\r\n    // // æè¦:\r\n    // //     Dif file format for export.\r\n    // Dif = 18,\r\n    // //\r\n    // // æè¦:\r\n    // //     Sylk file format for export.\r\n    // Sylk = 19,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image format for export.\r\n    // Image = 20,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in GIF format for export.\r\n    // ImageGif = 21,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in BMP format for export.\r\n    // ImageBmp = 22,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in PNG format for export.\r\n    // ImagePng = 23,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in TIFF format for export.\r\n    // ImageTiff = 24,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in JPEG format for export.\r\n    // ImageJpeg = 25,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in PCX format for export.\r\n    // ImagePcx = 26,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in EMF format for export.\r\n    // ImageEmf = 27,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in SVG format for export.\r\n    // ImageSvg = 28,\r\n    // //\r\n    // // æè¦:\r\n    // //     Image in SVGZ format for export.\r\n    // ImageSvgz = 29,\r\n    // //\r\n    // // æè¦:\r\n    // //     WebArchive format for export.\r\n    // Mht = 30,\r\n    // //\r\n    // // æè¦:\r\n    // //     dBase/FoxPro format for export.\r\n    // Dbf = 31,\r\n    // //\r\n    // // æè¦:\r\n    // //     HTML format for export.\r\n    // Html = 32,\r\n    // //\r\n    // // æè¦:\r\n    // //     OpenDocument Calc file\r\n    // Ods = 33,\r\n    // //\r\n    // // æè¦:\r\n    // //     OpenDocument Writer file\r\n    // Odt = 34,\r\n    // //\r\n    // // æè¦:\r\n    // //     PowerPoint 2007 format for export\r\n    // Ppt2007 = 35,\r\n\r\n    // //\r\n    // // æè¦:\r\n    // //     Universal format for all data type of exports.\r\n    // Data = 37,\r\n    // //\r\n    // // æè¦:\r\n    // //     Document MDC file.\r\n    // Document = 1000\r\n}\r\n","import { FileType } from './fileType';\r\nimport { OutputType } from './outputType';\r\nimport { PrintType } from '../enums/printtype';\r\nimport { PrintSetting } from './printsetting';\r\n\r\n/**\r\n * å¯¼åºè®¾ç½®\r\n */\r\nexport class OutputOptions {\r\n\r\n    constructor() {\r\n        this.FileType = FileType.Pdf;\r\n        this.printType= PrintType.Form;\r\n    }\r\n    /**è¾åºç±»å æå°/å¯¼åº*/\r\n    OutputType: OutputType;\r\n    /** å¯¼åºæä»¶ç±»å(é»è®¤æ¯Pdf) */\r\n    FileType: FileType;\r\n    /** å¯¼åºè·¯å¾ */\r\n    Path: string;\r\n    /** è®¾å¤Id */\r\n    DeviceId: string;\r\n    /** æå°ç±»å */\r\n    printType: PrintType;\r\n    /** æ¯å¦åå°ä»»å¡æå°*/\r\n    printJob:boolean=false;\r\n    /**æå°æºåç§°*/\r\n    printerName:String='';\r\n    /**æå°è®¾ç½®*/\r\n    printSetting:PrintSetting=new PrintSetting();\r\n}\r\n\r\n\r\n","/**\r\n * å¯¼åºç±»å\r\n * (ä¸ºäºå¼å®¹javaï¼æ¹ä¸ºstringç±»å)\r\n */\r\nexport enum OutputType {\r\n    /**\r\n     * 0\r\n     */\r\n    None = 'None',\r\n    /** æå° 1*/\r\n    PRINT = 'PRINT',\r\n    /** å¯¼åº 2*/\r\n    EXPORT = 'EXPORT',\r\n}\r\n","import { Injectable, Injector, ApplicationRef, EventEmitter, Query, LOCALE_ID } from '@angular/core';\r\nimport { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ViewContainerRef } from '@angular/core';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { PrintEntity } from './entitys/printEntity';\r\n\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { OutputOptions } from './entitys/outputoptions/outputOptions';\r\nimport { Urls } from './utils/cloudprint.Urls';\r\nimport { SourceOptions } from './entitys/datasourceoptions/sourceOptions';\r\nimport { SourceFilterOptions } from './entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from './entitys/datasourceoptions/booptions';\r\nimport { AppService, AppOptions, FrameworkVariableService } from '@gsp-sys/rtf-common';\r\nimport { FileType } from './entitys/outputoptions/fileType';\r\nimport { CmpType } from './entitys/enums/cmpType';\r\nimport { OutputParam } from './entitys/outputoptions/outputParam';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { SourceType } from './entitys/enums/sourceType';\r\n\r\nimport { PrintFormat } from './entitys/printFormat';\r\n\r\n\r\nimport {\r\n  WindowRef,\r\n  WindowCloseResult,\r\n  WindowService\r\n} from '@progress/kendo-angular-dialog';\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { Utils } from './utils/cloudprint.utils';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { Subject } from 'rxjs';\r\nimport { QueryType } from './entitys/enums/querytype';\r\nimport { PrintType } from './entitys/enums/printtype';\r\nimport { DataValidator } from './utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from './entitys/datasourceoptions/basesourceoptions';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { LocalLangPipe } from './local.pipe';\r\n\r\n\r\n@Injectable()\r\nexport class CloudprintInternalService {\r\n \r\n  /**\r\n   * æå°åæ°å®ä½\r\n   */\r\n  printEntity = new PrintEntity();\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   */\r\n  set setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n  constructor(\r\n    private formatSrv: PrintFormatService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private applicationRef: ApplicationRef,\r\n    private notifyService: NotifyService,\r\n    private appService: AppService,\r\n    private windowService: WindowService,\r\n    private modalService: BsModalService,\r\n    ) {\r\n      \r\n        // è®¾ç½®printEntityçé»è®¤å¼\r\n        this.printEntity.appUrl = Urls.CloudPrintBaseUrl;\r\n        this.printEntity.isUseMetaData = true;\r\n        this.printEntity.language = localStorage.getItem(\"languageCode\") || 'zh-CHS';\r\n    \r\n        this.formatSrv.printEntity = this.printEntity;\r\n\r\n    }\r\n\r\n\r\n    /**beæ°æ®æºåå»ºæ ¼å¼*/\r\n    createPrintFormatWithBE(beId: string): Promise<any> {\r\n        return this.formatSrv.createPrintFormatWithBE(beId);\r\n    }\r\n\r\n    /**voæ°æ®æºåå»ºæ ¼å¼*/\r\n    createPrintFormatWithVO(voId: string): Promise<any> {\r\n        return this.formatSrv.createPrintFormatWithVO(voId);\r\n    }\r\n\r\n    /**æ ¹æ®æ°æ®æºidè·åæ ¼å¼*/\r\n    getPrintFormatByDataSrouceId(sourceId: string): Promise<any>{\r\n        return this.formatSrv.getFormatBySourceId(sourceId);\r\n    }\r\n\r\n    /**æ ¹æ®æ°æ®æºåç»´åº¦è·åæ ¼å¼*/\r\n    getPrintFormatByDataSrouceAndDimension(billCategoryId,sourceId,firstDimension,secondDimension): Promise<any>{\r\n        return this.formatSrv.getPrintFormatByDataSrouceAndDimension(billCategoryId,sourceId,firstDimension,secondDimension);\r\n    }\r\n\r\n    /**æ ¹æ®ä¸å¡å¯¹è±¡idè·åæ°æ®æº*/\r\n    getDataSourceByBOId(boId: string): Promise<any>{\r\n        return this.formatSrv.getDataSourceByBOId(boId);\r\n    }\r\n\r\n    /**æ ¹æ®æ ¼å¼idè·åæ ¼å¼*/\r\n    getFormatByFormatId(formatId:string) : Promise<any>{\r\n        return this.formatSrv.getFormatByFormatId(formatId);\r\n    }\r\n\r\n    /**æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºidï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼*/\r\n    getNewSourceFormatByFormatId(formatId:string): Promise<any> {\r\n        return this.formatSrv.getNewSourceFormatByFormatId(formatId);\r\n    }\r\n\r\n    /**æ ¹æ®å·²æçæ ¼å¼idåæ°æ®æºidï¼è¯­è¨ï¼å®æ¶è·åæ°æ®æºç»æåç»ææ°çæ ¼å¼*/\r\n    getNewSourceFormatByFormatIdAndLang(formatId:string,lang:string): Promise<any> {\r\n        return this.formatSrv.getNewSourceFormatByFormatIdAndLang(formatId,lang);\r\n    }\r\n\r\n    /**ä¿å­æ ¼å¼*/\r\n    save(data: PrintFormat) : Promise<any> {\r\n        return this.formatSrv.save(data);\r\n    }\r\n\r\n    /**ä¿å­æ ¼å¼*/\r\n    saveWithRes(data: PrintFormat) : Promise<any> {\r\n        return this.formatSrv.saveWithRes(data);\r\n    }\r\n\r\n    /**å é¤æ ¼å¼*/\r\n    remove(formatId: string) {\r\n        return this.formatSrv.remove(formatId);\r\n    }\r\n\r\n    /**æ ¹æ®æ ¼å¼idè·åæ ¼å¼*/\r\n    getFormatById(id: string): any {\r\n        if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n            this.notifyService.info('æªéç½®æ­£ç¡®çappUrl');\r\n            return;\r\n        }\r\n        return this.formatSrv.loadFormat(id, 'CloudPrint');\r\n\r\n    }\r\n\r\n}\r\n","import { Injectable, Injector, ApplicationRef, EventEmitter, Query, LOCALE_ID } from '@angular/core';\r\nimport { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ViewContainerRef } from '@angular/core';\r\n\r\nimport { CloudprintDesignerComponent } from './cloudprint-designer/cloudprint-designer.component';\r\nimport { CloudprintViewerComponent } from './cloudprint-viewer/cloudprint-viewer.component';\r\nimport { PrintEntity } from './entitys/printEntity';\r\n\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { OutputOptions } from './entitys/outputoptions/outputOptions';\r\nimport { Urls } from './utils/cloudprint.Urls';\r\nimport { SourceOptions } from './entitys/datasourceoptions/sourceOptions';\r\nimport { SourceFilterOptions } from './entitys/datasourceoptions/sourceFilterOptions';\r\nimport { BOOptions } from './entitys/datasourceoptions/booptions';\r\nimport { AppService, AppOptions, FrameworkVariableService } from '@gsp-sys/rtf-common';\r\nimport { FileType } from './entitys/outputoptions/fileType';\r\nimport { CmpType } from './entitys/enums/cmpType';\r\nimport { OutputParam } from './entitys/outputoptions/outputParam';\r\nimport { PrintFormatService } from './services/printFormatService';\r\nimport { SourceType } from './entitys/enums/sourceType';\r\n\r\nimport { PrintFormat } from './entitys/printFormat';\r\n\r\nimport { FormatlistComponent } from './cloudprint-formatlist/formatlist.component';\r\nimport { Utils } from './utils/cloudprint.utils';\r\nimport { CloudprintdesignerService } from './cloudprint-designer/cloudprint-designer.service';\r\nimport { CloudprintviewerService } from './cloudprint-viewer/cloudprint-viewer.service';\r\nimport { Subject } from 'rxjs';\r\nimport { QueryType } from './entitys/enums/querytype';\r\nimport { PrintType } from './entitys/enums/printtype';\r\nimport { DataValidator } from './utils/cloudprint.datavalidator';\r\nimport { BaseSourceOptions } from './entitys/datasourceoptions/basesourceoptions';\r\nimport { FormatlistjobComponent } from './cloudprint-formatlistjob/formatlistjob.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { LocalLangPipe } from './local.pipe';\r\nimport { AttachmentOptions } from './entitys/datasourceoptions/attachmentoptions';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Config } from './entitys/config';\r\n\r\n\r\n/**\r\n * éä»¶æå°çæå¡\r\n */\r\n@Injectable()\r\nexport class CloudPrintAttachmentService {\r\n \r\n  /**\r\n   * æå°åæ°å®ä½\r\n   */\r\n  printEntity = new PrintEntity();\r\n\r\n  /**\r\n   * è®¾ç½®PrintEntityåæ°\r\n   * @description å¦æå¤çnewæ°çPrintEntityï¼åéè¦è°ç¨è¯¥æ¹æ³åæ­¥serviceçentity\r\n   *              å¤çæ²¡ænewæ°çPrintEntityï¼åä¸éè¦è°ç¨è¯¥æ¹æ³\r\n   */\r\n  set setPrintEntity(entity) {\r\n    this.printEntity = entity;\r\n    // this.designerSrv.printEntity = this.printEntity;\r\n    // this.viewerSrv.printEntity = this.printEntity;\r\n    this.formatSrv.printEntity = this.printEntity;\r\n  }\r\n\r\n  localeid:string;\r\n  localpipe: LocalLangPipe;\r\n\r\n  constructor(\r\n    private formatSrv: PrintFormatService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private applicationRef: ApplicationRef,\r\n    private notifyService: NotifyService,\r\n    private appService: AppService,\r\n    private modalService: BsModalService,\r\n    private httpClient: HttpClient\r\n    ) {\r\n        // è®¾ç½®printEntityçé»è®¤å¼\r\n        this.printEntity.appUrl = Urls.CloudPrintBaseUrl;\r\n        this.printEntity.isUseMetaData = true;\r\n        this.printEntity.language = localStorage.getItem(\"languageCode\") || 'zh-CHS';\r\n    \r\n        this.formatSrv.printEntity = this.printEntity;\r\n\r\n\r\n        if(this.injector)\r\n        {\r\n          this.modalService = this.injector.get(BsModalService);\r\n          this.localeid = localStorage.getItem(\"languageCode\") || this.injector.get(LOCALE_ID);\r\n          this.localpipe = new LocalLangPipe(this.localeid);\r\n        } \r\n    }\r\n\r\n\r\n    async printAttachment(attachmentoptions: AttachmentOptions, options: OutputOptions,su=null,param=null) {\r\n      if(DataValidator.checkAppUrl(this.printEntity.appUrl)==false){\r\n        this.notifyService.info(this.localpipe.transform('appurlerror'));\r\n        return;\r\n      }\r\n      if(attachmentoptions.queryType==undefined){//å¼å®¹ä»¥åçé»è¾\r\n        attachmentoptions.queryType = QueryType.Unknown;\r\n      }\r\n\r\n      if(options.printType==undefined){//å¼å®¹ä»¥åçé»è¾è¿éé»è®¤ä¸ºè¡¨åæå°\r\n        options.printType = PrintType.Attachment;\r\n      }\r\n\r\n      const that = this;\r\n      return this.formatSrv.getPrintDevice().then((data)=>{\r\n        const device = data || [];\r\n        const factory = that.resolver.resolveComponentFactory(FormatlistjobComponent);\r\n        const printsetting = factory.create(that.injector);\r\n  \r\n        printsetting.instance.boxlist = device;\r\n        printsetting.instance.formatId = '';\r\n        printsetting.instance.isShowFormat = false;\r\n        printsetting.instance.printType = 1;\r\n        printsetting.instance.localepip = that.localpipe;\r\n\r\n        const dlg = this.modalService.show(printsetting,{\r\n          title: this.localpipe.transform('printset'),\r\n          width: 800, \r\n          height: 500,\r\n          showButtons: true,\r\n          showMaxButton:false,\r\n          buttons: [\r\n            { text: this.localpipe.transform('print'), cls: 'btn btn-primary', handle: () => {\r\n              printsetting.instance.printJob();\r\n            }},\r\n            { text: this.localpipe.transform('cancel'), cls: 'btn btn-secondary', handle: () => {\r\n              dlg.close();\r\n            }}\r\n          ],\r\n        });  \r\n        //è®¢éäºå¼¹åºçæ ¼å¼éæ©åè¡¨çå³é­äºä»¶\r\n        printsetting.instance.print.subscribe(async (data) => {\r\n            dlg.close();\r\n            options.printSetting = data.printSetting;\r\n            options.printerName = data.printter;\r\n            options.DeviceId = data.boxId;\r\n            options.printJob = true;\r\n            return await this.printAttachmentJob(attachmentoptions,options);\r\n        });\r\n      });\r\n\r\n  \r\n      \r\n    }\r\n\r\n    private async printAttachmentJob(attachmentoptions: AttachmentOptions, options: OutputOptions){\r\n      const url = this.printEntity.appUrl + Urls.PrintAttachment+ 'su=' + Config.PRINT_SU;;\r\n\r\n      const httpoptions = {};\r\n      httpoptions['headers'] = {\r\n          SessionId: this.printEntity.sessionId || '',\r\n          'Content-Type':'application/json'\r\n      };\r\n      const data = {\r\n        attachmentOptions:attachmentoptions,\r\n        options:options,\r\n      }\r\n\r\n      return await this.httpClient.post(url,data,httpoptions).toPromise()\r\n      .then(()=>{\r\n        this.notifyService.info(this.localpipe.transform('sendprintjob'));\r\n        return this.localpipe.transform('sendprintjob');\r\n      })\r\n      .catch((err)=>{\r\n        this.notifyService.warning(err.error.Message);\r\n        return err.error.Message;\r\n      });    \r\n    }\r\n\r\n}\r\n"],"names":[],"mappings":"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"}
