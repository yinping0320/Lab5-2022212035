/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, EventEmitter, LOCALE_ID, Inject } from '@angular/core';
import { PrintSetting } from '../entitys/outputoptions/printsetting';
import { PrintOritation } from '../entitys/enums/printOritation';
import { PaperKind } from '../entitys/outputoptions/paperkind';
import { NotifyService } from '@farris/ui-notify';
export class FormatlistjobComponent {
    /**
     * @param {?} notifyService
     * @param {?} localeid
     */
    constructor(notifyService, localeid) {
        this.notifyService = notifyService;
        this.print = new EventEmitter();
        // dlg:BsModalRef;
        this.paperlist = [];
        this.layoutlist = [];
        this.columns = [];
        //是否展示格式列表
        this.isShowFormat = true;
        //打印类型0:表单打印，1:附件打印
        this.printType = 0;
        this.height = 0; //默认为0，根据纸张大小来
        //默认为0，根据纸张大小来
        this.width = 0; //默认为0,根据纸张大小来
        //默认为0,根据纸张大小来
        this.top = 0;
        this.bottom = 0;
        this.left = 0;
        this.right = 0;
        this.copy = 1;
        this.paperkind = 'A4';
        this.layout = 'Portrait';
        this.printboxid = '';
        //自定义纸张
        this.isCustomPaper = false;
        //自定义页边距
        this.isCustomMargin = false;
        this.custompaper = '自定义纸张:';
        this.custommargin = '自定义页边距:';
        debugger;
        // localeid = localStorage.getItem("languageCode") || localeid;
        // this.localepip = new LocalLangPipe(localeid);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        debugger;
        this.custompaper = this.localepip.transform('custompaper');
        this.custommargin = this.localepip.transform('custommargin');
        this.columns = [
            { field: 'code', title: this.localepip.transform('formatcode') },
            { field: 'name', title: this.localepip.transform('formatname') },
        ];
        //纸张
        this.paperlist = PaperKind;
        //布局
        this.layoutlist = [
            {
                key: 'Portrait',
                value: this.localepip.transform('portrait')
            },
            {
                key: 'Landscape',
                value: this.localepip.transform('landscape')
            }
        ];
    }
    /**
     * @param {?} rowdata
     * @return {?}
     */
    printerSelectChange(rowdata) {
        this.printboxid = rowdata.data.boxId;
    }
    /**
     * @param {?} rowdata
     * @return {?}
     */
    selectChange(rowdata) {
        this.formatId = rowdata.id;
    }
    /**
     * @return {?}
     */
    printJob() {
        if (this.checkBeforePrint()) {
            /** @type {?} */
            const ps = new PrintSetting();
            ps.bottom = this.bottom;
            ps.top = this.top;
            ps.left = this.left;
            ps.right = this.right;
            ps.height = this.height;
            ps.width = this.width;
            ps.copys = this.copy;
            ps.paperName = this.paperkind;
            if (this.isCustomPaper) {
                ps.centerPrint = false;
            }
            else {
                ps.centerPrint = true;
            }
            if (PrintOritation.Landscape.toString() == this.layout) {
                ps.printOritation = PrintOritation.Landscape;
            }
            else {
                ps.printOritation = PrintOritation.Portrait;
            }
            this.print.emit({
                id: this.formatId,
                boxId: this.printboxid,
                printter: this.printter,
                printSetting: ps
            });
        }
    }
    /**
     * @private
     * @return {?}
     */
    checkBeforePrint() {
        if (!this.formatId && this.printType != 1) {
            this.notifyService.warning(this.localepip.transform('selectformat'));
            return false;
        }
        else if (!this.printter) {
            this.notifyService.warning(this.localepip.transform('selectprinter'));
            return false;
        }
        else if (!this.layout) {
            this.notifyService.warning(this.localepip.transform('selectlayout'));
            return false;
        }
        else if (!this.paperkind && this.height == 0 && this.width == 0) {
            this.notifyService.warning(this.localepip.transform('nopapersize'));
            return false;
        }
        else if (!this.printboxid) {
            this.notifyService.warning(this.localepip.transform('noagent'));
            return false;
        }
        else {
            return true;
        }
    }
}
FormatlistjobComponent.decorators = [
    { type: Component, args: [{
                selector: 'lib-formatlistjob',
                template: "\r\n<div class=\"f-page f-page-navigate f-page-is-grid-card\">\r\n  <section class=\"f-page-main\">\r\n    <farris-splitter class=\"f-page-content\">\r\n        <farris-splitter-pane *ngIf=\"isShowFormat\"  class=\"f-col-w5 f-page-content-nav\"\r\n        [ngResizable]=\"true\" \r\n        [rzHandles]=\"'e'\">\r\n            <farris-section class=\"f-section-grid f-section-in-managelist\" [showHeader]=\"false\">\r\n              <div class=\"f-section-header\">\r\n                <div class=\"f-title\">\r\n                  <h5 class=\"f-title__title\">{{'printformat' | locale}}</h5>\r\n                </div>\r\n              </div>\r\n        \r\n              <div class=\"f-section-content\">\r\n                <div class=\"f-component-grid\">\r\n                  <farris-datagrid\r\n                      [fit]=\"true\" \r\n                      [pagination]=\"false\"\r\n                      [virtualized]=\"false\"\r\n                      [columns]=\"columns\"\r\n                      [pageSize]=\"50\"\r\n                      [showBorder]=\"false\"\r\n                      [fitColumns]=\"true\"\r\n                      [striped]=\"false\"\r\n                      [data]=\"formats\"\r\n                      [nowrap]=\"false\"\r\n                      (selectChanged)=\"selectChange($event)\">\r\n                  </farris-datagrid>\r\n                </div>\r\n              </div>\r\n            </farris-section>\r\n        </farris-splitter-pane>\r\n\r\n        <farris-splitter-pane class=\"f-page-content-main\">\r\n            <farris-section class=\"f-section-grid f-section-in-managelist farris-form-controls-inline\" [showHeader]=\"false\">\r\n              <div class=\"f-section-header\">\r\n                <div class=\"f-title\">\r\n                  <h5 class=\"f-title__title\">{{'printset' | locale}}</h5>\r\n                </div>\r\n              </div>\r\n        \r\n              <fieldset class=\"f-section-formgroup\">\r\n                <div class=\"f-section-formgroup-inputs\">\r\n                  <div class=\"col-12\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-info text-danger\">*</span>\r\n                            <span class=\"farris-label-text\">{{'printer' | locale}}</span>\r\n                          </label>\r\n                          <div class=\"farris-input-wrap\">\r\n                            <farris-combo-list \r\n                              [(ngModel)]=\"printter\"\r\n                              [idField]=\"'name'\"\r\n                              [textField]=\"'description'\"\r\n                              [data]=\"boxlist\"\r\n                              [editable]=\"false\"\r\n                              (selectChange)=\"printerSelectChange($event)\">\r\n                            </farris-combo-list>\r\n                          </div>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'paper' | locale}}</span>\r\n                          </label>\r\n                          <div class=\"farris-input-wrap\">\r\n                            <farris-combo-list \r\n                              [disabled]=\"isCustomPaper\"\r\n                              [(ngModel)]=\"paperkind\"\r\n                              [idField]=\"'key'\"\r\n                              [textField]=\"'value'\"\r\n                              [data]=\"paperlist\"\r\n                              [editable]=\"false\">\r\n                            </farris-combo-list>\r\n                          </div>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'paperway' | locale}}</span>\r\n                          </label>\r\n                          <div class=\"farris-input-wrap\">\r\n                            <farris-combo-list \r\n                              [(ngModel)]=\"layout\"\r\n                              [idField]=\"'key'\"\r\n                              [textField]=\"'value'\"\r\n                              [data]=\"layoutlist\"\r\n                              [editable]=\"false\">\r\n                            </farris-combo-list>\r\n                          </div>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12\">\r\n                    <div class=\"farris-group-wrap\">\r\n                    <div class=\"form-group farris-form-group\">\r\n                        <label class=\"col-form-label\">\r\n                          <span class=\"farris-label-text\">{{'copys' | locale}}</span>\r\n                        </label>\r\n                        <farris-number-spinner style=\"width: 100%;\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"copy\"></farris-number-spinner>\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12\">\r\n                    <div class=\"farris-group-wrap\">\r\n                    <div class=\"form-group farris-form-group\">\r\n                      <farris-checkboxgroup style=\"font-weight: bold;\" [(ngModel)]=\"isCustomPaper\"\r\n                          [data]=\"[{value:true,name:custompaper}]\">\r\n                      </farris-checkboxgroup>\r\n                      <!-- <label class=\"col-form-label\">\r\n                        <span style=\"font-weight: bold;\" class=\"farris-label-text\">\u81EA\u5B9A\u4E49\u7EB8\u5F20:</span>\r\n                      </label> -->\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12 col-md-6\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'length' | locale}}</span>\r\n                          </label>\r\n                          <farris-number-spinner [disabled]=\"!isCustomPaper\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"height\"></farris-number-spinner>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12 col-md-6\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'width' | locale}}</span>\r\n                          </label>\r\n                          <farris-number-spinner [disabled]=\"!isCustomPaper\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"width\"></farris-number-spinner>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12\">\r\n                    <div class=\"farris-group-wrap\">\r\n                    <div class=\"form-group farris-form-group\">\r\n                      <farris-checkboxgroup style=\"font-weight: bold;\" [(ngModel)]=\"isCustomMargin\"\r\n                          [data]=\"[{value:true,name:custommargin}]\">\r\n                      </farris-checkboxgroup>\r\n                        <!-- <label class=\"col-form-label\">\r\n                          <span style=\"font-weight: bold;\" class=\"farris-label-text\">\u9875\u8FB9\u8DDD:</span>\r\n                        </label> -->\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12 col-md-6\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label for=\"hpinput01\" class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'top' | locale}}</span>\r\n                          </label>\r\n                            <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"top\"></farris-number-spinner>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12 col-md-6\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'bottom' | locale}}</span>\r\n                          </label>\r\n                          <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"bottom\"></farris-number-spinner>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12 col-md-6\">\r\n                      <div class=\"farris-group-wrap\">\r\n                      <div class=\"form-group farris-form-group\">\r\n                          <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\">{{'left' | locale}}</span>\r\n                          </label>\r\n                          <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"left\"></farris-number-spinner>\r\n                      </div>\r\n                      </div>\r\n                  </div>\r\n                  <div *ngIf=\"printType!=1\" class=\"col-12 col-md-6\">\r\n                    <div class=\"farris-group-wrap\">\r\n                    <div class=\"form-group farris-form-group\">\r\n                        <label class=\"col-form-label\">\r\n                          <span class=\"farris-label-text\">{{'right' | locale}}</span>\r\n                        </label>\r\n                        <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"right\"></farris-number-spinner>\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </fieldset>\r\n            </farris-section>\r\n        </farris-splitter-pane>\r\n\r\n    </farris-splitter>\r\n\r\n    <!-- <farris-section *ngIf=\"!isShowFormat\" class=\"f-section-grid f-section-in-managelist farris-form-controls-inline\" [showHeader]=\"false\">\r\n      <div class=\"f-section-header\">\r\n        <div class=\"f-title\">\r\n          <h5 class=\"f-title__title\">{{'printset' | locale}}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <fieldset class=\"f-section-formgroup\">\r\n        <div class=\"f-section-formgroup-inputs\">\r\n          <div class=\"col-12\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-info text-danger\">*</span>\r\n                    <span class=\"farris-label-text\">{{'printer' | locale}}</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list \r\n                      [(ngModel)]=\"printter\"\r\n                      [idField]=\"'name'\"\r\n                      [textField]=\"'description'\"\r\n                      [data]=\"boxlist\"\r\n                      [editable]=\"false\"\r\n                      (selectChange)=\"printerSelectChange($event)\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'paper' | locale}}</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list \r\n                      [disabled]=\"isCustomPaper\"\r\n                      [(ngModel)]=\"paperkind\"\r\n                      [idField]=\"'key'\"\r\n                      [textField]=\"'value'\"\r\n                      [data]=\"paperlist\"\r\n                      [editable]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'paperway' | locale}}</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list \r\n                      [(ngModel)]=\"layout\"\r\n                      [idField]=\"'key'\"\r\n                      [textField]=\"'value'\"\r\n                      [data]=\"layoutlist\"\r\n                      [editable]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n              </div>\r\n              </div>\r\n          </div>\r\n\r\n          <div class=\"col-12\">\r\n            <div class=\"farris-group-wrap\">\r\n            <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\">\r\n                  <span class=\"farris-label-text\">{{'copys' | locale}}</span>\r\n                </label>\r\n                <farris-number-spinner style=\"width: 100%;\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"copy\"></farris-number-spinner>\r\n            </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <farris-checkboxgroup style=\"font-weight: bold;\" [(ngModel)]=\"isCustomPaper\"\r\n                    [data]=\"[{value:'1',name:custompaper}]\">\r\n                </farris-checkboxgroup>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-6\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'length' | locale}}</span>\r\n                  </label>\r\n                  <farris-number-spinner [disabled]=\"!isCustomPaper\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"height\"></farris-number-spinner>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-6\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'width' | locale}}</span>\r\n                  </label>\r\n                  <farris-number-spinner [disabled]=\"!isCustomPaper\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"width\"></farris-number-spinner>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <div class=\"farris-group-wrap\">\r\n            <div class=\"form-group farris-form-group\">\r\n              <farris-checkboxgroup style=\"font-weight: bold;\" [(ngModel)]=\"isCustomMargin\"\r\n                  [data]=\"[{value:'1',name:custommargin}]\">\r\n              </farris-checkboxgroup>\r\n            </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-6\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label for=\"hpinput01\" class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'top' | locale}}</span>\r\n                  </label>\r\n                    <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"top\"></farris-number-spinner>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-6\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'bottom' | locale}}</span>\r\n                  </label>\r\n                  <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"bottom\"></farris-number-spinner>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-6\">\r\n              <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\">\r\n                    <span class=\"farris-label-text\">{{'left' | locale}}</span>\r\n                  </label>\r\n                  <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"left\"></farris-number-spinner>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"col-12 col-md-6\">\r\n            <div class=\"farris-group-wrap\">\r\n            <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\">\r\n                  <span class=\"farris-label-text\">{{'right' | locale}}</span>\r\n                </label>\r\n                <farris-number-spinner [disabled]=\"!isCustomMargin\" [precision]=\"0\" [min]=\"1\" [(ngModel)]=\"right\"></farris-number-spinner>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </farris-section> -->\r\n  </section>\r\n</div>\r\n\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
FormatlistjobComponent.ctorParameters = () => [
    { type: NotifyService },
    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }
];
FormatlistjobComponent.propDecorators = {
    formats: [{ type: Input }],
    boxlist: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    FormatlistjobComponent.prototype.formats;
    /** @type {?} */
    FormatlistjobComponent.prototype.boxlist;
    /** @type {?} */
    FormatlistjobComponent.prototype.print;
    /** @type {?} */
    FormatlistjobComponent.prototype.paperlist;
    /** @type {?} */
    FormatlistjobComponent.prototype.layoutlist;
    /** @type {?} */
    FormatlistjobComponent.prototype.columns;
    /** @type {?} */
    FormatlistjobComponent.prototype.isShowFormat;
    /** @type {?} */
    FormatlistjobComponent.prototype.printType;
    /** @type {?} */
    FormatlistjobComponent.prototype.height;
    /** @type {?} */
    FormatlistjobComponent.prototype.width;
    /** @type {?} */
    FormatlistjobComponent.prototype.top;
    /** @type {?} */
    FormatlistjobComponent.prototype.bottom;
    /** @type {?} */
    FormatlistjobComponent.prototype.left;
    /** @type {?} */
    FormatlistjobComponent.prototype.right;
    /** @type {?} */
    FormatlistjobComponent.prototype.copy;
    /** @type {?} */
    FormatlistjobComponent.prototype.paperkind;
    /** @type {?} */
    FormatlistjobComponent.prototype.layout;
    /** @type {?} */
    FormatlistjobComponent.prototype.printter;
    /** @type {?} */
    FormatlistjobComponent.prototype.printboxid;
    /** @type {?} */
    FormatlistjobComponent.prototype.formatId;
    /** @type {?} */
    FormatlistjobComponent.prototype.isCustomPaper;
    /** @type {?} */
    FormatlistjobComponent.prototype.isCustomMargin;
    /** @type {?} */
    FormatlistjobComponent.prototype.custompaper;
    /** @type {?} */
    FormatlistjobComponent.prototype.custommargin;
    /** @type {?} */
    FormatlistjobComponent.prototype.localepip;
    /**
     * @type {?}
     * @private
     */
    FormatlistjobComponent.prototype.notifyService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0bGlzdGpvYi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXN2Yy9jbG91ZHByaW50LyIsInNvdXJjZXMiOlsibGliL2Nsb3VkcHJpbnQtZm9ybWF0bGlzdGpvYi9mb3JtYXRsaXN0am9iLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBd0IsS0FBSyxFQUFFLFlBQVksRUFBYSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR25ILE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUNyRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDakUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBRS9ELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQVFsRCxNQUFNLE9BQU8sc0JBQXNCOzs7OztJQXFDakMsWUFBb0IsYUFBNEIsRUFDM0IsUUFBZTtRQURoQixrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQS9CaEQsVUFBSyxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDOztRQUduRCxjQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ2YsZUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNoQixZQUFPLEdBQUcsRUFBRSxDQUFDOztRQUViLGlCQUFZLEdBQUcsSUFBSSxDQUFDOztRQUVwQixjQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsV0FBTSxHQUFDLENBQUMsQ0FBQyxDQUFBLGNBQWM7O1FBQ3ZCLFVBQUssR0FBQyxDQUFDLENBQUMsQ0FBQSxjQUFjOztRQUN0QixRQUFHLEdBQUMsQ0FBQyxDQUFDO1FBQ04sV0FBTSxHQUFDLENBQUMsQ0FBQztRQUNULFNBQUksR0FBQyxDQUFDLENBQUM7UUFDUCxVQUFLLEdBQUMsQ0FBQyxDQUFDO1FBQ1IsU0FBSSxHQUFDLENBQUMsQ0FBQztRQUNQLGNB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LElBQUksQ0FBQyxVQUFVLEVBQUM7WUFDeEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUNoRSxPQUFPLEtBQUssQ0FBQztTQUNkO2FBQUk7WUFDSCxPQUFPLElBQUksQ0FBQztTQUNiO0lBQ0gsQ0FBQzs7O1lBeklGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsbUJBQW1CO2dCQUM3QixpbmxCQUE2Qzs7YUFFOUM7Ozs7WUFQUSxhQUFhO3lDQThDakIsTUFBTSxTQUFDLFNBQVM7OztzQkFuQ2xCLEtBQUs7c0JBQ0wsS0FBSzs7OztJQUROLHlDQUF3Qzs7SUFDeEMseUNBQWdDOztJQUVoQyx1Q0FBbUQ7O0lBR25ELDJDQUFlOztJQUNmLDRDQUFnQjs7SUFDaEIseUNBQWE7O0lBRWIsOENBQW9COztJQUVwQiwyQ0FBYzs7SUFDZCx3Q0FBUzs7SUFDVCx1Q0FBUTs7SUFDUixxQ0FBTTs7SUFDTix3Q0FBUzs7SUFDVCxzQ0FBTzs7SUFDUCx1Q0FBUTs7SUFDUixzQ0FBTzs7SUFDUCwyQ0FBZTs7SUFDZix3Q0FBa0I7O0lBQ2xCLDBDQUFnQjs7SUFDaEIsNENBQWM7O0lBQ2QsMENBQWdCOztJQUVoQiwrQ0FBb0I7O0lBRXBCLGdEQUFxQjs7SUFFckIsNkNBQXFCOztJQUNyQiw4Q0FBdUI7O0lBRXZCLDJDQUEwQjs7Ozs7SUFDZCwrQ0FBb0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCxBZnRlclZpZXdJbml0LCBJbnB1dCwgRXZlbnRFbWl0dGVyLCBWaWV3Q2hpbGQsIExPQ0FMRV9JRCwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFByaW50Rm9ybWF0IH0gZnJvbSAnLi4vZW50aXR5cy9wcmludEZvcm1hdCc7XHJcbmltcG9ydCB7IERpYWxvZ0NvbXBvbmVudCB9IGZyb20gJ0BmYXJyaXMvdWktZGlhbG9nJztcclxuaW1wb3J0IHsgUHJpbnRTZXR0aW5nIH0gZnJvbSAnLi4vZW50aXR5cy9vdXRwdXRvcHRpb25zL3ByaW50c2V0dGluZyc7XHJcbmltcG9ydCB7IFByaW50T3JpdGF0aW9uIH0gZnJvbSAnLi4vZW50aXR5cy9lbnVtcy9wcmludE9yaXRhdGlvbic7XHJcbmltcG9ydCB7IFBhcGVyS2luZCB9IGZyb20gJy4uL2VudGl0eXMvb3V0cHV0b3B0aW9ucy9wYXBlcmtpbmQnO1xyXG5pbXBvcnQgeyBCc01vZGFsUmVmIH0gZnJvbSAnQGZhcnJpcy91aS1tb2RhbCc7XHJcbmltcG9ydCB7IE5vdGlmeVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLW5vdGlmeSc7XHJcbmltcG9ydCB7IExvY2FsTGFuZ1BpcGUgfSBmcm9tICcuLi9sb2NhbC5waXBlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbGliLWZvcm1hdGxpc3Rqb2InLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9mb3JtYXRsaXN0am9iLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9mb3JtYXRsaXN0am9iLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRm9ybWF0bGlzdGpvYkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgLy8gQFZpZXdDaGlsZCgncHJpbnRqb2InKSBwcmludGpvYjogRGlhbG9nQ29tcG9uZW50O1xyXG5cclxuICBASW5wdXQoKSBwdWJsaWMgZm9ybWF0cyA6IFByaW50Rm9ybWF0W107XHJcbiAgQElucHV0KCkgcHVibGljIGJveGxpc3QgOiBhbnlbXTtcclxuXHJcbiAgcHJpbnQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIC8vIGRsZzpCc01vZGFsUmVmO1xyXG4gIHBhcGVybGlzdCA9IFtdO1xyXG4gIGxheW91dGxpc3QgPSBbXTtcclxuICBjb2x1bW5zID0gW107XHJcbiAgLy/mmK/lkKblsZXnpLrmoLzlvI/liJfooahcclxuICBpc1Nob3dGb3JtYXQgPSB0cnVlO1xyXG4gIC8v5omT5Y2w57G75Z6LMDrooajljZXmiZPljbDvvIwxOumZhOS7tuaJk+WNsFxyXG4gIHByaW50VHlwZSA9IDA7XHJcbiAgaGVpZ2h0PTA7Ly/pu5jorqTkuLow77yM5qC55o2u57q45byg5aSn5bCP5p2lXHJcbiAgd2lkdGg9MDsvL+m7mOiupOS4ujAs5qC55o2u57q45byg5aSn5bCP5p2lXHJcbiAgdG9wPTA7XHJcbiAgYm90dG9tPTA7XHJcbiAgbGVmdD0wO1xyXG4gIHJpZ2h0PTA7XHJcbiAgY29weT0xO1xyXG4gIHBhcGVya2luZD0nQTQnO1xyXG4gIGxheW91dD0nUG9ydHJhaXQnO1xyXG4gIHByaW50dGVyOnN0cmluZztcclxuICBwcmludGJveGlkPScnO1xyXG4gIGZvcm1hdElkOnN0cmluZztcclxuICAvL+iHquWumuS5iee6uOW8oFxyXG4gIGlzQ3VzdG9tUGFwZXI9ZmFsc2U7XHJcbiAgLy/oh6rlrprkuYnpobXovrnot51cclxuICBpc0N1c3RvbU1hcmdpbj1mYWxzZTtcclxuXHJcbiAgY3VzdG9tcGFwZXI9J+iHquWumuS5iee6uOW8oDonO1xyXG4gIGN1c3RvbW1hcmdpbj0n6Ieq5a6a5LmJ6aG16L656LedOic7XHJcblxyXG4gIGxvY2FsZXBpcCA6IExvY2FsTGFuZ1BpcGU7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBub3RpZnlTZXJ2aWNlOiBOb3RpZnlTZXJ2aWNlLFxyXG4gICAgQEluamVjdChMT0NBTEVfSUQpIGxvY2FsZWlkOnN0cmluZykgeyBcclxuICAgICAgXHJcbiAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAvLyBsb2NhbGVpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFuZ3VhZ2VDb2RlXCIpIHx8IGxvY2FsZWlkO1xyXG4gICAgICAvLyB0aGlzLmxvY2FsZXBpcCA9IG5ldyBMb2NhbExhbmdQaXBlKGxvY2FsZWlkKTtcclxuICAgICAgXHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGRlYnVnZ2VyO1xyXG4gICAgXHJcbiAgICB0aGlzLmN1c3RvbXBhcGVyID0gdGhpcy5sb2NhbGVwaXAudHJhbnNmb3JtKCdjdXN0b21wYXBlcicpO1xyXG4gICAgdGhpcy5jdXN0b21tYXJnaW4gPSB0aGlzLmxvY2FsZXBpcC50cmFuc2Zvcm0oJ2N1c3RvbW1hcmdpbicpO1xyXG5cclxuICAgIHRoaXMuY29sdW1ucyA9IFtcclxuICAgICAge2ZpZWxkOiAnY29kZScsIHRpdGxlOiB0aGlzLmxvY2FsZXBpcC50cmFuc2Zvcm0oJ2Zvcm1hdGNvZGUnKX0sXHJcbiAgICAgIHtmaWVsZDogJ25hbWUnLCB0aXRsZTogdGhpcy5sb2NhbGVwaXAudHJhbnNmb3JtKCdmb3JtYXRuYW1lJyl9LFxyXG4gICAgXTtcclxuICAgIC8v57q45bygXHJcbiAgICB0aGlzLnBhcGVybGlzdCA9IFBhcGVyS2luZDtcclxuICAgIC8v5biD5bGAXHJcbiAgICB0aGlzLmxheW91dGxpc3QgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBrZXk6J1BvcnRyYWl0JyxcclxuICAgICAgICB2YWx1ZTp0aGlzLmxvY2FsZXBpcC50cmFuc2Zvcm0oJ3BvcnRyYWl0JylcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGtleTonTGFuZHNjYXBlJyxcclxuICAgICAgICB2YWx1ZTp0aGlzLmxvY2FsZXBpcC50cmFuc2Zvcm0oJ2xhbmRzY2FwZScpXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgcHJpbnRlclNlbGVjdENoYW5nZShyb3dkYXRhOiBhbnkpe1xyXG4gICAgdGhpcy5wcmludGJveGlkID0gcm93ZGF0YS5kYXRhLmJveElkO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0Q2hhbmdlKHJvd2RhdGE6IGFueSl7XHJcbiAgICB0aGlzLmZvcm1hdElkID0gcm93ZGF0YS5pZDtcclxuICB9XHJcblxyXG4gIHByaW50Sm9iKCl7XHJcblxyXG4gICAgaWYodGhpcy5jaGVja0JlZm9yZVByaW50KCkpe1xyXG4gICAgICBjb25zdCBwcyA9IG5ldyBQcmludFNldHRpbmcoKTtcclxuICAgICAgcHMuYm90dG9tID0gdGhpcy5ib3R0b207XHJcbiAgICAgIHBzLnRvcCA9IHRoaXMudG9wO1xyXG4gICAgICBwcy5sZWZ0ID0gdGhpcy5sZWZ0O1xyXG4gICAgICBwcy5yaWdodCA9IHRoaXMucmlnaHQ7XHJcbiAgICAgIHBzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG4gICAgICBwcy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgIHBzLmNvcHlzID0gdGhpcy5jb3B5O1xyXG4gICAgICBwcy5wYXBlck5hbWUgPSB0aGlzLnBhcGVya2luZDtcclxuICAgICAgaWYodGhpcy5pc0N1c3RvbVBhcGVyKXtcclxuICAgICAgICBwcy5jZW50ZXJQcmludCA9IGZhbHNlO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBwcy5jZW50ZXJQcmludCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKFByaW50T3JpdGF0aW9uLkxhbmRzY2FwZS50b1N0cmluZygpID09IHRoaXMubGF5b3V0KXtcclxuICAgICAgICBwcy5wcmludE9yaXRhdGlvbiA9IFByaW50T3JpdGF0aW9uLkxhbmRzY2FwZTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgcHMucHJpbnRPcml0YXRpb24gPSBQcmludE9yaXRhdGlvbi5Qb3J0cmFpdDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGhpcy5wcmludC5lbWl0KHtcclxuICAgICAgICBpZDp0aGlzLmZvcm1hdElkLFxyXG4gICAgICAgIGJveElkOnRoaXMucHJpbnRib3hpZCxcclxuICAgICAgICBwcmludHRlcjp0aGlzLnByaW50dGVyLFxyXG4gICAgICAgIHByaW50U2V0dGluZzpwc1xyXG4gICAgICB9KTsgIFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja0JlZm9yZVByaW50KCl7XHJcbiAgICBpZighdGhpcy5mb3JtYXRJZCAmJiB0aGlzLnByaW50VHlwZSE9MSl7XHJcbiAgICAgIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKHRoaXMubG9jYWxlcGlwLnRyYW5zZm9ybSgnc2VsZWN0Zm9ybWF0JykpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9ZWxzZSBpZighdGhpcy5wcmludHRlcil7XHJcbiAgICAgIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKHRoaXMubG9jYWxlcGlwLnRyYW5zZm9ybSgnc2VsZWN0cHJpbnRlcicpKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfWVsc2UgaWYoIXRoaXMubGF5b3V0KXtcclxuICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlLndhcm5pbmcodGhpcy5sb2NhbGVwaXAudHJhbnNmb3JtKCdzZWxlY3RsYXlvdXQnKSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1lbHNlIGlmKCF0aGlzLnBhcGVya2luZCAmJiB0aGlzLmhlaWdodD09MCAmJiB0aGlzLndpZHRoPT0wKXtcclxuICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlLndhcm5pbmcodGhpcy5sb2NhbGVwaXAudHJhbnNmb3JtKCdub3BhcGVyc2l6ZScpKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfWVsc2UgaWYoIXRoaXMucHJpbnRib3hpZCl7XHJcbiAgICAgIHRoaXMubm90aWZ5U2VydmljZS53YXJuaW5nKHRoaXMubG9jYWxlcGlwLnRyYW5zZm9ybSgnbm9hZ2VudCcpKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIl19