!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("@gsp-bef/gsp-cm-metadata"),require("@farris/ui-perfect-scrollbar"),require("@farris/ui-combo-lookup"),require("@farris/ui-datatable"),require("@farris/ui-dialog"),require("@farris/ui-messager"),require("@farris/ui-combo-list"),require("@farris/ui-notify"),require("@angular/common"),require("@angular/forms"),require("lodash-es"),require("@farris/ui-splitter"),require("@farris/ui-tabs"),require("@farris/ui-datagrid"),require("@farris/ui-draggable"),require("@farris/ui-treetable"),require("@farris/ui-datagrid-filter"),require("lodash"),require("@progress/kendo-angular-dialog"),require("@progress/kendo-angular-layout"),require("@progress/kendo-angular-buttons"),require("@progress/kendo-angular-treeview"),require("@progress/kendo-angular-inputs"),require("@progress/kendo-angular-grid"),require("@angular/core"),require("@farris/ui-modal"),require("antlr4/InputStream"),require("antlr4/CommonTokenStream"),require("JavaScriptLexer"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("@gsp-svc/expression",["exports","rxjs","@gsp-bef/gsp-cm-metadata","@farris/ui-perfect-scrollbar","@farris/ui-combo-lookup","@farris/ui-datatable","@farris/ui-dialog","@farris/ui-messager","@farris/ui-combo-list","@farris/ui-notify","@angular/common","@angular/forms","lodash-es","@farris/ui-splitter","@farris/ui-tabs","@farris/ui-datagrid","@farris/ui-draggable","@farris/ui-treetable","@farris/ui-datagrid-filter","lodash","@progress/kendo-angular-dialog","@progress/kendo-angular-layout","@progress/kendo-angular-buttons","@progress/kendo-angular-treeview","@progress/kendo-angular-inputs","@progress/kendo-angular-grid","@angular/core","@farris/ui-modal","antlr4/InputStream","antlr4/CommonTokenStream","JavaScriptLexer","@angular/common/http"],t):t((e["gsp-svc"]=e["gsp-svc"]||{},e["gsp-svc"].expression={}),e.rxjs,e.gspCmMetadata,e.uiPerfectScrollbar,e.uiComboLookup,e.uiDatatable,e.uiDialog,e.uiMessager,e.uiComboList,e.uiNotify,e.ng.common,e.ng.forms,e.lodashEs,e.uiSplitter,e.uiTabs,e.uiDatagrid,e.uiDraggable,e.uiTreetable,e.uiDatagridFilter,e._,e.kendoAngularDialog,e.kendoAngularLayout,e.kendoAngularButtons,e.kendoAngularTreeview,e.kendoAngularInputs,e.kendoAngularGrid,e.ng.core,e.uiModal,e.InputStream,e.CommonTokenStream,e.JavaScriptLexer,e.ng.common.http)}(this,function(e,t,n,a,i,r,s,o,c,p,y,m,l,d,u,h,f,g,k,S,b,F,D,T,N,v,x,E,w,C,M,O){"use strict";function I(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,i,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(a=r.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}return s}function R(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(I(arguments[t]));return e}S=S&&S.hasOwnProperty("default")?S["default"]:S,w=w&&w.hasOwnProperty("default")?w["default"]:w,C=C&&C.hasOwnProperty("default")?C["default"]:C,M=M&&M.hasOwnProperty("default")?M["default"]:M;var j=function(){function e(){this.windowClosed=new t.Subject,this.windowClosed$=this.windowClosed.asObservable(),this._expressionsource=new t.Subject,this._insertexpression=new t.Subject,this._clearexpression=new t.Subject,this._clearFuncSelect=new t.Subject,this._clearVarSelect=new t.Subject}return e.prototype.closeWindow=function(){this.windowClosed.next()},e.prototype.setExpression=function(e){this._expressionsource.next(e)},e.prototype.getExpression=function(){return this._expressionsource.asObservable()},e.prototype.insertExpression=function(e){this._insertexpression.next(e)},e.prototype.currentExpression=function(){return this._insertexpression.asObservable()},e.prototype.pushclearExpression=function(){this._clearexpression.next()},e.prototype.clearExpression=function(){return this._clearexpression.asObservable()},e.prototype.clearFuncSelect=function(){this._clearFuncSelect.next()},e.prototype.subClearFuncSelect=function(){return this._clearFuncSelect.asObservable()},e.prototype.clearVarSelect=function(){this._clearFuncSelect.next()},e.prototype.subClearVarSelect=function(){return this._clearFuncSelect.asObservable()},e.decorators=[{type:x.Injectable}],e}(),L={Session:0,Context:1};L[L.Session]="Session",L[L.Context]="Context";var P=function Ae(){this.sessionEntities=[],this.contextEntities=[],this.funcEntities=[],this.expr=null,this.sexpr="",this.schemaMap=new Map,this.newSchemaMap=new Map,this.injectedEntities=[],this.smartHelpEntities=[]},A=function Be(){this.entitySets=[],this.entityTypes=[]},B=function We(){this.properties=[],this.navigationProperties=[]},W=function Ve(){},V=function He(){},H=function Ye(){},Y={EntitySet:0,EntityType:1};Y[Y.EntitySet]="EntitySet",Y[Y.EntityType]="EntityType";var G=function Ge(){},q=function qe(){this.nodeType="",this.description=""},_=function _e(){},$={EntitySet:0,EntityType:1};$[$.EntitySet]="EntitySet",$[$.EntityType]="EntityType";var z=function $e(){this.entitySets=[],this.entityTypes=[],this.associations=[]},J=function ze(){},U=function Je(){this.properties=[],this.keys=[],this.navigationProperties=[]},Q=function Ue(){},X=function Qe(){},K={String:0,Byte:1,Boolean:2,Date:3,DateTime:4,Decimal:5,Integer:6};K[K.String]="String",K[K.Byte]="Byte",K[K.Boolean]="Boolean",K[K.Date]="Date",K[K.DateTime]="DateTime",K[K.Decimal]="Decimal",K[K.Integer]="Integer";var Z,ee="EntitySet",te="EntityType",ne=function(){function e(){}return e.prototype.convertCDT=function(e){var n=new B;return n.name=e.Code,n.key=null,n.id=e.Code,n.description=e.Name,e.ContainElements.forEach(function(e){var t=new V;t.name=e.Code,t.type=e.MDataType,t.description=e.Name,n.properties.push(t)}),n.navigationProperties=[],n},e.prototype.convertCO=function(e){var t=[];return t.push(this.adaptCO(e,t)),t},e.prototype.adaptCO=function(e,n){var a=this,i=new B;return i.name=e.Code,i.key=null,i.id=e.Code,i.description=e.Name,0!=e.ContainElements.length&&e.ContainElements.forEach(function(e){var t=new V;t.name=e.Code,t.type=e.MDataType,t.description=e.Name,i.properties.push(t)}),0!=e.ContainChildObjects.length&&e.ContainChildObjects.forEach(function(e){var t=new H;t.description=e.Name,t.name=e.Code+"s",t.navigationId=e.Code+"s",t.type=Y.EntitySet,i.navigationProperties.push(t),n.push(a.adaptCO(e,n))}),i},e.prototype.convertCDTOfNewSchema=function(e){var n=this,a=new U;return a.code=e.Code,a.name=e.Name,e.ContainElements.forEach(function(e){var t=new Q;t.code=e.Code,t.name=e.Name,t.dataType=n.convertMDataType(e.MDataType),a.properties.push(t)}),a.navigationProperties=[],a},e.prototype.convertCOOfNewSchema=function(e){var t=[];return t.push(this.adaptCOOfNewSchema(e,t)),t},e.prototype.adaptCOOfNewSchema=function(e,n){var a=this,i=new U;return i.code=e.Code,i.name=e.Name,0!=e.ContainElements.length&&e.ContainElements.forEach(function(e){var t=new Q;t.code=e.Code,t.name=e.Name,t.dataType=a.convertMDataType(e.MDataType),i.properties.push(t)}),0!=e.ContainChildObjects.length&&e.ContainChildObjects.forEach(function(e){var t=new X;t.code=e.Code+"s",t.name=e.Name,t.navigationName=e.Code,t.navigationType=ee,i.navigationProperties.push(t),n.push(a.adaptCOOfNewSchema(e,n))}),i},e.prototype.convertMDataType=function(e){switch(e){case n.GSPElementDataType.String:return K.String;case n.GSPElementDataType.Integer:return K.Integer;case n.GSPElementDataType.Binary:return K.Byte;case n.GSPElementDataType.Boolean:return K.Boolean;case n.GSPElementDataType.Date:return K.Date;case n.GSPElementDataType.DateTime:return K.DateTime;case n.GSPElementDataType.Decimal:return K.Decimal;case n.GSPElementDataType.Text:default:return K.String}},e}(),ae={"zh-CHS":{ExpressionTitle:"高级表达式",ExpressionSave:"保存",ExpressionCancel:"取消",CheckFront:"校验",ResetFront:"重置",HelpFront:"帮助",ImportFront:"导入",Advanced:"高级函数",String:"字符串",Aggregate:"聚合",Estimate:"判断",DateTime:"日期时间",Translate:"类型转换",Analytical:"解析",Math:"数学",Extend:"扩展",FunctionSemanticName:"语义化名称",FunctionName:"函数名称",FunctionParameter:"参数",Variable:"变量",VariableSessionValue:"会话变量",VariableContextParameter:"上下文变量",VariableName:"名称",VariableSemanticNameValue:"语义化名称",Entity:"数据",EntityList:"实体列表",EntityName:"名称",EntityType:"类型",EntityPropList:"属性列表",Help:"帮助",HelpCode:"编号",HelpName:"名称",HelpDescription:"说明",SaveButton:"保存",CancelButton:"取消",FunctionDescription:"函数说明：",VarDescription:"变量说明：",CurrentProp:"当前属性：",CurrentChosedProp:"当前选择属性："},en:{ExpressionTitle:"Advanced Expression",ExpressionSave:"Save",ExpressionCancel:"Cancel",CheckFront:"Check",ResetFront:"Reset",HelpFront:"Help",ImportFront:"Import",Advanced:"Advanced",String:"String",Aggregate:"Aggregate",Estimate:"Estimate",DateTime:"DateTime",Translate:"Translate",Analytical:"Analytical",Math:"Math",Extend:"Extend",FunctionSemanticName:"SemanticName",FunctionName:"FunctionName",FunctionParameter:"Parameter",Variable:"Variable",VariableSessionValue:"SessionValue",VariableContextParameter:"ContextParameter",VariableName:"Name",VariableSemanticNameValue:"SemanticName",Entity:"Entity",EntityList:"EntityList",EntityName:"Name",EntityType:"Type",EntityPropList:"PropertyList",Help:"Help",HelpCode:"Code",HelpName:"Name",HelpDescription:"Description",SaveButton:"Save",CancelButton:"Cancel",FunctionDescription:"Function Description：",VarDescription:"Var Description：",CurrentProp:"Current Property：",CurrentChosedProp:"Currently Selected Property："},"zh-CHT":{ExpressionTitle:"高級表達式",ExpressionSave:"保存",ExpressionCancel:"取消",CheckFront:"校驗",ResetFront:"重置",HelpFront:"幫助",ImportFront:"導入",Advanced:"高級函數",String:"字符串",Aggregate:"聚合",Estimate:"判斷",DateTime:"日期時間",Translate:"類型轉換",Analytical:"解析",Math:"數學",Extend:"擴展",FunctionSemanticName:"語義化名稱",FunctionName:"函數名稱",FunctionParameter:"參數",Variable:"變量",VariableSessionValue:"會話變量",VariableContextParameter:"上下文變量",VariableName:"名稱",VariableSemanticNameValue:"語義化名稱",Entity:"數據",EntityList:"實體列表",EntityName:"名稱",EntityType:"類型",EntityPropList:"屬性列表",Help:"幫助",HelpCode:"編號",HelpName:"名稱",HelpDescription:"說明",SaveButton:"保存",CancelButton:"取消",FunctionDescription:"函數說明：",VarDescription:"變量說明：",CurrentProp:"當前屬性：",CurrentChosedProp:"當前選擇屬性："}},ie=function(){function e(e){this.defaultLang="zh-CHS",e=localStorage.getItem("languageCode"),this.langCode=e||this.defaultLang,this.lang=ae[this.langCode]||ae[this.defaultLang]}return e.prototype.transform=function(e){return this.lang[e]||e},e.decorators=[{type:x.Pipe,args:[{name:"locale"}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:x.Inject,args:[x.LOCALE_ID]}]}]},e}(),re={"zh-CHS":[{key:"if",name:"if()\n{\n\n}",params:[],description:"if : 判断条件",type:"Advanced",keyFront:"",className:""},{key:"if else",name:"if()\n{\n\n}\nelse\n{\n\n}",params:[],description:"if else : 判断条件",type:"Advanced",keyFront:"",className:""},{key:"for",name:"for(;;)\n{\n\n}",params:[],description:"for循环",type:"Advanced",keyFront:"",className:""},{key:"return",name:"return ;",params:[],description:"返回操作",type:"Advanced",keyFront:"",className:""},{key:"var",name:"var ",params:[],description:"变量定义",type:"Advanced",keyFront:"",className:""},{key:"true",name:"true ",params:[],description:"正确",type:"Advanced",keyFront:"",className:""},{key:"false",name:"false ",params:[],description:"错误",type:"Advanced",keyFront:"",className:""},{key:"StringSubstring",name:"取子字符串",params:[{key:"original",name:"源字符串",type:"string"},{key:"start",name:"起始位置",type:"int"},{key:"length",name:"长度",type:"int"}],description:'【功能】：在源字符串中检索子字符串，子字符串从指定的字符位置开始且具有指定的长度\n【original】：源字符串\n【start】：起始位置(从0开始)\n【length】：长度\n【返回值类型】：字符串(System.String)\n【示例】：StringSubstring("ABCDEFG",2,3)\n【返回值】："CDE"',type:"String",keyFront:"DefaultFunction",className:""},{key:"SubString",name:"取子字符串",params:[{key:"original",name:"源字符串",type:"string"},{key:"start",name:"起始位置",type:"int"},{key:"length",name:"长度",type:"int"}],description:'【功能】：在源字符串中检索子字符串，子字符串从指定的字符位置开始且具有指定的长度\n【original】：源字符串\n【start】：起始位置(从0开始)\n【length】：长度\n【返回值类型】：字符串(System.String)\n【示例】：SubString("ABCDEFG",2,3)\n【返回值】："CDE"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringLength",name:"取字符串长度",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：获取指定字符串的长度\n【original】：源字符串\n【返回值类型】：数值(System.Int32)\n【示例】：StringLength("语义化表达式")\n【返回值】：6',type:"String",keyFront:"DefaultFunction",className:""},{key:"Length",name:"取字符串长度",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：获取指定字符串的长度\n【original】：源字符串\n【返回值类型】：数值(System.Int32)\n【示例】：Length("语义化表达式")\n【返回值】：6',type:"String",keyFront:"DefaultFunction",className:""},{key:"Contains",name:"是否包含",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：判断源字符串中是否包含目标字符串\n【original】：源字符串\n【target】：目标字符串\n【返回值类型】：System.Boolean\n【示例】：Contains(salesorder.code,"表达式")\n【返回值】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"StartsWith",name:"开头是",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：判断源字符串是否以目标字符串开头\n【original】：源字符串\n【target】：目标字符串\n【返回值类型】：System.Boolean\n【示例】：StartsWith(salesorder.code,"子单位")\n【返回值】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"EndsWith",name:"结尾是",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：判断源字符串是否以目标字符串结尾\n【original】：源字符串\n【target】：目标字符串\n【返回值类型】：System.Boolean\n【示例】：EndsWith(salesorder.code,"子单位")\n【返回值】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringReplace",name:"字符串替换",params:[{key:"original",name:"源字符串",type:"string"},{key:"oldValue",name:"被替换值",type:"string"},{key:"newValue",name:"替换值",type:"string"}],description:'【功能】：将源字符串中的"被替换值"替换为"替换值"\n【original】：源字符串\n【oldValue】：被替换值\n【newValue】：替换值\n【返回值类型】：字符串(System.String)\n【示例】：StringReplace("123412","12","00")\n【返回值】："003400"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Replace",name:"字符串替换",params:[{key:"original",name:"源字符串",type:"string"},{key:"oldValue",name:"被替换值",type:"string"},{key:"newValue",name:"替换值",type:"string"}],description:'【功能】：将源字符串中的"被替换值"替换为"替换值"\n【original】：源字符串\n【oldValue】：被替换值\n【newValue】：替换值\n【返回值类型】：字符串(System.String)\n【示例】：Replace("123412","12","00")\n【返回值】："003400"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringToUpper",name:"转大写",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：将源字符串转换为大写\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：StringToUpper("abc")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"ToUpper",name:"转大写",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：将源字符串转换为大写\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：ToUpper("abc")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringToLower",name:"转小写",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：将源字符串转换为小写\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：StringToLower("ABC")\n【返回值】："abc"',type:"String",keyFront:"DefaultFunction",className:""},{key:"ToLower",name:"转小写",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：将源字符串转换为小写\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：ToLower("ABC")\n【返回值】："abc"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringIndexOf",name:"获取首个匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：在源字符串中，检索目标字符串，找到第一个匹配的字符串后，返回其索引位置(从0开始)。如果未找到目标字符串，则返回-1，如果目标字符串为空串，返回0，如果原字符串为null，则返回-1\n【original】：源字符串\n【target】：目标字符串\n【返回值类型】：数值(System.Int32)\n【示例】：StringIndexOf("12001234012","01")\n【返回值】：3\n【示例】：StringIndexOf("12002323","34")\n【返回值】：-1\n【示例】：StringIndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"IndexOf",name:"获取首个匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：在源字符串中，检索目标字符串，找到第一个匹配的字符串后，返回其索引位置(从0开始)。如果未找到目标字符串，则返回-1，如果目标字符串为空串，返回0，如果原字符串为null，则返回-1\n【original】：源字符串\n【target】：目标字符串\n【返回值类型】：数值(System.Int32)\n【示例】：IndexOf("12001234012","01")\n【返回值】：3\n【示例】：IndexOf("12002323","34")\n【返回值】：-1\n【示例】：IndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringLastIndexOf",name:"获取最后一个匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：在源字符串中，检索目标字符串，找到最后一个匹配的字符串后，返回其索引位置(从0开始)。如果未找到目标字符串，则返回-1，如果目标字符串为空串，返回0，如果原字符串为null，则返回-1\n【original】：源字符串\n【value】：目标字符串\n【返回值类型】：数值(System.Int32)\n【示例】：StringLastIndexOf("12001234012","01")\n【返回值】：8\n【示例】：StringLastIndexOf("12002323","34")\n【返回值】：-1\n【示例】：StringLastIndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"LastIndexOf",name:"获取最后一个匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：在源字符串中，检索目标字符串，找到最后一个匹配的字符串后，返回其索引位置(从0开始)。如果未找到目标字符串，则返回-1，如果目标字符串为空串，返回0，如果原字符串为null，则返回-1\n【original】：源字符串\n【value】：目标字符串\n【返回值类型】：数值(System.Int32)\n【示例】：LastIndexOf("12001234012","01")\n【返回值】：8\n【示例】：LastIndexOf("12002323","34")\n【返回值】：-1\n【示例】：LastIndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrimStart",name:"删除头部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的头部空格\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：StringTrimStart("    ABC")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"TrimStart",name:"删除头部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的头部空格\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：TrimStart("    ABC")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrimEnd",name:"删除尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的尾部空格\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：StringTrimEnd("ABC    ")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"TrimEnd",name:"删除尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的尾部空格\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：TrimEnd("ABC    ")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrim",name:"删除头尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的头尾部空格\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：StringTrim("    ABC    ")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Trim",name:"删除头尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的头尾部空格\n【original】：源字符串\n【返回值类型】：字符串(System.String)\n【示例】：Trim("    ABC    ")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"CreateGuid",name:"唯一标识符",params:[],description:'【功能】：获取唯一标识符Guid\n【返回值类型】：字符串(System.String)\n【示例】：CreateGuid()\n【返回值】："7722A793-14DF-49CD-B7E7-DF4987YYD2"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringAdd",name:"字符串相加",params:[{key:"firstStr",name:"第一个字符串",type:"string"},{key:"secondStr",name:"第二个字符串",type:"string"}],description:'【功能】：将若干字符串拼接成一个新字符串，最多支持10个字符串拼接，最少2个；编辑器中默认插入两个，多个字符串可手动添加\n【返回值类型】：字符串(System.String)\n【示例】：StringAdd("Hello","World")\n【返回值】："HelloWord"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Add",name:"字符串相加",params:[{key:"firstStr",name:"第一个字符串",type:"string"},{key:"secondStr",name:"第二个字符串",type:"string"}],description:'【功能】：将若干字符串拼接成一个新字符串，最多支持10个字符串拼接，最少2个；编辑器中默认插入两个，多个字符串可手动添加\n【返回值类型】：字符串(System.String)\n【示例】：Add("Hello","World")\n【返回值】："HelloWord"',type:"String",keyFront:"DefaultFunction",className:""},{key:"SumByProp",name:"按属性求和",params:[{key:"chainedPropName",name:"实体集合属性名",type:"string"},{key:"propertyName",name:"类型属性名",type:"string"}],description:'【功能】：统计某一属性的和\n【chainedPropName】：对应实体集合的属性名,链式形式组织在一起的属性名,例如:Order.OrderItems\n【propertyName】：类型属性名;\n【返回值类型】：数值(System.Double)\n【示例】：SumByProp("Order.OrderItems","Quantity")"',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"CountByProp",name:"列行数",params:[{key:"chainedPropName",name:"实体集合属性名",type:"string"},{key:"propertyName",name:"类型属性名",type:"string"}],description:'【功能】：统计指定字段所在表的记录数\n【chainedPropName】：对应实体集合的属性名,链式形式组织在一起的属性名,例如：Order.OrderItems\n【propertyName】：类型属性名\n【返回值类型】：数值(System.Int32);\n【示例】：CountByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"AvgByProp",name:"列平均值",params:[{key:"chainedPropName",name:"实体集合属性名",type:"string"},{key:"propertyName",name:"类型属性名",type:"string"}],description:'【功能】：统计某一数值列的平均值\n【chainedPropName】：对应实体集合的属性名,链式形式组织在一起的属性名,例如:Order.OrderItems\n【propertyName】：类型属性名\n【返回值类型】：数值(System.Double)\n【示例】：AvgByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"MaxByProp",name:"列最大值",params:[{key:"chainedPropName",name:"实体集合属性名",type:"string"},{key:"propertyName",name:"类型属性名",type:"string"}],description:'【功能】：统计某一数值列的最大值\n【chainedPropName】：对应实体集合的属性名,链式形式组织在一起的属性名,例如:Order.OrderItems\n【propertyName】：类型属性名\n【返回值类型】：数值(System.Double)\n【示例】：MaxByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"MinByProp",name:"列最小值",params:[{key:"chainedPropName",name:"实体集合属性名",type:"string"},{key:"propertyName",name:"类型属性名",type:"string"}],description:'【功能】：统计某一数值列的最小值\n【chainedPropName】：对应实体集合的属性名,链式形式组织在一起的属性名,例如:Order.OrderItems\n【propertyName】：类型属性名\n【返回值类型】：数值(System.Double)\n【示例】：MinByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"IsNull",name:"是空值",params:[{key:"obj",name:"检测对象",type:"object"}],description:'【功能】：判断指定的对象是否为空值(null)\n【obj】：要检测的对象\n【返回值类型】：布尔值(System.Boolean)\n【示例】：IsNull("语义化表达式")\n【返回值】：False',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNullOrWhiteSpace",name:"是空串",params:[{key:"obj",name:"待判断字符串",type:"string"}],description:'【功能】：判断指定的字符串是否为null、空还是仅有空格组成\n【obj】：要判断的字符串\n【返回值类型】：布尔值(System.Boolean)\n【示例】：IsNullOrWhiteSpace("语义化表达式")\n【返回值】：False\n【示例】：IsNullOrWhiteSpace(null)\n【返回值】：True\n【示例】：\nIsNullOrWhiteSpace(" ")【返回值】：True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNaN",name:"非数字",params:[{key:"obj",name:"检测对象",type:"object"}],description:'【功能】：判断指定的对象是否可以转换成数字(System.Double)\n【obj】：要检测的对象\n【返回值类型】：布尔值(System.Boolean)\n【示例】：IsNaN("语义化表达式")【返回值】：True\n【示例】：IsNaN(12.3)【返回值】：False\n【示例】：\nIsNaN("123")【返回值】：False',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNumber",name:"是数字",params:[{key:"obj",name:"检测对象",type:"object"}],description:'【功能】：判断指定的对象是否可以转换成数字(System.Double)\n【obj】：要检测的对象\n【返回值类型】：布尔值(System.Boolean)\n【示例】：IsNumber("语义化表达式")【返回值】：False\n【示例】：IsNumber(12.3)【返回值】：True\n【示例】：\nIsNumber("123")【返回值】：True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsExistRecord",name:"有无等于匹配字符",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"},{key:"match",name:"匹配值",type:"string"}],description:'【功能】：根据链式名称判断该表的指定字段集合中是否存在等于匹配字符的值\n【chainedPropName】链式名称\n【propertyName】属性名\n【match】匹配值\n【返回值类型】：对象(System.Boolean)\n【示例】：IsExistRecord("salesorder.items","code","lc")\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListGreaterThan",name:"有无大于匹配字符",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"},{key:"match",name:"匹配值",type:"double"}],description:'【功能】：根据链式名称判断该表的指定字段集合中是否存在大于匹配字符的值\n【chainedPropName】链式名称\n【propertyName】属性名\n【match】匹配值\n【返回值类型】：对象(System.Boolean)\n【示例】：ListGreaterThan("salesorder.items","num",100)\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListLessThan",name:"有无小于匹配字符",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"},{key:"match",name:"匹配值",type:"double"}],description:'【功能】：根据链式名称判断该表的指定字段集合中是否存在小于匹配字符的值\n【chainedPropName】链式名称\n【propertyName】属性名\n【match】匹配值\n【返回值类型】：对象(System.Boolean)\n【示例】：ListLessThan("salesorder.items","num",100)\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListStartWith",name:"有无开头是匹配字符",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"},{key:"match",name:"匹配值",type:"string"}],description:'【功能】：根据链式名称判断该表的指定字段集合中是否存在开头是匹配字符的值\n【chainedPropName】链式名称\n【propertyName】属性名\n【match】匹配值\n【返回值类型】：对象(System.Boolean)\n【示例】：ListStartWith("salesorder.items","code","lc")\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListEndWith",name:"有无结尾是匹配字符",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"},{key:"match",name:"匹配值",type:"string"}],description:'【功能】：根据链式名称判断该表的指定字段集合中是否存在结尾是匹配字符的值\n【chainedPropName】链式名称\n【propertyName】属性名\n【match】匹配值\n【返回值类型】：对象(System.Boolean)\n【示例】：ListEndWith("salesorder.items","code","lc")\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddDays",name:"增加指定天数",params:[{key:"date",name:"日期时间",type:"string"},{key:"value",name:"增加天数",type:"int"}],description:'【功能】：在指定的日期时间上增加指定的天数\n【date】：日期时间\n【value】：增加天数\n【返回值类型】：日期时间(System.DateTime)\n【示例】：DateTimeAddDays("2019-01-30T10:00:00+08:00",2)\n【返回值】:2019-02-01T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddYears",name:"增加指定年数",params:[{key:"date",name:"日期时间",type:"string"},{key:"value",name:"增加年数",type:"int"}],description:'【功能】：在指定的日期时间上增加指定的年数\n【date】：日期时间\n【value】：增加年数\n【返回值类型】：日期时间(System.DateTime)\n【示例】：DateTimeAddYears("2019-01-30T10:00:00+08:00",2)\n【返回值】:2021-01-30T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddMonths",name:"增加指定月数",params:[{key:"date",name:"日期时间",type:"string"},{key:"value",name:"增加月数",type:"int"}],description:'【功能】：在指定的日期时间上增加指定的月数\n【date】：日期时间\n【value】：增加月数\n【返回值类型】：日期时间(System.DateTime)\n【示例】：DateTimeAddMonths("2019-01-30T10:00:00+08:00",1)\n【返回值】:2019-02-28T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetFirstDayOfMonth",name:"获取指定日期时间所在月第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：获取指定日期时间值所在月的第一天的日期\n【date】：日期时间\n【返回值类型】：日期时间(System.DateTime)\n【示例】：GetFirstDayOfMonth("2019-01-30T10:00:00+08:00")\n【返回值】:2019-01-01T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetLastDayOfMonth",name:"获取指定日期时间所在月最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：获取指定日期时间值所在月的最后一天的日期\n【date】：日期时间\n【返回值类型】：日期时间(System.DateTime)\n【示例】：GetLastDayOfMonth("2019-01-30T10:00:00+08:00")\n【返回值】:2019-01-31T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetDateTimeNow",name:"获取当前日期时间",params:[],description:"【功能】：获取当前的日期时间\n【返回值类型】：日期时间(System.DateTime)\n【示例】：GetDateTimeNow()\n【返回值】:2019-01-30T12:00:00.000+08:00",type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"CompareDate",name:"比较两个时间",params:[{key:"str1",name:"日期时间1",type:"string"},{key:"str2",name:"日期时间2",type:"string"}],description:'【功能】：比较两个时间值，并返回一个值，此值表示第一个时间是早于、等于还是晚于第二个时间的整数\n【str1】：日期时间1\n【str2】：日期时间2\n【返回值类型】：数值(System.int32)\n\t日期1早于日期2，返回-1\n\t日期1等于日期2，返回0\n\t日期1晚于日期2，返回1\n【示例】：CompareDate("2019-01-30T10:00:00+08:00","2019-02-01T10:00:00+08:00")\n【返回值】：-1',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FormatDate",name:"格式化当前日期",params:[{key:"format",name:"格式串",type:"string"}],description:'【功能】：使用指定的格式将当前日期时间值转换为其等效的字符串表示形式\n【format】：格式串\n【返回值类型】：字符串(System.String)\n【示例】：FormatDate("yyyy-MM-dd HH:mm:ss")\n【返回值】："2019-01-30 01:00:00"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FormatDefineDate",name:"格式化指定日期",params:[{key:"format",name:"格式串",type:"string"},{key:"date",name:"日期时间",type:"string"}],description:'【功能】：使用指定的格式将指定的日期时间值转换为其等效的字符串表示形式\n【format】：格式串\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FormatDefineDate("yyyy-MM-dd HH:mm:ss","2019-01-30 01:00:00")\n【返回值】："2019-01-30 01:00:00"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Today",name:"今天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的今天，格式为"yyyy-MM-dd"形式，如果不传递参数，则默认返回当前系统日期的今天\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：Today("2019-01-30T10:00:00+08:00")\n【返回值】："2019-01-30"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Yesterday",name:"昨天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的昨天，格式为"yyyy-MM-dd"形式，如果不传递参数，则默认返回当前系统日期的昨天\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：Yesterday("2019-01-30T10:00:00+08:00")\n【返回值】："2019-01-29"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Tomorrow",name:"明天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的明天，格式为"yyyy-MM-dd"形式，如果不传递参数，则默认返回当前系统日期的明天\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：Tomorrow("2019-01-30T10:00:00+08:00")\n【返回值】："2019-01-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisYear",name:"本年",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本年，格式为"yyyy"形式，如果不传递参数，则默认返回当前系统日期的本年\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：ThisYear("2019-01-30T10:00:00+08:00")\n【返回值】："2019"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastYear",name:"去年",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的去年，格式为"yyyy"形式，如果不传递参数，则默认返回当前系统日期的去年\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastYear("2019-01-30T10:00:00+08:00")\n【返回值】："2018"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextYear",name:"明年",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的明年，格式为"yyyy"形式，如果不传递参数，则默认返回当前系统日期的明年\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：NextYear("2019-01-30T01:00:00+08:00")\n【返回值】："2020"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisMonth",name:"本月",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本月，格式为"MM"形式，如果不传递参数，则默认返回当前系统日期的本月\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：ThisMonth("2019-01-30T01:00:00+08:00")\n【返回值】："1"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastMonth",name:"上月",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上月，格式为"MM"形式，如果不传递参数，则默认返回当前系统日期的上月\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastMonth("2019-02-30 01:00:00")\n【返回值】："1"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextMonth",name:"下月",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下月，格式为"MM"形式，如果不传递参数，则默认返回当前系统日期的下月\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：NextMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisWeek",name:"本周",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期在本年的第几周，格式为"ww"形式，如果不传递参数，则默认返回当前系统日期在本年的第几周，注意如果12月底的日期与下一年的1月1日在同一星期，则返回第一周\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：ThisWeek("2019-01-30T01:00:00+08:00")\n【返回值】："5"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastWeek",name:"上周",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上周，格式为"ww"形式，如果不传递参数，则默认返回当前系统日期的上周，注意如果指定日期在今年第1周，则上周为去年的最后一周\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastWeek("2019-01-30T01:00:00+08:00")\n【返回值】："4"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextWeek",name:"下周",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下周，格式为"ww"形式，如果不传递参数，则默认返回当前系统日期的下周，注意如果指定日期在今年最后一周，则下周为1\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：NextWeek("2019-01-30T01:00:00+08:00")\n【返回值】："6"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DayOfWeek",name:"星期几",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期是本周的星期几，格式为"n"，如果不传递参数，则默认返回当前系统日期是本周的星期几，注意不是返回英文缩写，而是返回数字形式。按照中国习惯，星期一为每周首日，返回值为1，星期日为每周尾日，返回值为7\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：DayOfWeek("2019-01-30T01:00:00+08:00")\n【返回值】："3"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfWeek",name:"本周第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本周第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的本周第一天。按照中国习惯，星期一为每周首日，星期日为每周尾日\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfWeek("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-28"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfWeek",name:"本周最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本周最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的本周第一天。按照中国习惯，星期一为每周首日，星期日为每周尾日\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfWeek("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-03"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastWeek",name:"上周第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上周第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的上周第一天。按照中国习惯，星期一为每周首日，星期日为每周尾日\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfLastWeek("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-21"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastWeek",name:"上周最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上周最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的上周最后一天。按照中国习惯，星期一为每周首日，星期日为每周尾日\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfLastWeek("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-27"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextWeek",name:"下周第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下周第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的下周第一天。按照中国习惯，星期一为每周首日，星期日为每周尾日\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfNextWeek("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-04"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextWeek",name:"下周最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下周最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的下周最后一天。按照中国习惯，星期一为每周首日，星期日为每周尾日\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfNextWeek("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-10"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfMonth",name:"本月第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本月第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的本月第一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfMonth",name:"本月最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本月最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的本月最后一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastMonth",name:"上月第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上月第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的上月第一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfLastMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2018-12-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastMonth",name:"上月最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上月最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的上月最后一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfLastMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2018-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextMonth",name:"下月第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下月第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的下月第一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfNextMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextMonth",name:"下月最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下月最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的下月最后一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfNextMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-28"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfYear",name:"本年第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本年第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的本年第一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfYear("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfYear",name:"本年最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的本年最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的本年最后一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfYear("2019-01-30T01:00:00+08:00")\n【返回值】："2019-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastYear",name:"上年第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上年第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的上年第一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfLastYear("2019-01-30T01:00:00+08:00")\n【返回值】："2018-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastYear",name:"上年最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的上年最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的上年最后一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfLastYear("2019-01-30T01:00:00+08:00")\n【返回值】："2018-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextYear",name:"下年第一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下年第一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的下年第一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：FirstDayOfNextYear("2019-01-30T01:00:00+08:00")\n【返回值】："2020-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextYear",name:"下年最后一天",params:[{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定日期的下年最后一天，格式为"yyyy-MM-dd"，如果不传递参数，则默认返回当前系统日期的下年最后一天。\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n【示例】：LastDayOfNextYear("2019-01-30T01:00:00+08:00")\n【返回值】："2020-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:"DefaultFunction"},{key:"GetDate",name:"返回指定形式的日期",params:[{key:"format",name:"格式串",type:"string"},{key:"date",name:"日期时间",type:"string"}],description:'【功能】：返回指定形式的日期，如果不传递参数，则默认返回当前系统日期的指定形式日期。\n【format】：格式化串\n【date】：日期时间\n【返回值类型】：字符串(System.String)\n\tDD：今天\tLD：昨天\tND：明天\n\tYY：本年\tLY：上年\tNY：下年\n\tMM：本月\tLM：上月\tNM：下月\n\tWD：星期几\n\tWW：本周\tLW：上周\tNW：下周\n\tFDW：本周首日\tLDW：本周尾日\n\tFDLW：上周首日\tLDLW：上周尾日\n\tFDNW：下周首日\tLDNW：下周尾日\n\tFDM：本月首日\tLDM：本月尾日\n\tFDLM：上月首日\tLDLM：上月尾日\n\tFDNM：下月首日\tLDNM：下月尾日\n\tFDY：本年首日\tLDY：本年尾日\n\tFDLY：上年首日\tLDLY：上年尾日\n\tFDNY：下年首日\tLDNY：下年尾日\n【示例】：GetDate("LD","2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-29"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ToStringX",name:"转字符串",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定的对象转换成字符串\n【obj】：待转换对象\n【返回值类型】：字符串(System.String)\n【示例】：ToStringX(123)\n【返回值】："123"',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDateTime",name:"转日期时间",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定的对象转换成日期时间\n【obj】：待转换对象\n【返回值类型】：日期时间(System.OffsetDateTime)\n【示例】：ToDateTime("2019-01-30T10:00:00+08:00")\n【返回值】: 2019-01-30T10:00+08:00',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToBoolean",name:"转布尔值",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象值转换成等效的布尔值\n【obj】：待转换对象\n【返回值类型】：布尔值(System.Boolean)\n【示例】：ToBoolean("True")\n【返回值】：true',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDecimal",name:"转数值",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成十进制数值\n【obj】：待转换对象\n【返回值类型】：十进制数值(System.BigDecimal)\n【示例】：ToDecimal("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToBigDecimal",name:"转数值",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成十进制数值\n【obj】：待转换对象\n【返回值类型】：十进制数值(System.BigDecimal)\n【示例】：ToBigDecimal("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToCustomBigDecimal",name:"转自定义精度数值",params:[{key:"obj",name:"转换对象",type:"object"},{key:"number",name:"小数位数",type:"int"}],description:'【功能】：将指定对象转换成指定精度的十进制数值\n【obj】：待转换对象\n【number】：小数位数\n【返回值类型】：十进制数值(System.BigDecimal)\n【示例】：ToCustomBigDecimal("40.2,2")\n【返回值】：40.20',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDouble",name:"转双精度浮点数",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成双精度浮点数\n【obj】：待转换对象\n【返回值类型】：双精度浮点数(System.Double)\n【示例】：ToDouble("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToSingle",name:"转单精度浮点数",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成单精度浮点数\n【obj】：待转换对象\n【返回值类型】：单精度浮点数(System.Float)\n【示例】：ToSingle("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToFloat",name:"转单精度浮点数",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成单精度浮点数\n【obj】：待转换对象\n【返回值类型】：单精度浮点数(System.Float)\n【示例】：ToFloat("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToByte",name:"转8位无符号整数",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成8位无符号整数\n【obj】：待转换对象\n【返回值类型】：8位无符号整数(System.Byte)\n【示例】：ToByte("10")\n【返回值】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToInt16",name:"转16位有符号整数",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成16位有符号整数\n【obj】：待转换对象\n【返回值类型】：16位有符号整数(System.Int16)\n【示例】：ToInt16("10")\n【返回值】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToInt32",name:"转32位有符号整数",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成32位有符号整数\n【obj】：待转换对象\n【返回值类型】：32位有符号整数(System.Int32)\n【示例】：ToInt32("10")\n【返回值】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToChineseMoney",name:"转中文大写金额",params:[{key:"obj",name:"转换对象",type:"object"}],description:'【功能】：将指定对象转换成中文大写金额\n【obj】：待转换对象\n【返回值类型】：字符串(System.String)\n【示例】：ToChineseMoney(40.23)\n【返回值】："肆拾元零贰角叁分"',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"GetSessionValue",name:"获取会话变量的值",params:[{key:"name",name:"会话变量名",type:"string"}],description:"【功能】：获取用户会话变量的值\n【name】：会话变量名称\n【返回值类型】：对象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetContextParameter",name:"获取上下文变量的值",params:[{key:"name",name:"上下文变量名",type:"string"}],description:"【功能】：获取上下文变量的值\n【name】：上下文变量名称\n【返回值类型】：对象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"getComputeJsonData",name:"根据属性名获取JSON串",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"}],description:"【功能】：根据链式属性名得到JSON串\n【chainedPropName】链式名称\n【propertyName】属性名\n【返回值类型】：对象(System.String)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetComputeJsonData",name:"根据属性名获取JSON串",params:[{key:"chainedPropName",name:"链式名称",type:"string"},{key:"propertyName",name:"属性名",type:"string"}],description:"【功能】：根据链式属性名得到JSON串\n【chainedPropName】链式名称\n【propertyName】属性名\n【返回值类型】：对象(System.String)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetInjectedEntity",name:"根据注入名获获取注入对象",params:[{key:"name",name:"注入名",type:"string"}],description:"【功能】：获取运行时注入的对象\n【name】注入名\n【返回值类型】：对象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetChainedPropertyValue",name:"根据属性名获取属性值",params:[{key:"chainedPropName",name:"链式名",type:"string"}],description:"【功能】：根据链式属性名获取属性值\n【chainedPropName】链式名\n【返回值类型】：对象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"abs",name:"绝对值",params:[{key:"value",name:"数值",type:"double"}],description:"【功能】：返回一个数值的绝对值\n【value】：计算数值\n【返回值类型】：数值(System.Double)\n【示例】：abs(-1.5)\n【返回值】：1.5",type:"Math",keyFront:"Math",className:""},{key:"Round",name:"四舍五入",params:[{key:"value1",name:"数值",type:"double"},{key:"value2",name:"小数位数",type:"int32"}],description:"【功能】：把数四舍五入为指定精度的数值\n【value1】：数值 \n【value2】：四舍五入小数位数\n【返回值类型】：数值(System.Double)\n【示例】：\nRound(1.52,1)\n【返回值】：1.5",type:"Math",keyFront:"DefaultFunction",className:""},{key:"round",name:"四舍五入",params:[{key:"value1",name:"数值",type:"double"},{key:"value2",name:"小数位数",type:"int32"}],description:"【功能】：把数四舍五入为指定精度的数值\n【value1】：数值 \n【value2】：四舍五入小数位数\n【返回值类型】：数值(System.Double)\n【示例】：round(1.52,1)\n【返回值】：1.5",type:"Math",keyFront:"DefaultFunction",className:""},{key:"random",name:"随机数",params:[],description:"【功能】：随机生成大于等于 0.0 且小于 1.0 的伪随机值\n【返回值类型】：数值(System.Double)\n【示例】：random()\n【返回值】：0.624508349393",type:"Math",keyFront:"Math",className:""},{key:"sin",name:"正弦",params:[{key:"value",name:"数值",type:"double"}],description:"【功能】：返回一个数字的正弦值\n【value】：计算数值\n【返回值类型】：数值(System.Double)\n一个以弧度表示的角\n【示例】：sin(1)\n【返回值】：0.84187098",type:"Math",keyFront:"Math",className:""},{key:"cos",name:"余弦",params:[{key:"value",name:"数值",type:"double"}],description:"【功能】：返回一个数字的余弦值\n【value】：计算数值\n【返回值类型】：数值(System.Double)\n一个以弧度表示的角\n【示例】：cos(3)\n【返回值】：-0.9899924",type:"Math",keyFront:"Math",className:""},{key:"ceil",name:"向上舍入",params:[{key:"value",name:"数值",type:"double"}],description:"【功能】：返回大于或等于函数参数，并且与之最接近的整数\n【value】：计算数值\n【返回值类型】：数值(System.Int32)\n【示例】：ceil(3.2)\n【返回值】：4",type:"Math",keyFront:"Math",className:""},{key:"floor",name:"向下舍入",params:[{key:"value",name:"数值",type:"double"}],description:"【功能】：返回小于或等于函数参数，并且与之最接近的整数\n【value】：计算数值\n【返回值类型】：数值(System.Int32)\n【示例】：floor(3.2)\n【返回值】：3",type:"Math",keyFront:"Math",className:""},{key:"BankerRound",name:"银行家舍入",params:[{key:"value1",name:"数值",type:"double"},{key:"value2",name:"小数位数",type:"int32"}],description:"【功能】：使用银行家舍入标准，把指定数字舍入为最接近的数字\n【value1】：要舍入的数值\n【value2】：要舍入的小数位数\n【返回值类型】：数值(System.Double)\n【示例】：BankerRound(36.124,2)\n【返回值】：36.12",type:"Math",keyFront:"Math",className:""},{key:"bankerRound",name:"银行家舍入",params:[{key:"value1",name:"数值",type:"double"},{key:"value2",name:"小数位数",type:"int32"}],description:"【功能】：使用银行家舍入标准，把指定数字舍入为最接近的数字\n【value1】：要舍入的数值\n【value2】：要舍入的小数位数\n【返回值类型】：数值(System.Double)\n【示例】：bankerRound(36.124,2)\n【返回值】：36.12",type:"Math",keyFront:"DefaultFunction",className:""}],en:[{key:"if",name:"if()\n{\n\n}",params:[],description:"if : Analyzing conditions",type:"Advanced",keyFront:"",className:""},{key:"if else",name:"if()\n{\n\n}\nelse\n{\n\n}",params:[],description:"if else : Analyzing conditions",type:"Advanced",keyFront:"",className:""},{key:"for",name:"for(;;)\n{\n\n}",params:[],description:"for loop",type:"Advanced",keyFront:"",className:""},{key:"return",name:"return ;",params:[],description:"return operation",type:"Advanced",keyFront:"",className:""},{key:"var",name:"var ",params:[],description:"variable definitions",type:"Advanced",keyFront:"",className:""},{key:"true",name:"true ",params:[],description:"true",type:"Advanced",keyFront:"",className:""},{key:"false",name:"false ",params:[],description:"false",type:"Advanced",keyFront:"",className:""},{key:"StringSubstring",name:"StringSubstring",params:[{key:"original",name:"original",type:"string"},{key:"start",name:"start",type:"int"},{key:"length",name:"length",type:"int"}],description:'【Function】：Retrieve the substring in the original string, the substring starts from the specified character position and has the specified length\n【original】：original string\n【start】：start index(start from 0)\n【length】：length\n【Return Type】：String(System.String)\n【Example】：StringSubstring("ABCDEFG",2,3)\n【Return】："CDE"',type:"String",keyFront:"DefaultFunction",className:""},{key:"SubString",name:"SubString",params:[{key:"original",name:"original",type:"string"},{key:"start",name:"start",type:"int"},{key:"length",name:"length",type:"int"}],description:'【Function】：Retrieve the substring in the original string, the substring starts from the specified character position and has the specified length\n【original】：original string\n【start】：start index(start from 0)\n【length】：length\n【Return Type】：String(System.String)\n【Example】：SubString("ABCDEFG",2,3)\n【Return】："CDE"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringLength",name:"取字符串长度",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：获取指定字符串的长度\n【original】：源字符串\n【Return Type】：数值(System.Int32)\n【Example】：StringLength("语义化表达式")\n【Return】：6',type:"String",keyFront:"DefaultFunction",className:""},{key:"Length",name:"Length",params:[{key:"original",name:"original",type:"string"}],description:'【Function】：Get the length of the original string\n【original】：original string\n【Return Type】：Int32(System.Int32)\n【Example】：Length("语义化表达式")\n【Return】：6',type:"String",keyFront:"DefaultFunction",className:""},{key:"Contains",name:"Contains",params:[{key:"original",name:"original",type:"string"},{key:"target",name:"target",type:"string"}],description:'【Function】：Determine whether the original string contains the target string\n【original】：original string\n【target】：target string\n【Return Type】：System.Boolean\n【Example】：Contains(salesorder.code,"表达式")\n【Return】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"StartsWith",name:"StartsWith",params:[{key:"original",name:"original",type:"string"},{key:"target",name:"target",type:"string"}],description:'【Function】：Determine whether the original string starts with the target string\n【original】：original string\n【target】：target string\n【Return Type】：System.Boolean\n【Example】：StartsWith(salesorder.code,"子单位")\n【Return】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"EndsWith",name:"EndsWith",params:[{key:"original",name:"original",type:"string"},{key:"target",name:"target",type:"string"}],description:'【Function】：Determine whether the original string ends with the target string\n【original】：original string\n【target】：target string\n【Return Type】：System.Boolean\n【Example】：EndsWith(salesorder.code,"子单位")\n【Return】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringReplace",name:"字符串替换",params:[{key:"original",name:"源字符串",type:"string"},{key:"oldValue",name:"被替换值",type:"string"},{key:"newValue",name:"替换值",type:"string"}],description:'【功能】：将源字符串中的"被替换值"替换为"替换值"\n【original】：源字符串\n【oldValue】：被替换值\n【newValue】：替换值\n【Return TypeReturn Type】：字符串(System.String)\n【Example】：StringReplace("123412","12","00")\n【Return】："003400"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Replace",name:"Replace",params:[{key:"original",name:"original",type:"string"},{key:"oldValue",name:"oldValue",type:"string"},{key:"newValue",name:"newValue",type:"string"}],description:'【Function】：Replace the "oldValue" in the original string with "newValue"\n【original】：original string\n【oldValue】：replaced old value\n【newValue】：replacement new value\n【Return Type】：String(System.String)\n【Example】：Replace("123412","12","00")\n【Return】："003400"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringToUpper",name:"转大写",params:[{key:"original",name:"源字符串",type:"string"}],description:'【Function】：将源字符串转换为大写\n【original】：源字符串\n【Return Type】：字符串(System.String)\n【Example】：StringToUpper("abc")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"ToUpper",name:"ToUpper",params:[{key:"original",name:"original",type:"string"}],description:'【Function】：Convert the original string to uppercase\n【original】：original string\n【Return Type】：String(System.String)\n【Example】：ToUpper("abc")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringToLower",name:"转小写",params:[{key:"original",name:"源字符串",type:"string"}],description:'【Function】：将源字符串转换为小写\n【original】：源字符串\n【Return TypeReturn Type】：字符串(System.String)\n【Example】：StringToLower("ABC")\n【Return】："abc"',type:"String",keyFront:"DefaultFunction",className:""},{key:"ToLower",name:"ToLower",params:[{key:"original",name:"original",type:"string"}],description:'【Function】：Convert the original string to lowercase\n【original】：original string\n【Return Type】：String(System.String)\n【Example】：ToLower("ABC")\n【Return】："abc"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringIndexOf",name:"获取首个匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【Function】：在源字符串中，检索目标字符串，找到第一个匹配的字符串后，返回其索引位置(从0开始)。如果未找到目标字符串，则返回-1，如果目标字符串为空串，返回0，如果原字符串为null，则返回-1\n【original】：源字符串\n【target】：目标字符串\n【Return Type】：数值(System.Int32)\n【Example】：StringIndexOf("12001234012","01")\n【Return】：3\n【Example】：StringIndexOf("12002323","34")\n【Return】：-1\n【Example】：StringIndexOf("120011","")\n【Return】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"IndexOf",name:"IndexOf",params:[{key:"original",name:"original",type:"string"},{key:"target",name:"target",type:"string"}],description:'【Function】：In the original string, the target string is retrieved, and after the first matching string is found, its index position (starting from 0) is returned. If the target string is not found, -1 is returned, if the target string is an empty string, 0 is returned, if the original string is null, -1 is returned\n【original】：original string\n【target】：target string\n【Return Type】：Int32(System.Int32)\n【Example】：IndexOf("12001234012","01")\n【Return】：3\n【Example】：IndexOf("12002323","34")\n【Return】：-1\n【Example】：IndexOf("120011","")\n【Return】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringLastIndexOf",name:"获取最后一个匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目标字符串",type:"string"}],description:'【功能】：在源字符串中，检索目标字符串，找到最后一个匹配的字符串后，返回其索引位置(从0开始)。如果未找到目标字符串，则返回-1，如果目标字符串为空串，返回0，如果原字符串为null，则返回-1\n【original】：源字符串\n【value】：目标字符串\n【Return Type】：数值(System.Int32)\n【Example】：StringLastIndexOf("12001234012","01")\n【Return】：8\n【Example】：StringLastIndexOf("12002323","34")\n【Return】：-1\n【Example】：StringLastIndexOf("120011","")\n【Return】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"LastIndexOf",name:"LastIndexOf",params:[{key:"original",name:"original",type:"string"},{key:"target",name:"target",type:"string"}],description:'【Function】：In the original string, the target string is retrieved, and after the last matching string is found, its index position (starting from 0) is returned. If the target string is not found, -1 is returned, if the target string is an empty string, 0 is returned, if the original string is null, -1 is returned\n【original】：original string\n【value】：target string\n【Return Type】：Int32(System.Int32)\n【Example】：LastIndexOf("12001234012","01")\n【Return】：8\n【Example】：LastIndexOf("12002323","34")\n【Return】：-1\n【Example】：LastIndexOf("120011","")\n【Return】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrimStart",name:"删除头部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的头部空格\n【original】：源字符串\n【Return Type】：字符串(System.String)\n【Example】：StringTrimStart("    ABC")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"TrimStart",name:"TrimStart",params:[{key:"original",name:"original",type:"string"}],description:'【Function】：Delete the head space of the original string\n【original】：original string\n【Return Type】：String(System.String)\n【Example】：TrimStart("    ABC")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrimEnd",name:"删除尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的尾部空格\n【original】：源字符串\n【Return TypeReturn Type】：字符串(System.String)\n【Example】：StringTrimEnd("ABC    ")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"TrimEnd",name:"TrimEnd",params:[{key:"original",name:"original",type:"string"}],description:'【Function】：Remove trailing spaces from the original string\n【original】：original string\n【Return Type】：String(System.String)\n【Example】：TrimEnd("ABC    ")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrim",name:"删除头尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：删除源字符串的头尾部空格\n【original】：源字符串\n【Return Type】：字符串(System.String)\n【Example】：StringTrim("    ABC    ")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Trim",name:"Trim",params:[{key:"original",name:"original",type:"string"}],description:'【Function】：Delete the leading and trailing spaces of the original string\n【original】：original string\n【Return Type】：String(System.String)\n【Example】：Trim("    ABC    ")\n【Return】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"CreateGuid",name:"CreateGuid",params:[],description:'【Function】：Get unique identification Guid\n【Return Type】：String(System.String)\n【Example】：CreateGuid()\n【Return】："7722A793-14DF-49CD-B7E7-DF4987YYD2"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringAdd",name:"字符串相加",params:[{key:"firstStr",name:"第一个字符串",type:"string"},{key:"secondStr",name:"第二个字符串",type:"string"}],description:'【Function】：将若干字符串拼接成一个新字符串，最多支持10个字符串拼接，最少2个；编辑器中默认插入两个，多个字符串可手动添加\n【Return Type】：字符串(System.String)\n【Example】：StringAdd("Hello","World")\n【Return】："HelloWord"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Add",name:"Add",params:[{key:"firstStr",name:"firstStr",type:"string"},{key:"secondStr",name:"secondStr",type:"string"}],description:'【Function】：Concatenate several strings into a new string, support up to 10 string concatenations, at least 2; two are inserted by default in the editor, and multiple strings can be added manually\n【Return Type】：String(System.String)\n【Example】：Add("Hello","World")\n【Return】："HelloWord"',type:"String",keyFront:"DefaultFunction",className:""},{key:"SumByProp",name:"SumByProp",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:'【Function】：Count the sum of a certain attribute\n【chainedPropName】：Corresponding to the attribute names of the entity set, the attribute names organized together in a chain form, for example:Order.OrderItems\n【propertyName】：Type attribute name;\n【Return Type】：Double(System.Double)\n【Example】：SumByProp("Order.OrderItems","Quantity")"',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"CountByProp",name:"CountByProp",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:'【Function】：Count the number of records in the table where the specified field is located\n【chainedPropName】：Corresponding to the attribute names of the entity set, the attribute names organized together in a chain form, for example:Order.OrderItems\n【propertyName】：Type attribute name\n【Return Type】：Int32(System.Int32);\n【Example】：CountByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"AvgByProp",name:"AvgByProp",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:'【Function】：Count the average value of a numeric column\n【chainedPropName】：Corresponding to the attribute names of the entity set, the attribute names organized together in a chain form, for example:Order.OrderItems\n【propertyName】：Type attribute name\n【Return Type】：Double(System.Double)\n【Example】：AvgByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"MaxByProp",name:"MaxByProp",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:'【Function】：Count the maximum value of a numeric column\n【chainedPropName】：Corresponding to the attribute names of the entity set, the attribute names organized together in a chain form, for example:Order.OrderItems\n【propertyName】：Type attribute name\n【Return Type】：Double(System.Double)\n【Example】：MaxByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"MinByProp",name:"MinByProp",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:'【Function】：Count the minimum value of a numeric column\n【chainedPropName】：Corresponding to the attribute names of the entity set, the attribute names organized together in a chain form, for example:Order.OrderItems\n【propertyName】：Type attribute name\n【Return Type】：Double(System.Double)\n【Example】：MinByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"IsNull",name:"IsNull",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Determine whether the specified object is null(null)\n【obj】：Object to be detected\n【Return Type】：Boolean(System.Boolean)\n【ExampleExample】：IsNull("语义化表达式")\n【Return】：False',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNullOrWhiteSpace",name:"IsNullOrWhiteSpace",params:[{key:"obj",name:"obj",type:"string"}],description:'【Function】：Determine whether the specified string is null, empty or only composed of spaces\n【obj】：String to be judged\n【Return Type】：Boolean(System.Boolean)\n【Example】：IsNullOrWhiteSpace("语义化表达式")\n【Return】：False\n【Example】：IsNullOrWhiteSpace(null)\n【Return】：True\n【Example】：\nIsNullOrWhiteSpace(" ")【Return】：True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNaN",name:"IsNaN",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Determine whether the specified object can be converted into a number(System.Double)\n【obj】：Object to be detected\n【Return Type】：Boolean(System.Boolean)\n【Example】：IsNaN("语义化表达式")【Return】：True\n【Example】：IsNaN(12.3)【Return】：False\n【Example】：\nIsNaN("123")【Return】：False',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNumber",name:"IsNumber",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Determine whether the specified object can be converted into a number(System.Double)\n【obj】：Object to be detected\n【Return Type】：Boolean(System.Boolean)\n【Example】：IsNumber("语义化表达式")【Return】：False\n【Example】：IsNumber(12.3)【Return】：True\n【Example】：\nIsNumber("123")【Return】：True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsExistRecord",name:"IsExistRecord",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"},{key:"match",name:"match",type:"string"}],description:'【Function】：Determine whether there is a value equal to the matching character in the specified field set of the table according to the chain name\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【match】match value\n【Return Type】：Boolean(System.Boolean)\n【Example】：IsExistRecord("salesorder.items","code","lc")\n【Return】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListGreaterThan",name:"ListGreaterThan",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"},{key:"match",name:"match",type:"double"}],description:'【Function】：Determine whether there is a value greater than the matching character in the specified field set of the table according to the chain name\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【match】march value\n【Return Type】：Boolean(System.Boolean)\n【Example】：ListGreaterThan("salesorder.items","num",100)\n【Return】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListLessThan",name:"ListLessThan",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"},{key:"match",name:"match",type:"double"}],description:'【Function】：Determine whether there is a value less than the matching character in the specified field set of the table according to the chain name\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【match】match value\n【Return Type】：Boolean(System.Boolean)\n【Example】：ListLessThan("salesorder.items","num",100)\n【Return】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListStartWith",name:"ListStartWith",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"},{key:"match",name:"match",type:"string"}],description:'【Function】：According to the chain name, determine whether there is a value with a matching character at the beginning of the specified field set of the table\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【match】match value\n【Return Type】：Boolean(System.Boolean)\n【Example】：ListStartWith("salesorder.items","code","lc")\n【Return】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListEndWith",name:"ListEndWith",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"},{key:"match",name:"match",type:"string"}],description:'【Function】：According to the chain name, determine whether there is a value whose ending is a matching character in the specified field set of the table\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【match】match value\n【Return Type】：Boolean(System.Boolean)\n【Example】：ListEndWith("salesorder.items","code","lc")\n【Return】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddDays",name:"DateTimeAddDays",params:[{key:"date",name:"date",type:"string"},{key:"value",name:"value",type:"int"}],description:'【Function】：Add the specified number of days to the specified date\n【date】：date time\n【value】：Increase the number of days\n【Return Type】：DateTime(System.DateTime)\n【Example】：DateTimeAddDays("2019-01-30T10:00:00+08:00",2)\n【Return】:2019-02-01T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddYears",name:"DateTimeAddYears",params:[{key:"date",name:"date",type:"string"},{key:"value",name:"value",type:"int"}],description:'【Function】：Add the specified number of years to the specified date and time\n【date】：date time\n【value】：Increase the number of years\n【Return Type】：DateTime(System.DateTime)\n【Example】：DateTimeAddYears("2019-01-30T10:00:00+08:00",2)\n【Return】:2021-01-30T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddMonths",name:"DateTimeAddMonths",params:[{key:"date",name:"date",type:"string"},{key:"value",name:"value",type:"int"}],description:'【Function】：Add the specified number of months to the specified date and time\n【date】：date time\n【value】：Increase the number of months\n【Return Type】：DateTime(System.DateTime)\n【ExampleExample】：DateTimeAddMonths("2019-01-30T10:00:00+08:00",1)\n【Return】:2019-02-28T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetFirstDayOfMonth",name:"GetFirstDayOfMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Get the date of the first day of the month where the specified date time value is\n【date】：date time\n【Return Type】：DateTime(System.DateTime)\n【Example】：GetFirstDayOfMonth("2019-01-30T10:00:00+08:00")\n【Return】:2019-01-01T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetLastDayOfMonth",name:"GetLastDayOfMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Get the date of the last day of the month in which the specified date and time value is located\n【date】：date time\n【Return Type】：DateTime(System.DateTime)\n【Example】：GetLastDayOfMonth("2019-01-30T10:00:00+08:00")\n【Return】:2019-01-31T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetDateTimeNow",name:"GetDateTimeNow",params:[],description:"【Function】：Get the current date and time\n【Return Type】：DateTime(System.DateTime)\n【Example】：GetDateTimeNow()\n【Return】:2019-01-30T12:00:00.000+08:00",type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"CompareDate",name:"CompareDate",params:[{key:"str1",name:"date1",type:"string"},{key:"str2",name:"date2",type:"string"}],description:'【Function】：Compare two time values and return a value indicating whether the first time is an integer that is earlier than, equal to, or later than the second time\n【str1】：date time 1\n【str2】：date time 2\n【Return Type】：Int32(System.Int32)\n\tDate 1 is earlier than date 2, return -1\n\tdate 1 is equal to date 2, return 0\n\tdate 1 is later than date 2, return 1\n【Example】：CompareDate("2019-01-30T10:00:00+08:00","2019-02-01T10:00:00+08:00")\n【Return】：-1',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FormatDate",name:"FormatDate",params:[{key:"format",name:"format",type:"string"}],description:'【Function】：Use the specified format to convert the current date and time value to its equivalent string representation\n【format】：Format string\n【Return Type】：String(System.String)\n【Example】：FormatDate("yyyy-MM-dd HH:mm:ss")\n【Return】："2019-01-30 01:00:00"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FormatDefineDate",name:"FormatDefineDate",params:[{key:"format",name:"format",type:"string"},{key:"date",name:"date",type:"string"}],description:'【Function】：Use the specified format to convert the specified date and time value to its equivalent string representation\n【format】：Format string\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FormatDefineDate("yyyy-MM-dd HH:mm:ss","2019-01-30 01:00:00")\n【Return】："2019-01-30 01:00:00"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Today",name:"Today",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns today of the specified date, in the format "yyyy-MM-dd", if no parameters are passed, it will return today as the current system date by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：Today("2019-01-30T10:00:00+08:00")\n【Return】："2019-01-30"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Yesterday",name:"Yesterday",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the yesterday of the specified date, the format is "yyyy-MM-dd", if no parameters are passed, it will return yesterday of the current system date by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：Yesterday("2019-01-30T10:00:00+08:00")\n【Return】："2019-01-29"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Tomorrow",name:"Tomorrow",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return tomorrow of the specified date, the format is "yyyy-MM-dd", if no parameters are passed, it will return tomorrow of the current system date by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：Tomorrow("2019-01-30T10:00:00+08:00")\n【Return】："2019-01-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisYear",name:"ThisYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the current year of the specified date, the format is "yyyy", if no parameters are passed, the current year of the current system date will be returned by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：ThisYear("2019-01-30T10:00:00+08:00")\n【Return】："2019"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastYear",name:"LastYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last year of the specified date, the format is "yyyy", if no parameters are passed, it will return the last year of the current system date by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastYear("2019-01-30T10:00:00+08:00")\n【Return】："2018"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextYear",name:"NextYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the next year of the specified date, the format is "yyyy", if no parameters are passed, the next year of the current system date will be returned by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：NextYear("2019-01-30T01:00:00+08:00")\n【Return】："2020"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisMonth",name:"ThisMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the current month of the specified date, the format is "MM", if no parameters are passed, the current month of the current system date will be returned by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：ThisMonth("2019-01-30T01:00:00+08:00")\n【Return】："1"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastMonth",name:"LastMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the previous month of the specified date, the format is "MM", if no parameters are passed, the default returns the previous month of the current system date\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastMonth("2019-02-30 01:00:00")\n【Return】："1"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextMonth",name:"NextMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the next month of the specified date, the format is "MM", if no parameter is passed, the next month of the current system date will be returned by default\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：NextMonth("2019-01-30T01:00:00+08:00")\n【Return】："2"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisWeek",name:"ThisWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the week of the specified date in the current year, in the form of "ww". If no parameter is passed, the default will return the current system date in the first week of the year. Note that if the date at the end of December is the same as January If the 1st falls in the same week, return to the first week\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：ThisWeek("2019-01-30T01:00:00+08:00")\n【Return】："5"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastWeek",name:"LastWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last week of the specified date, the format is "ww", if no parameter is passed, it will default to the last week of the current system date. Note that if the specified date is in the first week of this year, the last week will be the last week of last year\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastWeek("2019-01-30T01:00:00+08:00")\n【Return】："4"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextWeek",name:"NextWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the next week of the specified date, the format is "ww". If no parameter is passed, the next week of the current system date will be returned by default. Note that if the specified date is in the last week of the year, the next week will be 1\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：NextWeek("2019-01-30T01:00:00+08:00")\n【Return】："6"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DayOfWeek",name:"DayOfWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the specified date is the day of the week of the current week, the format is "n", if no parameter is passed, the default return current system date is the day of the week of the week. Note that it returns not the English abbreviation, but the number form. According to Chinese custom, Monday is the first day of the week, Return is 1, Sunday is the end of the week, and Return is 7\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：DayOfWeek("2019-01-30T01:00:00+08:00")\n【Return】："3"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfWeek",name:"FirstDayOfWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Return the first day of the week of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the first day of the week of the current system date will be returned by default. According to Chinese custom, Monday is the first day of the week, and Sunday is the last day of the week\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfWeek("2019-01-30T01:00:00+08:00")\n【Return】："2019-01-28"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfWeek",name:"LastDayOfWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the week of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the first day of the week of the current system date will be returned by default. According to Chinese custom, Monday is the first day of the week, and Sunday is the last day of the week\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfWeek("2019-01-30T01:00:00+08:00")\n【Return】："2019-02-03"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastWeek",name:"FirstDayOfLastWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the last week of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the first day of the last week of the current system date will be returned by default. According to Chinese custom, Monday is the first day of the week, and Sunday is the last day of the week\n【date】: date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfLastWeek("2019-01-30T01:00:00+08:00")\n【Return】："2019-01-21"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastWeek",name:"LastDayOfLastWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the last week of the specified date in the format "yyyy-MM-dd". If no parameters are passed, it will default to the last day of the last week of the current system date. According to Chinese custom, Monday is the first day of the week, and Sunday is the last day of the week\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfLastWeek("2019-01-30T01:00:00+08:00")\n【Return】："2019-01-27"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextWeek",name:"FirstDayOfNextWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the next week of the specified date in the format "yyyy-MM-dd". If no parameters are passed, it will default to the first day of the next week of the current system date. According to Chinese custom, Monday is the first day of the week, and Sunday is the last day of the week\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfNextWeek("2019-01-30T01:00:00+08:00")\n【Return】："2019-02-04"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextWeek",name:"LastDayOfNextWeek",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the next week of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the default returns the last day of the next week of the current system date. According to Chinese custom, Monday is the first day of the week, and Sunday is the last day of the week\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfNextWeek("2019-01-30T01:00:00+08:00")\n【Return】："2019-02-10"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfMonth",name:"FirstDayOfMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the month of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the first day of the month of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfMonth("2019-01-30T01:00:00+08:00")\n【Return】："2019-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfMonth",name:"LastDayOfMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the month of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the last day of the month of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfMonth("2019-01-30T01:00:00+08:00")\n【Return】："2019-01-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastMonth",name:"FirstDayOfLastMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the previous month of the specified date, in the format "yyyy-MM-dd". If no parameters are passed, the first day of the previous month of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfLastMonth("2019-01-30T01:00:00+08:00")\n【Return】："2018-12-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastMonth",name:"LastDayOfLastMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the previous month of the specified date, the format is "yyyy-MM-dd", if no parameters are passed, the default returns the last day of the previous month of the current system date.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfLastMonth("2019-01-30T01:00:00+08:00")\n【Return】："2018-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextMonth",name:"FirstDayOfNextMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the next month of the specified date in the format "yyyy-MM-dd". If no parameters are passed, it will default to the first day of the next month of the current system date.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfNextMonth("2019-01-30T01:00:00+08:00")\n【Return】："2019-02-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextMonth",name:"LastDayOfNextMonth",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the next month of the specified date in the format "yyyy-MM-dd". If no parameters are passed, it will default to the last day of the next month of the current system date.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfNextMonth("2019-01-30T01:00:00+08:00")\n【Return】："2019-02-28"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfYear",name:"FirstDayOfYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the current year of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the first day of the current year of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfYear("2019-01-30T01:00:00+08:00")\n【Return】："2019-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfYear",name:"LastDayOfYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the current year of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the last day of the current year of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfYear("2019-01-30T01:00:00+08:00")\n【Return】："2019-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastYear",name:"FirstDayOfLastYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the previous year of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the first day of the previous year of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfLastYear("2019-01-30T01:00:00+08:00")\n【Return】："2018-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastYear",name:"LastDayOfLastYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the previous year of the specified date in the format "yyyy-MM-dd". If no parameters are passed, the last day of the previous year of the current system date will be returned by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfLastYear("2019-01-30T01:00:00+08:00")\n【Return】："2018-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextYear",name:"FirstDayOfNextYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the first day of the next year of the specified date in the format "yyyy-MM-dd". If no parameters are passed, it will return the first day of the next year of the current system date by default.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：FirstDayOfNextYear("2019-01-30T01:00:00+08:00")\n【Return】："2020-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextYear",name:"LastDayOfNextYear",params:[{key:"date",name:"date",type:"string"}],description:'【Function】：Returns the last day of the next year of the specified date in the format "yyyy-MM-dd". If no parameters are passed, it will default to the last day of the next year of the current system date.\n【date】：date time\n【Return Type】：String(System.String)\n【Example】：LastDayOfNextYear("2019-01-30T01:00:00+08:00")\n【Return】："2020-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:"DefaultFunction"},{key:"GetDate",name:"GetDate",params:[{key:"format",name:"format",type:"string"},{key:"date",name:"date",type:"string"}],description:'【Function】：Return the date in the specified format. If no parameters are passed, it will return the date in the specified format of the current system date by default.\n【format】：格式化串\n【date】：date time\n【Return Type】：String(System.String)\n\tDD：Today\tLD：Yesterday\tND：Tomorrow\n\tYY：This year\tLY：Last year\tNY：Next year\n\tMM：This month\tLM：Last month\tNM：Next month\n\tWD：Day of the week\n\tWW：This week\tLW：Last week\tNW：Next week\n\tFDW：First day of this week\tLDW：End of this week\n\tFDLW：First day of last week\tLDLW：End of the last week\n\tFDNW：First day of next week\tLDNW：End of next week\n\tFDM：First day of this month\tLDM：End of this month\n\tFDLM：First day of last month\tLDLM：End of last month\n\tFDNM：First day of next month\tLDNM：End of next month\n\tFDY：First day of this year\tLDY：nd of this year\n\tFDLY：First day of last year\tLDLY：End of last year\n\tFDNY：First day of next year\tLDNY：End of next year\n【Example】：GetDate("LD","2019-01-30T01:00:00+08:00")\n【Return】："2019-01-29"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ToStringX",name:"ToStringX",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a string\n【obj】：Object to be converted\n【Return Type】：String(System.String)\n【Example】：ToStringX(123)\n【Return】："123"',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDateTime",name:"ToDateTime",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into date time\n【obj】：Object to be converted\n【Return Type】：OffsetDateTime(System.OffsetDateTime)\n【Example】：ToDateTime("2019-01-30T10:00:00+08:00")\n【Return】: 2019-01-30T10:00+08:00',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToBoolean",name:"ToBoolean",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object value into an equivalent boolean value\n【obj】：Object to be converted\n【Return Type】：Boolean(System.Boolean)\n【Example】：ToBoolean("True")\n【Return】：true',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDecimal",name:"ToDecimal",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a decimal value\n【obj】：Object to be converted\n【Return Type】：BigDecimal(System.BigDecimal)\n【Example】：ToDecimal("40.23")\n【Return】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToBigDecimal",name:"ToBigDecimal",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a BigDecimal value\n【obj】：Object to be converted\n【Return Type】：BigDecimal(System.BigDecimal)\n【Example】：ToBigDecimal("40.23")\n【Return】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToCustomBigDecimal",name:"ToCustomBigDecimal",params:[{key:"obj",name:"obj",type:"object"},{key:"number",name:"number",type:"int"}],description:'【Function】：Convert the specified object into a decimal value of the specified precision\n【obj】：Object to be converted\n【number】：Decimal places\n【Return Type】：BigDecimal(System.BigDecimal)\n【Example】：ToCustomBigDecimal("40.2,2")\n【Return】：40.20',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDouble",name:"ToDouble",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a double value\n【obj】：Object to be converted\n【Return Type】：Double(System.Double)\n【Example】：ToDouble("40.23")\n【Return】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToSingle",name:"ToSingle",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a single value\n【obj】：Object to be converted\n【Return Type】：Float(System.Float)\n【Example】：ToSingle("40.23")\n【Return】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToFloat",name:"ToFloat",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a float value\n【obj】：Object to be converted\n【Return Type】：Float(System.Float)\n【Example】：ToFloat("40.23")\n【Return】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToByte",name:"ToByte",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a byte\n【obj】：Object to be converted\n【Return Type】：Byte(System.Byte)\n【Example】：ToByte("10")\n【Return】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToInt16",name:"ToInt16",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a Int16\n【obj】：Object to be converted\n【Return Type】：Int16(System.Int16)\n【Example】：ToInt16("10")\n【Return】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToInt32",name:"ToInt32",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into a Int32\n【obj】：Object to be converted\n【Return Type】：Int32(System.Int32)\n【Example】：ToInt32("10")\n【Return】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToChineseMoney",name:"ToChineseMoney",params:[{key:"obj",name:"obj",type:"object"}],description:'【Function】：Convert the specified object into Chinese uppercase amount\n【obj】：Object to be converted\n【Return Type】：String(System.String)\n【Example】：ToChineseMoney(40.23)\n【Return】："肆拾元零贰角叁分"',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"GetSessionValue",name:"GetSessionValue",params:[{key:"name",name:"name",type:"string"}],description:"【Function】：Get the value of the user session variable\n【name】：the user session variable\n【Return Type】：Object(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetContextParameter",name:"GetContextParameter",params:[{key:"name",name:"name",type:"string"}],description:"【Function】：Get the value of the context variable\n【name】：the context variable\n【Return Type】：Object(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"getComputeJsonData",name:"getComputeJsonData",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:"【Function】：Get the JSON string according to the chain attribute name\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【Return Type】：Object(System.String)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetComputeJsonData",name:"GetComputeJsonData",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"},{key:"propertyName",name:"propertyName",type:"string"}],description:"【Function】：Get the JSON string according to the chain attribute name\n【chainedPropName】chainedPropName\n【propertyName】propertyName\n【Return Type】：Object(System.String)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetInjectedEntity",name:"GetInjectedEntity",params:[{key:"name",name:"name",type:"string"}],description:"【Function】：Get the object injected at runtime\n【name】Injection name\n【Return Type】：Object(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetChainedPropertyValue",name:"GetChainedPropertyValue",params:[{key:"chainedPropName",name:"chainedPropName",type:"string"}],description:"【Function】：Get the attribute value based on the chained attribute name\n【chainedPropName】chainedPropName\n【Return Type】：Object(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"abs",name:"abs",params:[{key:"value",name:"value",type:"double"}],description:"【Function】：Returns the absolute value of a number\n【value】：value\n【Return Type】：Double(System.Double)\n【Example】：abs(-1.5)\n【Return】：1.5",type:"Math",keyFront:"Math",className:""},{key:"Round",name:"Round",params:[{key:"value1",name:"value",type:"double"},{key:"value2",name:"Decimal",type:"int32"}],description:"【Function】：Rounds the number to the specified precision\n【value1】：value \n【value2】：Round off decimal places\n【Return Type】：Double(System.Double)\n【Example】：\nRound(1.52,1)\n【Return】：1.5",type:"Math",keyFront:"DefaultFunction",className:""},{key:"round",name:"round",params:[{key:"value1",name:"value",type:"double"},{key:"value2",name:"Decimal",type:"int32"}],description:"【Function】：Rounds the number to the specified precision\n【value1】：value \n【value2】：Round off decimal places\n【Return Type】：Double(System.Double)\n【Example】：round(1.52,1)\n【Return】：1.5",type:"Math",keyFront:"DefaultFunction",className:""},{key:"random",name:"random",params:[],description:"【Function】：Randomly generate a pseudo-random value greater than or equal to 0.0 and less than 1.0\n【Return Type】：Double(System.Double)\n【Example】：random()\n【Return】：0.624508349393",type:"Math",keyFront:"Math",className:""},{key:"sin",name:"sin",params:[{key:"value",name:"value",type:"double"}],description:"【Function】：Returns the sine of a number\n【value】：value\n【Return Type】：Double(System.Double)\nAn angle expressed in radians\n【Example】：sin(1)\n【Return】：0.84187098",type:"Math",keyFront:"Math",className:""},{key:"cos",name:"cos",params:[{key:"value",name:"value",type:"double"}],description:"【Function】：Returns the cosine of a number\n【value】：value\n【Return Type】：Double(System.Double)\nAn angle expressed in radians\n【Example】：cos(3)\n【Return】：-0.9899924",type:"Math",keyFront:"Math",className:""},{key:"ceil",name:"ceil",params:[{key:"value",name:"value",type:"double"}],description:"【Function】：Returns the integer that is greater than or equal to the function parameter and closest to it\n【value】：value\n【Return Type】：Int32(System.Int32)\n【Example】：ceil(3.2)\n【Return】：4",type:"Math",keyFront:"Math",className:""},{key:"floor",name:"floor",params:[{key:"value",name:"value",type:"double"}],description:"【Function】：Returns the integer that is less than or equal to the function parameter and closest to it\n【value】：value\n【Return Type】：Int32(System.Int32)\n【Example】：floor(3.2)\n【Return】：3",type:"Math",keyFront:"Math",className:""},{key:"BankerRound",name:"BankerRound",params:[{key:"value1",name:"value",type:"double"},{key:"value2",name:"小数位数",type:"int32"}],description:"【Function】：使用银行家舍入标准，把指定数字舍入为最接近的数字\n【value1】：要舍入的数值\n【value2】：要舍入的小数位数\n【Return Type】：数值(System.Double)\n【Example】：BankerRound(36.124,2)\n【Return】：36.12",type:"Math",keyFront:"Math",className:""},{key:"bankerRound",name:"bankerRound",params:[{key:"value1",name:"value",type:"double"},{key:"value2",name:"Decimal",type:"int32"}],description:"【Function】：Use the banker's rounding standard to round the specified number to the nearest number\n【value1】：The value to be rounded\n【value2】：Number of decimal places to round\n【Return Type】：Double(System.Double)\n【Example】：bankerRound(36.124,2)\n【Return】：36.12",type:"Math",keyFront:"DefaultFunction",className:""}],"zh-CHT":[{key:"if",name:"if()\n{\n\n}",params:[],description:"if : 判斷條件",type:"Advanced",keyFront:"",className:""},{key:"if else",name:"if()\n{\n\n}\nelse\n{\n\n}",params:[],description:"if else : 判斷條件",type:"Advanced",keyFront:"",className:""},{key:"for",name:"for(;;)\n{\n\n}",params:[],description:"for循環",type:"Advanced",keyFront:"",className:""},{key:"return",name:"return ;",params:[],description:"返回操作",type:"Advanced",keyFront:"",className:""},{key:"var",name:"var ",params:[],description:"變量定義",type:"Advanced",keyFront:"",className:""},{key:"true",name:"true ",params:[],description:"正確",type:"Advanced",keyFront:"",className:""},{key:"false",name:"false ",params:[],description:"錯誤",type:"Advanced",keyFront:"",className:""},{key:"StringSubstring",name:"取子字符串",params:[{key:"original",name:"源字符串",type:"string"},{key:"start",name:"起始位置",type:"int"},{key:"length",name:"長度",type:"int"}],description:'【功能】：在源字符串中檢索子字符串，子字符串從指定的字符位置開始且具有指定的長度\n【original】：源字符串\n【start】：起始位置(從0開始)\n【length】：長度\n【返回值類型】：字符串(System.String)\n【示例】：StringSubstring("ABCDEFG",2,3)\n【返回值】："CDE"',type:"String",keyFront:"DefaultFunction",className:""},{key:"SubString",name:"取子字符串",params:[{key:"original",name:"源字符串",type:"string"},{key:"start",name:"起始位置",type:"int"},{key:"length",name:"長度",type:"int"}],description:'【功能】：在源字符串中檢索子字符串，子字符串從指定的字符位置開始且具有指定的長度\n【original】：源字符串\n【start】：起始位置(從0開始)\n【length】：長度\n【返回值類型】：字符串(System.String)\n【示例】：SubString("ABCDEFG",2,3)\n【返回值】："CDE"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringLength",name:"取字符串長度",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：獲取指定字符串的長度\n【original】：源字符串\n【返回值類型】：數值(System.Int32)\n【示例】：StringLength("語義化表達式")\n 【返回值】：6',type:"String",keyFront:"DefaultFunction",className:""},{key:"Length",name:"取字符串長度",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：獲取指定字符串的長度\n【original】：源字符串\n【返回值類型】：數值(System.Int32)\n【示例】：Length("語義化表達式")\n 【返回值】：6',type:"String",keyFront:"DefaultFunction",className:""},{key:"Contains",name:"是否包含",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：判斷源字符串中是否包含目標字符串\n【original】：源字符串\n【target】：目標字符串\n【返回值類型】：System.Boolean\n【示例】：Contains (salesorder.code,"表達式")\n【返回值】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"StartsWith",name:"開頭是",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：判斷源字符串是否以目標字符串開頭\n【original】：源字符串\n【target】：目標字符串\n【返回值類型】：System.Boolean\n【示例】：StartsWith (salesorder.code,"子單位")\n【返回值】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"EndsWith",name:"結尾是",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：判斷源字符串是否以目標字符串結尾\n【original】：源字符串\n【target】：目標字符串\n【返回值類型】：System.Boolean\n【示例】：EndsWith (salesorder.code,"子單位")\n【返回值】：true',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringReplace",name:"字符串替換",params:[{key:"original",name:"源字符串",type:"string"},{key:"oldValue",name:"被替換值",type:"string"},{key:"newValue",name:"替換值",type:"string"}],description:'【功能】：將源字符串中的"被替換值"替換為"替換值"\n【original】：源字符串\n【oldValue】：被替換值\n【newValue】：替換值\n【返回值類型】：字符串(System.String)\n【示例】：StringReplace("123412","12","00")\n【返回值】："003400"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Replace",name:"字符串替換",params:[{key:"original",name:"源字符串",type:"string"},{key:"oldValue",name:"被替換值",type:"string"},{key:"newValue",name:"替換值",type:"string"}],description:'【功能】：將源字符串中的"被替換值"替換為"替換值"\n【original】：源字符串\n【oldValue】：被替換值\n【newValue】：替換值\n【返回值類型】：字符串(System.String)\n【示例】：Replace("123412","12","00")\n【返回值】："003400"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringToUpper",name:"轉大寫",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：將源字符串轉換為大寫\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：StringToUpper("abc")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"ToUpper",name:"轉大寫",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：將源字符串轉換為大寫\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：ToUpper("abc")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringToLower",name:"轉小寫",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：將源字符串轉換為小寫\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：StringToLower("ABC")\n【返回值】："abc"',type:"String",keyFront:"DefaultFunction",className:""},{key:"ToLower",name:"轉小寫",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：將源字符串轉換為小寫\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：ToLower("ABC")\n【返回值】："abc"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringIndexOf",name:"獲取首個匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：在源字符串中，檢索目標字符串，找到第一個匹配的字符串後，返回其索引位置(從0開始)。如果未找到目標字符串，則返回-1，如果目標字符串為空串，返回0，如果原字符串為null，則返回-1\n【original】：源字符串\n【target】：目標字符串\n【返回值類型】：數值(System.Int32)\n【示例】：StringIndexOf("12001234012","01")\n【返回值】：3\n【示例】：StringIndexOf("12002323 ","34")\n【返回值】：-1\n【示例】：StringIndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"IndexOf",name:"獲取首個匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：在源字符串中，檢索目標字符串，找到第一個匹配的字符串後，返回其索引位置(從0開始)。如果未找到目標字符串，則返回-1，如果目標字符串為空串，返回0，如果原字符串為null，則返回-1\n【original】：源字符串\n【target】：目標字符串\n【返回值類型】：數值(System.Int32)\n【示例】：IndexOf("12001234012","01")\n【返回值】：3\n【示例】：IndexOf("12002323 ","34")\n【返回值】：-1\n【示例】：IndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringLastIndexOf",name:"獲取最後一個匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：在源字符串中，檢索目標字符串，找到最後一個匹配的字符串後，返回其索引位置(從0開始)。如果未找到目標字符串，則返回-1，如果目標字符串為空串，返回0，如果原字符串為null，則返回-1\n【original】：源字符串\n【value】：目標字符串\n【返回值類型】：數值(System.Int32)\n【示例】：StringLastIndexOf("12001234012","01")\n【返回值】：8\n【示例】：StringLastIndexOf("12002323 ","34")\n【返回值】：-1\n【示例】：StringLastIndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"LastIndexOf",name:"獲取最後一個匹配字符串的索引",params:[{key:"original",name:"源字符串",type:"string"},{key:"target",name:"目標字符串",type:"string"}],description:'【功能】：在源字符串中，檢索目標字符串，找到最後一個匹配的字符串後，返回其索引位置(從0開始)。如果未找到目標字符串，則返回-1，如果目標字符串為空串，返回0，如果原字符串為null，則返回-1\n【original】：源字符串\n【value】：目標字符串\n【返回值類型】：數值(System.Int32)\n【示例】：LastIndexOf("12001234012","01")\n【返回值】：8\n【示例】：LastIndexOf("12002323 ","34")\n【返回值】：-1\n【示例】：LastIndexOf("120011","")\n【返回值】：0',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrimStart",name:"刪除頭部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：刪除源字符串的頭部空格\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：StringTrimStart(" ABC")\n 【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"TrimStart",name:"刪除頭部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：刪除源字符串的頭部空格\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：TrimStart(" ABC")\n 【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrimEnd",name:"刪除尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：刪除源字符串的尾部空格\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：StringTrimEnd("ABC ")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"TrimEnd",name:"刪除尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：刪除源字符串的尾部空格\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：TrimEnd("ABC ")\n【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringTrim",name:"刪除頭尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：刪除源字符串的頭尾部空格\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：StringTrim(" ABC ")\n 【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Trim",name:"刪除頭尾部空格",params:[{key:"original",name:"源字符串",type:"string"}],description:'【功能】：刪除源字符串的頭尾部空格\n【original】：源字符串\n【返回值類型】：字符串(System.String)\n【示例】：Trim(" ABC ")\n 【返回值】："ABC"',type:"String",keyFront:"DefaultFunction",className:""},{key:"CreateGuid",name:"唯一標識符",params:[],description:'【功能】：獲取唯一標識符Guid\n【返回值類型】：字符串(System.String)\n【示例】：CreateGuid()\n【返回值】："7722A793-14DF-49CD-B7E7-DF4987YYD2 "',type:"String",keyFront:"DefaultFunction",className:""},{key:"StringAdd",name:"字符串相加",params:[{key:"firstStr",name:"第一個字符串",type:"string"},{key:"secondStr",name:"第二個字符串",type:"string"}],description:'【功能】：將若干字符串拼接成一個新字符串，最多支持10個字符串拼接，最少2個；編輯器中默認插入兩個，多個字符串可手動添加\n【返回值類型】：字符串(System.String)\n【示例】：StringAdd("Hello","World")\n【返回值】："HelloWord"',type:"String",keyFront:"DefaultFunction",className:""},{key:"Add",name:"字符串相加",params:[{key:"firstStr",name:"第一個字符串",type:"string"},{key:"secondStr",name:"第二個字符串",type:"string"}],description:'【功能】：將若干字符串拼接成一個新字符串，最多支持10個字符串拼接，最少2個；編輯器中默認插入兩個，多個字符串可手動添加\n【返回值類型】：字符串(System.String)\n【示例】：Add("Hello","World")\n【返回值】："HelloWord"',type:"String",keyFront:"DefaultFunction",className:""},{key:"SumByProp",name:"按屬性求和",params:[{key:"chainedPropName",name:"實體集合屬性名",type:"string"},{key:"propertyName",name:"類型屬性名",type:"string"}],description:'【功能】：統計某一屬性的和\n【chainedPropName】：對應實體集合的屬性名,鍊式形式組織在一起的屬性名,例如:Order.OrderItems\n【propertyName】：類型屬性名;\n 【返回值類型】：數值(System.Double)\n【示例】：SumByProp("Order.OrderItems","Quantity")"',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"CountByProp",name:"列行數",params:[{key:"chainedPropName",name:"實體集合屬性名",type:"string"},{key:"propertyName",name:"類型屬性名",type:"string"}],description:'【功能】：統計指定字段所在表的記錄數\n【chainedPropName】：對應實體集合的屬性名,鍊式形式組織在一起的屬性名,例如：Order.OrderItems\n【propertyName】：類型屬性名 n【返回值類型】：數值(System.Int32);\n【示例】：CountByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"AvgByProp",name:"列平均值",params:[{key:"chainedPropName",name:"實體集合屬性名",type:"string"},{key:"propertyName",name:"類型屬性名",type:"string"}],description:'【功能】：統計某一數值列的平均值\n【chainedPropName】：對應實體集合的屬性名,鍊式形式組織在一起的屬性名,例如:Order.OrderItems\n【propertyName】：類型屬性名 n【返回值類型】：數值(System.Double)\n【示例】：AvgByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"MaxByProp",name:"列最大值",params:[{key:"chainedPropName",name:"實體集合屬性名",type:"string"},{key:"propertyName",name:"類型屬性名",type:"string"}],description:'【功能】：統計某一數值列的最大值\n【chainedPropName】：對應實體集合的屬性名,鍊式形式組織在一起的屬性名,例如:Order.OrderItems\n【propertyName】：類型屬性名\n 【返回值類型】：數值(System.Double)\n【示例】：MaxByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"MinByProp",name:"列最小值",params:[{key:"chainedPropName",name:"實體集合屬性名",type:"string"},{key:"propertyName",name:"類型屬性名",type:"string"}],description:'【功能】：統計某一數值列的最小值\n【chainedPropName】：對應實體集合的屬性名,鍊式形式組織在一起的屬性名,例如:Order.OrderItems\n【propertyName】：類型屬性名 n【返回值類型】：數值(System.Double)\n【示例】：MinByProp("Order.OrderItems","Quantity")',type:"Aggregate",keyFront:"DefaultFunction",className:""},{key:"IsNull",name:"是空值",params:[{key:"obj",name:"檢測對象",type:"object"}],description:'【功能】：判斷指定的對像是否為空值(null)\n【obj】：要檢測的對象\n【返回值類型】：布爾值(System.Boolean)\n【示例】：IsNull("語義化表達式")\n【返回值】：False',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNullOrWhiteSpace",name:"是空串",params:[{key:"obj",name:"待判斷字符串",type:"string"}],description:'【功能】：判斷指定的字符串是否為null、空還是僅有空格組成\n【obj】：要判斷的字符串\n【返回值類型】：布爾值(System.Boolean)\n【示例】 ：IsNullOrWhiteSpace("語義化表達式")\n【返回值】：False\n【示例】：IsNullOrWhiteSpace(null)\n【返回值】：True\n【示例】：\nIsNullOrWhiteSpace(" ")【返回值】：True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNaN",name:"非數字",params:[{key:"obj",name:"檢測對象",type:"object"}],description:'【功能】：判斷指定的對像是否可以轉換成數字(System.Double)\n【obj】：要檢測的對象\n【返回值類型】：布爾值(System.Boolean)\n【示例】：IsNaN ("語義化表達式")【返回值】：True\n【示例】：IsNaN(12.3)【返回值】：False\n【示例】：\nIsNaN("123")【返回值】：False',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsNumber",name:"是數字",params:[{key:"obj",name:"檢測對象",type:"object"}],description:'【功能】：判斷指定的對像是否可以轉換成數字(System.Double)\n【obj】：要檢測的對象\n【返回值類型】：布爾值(System.Boolean)\n【示例】：IsNumber ("語義化表達式")【返回值】：False\n【示例】：IsNumber(12.3)【返回值】：True\n【示例】：\nIsNumber("123")【返回值】： True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"IsExistRecord",name:"有無等於匹配字符",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"},{key:"match",name:"匹配值",type:"string"}],description:'【功能】：根據鍊式名稱判斷該表的指定字段集合中是否存在等於匹配字符的值\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【match】匹配值\n【返回值類型】：對象(System.Boolean)\n【示例】：IsExistRecord("salesorder.items","code","lc")\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListGreaterThan",name:"有無大於匹配字符",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"},{key:"match",name:"匹配值",type:"double"}],description:'【功能】：根據鍊式名稱判斷該表的指定字段集合中是否存在大於匹配字符的值\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【match】匹配值\n【返回值類型】：對象(System.Boolean)\n【示例】：ListGreaterThan("salesorder.items","num",100)\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListLessThan",name:"有無小於匹配字符",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"},{key:"match",name:"匹配值",type:"double"}],description:'【功能】：根據鍊式名稱判斷該表的指定字段集合中是否存在小於匹配字符的值\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【match】匹配值\n【返回值類型】：對象(System.Boolean)\n【示例】：ListLessThan("salesorder.items","num",100)\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListStartWith",name:"有無開頭是匹配字符",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"},{key:"match",name:"匹配值",type:"string"}],description:'【功能】：根據鍊式名稱判斷該表的指定字段集合中是否存在開頭是匹配字符的值\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【match】匹配值\n【返回值類型】：對象(System.Boolean)\n【示例】：ListStartWith("salesorder.items","code","lc")\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"ListEndWith",name:"有無結尾是匹配字符",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"},{key:"match",name:"匹配值",type:"string"}],description:'【功能】：根據鍊式名稱判斷該表的指定字段集合中是否存在結尾是匹配字符的值\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【match】匹配值\n【返回值類型】：對象(System.Boolean)\n【示例】：ListEndWith("salesorder.items","code","lc")\n【返回值】：False/True',type:"Estimate",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddDays",name:"增加指定天數",params:[{key:"date",name:"日期時間",type:"string"},{key:"value",name:"增加天數",type:"int"}],description:'【功能】：在指定的日期時間上增加指定的天數\n【date】：日期時間\n【value】：增加天數\n【返回值類型】：日期時間(System.DateTime)\n【示例】 ：DateTimeAddDays("2019-01-30T10:00:00+08:00",2)\n【返回值】:2019-02-01T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddYears",name:"增加指定年數",params:[{key:"date",name:"日期時間",type:"string"},{key:"value",name:"增加年數",type:"int"}],description:'【功能】：在指定的日期時間上增加指定的年數\n【date】：日期時間\n【value】：增加年數\n【返回值類型】：日期時間(System.DateTime)\n【示例】 ：DateTimeAddYears("2019-01-30T10:00:00+08:00",2)\n【返回值】:2021-01-30T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DateTimeAddMonths",name:"增加指定月數",params:[{key:"date",name:"日期時間",type:"string"},{key:"value",name:"增加月數",type:"int"}],description:'【功能】：在指定的日期時間上增加指定的月數\n【date】：日期時間\n【value】：增加月數\n【返回值類型】：日期時間(System.DateTime)\n【示例】：DateTimeAddMonths("2019-01-30T10:00:00+08:00",1)\n【返回值】:2019-02-28T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetFirstDayOfMonth",name:"獲取指定日期時間所在月第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：獲取指定日期時間值所在月的第一天的日期\n【date】：日期時間\n【返回值類型】：日期時間(System.DateTime)\n【示例】：GetFirstDayOfMonth("2019 -01-30T10:00:00+08:00")\n【返回值】:2019-01-01T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetLastDayOfMonth",name:"獲取指定日期時間所在月最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：獲取指定日期時間值所在月的最後一天的日期\n【date】：日期時間\n【返回值類型】：日期時間(System.DateTime)\n【示例】：GetLastDayOfMonth("2019- 01-30T10:00:00+08:00")\n【返回值】:2019-01-31T10:00+08:00',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"GetDateTimeNow",name:"獲取當前日期時間",params:[],description:"【功能】：獲取當前的日期時間\n【返回值類型】：日期時間(System.DateTime)\n【示例】：GetDateTimeNow()\n【返回值】:2019-01-30T12:00:00.000+ 08:00",type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"CompareDate",name:"比較兩個時間",params:[{key:"str1",name:"日期時間1",type:"string"},{key:"str2",name:"日期時間2",type:"string"}],description:'【功能】：比較兩個時間值，並返回一個值，此值表示第一個時間是早於、等於還是晚於第二個時間的整數\n【str1】：日期時間1\n【str2】 ：日期時間2\n【返回值類型】：數值(System.int32)\n\t日期1早於日期2，返回-1\n\t日期1等於日期2，返回0\n\t日期1晚於日期2，返回1\n【示例】：CompareDate("2019-01-30T10:00:00+08:00","2019-02-01T10:00:00+08:00")\n【返回值】：-1',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FormatDate",name:"格式化當前日期",params:[{key:"format",name:"格式串",type:"string"}],description:'【功能】：使用指定的格式將當前日期時間值轉換為其等效的字符串表示形式\n【format】：格式串\n【返回值類型】：字符串(System.String)\n【示例】：FormatDate("yyyy-MM-dd HH:mm:ss")\n【返回值】："2019-01-30 01:00:00"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FormatDefineDate",name:"格式化指定日期",params:[{key:"format",name:"格式串",type:"string"},{key:"date",name:"日期時間",type:"string"}],description:'【功能】：使用指定的格式將指定的日期時間值轉換為其等效的字符串表示形式\n【format】：格式串\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FormatDefineDate("yyyy-MM-dd HH:mm:ss","2019-01-30 01:00:00")\n【返回值】："2019-01 -30 01:00:00"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Today",name:"今天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的今天，格式為"yyyy-MM-dd"形式，如果不傳遞參數，則默認返回當前系統日期的今天\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：Today("2019-01-30T10:00:00+08:00")\n【返回值】："2019-01-30"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Yesterday",name:"昨天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的昨天，格式為"yyyy-MM-dd"形式，如果不傳遞參數，則默認返回當前系統日期的昨天\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：Yesterday("2019-01-30T10:00:00+08:00")\n【返回值】："2019-01-29"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"Tomorrow",name:"明天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的明天，格式為"yyyy-MM-dd"形式，如果不傳遞參數，則默認返回當前系統日期的明天\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：Tomorrow("2019-01-30T10:00:00+08:00")\n【返回值】："2019-01-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisYear",name:"本年",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本年，格式為"yyyy"形式，如果不傳遞參數，則默認返回當前系統日期的本年\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：ThisYear("2019-01-30T10:00:00+08:00")\n【返回值】："2019"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastYear",name:"去年",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的去年，格式為"yyyy"形式，如果不傳遞參數，則默認返回當前系統日期的去年\n【date】：日期時間\n【返回值類型】：字符串(System .String)\n【示例】：LastYear("2019-01-30T10:00:00+08:00")\n【返回值】："2018"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextYear",name:"明年",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的明年，格式為"yyyy"形式，如果不傳遞參數，則默認返回當前系統日期的明年\n【date】：日期時間\n【返回值類型】：字符串(System .String)\n【示例】：NextYear("2019-01-30T01:00:00+08:00")\n【返回值】："2020"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisMonth",name:"本月",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本月，格式為"MM"形式，如果不傳遞參數，則默認返回當前系統日期的本月\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：ThisMonth("2019-01-30T01:00:00+08:00")\n【返回值】："1"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastMonth",name:"上月",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上月，格式為"MM"形式，如果不傳遞參數，則默認返回當前系統日期的上月\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastMonth("2019-02-30 01:00:00")\n【返回值】："1"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextMonth",name:"下月",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下月，格式為"MM"形式，如果不傳遞參數，則默認返回當前系統日期的下月\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：NextMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ThisWeek",name:"本週",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期在本年的第幾週，格式為"ww"形式，如果不傳遞參數，則默認返回當前系統日期在本年的第幾週，注意如果12月底的日期與下一年的1月1日在同一星期，則返回第一周\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：ThisWeek("2019-01 -30T01:00:00+08:00")\n【返回值】："5"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastWeek",name:"上週",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上週，格式為"ww"形式，如果不傳遞參數，則默認返回當前系統日期的上週，注意如果指定日期在今年第1週，則上週為去年的最後一周\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastWeek("2019-01-30T01:00:00+08:00")\n【返回值】："4"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"NextWeek",name:"下週",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下週，格式為"ww"形式，如果不傳遞參數，則默認返回當前系統日期的下週，注意如果指定日期在今年最後一周，則下週為1\n【 date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：NextWeek("2019-01-30T01:00:00+08:00")\n【返回值】 ："6"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"DayOfWeek",name:"星期幾",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期是本週的星期幾，格式為"n"，如果不傳遞參數，則默認返回當前系統日期是本週的星期幾，注意不是返回英文縮寫，而是返回數字形式。按照中國習慣，星期一為每週首日，返回值為1，星期日為每週尾日，返回值為7\n【date】：日期時間\n【返回值類型】：字符串(System.String )\n【示例】：DayOfWeek("2019-01-30T01:00:00+08:00")\n【返回值】："3"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfWeek",name:"本週第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本週第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的本週第一天。按照中國習慣，星期一為每週首日，星期日為每週尾日\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfWeek(" 2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-28"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfWeek",name:"本週最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本週最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的本週第一天。按照中國習慣，星期一為每週首日，星期日為每週尾日\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfWeek(" 2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-03"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastWeek",name:"上週第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上週第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的上週第一天。按照中國習慣，星期一為每週首日，星期日為每週尾日\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfLastWeek(" 2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-21"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastWeek",name:"上週最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上週最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的上週最後一天。按照中國習慣，星期一為每週首日，星期日為每週尾日\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfLastWeek(" 2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-27"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextWeek",name:"下週第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下週第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的下週第一天。按照中國習慣，星期一為每週首日，星期日為每週尾日\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfNextWeek(" 2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-04"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextWeek",name:"下週最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下週最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的下週最後一天。按照中國習慣，星期一為每週首日，星期日為每週尾日\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfNextWeek(" 2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-10"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfMonth",name:"本月第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本月第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的本月第一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfMonth",name:"本月最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本月最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的本月最後一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastMonth",name:"上月第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上月第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的上月第一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfLastMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2018-12-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastMonth",name:"上月最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上月最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的上月最後一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfLastMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2018-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextMonth",name:"下月第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下月第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的下月第一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfNextMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextMonth",name:"下月最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下月最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的下月最後一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfNextMonth("2019-01-30T01:00:00+08:00")\n【返回值】："2019-02-28"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfYear",name:"本年第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本年第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的本年第一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfYear("2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfYear",name:"本年最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的本年最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的本年最後一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfYear("2019-01-30T01:00:00+08:00")\n【返回值】："2019-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfLastYear",name:"上年第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上年第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的上年第一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfLastYear("2019-01-30T01:00:00+08:00")\n【返回值】："2018-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfLastYear",name:"上年最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的上年最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的上年最後一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfLastYear("2019-01-30T01:00:00+08:00")\n【返回值】："2018-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"FirstDayOfNextYear",name:"下年第一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下年第一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的下年第一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：FirstDayOfNextYear("2019-01-30T01:00:00+08:00")\n【返回值】："2020-01-01"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"LastDayOfNextYear",name:"下年最後一天",params:[{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定日期的下年最後一天，格式為"yyyy-MM-dd"，如果不傳遞參數，則默認返回當前系統日期的下年最後一天。 \n【date】：日期時間\n【返回值類型】：字符串(System.String)\n【示例】：LastDayOfNextYear("2019-01-30T01:00:00+08:00")\n【返回值】："2020-12-31"',type:"DateTime",keyFront:"DefaultFunction",className:"DefaultFunction"},{key:"GetDate",name:"返回指定形式的日期",params:[{key:"format",name:"格式串",type:"string"},{key:"date",name:"日期時間",type:"string"}],description:'【功能】：返回指定形式的日期，如果不傳遞參數，則默認返回當前系統日期的指定形式日期。 \n【format】：格式化串\n【date】：日期時間\n【返回值類型】：字符串(System.String)\n\tDD：今天\tLD：昨天\tND：明天\n\tYY ：本年\tLY：上年\tNY：下年\n\tMM：本月\tLM：上月\tNM：下月\n\tWD：星期幾\n\tWW：本週\tLW：上週 tNW：下週\n\tFDW：本週首日\tLDW：本週尾日\n\tFDLW：上週首日\tLDLW：上週尾日\n\tFDNW：下週首日\tLDNW：下週尾日\n\tFDM：本月首日\tLDM：本月尾日\n\tFDLM：上月首日\tLDLM：上月尾日\n\tFDNM：下月首日\tLDNM：下月尾日\n\tFDY：本年首日\tLDY：本年尾日\n\tFDLY：上年首日\tLDLY：上年尾日\n\tFDNY：下年首日\tLDNY：下年尾日\n 【示例】：GetDate("LD","2019-01-30T01:00:00+08:00")\n【返回值】："2019-01-29"',type:"DateTime",keyFront:"DefaultFunction",className:""},{key:"ToStringX",name:"轉字符串",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定的對象轉換成字符串\n【obj】：待轉換對象\n【返回值類型】：字符串(System.String)\n【示例】：ToStringX(123)\n【返回值】："123"',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDateTime",name:"轉日期時間",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定的對象轉換成日期時間\n【obj】：待轉換對象\n【返回值類型】：日期時間(System.OffsetDateTime)\n【示例】：ToDateTime("2019-01-30T10 :00:00+08:00")\n【返回值】: 2019-01-30T10:00+08:00',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToBoolean",name:"轉布爾值",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象值轉換成等效的布爾值\n【obj】：待轉換對象\n【返回值類型】：布爾值(System.Boolean)\n【示例】：ToBoolean("True" )\n【返回值】：true',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDecimal",name:"轉數值",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成十進制數值\n【obj】：待轉換對象\n【返回值類型】：十進制數值(System.BigDecimal)\n【示例】：ToDecimal("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToBigDecimal",name:"轉數值",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成十進制數值\n【obj】：待轉換對象\n【返回值類型】：十進制數值(System.BigDecimal)\n【示例】：ToBigDecimal("40.23")\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToCustomBigDecimal",name:"轉自定義精度數值",params:[{key:"obj",name:"轉換對象",type:"object"},{key:"number",name:"小數位數",type:"int"}],description:'【功能】：將指定對象轉換成十進制數值\n【obj】：待轉換對象\n【返回值類型】：十進制數值(System.BigDecimal)\n【示例】：ToBigDecimal("40.2,2")\n【返回值】：40.20',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToDouble",name:"轉雙精度浮點數",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成雙精度浮點數\n【obj】：待轉換對象\n【返回值類型】：雙精度浮點數(System.Double)\n【示例】：ToDouble("40.23" )\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToSingle",name:"轉單精度浮點數",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成單精度浮點數\n【obj】：待轉換對象\n【返回值類型】：單精度浮點數(System.Float)\n【示例】：ToSingle("40.23") \n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToFloat",name:"轉單精度浮點數",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成單精度浮點數\n【obj】：待轉換對象\n【返回值類型】：單精度浮點數(System.Float)\n【示例】：ToFloat("40.23" )\n【返回值】：40.23',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToByte",name:"轉8位無符號整數",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成8位無符號整數\n【obj】：待轉換對象\n【返回值類型】：8位無符號整數(System.Byte)\n【示例】：ToByte(" 10")\n【返回值】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToInt16",name:"轉16位有符號整數",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成16位有符號整數\n【obj】：待轉換對象\n【返回值類型】：16位有符號整數(System.Int16)\n【示例】：ToInt16(" 10")\n【返回值】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToInt32",name:"轉32位有符號整數",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成32位有符號整數\n【obj】：待轉換對象\n【返回值類型】：32位有符號整數(System.Int32)\n【示例】：ToInt32(" 10")\n【返回值】：10',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"ToChineseMoney",name:"轉中文大寫金額",params:[{key:"obj",name:"轉換對象",type:"object"}],description:'【功能】：將指定對象轉換成中文大寫金額\n【obj】：待轉換對象\n【返回值類型】：字符串(System.String)\n【示例】：ToChineseMoney(40.23)\n【返回值】："肆拾元零貳角叁分"',type:"Translate",keyFront:"DefaultFunction",className:""},{key:"GetSessionValue",name:"獲取會話變量的值",params:[{key:"name",name:"會話變量名",type:"string"}],description:"【功能】：獲取用戶會話變量的值\n【name】：會話變量名稱\n【返回值類型】：對象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetContextParameter",name:"獲取上下文變量的值",params:[{key:"name",name:"上下文變量名",type:"string"}],description:"【功能】：獲取上下文變量的值\n【name】：上下文變量名稱\n【返回值類型】：對象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"getComputeJsonData",name:"根據屬性名獲取JSON串",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"}],description:"【功能】：根據鍊式屬性名得到JSON串\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【返回值類型】：對象(System.String)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetComputeJsonData",name:"根據屬性名獲取JSON串",params:[{key:"chainedPropName",name:"鍊式名稱",type:"string"},{key:"propertyName",name:"屬性名",type:"string"}],description:"【功能】：根據鍊式屬性名得到JSON串\n【chainedPropName】鍊式名稱\n【propertyName】屬性名\n【返回值類型】：對象(System.String)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetInjectedEntity",name:"根據注入名獲獲取注入對象",params:[{key:"name",name:"注入名",type:"string"}],description:"【功能】：獲取運行時注入的對象\n【name】注入名\n【返回值類型】：對象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"GetChainedPropertyValue",name:"根據屬性名獲取屬性值",params:[{key:"chainedPropName",name:"鍊式名",type:"string"}],description:"【功能】：根據鍊式屬性名獲取屬性值\n【chainedPropName】鍊式名\n【返回值類型】：對象(System.Object)",type:"Analytical",keyFront:"DefaultFunction",className:""},{key:"abs",name:"絕對值",params:[{key:"value",name:"數值",type:"double"}],description:"【功能】：返回一個數值的絕對值\n【value】：計算數值\n【返回值類型】：數值(System.Double)\n【示例】：abs(-1.5)\n【返回值】： 1.5",type:"Math",keyFront:"Math",className:""},{key:"Round",name:"四捨五入",params:[{key:"value1",name:"數值",type:"double"},{key:"value2",name:"小數位數",type:"int32"}],description:"【功能】：把數四捨五入為指定精度的數值\n【value1】：數值\n【value2】：四捨五入小數位數\n【返回值類型】：數值(System.Double)\n【示例】： nRound(1.52,1)\n【返回值】：1.5",type:"Math",keyFront:"DefaultFunction",className:""},{key:"round",name:"四捨五入",params:[{key:"value1",name:"數值",type:"double"},{key:"value2",name:"小數位數",type:"int32"}],description:"【功能】：把數四捨五入為指定精度的數值\n【value1】：數值\n【value2】：四捨五入小數位數\n【返回值類型】：數值(System.Double)\n【示例】：round (1.52,1)\n【返回值】：1.5",type:"Math",keyFront:"DefaultFunction",className:""},{key:"random",name:"隨機數",params:[],description:"【功能】：隨機生成大於等於 0.0 且小於 1.0 的偽隨機值\n【返回值類型】：數值(System.Double)\n【示例】：random()\n【返回值】：0.624508349393",type:"Math",keyFront:"Math",className:""},{key:"sin",name:"正弦",params:[{key:"value",name:"數值",type:"double"}],description:"【功能】：返回一個數字的正弦值\n【value】：計算數值\n【返回值類型】：數值(System.Double)\n一個以弧度表示的角\n【示例】：sin(1) \n【返回值】：0.84187098",type:"Math",keyFront:"Math",className:""},{key:"cos",name:"餘弦",params:[{key:"value",name:"數值",type:"double"}],description:"【功能】：返回一個數字的餘弦值\n【value】：計算數值\n【返回值類型】：數值(System.Double)\n一個以弧度表示的角\n【示例】：cos(3) \n【返回值】：-0.9899924",type:"Math",keyFront:"Math",className:""},{key:"ceil",name:"向上舍入",params:[{key:"value",name:"數值",type:"double"}],description:"【功能】：返回大於或等於函數參數，並且與之最接近的整數\n【value】：計算數值\n【返回值類型】：數值(System.Int32)\n【示例】：ceil(3.2) \n【返回值】：4",type:"Math",keyFront:"Math",className:""},{key:"floor",name:"向下舍入",params:[{key:"value",name:"數值",type:"double"}],description:"【功能】：返回小於或等於函數參數，並且與之最接近的整數\n【value】：計算數值\n【返回值類型】：數值(System.Int32)\n【示例】：floor(3.2) \n【返回值】：3",type:"Math",keyFront:"Math",className:""},{key:"BankerRound",name:"銀行家舍入",params:[{key:"value1",name:"數值",type:"double"},{key:"value2",name:"小數位數",type:"int32"}],description:"【功能】：使用銀行家舍入標準，把指定數字舍入為最接近的數字\n【value1】：要捨入的數值\n【value2】：要捨入的小數位數\n【返回值類型】：數值(System.Double)\n【示例】：BankerRound(36.124,2)\n【返回值】：36.12",type:"Math",keyFront:"Math",className:""},{key:"bankerRound",name:"銀行家舍入",params:[{key:"value1",name:"數值",type:"double"},{key:"value2",name:"小數位數",type:"int32"}],description:"【功能】：使用銀行家舍入標準，把指定數字舍入為最接近的數字\n【value1】：要捨入的數值\n【value2】：要捨入的小數位數\n【返回值類型】：數值(System.Double)\n【示例】：bankerRound(36.124,2)\n【返回值】：36.12",type:"Math",keyFront:"DefaultFunction",className:""}]},se=function(){function e(e,t,n){this.eventService=e,this.injector=t,this.http=n,this.standardFunctions=[],this.allFunctions=[],this.deprecatedFunctions=["StringSubstring","StringLength","StringReplace","StringToUpper","StringToLower","StringIndexOf","StringLastIndexOf","StringTrimStart","StringTrimEnd","StringTrim","StringAdd","Round","BankerRound","getComputeJsonData","ToDecimal","ToSingle"],this.currentFuncTabType="String",this.currentVarType=L.Context,this.descriptinfo="",this.keyInfo="",this.schema=new Map,this.newSchemaMap=new Map,this.choseSchemaTableName=new q,this.selectedResource=!1,this.entitywidth="100%",this.adapter=new ne,this.selectnewfunc=!1,this.funcExtend=[],this.expressionEntity=new P,this.contextEntities=[],this.sessionEntities=[],this.injectedEntities=[],this.smartHelp=[],this.isPanel=!1,this.funcEntities=[],this.gspCDTs=[],this.commonObjects=[],this.injectSchemaName="CommonObject",this.injectedType=$.EntityType,this.windowWidth=1e3,this.result=new x.EventEmitter,this.closeModalEmitter=new x.EventEmitter,this.notifies={1:{type:"success",msg:"表达式生成！"},2:{type:"warning",msg:"请确保必填项填写完整！"},3:{type:"info",msg:"功能尚未提供！"}},this.options={theme:"vs-light",language:"javascript",automaticLayout:!0},this.injector&&(this.notifyService=this.injector.get(p.NotifyService),this.http=this.injector.get(O.HttpClient),this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId))}return e.prototype.ngOnInit=function(){this.Advanced=this.localePipe.transform("Advanced"),this.String=this.localePipe.transform("String"),this.Aggregate=this.localePipe.transform("Aggregate"),this.Estimate=this.localePipe.transform("Estimate"),this.DateTime=this.localePipe.transform("DateTime"),this.Translate=this.localePipe.transform("Translate"),this.Analytical=this.localePipe.transform("Analytical"),this.Math=this.localePipe.transform("Math"),this.Extend=this.localePipe.transform("Extend"),this.Variable=this.localePipe.transform("Variable"),this.Entity=this.localePipe.transform("Entity"),this.Help=this.localePipe.transform("Help"),this.FunctionDescription=this.localePipe.transform("FunctionDescription"),this.VarDescription=this.localePipe.transform("VarDescription"),this.CurrentProp=this.localePipe.transform("CurrentProp"),this.CurrentChosedProp=this.localePipe.transform("CurrentChosedProp"),this.allFunctions=re[this.localeId]||re["zh-CHS"];for(var e=0;e<this.allFunctions.length;e++)this.deprecatedFunctions.includes(this.allFunctions[e].key)||this.standardFunctions.push(this.allFunctions[e]);this.isPanel?this.OninitPanel():this.OninitWindows()},e.prototype.ngOnChanges=function(){this.isPanel&&this.OninitPanel()},e.prototype.OninitWindows=function(){var n=this;this.expressionEntity&&this.expressionEntity.expr&&0!=this.expressionEntity.expr.length?this.code=this.expressionEntity.expr:this.code=null,this.expressionEntity.funcEntities.forEach(function(t){n.funcExtend=n.funcExtend.filter(function(e){return e.key!==t.key}),n.funcExtend.push(t)}),this.expressionEntity.contextEntities.forEach(function(e){n.contextEntities.push(e)}),this.expressionEntity.sessionEntities.forEach(function(e){n.sessionEntities.push(e)}),this.schema=this.expressionEntity.schemaMap,this.newSchemaMap=this.expressionEntity.newSchemaMap,this.injectedEntities=this.expressionEntity.injectedEntities,this.smartHelp=this.expressionEntity.smartHelpEntities},e.prototype.OninitPanel=function(){var n=this;if(this.customNewSchemaName&&this.customNewSchema){if(this.newSchemaMap.set(this.customNewSchemaName,this.customNewSchema),this.injectName&&this.injectNameInSchema&&this.injectSchemaName)this.injectedEntities=this.injectedEntities.filter(function(e){return e.injectedName!==n.injectName}),(e=new _).name=this.injectName?this.injectName:this.injectNameInSchema,e.schemaName=this.injectSchemaName,e.injectedName=this.injectNameInSchema,e.injectedType=this.injectedType,this.injectedEntities.push(e);if(this.gspCDTs&&0<this.gspCDTs.length){var a=new z;this.newSchemaMap.get("CDT")&&(a=this.newSchemaMap.get("CDT")),this.gspCDTs.forEach(function(e){var t=n.adapter.convertCDTOfNewSchema(e);a.entityTypes=a.entityTypes.filter(function(e){return e.code!==t.code}),a.entityTypes.push(t)}),this.newSchemaMap.set("CDT",a)}if(this.commonObjects&&0<this.commonObjects.length){var i=new z;this.newSchemaMap.get("CommonObject")&&(i=this.newSchemaMap.get("CommonObject")),this.commonObjects.forEach(function(e){n.adapter.convertCOOfNewSchema(e).forEach(function(t){i.entityTypes=i.entityTypes.filter(function(e){return e.code!==t.code}),i.entityTypes.push(t);var n=new J;n.code=t.code+"s",n.name=t.name,n.entityType=t.code,i.entitySets=i.entitySets.filter(function(e){return e.code!==n.code}),i.entitySets.push(n)})}),this.newSchemaMap.set("CommonObject",i)}}else if(this.customSchemaName&&this.customSchema){var e;if(this.schema.set(this.customSchemaName,this.customSchema),this.injectName&&this.injectNameInSchema&&this.injectSchemaName)this.injectedEntities=this.injectedEntities.filter(function(e){return e.injectedName!==n.injectName}),(e=new _).name=this.injectName?this.injectName:this.injectNameInSchema,e.schemaName=this.injectSchemaName,e.injectedName=this.injectNameInSchema,e.injectedType=this.injectedType,this.injectedEntities.push(e);if(this.gspCDTs&&0<this.gspCDTs.length){var r=new A;this.schema.get("CDT")&&(r=this.schema.get("CDT")),this.gspCDTs.forEach(function(e){var t=n.adapter.convertCDT(e);r.entityTypes=r.entityTypes.filter(function(e){return e.id!==t.id}),r.entityTypes.push(t)}),this.schema.set("CDT",r)}if(this.commonObjects&&0<this.commonObjects.length){var s=new A;this.schema.get("CommonObject")&&(s=this.schema.get("CommonObject")),this.commonObjects.forEach(function(e){n.adapter.convertCO(e).forEach(function(t){s.entityTypes=s.entityTypes.filter(function(e){return e.id!==t.id}),s.entityTypes.push(t);var n=new W;n.name=t.name+"s",n.entityType=t.name,n.description=t.description,s.entitySets=s.entitySets.filter(function(e){return e.name!==n.name}),s.entitySets.push(n)})}),this.schema.set("CommonObject",s)}}0<this.funcEntities.length&&this.funcEntities.forEach(function(t){n.funcExtend=n.funcExtend.filter(function(e){return e.key!==t.key}),n.funcExtend.push(t)});var t=JSON.parse(this.text?this.text:null);if(t&&t.expr){var o=new w.InputStream(t.expr),c=new M.JavaScriptLexer(o),p=new C.CommonTokenStream(c);p.fill();for(var y=new Array,m=0;m<p.tokens.length-1;m++)y[m]=p.tokens[m].text;var l="";for(m=0;m<y.length;m++)if(("DefaultFunction"!=y[m]&&"Math"!=y[m]||"."!=y[m+1])&&("."!=y[m]||"DefaultFunction"!=y[m-1]&&"Math"!=y[m-1])){var d=0;if(0==d)for(var u=0;u<this.contextEntities.length;u++)if(y[m]=='"'+this.contextEntities[u].key+'"'){l=l+'"'+this.contextEntities[u].name+'"',d=1;break}if(0==d)for(u=0;u<this.sessionEntities.length;u++)if(y[m]=='"'+this.sessionEntities[u].key+'"'){l=l+'"'+this.sessionEntities[u].name+'"',d=1;break}if(0==d)for(u=0;u<this.allFunctions.length;u++)if(y[m]==this.allFunctions[u].key&&"Advanced"!=this.allFunctions[u].type){l+=this.allFunctions[u].name,d=1;break}0==d&&(l+=y[m])}this.code=l}else this.code=null},e.prototype.onInitHandler=function(e){},e.prototype.onChangeHandler=function(e){this.expressioninfo=e.data},e.prototype.onTouchedHandler=function(e){},e.prototype.funcTabChange=function(e){this.currentFuncTabType=e.nextId},e.prototype.selectFuncRowChange=function(e){this.descriptinfo=this.FunctionDescription+e.description,this.eventService.clearVarSelect(),this.selectnewfunc=!0},e.prototype.selectVarRowChange=function(e){this.currentVarType=e.id},e.prototype.selectVarInfoRowChange=function(e){this.descriptinfo=this.VarDescription+e.description,this.eventService.clearFuncSelect()},e.prototype.selectschemaChange=function(e){this.choseSchemaTableName=e},e.prototype.selectentitychange=function(e){"Complex"==(this.choseSchemaTableName=e).nodeType?(this.entitywidth="80%",this.selectedResource=!0):(this.entitywidth="100%",this.selectedResource=!1),this.descriptinfo=this.CurrentProp+e.name+"--\x3e"+e.description},e.prototype.selectschemainfoChange=function(e){this.descriptinfo=this.CurrentChosedProp+e.name+"--\x3e"+e.description},e.prototype.dbclickVarInsert=function(e){if(e)switch(this.currentVarType){case L.Context:for(var t=0;t<this.standardFunctions.length;t++)if("GetContextParameter"==this.standardFunctions[t].key){this.eventService.insertExpression(this.standardFunctions[t].name+'("'+e.data.name+'")');break}break;case L.Session:for(t=0;t<this.standardFunctions.length;t++)if("GetSessionValue"==this.standardFunctions[t].key){this.eventService.insertExpression(this.standardFunctions[t].name+'("'+e.data.name+'")');break}}},e.prototype.dbclickSchemaInfoInsert=function(e){e&&this.eventService.insertExpression(e.data)},e.prototype.dbclickEntityInsert=function(e){e&&this.eventService.insertExpression(e)},e.prototype.dbclickEntityInfoInsert=function(e){e&&this.eventService.insertExpression(e)},e.prototype.dbclickSmartHelpInsert=function(e){e&&this.eventService.insertExpression(e.data)},e.prototype.dbclickInsert=function(e){for(var t=e.data.key,n=0;n<this.standardFunctions.length;n++)if(t==this.standardFunctions[n].key){t=this.standardFunctions[n].name;break}if("Advanced"!=e.data.type){t+="(";for(var a=e.data.params,i=0;i<=a.length-1;i++)1==a.length?"string"==a[0].type?t+='"'+a[0].name+'"':t+=a[0].name:i!=a.length-1?"string"==a[i].type?t+='"'+a[i].name+'",':t+=a[i].name+",":"string"==a[i].type?t+='"'+a[i].name+'"':t+=a[i].name;t+=")"}this.keyInfo=t,this.eventService.insertExpression(this.keyInfo)},e.prototype.getExprs=function(){var e=new G;if(e.expr=this.expressioninfo,e.sexpr=this.expressionEntity.sexpr,null==e.expr||""==e.expr)this.result.emit(null);else{var t=new w.InputStream(e.expr),n=new M.JavaScriptLexer(t),a=new C.CommonTokenStream(n);a.fill();for(var i=new Array,r=0;r<a.tokens.length-1;r++)i[r]=a.tokens[r].text;for(r=0;r<i.length;r++){var s=0;if(0==s)for(var o=0;o<this.expressionEntity.contextEntities.length;o++)if(i[r]=='"'+this.expressionEntity.contextEntities[o].name+'"'){i[r]='"'+this.expressionEntity.contextEntities[o].key+'"',s=1;break}if(0==s)for(o=0;o<this.expressionEntity.sessionEntities.length;o++)if(i[r]=='"'+this.expressionEntity.sessionEntities[o].name+'"'){i[r]='"'+this.expressionEntity.sessionEntities[o].key+'"',s=1;break}if(0==s)for(var c=0;c<this.standardFunctions.length;c++)if(i[r]==this.standardFunctions[c].name){i[r]=this.standardFunctions[c].keyFront+"."+this.standardFunctions[c].key,s=1;break}}var p="";for(r=0;r<i.length;r++)p+=i[r];e.expr=p,this.result.emit(JSON.stringify(e))}},e.prototype.getExpr=function(){var e=new G;if(e.expr=this.expressioninfo,e.sexpr=this.expressionEntity.sexpr,null!=e.expr&&""!=e.expr){var t=new w.InputStream(e.expr),n=new M.JavaScriptLexer(t),a=new C.CommonTokenStream(n);a.fill();for(var i=new Array,r=0;r<a.tokens.length-1;r++)i[r]=a.tokens[r].text;for(r=0;r<i.length;r++){var s=0;if(0==s)for(var o=0;o<this.contextEntities.length;o++)if(i[r]=='"'+this.contextEntities[o].name+'"'){i[r]='"'+this.contextEntities[o].key+'"',s=1;break}if(0==s)for(o=0;o<this.sessionEntities.length;o++)if(i[r]=='"'+this.sessionEntities[o].name+'"'){i[r]='"'+this.sessionEntities[o].key+'"',s=1;break}if(0==s)for(var c=0;c<this.standardFunctions.length;c++)if(i[r]==this.standardFunctions[c].name){i[r]=this.standardFunctions[c].keyFront+"."+this.standardFunctions[c].key,s=1;break}}var p="";for(r=0;r<i.length;r++)p+=i[r];return e.expr=p,JSON.stringify(e)}this.result.emit(null)},e.prototype.reset=function(){this.expressioninfo=null,this.code=null,this.eventService.pushclearExpression()},e.prototype.check=function(){console.log(this.expressioninfo),this.notifyService?this.notifyService[this.notifies[3].type]({msg:this.notifies[3].msg}):alert("功能尚未提供！")},e.prototype.help=function(){this.notifyService?this.notifyService[this.notifies[3].type]({msg:this.notifies[3].msg}):alert("功能尚未提供！")},e.prototype["import"]=function(){this.notifyService?this.notifyService[this.notifies[3].type]({msg:this.notifies[3].msg}):alert("功能尚未提供！")},e.prototype.changeText=function(e){var t=JSON.parse(e||null);t&&t.expr?this.code=t.expr:this.code=null},e.prototype.changeInjectEntity=function(e,t,n,a){if(void 0===t&&(t="CommonObject"),void 0===a&&(a=$.EntityType),e&&n&&t){var i=new _;i.name=e||n,i.schemaName=t,i.injectedName=n,i.injectedType=a,this.expressionEntity.injectedEntities.push(i)}this.injectedEntities=this.expressionEntity.injectedEntities},e.prototype.changeCO=function(e){var n,t=this;e&&0<e.length&&(n=this.expressionEntity.schemaMap.get("CommonObject")?this.expressionEntity.schemaMap.get("CommonObject"):new A,e.forEach(function(e){t.adapter.convertCO(e).forEach(function(e){n.entityTypes.push(e);var t=new W;t.name=e.name+"s",t.entityType=e.name,t.description=e.description,n.entitySets.push(t)})}),this.schema.set("CommonObject",n))},e.prototype.changeContextVar=function(e){var t=this;e.forEach(function(e){t.contextEntities=t.contextEntities.filter(function(e){return e.key!=e.key}),t.contextEntities.push(e)})},e.prototype.hide=function(){this.selectnewfunc=!1},e.prototype.onDoubleQuotation=function(){this.eventService.insertExpression('""')},e.prototype.onEqual=function(){this.eventService.insertExpression(" == ")},e.prototype.onSparen=function(){this.eventService.insertExpression("()")},e.prototype.onBrace=function(){this.eventService.insertExpression("[]")},e.prototype.onAnd=function(){this.eventService.insertExpression(" && ")},e.prototype.onOr=function(){this.eventService.insertExpression(" || ")},e.prototype.onExclamation=function(){this.eventService.insertExpression("!")},e.prototype.onIequal=function(){this.eventService.insertExpression(" == ")},e.prototype.onUnequal=function(){this.eventService.insertExpression(" != ")},e.prototype.onLess=function(){this.eventService.insertExpression(" < ")},e.prototype.onLessequal=function(){this.eventService.insertExpression(" <= ")},e.prototype.onMore=function(){this.eventService.insertExpression(" > ")},e.prototype.onMoreequal=function(){this.eventService.insertExpression(" >= ")},e.prototype.onPlus=function(){this.eventService.insertExpression(" + ")},e.prototype.onMinus=function(){this.eventService.insertExpression(" - ")},e.prototype.onMultiple=function(){this.eventService.insertExpression("*")},e.prototype.onDivision=function(){this.eventService.insertExpression("/")},e.prototype.onPercent=function(){this.eventService.insertExpression("%")},e.prototype.onAssign=function(){this.eventService.insertExpression(" = ")},e.prototype.onOppose=function(){this.eventService.insertExpression("!")},e.decorators=[{type:x.Component,args:[{selector:"app-expressioneditor",template:'<div class="h-100 f-utils-flex-column">\r\n<div id="main" style="width:100%;padding-left: 20px;">\r\n  <div id="left" style="width:87%;float:left;border:1px solid #D9D9D9">\r\n    <div style="height:136px;" class="position-relative">\r\n        <app-my-monaco-editor style="z-index: 125;" [options]="options" [(ngModel)]="code" (onInit)="onInitHandler($event)"\r\n        (onTouched)="onTouchedHandler($event)" (onChange)="onChangeHandler($event)" class="f-utils-absolute-all"> </app-my-monaco-editor>\r\n    </div>\r\n  </div>\r\n  <div id="right" style="width:13%;float:left;">\r\n      <button class="btn f-btn-mr btn-primary" type="button" style="height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px" (click)=check()>{{ \'CheckFront\' | locale }}</button>\r\n      <button class="btn f-btn-mr btn-secondary" type="button" style="height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px" (click)=reset()>{{ \'ResetFront\' | locale }}</button>\r\n      <button class="btn f-btn-mr btn-secondary" type="button" style="height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px" (click)=help()>{{ \'HelpFront\' | locale }}</button>\r\n      <button class="btn f-btn-mr btn-secondary" type="button" style="height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px" (click)=import()>{{ \'ImportFront\' | locale }}</button>\r\n  </div>\r\n</div>\r\n<div id="select" class="f-utils-fill">\r\n  <div id="left" style="width:50%;height:100%;float:left;padding-left: 20px;">\r\n    <div style="height:100%;border:1px solid rgb(235, 233, 233)">\r\n      <farris-tabs style="height:100%" [value]="\'String\'" [contentFill]="true" (tabChange)="funcTabChange($event)">\r\n          <farris-tab [title]="this.Advanced" [id]="\'Advanced\'">\r\n              <ng-template #content>\r\n                  <div style="height:100%">\r\n                    <app-expr-func-grid [currentFuncTabType]="\'Advanced\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]="this.String" [id]="\'String\'">\r\n              <ng-template #content>\r\n                  <div style="height:100%">\r\n                    <app-expr-func-grid [currentFuncTabType]="\'String\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]="this.Math" [id]="\'Math\'">\r\n            <ng-template #content>\r\n                <div style="height:100%">\r\n                    <app-expr-func-grid [currentFuncTabType]="\'Math\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n        <farris-tab [title]="this.Estimate" [id]="\'Estimate\'">\r\n            <ng-template #content>\r\n                <div style="height:100%">\r\n                    <app-expr-func-grid [currentFuncTabType]="\'Estimate\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n        <farris-tab [title]="this.DateTime" [id]="\'DateTime\'">\r\n            <ng-template #content>\r\n                <div style="height:100%">\r\n                    <app-expr-func-grid [currentFuncTabType]="\'DateTime\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n        <farris-tab [title]="this.Translate" [id]="\'Translate\'">\r\n            <ng-template #content>\r\n                <div style="height:100%">\r\n                    <app-expr-func-grid [currentFuncTabType]="\'Translate\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n          <farris-tab [title]="this.Aggregate" [id]="\'Aggregate\'">\r\n              <ng-template #content>\r\n                  <div style="height:100%">\r\n                      <app-expr-func-grid [currentFuncTabType]="\'Aggregate\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]="this.Analytical" [id]="\'Analytical\'">\r\n              <ng-template #content>\r\n                  <div style="height:100%">\r\n                      <app-expr-func-grid [currentFuncTabType]="\'Analytical\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]="this.Extend" [id]="\'Extend\'">\r\n              <ng-template #content>\r\n                  <div style="height:100%">\r\n                      <app-expr-func-grid [funcExtend]="funcExtend" [currentFuncTabType]="\'Extend\'" (selectFuncRow)="selectFuncRowChange($event)" (dbclickInsert)="dbclickInsert($event)"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n      </farris-tabs>\r\n    </div>\r\n  </div>\r\n  <div id="middle" class="position-relative" style="width:36%;height:100%;float:left;padding-left: 7px;border:1px solid rgb(235, 233, 233)">\r\n    <farris-tabs [value]="\'Variable\'" [contentFill]="true" class="f-utils-absolute-all" style="left:6px;right:5px">\r\n          <farris-tab [title]="this.Variable" [id]="\'Variable\'" class="f-utils-overflow-hidden">\r\n              <ng-template #content>\r\n                  <div style="width: 100%;height: 100%; display: flex;">\r\n                      <div class="f-utils-flex-column position-relative" style="width: 30%;height: 100%;" ngResizable [rzMinWidth]="40"\r\n                          [rzMaxWidth]="400" [rzHandles]="\'e\'" rzAspectRatio="true">\r\n                          <app-expression-var-grid (selectVarRow)="selectVarRowChange($event)" [h1]="this.http" class="f-utils-fill"></app-expression-var-grid>\r\n                      </div>\r\n                      <div class="f-utils-flex-column position-relative" style="width: 70%;height: 100%;flex: 1 1 auto; border-left: 1px solid #ddd;">\r\n                          <app-expression-var-info-grid \r\n                          class="f-utils-fill"\r\n                          [currentVarType]="currentVarType"  \r\n                          [contextEntities]="contextEntities"\r\n                          [sessionEntities]="sessionEntities"\r\n                          (selectVarInfoRow)="selectVarInfoRowChange($event)" \r\n                          (dbclickInsert)="dbclickVarInsert($event)">\r\n                        </app-expression-var-info-grid>\r\n                      </div>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]="this.Entity" [id]="\'Entity\'">\r\n              <ng-template #content>\r\n                  <div class = "f-utils-absolute-all f-utils-flex-row">\r\n                      <div class = "f-utils-fill-flex-column" style="width:entitywidth;" ngResizable [rzMinWidth]="40"\r\n                          [rzMaxWidth]="800" [rzHandles]="\'e\'" rzAspectRatio="true">\r\n                          <app-expression-entity-grid class="f-utils-fill-flex-column"\r\n                          [schema]="schema"\r\n                          [newSchemaMap]="newSchemaMap"\r\n                          [injectedEntities]="injectedEntities"\r\n                          (dbclickInsert)="dbclickEntityInsert($event)" \r\n                          (selectentitychange)="selectentitychange($event)"\r\n                          ></app-expression-entity-grid> \r\n                      </div>\r\n                      <div *ngIf = selectedResource class = "f-utils-flex-column col-3 px-0" style="border-left: 1px solid #ddd;">\r\n                          <app-expression-entity-info-grid class = "f-utils-fill-flex-column"\r\n                          [schema]="schema" \r\n                          [newSchemaMap]="newSchemaMap"\r\n                          [choseEntityTableName]="choseSchemaTableName"\r\n                          (dbclickInsert)="dbclickEntityInfoInsert($event)"\r\n                          (selectSchemaRow)="selectschemainfoChange($event)"\r\n                          ></app-expression-entity-info-grid>\r\n                      </div>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          \x3c!-- <farris-tab [title]="\'实体类型\'" [id]="\'EntityType\'">\r\n              <ng-template #content>\r\n                  <div style="width: 100%;height: 100%; display: flex;" >\r\n                      <div style="width: 50%;height: 268px; " ngResizable [rzMinWidth]="40"\r\n                          [rzMaxWidth]="500" [rzHandles]="\'e\'" rzAspectRatio="true" >\r\n                          <app-expression-schema-grid \r\n                          [schema]="schema" \r\n                          (selectschemachange)="selectschemaChange($event)"\r\n                          ></app-expression-schema-grid> \r\n                      </div>\r\n                      <div style="width: 50%; flex: 1 1 auto; border-left: 1px solid #ddd;">\r\n                          <app-expression-schema-info-grid \r\n                          [schema]="schema" \r\n                          [choseSchemaTableName]="choseSchemaTableName"\r\n                          (dbclickInsert)="dbclickSchemaInfoInsert($event)"\r\n                          (selectSchemaRow)="selectschemainfoChange($event)"\r\n                          ></app-expression-schema-info-grid>\r\n                      </div>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab> --\x3e\r\n          <farris-tab [title]="this.Help" [id]="\'Help\'" class="f-utils-overflow-hidden">\r\n              <ng-template #content>\r\n                  <div class="f-utils-flex-column position-relative" style="width: 100%;height: 100%">\r\n                    <app-expression-smart-help-grid \r\n                    class="f-utils-fill"\r\n                    [smartHelp]="smartHelp"\r\n                    (dbclickInsert)="dbclickSmartHelpInsert($event)"\r\n                    ></app-expression-smart-help-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n      </farris-tabs>\r\n  </div>\r\n  <div id="right" style="width:14%;float: left;padding-left: 5px;padding-right: 15px;">\r\n      <div style="border: 0 solid #D9D9D9;border-radius: 3px;">\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onPlus()">+</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onMinus()">-</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onMultiple()">*</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onDivision()">/</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onPercent()">%</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onAssign()">=</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onDoubleQuotation()">" "</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onEqual()">==</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onUnequal()">!=</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onMoreequal()">>=</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onLessequal()"><=</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onLess()">{{\'<\'}}</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onMore()">{{\'>\'}}</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onBrace()">[&nbsp;]</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onSparen()">(&nbsp;)</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onOr()">||</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onAnd()">&&</button>\r\n            <button type="button" class="btn cbtn btn-secondary" (click)="onOppose()">!</button>\r\n      </div>       \r\n  </div>\r\n</div>\r\n<div *ngIf = selectnewfunc style="padding-left: 20px;position: absolute;bottom: 0;left: 0;right: 0;border-top: 1px solid #ddd;z-index: 100;background: white">\r\n    <span style="\r\n    position: absolute;\r\n    top: -18px;\r\n    left: 50%;\r\n    border-radius: 4px;\r\n    width: 40px;\r\n    height: 18px;\r\n    cursor: pointer;\r\n    background: #fff;\r\n    text-align: center;\r\n    border: 1px solid #efecec;\r\n    /* box-shadow: 0 0 6px 0 rgba(57,66,100,.08); */\r\n    color: #59a1ff;\r\n    border-bottom: none;\r\n"><i class="f-icon f-icon-arrow-seek-down" (click)="hide()"></i></span>\r\n    <span>\r\n      <i class="f-icon f-icon-info"></i>\r\n    </span>\r\n    {{descriptinfo}}\r\n</div>\r\n</div>\r\n',styles:[".cbtn{width:40px;height:40px;background:#fdfdfd;border:1px solid #d0d0d0;border-radius:3px;text-align:center}"]}]}],e.ctorParameters=function(){return[{type:j},{type:x.Injector,decorators:[{type:x.Optional}]},{type:O.HttpClient}]},e.propDecorators={funcExtend:[{type:x.Input}],expressionEntity:[{type:x.Input}],contextEntities:[{type:x.Input}],sessionEntities:[{type:x.Input}],injectedEntities:[{type:x.Input}],smartHelp:[{type:x.Input}],text:[{type:x.Input}],isPanel:[{type:x.Input}],funcEntities:[{type:x.Input}],gspCDTs:[{type:x.Input}],commonObjects:[{type:x.Input}],customSchemaName:[{type:x.Input}],customSchema:[{type:x.Input}],injectName:[{type:x.Input}],injectSchemaName:[{type:x.Input}],injectNameInSchema:[{type:x.Input}],injectedType:[{type:x.Input}],customNewSchemaName:[{type:x.Input}],customNewSchema:[{type:x.Input}],windowWidth:[{type:x.Input}],result:[{type:x.Output}],closeModalEmitter:[{type:x.Output}]},e}(),oe=function Xe(){this.treeInfo=new ce,this.parentHierarchyInfo=new pe},ce=function Ke(){},pe=function Ze(){},ye=function(){function e(e,t,n,a,i){this.msgSer=e,this.notifyService=t,this.injector=n,this.modalService=a,this.compFactRes=i,this.expr="",this.result=new x.EventEmitter,this.closeModalEmitter=new x.EventEmitter,this.contextEntity=new P,this.conditions=[{computeField:"",fieldName:"",value:"",lbracket:"(",rbracket:")",relation:"&&",operator:"=="}],this.advancedModalConfig={title:"高级表达式",width:1060,height:610,showButtons:!0},this.title="条件表达式",this.height=350,this.width=750,this.LeftBracketData=["(","((","(((","(((("],this.RighttBracketData=[")","))",")))","))))"],this.columnSizeData=[50,130,70,100,50,50,50],this.currentCondition=null,this.operators=[{label:"大于",value:">"},{label:"大于等于",value:">="},{label:"等于",value:"=="},{label:"不等于",value:"!="},{label:"小于",value:"<"},{label:"小于等于",value:"<="},{label:"等于(字符串)",value:"equal"},{label:"不等于(字符串)",value:"notequal"},{label:"为空",value:"==null"},{label:"不为空",value:"!=null"},{label:"包含",value:"Contains"},{label:"不包含",value:"NotContains"},{label:"开头是",value:"StartsWith"},{label:"开头不是",value:"NotStartsWith"},{label:"结尾是",value:"EndsWith"},{label:"结尾不是",value:"NotEndsWith"}],this.relationData=[{label:"并且",value:"&&"},{label:"或者",value:"||"}],this.notifies={1:{type:"success",msg:"表达式生成！"},2:{type:"warning",msg:"请确保必填项填写完整！"}},this.entities=[],this.newItem={computeField:"",fieldName:"",value:"",lbracket:"(",rbracket:")",relation:"&&",operator:"=="}}return e.prototype.ngOnInit=function(){this.contextEntity.sexpr&&(this.conditions=JSON.parse(this.contextEntity.sexpr)),this.contextEntity.injectedEntities&&0<this.contextEntity.injectedEntities.length&&this.OninitSchemaEntity(this.contextEntity.injectedEntities,this.contextEntity.schemaMap),this.propertyList={columns:[{field:"name",title:"名称",width:100,hAlign:"left",align:"left",formatter:null}],items:this.entities,treeInfo:{loadDataType:"all",layerType:"pathcode",dataField:"treeInfo",pathField:"path",layerField:"layer",isDetailField:"isDetail",onlySelectLeaf:!1,parentField:"parentElement",treeDataIsInit:!1},displayType:"TreeList"}},e.prototype.insert=function(e){var t=Object.assign({},this.newItem);this.conditions.splice(e+1,0,t),this.changeConditionList()},e.prototype.remove=function(t){var n=this,e=t+1;this.msgSer.confirm("确认删除第"+e+"行数据?").subscribe(function(e){e&&(0!=t?n.conditions.splice(t,1):1<n.conditions.length?n.conditions.splice(t,1):n.conditions=[{computeField:"",fieldName:"",value:"",lbracket:"(",rbracket:")",relation:"&&",operator:"=="}],n.changeConditionList(),n.currentCondition&&t===n.currentCondition.index&&(n.currentCondition=null))})},e.prototype.onAddFilter=function(){},e.prototype.onClear=function(){},e.prototype.toTop=function(){this.currentCondition&&(this.conditions.unshift(this.currentCondition.condition),this.conditions.splice(this.currentCondition.index+1,1),this.currentCondition.index=0,this.changeConditionList())},e.prototype.toUp=function(){var e;if(this.currentCondition){var t=this.currentCondition.index,n=this.conditions.splice(t,1);(e=this.conditions).splice.apply(e,R([t-1,0],n)),this.currentCondition.index=t-1,this.changeConditionList()}},e.prototype.toDown=function(){var e;if(this.currentCondition){var t=this.currentCondition.index,n=this.conditions.splice(t,1);(e=this.conditions).splice.apply(e,R([t+1,0],n)),this.currentCondition.index=t+1,this.changeConditionList()}},e.prototype.toBottom=function(){this.currentCondition&&(this.conditions.push(this.currentCondition.condition),this.conditions.splice(this.currentCondition.index,1),this.currentCondition.index=this.conditions.length-1,this.changeConditionList())},e.prototype.changeConditionList=function(){},e.prototype.selected=function(e){this.currentCondition=e},e.prototype.openAdvancedExpression=function(){var t=this;this.openAdvancedExpr().then(function(e){t.result.emit(JSON.stringify(e))}),this.closeModalEmitter.emit("close")},e.prototype.openAdvancedExpr=function(){var a=this;return new Promise(function(t){var e=a.compFactRes.resolveComponentFactory(se).create(a.injector);e.instance.expressionEntity=a.contextEntity,e.instance.expressionEntity.expr=a.convertExpr(a.conditions);var n=a.modalService.show(e,{title:"高级表达式",width:1060,height:610,buttons:[{text:"保存",cls:"btn btn-primary",handle:function(){e.instance.getExprs(),n.close()}},{text:"取消",cls:"btn btn-secondary",handle:function(){n.close()}}],showButtons:!0});e.instance.result.subscribe(function(e){return t(e)})})},e.prototype.confirm=function(){var e=new G;e.expr=this.convertExpr(this.conditions),e.sexpr=JSON.stringify(this.conditions),this.result.emit(JSON.stringify(e)),this.notifyService[this.notifies[1].type]({msg:this.notifies[1].msg}),this.closeModalEmitter.emit("close")},e.prototype.reset=function(){this.conditions=[{computeField:"",fieldName:"",value:"",lbracket:"(",rbracket:")",relation:"&&",operator:"=="}]},e.prototype.cancle=function(){this.closeModalEmitter.emit("close")},e.prototype.isSelected=function(e){return!!this.currentCondition&&this.currentCondition.index===e},e.prototype.convertExpr=function(e){var t=this;if(this.expr="",e){var n=0,a=e.length;e.forEach(function(e){if(++n<a)if("=="==e.operator||"!="==e.operator||">"==e.operator||">="==e.operator||"<"==e.operator||"<="==e.operator)t.expr=t.expr+e.lbracket+e.computeField+e.operator+e.value+e.rbracket+e.relation;else switch(e.operator){case"equal":t.expr=t.expr+e.lbracket+e.computeField+'=="'+e.value+'"'+e.rbracket+e.relation;break;case"notequal":t.expr=t.expr+e.lbracket+e.computeField+'!="'+e.value+'"'+e.rbracket+e.relation;break;case"==null":t.expr=t.expr+e.lbracket+e.computeField+"==null"+e.rbracket+e.relation;break;case"!=null":t.expr=t.expr+e.lbracket+e.computeField+"!=null"+e.rbracket+e.relation;break;case"Contains":t.expr=t.expr+e.lbracket+"DefaultFunction.Contains("+e.computeField+',"'+e.value+'")'+e.rbracket+e.relation;break;case"NotContains":t.expr=t.expr+e.lbracket+"DefaultFunction.NotContains("+e.computeField+',"'+e.value+'")'+e.rbracket+e.relation;break;case"StartsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.StartsWith("+e.computeField+',"'+e.value+'")'+e.rbracket+e.relation;break;case"NotStartsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.NotStartsWith("+e.computeField+',"'+e.value+'")'+e.rbracket+e.relation;break;case"EndsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.EndsWith("+e.computeField+',"'+e.value+'")'+e.rbracket+e.relation;break;case"NotEndsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.NotEndsWith("+e.computeField+',"'+e.value+'")'+e.rbracket+e.relation}else if("=="==e.operator||"!="==e.operator||">"==e.operator||">="==e.operator||"<"==e.operator||"<="==e.operator)t.expr=t.expr+e.lbracket+e.computeField+e.operator+e.value+e.rbracket;else switch(e.operator){case"equal":t.expr=t.expr+e.lbracket+e.computeField+'=="'+e.value+'"'+e.rbracket;break;case"notequal":t.expr=t.expr+e.lbracket+e.computeField+'!="'+e.value+'"'+e.rbracket;break;case"==null":t.expr=t.expr+e.lbracket+e.computeField+"==null"+e.rbracket;break;case"!=null":t.expr=t.expr+e.lbracket+e.computeField+"!=null"+e.rbracket;break;case"Contains":t.expr=t.expr+e.lbracket+"DefaultFunction.Contains("+e.computeField+',"'+e.value+'")'+e.rbracket;break;case"NotContains":t.expr=t.expr+e.lbracket+"DefaultFunction.NotContains("+e.computeField+',"'+e.value+'")'+e.rbracket;break;case"StartsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.StartsWith("+e.computeField+',"'+e.value+'")'+e.rbracket;break;case"NotStartsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.NotStartsWith("+e.computeField+',"'+e.value+'")'+e.rbracket;break;case"EndsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.EndsWith("+e.computeField+',"'+e.value+'")'+e.rbracket;break;case"NotEndsWith":t.expr=t.expr+e.lbracket+"DefaultFunction.NotEndsWith("+e.computeField+',"'+e.value+'")'+e.rbracket}})}return this.expr},e.prototype.OninitSchemaEntity=function(e,a){var i=this;if(e&&0<e.length){this.entities=[];var r=new Map,s=1;e.forEach(function(t){var e=a.get(t.schemaName);switch(t.injectedType){case $.EntitySet:break;case $.EntityType:var n=e.entityTypes.find(function(e){return e.name==t.injectedName});i.ConvertEntityType(n,"",e,r,1,"",s)}s++})}},e.prototype.ConvertEntitySet=function(e,t,n){},e.prototype.ConvertEntityType=function(e,t,a,i,r,n,s){var o=this;if(!e)return null;var c=new oe;c.code=e.name,c.name=e.name,c.treeInfo.layer=r,c.treeInfo.path=n+this.getPath(s),t?(c.id=t+"."+e.name,c.parentHierarchyInfo.parentElement=t):c.id=e.name,this.entities.push(c),i.set(e.name+e.id,$.EntityType);var p=1;e.properties.forEach(function(e){var t=new oe;t.id=c.id+"."+e.name,t.code=e.name,t.name=e.name,t.treeInfo.layer=r+1,t.treeInfo.path=c.treeInfo.path+o.getPath(p),p++,t.parentHierarchyInfo.parentElement=c.id,o.entities.push(t)}),e.navigationProperties.forEach(function(t){if(i.get(t.name+t.navigationId)){var e=new oe;e.id=c.id+"."+t.name,e.code=t.name,e.name=t.name,e.treeInfo.layer=r+1,e.treeInfo.path=c.treeInfo.path+o.getPath(p),e.parentHierarchyInfo.parentElement=c.id,o.entities.push(e)}else if(t.type==Y.EntitySet);else if(t.type==Y.EntityType){var n=a.entityTypes.find(function(e){return e.id==t.navigationId&&e.name==t.name});o.ConvertEntityType(n,c.id,a,i,r+1,c.treeInfo.path,p+1)}p++})},e.prototype.getPath=function(e){return e<10?"000"+e:10<=e&&e<100?"00"+e:100<=e&&e<1e3?"0"+e:e+""},e.decorators=[{type:x.Component,args:[{selector:"svc-compute-rule",template:'    <div style="background: #f0ffffe0;width: 100%;">\r\n        <button type="button" title="上移" class="k-button k-button-icon k-flat" (click)="toUp()"><span class="k-icon k-i-arrow-up"></span></button>\r\n        <button type="button" title="下移" class="k-button k-button-icon k-flat" (click)="toDown()"><span class="k-icon k-i-arrow-down"></span></button>\r\n        <button type="button" title="置顶" class="k-button k-button-icon k-flat" (click)="toTop()"><span class="k-icon k-i-arrow-end-up"></span></button>\r\n        <button type="button" title="垫底" class="k-button k-button-icon k-flat" (click)="toBottom()"><span class="k-icon k-i-arrow-end-down"></span></button>\r\n    </div>\r\n    <div class="table-header ">\r\n        <table class="table table-bordered" style="margin-bottom: 0">\r\n            <colgroup>\r\n                <col *ngFor="let s of columnSizeData" [style.width]=" s + \'px\'">\r\n            </colgroup>\r\n            <thead>\r\n                <tr>\r\n                    <th align="center"><b>&nbsp;左括号</b></th>\r\n                    <th align="center"><b>&nbsp;数据</b></th>\r\n                    <th align="center"><b>&nbsp;比较符</b></th>\r\n                    <th align="center"><b>&nbsp;值</b></th>\r\n                    <th align="center"><b>&nbsp;右括号</b></th>\r\n                    <th align="center"><b>&nbsp;关系</b></th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n    <div class="table-body flex-fill" style="overflow: hidden" #tablebodybox>\r\n        <perfect-scrollbar [config]="{}">\r\n            <table class="table table-bordered">\r\n                <colgroup>\r\n                    <col *ngFor="let s of columnSizeData" [style.width]=" s + \'px\'">\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr *ngFor="let condition of conditions; let index=index;" (click)="selected({\'index\':index, \'condition\': condition})" [class.selected]="isSelected(index)">\r\n                        <td>\r\n                            <select class="form-control filter-select" [(ngModel)]="condition.lbracket" name="lbracket">\r\n                            <option *ngFor="let item of LeftBracketData" [value]="item">{{ item }}</option>\r\n                            </select>\r\n                        </td>\r\n              <td>\r\n                  <farris-combo-lookup\r\n                    [(ngModel)]="condition.computeField"\r\n                    [idField]="\'id\'"\r\n                    [textField]="\'id\'"\r\n                    [displayType]="\'LOOKUPTREELIST\'"\r\n                    [data]="propertyList"\r\n                  ></farris-combo-lookup>\r\n              </td>\r\n              <td>\r\n                  <select class="form-control filter-select" [(ngModel)]="condition.operator" name="operator">\r\n                      <option *ngFor="let item of operators" [value]="item.value">{{item.label}}</option>\r\n                  </select>\r\n              </td>\r\n              <td>\r\n                  <input type="text" style="width:100%" placeholder="" class="k-textbox" name="value" [(ngModel)]="condition.value">\r\n              </td>\r\n              <td>\r\n                  <select class="form-control filter-select"  [(ngModel)]="condition.rbracket" name="rbracket">\r\n                      <option *ngFor="let item of RighttBracketData" [value]="item">{{ item }}</option>\r\n                  </select>\r\n              </td>\r\n              <td>\r\n                  <select class="form-control filter-select" [(ngModel)]="condition.relation" name="relation">\r\n                    <option *ngFor="let item of relationData" [value]="item.value">{{ item.label }}</option>\r\n                  </select>\r\n              </td>\r\n              <td>\r\n                <button type="button" (click)="insert(index)" class="k-button k-button-icon k-flat"><span class="k-icon k-i-plus"></span></button>\r\n                <button type="button" (click)="remove(index)" class="k-button k-button-icon k-flat"><span class="k-icon k-i-delete"></span></button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n      </table>\r\n  </perfect-scrollbar>\r\n</div>\r\n<div class="modal-footer footer">\r\n    <a class="mr-auto" href="javascript: void(0);" (click)="openAdvancedExpression()" > 高级表达式 ＞</a>\r\n    <button type="button" class="btn f-btn-mr btn-primary" (click)="confirm()">确定</button>\r\n    <button type="button" class="k-button k-button-icon k-flat" (click)="reset()">重置</button>\r\n    <button type="button" class="k-button k-button-icon k-flat" (click)="cancle()">取消</button>\r\n</div>\r\n\r\n\r\n',styles:[".filter-select{width:100%;padding-left:0;padding-right:0}.selected{background:#c2e4ff}.footer{position:absolute;bottom:0;left:0;right:0;justify-content:flex-start}"]}]}],e.ctorParameters=function(){return[{type:o.MessagerService},{type:p.NotifyService},{type:x.Injector},{type:E.BsModalService},{type:x.ComponentFactoryResolver}]},e.propDecorators={result:[{type:x.Output}],closeModalEmitter:[{type:x.Output}],contextEntity:[{type:x.Input}],conditions:[{type:x.Input}]},e}(),me=new x.InjectionToken("MY_MONACO_EDITOR_CONFIG"),le={onInit:"onInit",onChange:"onChange",onTouched:"onTouched"},de=function(){function e(){this.eventNames=Object.keys(le),this._events={}}return e.prototype.addEvent=function(e){l.assign(this._events,e)},e.prototype.fireEvent=function(e){this._events[e.eventName].emit(e)},e.decorators=[{type:x.Injectable}],e}(),ue=!1,he={provide:m.NG_VALUE_ACCESSOR,useExisting:x.forwardRef(function(){return ge}),multi:!0},fe={baseUrl:"assets",defaultOptions:{scrollBeyondLastLine:!1}},ge=function(){function e(e,t,n,a){var i=this;this.zone=e,this.config=t,this.codeEditorEventService=n,this.eventService=a,this._value="",this.onChangeHandler=function(e){i.codeEditorEventService.fireEvent({eventName:le.onChange,target:i,data:e})},this.onTouchedHandler=function(){i.codeEditorEventService.fireEvent({eventName:le.onTouched,target:i})};var r=this;n.eventNames.forEach(function(e){r[e]=new x.EventEmitter;var t=l.pick(r,e);n.addEvent(t)})}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e))},enumerable:!0,configurable:!0}),e.prototype.insertWord=function(e){if(e&&e!=undefined&&""!=e){var t={lineNumber:1,column:1};this._editor&&(t=this._editor.getPosition());var n={identifier:{major:1,minor:1},range:new monaco.Range(t.lineNumber,t.column,t.lineNumber,t.column),text:e,forceMoveMarkers:!0};this._editor.executeEdits("my-source",[n])}},e.prototype.ngOnInit=function(){var i=this;ue?Z.then(function(){i.initMonaco(i.options)}):(ue=!0,Z=new Promise(function(e){function t(){window.require.config({paths:{vs:n+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],function(){i.onMonacoLoad(),i.initMonaco(i.options),e()})}var n="/platform/common/web/caf";if(window.require)t();else{var a=document.createElement("script");a.type="text/javascript",a.src=n+"/monaco/vs/loader.js",a.onload=t,document.body.appendChild(a)}}));var t=this;this.eventService.currentExpression().subscribe(function(e){t._editor!=undefined&&t.insertWord(e)}),this.eventService.clearExpression().subscribe(function(){t._editor!=undefined&&t._editor.setValue("")})},e.prototype.onMonacoLoad=function(){var e="foo.json";monaco.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:"http://myserver/foo-schema.json",fileMatch:[e],schema:{type:"object",properties:{p1:{"enum":["v1","v2"]},p2:{$ref:"http://myserver/bar-schema.json"}}}},{uri:"http://myserver/bar-schema.json",fileMatch:[e],schema:{type:"object",properties:{q1:{"enum":["x1","x2"]}}}}]})},e.prototype.ngOnDestroy=function(){this._editor&&(this._editor.dispose(),this._editor=undefined)},e.prototype.initMonaco=function(e){var t=this;console.log("Init the custom monaco code editor."),this._editor=monaco.editor.create(this._editorComponent.nativeElement,e),this._editor.setValue(this._value),this._editor.onDidChangeModelContent(function(){return t.onChangeModelContentHandler()}),this._editor.onDidBlurEditorText(function(){return t.onBlurEditorTextHandler()}),this.codeEditorEventService.fireEvent({eventName:le.onInit,target:this,editor:this._editor})},e.prototype.onChangeModelContentHandler=function(){var e=this,t=this._editor.getValue();this.zone.run(function(){return e.value=t})},e.prototype.onBlurEditorTextHandler=function(){this.onTouchedHandler()},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this.value&&(this._value=e),this.onChangeHandler(this.value)},enumerable:!0,configurable:!0}),e.prototype.localEditor=function(){this.writeValue("test")},e.prototype.writeValue=function(e){var t=this;this.value=e||"",setTimeout(function(){t._editor&&t._editor.setValue(t._value)})},e.prototype.registerOnChange=function(e){this.onChangeHandler(this)},e.prototype.registerOnTouched=function(e){this.onTouchedHandler()},e.decorators=[{type:x.Component,args:[{selector:"app-my-monaco-editor",template:'<div class="editor h-100" #codeEditor></div>',providers:[he,de,{provide:me,useValue:fe}],styles:[":host{display:block;height:100%}"]}]}],e.ctorParameters=function(){return[{type:x.NgZone},{type:undefined,decorators:[{type:x.Inject,args:[me]}]},{type:de},{type:j}]},e.propDecorators={_editorComponent:[{type:x.ViewChild,args:["codeEditor"]}],onInit:[{type:x.Output}],onChange:[{type:x.Output}],onTouched:[{type:x.Output}],options:[{type:x.Input,args:["options"]}]},e}(),ke=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:me,useValue:e}]}},t.decorators=[{type:x.NgModule,args:[{imports:[y.CommonModule],exports:[ge],entryComponents:[ge],declarations:[ge],providers:[de]}]}],t}(),Se=function et(){this.className=""},be=function(){function e(e,t,n){this.eventService=e,this.injector=t,this.http=n,this.currentFuncTabType="String",this.funcExtend=[],this.selectFuncRow=new x.EventEmitter,this.dbclickInsert=new x.EventEmitter,this.items=[],this.standardFunctions=[],this.allFunctions=[],this.deprecatedFunctions=["StringSubstring","StringLength","StringReplace","StringToUpper","StringToLower","StringIndexOf","StringLastIndexOf","StringTrimStart","StringTrimEnd","StringTrim","StringAdd","Round","BankerRound","getComputeJsonData","ToDecimal","ToSingle"],this.columns=[],this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId)}return e.prototype.ngOnInit=function(){var e=this;this.eventService.subClearFuncSelect().subscribe(function(){e.dg.clearAll()}),this.columns=[{field:"name",title:this.localePipe.transform("FunctionSemanticName"),width:180},{field:"key",title:this.localePipe.transform("FunctionName"),width:180},{field:"param",title:this.localePipe.transform("FunctionParameter"),width:250}],this.allFunctions=re[this.localeId]||re["zh-CHS"];for(var t=0;t<this.allFunctions.length;t++)this.deprecatedFunctions.includes(this.allFunctions[t].key)||this.standardFunctions.push(this.allFunctions[t]);switch(this.currentFuncTabType){case"String":this.findFunctionByType("String");break;case"DateTime":this.findFunctionByType("DateTime");break;case"Aggregate":this.findFunctionByType("Aggregate");break;case"Translate":this.findFunctionByType("Translate");break;case"Estimate":this.findFunctionByType("Estimate");break;case"Math":this.findFunctionByType("Math");break;case"Analytical":this.findFunctionByType("Analytical");break;case"Advanced":this.findFunctionByType("Advanced");break;case"Extend":this.findFunctionByType("Extend")}var a=[];this.items.forEach(function(e){var t=new Se;"Advanced"==e.type?t.name=e.key:t.name=e.name,t.key=e.key,t.params=e.params,t.type=e.type,t.className=e.className,t.description=e.description,t.param="(";for(var n=0;n<e.params.length-1;n++)t.param=t.param+e.params[n].key+",";0!=e.params.length?t.param=t.param+e.params[e.params.length-1].key+")":t.param=t.param+")",a.push(t)}),this.items=a},e.prototype.ngOnChanges=function(){},e.prototype.ondblclickRow=function(e){this.dbclickInsert.emit(e.rowData)},e.prototype.selectRowChange=function(e){this.selectFuncRow.emit(e.data)},e.prototype.findFunctionByType=function(t){var n=this;this.items=[],this.standardFunctions.forEach(function(e){e.type==t&&n.items.push(e)})},e.decorators=[{type:x.Component,args:[{selector:"app-expr-func-grid",template:'<div style="height: 100%;width: 100%;">\r\n<farris-datagrid #dg\r\n[idField]="\'key\'"\r\n[columns]="columns" \r\n[data]="items"\r\n[fit]="true"\r\n[fitColumns]="false"\r\n[striped]="false"\r\n[showHeader]="true"\r\n[headerHeight]="30"\r\n[pagination]="false"\r\n(dblclickRow)="ondblclickRow($event)"\r\n(selectChanged)="selectRowChange($event)"\r\n>\r\n</farris-datagrid>\r\n</div>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:j},{type:x.Injector},{type:O.HttpClient}]},e.propDecorators={dg:[{type:x.ViewChild,args:["dg"]}],currentFuncTabType:[{type:x.Input}],funcExtend:[{type:x.Input}],selectFuncRow:[{type:x.Output}],dbclickInsert:[{type:x.Output}]},e}(),Fe=function(){function e(){this.selectVarRow=new x.EventEmitter,this.columns=[{field:"name",title:"名称"}],this.items=[],this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId)}return e.prototype.ngOnInit=function(){this.items=[{name:this.localePipe.transform("VariableSessionValue"),id:L.Session},{name:this.localePipe.transform("VariableContextParameter"),id:L.Context}]},e.prototype.selectRowChange=function(e){this.selectVarRow.emit(e.data)},e.decorators=[{type:x.Component,args:[{selector:"app-expression-var-grid",template:'<farris-datagrid\r\n[idField]="\'id\'"\r\n[height]="268"\r\n[columns]="columns" \r\n[data]="items"\r\n[fit]="true"\r\n[fitColumns]="true"\r\n[striped]="false"\r\n[showHeader]="false"\r\n[headerHeight]="30"\r\n[pagination]="false"\r\n(selectChanged)="selectRowChange($event)"\r\n>\r\n</farris-datagrid>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={h1:[{type:x.Input}],selectVarRow:[{type:x.Output}]},e}(),De=function(){function e(e){this.eventService=e,this.currentVarType=L.Context,this.contextEntities=[],this.sessionEntities=[],this.selectVarInfoRow=new x.EventEmitter,this.dbclickInsert=new x.EventEmitter,this.items=[],this.columns=[],this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId),this.columns=[{field:"key",title:this.localePipe.transform("VariableName"),width:"20%",filter:!0},{field:"name",title:this.localePipe.transform("VariableSemanticNameValue"),width:"30%",filter:!0}]}return e.prototype.ngOnInit=function(){var e=this;this.eventService.subClearFuncSelect().subscribe(function(){e.dg.clearAll()})},e.prototype.ngOnChanges=function(){switch(this.currentVarType){case L.Context:this.items=this.contextEntities;break;case L.Session:this.items=this.sessionEntities}},e.prototype.ondblclickRow=function(e){this.dbclickInsert.emit(e.rowData)},e.prototype.selectRowChange=function(e){this.selectVarInfoRow.emit(e.data)},e.decorators=[{type:x.Component,args:[{selector:"app-expression-var-info-grid",template:'<farris-datagrid #dg\r\n[idField]="\'key\'"\r\n[height]="268"\r\n[width]="430"\r\n[columns]="columns" \r\n[data]="items"\r\n[fit]="true"\r\n[fitColumns]="true"\r\n[striped]="false"\r\n[showHeader]="true"\r\n[enableFilterRow]="true"\r\n[pagination]="false"\r\n(dblclickRow)="ondblclickRow($event)"\r\n(selectChanged)="selectRowChange($event)"\r\n>\r\n</farris-datagrid>',styles:[""]}]}],e.ctorParameters=function(){return[{type:j}]},e.propDecorators={dg:[{type:x.ViewChild,args:["dg"]}],currentVarType:[{type:x.Input}],contextEntities:[{type:x.Input}],sessionEntities:[{type:x.Input}],selectVarInfoRow:[{type:x.Output}],dbclickInsert:[{type:x.Output}]},e}(),Te=function(){function e(){this.schema=new Map,this.selectschemachange=new x.EventEmitter,this.currentNode=new q,this.cols=[{field:"name",title:"纲要名称"}],this.treedata=[]}return e.prototype.ngOnInit=function(){this.convertSchema()},e.prototype.selectRowChange=function(e){this.currentNode=new q,this.currentNode.id=e.node.data.id,this.currentNode.name=e.node.data.name,this.currentNode.parentName=e.node.parent.data.name,this.selectschemachange.emit(this.currentNode)},e.prototype.convertSchema=function(){var a=this;this.schema.forEach(function(e,t){var n={data:{id:Math.random(),name:"",type:"",description:""},children:[]};n.data.name=t,n.data.type="Schema",n.data.description=e.description,e.entityTypes.forEach(function(e){var t={data:{id:"",name:"",type:"",description:""},children:[],parent:n};t.data.id=e.id,t.data.name=e.name,t.data.type="EntityType",t.data.description=e.description,n.children.push(t)}),a.treedata.push(n)})},e.decorators=[{type:x.Component,args:[{selector:"app-expression-schema-grid",template:'<farris-treetable #tt \r\n[data]="treedata"\r\n[fit]="true" \r\n[columns]="cols" \r\n[idField]="\'id\'"\r\n[height]="268"\r\n[showFilterBar]="false"\r\n[showHeader]="true"\r\n[enableFindText]="true"\r\n(cellClick)="selectRowChange($event)"\r\n>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={schema:[{type:x.Input}],selectschemachange:[{type:x.Output}]},e}(),Ne=function(){function e(){this.schema=new Map,this.choseSchemaTableName=new q,this.selectSchemaRow=new x.EventEmitter,this.dbclickInsert=new x.EventEmitter,this.selectString="",this.items=[],this.columns=[{field:"name",title:"属性名称",filter:!0}]}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(){var n=this,e=this.choseSchemaTableName.parentName,t=this.choseSchemaTableName.id,a=this.choseSchemaTableName.name,i=this.schema.get(e);if(i){var r=i.entityTypes.find(function(e){return e.id==t&&e.name==a||""==e.id&&e.name==a});if(r)this.items=r.properties,r.navigationProperties.forEach(function(e){var t=new V;t.name=e.name,t.type=e.type.toString(),t.description=e.description,n.items=n.items.filter(function(e){return e.name!==t.name}),n.items.push(t)}),this.selectString=r.name;else{var s=i.entitySets.find(function(e){return e.name==a});if(s){var o=i.entityTypes.find(function(e){return e.name==s.entityType});this.items=o.properties,o.navigationProperties.forEach(function(e){var t=new V;t.name=e.name,t.type=e.type.toString(),t.description=e.description,n.items=n.items.filter(function(e){return e.name!==t.name}),n.items.push(t)}),this.selectString=s.name+".[0]"}}}},e.prototype.ondblclickRow=function(e){this.dbclickInsert.emit(this.selectString+"."+e.rowData.name)},e.prototype.selectRowChange=function(e){this.selectSchemaRow.emit(e.data)},e.decorators=[{type:x.Component,args:[{selector:"app-expression-schema-info-grid",template:'<farris-datagrid\r\n[idField]="\'name\'"\r\n[height]="268"\r\n[width]="300"\r\n[columns]="columns" \r\n[data]="items"\r\n[fit]="true"\r\n[fitColumns]="true"\r\n[striped]="false"\r\n[showHeader]="true"\r\n[pagination]="false"\r\n[enableFilterRow]="true"\r\n(dblclickRow)="ondblclickRow($event)"\r\n(selectChanged)="selectRowChange($event)"\r\n>\r\n</farris-datagrid>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={schema:[{type:x.Input}],choseSchemaTableName:[{type:x.Input}],selectSchemaRow:[{type:x.Output}],dbclickInsert:[{type:x.Output}]},e}(),ve=function(){function e(){this.currentNode=new q,this.entities=[],this.currentSchemaName="",this.currentNewSchemaName="",this.currentParent="",this.schema=new Map,this.newSchemaMap=new Map,this.selectentitychange=new x.EventEmitter,this.dbclickInsert=new x.EventEmitter,this.cols=[],this.treedata=[],this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId)}return e.prototype.ngOnInit=function(){this.cols=[{field:"name",title:this.localePipe.transform("EntityList")},{field:"description",title:this.localePipe.transform("EntityName")},{field:"type",title:this.localePipe.transform("EntityType"),width:"100"}],this.newSchemaMap&&0<this.newSchemaMap.size?(this.onInitNewSchema(),this.treedata=S.cloneDeep(this.entities)):this.schema&&0<this.schema.size&&(this.OninitSchemaEntity(),this.treedata=S.cloneDeep(this.entities))},e.prototype.selectRowChange=function(e){this.currentNode=new q,this.currentNode.id=e.node.data.id,this.currentNode.name=e.node.data.name,this.currentNode.parentName=this.selectParentString(e.node),this.currentParent=this.selectParentString(e.node),this.currentNode.schema=e.node.data.schema,this.currentNode.nodeType=e.node.data.nodeType,this.currentNode.description=e.node.data.description,this.selectentitychange.emit(this.currentNode)},e.prototype.dblClick=function(e){this.currentParent?this.dbclickInsert.emit(this.currentParent+"."+e.data.name):this.dbclickInsert.emit(e.data.name)},e.prototype.ngOnChanges=function(){this.newSchemaMap&&0<this.newSchemaMap.size?(this.onInitNewSchema(),this.treedata=S.cloneDeep(this.entities)):this.schema&&0<this.schema.size&&(this.OninitSchemaEntity(),this.treedata=S.cloneDeep(this.entities))},e.prototype.selectParentString=function(e){return e.parent?this.selectParentString(e.parent)?this.strContain(e.parent.data.type)?this.selectParentString(e.parent)+"."+e.parent.data.name+"[0]":this.selectParentString(e.parent)+"."+e.parent.data.name:this.strContain(e.parent.data.type)?e.parent.data.name+"[0]":e.parent.data.name:""},e.prototype.OninitSchemaEntity=function(){var i=this;if(this.injectedEntities&&0<this.injectedEntities.length){this.entities=[];var r={data:{id:Math.random(),name:"",type:"",description:"",schema:"",nodeType:""},children:[]},s=new Map;this.injectedEntities.forEach(function(t){var e=i.schema.get(t.schemaName);switch(i.currentSchemaName=t.schemaName,t.injectedType){case $.EntitySet:var n=e.entitySets.find(function(e){return e.name==t.injectedName});r=i.ConvertEntitySet(n,e,s);break;case $.EntityType:var a=e.entityTypes.find(function(e){return e.name==t.injectedName});r=i.ConvertEntityType(a,e,s)}r.data.name=t.name,i.entities.push(r)})}},e.prototype.ConvertEntitySet=function(t,e,n){if(t){var a={data:{id:"",name:t.name,type:"EntitySet["+t.entityType+"]",description:t.description,schema:this.currentSchemaName,nodeType:"Complex"},children:[]};n.set(t.name,$.EntitySet);var i=e.entityTypes.find(function(e){return e.name==t.entityType});return this.ConvertEntityType(i,e,n).children.forEach(function(e){a.children.push(e)}),a}return null},e.prototype.ConvertEntityType=function(n,r,s){var o=this;if(n){var c={data:{id:n.id,name:n.name,type:"EntityType",description:n.description,schema:this.currentSchemaName,nodeType:"Complex"},children:[]};return s.set(n.name+n.id,$.EntityType),n.properties.forEach(function(e){var t={data:{id:Math.random(),name:"",type:e.type,description:e.description,schema:o.currentSchemaName,nodeType:"Simple"},children:[]};e.name==n.key?t.data.name=e.name+"*":t.data.name=e.name,(t.parent=c).children.push(t)}),n.navigationProperties.forEach(function(t){if(s.get(t.name+t.navigationId)){var e={data:{id:t.navigationId,name:t.name,type:"",description:t.description,schema:o.currentSchemaName,nodeType:"Complex"},children:[]};switch(s.get(t.name)){case Y.EntitySet:e.data.type="EntitySet";break;case Y.EntityType:e.data.type="EntityType"}(e.parent=c).children.push(e)}else if(t.type==Y.EntitySet){var n=r.entitySets.find(function(e){return e.name==t.name});((a=o.ConvertEntitySet(n,r,s)).parent=c).children.push(a)}else if(t.type==Y.EntityType){var a,i=r.entityTypes.find(function(e){return e.id==t.navigationId&&e.name==t.name});((a=o.ConvertEntityType(i,r,s)).parent=c).children.push(a)}}),c}return null},e.prototype.strContain=function(e){return-1!=(e+"").indexOf("EntitySet")},e.prototype.onInitNewSchema=function(){var i=this;if(this.injectedEntities&&0<this.injectedEntities.length){this.entities=[];var r={data:{id:Math.random(),name:"",description:"",type:"",schema:"",nodeType:""},children:[]},s=new Map;this.injectedEntities.forEach(function(t){var e=i.newSchemaMap.get(t.schemaName);switch(i.currentNewSchemaName=t.schemaName,t.injectedType){case $.EntitySet:var n=e.entitySets.find(function(e){return e.code==t.injectedName});r=i.convertNewEntitySet(n,e,s);break;case $.EntityType:var a=e.entityTypes.find(function(e){return e.code==t.injectedName});r=i.convertNewEntityType(a,e,s)}r.data.name=t.name,i.entities.push(r)})}},e.prototype.convertNewEntityType=function(e,r,s){var o=this;if(e){var c={data:{id:e.code,name:e.code,description:e.name,type:"EntityType",schema:this.currentNewSchemaName,nodeType:"Complex"},children:[]};return s.set(e.name+e.code,$.EntityType),e.properties.forEach(function(e){var t={data:{id:Math.random(),name:e.code,description:e.name,type:e.dataType,schema:o.currentNewSchemaName,nodeType:"Simple"},children:[]};(t.parent=c).children.push(t)}),e.navigationProperties.forEach(function(t){if(s.get(t.navigationName+t.code)){var e={data:{id:t.navigationName,name:t.code,description:t.name,type:"",schema:o.currentNewSchemaName,nodeType:"Complex"},children:[]};switch(s.get(t.navigationName)){case ee:e.data.type="EntitySet";break;case te:e.data.type="EntityType"}(e.parent=c).children.push(e)}else if(t.navigationType==te){var n=r.entityTypes.find(function(e){return e.code==t.navigationName});((a=o.convertNewEntityType(n,r,s)).parent=c).children.push(a)}else if(t.navigationType==ee){var a,i=r.entitySets.find(function(e){return e.code==t.navigationName});((a=o.convertNewEntitySet(i,r,s)).parent=c).children.push(a)}}),c}return null},e.prototype.convertNewEntitySet=function(t,e,n){if(t){var a={data:{id:Math.random(),name:t.code,description:t.name,type:"EntitySet["+t.code+"]",schema:this.currentNewSchemaName,nodeType:"Complex"},children:[]};n.set(t.name,$.EntitySet);var i=e.entityTypes.find(function(e){return e.code==t.entityType});return this.convertNewEntityType(i,e,n).children.forEach(function(e){a.children.push(e)}),a}return null},e.prototype.searchByFilter=function(e){if(e.value&&""!=e.value&&this.treedata){for(var t=0;t<this.treedata.length;t++)this.searchByFilter1(e.value,this.treedata[t]);for(t=0;t<this.treedata.length;t++)this.filter1(this.treedata[t])}},e.prototype.searchByFilter1=function(e,t){if(t.children&&0<t.children.length)for(var n=0;n<t.children.length;n++)this.searchByFilter1(e,t.children[n]);else if(0==t.children.length&&-1==t.data.description.indexOf(e)){var a=-1;if(null!=t.parent)for(var i=0;i<t.parent.children.length;i++)if(t.parent.children[i]&&t.parent.children[i].data.description==t.data.description){a=i,delete t.parent.children[a];break}}},e.prototype.filter1=function(e){if(e.children&&0<e.children.length){var t=e.children.filter(function(e){return e!=undefined});e.children=t;for(var n=0;n<e.children.length;n++)e.children[n].children&&0<e.children[n].children.length&&this.filter1(e.children[n])}else e.children.length},e.prototype.filter=function(e){this.tt.searchHandle.search("description",e.value,"client")},e.decorators=[{type:x.Component,args:[{selector:"app-expression-entity-grid",template:'<farris-treetable #tt \r\n[data]="treedata"\r\n[fit]="true" \r\n[fitColumns]="true"\r\n[fixedHeader]="true"\r\n[columns]="cols" \r\n[idField]="\'id\'"\r\n[height]="268"\r\n[showFilterBar]="true"\r\n[resizableColumns]="true"\r\n[showHeader]="true"\r\n[enableFindText]="true"\r\n[virtualized]="false"\r\n(dblClick)="dblClick($event)"\r\n(cellClick)="selectRowChange($event)"\r\n(search)="filter($event)"\r\n>\r\n</farris-treetable>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={schema:[{type:x.Input}],newSchemaMap:[{type:x.Input}],injectedEntities:[{type:x.Input}],selectentitychange:[{type:x.Output}],dbclickInsert:[{type:x.Output}],tt:[{type:x.ViewChild,args:["tt"]}]},e}(),xe=function(){function e(){this.schema=new Map,this.newSchemaMap=new Map,this.choseEntityTableName=new q,this.selectSchemaRow=new x.EventEmitter,this.dbclickInsert=new x.EventEmitter,this.selectString="",this.items=[],this.columns=[],this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(){var e,n=this,t=this.choseEntityTableName.schema,a=this.choseEntityTableName.parentName,i=this.choseEntityTableName.id,r=this.choseEntityTableName.name;if(this.newSchemaMap&&0<this.newSchemaMap.size){if(this.columns=[{field:"code",title:this.localePipe.transform("EntityPropList"),filter:!0}],this.items=[],e=this.newSchemaMap.get(t)){var s;if(!(s=e.entityTypes.find(function(e){return e.code==r||""==e.code}))){var o=e.entitySets.find(function(e){return e.code==r});o&&(s=e.entityTypes.find(function(e){return e.code==o.entityType}))}this.items=R(s.properties),s.navigationProperties.forEach(function(e){var t=new Q;t.code=e.code,t.name="",t.dataType=e.navigationType.toString(),t.nullable=!1,t.defaultValue=null,n.items.push(t),n.items=Array.from(n.items)}),this.selectString=a+"."+s.name}}else if(this.columns=[{field:"name",title:this.localePipe.transform("EntityPropList"),filter:!0}],this.items=[],e=this.schema.get(t))if(s=e.entityTypes.find(function(e){return e.id==i&&e.name==r||""==e.id&&e.name==r}))this.items=R(s.properties),s.navigationProperties.forEach(function(e){var t=new V;t.name=e.name,t.type=e.type.toString(),t.description=e.description,n.items.push(t)}),this.selectString=a+"."+s.name;else{var c=e.entitySets.find(function(e){return e.name==r});if(c){var p=e.entityTypes.find(function(e){return e.name==c.entityType});this.items=R(p.properties),p.navigationProperties.forEach(function(e){var t=new V;t.name=e.name,t.type=e.type.toString(),t.description=e.description,n.items.push(t)}),this.selectString=a+"."+c.name+".[0]"}}},e.prototype.ondblclickRow=function(e){this.newSchemaMap&&0<this.newSchemaMap.size?this.dbclickInsert.emit(e.rowData.data.code):this.schema&&0<this.schema.size&&this.dbclickInsert.emit(e.rowData.data.name)},e.prototype.selectRowChange=function(e){this.selectSchemaRow.emit(e.data)},e.decorators=[{type:x.Component,args:[{selector:"app-expression-entity-info-grid",template:'<farris-datagrid\r\n[idField]="\'name\'"\r\n[height]="268"\r\n[columns]="columns" \r\n[data]="items"\r\n[fit]="true"\r\n[fitColumns]="true"\r\n[striped]="false"\r\n[showHeader]="true"\r\n[pagination]="false"\r\n[enableFilterRow]="true"\r\n(dblclickRow)="ondblclickRow($event)"\r\n(selectChanged)="selectRowChange($event)"\r\n>\r\n</farris-datagrid>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={schema:[{type:x.Input}],newSchemaMap:[{type:x.Input}],choseEntityTableName:[{type:x.Input}],selectSchemaRow:[{type:x.Output}],dbclickInsert:[{type:x.Output}]},e}(),Ee=function(){function e(){this.smartHelp=[],this.selectSchemaRow=new x.EventEmitter,this.dbclickInsert=new x.EventEmitter,this.items=[],this.columns=[],this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId)}return e.prototype.ngOnInit=function(){this.columns=[{field:"code",width:60,title:this.localePipe.transform("HelpCode"),filter:!0},{field:"name",width:60,title:this.localePipe.transform("HelpName"),filter:!0},{field:"description",width:100,title:this.localePipe.transform("HelpDescription"),filter:!0}],this.items=this.smartHelp},e.prototype.ondblclickRow=function(t){var e=this.smartHelp.find(function(e){return e.code==t.rowData.code});this.dbclickInsert.emit(e.serviceInstance.showWizard())},e.prototype.selectRowChange=function(e){this.selectSchemaRow.emit(e.data)},e.decorators=[{type:x.Component,args:[{selector:"app-expression-smart-help-grid",template:'<farris-datagrid\r\n[idField]="\'code\'"\r\n[height]="268"\r\n[width]="650"\r\n[columns]="columns" \r\n[data]="items"\r\n[fit]="true"\r\n[fitColumns]="true"\r\n[striped]="false"\r\n[showHeader]="true"\r\n[pagination]="false"\r\n(dblclickRow)="ondblclickRow($event)"\r\n(selectChanged)="selectRowChange($event)"\r\n>\r\n</farris-datagrid>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={smartHelp:[{type:x.Input}],selectSchemaRow:[{type:x.Output}],dbclickInsert:[{type:x.Output}]},e}(),we={baseUrl:"assets",defaultOptions:{scrollBeyondLastLine:!1}},Ce=function(){function e(){}return e.decorators=[{type:x.NgModule,args:[{declarations:[ye,se,be,Fe,De,Te,Ne,ve,xe,Ee,ie],imports:[y.CommonModule,ke.forRoot(we),m.FormsModule,b.DialogsModule,F.LayoutModule,D.ButtonsModule,T.TreeViewModule,N.InputsModule,v.GridModule,m.FormsModule,m.ReactiveFormsModule,g.TreeTableModule,i.ComboLookupModule,r.DataTableModule,s.FarrisDialogModule,a.PerfectScrollbarModule,O.HttpClientModule,o.MessagerModule.forRoot(),E.ModalModule.forRoot(),p.NotifyModule,d.SplitterModule,u.FarrisTabsModule,k.DatagridFilterRowModule.forRoot(),h.DatagridModule,f.AngularDraggableModule],entryComponents:[ye,se],exports:[ye,se],providers:[c.ComboService,E.BsModalService,j,O.HttpClient]}]}],e}(),Me={Conditional:0,Advanced:1};Me[Me.Conditional]="Conditional",Me[Me.Advanced]="Advanced";function Oe(){}function Ie(){this.className=""}var Re=function(){function e(e,t,n,a){this.injector=e,this.applicationRef=t,this.compFactRes=n,this.http=a,this.exprEditMode=Me.Advanced,this.simpleModalConfig={title:"条件表达式",width:750,height:350,showButtons:!1},this.exprEntity=new P,this.adapter=new ne,this.allFunctions=[],this.modalService=e.get(E.BsModalService),this.localeId=localStorage.getItem("languageCode"),this.localePipe=new ie(this.localeId),this.allFunctions=re[this.localeId]||re["zh-CHS"],this.ExpressionTitle=this.localePipe.transform("ExpressionTitle"),this.ExpressionSave=this.localePipe.transform("ExpressionSave"),this.ExpressionCancel=this.localePipe.transform("ExpressionCancel")}return e.prototype.buildExpression=function(){var o=this;return new Promise(function(t){if(o.exprEditMode==Me.Conditional)if(null==o.exprEntity.expr||""==o.exprEntity.expr||null!=o.exprEntity.sexpr&&""!=o.exprEntity.sexpr){var e=o.compFactRes.resolveComponentFactory(ye).create(o.injector);e.instance.contextEntity=o.exprEntity;var n=o.modalService.show(e,o.simpleModalConfig);e.instance.closeModalEmitter.subscribe(function(e){return n.close()}),e.instance.result.subscribe(function(e){return t(e)})}else{var a=o.compFactRes.resolveComponentFactory(se).create(o.injector);a.instance.expressionEntity=o.exprEntity;var i=o.modalService.show(a,{title:o.ExpressionTitle,width:1060,height:610,buttons:[{text:o.ExpressionSave,cls:"btn btn-primary",handle:function(){a.instance.getExprs(),i.close()}},{text:o.ExpressionCancel,cls:"btn btn-secondary",handle:function(){i.close()}}],showButtons:!0});a.instance.result.subscribe(function(e){return t(e)})}else{var r=o.compFactRes.resolveComponentFactory(se).create(o.injector);r.instance.expressionEntity=o.exprEntity;var s=o.modalService.show(r,{title:o.ExpressionTitle,width:1060,height:610,buttons:[{text:o.ExpressionSave,cls:"btn btn-primary",handle:function(){r.instance.getExprs(),s.close()}},{text:o.ExpressionCancel,cls:"btn btn-secondary",handle:function(){s.close()}}],showButtons:!0});r.instance.result.subscribe(function(e){return t(e)})}})},e.prototype.setEditPattern=function(e){this.exprEditMode=e},e.prototype.addContext=function(t){this.exprEntity.contextEntities=this.exprEntity.contextEntities.filter(function(e){return e.key!==t.key}),this.exprEntity.contextEntities.push(t)},e.prototype.addSession=function(t){this.exprEntity.sessionEntities=this.exprEntity.sessionEntities.filter(function(e){return e.key!==t.key}),this.exprEntity.sessionEntities.push(t)},e.prototype.addFunc=function(t){this.exprEntity.funcEntities=this.exprEntity.funcEntities.filter(function(e){return e.key!==t.key}),this.exprEntity.funcEntities.push(t)},e.prototype.addFuncs=function(e){var t=this;JSON.parse(e).funcs.forEach(function(e){t.exprEntity.funcEntities.push(e)})},e.prototype.addExpressionText=function(e){try{var t=JSON.parse(e);if(t)if(t.expr){var n=new w.InputStream(t.expr),a=new M.JavaScriptLexer(n),i=new C.CommonTokenStream(a);i.fill();for(var r=new Array,s=0;s<i.tokens.length-1;s++)r[s]=i.tokens[s].text;var o="";for(s=0;s<r.length;s++)if(("DefaultFunction"!=r[s]&&"Math"!=r[s]||"."!=r[s+1])&&("."!=r[s]||"DefaultFunction"!=r[s-1]&&"Math"!=r[s-1])){var c=0;if(0==c)for(var p=0;p<this.exprEntity.contextEntities.length;p++)if(r[s]=='"'+this.exprEntity.contextEntities[p].key+'"'){o=o+'"'+this.exprEntity.contextEntities[p].name+'"',c=1;break}if(0==c)for(p=0;p<this.exprEntity.sessionEntities.length;p++)if(r[s]=='"'+this.exprEntity.sessionEntities[p].key+'"'){o=o+'"'+this.exprEntity.sessionEntities[p].name+'"',c=1;break}if(0==c)for(p=0;p<this.allFunctions.length;p++)if(r[s]==this.allFunctions[p].key&&"Advanced"!=this.allFunctions[p].type){o+=this.allFunctions[p].name,c=1;break}0==c&&(o+=r[s])}this.exprEntity.expr=o,t.sexpr&&(this.exprEntity.sexpr=t.sexpr)}else this.GetUnCamelParse(t),this.exprEntity.expr=t.expr,t.sexpr&&(this.exprEntity.sexpr=t.sexpr);else this.exprEntity.expr=e}catch(y){this.exprEntity.expr=e}},e.prototype.addSchema=function(e,t){e?this.exprEntity.schemaMap.set(e,t):alert("Please Input Schema Name!")},e.prototype.addInjectedEntity=function(e,t,n,a){void 0===t&&(t="CommonObject"),void 0===a&&(a=$.EntityType);var i=new _;i.name=e||n,i.schemaName=t,i.injectedName=n,i.injectedType=a,this.exprEntity.injectedEntities=this.exprEntity.injectedEntities.filter(function(e){return e.name!==i.name}),this.exprEntity.injectedEntities.push(i)},e.prototype.addCDT=function(e){var n=this,a=new A;this.exprEntity.schemaMap.get("CDT")&&(a=this.exprEntity.schemaMap.get("CDT")),e.forEach(function(e){var t=n.adapter.convertCDT(e);a.entityTypes.push(t)}),this.addSchema("CDT",a)},e.prototype.addCommonObject=function(e){var n;n=this.exprEntity.schemaMap.get("CommonObject")?this.exprEntity.schemaMap.get("CommonObject"):new A,this.adapter.convertCO(e).forEach(function(e){n.entityTypes.push(e);var t=new W;t.name=e.name+"s",t.entityType=e.name,t.description=e.description,n.entitySets.push(t)}),this.addSchema("CommonObject",n)},e.prototype.addSmartHelpEntity=function(t){this.exprEntity.smartHelpEntities=this.exprEntity.smartHelpEntities.filter(function(e){return e.code!==t.code}),this.exprEntity.smartHelpEntities.push(t)},e.prototype.addWindowWidth=function(e){},e.prototype.clearInjectedEntity=function(){this.exprEntity.injectedEntities=[]},e.prototype.GetUnCamelParse=function(e){for(var t in e){"object"==typeof e[t]&&this.GetUnCamelParse(e[t]);var n=e[t];delete e[t],e[this.ConvertToUncamel(t)]=n}},e.prototype.ConvertToUncamel=function(e){if(0<e.length){for(var t=e.length,n="",a=0;a<t;a++)n+=0==a?e[a].toLowerCase():e[a];return n}},e.prototype.addNewSchema=function(e,t){e?this.exprEntity.newSchemaMap.set(e,t):alert("Please Input NewSchema Name!")},e.prototype.addCommonObjectOfNewSchema=function(e){var n;n=this.exprEntity.newSchemaMap.get("CommonObject")?this.exprEntity.newSchemaMap.get("CommonObject"):new z,this.adapter.convertCOOfNewSchema(e).forEach(function(e){n.entityTypes.push(e);var t=new J;t.code=e.name+"s",t.entityType=e.code,n.entitySets.push(t)}),this.addNewSchema("CommonObject",n)},e.prototype.addCDTOfNewSchema=function(e){var n=this,a=new z;this.exprEntity.newSchemaMap.get("CDT")&&(a=this.exprEntity.newSchemaMap.get("CDT")),e.forEach(function(e){var t=n.adapter.convertCDTOfNewSchema(e);a.entityTypes.push(t)}),this.addNewSchema("CDT",a)},e.decorators=[{type:x.Injectable}],e.ctorParameters=function(){return[{type:x.Injector},{type:x.ApplicationRef},{type:x.ComponentFactoryResolver},{type:O.HttpClient}]},e}(),je={Advanced:0,Date:1,Estimate:2,String:3,Translate:4,Aggregate:5,Analytical:6,Math:7,Extend:8};je[je.Advanced]="Advanced",je[je.Date]="Date",je[je.Estimate]="Estimate",je[je.String]="String",je[je.Translate]="Translate",je[je.Aggregate]="Aggregate",je[je.Analytical]="Analytical",je[je.Math]="Math",je[je.Extend]="Extend";function Le(){}function Pe(){}e.ExpressionModule=Ce,e.ExpressioneditorComponent=se,e.ExpressionService=Re,e.ExpressionEventService=j,e.ExpressionEntity=G,e.VarEntity=Oe,e.FuncEntity=Ie,e.FuncType=je,e.Parameter=Le,e.InjectedType=$,e.InjectedEntity=_,e.Schema=A,e.EntityType=B,e.EntitySet=W,e.Property=V,e.NavigationProperty=H,e.NavigationType=Y,e.ExpressionContextEntity=P,e.SmartHelpEntity=Pe,e.ExprEditMode=Me,e.ExpressionEditorLocalePipe=ie,e.ɵa=ye,e.ɵb=be,e.ɵg=ve,e.ɵh=xe,e.ɵe=Te,e.ɵf=Ne,e.ɵi=Ee,e.ɵc=Fe,e.ɵd=De,e.ɵn=me,e.ɵm=de,e.ɵk=he,e.ɵl=ge,e.ɵj=ke,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gsp-svc-expression.umd.min.js.map