/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, Injector, Optional } from '@angular/core';
import { ExpressionEventService } from '../expression-event-service';
import { VarType } from '../expression-var-grid/vartype';
import { ExpressionContextEntity } from '../expression-context-entity';
import { Schema, EntitySet } from '../schema';
import { ExpressionEntity } from '../expression-entity';
import { CurrentNode } from '../currentNode';
import { InjectedEntity } from '../injected-entity';
import { NotifyService } from '@farris/ui-notify';
import { InjectedType } from '../injected-type';
import { Adapter } from '../adapter';
import InputStream from 'antlr4/InputStream';
import CommonTokenStream from 'antlr4/CommonTokenStream';
import JavaScriptLexer from 'JavaScriptLexer';
import { HttpClient } from "@angular/common/http";
import { ExpressionEditorLocalePipe } from '../expression-editor-locale.pipe';
import { FunctionI18nResources } from '../i18n/FunctionI18nResource';
import { NewEntitySet, NewSchema } from '../i18n/NewSchema';
export class ExpressioneditorComponent {
    /**
     * @param {?} eventService
     * @param {?} injector
     * @param {?} http
     */
    constructor(eventService, injector, http) {
        this.eventService = eventService;
        this.injector = injector;
        this.http = http;
        this.standardFunctions = []; //规范函数
        //规范函数
        this.allFunctions = []; //所有函数，包含不规范
        //所有函数，包含不规范
        this.deprecatedFunctions = [
            "StringSubstring", "StringLength", "StringReplace", "StringToUpper", "StringToLower", "StringIndexOf", "StringLastIndexOf", "StringTrimStart", "StringTrimEnd", "StringTrim", "StringAdd",
            "Round", "BankerRound",
            "getComputeJsonData",
            "ToDecimal", "ToSingle"
        ]; //函数调整，一些函数由于命名不规范而不使用，并为这些函数提供规范命名的实现。为了支持已经保存的表达式，不规范命名函数将会保留，但是会被过滤掉
        //函数调整，一些函数由于命名不规范而不使用，并为这些函数提供规范命名的实现。为了支持已经保存的表达式，不规范命名函数将会保留，但是会被过滤掉
        this.currentFuncTabType = "String"; //当前函数选择类型
        //当前函数选择类型
        this.currentVarType = VarType.Context; //当前变量选择类型
        //当前变量选择类型
        this.descriptinfo = ""; //函数说明
        //函数说明
        this.keyInfo = ""; //函数key值
        //函数key值
        this.schema = new Map(); //schema列表
        //schema列表
        this.newSchemaMap = new Map(); //newSchema列表
        //newSchema列表
        this.choseSchemaTableName = new CurrentNode; //选择schema、entity中的表名
        //表达式临时文本
        this.selectedResource = false;
        this.entitywidth = "100%";
        this.adapter = new Adapter();
        this.selectnewfunc = false;
        this.funcExtend = []; //扩展函数实体
        //扩展函数实体
        this.expressionEntity = new ExpressionContextEntity; //表达式内部上下文
        //表达式内部上下文
        this.contextEntities = [];
        this.sessionEntities = [];
        this.injectedEntities = [];
        this.smartHelp = [];
        this.isPanel = false;
        this.funcEntities = [];
        this.gspCDTs = [];
        this.commonObjects = [];
        this.injectSchemaName = "CommonObject";
        this.injectedType = InjectedType.EntityType;
        this.windowWidth = 1000;
        this.result = new EventEmitter();
        this.closeModalEmitter = new EventEmitter();
        //消息提示
        this.notifies = {
            1: { type: 'success', msg: '表达式生成！' },
            2: { type: 'warning', msg: '请确保必填项填写完整！' },
            3: { type: 'info', msg: '功能尚未提供！' }
        };
        //编辑器的基本参数
        this.options = {
            theme: 'vs-light',
            language: 'javascript',
            automaticLayout: true
        };
        if (this.injector) {
            this.notifyService = this.injector.get(NotifyService);
            this.http = this.injector.get(HttpClient);
            this.localeId = localStorage.getItem('languageCode');
            this.localePipe = new ExpressionEditorLocalePipe(this.localeId);
        }
    }
    //编辑器显示文本绑定
    /**
     * @return {?}
     */
    ngOnInit() {
        //初始化frame i18n资源
        this.Advanced = this.localePipe.transform("Advanced");
        this.String = this.localePipe.transform("String");
        this.Aggregate = this.localePipe.transform("Aggregate");
        this.Estimate = this.localePipe.transform("Estimate");
        this.DateTime = this.localePipe.transform("DateTime");
        this.Translate = this.localePipe.transform("Translate");
        this.Analytical = this.localePipe.transform("Analytical");
        this.Math = this.localePipe.transform("Math");
        this.Extend = this.localePipe.transform("Extend");
        this.Variable = this.localePipe.transform("Variable");
        this.Entity = this.localePipe.transform("Entity");
        this.Help = this.localePipe.transform("Help");
        this.FunctionDescription = this.localePipe.transform("FunctionDescription");
        this.VarDescription = this.localePipe.transform("VarDescription");
        this.CurrentProp = this.localePipe.transform("CurrentProp");
        this.CurrentChosedProp = this.localePipe.transform("CurrentChosedProp");
        //初始化i18n函数
        this.allFunctions = FunctionI18nResources[this.localeId] || FunctionI18nResources["zh-CHS"];
        //过滤不规范命名函数
        for (let i = 0; i < this.allFunctions.length; i++) {
            if (!this.deprecatedFunctions.includes(this.allFunctions[i].key)) {
                this.standardFunctions.push(this.allFunctions[i]);
            }
        }
        //区分：弹出框or面板
        if (this.isPanel) {
            this.OninitPanel();
        }
        else {
            this.OninitWindows();
        }
    }
    /**
     * @return {?}
     */
    ngOnChanges() {
        if (this.isPanel) {
            this.OninitPanel();
        }
    }
    //弹出框式
    /**
     * @private
     * @return {?}
     */
    OninitWindows() {
        //若表达式上下文实体为空或其中的预置表达式文本字段为空或文本长度为0，则预置默认的文本
        if (!(this.expressionEntity) || !(this.expressionEntity.expr) || this.expressionEntity.expr.length == 0) {
            this.code = null;
        }
        else {
            //否则，添加预置文本显示
            this.code = this.expressionEntity.expr;
        }
        //初始化各扩展函数实体
        this.expressionEntity.funcEntities.forEach((/**
         * @param {?} funcentity
         * @return {?}
         */
        funcentity => {
            this.funcExtend = this.funcExtend.filter((/**
             * @param {?} item
             * @return {?}
             */
            item => item.key !== funcentity.key));
            this.funcExtend.push(funcentity);
        }));
        //初始化各上下文实体
        this.expressionEntity.contextEntities.forEach((/**
         * @param {?} contextentity
         * @return {?}
         */
        contextentity => {
            this.contextEntities.push(contextentity);
        }));
        //初始化各系统变量实体
        this.expressionEntity.sessionEntities.forEach((/**
         * @param {?} sessionentity
         * @return {?}
         */
        sessionentity => {
            this.sessionEntities.push(sessionentity);
        }));
        //初始化schema实体类型列表
        this.schema = this.expressionEntity.schemaMap;
        //初始化newSchema实体类型列表
        this.newSchemaMap = this.expressionEntity.newSchemaMap;
        //初始化injectedEntities注入实体
        this.injectedEntities = this.expressionEntity.injectedEntities;
        //初始化smartHelp列表
        this.smartHelp = this.expressionEntity.smartHelpEntities;
    }
    //面板式
    /**
     * @private
     * @return {?}
     */
    OninitPanel() {
        if (this.customNewSchemaName && this.customNewSchema) {
            //注入NewSchema
            this.newSchemaMap.set(this.customNewSchemaName, this.customNewSchema);
            if (this.injectName && this.injectNameInSchema && this.injectSchemaName) {
                this.injectedEntities = this.injectedEntities.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item.injectedName !== this.injectName));
                //构造注入实体对象
                /** @type {?} */
                let injectedEntity = new InjectedEntity();
                //若注入的实体名为空，则默认为注入实体在newSchema中的名称
                injectedEntity.name = this.injectName ? this.injectName : this.injectNameInSchema;
                injectedEntity.schemaName = this.injectSchemaName;
                injectedEntity.injectedName = this.injectNameInSchema;
                injectedEntity.injectedType = this.injectedType;
                this.injectedEntities.push(injectedEntity);
            }
            if (this.gspCDTs && this.gspCDTs.length > 0) {
                /** @type {?} */
                let innerSchema = new NewSchema();
                //若newSchemaMap中存在CDT的schema
                if (this.newSchemaMap.get("CDT")) {
                    innerSchema = this.newSchemaMap.get("CDT");
                }
                //将每一个CDT转化为newSchema内部结构中的entityType
                this.gspCDTs.forEach((/**
                 * @param {?} gspCDT
                 * @return {?}
                 */
                gspCDT => {
                    /** @type {?} */
                    let entityType = this.adapter.convertCDTOfNewSchema(gspCDT);
                    innerSchema.entityTypes = innerSchema.entityTypes.filter((/**
                     * @param {?} item
                     * @return {?}
                     */
                    item => item.code !== entityType.code));
                    innerSchema.entityTypes.push(entityType);
                }));
                //将合并后的newSchema放入内部上下文实体中
                this.newSchemaMap.set("CDT", innerSchema);
            }
            if (this.commonObjects && this.commonObjects.length > 0) {
                /** @type {?} */
                let innerSchema = new NewSchema;
                ;
                //若newSchemaMap中存在CO的newSchema
                if (this.newSchemaMap.get("CommonObject")) {
                    innerSchema = this.newSchemaMap.get("CommonObject");
                }
                this.commonObjects.forEach((/**
                 * @param {?} co
                 * @return {?}
                 */
                co => {
                    //将每一个CO转化为schema内部结构中的entityType
                    /** @type {?} */
                    let entityTypes = this.adapter.convertCOOfNewSchema(co);
                    entityTypes.forEach((/**
                     * @param {?} entityType
                     * @return {?}
                     */
                    entityType => {
                        innerSchema.entityTypes = innerSchema.entityTypes.filter((/**
                         * @param {?} item
                         * @return {?}
                         */
                        item => item.code !== entityType.code));
                        innerSchema.entityTypes.push(entityType);
                        /** @type {?} */
                        let entitySet = new NewEntitySet;
                        entitySet.code = entityType.code + "s";
                        entitySet.name = entityType.name;
                        entitySet.entityType = entityType.code;
                        innerSchema.entitySets = innerSchema.entitySets.filter((/**
                         * @param {?} item
                         * @return {?}
                         */
                        item => item.code !== entitySet.code));
                        innerSchema.entitySets.push(entitySet);
                    }));
                }));
                //将合并后的newSchema放入内部上下文实体中
                this.newSchemaMap.set("CommonObject", innerSchema);
            }
        }
        else if (this.customSchemaName && this.customSchema) {
            //注入旧Schema对象
            this.schema.set(this.customSchemaName, this.customSchema);
            if (this.injectName && this.injectNameInSchema && this.injectSchemaName) {
                this.injectedEntities = this.injectedEntities.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item.injectedName !== this.injectName));
                //构造注入实体对象
                /** @type {?} */
                let injectedEntity = new InjectedEntity();
                //若注入的实体名为空，则默认为注入实体在schema中的名称
                injectedEntity.name = this.injectName ? this.injectName : this.injectNameInSchema;
                injectedEntity.schemaName = this.injectSchemaName;
                injectedEntity.injectedName = this.injectNameInSchema;
                injectedEntity.injectedType = this.injectedType;
                this.injectedEntities.push(injectedEntity);
            }
            if (this.gspCDTs && this.gspCDTs.length > 0) {
                /** @type {?} */
                let innerSchema = new Schema();
                //若schemaMap中存在CDT的schema
                if (this.schema.get("CDT")) {
                    innerSchema = this.schema.get("CDT");
                }
                //将每一个CDT转化为schema内部结构中的entityType
                this.gspCDTs.forEach((/**
                 * @param {?} gspCDT
                 * @return {?}
                 */
                gspCDT => {
                    /** @type {?} */
                    let entityType = this.adapter.convertCDT(gspCDT);
                    innerSchema.entityTypes = innerSchema.entityTypes.filter((/**
                     * @param {?} item
                     * @return {?}
                     */
                    item => item.id !== entityType.id));
                    innerSchema.entityTypes.push(entityType);
                }));
                //将合并后的schema放入内部上下文实体中
                this.schema.set("CDT", innerSchema);
            }
            //处理旧Schema的CO对象
            if (this.commonObjects && this.commonObjects.length > 0) {
                /** @type {?} */
                let innerSchema = new Schema;
                ;
                //若schemaMap中存在CO的schema
                if (this.schema.get("CommonObject")) {
                    innerSchema = this.schema.get("CommonObject");
                }
                this.commonObjects.forEach((/**
                 * @param {?} co
                 * @return {?}
                 */
                co => {
                    //将每一个CO转化为schema内部结构中的entityType
                    /** @type {?} */
                    let entityTypes = this.adapter.convertCO(co);
                    entityTypes.forEach((/**
                     * @param {?} entityType
                     * @return {?}
                     */
                    entityType => {
                        innerSchema.entityTypes = innerSchema.entityTypes.filter((/**
                         * @param {?} item
                         * @return {?}
                         */
                        item => item.id !== entityType.id));
                        innerSchema.entityTypes.push(entityType);
                        /** @type {?} */
                        let entitySet = new EntitySet;
                        entitySet.name = entityType.name + "s";
                        entitySet.entityType = entityType.name;
                        entitySet.description = entityType.description;
                        innerSchema.entitySets = innerSchema.entitySets.filter((/**
                         * @param {?} item
                         * @return {?}
                         */
                        item => item.name !== entitySet.name));
                        innerSchema.entitySets.push(entitySet);
                    }));
                }));
                //将合并后的schema放入内部上下文实体中
                this.schema.set("CommonObject", innerSchema);
            }
        }
        //初始化扩展函数
        if (this.funcEntities.length > 0) {
            this.funcEntities.forEach((/**
             * @param {?} element
             * @return {?}
             */
            element => {
                this.funcExtend = this.funcExtend.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item.key !== element.key));
                this.funcExtend.push(element);
            }));
        }
        //预置编辑框显示值
        /** @type {?} */
        let textEntity = (/** @type {?} */ (JSON.parse(this.text ? this.text : null)));
        if (textEntity && textEntity.expr) {
            //加载Antlr4工具
            /** @type {?} */
            let inputStream = new InputStream.InputStream(textEntity.expr);
            /** @type {?} */
            let lexer = new JavaScriptLexer.JavaScriptLexer(inputStream);
            /** @type {?} */
            let tokens = new CommonTokenStream.CommonTokenStream(lexer);
            tokens.fill();
            //tokens切分的js文本抽取到array中
            /** @type {?} */
            let array = new Array();
            for (let index = 0; index < tokens.tokens.length - 1; index++) {
                array[index] = tokens.tokens[index].text;
            }
            //遍历array的js文本，每个js文本遍历allFunctions查找对应的语义化文本，封装为str
            /** @type {?} */
            var str = "";
            for (let index = 0; index < array.length; index++) {
                if (((array[index] == "DefaultFunction") || (array[index] == "Math")) && (array[index + 1] == ".")) {
                    continue;
                }
                else if (array[index] == "." && (array[index - 1] == "DefaultFunction" || array[index - 1] == "Math")) {
                    continue;
                }
                else {
                    /** @type {?} */
                    var num = 0;
                    //遍历上下文变量
                    if (num == 0) {
                        for (let i = 0; i < this.contextEntities.length; i++) {
                            if (array[index] == ("\"" + this.contextEntities[i].key + "\"")) {
                                str = str + "\"" + this.contextEntities[i].name + "\"";
                                num = 1;
                                break;
                            }
                        }
                    }
                    //遍历session变量
                    if (num == 0) {
                        for (let i = 0; i < this.sessionEntities.length; i++) {
                            if (array[index] == ("\"" + this.sessionEntities[i].key + "\"")) {
                                str = str + "\"" + this.sessionEntities[i].name + "\"";
                                num = 1;
                                break;
                            }
                        }
                    }
                    //计数器num：如果遍历allFunctions没找到对应字段，则直接拼接(num=0)；否则替换(num=1)
                    if (num == 0) {
                        for (let i = 0; i < this.allFunctions.length; i++) {
                            if (array[index] == this.allFunctions[i].key) {
                                if (this.allFunctions[i].type != "Advanced") {
                                    str = str + this.allFunctions[i].name;
                                    num = 1;
                                    break;
                                }
                            }
                        }
                    }
                    //如果计数器为0，证明没有语义化匹配。显示原始数据
                    if (num == 0) {
                        str = str + array[index];
                    }
                }
            }
            this.code = str;
        }
        else {
            this.code = null;
        }
    }
    //编辑器初始化事件句柄
    /**
     * @param {?} $event
     * @return {?}
     */
    onInitHandler($event) {
    }
    //编辑器表达式改变事件句柄
    /**
     * @param {?} event
     * @return {?}
     */
    onChangeHandler(event) {
        this.expressioninfo = event.data;
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    onTouchedHandler($event) {
    }
    /**
     * 函数选择tab也切换事件
     * @param {?} $event
     * @return {?}
     */
    funcTabChange($event) {
        this.currentFuncTabType = $event.nextId;
    }
    //函数表格中选择行事件
    /**
     * @param {?} $event
     * @return {?}
     */
    selectFuncRowChange($event) {
        this.descriptinfo = this.FunctionDescription + $event.description;
        this.eventService.clearVarSelect();
        this.selectnewfunc = true;
    }
    //变量：类型选择                        (farris单击事件，不调整)
    /**
     * @param {?} $event
     * @return {?}
     */
    selectVarRowChange($event) {
        this.currentVarType = $event.id;
    }
    //变量：描述                            (farris单击事件，不调整)
    /**
     * @param {?} $event
     * @return {?}
     */
    selectVarInfoRowChange($event) {
        this.descriptinfo = this.VarDescription + $event.description;
        this.eventService.clearFuncSelect();
    }
    //schema表名选择                        (未使用)
    /**
     * @param {?} $event
     * @return {?}
     */
    selectschemaChange($event) {
        this.choseSchemaTableName = $event;
    }
    //数据：父组件单击描述                   (farris单击事件，不调整)
    /**
     * @param {?} $event
     * @return {?}
     */
    selectentitychange($event) {
        this.choseSchemaTableName = $event;
        if ($event.nodeType == "Complex") {
            this.entitywidth = "80%";
            this.selectedResource = true;
        }
        else {
            this.entitywidth = "100%";
            this.selectedResource = false;
        }
        this.descriptinfo = this.CurrentProp + $event.name + "-->" + $event.description;
    }
    //数据：子组件单击描述                   (farris单击事件，不调整)
    /**
     * @param {?} $event
     * @return {?}
     */
    selectschemainfoChange($event) {
        this.descriptinfo = this.CurrentChosedProp + $event.name + "-->" + $event.description;
    }
    //变量：双击插入                        (farris双击事件：调整)
    /**
     * @param {?} $event
     * @return {?}
     */
    dbclickVarInsert($event) {
        if ($event) {
            switch (this.currentVarType) {
                case VarType.Context:
                    for (let i = 0; i < this.standardFunctions.length; i++) {
                        if (this.standardFunctions[i].key == "GetContextParameter") {
                            this.eventService.insertExpression(this.standardFunctions[i].name + "(\"" + $event.data.name + "\")");
                            break;
                        }
                    }
                    break;
                case VarType.Session:
                    for (let i = 0; i < this.standardFunctions.length; i++) {
                        if (this.standardFunctions[i].key == "GetSessionValue") {
                            this.eventService.insertExpression(this.standardFunctions[i].name + "(\"" + $event.data.name + "\")");
                            break;
                        }
                    }
                    break;
                default:
                    break;
            }
        }
    }
    //双击插入schema表信息                  (未使用)
    /**
     * @param {?} $event
     * @return {?}
     */
    dbclickSchemaInfoInsert($event) {
        if ($event) {
            this.eventService.insertExpression($event.data);
        }
    }
    //数据：双击插入                        (双击事件：不调整)
    /**
     * @param {?} $event
     * @return {?}
     */
    dbclickEntityInsert($event) {
        if ($event) {
            this.eventService.insertExpression($event);
        }
    }
    //数据子组件：双击插入                  (farris双击事件：子组件已修改)
    /**
     * @param {?} $event
     * @return {?}
     */
    dbclickEntityInfoInsert($event) {
        if ($event) {
            this.eventService.insertExpression($event);
        }
    }
    //智能帮助：双击                        (未使用)          
    /**
     * @param {?} $event
     * @return {?}
     */
    dbclickSmartHelpInsert($event) {
        if ($event) {
            this.eventService.insertExpression($event.data);
        }
    }
    /**
     * \@description 函数：双击插入          (farris双击事件：调整)
     * @param {?} $event
     * 1：判断是否为Advanced，如果是：直接获取对应的name插入;如果不是：获取对应的name，然后拼接参数
     * @return {?}
     */
    dbclickInsert($event) {
        //插入编辑框的语义化文本insertText
        /** @type {?} */
        let insertText = $event.data.key;
        //根据$event.data.key找到函数的语义化名称
        for (var index = 0; index < this.standardFunctions.length; index++) {
            if (insertText == this.standardFunctions[index].key) {
                insertText = this.standardFunctions[index].name;
                break;
            }
            ;
        }
        //如果不是Advanced，拼接参数
        if ($event.data.type != "Advanced") {
            insertText += "(";
            /** @type {?} */
            let paramsList = $event.data.params;
            for (let i = 0; i <= paramsList.length - 1; i++) {
                if (paramsList.length == 1) {
                    //一个参数，无需添加逗号。参数类型为String则首尾追加""，其他直接添加
                    if (paramsList[0].type == "string") {
                        insertText += "\"" + paramsList[0].name + "\"";
                    }
                    else {
                        insertText += paramsList[0].name;
                    }
                }
                else {
                    //多个参数，添加逗号分隔参数
                    if (i != paramsList.length - 1) {
                        //参数不是最后一位
                        if (paramsList[i].type == "string") {
                            insertText += "\"" + paramsList[i].name + "\",";
                        }
                        else {
                            insertText += paramsList[i].name + ",";
                        }
                    }
                    else {
                        //参数是最后一位
                        if (paramsList[i].type == "string") {
                            insertText += "\"" + paramsList[i].name + "\"";
                        }
                        else {
                            insertText += paramsList[i].name;
                        }
                    }
                }
            }
            insertText += ")";
        }
        this.keyInfo = insertText;
        this.eventService.insertExpression(this.keyInfo);
    }
    /**
     * \@description 获取表达式串
     * 保存时，进行语义化-->js的转换
     * 1：封装ExpressionEntity    属性：expr, sexpr
     * 2：判断有无expr；有则使用Antlr4进行解析转换
     *    2.1：Antlr4工具拿到数组Array
     *    2.2：根据数组元素与name的对应，替换为key
     *    2.3：替换后的数组元素拼接出str
     * @return {?}
     */
    getExprs() {
        /** @type {?} */
        let exprEntity = new ExpressionEntity;
        exprEntity.expr = this.expressioninfo;
        exprEntity.sexpr = this.expressionEntity.sexpr;
        if (exprEntity.expr == null || exprEntity.expr == "") {
            this.result.emit(null);
        }
        else {
            //2：expr不为空，使用Antlr4进行解析
            /** @type {?} */
            let inputStream = new InputStream.InputStream(exprEntity.expr);
            /** @type {?} */
            let lexer = new JavaScriptLexer.JavaScriptLexer(inputStream);
            /** @type {?} */
            let tokens = new CommonTokenStream.CommonTokenStream(lexer);
            tokens.fill();
            /** @type {?} */
            let array = new Array();
            for (let index = 0; index < tokens.tokens.length - 1; index++) {
                array[index] = tokens.tokens[index].text;
            }
            //遍历所有的token
            for (let index = 0; index < array.length; index++) {
                /** @type {?} */
                let num = 0;
                if (num == 0) {
                    //遍历上下文变量
                    for (let i = 0; i < this.expressionEntity.contextEntities.length; i++) {
                        if (array[index] == ("\"" + this.expressionEntity.contextEntities[i].name + "\"")) {
                            array[index] = "\"" + this.expressionEntity.contextEntities[i].key + "\"";
                            num = 1;
                            break;
                        }
                    }
                }
                if (num == 0) {
                    //遍历session变量
                    for (let i = 0; i < this.expressionEntity.sessionEntities.length; i++) {
                        if (array[index] == ("\"" + this.expressionEntity.sessionEntities[i].name + "\"")) {
                            array[index] = "\"" + this.expressionEntity.sessionEntities[i].key + "\"";
                            num = 1;
                            break;
                        }
                    }
                }
                if (num == 0) {
                    //遍历函数
                    for (let indexTok = 0; indexTok < this.standardFunctions.length; indexTok++) {
                        if (array[index] == this.standardFunctions[indexTok].name) {
                            array[index] = this.standardFunctions[indexTok].keyFront + '.' + this.standardFunctions[indexTok].key;
                            num = 1;
                            break;
                        }
                        ;
                    }
                }
            }
            //封装js表达式文本expressionStr
            /** @type {?} */
            let expressionStr = "";
            for (let index = 0; index < array.length; index++) {
                expressionStr = expressionStr + array[index];
            }
            exprEntity.expr = expressionStr;
            this.result.emit(JSON.stringify(exprEntity));
        }
    }
    //获取表达式串
    /**
     * @return {?}
     */
    getExpr() {
        /** @type {?} */
        let exprEntity = new ExpressionEntity;
        exprEntity.expr = this.expressioninfo;
        exprEntity.sexpr = this.expressionEntity.sexpr;
        if (exprEntity.expr == null || exprEntity.expr == "") {
            this.result.emit(null);
        }
        else {
            //2：expr不为空，使用Antlr4进行解析
            /** @type {?} */
            let inputStream = new InputStream.InputStream(exprEntity.expr);
            /** @type {?} */
            let lexer = new JavaScriptLexer.JavaScriptLexer(inputStream);
            /** @type {?} */
            let tokens = new CommonTokenStream.CommonTokenStream(lexer);
            tokens.fill();
            /** @type {?} */
            let array = new Array();
            for (let index = 0; index < tokens.tokens.length - 1; index++) {
                array[index] = tokens.tokens[index].text;
            }
            for (let index = 0; index < array.length; index++) {
                /** @type {?} */
                let num = 0;
                if (num == 0) {
                    //遍历上下文变量
                    for (let i = 0; i < this.contextEntities.length; i++) {
                        if (array[index] == ("\"" + this.contextEntities[i].name + "\"")) {
                            array[index] = "\"" + this.contextEntities[i].key + "\"";
                            num = 1;
                            break;
                        }
                    }
                }
                if (num == 0) {
                    //遍历session变量
                    for (let i = 0; i < this.sessionEntities.length; i++) {
                        if (array[index] == ("\"" + this.sessionEntities[i].name + "\"")) {
                            array[index] = "\"" + this.sessionEntities[i].key + "\"";
                            num = 1;
                            break;
                        }
                    }
                }
                if (num == 0) {
                    for (let indexTok = 0; indexTok < this.standardFunctions.length; indexTok++) {
                        if (array[index] == this.standardFunctions[indexTok].name) {
                            array[index] = this.standardFunctions[indexTok].keyFront + '.' + this.standardFunctions[indexTok].key;
                            num = 1;
                            break;
                        }
                        ;
                    }
                }
            }
            //封装js表达式文本expressionStr
            /** @type {?} */
            let expressionStr = "";
            for (let index = 0; index < array.length; index++) {
                expressionStr = expressionStr + array[index];
            }
            exprEntity.expr = expressionStr;
            return JSON.stringify(exprEntity);
        }
    }
    //重置
    /**
     * @return {?}
     */
    reset() {
        this.expressioninfo = null;
        this.code = null;
        this.eventService.pushclearExpression();
    }
    //校验
    /**
     * @return {?}
     */
    check() {
        console.log(this.expressioninfo);
        if (this.notifyService) {
            this.notifyService[this.notifies['3'].type]({
                msg: this.notifies['3'].msg
            });
        }
        else {
            alert("功能尚未提供！");
        }
    }
    //帮助
    /**
     * @return {?}
     */
    help() {
        if (this.notifyService) {
            this.notifyService[this.notifies['3'].type]({
                msg: this.notifies['3'].msg
            });
        }
        else {
            alert("功能尚未提供！");
        }
    }
    //导入
    /**
     * @return {?}
     */
    import() {
        if (this.notifyService) {
            this.notifyService[this.notifies['3'].type]({
                msg: this.notifies['3'].msg
            });
        }
        else {
            alert("功能尚未提供！");
        }
    }
    //手动实时更改显示值
    /**
     * @param {?} textii
     * @return {?}
     */
    changeText(textii) {
        //预置编辑框显示值
        /** @type {?} */
        let textEntity = (/** @type {?} */ (JSON.parse(textii ? textii : null)));
        if (textEntity && textEntity.expr) {
            this.code = textEntity.expr;
        }
        else {
            this.code = null;
        }
    }
    /**
     * @param {?} injectName
     * @param {?=} injectSchemaName
     * @param {?=} injectNameInSchema
     * @param {?=} injectedType
     * @return {?}
     */
    changeInjectEntity(injectName, injectSchemaName = "CommonObject", injectNameInSchema, injectedType = InjectedType.EntityType) {
        if (injectName && injectNameInSchema && injectSchemaName) {
            //构造注入实体对象
            /** @type {?} */
            let injectedEntity = new InjectedEntity();
            //若注入的实体名为空，则默认为注入实体在schema中的名称
            injectedEntity.name = injectName ? injectName : injectNameInSchema;
            injectedEntity.schemaName = injectSchemaName;
            injectedEntity.injectedName = injectNameInSchema;
            injectedEntity.injectedType = injectedType;
            this.expressionEntity.injectedEntities.push(injectedEntity);
        }
        this.injectedEntities = this.expressionEntity.injectedEntities;
    }
    /**
     * @param {?} commonObjects
     * @return {?}
     */
    changeCO(commonObjects) {
        if (commonObjects && commonObjects.length > 0) {
            /** @type {?} */
            let schema;
            //若schemaMap中存在CO的schema
            if (this.expressionEntity.schemaMap.get("CommonObject")) {
                schema = this.expressionEntity.schemaMap.get("CommonObject");
            }
            else
                schema = new Schema;
            commonObjects.forEach((/**
             * @param {?} co
             * @return {?}
             */
            co => {
                //将每一个CO转化为schema内部结构中的entityType
                /** @type {?} */
                let entityTypes = this.adapter.convertCO(co);
                entityTypes.forEach((/**
                 * @param {?} entityType
                 * @return {?}
                 */
                entityType => {
                    schema.entityTypes.push(entityType);
                    /** @type {?} */
                    let entitySet = new EntitySet;
                    entitySet.name = entityType.name + "s";
                    entitySet.entityType = entityType.name;
                    entitySet.description = entityType.description;
                    schema.entitySets.push(entitySet);
                }));
            }));
            //将合并后的schema放入内部上下文实体中
            this.schema.set("CommonObject", schema);
        }
    }
    /**
     * @param {?} contextEntities
     * @return {?}
     */
    changeContextVar(contextEntities) {
        contextEntities.forEach((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            this.contextEntities = this.contextEntities.filter((/**
             * @param {?} item
             * @return {?}
             */
            item => item.key !== item.key));
            this.contextEntities.push(item);
        }));
    }
    /**
     * @return {?}
     */
    hide() {
        this.selectnewfunc = false;
    }
    //#region 编辑符号方法
    /////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////编辑符号方法
    //////////////////////////////////////////////////////////////////////////////////////////////////////
    /**
     * @return {?}
     */
    onDoubleQuotation() {
        this.eventService.insertExpression("\"\"");
    }
    /**
     * @return {?}
     */
    onEqual() {
        this.eventService.insertExpression(" == ");
    }
    /**
     * @return {?}
     */
    onSparen() {
        this.eventService.insertExpression("()");
    }
    /**
     * @return {?}
     */
    onBrace() {
        this.eventService.insertExpression("[]");
    }
    /**
     * @return {?}
     */
    onAnd() {
        this.eventService.insertExpression(" && ");
    }
    /**
     * @return {?}
     */
    onOr() {
        this.eventService.insertExpression(" || ");
    }
    /**
     * @return {?}
     */
    onExclamation() {
        this.eventService.insertExpression("!");
    }
    /**
     * @return {?}
     */
    onIequal() {
        this.eventService.insertExpression(" == ");
    }
    /**
     * @return {?}
     */
    onUnequal() {
        this.eventService.insertExpression(" != ");
    }
    /**
     * @return {?}
     */
    onLess() {
        this.eventService.insertExpression(" < ");
    }
    /**
     * @return {?}
     */
    onLessequal() {
        this.eventService.insertExpression(" <= ");
    }
    /**
     * @return {?}
     */
    onMore() {
        this.eventService.insertExpression(" > ");
    }
    /**
     * @return {?}
     */
    onMoreequal() {
        this.eventService.insertExpression(" >= ");
    }
    /**
     * @return {?}
     */
    onPlus() {
        this.eventService.insertExpression(" + ");
    }
    /**
     * @return {?}
     */
    onMinus() {
        this.eventService.insertExpression(" - ");
    }
    /**
     * @return {?}
     */
    onMultiple() {
        this.eventService.insertExpression("*");
    }
    /**
     * @return {?}
     */
    onDivision() {
        this.eventService.insertExpression("/");
    }
    /**
     * @return {?}
     */
    onPercent() {
        this.eventService.insertExpression("%");
    }
    /**
     * @return {?}
     */
    onAssign() {
        this.eventService.insertExpression(" = ");
    }
    /**
     * @return {?}
     */
    onOppose() {
        this.eventService.insertExpression("!");
    }
}
ExpressioneditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-expressioneditor',
                template: "<div class=\"h-100 f-utils-flex-column\">\r\n<div id=\"main\" style=\"width:100%;padding-left: 20px;\">\r\n  <div id=\"left\" style=\"width:87%;float:left;border:1px solid #D9D9D9\">\r\n    <div style=\"height:136px;\" class=\"position-relative\">\r\n        <app-my-monaco-editor style=\"z-index: 125;\" [options]=\"options\" [(ngModel)]=\"code\" (onInit)=\"onInitHandler($event)\"\r\n        (onTouched)=\"onTouchedHandler($event)\" (onChange)=\"onChangeHandler($event)\" class=\"f-utils-absolute-all\"> </app-my-monaco-editor>\r\n    </div>\r\n  </div>\r\n  <div id=\"right\" style=\"width:13%;float:left;\">\r\n      <button class=\"btn f-btn-mr btn-primary\" type=\"button\" style=\"height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px\" (click)=check()>{{ 'CheckFront' | locale }}</button>\r\n      <button class=\"btn f-btn-mr btn-secondary\" type=\"button\" style=\"height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px\" (click)=reset()>{{ 'ResetFront' | locale }}</button>\r\n      <button class=\"btn f-btn-mr btn-secondary\" type=\"button\" style=\"height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px\" (click)=help()>{{ 'HelpFront' | locale }}</button>\r\n      <button class=\"btn f-btn-mr btn-secondary\" type=\"button\" style=\"height: 28px;width: 110px;margin-left: 8px;margin-bottom: 8px\" (click)=import()>{{ 'ImportFront' | locale }}</button>\r\n  </div>\r\n</div>\r\n<div id=\"select\" class=\"f-utils-fill\">\r\n  <div id=\"left\" style=\"width:50%;height:100%;float:left;padding-left: 20px;\">\r\n    <div style=\"height:100%;border:1px solid rgb(235, 233, 233)\">\r\n      <farris-tabs style=\"height:100%\" [value]=\"'String'\" [contentFill]=\"true\" (tabChange)=\"funcTabChange($event)\">\r\n          <farris-tab [title]=\"this.Advanced\" [id]=\"'Advanced'\">\r\n              <ng-template #content>\r\n                  <div style=\"height:100%\">\r\n                    <app-expr-func-grid [currentFuncTabType]=\"'Advanced'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]=\"this.String\" [id]=\"'String'\">\r\n              <ng-template #content>\r\n                  <div style=\"height:100%\">\r\n                    <app-expr-func-grid [currentFuncTabType]=\"'String'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]=\"this.Math\" [id]=\"'Math'\">\r\n            <ng-template #content>\r\n                <div style=\"height:100%\">\r\n                    <app-expr-func-grid [currentFuncTabType]=\"'Math'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n        <farris-tab [title]=\"this.Estimate\" [id]=\"'Estimate'\">\r\n            <ng-template #content>\r\n                <div style=\"height:100%\">\r\n                    <app-expr-func-grid [currentFuncTabType]=\"'Estimate'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n        <farris-tab [title]=\"this.DateTime\" [id]=\"'DateTime'\">\r\n            <ng-template #content>\r\n                <div style=\"height:100%\">\r\n                    <app-expr-func-grid [currentFuncTabType]=\"'DateTime'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n        <farris-tab [title]=\"this.Translate\" [id]=\"'Translate'\">\r\n            <ng-template #content>\r\n                <div style=\"height:100%\">\r\n                    <app-expr-func-grid [currentFuncTabType]=\"'Translate'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                </div>\r\n            </ng-template>\r\n        </farris-tab>\r\n          <farris-tab [title]=\"this.Aggregate\" [id]=\"'Aggregate'\">\r\n              <ng-template #content>\r\n                  <div style=\"height:100%\">\r\n                      <app-expr-func-grid [currentFuncTabType]=\"'Aggregate'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]=\"this.Analytical\" [id]=\"'Analytical'\">\r\n              <ng-template #content>\r\n                  <div style=\"height:100%\">\r\n                      <app-expr-func-grid [currentFuncTabType]=\"'Analytical'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]=\"this.Extend\" [id]=\"'Extend'\">\r\n              <ng-template #content>\r\n                  <div style=\"height:100%\">\r\n                      <app-expr-func-grid [funcExtend]=\"funcExtend\" [currentFuncTabType]=\"'Extend'\" (selectFuncRow)=\"selectFuncRowChange($event)\" (dbclickInsert)=\"dbclickInsert($event)\"></app-expr-func-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n      </farris-tabs>\r\n    </div>\r\n  </div>\r\n  <div id=\"middle\" class=\"position-relative\" style=\"width:36%;height:100%;float:left;padding-left: 7px;border:1px solid rgb(235, 233, 233)\">\r\n    <farris-tabs [value]=\"'Variable'\" [contentFill]=\"true\" class=\"f-utils-absolute-all\" style=\"left:6px;right:5px\">\r\n          <farris-tab [title]=\"this.Variable\" [id]=\"'Variable'\" class=\"f-utils-overflow-hidden\">\r\n              <ng-template #content>\r\n                  <div style=\"width: 100%;height: 100%; display: flex;\">\r\n                      <div class=\"f-utils-flex-column position-relative\" style=\"width: 30%;height: 100%;\" ngResizable [rzMinWidth]=\"40\"\r\n                          [rzMaxWidth]=\"400\" [rzHandles]=\"'e'\" rzAspectRatio=\"true\">\r\n                          <app-expression-var-grid (selectVarRow)=\"selectVarRowChange($event)\" [h1]=\"this.http\" class=\"f-utils-fill\"></app-expression-var-grid>\r\n                      </div>\r\n                      <div class=\"f-utils-flex-column position-relative\" style=\"width: 70%;height: 100%;flex: 1 1 auto; border-left: 1px solid #ddd;\">\r\n                          <app-expression-var-info-grid \r\n                          class=\"f-utils-fill\"\r\n                          [currentVarType]=\"currentVarType\"  \r\n                          [contextEntities]=\"contextEntities\"\r\n                          [sessionEntities]=\"sessionEntities\"\r\n                          (selectVarInfoRow)=\"selectVarInfoRowChange($event)\" \r\n                          (dbclickInsert)=\"dbclickVarInsert($event)\">\r\n                        </app-expression-var-info-grid>\r\n                      </div>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <farris-tab [title]=\"this.Entity\" [id]=\"'Entity'\">\r\n              <ng-template #content>\r\n                  <div class = \"f-utils-absolute-all f-utils-flex-row\">\r\n                      <div class = \"f-utils-fill-flex-column\" style=\"width:entitywidth;\" ngResizable [rzMinWidth]=\"40\"\r\n                          [rzMaxWidth]=\"800\" [rzHandles]=\"'e'\" rzAspectRatio=\"true\">\r\n                          <app-expression-entity-grid class=\"f-utils-fill-flex-column\"\r\n                          [schema]=\"schema\"\r\n                          [newSchemaMap]=\"newSchemaMap\"\r\n                          [injectedEntities]=\"injectedEntities\"\r\n                          (dbclickInsert)=\"dbclickEntityInsert($event)\" \r\n                          (selectentitychange)=\"selectentitychange($event)\"\r\n                          ></app-expression-entity-grid> \r\n                      </div>\r\n                      <div *ngIf = selectedResource class = \"f-utils-flex-column col-3 px-0\" style=\"border-left: 1px solid #ddd;\">\r\n                          <app-expression-entity-info-grid class = \"f-utils-fill-flex-column\"\r\n                          [schema]=\"schema\" \r\n                          [newSchemaMap]=\"newSchemaMap\"\r\n                          [choseEntityTableName]=\"choseSchemaTableName\"\r\n                          (dbclickInsert)=\"dbclickEntityInfoInsert($event)\"\r\n                          (selectSchemaRow)=\"selectschemainfoChange($event)\"\r\n                          ></app-expression-entity-info-grid>\r\n                      </div>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n          <!-- <farris-tab [title]=\"'\u5B9E\u4F53\u7C7B\u578B'\" [id]=\"'EntityType'\">\r\n              <ng-template #content>\r\n                  <div style=\"width: 100%;height: 100%; display: flex;\" >\r\n                      <div style=\"width: 50%;height: 268px; \" ngResizable [rzMinWidth]=\"40\"\r\n                          [rzMaxWidth]=\"500\" [rzHandles]=\"'e'\" rzAspectRatio=\"true\" >\r\n                          <app-expression-schema-grid \r\n                          [schema]=\"schema\" \r\n                          (selectschemachange)=\"selectschemaChange($event)\"\r\n                          ></app-expression-schema-grid> \r\n                      </div>\r\n                      <div style=\"width: 50%; flex: 1 1 auto; border-left: 1px solid #ddd;\">\r\n                          <app-expression-schema-info-grid \r\n                          [schema]=\"schema\" \r\n                          [choseSchemaTableName]=\"choseSchemaTableName\"\r\n                          (dbclickInsert)=\"dbclickSchemaInfoInsert($event)\"\r\n                          (selectSchemaRow)=\"selectschemainfoChange($event)\"\r\n                          ></app-expression-schema-info-grid>\r\n                      </div>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab> -->\r\n          <farris-tab [title]=\"this.Help\" [id]=\"'Help'\" class=\"f-utils-overflow-hidden\">\r\n              <ng-template #content>\r\n                  <div class=\"f-utils-flex-column position-relative\" style=\"width: 100%;height: 100%\">\r\n                    <app-expression-smart-help-grid \r\n                    class=\"f-utils-fill\"\r\n                    [smartHelp]=\"smartHelp\"\r\n                    (dbclickInsert)=\"dbclickSmartHelpInsert($event)\"\r\n                    ></app-expression-smart-help-grid>\r\n                  </div>\r\n              </ng-template>\r\n          </farris-tab>\r\n      </farris-tabs>\r\n  </div>\r\n  <div id=\"right\" style=\"width:14%;float: left;padding-left: 5px;padding-right: 15px;\">\r\n      <div style=\"border: 0 solid #D9D9D9;border-radius: 3px;\">\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onPlus()\">+</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onMinus()\">-</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onMultiple()\">*</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onDivision()\">/</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onPercent()\">%</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onAssign()\">=</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onDoubleQuotation()\">\" \"</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onEqual()\">==</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onUnequal()\">!=</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onMoreequal()\">>=</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onLessequal()\"><=</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onLess()\">{{'<'}}</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onMore()\">{{'>'}}</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onBrace()\">[&nbsp;]</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onSparen()\">(&nbsp;)</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onOr()\">||</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onAnd()\">&&</button>\r\n            <button type=\"button\" class=\"btn cbtn btn-secondary\" (click)=\"onOppose()\">!</button>\r\n      </div>       \r\n  </div>\r\n</div>\r\n<div *ngIf = selectnewfunc style=\"padding-left: 20px;position: absolute;bottom: 0;left: 0;right: 0;border-top: 1px solid #ddd;z-index: 100;background: white\">\r\n    <span style=\"\r\n    position: absolute;\r\n    top: -18px;\r\n    left: 50%;\r\n    border-radius: 4px;\r\n    width: 40px;\r\n    height: 18px;\r\n    cursor: pointer;\r\n    background: #fff;\r\n    text-align: center;\r\n    border: 1px solid #efecec;\r\n    /* box-shadow: 0 0 6px 0 rgba(57,66,100,.08); */\r\n    color: #59a1ff;\r\n    border-bottom: none;\r\n\"><i class=\"f-icon f-icon-arrow-seek-down\" (click)=\"hide()\"></i></span>\r\n    <span>\r\n      <i class=\"f-icon f-icon-info\"></i>\r\n    </span>\r\n    {{descriptinfo}}\r\n</div>\r\n</div>\r\n",
                styles: [".cbtn{width:40px;height:40px;background:#fdfdfd;border:1px solid #d0d0d0;border-radius:3px;text-align:center}"]
            }] }
];
/** @nocollapse */
ExpressioneditorComponent.ctorParameters = () => [
    { type: ExpressionEventService },
    { type: Injector, decorators: [{ type: Optional }] },
    { type: HttpClient }
];
ExpressioneditorComponent.propDecorators = {
    funcExtend: [{ type: Input }],
    expressionEntity: [{ type: Input }],
    contextEntities: [{ type: Input }],
    sessionEntities: [{ type: Input }],
    injectedEntities: [{ type: Input }],
    smartHelp: [{ type: Input }],
    text: [{ type: Input }],
    isPanel: [{ type: Input }],
    funcEntities: [{ type: Input }],
    gspCDTs: [{ type: Input }],
    commonObjects: [{ type: Input }],
    customSchemaName: [{ type: Input }],
    customSchema: [{ type: Input }],
    injectName: [{ type: Input }],
    injectSchemaName: [{ type: Input }],
    injectNameInSchema: [{ type: Input }],
    injectedType: [{ type: Input }],
    customNewSchemaName: [{ type: Input }],
    customNewSchema: [{ type: Input }],
    windowWidth: [{ type: Input }],
    result: [{ type: Output }],
    closeModalEmitter: [{ type: Output }]
};
if (false) {
    /**
     * @type {?}
     * @private
     */
    ExpressioneditorComponent.prototype.localeId;
    /**
     * @type {?}
     * @private
     */
    ExpressioneditorComponent.prototype.localePipe;
    /**
     * @type {?}
     * @private
     */
    ExpressioneditorComponent.prototype.notifyService;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Advanced;
    /** @type {?} */
    ExpressioneditorComponent.prototype.String;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Aggregate;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Estimate;
    /** @type {?} */
    ExpressioneditorComponent.prototype.DateTime;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Translate;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Analytical;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Math;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Extend;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Variable;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Entity;
    /** @type {?} */
    ExpressioneditorComponent.prototype.Help;
    /** @type {?} */
    ExpressioneditorComponent.prototype.FunctionDescription;
    /** @type {?} */
    ExpressioneditorComponent.prototype.VarDescription;
    /** @type {?} */
    ExpressioneditorComponent.prototype.CurrentProp;
    /** @type {?} */
    ExpressioneditorComponent.prototype.CurrentChosedProp;
    /** @type {?} */
    ExpressioneditorComponent.prototype.standardFunctions;
    /** @type {?} */
    ExpressioneditorComponent.prototype.allFunctions;
    /** @type {?} */
    ExpressioneditorComponent.prototype.deprecatedFunctions;
    /** @type {?} */
    ExpressioneditorComponent.prototype.currentFuncTabType;
    /** @type {?} */
    ExpressioneditorComponent.prototype.currentVarType;
    /** @type {?} */
    ExpressioneditorComponent.prototype.descriptinfo;
    /** @type {?} */
    ExpressioneditorComponent.prototype.keyInfo;
    /** @type {?} */
    ExpressioneditorComponent.prototype.schema;
    /** @type {?} */
    ExpressioneditorComponent.prototype.newSchemaMap;
    /** @type {?} */
    ExpressioneditorComponent.prototype.choseSchemaTableName;
    /** @type {?} */
    ExpressioneditorComponent.prototype.expressioninfo;
    /** @type {?} */
    ExpressioneditorComponent.prototype.selectedResource;
    /** @type {?} */
    ExpressioneditorComponent.prototype.entitywidth;
    /** @type {?} */
    ExpressioneditorComponent.prototype.adapter;
    /** @type {?} */
    ExpressioneditorComponent.prototype.selectnewfunc;
    /** @type {?} */
    ExpressioneditorComponent.prototype.funcExtend;
    /** @type {?} */
    ExpressioneditorComponent.prototype.expressionEntity;
    /** @type {?} */
    ExpressioneditorComponent.prototype.contextEntities;
    /** @type {?} */
    ExpressioneditorComponent.prototype.sessionEntities;
    /** @type {?} */
    ExpressioneditorComponent.prototype.injectedEntities;
    /** @type {?} */
    ExpressioneditorComponent.prototype.smartHelp;
    /** @type {?} */
    ExpressioneditorComponent.prototype.text;
    /** @type {?} */
    ExpressioneditorComponent.prototype.isPanel;
    /** @type {?} */
    ExpressioneditorComponent.prototype.funcEntities;
    /** @type {?} */
    ExpressioneditorComponent.prototype.gspCDTs;
    /** @type {?} */
    ExpressioneditorComponent.prototype.commonObjects;
    /** @type {?} */
    ExpressioneditorComponent.prototype.customSchemaName;
    /** @type {?} */
    ExpressioneditorComponent.prototype.customSchema;
    /** @type {?} */
    ExpressioneditorComponent.prototype.injectName;
    /** @type {?} */
    ExpressioneditorComponent.prototype.injectSchemaName;
    /** @type {?} */
    ExpressioneditorComponent.prototype.injectNameInSchema;
    /** @type {?} */
    ExpressioneditorComponent.prototype.injectedType;
    /** @type {?} */
    ExpressioneditorComponent.prototype.customNewSchemaName;
    /** @type {?} */
    ExpressioneditorComponent.prototype.customNewSchema;
    /** @type {?} */
    ExpressioneditorComponent.prototype.windowWidth;
    /** @type {?} */
    ExpressioneditorComponent.prototype.result;
    /** @type {?} */
    ExpressioneditorComponent.prototype.closeModalEmitter;
    /**
     * @type {?}
     * @private
     */
    ExpressioneditorComponent.prototype.notifies;
    /** @type {?} */
    ExpressioneditorComponent.prototype.options;
    /** @type {?} */
    ExpressioneditorComponent.prototype.code;
    /**
     * @type {?}
     * @private
     */
    ExpressioneditorComponent.prototype.eventService;
    /**
     * @type {?}
     * @private
     */
    ExpressioneditorComponent.prototype.injector;
    /** @type {?} */
    ExpressioneditorComponent.prototype.http;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwcmVzc2lvbmVkaXRvci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXN2Yy9leHByZXNzaW9uLyIsInNvdXJjZXMiOlsibGliL2V4cHJlc3Npb25lZGl0b3IvZXhwcmVzc2lvbmVkaXRvci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUM5RyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVyRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDekQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFFdkUsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDOUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVwRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFbEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckMsT0FBTyxXQUFXLE1BQU0sb0JBQW9CLENBQUM7QUFDN0MsT0FBTyxpQkFBaUIsTUFBTSwwQkFBMEIsQ0FBQztBQUN6RCxPQUFPLGVBQWUsTUFBTSxpQkFBaUIsQ0FBQztBQUU5QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbEQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sa0NBQWtD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QUE4Qzs7SUFDOUMsc0RBQXNEOzs7OztJQUd0RCw2Q0FJRTs7SUFFRiw0Q0FJRTs7SUFDRix5Q0FBYTs7Ozs7SUFyRkQsaURBQTRDOzs7OztJQUFFLDZDQUFzQzs7SUFBRSx5Q0FBdUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBJbmplY3RvciwgT3B0aW9uYWwsIE9uQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uRXZlbnRTZXJ2aWNlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi1ldmVudC1zZXJ2aWNlJztcclxuaW1wb3J0IHsgRnVuY0VudGl0eSwgRnVuY1R5cGUsIEZ1bmN0aW9uRW50aXR5cyB9IGZyb20gJy4uL2Z1bmNlbnRpdHknO1xyXG5pbXBvcnQgeyBWYXJUeXBlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi12YXItZ3JpZC92YXJ0eXBlJztcclxuaW1wb3J0IHsgRXhwcmVzc2lvbkNvbnRleHRFbnRpdHkgfSBmcm9tICcuLi9leHByZXNzaW9uLWNvbnRleHQtZW50aXR5JztcclxuaW1wb3J0IHsgVmFyRW50aXR5IH0gZnJvbSAnLi4vdmFyZW50aXR5JztcclxuaW1wb3J0IHsgU2NoZW1hLCBFbnRpdHlTZXQgfSBmcm9tICcuLi9zY2hlbWEnO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uRW50aXR5IH0gZnJvbSAnLi4vZXhwcmVzc2lvbi1lbnRpdHknO1xyXG5pbXBvcnQgeyBDdXJyZW50Tm9kZSB9IGZyb20gJy4uL2N1cnJlbnROb2RlJztcclxuaW1wb3J0IHsgSW5qZWN0ZWRFbnRpdHkgfSBmcm9tICcuLi9pbmplY3RlZC1lbnRpdHknO1xyXG5pbXBvcnQgeyBTbWFydEhlbHBFbnRpdHkgfSBmcm9tICcuLi9zbWFydEhlbHBFbnRpdHknO1xyXG5pbXBvcnQgeyBOb3RpZnlTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1ub3RpZnknO1xyXG5pbXBvcnQgeyBHc3BDb21tb25EYXRhVHlwZSwgR1NQQ29tbW9uT2JqZWN0IH0gZnJvbSAnQGdzcC1iZWYvZ3NwLWNtLW1ldGFkYXRhJztcclxuaW1wb3J0IHsgSW5qZWN0ZWRUeXBlIH0gZnJvbSAnLi4vaW5qZWN0ZWQtdHlwZSc7XHJcbmltcG9ydCB7IEFkYXB0ZXIgfSBmcm9tICcuLi9hZGFwdGVyJztcclxuaW1wb3J0IElucHV0U3RyZWFtIGZyb20gJ2FudGxyNC9JbnB1dFN0cmVhbSc7XHJcbmltcG9ydCBDb21tb25Ub2tlblN0cmVhbSBmcm9tICdhbnRscjQvQ29tbW9uVG9rZW5TdHJlYW0nO1xyXG5pbXBvcnQgSmF2YVNjcmlwdExleGVyIGZyb20gJ0phdmFTY3JpcHRMZXhlcic7XHJcbmltcG9ydCBKYXZhU2NyaXB0UGFyc2VyIGZyb20gJ0phdmFTY3JpcHRQYXJzZXInO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vbi9odHRwXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb25FZGl0b3JMb2NhbGVQaXBlIH0gZnJvbSAnLi4vZXhwcmVzc2lvbi1lZGl0b3ItbG9jYWxlLnBpcGUnO1xyXG5pbXBvcnQgeyBGdW5jdGlvbkkxOG5SZXNvdXJjZXMgfSBmcm9tICcuLi9pMThuL0Z1bmN0aW9uSTE4blJlc291cmNlJztcclxuaW1wb3J0IHsgTmV3RW50aXR5U2V0LCBOZXdTY2hlbWEgfSBmcm9tICcuLi9pMThuL05ld1NjaGVtYSc7XHJcbmltcG9ydCB7IHRyaW1UcmFpbGluZ051bGxzIH0gZnJvbSAnQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3JlbmRlcjMvdmlldy91dGlsJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWV4cHJlc3Npb25lZGl0b3InLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9leHByZXNzaW9uZWRpdG9yLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9leHByZXNzaW9uZWRpdG9yLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvbmVkaXRvckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcclxuICAvL+WumuS5iWkxOG7moIfor4ZcclxuICBwcml2YXRlIGxvY2FsZUlkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBsb2NhbGVQaXBlOiBFeHByZXNzaW9uRWRpdG9yTG9jYWxlUGlwZTtcclxuXHJcbiAgcHJpdmF0ZSBub3RpZnlTZXJ2aWNlOiBOb3RpZnlTZXJ2aWNlO1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZXZlbnRTZXJ2aWNlOiBFeHByZXNzaW9uRXZlbnRTZXJ2aWNlLCBAT3B0aW9uYWwoKSBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvciwgcHVibGljIGh0dHA6IEh0dHBDbGllbnQpIHtcclxuICAgIGlmICh0aGlzLmluamVjdG9yKSB7XHJcbiAgICAgIHRoaXMubm90aWZ5U2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KE5vdGlmeVNlcnZpY2UpO1xyXG4gICAgICB0aGlzLmh0dHAgPSB0aGlzLmluamVjdG9yLmdldChIdHRwQ2xpZW50KTtcclxuICAgICAgdGhpcy5sb2NhbGVJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYW5ndWFnZUNvZGUnKTtcclxuICAgICAgdGhpcy5sb2NhbGVQaXBlID0gbmV3IEV4cHJlc3Npb25FZGl0b3JMb2NhbGVQaXBlKHRoaXMubG9jYWxlSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+WumuS5ieWbvemZheWMlui1hOa6kOWQjeensFxyXG4gIEFkdmFuY2VkOiBzdHJpbmc7XHJcbiAgU3RyaW5nOiBzdHJpbmc7XHJcbiAgQWdncmVnYXRlOiBzdHJpbmc7XHJcbiAgRXN0aW1hdGU6IHN0cmluZztcclxuICBEYXRlVGltZTogc3RyaW5nO1xyXG4gIFRyYW5zbGF0ZTogc3RyaW5nO1xyXG4gIEFuYWx5dGljYWw6IHN0cmluZztcclxuICBNYXRoOiBzdHJpbmc7XHJcbiAgRXh0ZW5kOiBzdHJpbmc7XHJcbiAgVmFyaWFibGU6IHN0cmluZztcclxuICBFbnRpdHk6IHN0cmluZztcclxuICBIZWxwOiBzdHJpbmc7XHJcbiAgRnVuY3Rpb25EZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIFZhckRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgQ3VycmVudFByb3A6IHN0cmluZztcclxuICBDdXJyZW50Q2hvc2VkUHJvcDogc3RyaW5nO1xyXG5cclxuICBzdGFuZGFyZEZ1bmN0aW9ucyA9IFtdOyAgICAgLy/op4TojIPlh73mlbBcclxuICBhbGxGdW5jdGlvbnMgPSBbXTsgICAgICAgICAgLy/miYDmnInlh73mlbDvvIzljIXlkKvkuI3op4TojINcclxuICBkZXByZWNhdGVkRnVuY3Rpb25zID0gW1xyXG4gICAgXCJTdHJpbmdTdWJzdHJpbmdcIiwgXCJTdHJpbmdMZW5ndGhcIiwgXCJTdHJpbmdSZXBsYWNlXCIsIFwiU3RyaW5nVG9VcHBlclwiLCBcIlN0cmluZ1RvTG93ZXJcIiwgXCJTdHJpbmdJbmRleE9mXCIsIFwiU3RyaW5nTGFzdEluZGV4T2ZcIiwgXCJTdHJpbmdUcmltU3RhcnRcIiwgXCJTdHJpbmdUcmltRW5kXCIsIFwiU3RyaW5nVHJpbVwiLCBcIlN0cmluZ0FkZFwiLFxyXG4gICAgXCJSb3VuZFwiLCBcIkJhbmtlclJvdW5kXCIsXHJcbiAgICBcImdldENvbXB1dGVKc29uRGF0YVwiLFxyXG4gICAgXCJUb0RlY2ltYWxcIiwgXCJUb1NpbmdsZVwiXHJcbiAgXTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Ye95pWw6LCD5pW077yM5LiA5Lqb5Ye95pWw55Sx5LqO5ZG95ZCN5LiN6KeE6IyD6ICM5LiN5L2/55So77yM5bm25Li66L+Z5Lqb5Ye95pWw5o+Q5L6b6KeE6IyD5ZG95ZCN55qE5a6e546w44CC5Li65LqG5pSv5oyB5bey57uP5L+d5a2Y55qE6KGo6L6+5byP77yM5LiN6KeE6IyD5ZG95ZCN5Ye95pWw5bCG5Lya5L+d55WZ77yM5L2G5piv5Lya6KKr6L+H5ruk5o6JXHJcblxyXG4gIGN1cnJlbnRGdW5jVGFiVHlwZTogc3RyaW5nID0gXCJTdHJpbmdcIjsgICAgICAgICAgICAgICAgICAvL+W9k+WJjeWHveaVsOmAieaLqeexu+Wei1xyXG4gIGN1cnJlbnRWYXJUeXBlOiBWYXJUeXBlID0gVmFyVHlwZS5Db250ZXh0OyAgICAgICAgICAgICAgLy/lvZPliY3lj5jph4/pgInmi6nnsbvlnotcclxuICBkZXNjcmlwdGluZm86IHN0cmluZyA9IFwiXCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lh73mlbDor7TmmI5cclxuICBrZXlJbmZvOiBzdHJpbmcgPSBcIlwiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lh73mlbBrZXnlgLxcclxuICBzY2hlbWEgPSBuZXcgTWFwPHN0cmluZywgU2NoZW1hPigpOyAgICAgICAgICAgICAgICAgICAgIC8vc2NoZW1h5YiX6KGoXHJcbiAgbmV3U2NoZW1hTWFwID0gbmV3IE1hcDxzdHJpbmcsIE5ld1NjaGVtYT4oKTsgICAgICAgICAgICAvL25ld1NjaGVtYeWIl+ihqFxyXG4gIGNob3NlU2NoZW1hVGFibGVOYW1lOiBDdXJyZW50Tm9kZSA9IG5ldyBDdXJyZW50Tm9kZTsgICAgLy/pgInmi6lzY2hlbWHjgIFlbnRpdHnkuK3nmoTooajlkI1cclxuICBleHByZXNzaW9uaW5mbzogc3RyaW5nOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6KGo6L6+5byP5Li05pe25paH5pysXHJcbiAgc2VsZWN0ZWRSZXNvdXJjZSA9IGZhbHNlO1xyXG4gIGVudGl0eXdpZHRoID0gXCIxMDAlXCI7XHJcbiAgYWRhcHRlcjogQWRhcHRlciA9IG5ldyBBZGFwdGVyKCk7XHJcbiAgc2VsZWN0bmV3ZnVuYzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGZ1bmNFeHRlbmQ6IEZ1bmNFbnRpdHlbXSA9IFtdOyAgICAgICAgICAgICAgICAgLy/mianlsZXlh73mlbDlrp7kvZNcclxuICBASW5wdXQoKSBleHByZXNzaW9uRW50aXR5OiBFeHByZXNzaW9uQ29udGV4dEVudGl0eSA9IG5ldyBFeHByZXNzaW9uQ29udGV4dEVudGl0eTsvL+ihqOi+vuW8j+WGhemDqOS4iuS4i+aWh1xyXG4gIEBJbnB1dCgpIGNvbnRleHRFbnRpdGllczogVmFyRW50aXR5W10gPSBbXTtcclxuICBASW5wdXQoKSBzZXNzaW9uRW50aXRpZXM6IFZhckVudGl0eVtdID0gW107XHJcbiAgQElucHV0KCkgaW5qZWN0ZWRFbnRpdGllczogSW5qZWN0ZWRFbnRpdHlbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIHNtYXJ0SGVscDogU21hcnRIZWxwRW50aXR5W10gPSBbXTtcclxuXHJcbiAgLy/ku6XkuIvkuLrpnaLmnb/lvI9cclxuICBASW5wdXQoKSB0ZXh0OiBzdHJpbmc7XHJcbiAgQElucHV0KCkgaXNQYW5lbDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGZ1bmNFbnRpdGllczogRnVuY0VudGl0eVtdID0gW107XHJcbiAgQElucHV0KCkgZ3NwQ0RUczogR3NwQ29tbW9uRGF0YVR5cGVbXSA9IFtdO1xyXG4gIEBJbnB1dCgpIGNvbW1vbk9iamVjdHM6IEdTUENvbW1vbk9iamVjdFtdID0gW107XHJcbiAgQElucHV0KCkgY3VzdG9tU2NoZW1hTmFtZTogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGN1c3RvbVNjaGVtYTogU2NoZW1hO1xyXG4gIEBJbnB1dCgpIGluamVjdE5hbWU6IHN0cmluZztcclxuICBASW5wdXQoKSBpbmplY3RTY2hlbWFOYW1lOiBzdHJpbmcgPSBcIkNvbW1vbk9iamVjdFwiO1xyXG4gIEBJbnB1dCgpIGluamVjdE5hbWVJblNjaGVtYTogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGluamVjdGVkVHlwZTogSW5qZWN0ZWRUeXBlID0gSW5qZWN0ZWRUeXBlLkVudGl0eVR5cGU7XHJcbiAgQElucHV0KCkgY3VzdG9tTmV3U2NoZW1hTmFtZTogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGN1c3RvbU5ld1NjaGVtYTogTmV3U2NoZW1hO1xyXG4gIEBJbnB1dCgpIHdpbmRvd1dpZHRoOiBudW1iZXIgPSAxMDAwO1xyXG5cclxuICBAT3V0cHV0KCkgcmVzdWx0ID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XHJcbiAgQE91dHB1dCgpIGNsb3NlTW9kYWxFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIC8v5raI5oGv5o+Q56S6XHJcbiAgcHJpdmF0ZSBub3RpZmllcyA9IHtcclxuICAgIDE6IHsgdHlwZTogJ3N1Y2Nlc3MnLCBtc2c6ICfooajovr7lvI/nlJ/miJDvvIEnIH0sXHJcbiAgICAyOiB7IHR5cGU6ICd3YXJuaW5nJywgbXNnOiAn6K+356Gu5L+d5b+F5aGr6aG55aGr5YaZ5a6M5pW077yBJyB9LFxyXG4gICAgMzogeyB0eXBlOiAnaW5mbycsIG1zZzogJ+WKn+iDveWwmuacquaPkOS+m++8gScgfVxyXG4gIH07XHJcbiAgLy/nvJbovpHlmajnmoTln7rmnKzlj4LmlbBcclxuICBvcHRpb25zID0ge1xyXG4gICAgdGhlbWU6ICd2cy1saWdodCcsXHJcbiAgICBsYW5ndWFnZTogJ2phdmFzY3JpcHQnLFxyXG4gICAgYXV0b21hdGljTGF5b3V0OiB0cnVlXHJcbiAgfTtcclxuICBjb2RlOiBzdHJpbmc7Ly/nvJbovpHlmajmmL7npLrmlofmnKznu5HlrppcclxuICBuZ09uSW5pdCgpIHtcclxuICAgIC8v5Yid5aeL5YyWZnJhbWUgaTE4bui1hOa6kFxyXG4gICAgdGhpcy5BZHZhbmNlZCA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJBZHZhbmNlZFwiKTtcclxuICAgIHRoaXMuU3RyaW5nID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIlN0cmluZ1wiKTtcclxuICAgIHRoaXMuQWdncmVnYXRlID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFnZ3JlZ2F0ZVwiKTtcclxuICAgIHRoaXMuRXN0aW1hdGUgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiRXN0aW1hdGVcIik7XHJcbiAgICB0aGlzLkRhdGVUaW1lID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkRhdGVUaW1lXCIpO1xyXG4gICAgdGhpcy5UcmFuc2xhdGUgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVHJhbnNsYXRlXCIpO1xyXG4gICAgdGhpcy5BbmFseXRpY2FsID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkFuYWx5dGljYWxcIik7XHJcbiAgICB0aGlzLk1hdGggPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiTWF0aFwiKTtcclxuICAgIHRoaXMuRXh0ZW5kID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkV4dGVuZFwiKTtcclxuICAgIHRoaXMuVmFyaWFibGUgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiVmFyaWFibGVcIik7XHJcbiAgICB0aGlzLkVudGl0eSA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJFbnRpdHlcIik7XHJcbiAgICB0aGlzLkhlbHAgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiSGVscFwiKTtcclxuICAgIHRoaXMuRnVuY3Rpb25EZXNjcmlwdGlvbiA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJGdW5jdGlvbkRlc2NyaXB0aW9uXCIpO1xyXG4gICAgdGhpcy5WYXJEZXNjcmlwdGlvbiA9IHRoaXMubG9jYWxlUGlwZS50cmFuc2Zvcm0oXCJWYXJEZXNjcmlwdGlvblwiKTtcclxuICAgIHRoaXMuQ3VycmVudFByb3AgPSB0aGlzLmxvY2FsZVBpcGUudHJhbnNmb3JtKFwiQ3VycmVudFByb3BcIik7XHJcbiAgICB0aGlzLkN1cnJlbnRDaG9zZWRQcm9wID0gdGhpcy5sb2NhbGVQaXBlLnRyYW5zZm9ybShcIkN1cnJlbnRDaG9zZWRQcm9wXCIpO1xyXG4gICAgLy/liJ3lp4vljJZpMThu5Ye95pWwXHJcbiAgICB0aGlzLmFsbEZ1bmN0aW9ucyA9IEZ1bmN0aW9uSTE4blJlc291cmNlc1t0aGlzLmxvY2FsZUlkXSB8fCBGdW5jdGlvbkkxOG5SZXNvdXJjZXNbXCJ6aC1DSFNcIl07XHJcbiAgICAvL+i/h+a7pOS4jeinhOiMg+WRveWQjeWHveaVsFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFsbEZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIXRoaXMuZGVwcmVjYXRlZEZ1bmN0aW9ucy5pbmNsdWRlcyh0aGlzLmFsbEZ1bmN0aW9uc1tpXS5rZXkpKSB7XHJcbiAgICAgICAgdGhpcy5zdGFuZGFyZEZ1bmN0aW9ucy5wdXNoKHRoaXMuYWxsRnVuY3Rpb25zW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/ljLrliIbvvJrlvLnlh7rmoYZvcumdouadv1xyXG4gICAgaWYgKHRoaXMuaXNQYW5lbCkge1xyXG4gICAgICB0aGlzLk9uaW5pdFBhbmVsKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5PbmluaXRXaW5kb3dzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG5nT25DaGFuZ2VzKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaXNQYW5lbCkge1xyXG4gICAgICB0aGlzLk9uaW5pdFBhbmVsKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5by55Ye65qGG5byPXHJcbiAgcHJpdmF0ZSBPbmluaXRXaW5kb3dzKCkge1xyXG4gICAgLy/oi6Xooajovr7lvI/kuIrkuIvmloflrp7kvZPkuLrnqbrmiJblhbbkuK3nmoTpooTnva7ooajovr7lvI/mlofmnKzlrZfmrrXkuLrnqbrmiJbmlofmnKzplb/luqbkuLow77yM5YiZ6aKE572u6buY6K6k55qE5paH5pysXHJcbiAgICBpZiAoISh0aGlzLmV4cHJlc3Npb25FbnRpdHkpIHx8ICEodGhpcy5leHByZXNzaW9uRW50aXR5LmV4cHIpIHx8IHRoaXMuZXhwcmVzc2lvbkVudGl0eS5leHByLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHRoaXMuY29kZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy/lkKbliJnvvIzmt7vliqDpooTnva7mlofmnKzmmL7npLpcclxuICAgICAgdGhpcy5jb2RlID0gdGhpcy5leHByZXNzaW9uRW50aXR5LmV4cHI7XHJcbiAgICB9XHJcbiAgICAvL+WIneWni+WMluWQhOaJqeWxleWHveaVsOWunuS9k1xyXG4gICAgdGhpcy5leHByZXNzaW9uRW50aXR5LmZ1bmNFbnRpdGllcy5mb3JFYWNoKGZ1bmNlbnRpdHkgPT4ge1xyXG4gICAgICB0aGlzLmZ1bmNFeHRlbmQgPSB0aGlzLmZ1bmNFeHRlbmQuZmlsdGVyKGl0ZW0gPT4gaXRlbS5rZXkgIT09IGZ1bmNlbnRpdHkua2V5KTtcclxuICAgICAgdGhpcy5mdW5jRXh0ZW5kLnB1c2goZnVuY2VudGl0eSk7XHJcbiAgICB9KTtcclxuICAgIC8v5Yid5aeL5YyW5ZCE5LiK5LiL5paH5a6e5L2TXHJcbiAgICB0aGlzLmV4cHJlc3Npb25FbnRpdHkuY29udGV4dEVudGl0aWVzLmZvckVhY2goY29udGV4dGVudGl0eSA9PiB7XHJcbiAgICAgIHRoaXMuY29udGV4dEVudGl0aWVzLnB1c2goY29udGV4dGVudGl0eSk7XHJcbiAgICB9KTtcclxuICAgIC8v5Yid5aeL5YyW5ZCE57O757uf5Y+Y6YeP5a6e5L2TXHJcbiAgICB0aGlzLmV4cHJlc3Npb25FbnRpdHkuc2Vzc2lvbkVudGl0aWVzLmZvckVhY2goc2Vzc2lvbmVudGl0eSA9PiB7XHJcbiAgICAgIHRoaXMuc2Vzc2lvbkVudGl0aWVzLnB1c2goc2Vzc2lvbmVudGl0eSk7XHJcbiAgICB9KTtcclxuICAgIC8v5Yid5aeL5YyWc2NoZW1h5a6e5L2T57G75Z6L5YiX6KGoXHJcbiAgICB0aGlzLnNjaGVtYSA9IHRoaXMuZXhwcmVzc2lvbkVudGl0eS5zY2hlbWFNYXA7XHJcbiAgICAvL+WIneWni+WMlm5ld1NjaGVtYeWunuS9k+exu+Wei+WIl+ihqFxyXG4gICAgdGhpcy5uZXdTY2hlbWFNYXAgPSB0aGlzLmV4cHJlc3Npb25FbnRpdHkubmV3U2NoZW1hTWFwO1xyXG4gICAgLy/liJ3lp4vljJZpbmplY3RlZEVudGl0aWVz5rOo5YWl5a6e5L2TXHJcbiAgICB0aGlzLmluamVjdGVkRW50aXRpZXMgPSB0aGlzLmV4cHJlc3Npb25FbnRpdHkuaW5qZWN0ZWRFbnRpdGllcztcclxuICAgIC8v5Yid5aeL5YyWc21hcnRIZWxw5YiX6KGoXHJcbiAgICB0aGlzLnNtYXJ0SGVscCA9IHRoaXMuZXhwcmVzc2lvbkVudGl0eS5zbWFydEhlbHBFbnRpdGllcztcclxuICB9XHJcbiAgLy/pnaLmnb/lvI9cclxuICBwcml2YXRlIE9uaW5pdFBhbmVsKCkge1xyXG4gICAgaWYgKHRoaXMuY3VzdG9tTmV3U2NoZW1hTmFtZSAmJiB0aGlzLmN1c3RvbU5ld1NjaGVtYSkge1xyXG4gICAgICAvL+azqOWFpU5ld1NjaGVtYVxyXG4gICAgICB0aGlzLm5ld1NjaGVtYU1hcC5zZXQodGhpcy5jdXN0b21OZXdTY2hlbWFOYW1lLCB0aGlzLmN1c3RvbU5ld1NjaGVtYSk7XHJcbiAgICAgIGlmICh0aGlzLmluamVjdE5hbWUgJiYgdGhpcy5pbmplY3ROYW1lSW5TY2hlbWEgJiYgdGhpcy5pbmplY3RTY2hlbWFOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5pbmplY3RlZEVudGl0aWVzID0gdGhpcy5pbmplY3RlZEVudGl0aWVzLmZpbHRlcihpdGVtID0+IGl0ZW0uaW5qZWN0ZWROYW1lICE9PSB0aGlzLmluamVjdE5hbWUpO1xyXG4gICAgICAgIC8v5p6E6YCg5rOo5YWl5a6e5L2T5a+56LGhXHJcbiAgICAgICAgbGV0IGluamVjdGVkRW50aXR5ID0gbmV3IEluamVjdGVkRW50aXR5KCk7XHJcbiAgICAgICAgLy/oi6Xms6jlhaXnmoTlrp7kvZPlkI3kuLrnqbrvvIzliJnpu5jorqTkuLrms6jlhaXlrp7kvZPlnKhuZXdTY2hlbWHkuK3nmoTlkI3np7BcclxuICAgICAgICBpbmplY3RlZEVudGl0eS5uYW1lID0gdGhpcy5pbmplY3ROYW1lID8gdGhpcy5pbmplY3ROYW1lIDogdGhpcy5pbmplY3ROYW1lSW5TY2hlbWE7XHJcbiAgICAgICAgaW5qZWN0ZWRFbnRpdHkuc2NoZW1hTmFtZSA9IHRoaXMuaW5qZWN0U2NoZW1hTmFtZTtcclxuICAgICAgICBpbmplY3RlZEVudGl0eS5pbmplY3RlZE5hbWUgPSB0aGlzLmluamVjdE5hbWVJblNjaGVtYTtcclxuICAgICAgICBpbmplY3RlZEVudGl0eS5pbmplY3RlZFR5cGUgPSB0aGlzLmluamVjdGVkVHlwZTtcclxuICAgICAgICB0aGlzLmluamVjdGVkRW50aXRpZXMucHVzaChpbmplY3RlZEVudGl0eSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZ3NwQ0RUcyAmJiB0aGlzLmdzcENEVHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCBpbm5lclNjaGVtYSA9IG5ldyBOZXdTY2hlbWEoKTtcclxuICAgICAgICAvL+iLpW5ld1NjaGVtYU1hcOS4reWtmOWcqENEVOeahHNjaGVtYVxyXG4gICAgICAgIGlmICh0aGlzLm5ld1NjaGVtYU1hcC5nZXQoXCJDRFRcIikpIHtcclxuICAgICAgICAgIGlubmVyU2NoZW1hID0gdGhpcy5uZXdTY2hlbWFNYXAuZ2V0KFwiQ0RUXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+Wwhuavj+S4gOS4qkNEVOi9rOWMluS4um5ld1NjaGVtYeWGhemDqOe7k+aehOS4reeahGVudGl0eVR5cGVcclxuICAgICAgICB0aGlzLmdzcENEVHMuZm9yRWFjaChnc3BDRFQgPT4ge1xyXG4gICAgICAgICAgbGV0IGVudGl0eVR5cGUgPSB0aGlzLmFkYXB0ZXIuY29udmVydENEVE9mTmV3U2NoZW1hKGdzcENEVCk7XHJcbiAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlUeXBlcyA9IGlubmVyU2NoZW1hLmVudGl0eVR5cGVzLmZpbHRlcihpdGVtID0+IGl0ZW0uY29kZSAhPT0gZW50aXR5VHlwZS5jb2RlKTtcclxuICAgICAgICAgIGlubmVyU2NoZW1hLmVudGl0eVR5cGVzLnB1c2goZW50aXR5VHlwZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy/lsIblkIjlubblkI7nmoRuZXdTY2hlbWHmlL7lhaXlhoXpg6jkuIrkuIvmloflrp7kvZPkuK1cclxuICAgICAgICB0aGlzLm5ld1NjaGVtYU1hcC5zZXQoXCJDRFRcIiwgaW5uZXJTY2hlbWEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5jb21tb25PYmplY3RzICYmIHRoaXMuY29tbW9uT2JqZWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgbGV0IGlubmVyU2NoZW1hID0gbmV3IE5ld1NjaGVtYTs7XHJcbiAgICAgICAgLy/oi6VuZXdTY2hlbWFNYXDkuK3lrZjlnKhDT+eahG5ld1NjaGVtYVxyXG4gICAgICAgIGlmICh0aGlzLm5ld1NjaGVtYU1hcC5nZXQoXCJDb21tb25PYmplY3RcIikpIHtcclxuICAgICAgICAgIGlubmVyU2NoZW1hID0gdGhpcy5uZXdTY2hlbWFNYXAuZ2V0KFwiQ29tbW9uT2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbW1vbk9iamVjdHMuZm9yRWFjaChjbyA9PiB7XHJcbiAgICAgICAgICAvL+Wwhuavj+S4gOS4qkNP6L2s5YyW5Li6c2NoZW1h5YaF6YOo57uT5p6E5Lit55qEZW50aXR5VHlwZVxyXG4gICAgICAgICAgbGV0IGVudGl0eVR5cGVzID0gdGhpcy5hZGFwdGVyLmNvbnZlcnRDT09mTmV3U2NoZW1hKGNvKTtcclxuICAgICAgICAgIGVudGl0eVR5cGVzLmZvckVhY2goZW50aXR5VHlwZSA9PiB7XHJcbiAgICAgICAgICAgIGlubmVyU2NoZW1hLmVudGl0eVR5cGVzID0gaW5uZXJTY2hlbWEuZW50aXR5VHlwZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jb2RlICE9PSBlbnRpdHlUeXBlLmNvZGUpO1xyXG4gICAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlUeXBlcy5wdXNoKGVudGl0eVR5cGUpO1xyXG4gICAgICAgICAgICBsZXQgZW50aXR5U2V0ID0gbmV3IE5ld0VudGl0eVNldDtcclxuICAgICAgICAgICAgZW50aXR5U2V0LmNvZGUgPSBlbnRpdHlUeXBlLmNvZGUgKyBcInNcIjtcclxuICAgICAgICAgICAgZW50aXR5U2V0Lm5hbWUgPSBlbnRpdHlUeXBlLm5hbWU7XHJcbiAgICAgICAgICAgIGVudGl0eVNldC5lbnRpdHlUeXBlID0gZW50aXR5VHlwZS5jb2RlO1xyXG4gICAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlTZXRzID0gaW5uZXJTY2hlbWEuZW50aXR5U2V0cy5maWx0ZXIoaXRlbSA9PiBpdGVtLmNvZGUgIT09IGVudGl0eVNldC5jb2RlKTtcclxuICAgICAgICAgICAgaW5uZXJTY2hlbWEuZW50aXR5U2V0cy5wdXNoKGVudGl0eVNldCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8v5bCG5ZCI5bm25ZCO55qEbmV3U2NoZW1h5pS+5YWl5YaF6YOo5LiK5LiL5paH5a6e5L2T5LitXHJcbiAgICAgICAgdGhpcy5uZXdTY2hlbWFNYXAuc2V0KFwiQ29tbW9uT2JqZWN0XCIsIGlubmVyU2NoZW1hKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLmN1c3RvbVNjaGVtYU5hbWUgJiYgdGhpcy5jdXN0b21TY2hlbWEpIHtcclxuICAgICAgLy/ms6jlhaXml6dTY2hlbWHlr7nosaFcclxuICAgICAgdGhpcy5zY2hlbWEuc2V0KHRoaXMuY3VzdG9tU2NoZW1hTmFtZSwgdGhpcy5jdXN0b21TY2hlbWEpO1xyXG4gICAgICBpZiAodGhpcy5pbmplY3ROYW1lICYmIHRoaXMuaW5qZWN0TmFtZUluU2NoZW1hICYmIHRoaXMuaW5qZWN0U2NoZW1hTmFtZSkge1xyXG4gICAgICAgIHRoaXMuaW5qZWN0ZWRFbnRpdGllcyA9IHRoaXMuaW5qZWN0ZWRFbnRpdGllcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmluamVjdGVkTmFtZSAhPT0gdGhpcy5pbmplY3ROYW1lKTtcclxuICAgICAgICAvL+aehOmAoOazqOWFpeWunuS9k+WvueixoVxyXG4gICAgICAgIGxldCBpbmplY3RlZEVudGl0eSA9IG5ldyBJbmplY3RlZEVudGl0eSgpO1xyXG4gICAgICAgIC8v6Iul5rOo5YWl55qE5a6e5L2T5ZCN5Li656m677yM5YiZ6buY6K6k5Li65rOo5YWl5a6e5L2T5Zyoc2NoZW1h5Lit55qE5ZCN56ewXHJcbiAgICAgICAgaW5qZWN0ZWRFbnRpdHkubmFtZSA9IHRoaXMuaW5qZWN0TmFtZSA/IHRoaXMuaW5qZWN0TmFtZSA6IHRoaXMuaW5qZWN0TmFtZUluU2NoZW1hO1xyXG4gICAgICAgIGluamVjdGVkRW50aXR5LnNjaGVtYU5hbWUgPSB0aGlzLmluamVjdFNjaGVtYU5hbWU7XHJcbiAgICAgICAgaW5qZWN0ZWRFbnRpdHkuaW5qZWN0ZWROYW1lID0gdGhpcy5pbmplY3ROYW1lSW5TY2hlbWE7XHJcbiAgICAgICAgaW5qZWN0ZWRFbnRpdHkuaW5qZWN0ZWRUeXBlID0gdGhpcy5pbmplY3RlZFR5cGU7XHJcbiAgICAgICAgdGhpcy5pbmplY3RlZEVudGl0aWVzLnB1c2goaW5qZWN0ZWRFbnRpdHkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmdzcENEVHMgJiYgdGhpcy5nc3BDRFRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgaW5uZXJTY2hlbWEgPSBuZXcgU2NoZW1hKCk7XHJcbiAgICAgICAgLy/oi6VzY2hlbWFNYXDkuK3lrZjlnKhDRFTnmoRzY2hlbWFcclxuICAgICAgICBpZiAodGhpcy5zY2hlbWEuZ2V0KFwiQ0RUXCIpKSB7XHJcbiAgICAgICAgICBpbm5lclNjaGVtYSA9IHRoaXMuc2NoZW1hLmdldChcIkNEVFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/lsIbmr4/kuIDkuKpDRFTovazljJbkuLpzY2hlbWHlhoXpg6jnu5PmnoTkuK3nmoRlbnRpdHlUeXBlXHJcbiAgICAgICAgdGhpcy5nc3BDRFRzLmZvckVhY2goZ3NwQ0RUID0+IHtcclxuICAgICAgICAgIGxldCBlbnRpdHlUeXBlID0gdGhpcy5hZGFwdGVyLmNvbnZlcnRDRFQoZ3NwQ0RUKTtcclxuICAgICAgICAgIGlubmVyU2NoZW1hLmVudGl0eVR5cGVzID0gaW5uZXJTY2hlbWEuZW50aXR5VHlwZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gZW50aXR5VHlwZS5pZCk7XHJcbiAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlUeXBlcy5wdXNoKGVudGl0eVR5cGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8v5bCG5ZCI5bm25ZCO55qEc2NoZW1h5pS+5YWl5YaF6YOo5LiK5LiL5paH5a6e5L2T5LitXHJcbiAgICAgICAgdGhpcy5zY2hlbWEuc2V0KFwiQ0RUXCIsIGlubmVyU2NoZW1hKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy/lpITnkIbml6dTY2hlbWHnmoRDT+WvueixoVxyXG4gICAgICBpZiAodGhpcy5jb21tb25PYmplY3RzICYmIHRoaXMuY29tbW9uT2JqZWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgbGV0IGlubmVyU2NoZW1hID0gbmV3IFNjaGVtYTs7XHJcbiAgICAgICAgLy/oi6VzY2hlbWFNYXDkuK3lrZjlnKhDT+eahHNjaGVtYVxyXG4gICAgICAgIGlmICh0aGlzLnNjaGVtYS5nZXQoXCJDb21tb25PYmplY3RcIikpIHtcclxuICAgICAgICAgIGlubmVyU2NoZW1hID0gdGhpcy5zY2hlbWEuZ2V0KFwiQ29tbW9uT2JqZWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbW1vbk9iamVjdHMuZm9yRWFjaChjbyA9PiB7XHJcbiAgICAgICAgICAvL+Wwhuavj+S4gOS4qkNP6L2s5YyW5Li6c2NoZW1h5YaF6YOo57uT5p6E5Lit55qEZW50aXR5VHlwZVxyXG4gICAgICAgICAgbGV0IGVudGl0eVR5cGVzID0gdGhpcy5hZGFwdGVyLmNvbnZlcnRDTyhjbyk7XHJcbiAgICAgICAgICBlbnRpdHlUeXBlcy5mb3JFYWNoKGVudGl0eVR5cGUgPT4ge1xyXG4gICAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlUeXBlcyA9IGlubmVyU2NoZW1hLmVudGl0eVR5cGVzLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGVudGl0eVR5cGUuaWQpO1xyXG4gICAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlUeXBlcy5wdXNoKGVudGl0eVR5cGUpO1xyXG4gICAgICAgICAgICBsZXQgZW50aXR5U2V0ID0gbmV3IEVudGl0eVNldDtcclxuICAgICAgICAgICAgZW50aXR5U2V0Lm5hbWUgPSBlbnRpdHlUeXBlLm5hbWUgKyBcInNcIjtcclxuICAgICAgICAgICAgZW50aXR5U2V0LmVudGl0eVR5cGUgPSBlbnRpdHlUeXBlLm5hbWU7XHJcbiAgICAgICAgICAgIGVudGl0eVNldC5kZXNjcmlwdGlvbiA9IGVudGl0eVR5cGUuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIGlubmVyU2NoZW1hLmVudGl0eVNldHMgPSBpbm5lclNjaGVtYS5lbnRpdHlTZXRzLmZpbHRlcihpdGVtID0+IGl0ZW0ubmFtZSAhPT0gZW50aXR5U2V0Lm5hbWUpO1xyXG4gICAgICAgICAgICBpbm5lclNjaGVtYS5lbnRpdHlTZXRzLnB1c2goZW50aXR5U2V0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy/lsIblkIjlubblkI7nmoRzY2hlbWHmlL7lhaXlhoXpg6jkuIrkuIvmloflrp7kvZPkuK1cclxuICAgICAgICB0aGlzLnNjaGVtYS5zZXQoXCJDb21tb25PYmplY3RcIiwgaW5uZXJTY2hlbWEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/liJ3lp4vljJbmianlsZXlh73mlbBcclxuICAgIGlmICh0aGlzLmZ1bmNFbnRpdGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuZnVuY0VudGl0aWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5mdW5jRXh0ZW5kID0gdGhpcy5mdW5jRXh0ZW5kLmZpbHRlcihpdGVtID0+IGl0ZW0ua2V5ICE9PSBlbGVtZW50LmtleSk7XHJcbiAgICAgICAgdGhpcy5mdW5jRXh0ZW5kLnB1c2goZWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6aKE572u57yW6L6R5qGG5pi+56S65YC8XHJcbiAgICBsZXQgdGV4dEVudGl0eSA9IEpTT04ucGFyc2UodGhpcy50ZXh0ID8gdGhpcy50ZXh0IDogbnVsbCkgYXMgRXhwcmVzc2lvbkVudGl0eTtcclxuICAgIGlmICh0ZXh0RW50aXR5ICYmIHRleHRFbnRpdHkuZXhwcikge1xyXG4gICAgICAvL+WKoOi9vUFudGxyNOW3peWFt1xyXG4gICAgICBsZXQgaW5wdXRTdHJlYW0gPSBuZXcgSW5wdXRTdHJlYW0uSW5wdXRTdHJlYW0odGV4dEVudGl0eS5leHByKTtcclxuICAgICAgbGV0IGxleGVyID0gbmV3IEphdmFTY3JpcHRMZXhlci5KYXZhU2NyaXB0TGV4ZXIoaW5wdXRTdHJlYW0pO1xyXG4gICAgICBsZXQgdG9rZW5zID0gbmV3IENvbW1vblRva2VuU3RyZWFtLkNvbW1vblRva2VuU3RyZWFtKGxleGVyKTtcclxuICAgICAgdG9rZW5zLmZpbGwoKTtcclxuICAgICAgLy90b2tlbnPliIfliIbnmoRqc+aWh+acrOaKveWPluWIsGFycmF55LitXHJcbiAgICAgIGxldCBhcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdG9rZW5zLnRva2Vucy5sZW5ndGggLSAxOyBpbmRleCsrKSB7XHJcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdG9rZW5zLnRva2Vuc1tpbmRleF0udGV4dDtcclxuICAgICAgfVxyXG4gICAgICAvL+mBjeWOhmFycmF555qEanPmlofmnKzvvIzmr4/kuKpqc+aWh+acrOmBjeWOhmFsbEZ1bmN0aW9uc+afpeaJvuWvueW6lOeahOivreS5ieWMluaWh+acrO+8jOWwgeijheS4unN0clxyXG4gICAgICB2YXIgc3RyID0gXCJcIjtcclxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIGlmICgoKGFycmF5W2luZGV4XSA9PSBcIkRlZmF1bHRGdW5jdGlvblwiKSB8fCAoYXJyYXlbaW5kZXhdID09IFwiTWF0aFwiKSkgJiYgKGFycmF5W2luZGV4ICsgMV0gPT0gXCIuXCIpKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFycmF5W2luZGV4XSA9PSBcIi5cIiAmJiAoYXJyYXlbaW5kZXggLSAxXSA9PSBcIkRlZmF1bHRGdW5jdGlvblwiIHx8IGFycmF5W2luZGV4IC0gMV0gPT0gXCJNYXRoXCIpKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIG51bSA9IDA7XHJcbiAgICAgICAgICAvL+mBjeWOhuS4iuS4i+aWh+WPmOmHj1xyXG4gICAgICAgICAgaWYgKG51bSA9PSAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZXh0RW50aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09IChcIlxcXCJcIiArIHRoaXMuY29udGV4dEVudGl0aWVzW2ldLmtleSArIFwiXFxcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgc3RyID0gc3RyICsgXCJcXFwiXCIgKyB0aGlzLmNvbnRleHRFbnRpdGllc1tpXS5uYW1lICsgXCJcXFwiXCI7XHJcbiAgICAgICAgICAgICAgICBudW0gPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvL+mBjeWOhnNlc3Npb27lj5jph49cclxuICAgICAgICAgIGlmIChudW0gPT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2Vzc2lvbkVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGFycmF5W2luZGV4XSA9PSAoXCJcXFwiXCIgKyB0aGlzLnNlc3Npb25FbnRpdGllc1tpXS5rZXkgKyBcIlxcXCJcIikpIHtcclxuICAgICAgICAgICAgICAgIHN0ciA9IHN0ciArIFwiXFxcIlwiICsgdGhpcy5zZXNzaW9uRW50aXRpZXNbaV0ubmFtZSArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICAgICAgbnVtID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy/orqHmlbDlmahudW3vvJrlpoLmnpzpgY3ljoZhbGxGdW5jdGlvbnPmsqHmib7liLDlr7nlupTlrZfmrrXvvIzliJnnm7TmjqXmi7zmjqUobnVtPTAp77yb5ZCm5YiZ5pu/5o2iKG51bT0xKVxyXG4gICAgICAgICAgaWYgKG51bSA9PSAwKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbGxGdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09IHRoaXMuYWxsRnVuY3Rpb25zW2ldLmtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWxsRnVuY3Rpb25zW2ldLnR5cGUgIT0gXCJBZHZhbmNlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ciArIHRoaXMuYWxsRnVuY3Rpb25zW2ldLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgIG51bSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy/lpoLmnpzorqHmlbDlmajkuLow77yM6K+B5piO5rKh5pyJ6K+t5LmJ5YyW5Yy56YWN44CC5pi+56S65Y6f5aeL5pWw5o2uXHJcbiAgICAgICAgICBpZiAobnVtID09IDApIHtcclxuICAgICAgICAgICAgc3RyID0gc3RyICsgYXJyYXlbaW5kZXhdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNvZGUgPSBzdHI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbCB9XHJcbiAgfVxyXG4gIC8v57yW6L6R5Zmo5Yid5aeL5YyW5LqL5Lu25Y+l5p+EXHJcbiAgb25Jbml0SGFuZGxlcigkZXZlbnQpIHtcclxuICB9XHJcbiAgLy/nvJbovpHlmajooajovr7lvI/mlLnlj5jkuovku7blj6Xmn4RcclxuICBvbkNoYW5nZUhhbmRsZXIoZXZlbnQ6IGFueSkge1xyXG4gICAgdGhpcy5leHByZXNzaW9uaW5mbyA9IGV2ZW50LmRhdGE7XHJcbiAgfVxyXG4gIG9uVG91Y2hlZEhhbmRsZXIoJGV2ZW50KSB7XHJcbiAgfVxyXG4gIC8qKirlh73mlbDpgInmi6l0YWLkuZ/liIfmjaLkuovku7YgKi9cclxuICBmdW5jVGFiQ2hhbmdlKCRldmVudCkge1xyXG4gICAgdGhpcy5jdXJyZW50RnVuY1RhYlR5cGUgPSAkZXZlbnQubmV4dElkO1xyXG4gIH1cclxuICAvL+WHveaVsOihqOagvOS4remAieaLqeihjOS6i+S7tlxyXG4gIHNlbGVjdEZ1bmNSb3dDaGFuZ2UoJGV2ZW50KSB7XHJcbiAgICB0aGlzLmRlc2NyaXB0aW5mbyA9IHRoaXMuRnVuY3Rpb25EZXNjcmlwdGlvbiArICRldmVudC5kZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmNsZWFyVmFyU2VsZWN0KCk7XHJcbiAgICB0aGlzLnNlbGVjdG5ld2Z1bmMgPSB0cnVlO1xyXG4gIH1cclxuICAvL+WPmOmHj++8muexu+Wei+mAieaLqSAgICAgICAgICAgICAgICAgICAgICAgIChmYXJyaXPljZXlh7vkuovku7bvvIzkuI3osIPmlbQpXHJcbiAgc2VsZWN0VmFyUm93Q2hhbmdlKCRldmVudCkge1xyXG4gICAgdGhpcy5jdXJyZW50VmFyVHlwZSA9ICRldmVudC5pZDtcclxuICB9XHJcbiAgLy/lj5jph4/vvJrmj4/ov7AgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZhcnJpc+WNleWHu+S6i+S7tu+8jOS4jeiwg+aVtClcclxuICBzZWxlY3RWYXJJbmZvUm93Q2hhbmdlKCRldmVudCkge1xyXG4gICAgdGhpcy5kZXNjcmlwdGluZm8gPSB0aGlzLlZhckRlc2NyaXB0aW9uICsgJGV2ZW50LmRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5ldmVudFNlcnZpY2UuY2xlYXJGdW5jU2VsZWN0KCk7XHJcbiAgfVxyXG4gIC8vc2NoZW1h6KGo5ZCN6YCJ5oupICAgICAgICAgICAgICAgICAgICAgICAgKOacquS9v+eUqClcclxuICBzZWxlY3RzY2hlbWFDaGFuZ2UoJGV2ZW50KSB7XHJcbiAgICB0aGlzLmNob3NlU2NoZW1hVGFibGVOYW1lID0gJGV2ZW50O1xyXG4gIH1cclxuICAvL+aVsOaNru+8mueItue7hOS7tuWNleWHu+aPj+i/sCAgICAgICAgICAgICAgICAgICAoZmFycmlz5Y2V5Ye75LqL5Lu277yM5LiN6LCD5pW0KVxyXG4gIHNlbGVjdGVudGl0eWNoYW5nZSgkZXZlbnQpIHtcclxuICAgIHRoaXMuY2hvc2VTY2hlbWFUYWJsZU5hbWUgPSAkZXZlbnQ7XHJcbiAgICBpZiAoJGV2ZW50Lm5vZGVUeXBlID09IFwiQ29tcGxleFwiKSB7XHJcbiAgICAgIHRoaXMuZW50aXR5d2lkdGggPSBcIjgwJVwiO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUmVzb3VyY2UgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZW50aXR5d2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgdGhpcy5zZWxlY3RlZFJlc291cmNlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRlc2NyaXB0aW5mbyA9IHRoaXMuQ3VycmVudFByb3AgKyAkZXZlbnQubmFtZSArIFwiLS0+XCIgKyAkZXZlbnQuZGVzY3JpcHRpb247XHJcbiAgfVxyXG4gIC8v5pWw5o2u77ya5a2Q57uE5Lu25Y2V5Ye75o+P6L+wICAgICAgICAgICAgICAgICAgIChmYXJyaXPljZXlh7vkuovku7bvvIzkuI3osIPmlbQpXHJcbiAgc2VsZWN0c2NoZW1haW5mb0NoYW5nZSgkZXZlbnQpIHtcclxuICAgIHRoaXMuZGVzY3JpcHRpbmZvID0gdGhpcy5DdXJyZW50Q2hvc2VkUHJvcCArICRldmVudC5uYW1lICsgXCItLT5cIiArICRldmVudC5kZXNjcmlwdGlvbjtcclxuICB9XHJcbiAgLy/lj5jph4/vvJrlj4zlh7vmj5LlhaUgICAgICAgICAgICAgICAgICAgICAgICAoZmFycmlz5Y+M5Ye75LqL5Lu277ya6LCD5pW0KVxyXG4gIGRiY2xpY2tWYXJJbnNlcnQoJGV2ZW50KSB7XHJcbiAgICBpZiAoJGV2ZW50KSB7XHJcbiAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50VmFyVHlwZSkge1xyXG4gICAgICAgIGNhc2UgVmFyVHlwZS5Db250ZXh0OlxyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YW5kYXJkRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YW5kYXJkRnVuY3Rpb25zW2ldLmtleSA9PSBcIkdldENvbnRleHRQYXJhbWV0ZXJcIikge1xyXG4gICAgICAgICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24odGhpcy5zdGFuZGFyZEZ1bmN0aW9uc1tpXS5uYW1lICsgXCIoXFxcIlwiICsgJGV2ZW50LmRhdGEubmFtZSArIFwiXFxcIilcIik7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgVmFyVHlwZS5TZXNzaW9uOlxyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YW5kYXJkRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YW5kYXJkRnVuY3Rpb25zW2ldLmtleSA9PSBcIkdldFNlc3Npb25WYWx1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbih0aGlzLnN0YW5kYXJkRnVuY3Rpb25zW2ldLm5hbWUgKyBcIihcXFwiXCIgKyAkZXZlbnQuZGF0YS5uYW1lICsgXCJcXFwiKVwiKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5Y+M5Ye75o+S5YWlc2NoZW1h6KGo5L+h5oGvICAgICAgICAgICAgICAgICAgKOacquS9v+eUqClcclxuICBkYmNsaWNrU2NoZW1hSW5mb0luc2VydCgkZXZlbnQpIHtcclxuICAgIGlmICgkZXZlbnQpIHtcclxuICAgICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbigkZXZlbnQuZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5pWw5o2u77ya5Y+M5Ye75o+S5YWlICAgICAgICAgICAgICAgICAgICAgICAgKOWPjOWHu+S6i+S7tu+8muS4jeiwg+aVtClcclxuICBkYmNsaWNrRW50aXR5SW5zZXJ0KCRldmVudCkge1xyXG4gICAgaWYgKCRldmVudCkge1xyXG4gICAgICB0aGlzLmV2ZW50U2VydmljZS5pbnNlcnRFeHByZXNzaW9uKCRldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5pWw5o2u5a2Q57uE5Lu277ya5Y+M5Ye75o+S5YWlICAgICAgICAgICAgICAgICAgKGZhcnJpc+WPjOWHu+S6i+S7tu+8muWtkOe7hOS7tuW3suS/ruaUuSlcclxuICBkYmNsaWNrRW50aXR5SW5mb0luc2VydCgkZXZlbnQpIHtcclxuICAgIGlmICgkZXZlbnQpIHtcclxuICAgICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbigkZXZlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+aZuuiDveW4ruWKqe+8muWPjOWHuyAgICAgICAgICAgICAgICAgICAgICAgICjmnKrkvb/nlKgpICAgICAgICAgIFxyXG4gIGRiY2xpY2tTbWFydEhlbHBJbnNlcnQoJGV2ZW50KSB7XHJcbiAgICBpZiAoJGV2ZW50KSB7XHJcbiAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oJGV2ZW50LmRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24g5Ye95pWw77ya5Y+M5Ye75o+S5YWlICAgICAgICAgIChmYXJyaXPlj4zlh7vkuovku7bvvJrosIPmlbQpXHJcbiAgICogQHBhcmFtICRldmVudCAgXHJcbiAgICogMe+8muWIpOaWreaYr+WQpuS4ukFkdmFuY2Vk77yM5aaC5p6c5piv77ya55u05o6l6I635Y+W5a+55bqU55qEbmFtZeaPkuWFpTvlpoLmnpzkuI3mmK/vvJrojrflj5blr7nlupTnmoRuYW1l77yM54S25ZCO5ou85o6l5Y+C5pWwXHJcbiAgICovXHJcbiAgZGJjbGlja0luc2VydCgkZXZlbnQpIHtcclxuICAgIC8v5o+S5YWl57yW6L6R5qGG55qE6K+t5LmJ5YyW5paH5pysaW5zZXJ0VGV4dFxyXG4gICAgbGV0IGluc2VydFRleHQgPSAkZXZlbnQuZGF0YS5rZXk7XHJcbiAgICAvL+agueaNriRldmVudC5kYXRhLmtleeaJvuWIsOWHveaVsOeahOivreS5ieWMluWQjeensFxyXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc3RhbmRhcmRGdW5jdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgIGlmIChpbnNlcnRUZXh0ID09IHRoaXMuc3RhbmRhcmRGdW5jdGlvbnNbaW5kZXhdLmtleSkge1xyXG4gICAgICAgIGluc2VydFRleHQgPSB0aGlzLnN0YW5kYXJkRnVuY3Rpb25zW2luZGV4XS5uYW1lO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy/lpoLmnpzkuI3mmK9BZHZhbmNlZO+8jOaLvOaOpeWPguaVsFxyXG4gICAgaWYgKCRldmVudC5kYXRhLnR5cGUgIT0gXCJBZHZhbmNlZFwiKSB7XHJcbiAgICAgIGluc2VydFRleHQgKz0gXCIoXCI7XHJcbiAgICAgIGxldCBwYXJhbXNMaXN0ID0gJGV2ZW50LmRhdGEucGFyYW1zO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBwYXJhbXNMaXN0Lmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgIGlmIChwYXJhbXNMaXN0Lmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAvL+S4gOS4quWPguaVsO+8jOaXoOmcgOa3u+WKoOmAl+WPt+OAguWPguaVsOexu+Wei+S4ulN0cmluZ+WImemmluWwvui/veWKoFwiXCLvvIzlhbbku5bnm7TmjqXmt7vliqBcclxuICAgICAgICAgIGlmIChwYXJhbXNMaXN0WzBdLnR5cGUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpbnNlcnRUZXh0ICs9IFwiXFxcIlwiICsgcGFyYW1zTGlzdFswXS5uYW1lICsgXCJcXFwiXCI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnNlcnRUZXh0ICs9IHBhcmFtc0xpc3RbMF0ubmFtZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy/lpJrkuKrlj4LmlbDvvIzmt7vliqDpgJflj7fliIbpmpTlj4LmlbBcclxuICAgICAgICAgIGlmIChpICE9IHBhcmFtc0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAvL+WPguaVsOS4jeaYr+acgOWQjuS4gOS9jVxyXG4gICAgICAgICAgICBpZiAocGFyYW1zTGlzdFtpXS50eXBlID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICBpbnNlcnRUZXh0ICs9IFwiXFxcIlwiICsgcGFyYW1zTGlzdFtpXS5uYW1lICsgXCJcXFwiLFwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGluc2VydFRleHQgKz0gcGFyYW1zTGlzdFtpXS5uYW1lICsgXCIsXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5Y+C5pWw5piv5pyA5ZCO5LiA5L2NXHJcbiAgICAgICAgICAgIGlmIChwYXJhbXNMaXN0W2ldLnR5cGUgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgIGluc2VydFRleHQgKz0gXCJcXFwiXCIgKyBwYXJhbXNMaXN0W2ldLm5hbWUgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpbnNlcnRUZXh0ICs9IHBhcmFtc0xpc3RbaV0ubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpbnNlcnRUZXh0ICs9IFwiKVwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5rZXlJbmZvID0gaW5zZXJ0VGV4dDtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24odGhpcy5rZXlJbmZvKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIOiOt+WPluihqOi+vuW8j+S4slxyXG4gICAqIOS/neWtmOaXtu+8jOi/m+ihjOivreS5ieWMli0tPmpz55qE6L2s5o2iXHJcbiAgICogMe+8muWwgeijhUV4cHJlc3Npb25FbnRpdHkgICAg5bGe5oCn77yaZXhwciwgc2V4cHJcclxuICAgKiAy77ya5Yik5pat5pyJ5pegZXhwcu+8m+acieWImeS9v+eUqEFudGxyNOi/m+ihjOino+aekOi9rOaNolxyXG4gICAqICAgIDIuMe+8mkFudGxyNOW3peWFt+aLv+WIsOaVsOe7hEFycmF5XHJcbiAgICogICAgMi4y77ya5qC55o2u5pWw57uE5YWD57Sg5LiObmFtZeeahOWvueW6lO+8jOabv+aNouS4umtleVxyXG4gICAqICAgIDIuM++8muabv+aNouWQjueahOaVsOe7hOWFg+e0oOaLvOaOpeWHunN0clxyXG4gICAqL1xyXG4gIGdldEV4cHJzKCkge1xyXG4gICAgbGV0IGV4cHJFbnRpdHkgPSBuZXcgRXhwcmVzc2lvbkVudGl0eTtcclxuICAgIGV4cHJFbnRpdHkuZXhwciA9IHRoaXMuZXhwcmVzc2lvbmluZm87XHJcbiAgICBleHByRW50aXR5LnNleHByID0gdGhpcy5leHByZXNzaW9uRW50aXR5LnNleHByO1xyXG4gICAgaWYgKGV4cHJFbnRpdHkuZXhwciA9PSBudWxsIHx8IGV4cHJFbnRpdHkuZXhwciA9PSBcIlwiKSB7XHJcbiAgICAgIHRoaXMucmVzdWx0LmVtaXQobnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8y77yaZXhwcuS4jeS4uuepuu+8jOS9v+eUqEFudGxyNOi/m+ihjOino+aekFxyXG4gICAgICBsZXQgaW5wdXRTdHJlYW0gPSBuZXcgSW5wdXRTdHJlYW0uSW5wdXRTdHJlYW0oZXhwckVudGl0eS5leHByKTtcclxuICAgICAgbGV0IGxleGVyID0gbmV3IEphdmFTY3JpcHRMZXhlci5KYXZhU2NyaXB0TGV4ZXIoaW5wdXRTdHJlYW0pO1xyXG4gICAgICBsZXQgdG9rZW5zID0gbmV3IENvbW1vblRva2VuU3RyZWFtLkNvbW1vblRva2VuU3RyZWFtKGxleGVyKTtcclxuICAgICAgdG9rZW5zLmZpbGwoKTtcclxuICAgICAgbGV0IGFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0b2tlbnMudG9rZW5zLmxlbmd0aCAtIDE7IGluZGV4KyspIHtcclxuICAgICAgICBhcnJheVtpbmRleF0gPSB0b2tlbnMudG9rZW5zW2luZGV4XS50ZXh0O1xyXG4gICAgICB9XHJcbiAgICAgIC8v6YGN5Y6G5omA5pyJ55qEdG9rZW5cclxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIGxldCBudW0gPSAwO1xyXG4gICAgICAgIGlmIChudW0gPT0gMCkge1xyXG4gICAgICAgICAgLy/pgY3ljobkuIrkuIvmloflj5jph49cclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5leHByZXNzaW9uRW50aXR5LmNvbnRleHRFbnRpdGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09IChcIlxcXCJcIiArIHRoaXMuZXhwcmVzc2lvbkVudGl0eS5jb250ZXh0RW50aXRpZXNbaV0ubmFtZSArIFwiXFxcIlwiKSkge1xyXG4gICAgICAgICAgICAgIGFycmF5W2luZGV4XSA9IFwiXFxcIlwiICsgdGhpcy5leHByZXNzaW9uRW50aXR5LmNvbnRleHRFbnRpdGllc1tpXS5rZXkgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgICBudW0gPSAxO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW0gPT0gMCkge1xyXG4gICAgICAgICAgLy/pgY3ljoZzZXNzaW9u5Y+Y6YePXHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXhwcmVzc2lvbkVudGl0eS5zZXNzaW9uRW50aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2luZGV4XSA9PSAoXCJcXFwiXCIgKyB0aGlzLmV4cHJlc3Npb25FbnRpdHkuc2Vzc2lvbkVudGl0aWVzW2ldLm5hbWUgKyBcIlxcXCJcIikpIHtcclxuICAgICAgICAgICAgICBhcnJheVtpbmRleF0gPSBcIlxcXCJcIiArIHRoaXMuZXhwcmVzc2lvbkVudGl0eS5zZXNzaW9uRW50aXRpZXNbaV0ua2V5ICsgXCJcXFwiXCI7XHJcbiAgICAgICAgICAgICAgbnVtID0gMTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtID09IDApIHtcclxuICAgICAgICAgIC8v6YGN5Y6G5Ye95pWwXHJcbiAgICAgICAgICBmb3IgKGxldCBpbmRleFRvayA9IDA7IGluZGV4VG9rIDwgdGhpcy5zdGFuZGFyZEZ1bmN0aW9ucy5sZW5ndGg7IGluZGV4VG9rKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2luZGV4XSA9PSB0aGlzLnN0YW5kYXJkRnVuY3Rpb25zW2luZGV4VG9rXS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdID0gdGhpcy5zdGFuZGFyZEZ1bmN0aW9uc1tpbmRleFRva10ua2V5RnJvbnQgKyAnLicgKyB0aGlzLnN0YW5kYXJkRnVuY3Rpb25zW2luZGV4VG9rXS5rZXk7XHJcbiAgICAgICAgICAgICAgbnVtID0gMTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy/lsIHoo4Vqc+ihqOi+vuW8j+aWh+acrGV4cHJlc3Npb25TdHJcclxuICAgICAgbGV0IGV4cHJlc3Npb25TdHIgPSBcIlwiO1xyXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvblN0ciA9IGV4cHJlc3Npb25TdHIgKyBhcnJheVtpbmRleF07XHJcbiAgICAgIH1cclxuICAgICAgZXhwckVudGl0eS5leHByID0gZXhwcmVzc2lvblN0cjtcclxuICAgICAgdGhpcy5yZXN1bHQuZW1pdChKU09OLnN0cmluZ2lmeShleHByRW50aXR5KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v6I635Y+W6KGo6L6+5byP5LiyXHJcbiAgZ2V0RXhwcigpIHtcclxuICAgIGxldCBleHByRW50aXR5ID0gbmV3IEV4cHJlc3Npb25FbnRpdHk7XHJcbiAgICBleHByRW50aXR5LmV4cHIgPSB0aGlzLmV4cHJlc3Npb25pbmZvO1xyXG4gICAgZXhwckVudGl0eS5zZXhwciA9IHRoaXMuZXhwcmVzc2lvbkVudGl0eS5zZXhwcjtcclxuICAgIGlmIChleHByRW50aXR5LmV4cHIgPT0gbnVsbCB8fCBleHByRW50aXR5LmV4cHIgPT0gXCJcIikge1xyXG4gICAgICB0aGlzLnJlc3VsdC5lbWl0KG51bGwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vMu+8mmV4cHLkuI3kuLrnqbrvvIzkvb/nlKhBbnRscjTov5vooYzop6PmnpBcclxuICAgICAgbGV0IGlucHV0U3RyZWFtID0gbmV3IElucHV0U3RyZWFtLklucHV0U3RyZWFtKGV4cHJFbnRpdHkuZXhwcik7XHJcbiAgICAgIGxldCBsZXhlciA9IG5ldyBKYXZhU2NyaXB0TGV4ZXIuSmF2YVNjcmlwdExleGVyKGlucHV0U3RyZWFtKTtcclxuICAgICAgbGV0IHRva2VucyA9IG5ldyBDb21tb25Ub2tlblN0cmVhbS5Db21tb25Ub2tlblN0cmVhbShsZXhlcik7XHJcbiAgICAgIHRva2Vucy5maWxsKCk7XHJcbiAgICAgIGxldCBhcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdG9rZW5zLnRva2Vucy5sZW5ndGggLSAxOyBpbmRleCsrKSB7XHJcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdG9rZW5zLnRva2Vuc1tpbmRleF0udGV4dDtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgbGV0IG51bSA9IDA7XHJcbiAgICAgICAgaWYgKG51bSA9PSAwKSB7XHJcbiAgICAgICAgICAvL+mBjeWOhuS4iuS4i+aWh+WPmOmHj1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRleHRFbnRpdGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09IChcIlxcXCJcIiArIHRoaXMuY29udGV4dEVudGl0aWVzW2ldLm5hbWUgKyBcIlxcXCJcIikpIHtcclxuICAgICAgICAgICAgICBhcnJheVtpbmRleF0gPSBcIlxcXCJcIiArIHRoaXMuY29udGV4dEVudGl0aWVzW2ldLmtleSArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICAgIG51bSA9IDE7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51bSA9PSAwKSB7XHJcbiAgICAgICAgICAvL+mBjeWOhnNlc3Npb27lj5jph49cclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXNzaW9uRW50aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2luZGV4XSA9PSAoXCJcXFwiXCIgKyB0aGlzLnNlc3Npb25FbnRpdGllc1tpXS5uYW1lICsgXCJcXFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdID0gXCJcXFwiXCIgKyB0aGlzLnNlc3Npb25FbnRpdGllc1tpXS5rZXkgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgICBudW0gPSAxO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW0gPT0gMCkge1xyXG4gICAgICAgICAgZm9yIChsZXQgaW5kZXhUb2sgPSAwOyBpbmRleFRvayA8IHRoaXMuc3RhbmRhcmRGdW5jdGlvbnMubGVuZ3RoOyBpbmRleFRvaysrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVtpbmRleF0gPT0gdGhpcy5zdGFuZGFyZEZ1bmN0aW9uc1tpbmRleFRva10ubmFtZSkge1xyXG4gICAgICAgICAgICAgIGFycmF5W2luZGV4XSA9IHRoaXMuc3RhbmRhcmRGdW5jdGlvbnNbaW5kZXhUb2tdLmtleUZyb250ICsgJy4nICsgdGhpcy5zdGFuZGFyZEZ1bmN0aW9uc1tpbmRleFRva10ua2V5O1xyXG4gICAgICAgICAgICAgIG51bSA9IDE7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8v5bCB6KOFanPooajovr7lvI/mlofmnKxleHByZXNzaW9uU3RyXHJcbiAgICAgIGxldCBleHByZXNzaW9uU3RyID0gXCJcIjtcclxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIGV4cHJlc3Npb25TdHIgPSBleHByZXNzaW9uU3RyICsgYXJyYXlbaW5kZXhdO1xyXG4gICAgICB9XHJcbiAgICAgIGV4cHJFbnRpdHkuZXhwciA9IGV4cHJlc3Npb25TdHI7XHJcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShleHByRW50aXR5KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/ph43nva5cclxuICByZXNldCgpIHtcclxuICAgIHRoaXMuZXhwcmVzc2lvbmluZm8gPSBudWxsO1xyXG4gICAgdGhpcy5jb2RlID0gbnVsbDtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLnB1c2hjbGVhckV4cHJlc3Npb24oKTtcclxuICB9XHJcbiAgLy/moKHpqoxcclxuICBjaGVjaygpIHtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMuZXhwcmVzc2lvbmluZm8pO1xyXG4gICAgaWYgKHRoaXMubm90aWZ5U2VydmljZSkge1xyXG4gICAgICB0aGlzLm5vdGlmeVNlcnZpY2VbdGhpcy5ub3RpZmllc1snMyddLnR5cGVdKHtcclxuICAgICAgICBtc2c6IHRoaXMubm90aWZpZXNbJzMnXS5tc2dcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgYWxlcnQoXCLlip/og73lsJrmnKrmj5DkvpvvvIFcIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8v5biu5YqpXHJcbiAgaGVscCgpIHtcclxuICAgIGlmICh0aGlzLm5vdGlmeVNlcnZpY2UpIHtcclxuICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlW3RoaXMubm90aWZpZXNbJzMnXS50eXBlXSh7XHJcbiAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyczJ10ubXNnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGFsZXJ0KFwi5Yqf6IO95bCa5pyq5o+Q5L6b77yBXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+WvvOWFpVxyXG4gIGltcG9ydCgpIHtcclxuICAgIGlmICh0aGlzLm5vdGlmeVNlcnZpY2UpIHtcclxuICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlW3RoaXMubm90aWZpZXNbJzMnXS50eXBlXSh7XHJcbiAgICAgICAgbXNnOiB0aGlzLm5vdGlmaWVzWyczJ10ubXNnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGFsZXJ0KFwi5Yqf6IO95bCa5pyq5o+Q5L6b77yBXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL+aJi+WKqOWunuaXtuabtOaUueaYvuekuuWAvFxyXG4gIGNoYW5nZVRleHQodGV4dGlpOiBzdHJpbmcpIHtcclxuICAgIC8v6aKE572u57yW6L6R5qGG5pi+56S65YC8XHJcbiAgICBsZXQgdGV4dEVudGl0eSA9IEpTT04ucGFyc2UodGV4dGlpID8gdGV4dGlpIDogbnVsbCkgYXMgRXhwcmVzc2lvbkVudGl0eTtcclxuICAgIGlmICh0ZXh0RW50aXR5ICYmIHRleHRFbnRpdHkuZXhwcikge1xyXG4gICAgICB0aGlzLmNvZGUgPSB0ZXh0RW50aXR5LmV4cHI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHsgdGhpcy5jb2RlID0gbnVsbCB9XHJcbiAgfVxyXG4gIGNoYW5nZUluamVjdEVudGl0eShpbmplY3ROYW1lOiBzdHJpbmcsIGluamVjdFNjaGVtYU5hbWU6IHN0cmluZyA9IFwiQ29tbW9uT2JqZWN0XCIsIGluamVjdE5hbWVJblNjaGVtYTogc3RyaW5nLCBpbmplY3RlZFR5cGU6IEluamVjdGVkVHlwZSA9IEluamVjdGVkVHlwZS5FbnRpdHlUeXBlKSB7XHJcbiAgICBpZiAoaW5qZWN0TmFtZSAmJiBpbmplY3ROYW1lSW5TY2hlbWEgJiYgaW5qZWN0U2NoZW1hTmFtZSkge1xyXG4gICAgICAvL+aehOmAoOazqOWFpeWunuS9k+WvueixoVxyXG4gICAgICBsZXQgaW5qZWN0ZWRFbnRpdHkgPSBuZXcgSW5qZWN0ZWRFbnRpdHkoKTtcclxuICAgICAgLy/oi6Xms6jlhaXnmoTlrp7kvZPlkI3kuLrnqbrvvIzliJnpu5jorqTkuLrms6jlhaXlrp7kvZPlnKhzY2hlbWHkuK3nmoTlkI3np7BcclxuICAgICAgaW5qZWN0ZWRFbnRpdHkubmFtZSA9IGluamVjdE5hbWUgPyBpbmplY3ROYW1lIDogaW5qZWN0TmFtZUluU2NoZW1hO1xyXG4gICAgICBpbmplY3RlZEVudGl0eS5zY2hlbWFOYW1lID0gaW5qZWN0U2NoZW1hTmFtZTtcclxuICAgICAgaW5qZWN0ZWRFbnRpdHkuaW5qZWN0ZWROYW1lID0gaW5qZWN0TmFtZUluU2NoZW1hO1xyXG4gICAgICBpbmplY3RlZEVudGl0eS5pbmplY3RlZFR5cGUgPSBpbmplY3RlZFR5cGU7XHJcbiAgICAgIHRoaXMuZXhwcmVzc2lvbkVudGl0eS5pbmplY3RlZEVudGl0aWVzLnB1c2goaW5qZWN0ZWRFbnRpdHkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbmplY3RlZEVudGl0aWVzID0gdGhpcy5leHByZXNzaW9uRW50aXR5LmluamVjdGVkRW50aXRpZXM7XHJcbiAgfVxyXG4gIGNoYW5nZUNPKGNvbW1vbk9iamVjdHM6IEdTUENvbW1vbk9iamVjdFtdKSB7XHJcbiAgICBpZiAoY29tbW9uT2JqZWN0cyAmJiBjb21tb25PYmplY3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgbGV0IHNjaGVtYTtcclxuICAgICAgLy/oi6VzY2hlbWFNYXDkuK3lrZjlnKhDT+eahHNjaGVtYVxyXG4gICAgICBpZiAodGhpcy5leHByZXNzaW9uRW50aXR5LnNjaGVtYU1hcC5nZXQoXCJDb21tb25PYmplY3RcIikpIHtcclxuICAgICAgICBzY2hlbWEgPSB0aGlzLmV4cHJlc3Npb25FbnRpdHkuc2NoZW1hTWFwLmdldChcIkNvbW1vbk9iamVjdFwiKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHNjaGVtYSA9IG5ldyBTY2hlbWE7XHJcbiAgICAgIGNvbW1vbk9iamVjdHMuZm9yRWFjaChjbyA9PiB7XHJcbiAgICAgICAgLy/lsIbmr4/kuIDkuKpDT+i9rOWMluS4unNjaGVtYeWGhemDqOe7k+aehOS4reeahGVudGl0eVR5cGVcclxuICAgICAgICBsZXQgZW50aXR5VHlwZXMgPSB0aGlzLmFkYXB0ZXIuY29udmVydENPKGNvKTtcclxuICAgICAgICBlbnRpdHlUeXBlcy5mb3JFYWNoKGVudGl0eVR5cGUgPT4ge1xyXG4gICAgICAgICAgc2NoZW1hLmVudGl0eVR5cGVzLnB1c2goZW50aXR5VHlwZSk7XHJcbiAgICAgICAgICBsZXQgZW50aXR5U2V0ID0gbmV3IEVudGl0eVNldDtcclxuICAgICAgICAgIGVudGl0eVNldC5uYW1lID0gZW50aXR5VHlwZS5uYW1lICsgXCJzXCI7XHJcbiAgICAgICAgICBlbnRpdHlTZXQuZW50aXR5VHlwZSA9IGVudGl0eVR5cGUubmFtZTtcclxuICAgICAgICAgIGVudGl0eVNldC5kZXNjcmlwdGlvbiA9IGVudGl0eVR5cGUuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICBzY2hlbWEuZW50aXR5U2V0cy5wdXNoKGVudGl0eVNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC8v5bCG5ZCI5bm25ZCO55qEc2NoZW1h5pS+5YWl5YaF6YOo5LiK5LiL5paH5a6e5L2T5LitXHJcbiAgICAgIHRoaXMuc2NoZW1hLnNldChcIkNvbW1vbk9iamVjdFwiLCBzY2hlbWEpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjaGFuZ2VDb250ZXh0VmFyKGNvbnRleHRFbnRpdGllczogVmFyRW50aXR5W10pIHtcclxuICAgIGNvbnRleHRFbnRpdGllcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICB0aGlzLmNvbnRleHRFbnRpdGllcyA9IHRoaXMuY29udGV4dEVudGl0aWVzLmZpbHRlcihpdGVtID0+IGl0ZW0ua2V5ICE9PSBpdGVtLmtleSk7XHJcbiAgICAgIHRoaXMuY29udGV4dEVudGl0aWVzLnB1c2goaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgaGlkZSgpIHtcclxuICAgIHRoaXMuc2VsZWN0bmV3ZnVuYyA9IGZhbHNlO1xyXG4gIH1cclxuICAvLyNyZWdpb24g57yW6L6R56ym5Y+35pa55rOVXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vL+e8lui+keespuWPt+aWueazlVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICBvbkRvdWJsZVF1b3RhdGlvbigpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCJcXFwiXFxcIlwiKTtcclxuICB9XHJcbiAgb25FcXVhbCgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIgPT0gXCIpO1xyXG4gIH1cclxuICBvblNwYXJlbigpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIoKVwiKTtcclxuICB9XHJcbiAgb25CcmFjZSgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCJbXVwiKTtcclxuICB9XHJcbiAgb25BbmQoKSB7XHJcbiAgICB0aGlzLmV2ZW50U2VydmljZS5pbnNlcnRFeHByZXNzaW9uKFwiICYmIFwiKTtcclxuICB9XHJcbiAgb25PcigpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIgfHwgXCIpO1xyXG4gIH1cclxuICBvbkV4Y2xhbWF0aW9uKCkge1xyXG4gICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbihcIiFcIik7XHJcbiAgfVxyXG4gIG9uSWVxdWFsKCkge1xyXG4gICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbihcIiA9PSBcIik7XHJcbiAgfVxyXG4gIG9uVW5lcXVhbCgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIgIT0gXCIpO1xyXG4gIH1cclxuICBvbkxlc3MoKSB7XHJcbiAgICB0aGlzLmV2ZW50U2VydmljZS5pbnNlcnRFeHByZXNzaW9uKFwiIDwgXCIpO1xyXG4gIH1cclxuICBvbkxlc3NlcXVhbCgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIgPD0gXCIpO1xyXG4gIH1cclxuICBvbk1vcmUoKSB7XHJcbiAgICB0aGlzLmV2ZW50U2VydmljZS5pbnNlcnRFeHByZXNzaW9uKFwiID4gXCIpO1xyXG4gIH1cclxuICBvbk1vcmVlcXVhbCgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIgPj0gXCIpO1xyXG4gIH1cclxuICBvblBsdXMoKSB7XHJcbiAgICB0aGlzLmV2ZW50U2VydmljZS5pbnNlcnRFeHByZXNzaW9uKFwiICsgXCIpO1xyXG4gIH1cclxuICBvbk1pbnVzKCkge1xyXG4gICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbihcIiAtIFwiKTtcclxuICB9XHJcbiAgb25NdWx0aXBsZSgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIqXCIpO1xyXG4gIH1cclxuICBvbkRpdmlzaW9uKCkge1xyXG4gICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbihcIi9cIik7XHJcbiAgfVxyXG4gIG9uUGVyY2VudCgpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIlXCIpO1xyXG4gIH1cclxuICBvbkFzc2lnbigpIHtcclxuICAgIHRoaXMuZXZlbnRTZXJ2aWNlLmluc2VydEV4cHJlc3Npb24oXCIgPSBcIik7XHJcbiAgfVxyXG4gIG9uT3Bwb3NlKCkge1xyXG4gICAgdGhpcy5ldmVudFNlcnZpY2UuaW5zZXJ0RXhwcmVzc2lvbihcIiFcIik7XHJcbiAgfVxyXG4gIC8vI2VuZHJlZ2lvblxyXG59XHJcbiJdfQ==