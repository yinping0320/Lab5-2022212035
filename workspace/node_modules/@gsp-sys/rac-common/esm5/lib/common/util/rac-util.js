/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { HttpHeaders } from '@angular/common/http';
import { SessionService } from '@ecp-caf/caf-common';
import { BizDataDTO } from '../entity/auresult.entity';
var RacCommonUtil = /** @class */ (function () {
    function RacCommonUtil(sessionSv) {
        this.sessionSv = sessionSv;
        /**
         * 维度1的值
         */
        this.assid1 = '';
        /**
         * 维度2的值
         */
        this.assid2 = '';
        this.AUDATACONTROL = 'AuDataControl';
        this.expandIcon = 'f-icon f-icon-file-folder-open text-warning';
        this.collapseIcon = 'f-icon f-icon-file-folder-close text-warning';
        this.leafIcon = 'f-icon f-icon-file-txt text-warning';
    }
    /**
     * 构造Header
     */
    /**
     * 构造Header
     * @return {?}
     */
    RacCommonUtil.prototype.getHeader = /**
     * 构造Header
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sessionId = this.sessionSv.getCurrentSeesionId();
        /** @type {?} */
        var headers = new HttpHeaders().set('SessionId', sessionId);
        return { headers: headers };
    };
    /**
     * 获取上下文中的用户
     */
    /**
     * 获取上下文中的用户
     * @return {?}
     */
    RacCommonUtil.prototype.getCurrentUserId = /**
     * 获取上下文中的用户
     * @return {?}
     */
    function () {
        // 测试用写死
        return 'admin';
    };
    /** Guid生成 */
    /**
     * Guid生成
     * @return {?}
     */
    RacCommonUtil.prototype.getGuid36 = /**
     * Guid生成
     * @return {?}
     */
    function () {
        /**
         * @return {?}
         */
        function S4() {
            // tslint:disable-next-line:no-bitwise
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        }
        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());
    };
    /**
     * 权限分配结果路径
     */
    /**
     * 权限分配结果路径
     * @return {?}
     */
    RacCommonUtil.prototype.getResultPath = /**
     * 权限分配结果路径
     * @return {?}
     */
    function () {
        /** @type {?} */
        var path = "/api/runtime/sys/v1.0/assignresults";
        return path;
    };
    /**
     * 权限对象路径
     */
    /**
     * 权限对象路径
     * @return {?}
     */
    RacCommonUtil.prototype.getAuthorizationPath = /**
     * 权限对象路径
     * @return {?}
     */
    function () {
        /** @type {?} */
        var path = "/api/runtime/sys/v1.0/authorizations";
        return path;
    };
    /**
     * 权限字段路径
     */
    /**
     * 权限字段路径
     * @return {?}
     */
    RacCommonUtil.prototype.getAuthfieldPath = /**
     * 权限字段路径
     * @return {?}
     */
    function () {
        /** @type {?} */
        var path = "/api/runtime/sys/v1.0/authfields";
        return path;
    };
    /**
     * 重授权对象路径
     */
    /**
     * 重授权对象路径
     * @return {?}
     */
    RacCommonUtil.prototype.getReAssignPath = /**
     * 重授权对象路径
     * @return {?}
     */
    function () {
        /** @type {?} */
        var path = "/api/runtime/sys/v1.0/reassigns";
        return path;
    };
    /**
     * 获取新增的内容
     * @param newarr: 最新的内容
     * @param oldarr：历史内容
     */
    /**
     * 获取新增的内容
     * @param {?} newarr
     * @param {?} oldarr
     * @return {?}
     */
    RacCommonUtil.prototype.getAddIds = /**
     * 获取新增的内容
     * @param {?} newarr
     * @param {?} oldarr
     * @return {?}
     */
    function (newarr, oldarr) {
        /** @type {?} */
        var addIds = [];
        newarr.forEach((/**
         * @param {?} x
         * @return {?}
         */
        function (x) {
            if (!oldarr.includes(x)) {
                addIds.push(x);
            }
        }));
        return addIds;
    };
    /**
     * 获取删除的内容
     * @param newarr: 最新的内容
     * @param oldarr：历史内容
     */
    /**
     * 获取删除的内容
     * @param {?} newarr
     * @param {?} oldarr
     * @return {?}
     */
    RacCommonUtil.prototype.getRemoveIds = /**
     * 获取删除的内容
     * @param {?} newarr
     * @param {?} oldarr
     * @return {?}
     */
    function (newarr, oldarr) {
        return this.getAddIds(oldarr, newarr);
    };
    /**
     * @param {?} arrs
     * @return {?}
     */
    RacCommonUtil.prototype.convertToBizDataDTO = /**
     * @param {?} arrs
     * @return {?}
     */
    function (arrs) {
        return arrs.map((/**
         * @param {?} x
         * @return {?}
         */
        function (x) {
            /** @type {?} */
            var dataDto = new BizDataDTO();
            dataDto.data = x;
            return dataDto;
        }));
    };
    /**
     * 有效的字符串
     */
    /**
     * 有效的字符串
     * @param {?} value
     * @return {?}
     */
    RacCommonUtil.prototype.isNullOrEmptyString = /**
     * 有效的字符串
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return this.isBlank(value) || value.toString().trim().length === 0;
    };
    /**
     * 不为空
     */
    /**
     * 不为空
     * @param {?} value
     * @return {?}
     */
    RacCommonUtil.prototype.isBlank = /**
     * 不为空
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return value === null || value === undefined;
    };
    /**
     * 字符串不为空
     */
    /**
     * 字符串不为空
     * @param {?} value
     * @return {?}
     */
    RacCommonUtil.prototype.isNotNullOrEmptyString = /**
     * 字符串不为空
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return !(this.isNullOrEmptyString(value));
    };
    /** 找到树形Parent分级方式的加载的第一层 */
    /**
     * 找到树形Parent分级方式的加载的第一层
     * @param {?} datas
     * @param {?} key
     * @param {?} parentKey
     * @return {?}
     */
    RacCommonUtil.prototype.findLayer1ByParentId = /**
     * 找到树形Parent分级方式的加载的第一层
     * @param {?} datas
     * @param {?} key
     * @param {?} parentKey
     * @return {?}
     */
    function (datas, key, parentKey) {
        /** @type {?} */
        var rtn = [];
        datas.forEach((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            /** @type {?} */
            var findParent = datas.find((/**
             * @param {?} parent
             * @return {?}
             */
            function (parent) { return parent[key] === data[parentKey]; }));
            if (!findParent && data.type !== undefined && data.type !== null && data.type.toString() === '99') {
                data.parentId = undefined;
                rtn.push(data);
            }
        }));
        return rtn;
    };
    /** 类型是否为导航 */
    /**
     * 类型是否为导航
     * @param {?} type
     * @return {?}
     */
    RacCommonUtil.prototype.isNav = /**
     * 类型是否为导航
     * @param {?} type
     * @return {?}
     */
    function (type) {
        return type === '99' || type === '0';
    };
    /**
     * @param {?} farrisTt
     * @return {?}
     */
    RacCommonUtil.prototype.setTreeIcon = /**
     * @param {?} farrisTt
     * @return {?}
     */
    function (farrisTt) {
        farrisTt.expandIcon = this.expandIcon;
        farrisTt.collapseIcon = this.collapseIcon;
        farrisTt.leafIcon = this.leafIcon;
        farrisTt.detectChanges();
    };
    RacCommonUtil.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    RacCommonUtil.ctorParameters = function () { return [
        { type: SessionService }
    ]; };
    return RacCommonUtil;
}());
export { RacCommonUtil };
if (false) {
    /** @type {?} */
    RacCommonUtil.prototype.sessionId;
    /** @type {?} */
    RacCommonUtil.prototype.ownerId;
    /** @type {?} */
    RacCommonUtil.prototype.ownerCode;
    /** @type {?} */
    RacCommonUtil.prototype.ownerName;
    /**
     * 权限所有者类型 岗位1，用户2
     * @type {?}
     */
    RacCommonUtil.prototype.ownerType;
    /**
     * 岗位类型 组织岗0，通用岗1，用户2 TODO 命令不支持传参数，暂时这么处理
     * @type {?}
     */
    RacCommonUtil.prototype.posType;
    /** @type {?} */
    RacCommonUtil.prototype.packageId;
    /** @type {?} */
    RacCommonUtil.prototype.year;
    /**
     * 维度1的值
     * @type {?}
     */
    RacCommonUtil.prototype.assid1;
    /**
     * 维度2的值
     * @type {?}
     */
    RacCommonUtil.prototype.assid2;
    /** @type {?} */
    RacCommonUtil.prototype.funcId;
    /** @type {?} */
    RacCommonUtil.prototype.AUDATACONTROL;
    /** @type {?} */
    RacCommonUtil.prototype.expandIcon;
    /** @type {?} */
    RacCommonUtil.prototype.collapseIcon;
    /** @type {?} */
    RacCommonUtil.prototype.leafIcon;
    /**
     * @type {?}
     * @private
     */
    RacCommonUtil.prototype.sessionSv;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFjLXV0aWwuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXN5cy9yYWMtY29tbW9uLyIsInNvdXJjZXMiOlsibGliL2NvbW1vbi91dGlsL3JhYy11dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBR3ZEO0lBR0ksdUJBQW9CLFNBQXlCO1FBQXpCLGNBQVMsR0FBVCxTQUFTLENBQWdCOzs7O1FBNEJ0QyxXQUFNLEdBQUcsRUFBRSxDQUFDOzs7O1FBRVosV0FBTSxHQUFHLEVBQUUsQ0FBQztRQU1aLGtCQUFhLEdBQUcsZUFBZSxDQUFDO1FBMEkvQixlQUFVLEdBQUcsNkNBQTZDLENBQUM7UUFDM0QsaUJBQVksR0FBRyw4Q0FBOEMsQ0FBQztRQUM5RCxhQUFRLEdBQUcscUNBQXFDLENBQUM7SUEvS3pELENBQUM7SUFxQ0Q7O09BRUc7Ozs7O0lBQ0gsaUNBQVM7Ozs7SUFBVDs7WUFFVSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRTs7WUFDaEQsT0FBTyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUM7UUFDN0QsT0FBTyxFQUFFLE9BQU8sU0FBQSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVEOztPQUVHOzs7OztJQUNILHdDQUFnQjs7OztJQUFoQjtRQUVJLFFBQVE7UUFDUixPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRUQsYUFBYTs7Ozs7SUFDYixpQ0FBUzs7OztJQUFUOzs7O1FBQ0ksU0FBUyxFQUFFO1lBQ1Asc0NBQXNDO1lBQ3RDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0UsQ0FBQztRQUNELE9BQU8sQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMzRixDQUFDO0lBSUQ7O09BRUc7Ozs7O0lBQ0gscUNBQWE7Ozs7SUFBYjs7WUFDVSxJQUFJLEdBQUcscUNBQXFDO1FBQ2xELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRDs7T0FFRzs7Ozs7SUFDSCw0Q0FBb0I7Ozs7SUFBcEI7O1lBQ1UsSUFBSSxHQUFHLHNDQUFzQztRQUNuRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBR0Q7O09BRUc7Ozs7O0lBQ0gsd0NBQWdCOzs7O0lBQWhCOztZQUNVLElBQUksR0FBRyxrQ0FBa0M7UUFDL0MsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVEOztPQUVHOzs7OztJQUNILHVDQUFlOzs7O0lBQWY7O1lBQ1UsSUFBSSxHQUFHLGlDQUFpQztRQUM5QyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQ7Ozs7T0FJRzs7Ozs7OztJQUNILGlDQUFTOzs7Ozs7SUFBVCxVQUFVLE1BQWdCLEVBQUUsTUFBZ0I7O1lBQ2xDLE1BQU0sR0FBYyxFQUFFO1FBQzVCLE1BQU0sQ0FBQyxPQUFPOzs7O1FBQUMsVUFBQSxDQUFDO1lBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEI7UUFDTCxDQUFDLEVBQUMsQ0FBQztRQUNILE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRDs7OztPQUlHOzs7Ozs7O0lBQ0gsb0NBQVk7Ozs7OztJQUFaLFVBQWEsTUFBZ0IsRUFBRSxNQUFnQjtRQUM1QyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Ozs7O0lBRUQsMkNBQW1COzs7O0lBQW5CLFVBQW9CLElBQWM7UUFDL0IsT0FBTyxJQUFJLENBQUMsR0FBRzs7OztRQUFDLFVBQUEsQ0FBQzs7Z0JBQ04sT0FBTyxHQUFHLElBQUksVUFBVSxFQUFFO1lBQ2hDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ2pCLE9BQU8sT0FBTyxDQUFDO1FBQ2pCLENBQUMsRUFBQyxDQUFDO0lBQ1QsQ0FBQztJQUdBOztPQUVHOzs7Ozs7SUFDSCwyQ0FBbUI7Ozs7O0lBQW5CLFVBQW9CLEtBQWE7UUFDOUIsT0FBUSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFQTs7T0FFRzs7Ozs7O0lBQ0osK0JBQU87Ozs7O0lBQVAsVUFBUSxLQUFVO1FBQ2QsT0FBTyxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLENBQUM7SUFDakQsQ0FBQztJQUVBOztPQUVHOzs7Ozs7SUFDSCw4Q0FBc0I7Ozs7O0lBQXRCLFVBQXVCLEtBQWE7UUFDakMsT0FBUSxDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUdELDRCQUE0Qjs7Ozs7Ozs7SUFDNUIsNENBQW9COzs7Ozs7O0lBQXBCLFVBQXFCLEtBQVksRUFBRSxHQUFXLEVBQUUsU0FBaUI7O1lBQ3ZELEdBQUcsR0FBRyxFQUFFO1FBQ2QsS0FBSyxDQUFDLE9BQU87Ozs7UUFBQyxVQUFBLElBQUk7O2dCQUNSLFVBQVUsR0FBRyxLQUFLLENBQUMsSUFBSTs7OztZQUFDLFVBQUEsTUFBTSxJQUFJLE9BQUEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBL0IsQ0FBK0IsRUFBQztZQUN4RSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssSUFBSSxFQUFFO2dCQUNoRyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztnQkFDMUIsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQjtRQUNMLENBQUMsRUFBQyxDQUFDO1FBQ0gsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUMsY0FBYzs7Ozs7O0lBQ2QsNkJBQUs7Ozs7O0lBQUwsVUFBTSxJQUFZO1FBQ2hCLE9BQU8sSUFBSSxLQUFLLElBQUksSUFBSyxJQUFJLEtBQUssR0FBRyxDQUFDO0lBQ3pDLENBQUM7Ozs7O0lBS0QsbUNBQVc7Ozs7SUFBWCxVQUFZLFFBQTRCO1FBQ3BDLFFBQVEsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN0QyxRQUFRLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDMUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ2xDLFFBQVEsQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUM3QixDQUFDOztnQkF6TEwsVUFBVTs7OztnQkFKRixjQUFjOztJQStMdkIsb0JBQUM7Q0FBQSxBQTNMRCxJQTJMQztTQTFMWSxhQUFhOzs7SUFLdEIsa0NBQXlCOztJQUt6QixnQ0FBdUI7O0lBR3ZCLGtDQUF5Qjs7SUFHekIsa0NBQXlCOzs7OztJQUd6QixrQ0FBeUI7Ozs7O0lBR3hCLGdDQUF1Qjs7SUFHeEIsa0NBQXlCOztJQUd6Qiw2QkFBaUI7Ozs7O0lBRWpCLCtCQUFtQjs7Ozs7SUFFbkIsK0JBQW1COztJQUluQiwrQkFBc0I7O0lBRXRCLHNDQUF1Qzs7SUEwSXRDLG1DQUFrRTs7SUFDbEUscUNBQXFFOztJQUNyRSxpQ0FBd0Q7Ozs7O0lBaEw3QyxrQ0FBaUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJ0BlY3AtY2FmL2NhZi1jb21tb24nO1xyXG5pbXBvcnQgeyBCaXpEYXRhRFRPIH0gZnJvbSAnLi4vZW50aXR5L2F1cmVzdWx0LmVudGl0eSc7XHJcbmltcG9ydCB7IFRyZWVUYWJsZUNvbXBvbmVudCB9IGZyb20gJ0BmYXJyaXMvdWktdHJlZXRhYmxlJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFJhY0NvbW1vblV0aWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc2Vzc2lvblN2OiBTZXNzaW9uU2VydmljZSkge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIC8vIHB1YmxpYyBjdXJyZW50VXJsID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMCc7XHJcbiAgICAvLyBwdWJsaWMgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaXAnKTtcclxuXHJcbiAgICAvLyDmnYPpmZDmiYDmnInogIXmoIfor4YgIFRPRE8g5ZG95Luk5LiN5pSv5oyB5Lyg5Y+C5pWw77yM5pqC5pe26L+Z5LmI5aSE55CGXHJcbiAgICBwdWJsaWMgb3duZXJJZDogc3RyaW5nO1xyXG5cclxuICAgIC8vIOadg+mZkOaJgOacieiAhee8luWPtyAgVE9ETyDlkb3ku6TkuI3mlK/mjIHkvKDlj4LmlbDvvIzmmoLml7bov5nkuYjlpITnkIZcclxuICAgIHB1YmxpYyBvd25lckNvZGU6IHN0cmluZztcclxuXHJcbiAgICAvLyDmnYPpmZDmiYDmnInogIXnvJblj7cgIFRPRE8g5ZG95Luk5LiN5pSv5oyB5Lyg5Y+C5pWw77yM5pqC5pe26L+Z5LmI5aSE55CGXHJcbiAgICBwdWJsaWMgb3duZXJOYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqIOadg+mZkOaJgOacieiAheexu+WeiyDlspfkvY0x77yM55So5oi3MiAqL1xyXG4gICAgcHVibGljIG93bmVyVHlwZTogbnVtYmVyO1xyXG5cclxuICAgIC8qKiAg5bKX5L2N57G75Z6LIOe7hOe7h+WylzDvvIzpgJrnlKjlspcx77yM55So5oi3MiBUT0RPIOWRveS7pOS4jeaUr+aMgeS8oOWPguaVsO+8jOaaguaXtui/meS5iOWkhOeQhiAqL1xyXG4gICAgIHB1YmxpYyBwb3NUeXBlOiBudW1iZXI7XHJcblxyXG4gICAgLy8gIFRPRE8g5ZG95Luk5LiN5pSv5oyB5Lyg5Y+C5pWw77yM5pqC5pe26L+Z5LmI5aSE55CGXHJcbiAgICBwdWJsaWMgcGFja2FnZUlkOiBzdHJpbmc7XHJcblxyXG4gICAgLy8g5bm05bqmICBUT0RPIOWRveS7pOS4jeaUr+aMgeS8oOWPguaVsO+8jOaaguaXtui/meS5iOWkhOeQhlxyXG4gICAgcHVibGljIHllYXI6IGFueTtcclxuICAgIC8qKiDnu7TluqYx55qE5YC8ICovXHJcbiAgICBwdWJsaWMgYXNzaWQxID0gJyc7XHJcbiAgICAvKiog57u05bqmMueahOWAvCAqL1xyXG4gICAgcHVibGljIGFzc2lkMiA9ICcnO1xyXG5cclxuXHJcbiAgICAvLyDot6/nlLHov4fmnaXnmoToj5zljZVJRFxyXG4gICAgcHVibGljIGZ1bmNJZDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBBVURBVEFDT05UUk9MID0gJ0F1RGF0YUNvbnRyb2wnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5p6E6YCgSGVhZGVyXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRlcigpIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uU3YuZ2V0Q3VycmVudFNlZXNpb25JZCgpO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHNlc3Npb25JZCk7XHJcbiAgICAgICAgcmV0dXJuIHsgaGVhZGVycyB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5LiK5LiL5paH5Lit55qE55So5oi3XHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRVc2VySWQoKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgLy8g5rWL6K+V55So5YaZ5q27XHJcbiAgICAgICAgcmV0dXJuICdhZG1pbic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEd1aWTnlJ/miJAgKi9cclxuICAgIGdldEd1aWQzNigpOiBzdHJpbmcge1xyXG4gICAgICAgIGZ1bmN0aW9uIFM0KCkge1xyXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICAgICAgICByZXR1cm4gKCgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFM0KCkgKyBTNCgpICsgJy0nICsgUzQoKSArICctJyArIFM0KCkgKyAnLScgKyBTNCgpICsgJy0nICsgUzQoKSArIFM0KCkgKyBTNCgpKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5p2D6ZmQ5YiG6YWN57uT5p6c6Lev5b6EXHJcbiAgICAgKi9cclxuICAgIGdldFJlc3VsdFBhdGgoKTogYW55IHtcclxuICAgICAgICBjb25zdCBwYXRoID0gYC9hcGkvcnVudGltZS9zeXMvdjEuMC9hc3NpZ25yZXN1bHRzYDtcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOadg+mZkOWvueixoei3r+W+hFxyXG4gICAgICovXHJcbiAgICBnZXRBdXRob3JpemF0aW9uUGF0aCgpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2FwaS9ydW50aW1lL3N5cy92MS4wL2F1dGhvcml6YXRpb25zYDtcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmnYPpmZDlrZfmrrXot6/lvoRcclxuICAgICAqL1xyXG4gICAgZ2V0QXV0aGZpZWxkUGF0aCgpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2FwaS9ydW50aW1lL3N5cy92MS4wL2F1dGhmaWVsZHNgO1xyXG4gICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YeN5o6I5p2D5a+56LGh6Lev5b6EXHJcbiAgICAgKi9cclxuICAgIGdldFJlQXNzaWduUGF0aCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2FwaS9ydW50aW1lL3N5cy92MS4wL3JlYXNzaWduc2A7XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bmlrDlop7nmoTlhoXlrrlcclxuICAgICAqIEBwYXJhbSBuZXdhcnI6IOacgOaWsOeahOWGheWuuVxyXG4gICAgICogQHBhcmFtIG9sZGFycu+8muWOhuWPsuWGheWuuVxyXG4gICAgICovXHJcbiAgICBnZXRBZGRJZHMobmV3YXJyOiBzdHJpbmdbXSwgb2xkYXJyOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgICAgICBjb25zdCBhZGRJZHM6IHN0cmluZ1tdICA9IFtdO1xyXG4gICAgICAgIG5ld2Fyci5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgICAgaWYgKCFvbGRhcnIuaW5jbHVkZXMoeCkpIHtcclxuICAgICAgICAgICAgICBhZGRJZHMucHVzaCh4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhZGRJZHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bliKDpmaTnmoTlhoXlrrlcclxuICAgICAqIEBwYXJhbSBuZXdhcnI6IOacgOaWsOeahOWGheWuuVxyXG4gICAgICogQHBhcmFtIG9sZGFycu+8muWOhuWPsuWGheWuuVxyXG4gICAgICovXHJcbiAgICBnZXRSZW1vdmVJZHMobmV3YXJyOiBzdHJpbmdbXSwgb2xkYXJyOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgICAgIHJldHVybiB0aGlzLmdldEFkZElkcyhvbGRhcnIsIG5ld2Fycik7XHJcbiAgICB9XHJcblxyXG4gICAgY29udmVydFRvQml6RGF0YURUTyhhcnJzOiBzdHJpbmdbXSk6IEJpekRhdGFEVE9bXSB7XHJcbiAgICAgICByZXR1cm4gYXJycy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFEdG8gPSBuZXcgQml6RGF0YURUTygpO1xyXG4gICAgICAgICAgICBkYXRhRHRvLmRhdGEgPSB4O1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YUR0bztcclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICog5pyJ5pWI55qE5a2X56ym5LiyXHJcbiAgICAgICovXHJcbiAgICAgaXNOdWxsT3JFbXB0eVN0cmluZyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICB0aGlzLmlzQmxhbmsodmFsdWUpIHx8IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA9PT0gMDtcclxuICAgIH1cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICog5LiN5Li656m6XHJcbiAgICAgICovXHJcbiAgICBpc0JsYW5rKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICog5a2X56ym5Liy5LiN5Li656m6XHJcbiAgICAgICovXHJcbiAgICAgaXNOb3ROdWxsT3JFbXB0eVN0cmluZyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICAhKHRoaXMuaXNOdWxsT3JFbXB0eVN0cmluZyh2YWx1ZSkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiog5om+5Yiw5qCR5b2iUGFyZW505YiG57qn5pa55byP55qE5Yqg6L2955qE56ys5LiA5bGCICovXHJcbiAgICBmaW5kTGF5ZXIxQnlQYXJlbnRJZChkYXRhczogYW55W10sIGtleTogc3RyaW5nLCBwYXJlbnRLZXk6IHN0cmluZyk6IGFueVtdIHtcclxuICAgICAgICBjb25zdCBydG4gPSBbXTtcclxuICAgICAgICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmaW5kUGFyZW50ID0gZGF0YXMuZmluZChwYXJlbnQgPT4gcGFyZW50W2tleV0gPT09IGRhdGFbcGFyZW50S2V5XSk7XHJcbiAgICAgICAgICAgIGlmICghZmluZFBhcmVudCAmJiBkYXRhLnR5cGUgIT09IHVuZGVmaW5lZCAmJiBkYXRhLnR5cGUgIT09IG51bGwgICYmIGRhdGEudHlwZS50b1N0cmluZygpID09PSAnOTknKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnBhcmVudElkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgcnRuLnB1c2goZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcnRuO1xyXG4gICAgfVxyXG5cclxuICAgICAgLyoqIOexu+Wei+aYr+WQpuS4uuWvvOiIqiAqL1xyXG4gICAgICBpc05hdih0eXBlOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJzk5JyB8fCAgdHlwZSA9PT0gJzAnO1xyXG4gICAgIH1cclxuXHJcbiAgICAgcHVibGljIGV4cGFuZEljb24gPSAnZi1pY29uIGYtaWNvbi1maWxlLWZvbGRlci1vcGVuIHRleHQtd2FybmluZyc7XHJcbiAgICAgcHVibGljIGNvbGxhcHNlSWNvbiA9ICdmLWljb24gZi1pY29uLWZpbGUtZm9sZGVyLWNsb3NlIHRleHQtd2FybmluZyc7XHJcbiAgICAgcHVibGljIGxlYWZJY29uID0gJ2YtaWNvbiBmLWljb24tZmlsZS10eHQgdGV4dC13YXJuaW5nJztcclxuICAgICBzZXRUcmVlSWNvbihmYXJyaXNUdDogVHJlZVRhYmxlQ29tcG9uZW50KSB7XHJcbiAgICAgICAgIGZhcnJpc1R0LmV4cGFuZEljb24gPSB0aGlzLmV4cGFuZEljb247XHJcbiAgICAgICAgIGZhcnJpc1R0LmNvbGxhcHNlSWNvbiA9IHRoaXMuY29sbGFwc2VJY29uO1xyXG4gICAgICAgICBmYXJyaXNUdC5sZWFmSWNvbiA9IHRoaXMubGVhZkljb247XHJcbiAgICAgICAgIGZhcnJpc1R0LmRldGVjdENoYW5nZXMoKTtcclxuICAgICB9XHJcblxyXG59XHJcbiJdfQ==