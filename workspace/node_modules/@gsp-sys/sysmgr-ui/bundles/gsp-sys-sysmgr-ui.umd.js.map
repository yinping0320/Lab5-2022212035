{"version":3,"file":"gsp-sys-sysmgr-ui.umd.js.map","sources":["ng://@gsp-sys/sysmgr-ui/lib/sys-common/sys-front.util.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/service/sys-func-operation.service.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/sys-func-operation/sys-func-operation.component.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/service/biz-object.service.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/en-us/navigation.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/en-us/help.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/en-us/index.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/zh-cn/navigiation.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/zh-cn/help.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/zh-cn/index.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/zh-ct/navigiation.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/zh-ct/help.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/zh-ct/index.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/locales/index.ts","ng://@gsp-sys/sysmgr-ui/lib/locale/sys-locale.service.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/sys-farris-func-operation/sys-farris-func-operation.component.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/sys-func-op-help/sys-func-op-help.component.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/biz-object/biz-object.component.ts","ng://@gsp-sys/sysmgr-ui/lib/func-op-help/func-op.help.module.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/service/sys-help.service.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/service/sys-exception.service.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/group-nav/group.service.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/group-nav/group-nav.component.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/help-meta/sys-help-meta.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/service/sys-farris-lookup.service.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/sys-farris-lookup/sys-farris-lookup.component.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/service/help-filter-map.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/sys-farris-tree-help/sys-farris-tree-help.component.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/sys-manager-ui.module.ts","ng://@gsp-sys/sysmgr-ui/lib/sys-manager-ui/filter/auth-op.ts"],"sourcesContent":["export class SysFrontUtil {\r\n    /**\r\n     * sessionId,è°ç¨èä¼ éè¿æ¥\r\n     */\r\n    sessionId: string;\r\n    /** åè½æä½ */\r\n    get operationApi (): string {\r\n        return '/api/runtime/sys/v1.0/funcOperations';\r\n    }\r\n    /** ä¸å¡å¯¹è±¡ */\r\n    get bizObjectApi (): string {\r\n        return '/api/runtime/sys/v1.0/business-objects';\r\n    }\r\n    /**\r\n     * Httpå¤´ä¿¡æ¯\r\n     */\r\n    get httpHeader (): any {\r\n        const options: any = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n//                SessionId: this.sessionId\r\n            },\r\n            responseType: 'json'\r\n        };\r\n        return options;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { SysFrontUtil } from '../../sys-common/sys-front.util';\r\n\r\n@Injectable()\r\nexport class SysFuncOperationService {\r\n    constructor(\r\n        private sysUtil: SysFrontUtil,\r\n        private rest: HttpClient) {\r\n    }\r\n\r\n    /**\r\n     * è·ååè½æä½åè¡¨\r\n     */\r\n    getFuncOperations(): Observable<any> {\r\n        const url = this.sysUtil.operationApi + '/all';\r\n        return this.rest.get(url, this.sysUtil.httpHeader);\r\n    }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, ViewChild, TemplateRef, Input } from '@angular/core';\r\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\r\nimport { SysFuncOperationService } from '../service/sys-func-operation.service';\r\n\r\n/**\r\n * ç³»ç»ç®¡çï¼åè½æä½å·¦æ æãå³åè¡¨å±ç¤º\r\n */\r\n@Component({\r\n    selector: 'app-sys-func-operation',\r\n    templateUrl: './sys-func-operation.component.html',\r\n    styleUrls: ['./sys-func-operation.component.css']\r\n})\r\nexport class SysFuncOperationComponent implements OnInit {\r\n\r\n    /**ä¸å¡å¯¹è±¡,è´è´£ä¼ é */\r\n    @Input() bizObjectId: string;\r\n    /**éæ©æ¨¡å¼ */\r\n    @Input()\r\n    gridSelectMode: 'single' | 'multiple';\r\n    /**sessionId */\r\n    @Input()\r\n    sessionId: string;\r\n    /**æ¯å¦åªæ¾ç¤ºåç» */\r\n    @Input()\r\n    onlyShowGroup: boolean = false;\r\n    /**åç»è½å¦è¢«éæ© */\r\n    @Input()\r\n    isGroupCanSelected: boolean;\r\n    /**\r\n     * ç¡®è®¤äºä»¶\r\n     */\r\n    @Output()\r\n    afterConfirm = new EventEmitter<object[]>();\r\n    /**\r\n     * å³é­äºä»¶\r\n     */\r\n    @Output()\r\n    afterCancle = new EventEmitter<any>();\r\n    // æ³¨å¥å°å¸®å©çç¡®è®¤ååæ¶æé®\r\n    @ViewChild('btnOkAndCancle')\r\n    btnOkAndCancleRef: TemplateRef<any>;\r\n    /**\r\n     * åè½æä½å¨éæ°æ®\r\n     */\r\n    data: object[];\r\n    /**\r\n     * å½åUIæ¾ç¤ºå¨è½æä½åè¡¨æ°æ®\r\n     */\r\n    gridData: object[];\r\n    /**\r\n     * å½åéä¸­æ°æ®\r\n     */\r\n    curSelectedKeys: string[] = [];\r\n    selectableSettings: SelectableSettings;\r\n    title = 'åè½æä½å¸®å©';\r\n    constructor (\r\n        private funcOpService: SysFuncOperationService\r\n    ) {\r\n    }\r\n\r\n    ngOnInit () {}\r\n\r\n   loadData () {\r\n        this.selectableSettings = {\r\n            checkboxOnly: true,\r\n            // é»è®¤åé\r\n            mode: !this.gridSelectMode ? 'single' : this.gridSelectMode,\r\n            enabled: true\r\n        };\r\n        this.funcOpService.getFuncOperations().subscribe(res => {\r\n            this.data = [];\r\n            const funcList: any[] = res;\r\n            if (this.onlyShowGroup) {\r\n                this.data = funcList.filter(item => item.type == 0);\r\n            } else {\r\n                this.data = funcList;\r\n            }\r\n            // funcList.forEach(item => {\r\n            //     this.data.push(item);\r\n            //     // å¦æææç»èç¹\r\n            //     if (this.onlyShowGroup === false && item['children'] !== null && item['children'].length > 0) {\r\n            //         item['children'].forEach(child => this.data.push(child));\r\n            //     }\r\n            // });\r\n            this.gridData = [];\r\n            // å¤å¶ä¸ä»½\r\n            this.gridData = this.data.concat();\r\n        },\r\n            error => {\r\n                console.log('è·ååè½æä½å¯¹è±¡åè¡¨å¤±è´¥');\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * æç´¢\r\n     * @param filterValue æ¥è¯¢æ¡ä»¶\r\n     */\r\n    searchData (filterValue: string) {\r\n        // æµè¯\r\n        if (filterValue === null || filterValue === '') {\r\n            // å¨éçæ°æ®\r\n            this.gridData = this.data.concat();\r\n            return;\r\n        }\r\n        const filter = filterValue.toLowerCase();\r\n        // æç´¢å°ä¸çº§æ¶\r\n        this.gridData = this.data.filter(item =>\r\n            item['code'].toLowerCase().includes(filter) ||\r\n            item['name'].toLowerCase().includes(filter) ||\r\n            this.getFuncGroup(item).toLowerCase().includes(filter));\r\n    }\r\n\r\n    /**\r\n     * ä¸å¡å¯¹è±¡ååå\r\n     * @param arg ä¸å¡å¯¹è±¡åæ°\r\n     */\r\n    bizObjectChanged (arg: any) {\r\n        if (!this.data || this.data.length === 0) {\r\n            return;\r\n        }\r\n        const busId = arg;\r\n        // æ ¹æ®ä¸å¡å¯¹è±¡è¿æ»¤\r\n        this.gridData = this.data.filter(item =>\r\n            item['businessId'] === busId);\r\n    }\r\n\r\n\r\n    /**\r\n     * è·ååè½åç»\r\n     */\r\n    getFuncGroup (funcOpObj: any): string {\r\n        // è·åç¶èç¹\r\n        const parentId = funcOpObj['parentId'];\r\n        if (parentId !== null && parentId !== undefined && parentId !== '') {\r\n            const parentObj = this.data.filter(item => item['id'] === parentId);\r\n            if (parentObj !== null && parentObj.length > 0) {\r\n                return parentObj[0]['name'];\r\n            }\r\n        } else {\r\n            return 'æ ';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * è·åéä¸­æ°æ®\r\n     */\r\n    getSelectedObject (): any {\r\n        const result = this.data.filter(item =>\r\n            this.curSelectedKeys.findIndex(select => select === item['id']) >= 0);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * ç¡®è®¤\r\n     */\r\n    confirm () {\r\n        const result = this.getSelectedObject();\r\n        this.afterConfirm.next(result);\r\n        // åæ¶-ç®çæ¯å¨è¿éè®©æ¨¡ææ¡æ¶å¤±\r\n        this.cancle();\r\n    }\r\n    /**\r\n     * åæ¶\r\n     */\r\n    cancle () {\r\n        this.afterCancle.next();\r\n    }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { SysFrontUtil } from '../../sys-common/sys-front.util';\r\n\r\n@Injectable()\r\nexport class BizObjectService {\r\n\r\n    constructor (\r\n        private rest: HttpClient,\r\n        private sysUtil: SysFrontUtil) {\r\n    }\r\n\r\n    /**\r\n     * è·åä¸å¡å¯¹è±¡åè¡¨\r\n     */\r\n    getBizObjects(): Observable<any> {\r\n        const url = this.sysUtil.bizObjectApi;\r\n        return this.rest.get(url, this.sysUtil.httpHeader);\r\n    }\r\n}\r\n","export const NAVI_LOCALE_EN_US = {\r\n    rootNodeCode: 'ALL',\r\n    rootNodeTitle: 'all data',\r\n    codeField: 'Code',\r\n    nameField: 'Name',\r\n    allColumnsTitle:'All columns',\r\n    searchNullData: 'No data to find!'\r\n};\r\n","export const HELP_LOCALE_EN_US = {\r\n    userTitle: 'Users',\r\n    positionTitle: 'Positions',\r\n    roleTitle: 'Roles',\r\n    userOrgTitle: 'Organizations',\r\n    userGroupTitle: 'User Groups',\r\n    positionGroupTitle: 'Position Groups',\r\n    roleGroupTitle: 'Role Groups',\r\n    codeField: 'Code',\r\n    nameField: 'Name',\r\n    orderField: 'Order',\r\n    orgName: 'Org Info',\r\n    orgNamePathField: 'Company Info',\r\n    operationTitle: 'Function Operation',\r\n    busTitle: 'Business Object',\r\n    opGroupField: 'Operation Group'\r\n};\r\n","import { NAVI_LOCALE_EN_US } from './navigation';\r\nimport { HELP_LOCALE_EN_US } from './help';\r\n\r\nexport const EN_US = {\r\n    navi: NAVI_LOCALE_EN_US,\r\n    help: HELP_LOCALE_EN_US\r\n};\r\n","export const NAVI_LOCALE_ZHCHS = {\r\n    rootNodeCode: 'ALL',\r\n    rootNodeTitle: 'ææ',\r\n    codeField: 'ç¼å·',\r\n    nameField: 'åç§°',\r\n    allColumnsTitle:'ææå',\r\n    searchNullData: 'æ²¡æè¦æ¥æ¾çæ°æ®ï¼'\r\n};\r\n","export const HELP_LOCALE_ZHCHS = {\r\n    userTitle: 'ç¨æ·',\r\n    positionTitle: 'å²ä½',\r\n    roleTitle: 'åè½ç»',\r\n    userOrgTitle: 'ç»ç»',\r\n    userGroupTitle: 'ç¨æ·åç»',\r\n    positionGroupTitle: 'å²ä½åç»',\r\n    roleGroupTitle: 'åè½ç»åç»',\r\n    codeField: 'ç¼å·',\r\n    nameField: 'åç§°',\r\n    orderField: 'æåºå·',\r\n    orgName: 'é¶å±ç»ç»',\r\n    orgNamePathField: 'é¶å±åä½',\r\n    operationTitle: 'åè½æä½',\r\n    busTitle: 'ä¸å¡å¯¹è±¡',\r\n    opGroupField: 'åè½åç»'\r\n\r\n};\r\n","import { NAVI_LOCALE_ZHCHS } from './navigiation';\r\nimport { HELP_LOCALE_ZHCHS } from './help';\r\n\r\nexport const ZH_CHS = {\r\n    navi: NAVI_LOCALE_ZHCHS,\r\n    help: HELP_LOCALE_ZHCHS\r\n};\r\n","export const NAVI_LOCALE_ZHCHT = {\r\n    rootNodeCode: 'ALL',\r\n    rootNodeTitle: 'ææ',\r\n    codeField: 'ç·¨è',\r\n    nameField: 'åç¨±',\r\n    allColumnsTitle:'ææå',\r\n    searchNullData: 'æ²æè¦æ¥æ¾çæ¸æï¼'\r\n};\r\n","export const HELP_LOCALE_ZHCHT = {\r\n    userTitle: 'ç¨æ¶',\r\n    positionTitle: 'å´ä½',\r\n    roleTitle: 'åè½çµ',\r\n    userOrgTitle: 'çµç¹',\r\n    userGroupTitle: 'ç¨æ¶åçµ',\r\n    positionGroupTitle: 'å´ä½åçµ',\r\n    roleGroupTitle: 'åè½çµåçµ',\r\n    codeField: 'ç·¨è',\r\n    nameField: 'åç¨±',\r\n    orderField: 'æåºè',\r\n    orgName: 'é¸å±¬çµç¹',\r\n    orgNamePathField: 'é¸å±¬å®ä½',\r\n    operationTitle: 'åè½æä½',\r\n    busTitle: 'æ¥­åå°è±¡',\r\n    opGroupField: 'åè½åçµ'\r\n\r\n\r\n};\r\n","import { NAVI_LOCALE_ZHCHT } from './navigiation';\r\nimport { HELP_LOCALE_ZHCHT } from './help';\r\n\r\nexport const ZH_CHT = {\r\n    navi: NAVI_LOCALE_ZHCHT,\r\n    help: HELP_LOCALE_ZHCHT\r\n};\r\n","import { EN_US } from './en-us';\r\nimport { ZH_CHS } from './zh-cn';\r\nimport { ZH_CHT } from './zh-ct';\r\n\r\n\r\nexport const SYS_LOCALES = {\r\n    'zh-CHS': ZH_CHS,\r\n    'zh-cn': ZH_CHS,\r\n    en: EN_US,\r\n    'zh-CHT':ZH_CHT\r\n};\r\n","import { Injectable, Inject, LOCALE_ID } from '@angular/core';\r\nimport { SYS_LOCALES } from './locales';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\n\r\n@Injectable()\r\nexport class SysLocaleService {\r\n    langData: any;\r\n    constructor(\r\n        private lang:LanguageService\r\n    ) {\r\n        let localeId = 'zh-CHS';\r\n        if (lang) {\r\n            localeId = lang.getLanguageCode();\r\n        }\r\n        this.langData = SYS_LOCALES[localeId];\r\n        if (!this.langData) {\r\n            this.langData = SYS_LOCALES['zh-CHS'];\r\n        }\r\n        console.log(localeId);\r\n        console.log(this.langData);\r\n    }\r\n\r\n    getComponentOpt(comp: string): any {\r\n        return this.langData[comp];\r\n    }\r\n\r\n}\r\n","import { element } from 'protractor';\r\nimport { Component, OnInit, Output, EventEmitter, ViewChild, TemplateRef, Input, AfterContentInit, ElementRef, HostListener } from '@angular/core';\r\nimport { SysFuncOperationService } from '../service/sys-func-operation.service';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { TreeNode, TreeTableComponent } from '@farris/ui-treetable';\r\nimport { BizObjectService } from '../service/biz-object.service';\r\nimport { SysLocaleService } from '../../locale/sys-locale.service';\r\nimport { HELP_LOCALE_ZHCHS } from '../../locale/locales/zh-cn/help';\r\n\r\n/**\r\n * ç³»ç»ç®¡çï¼åè½æä½å·¦æ æãå³åè¡¨å±ç¤º\r\n */\r\n@Component({\r\n    selector: 'app-sys-farris-func-operation',\r\n    templateUrl: './sys-farris-func-operation.component.html',\r\n    styleUrls: ['./sys-farris-func-operation.component.css']\r\n})\r\nexport class SysFarrisFuncOperationComponent implements OnInit,AfterContentInit {\r\n\r\n    /** ä¸å¡å¯¹è±¡,è´è´£ä¼ é */\r\n    @Input() bizObjectId: string;\r\n    /** éæ©æ¨¡å¼ */\r\n    @Input()\r\n    gridSelectMode: 'single' | 'multiple';\r\n    multiSelect = false;\r\n    /** å·²ç»åºå¼ */\r\n    @Input()\r\n    sessionId: string;\r\n    /** æ¯å¦åªæ¾ç¤ºåç» */\r\n    @Input()\r\n    onlyShowGroup = false;\r\n    /** åç»è½å¦è¢«éæ© */\r\n    @Input()\r\n    isGroupCanSelected: boolean;\r\n    /**\r\n     * ç¡®è®¤äºä»¶\r\n     */\r\n    @Output()\r\n    afterConfirm = new EventEmitter<any[]>();\r\n    /**\r\n     * å³é­äºä»¶\r\n     */\r\n    @Output()\r\n    afterCancle = new EventEmitter<any>();\r\n    // æ³¨å¥å°å¸®å©çç¡®è®¤ååæ¶æé®\r\n    @ViewChild('btnOkAndCancle')\r\n    btnOkAndCancleRef: TemplateRef<any>;\r\n    /**\r\n     * åè½æä½å¨éæ°æ®\r\n     */\r\n    gridDataSrc: any[];\r\n    treeDataSrc: any[];\r\n    /**\r\n     * å½åUIæ¾ç¤ºå¨è½æä½åè¡¨æ°æ®\r\n     */\r\n    gridData: any[];\r\n    treeData: any[];\r\n    /**\r\n     * å½åéä¸­æ°æ®\r\n     */\r\n    curSelected:any[]=[];\r\n    curSelectedKeys: string[] = [];\r\n    gridColumns: any[] = [];\r\n    treeColumns: any[];\r\n    opSearchTxt = null;\r\n    i18nRes: any;\r\n    @ViewChild('operationGrid') operationGrid: DatagridComponent;\r\n    @ViewChild('farrisTreeParent') farrisTreeParent: ElementRef;\r\n    @ViewChild('tt') farrisTt: TreeTableComponent;\r\n    /**\r\n     * çæ§ææ½äºä»¶ï¼éç»ç»ç»TreeTable\r\n     * @param event äºä»¶åæ°\r\n     */\r\n     @HostListener('window:resize', [])\r\n     winResize() {\r\n         this.reSizeTreeTable();\r\n     }\r\n    constructor(\r\n        private funcOpService: SysFuncOperationService,\r\n        private bizObjectService: BizObjectService,\r\n        private localService: SysLocaleService\r\n    ) {\r\n    }\r\n    /** éç»Farris-TreeTableçå¤§å° */\r\n    public reSizeTreeTable (height: number = 0, width: number = 0) {\r\n        if (height === 0) {\r\n            height = this.farrisTreeParent.nativeElement.clientHeight;\r\n        }\r\n        if (width === 0) {\r\n            width = this.farrisTreeParent.nativeElement.clientWidth;\r\n        }\r\n        this.farrisTt.resize({ height, width });\r\n    }\r\n    ngOnInit() {\r\n        this.operationGrid.restService = null;\r\n        this.operationGrid.virtualized = true;\r\n        this.operationGrid.fitColumns = true;\r\n        this.operationGrid.fit = true;\r\n        if (this.localService) {\r\n            this.i18nRes = this.localService.getComponentOpt('help');\r\n        } else {\r\n            this.i18nRes = HELP_LOCALE_ZHCHS;\r\n        }\r\n        // åªæ¾ç¤ºåç»ï¼åè½èåä½¿ç¨\r\n        if (this.onlyShowGroup) {\r\n            this.gridColumns = [\r\n                { field: 'code', title: this.i18nRes.codeField, width: 120 },\r\n                { field: 'name', title: this.i18nRes.nameField, width: 150 }\r\n            ];\r\n            // ç§ææ¹æ³ï¼æ´æ°å\r\n            // this.operationGrid['columnsChanged']();\r\n        } else {\r\n            this.gridColumns = [\r\n                { field: 'code', title: this.i18nRes.codeField, width: 120 },\r\n                { field: 'name', title: this.i18nRes.nameField, width: 150 },\r\n                { field: 'parentId', title: this.i18nRes.opGroupField, formatter: this.funcGroupFormatter }\r\n            ];\r\n        }\r\n        this.treeColumns = [\r\n            { field: 'name', title: this.i18nRes.busTitle, width: 100 }\r\n        ];\r\n        // å¤é\r\n        if (this.gridSelectMode === 'multiple') {\r\n            this.multiSelect = true;\r\n        }\r\n        this.loadData();\r\n    }\r\n\r\n    /** é¡µé¢æ¸²æå®æå */\r\n    ngAfterContentInit (): void {\r\n        this.reSizeTreeTable();\r\n    }\r\n    \r\n    /**\r\n     * å è½½æ°æ®,TODO å è½½æ°æ®\r\n     */\r\n    loadData () {\r\n        // å è½½ä¸å¡å¯¹è±¡æ°æ®\r\n        this.bizObjectService.getBizObjects().subscribe((result: any) => {\r\n            this.treeDataSrc = result;\r\n            this.treeData = this.makeTree(result);\r\n        });\r\n        // å è½½åè½æä½æ°æ®\r\n        this.funcOpService.getFuncOperations().subscribe(lists => {\r\n            // åªæ¾ç¤ºåç»\r\n            if (this.onlyShowGroup) {\r\n                this.gridDataSrc = lists.filter(item => item.type == 0);\r\n            } else {\r\n                this.gridDataSrc = lists;\r\n            }\r\n            // ä¸å®è¦å»¶è¿ä¸æ®µæ¶é´\r\n            this.freshGridAndSelect(this.gridDataSrc.concat());\r\n        },\r\n            error => {\r\n                console.log('è·ååè½æä½å¯¹è±¡åè¡¨å¤±è´¥');\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * å·æ°åè¡¨æ¾ç¤º\r\n     */\r\n    private freshGridAndSelect (list: any[]) {\r\n        this.operationGrid.clearAll();\r\n        this.operationGrid.loadData(list);\r\n        list.forEach(item => {\r\n            if(this.curSelectedKeys.indexOf(item.id)>-1){\r\n                this.operationGrid.checkRow(item.id,false);\r\n                if(this.curSelected.indexOf(item)===-1){\r\n                    this.curSelected.push(item);\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æé æ \r\n     */\r\n    private makeTree (data: any[]): TreeNode[] {\r\n        const root = data.filter(t => t.layer === 1).map(t => {\r\n            return {\r\n                data: t,\r\n                children: [],\r\n                expanded: false,\r\n                selectable: true\r\n            };\r\n        });\r\n        root.forEach(e => {\r\n            // æé ä¸çº§ï¼childrenï¼ç¶çº§çidä¿¡æ¯\r\n            e.children = this.makeChildrenByParentId(data, e.data.id);\r\n        });\r\n        // é»è®¤å±å¼ç¬¬ä¸ä¸ªèç¹\r\n        root[0].expanded = true;\r\n        return root;\r\n    }\r\n\r\n    /**\r\n     * ç¶èç¹æé æ \r\n     */\r\n    private makeChildrenByParentId (datas: any[], parentId: string): any[] {\r\n        const x = datas.filter(c => c.parentID === parentId).map(d => {\r\n            return {\r\n                data: d,\r\n                children: this.makeChildrenByParentId(datas, d.id),\r\n                expanded: false,\r\n                selectable: true\r\n            };\r\n        });\r\n        return x;\r\n    }\r\n    /**\r\n     * æç´¢æ¶çæµåè½¦\r\n     */\r\n    onKeyUp (arg: any) {\r\n        if (arg && arg.which === 13) {\r\n            this.searchData();\r\n        }\r\n    }\r\n    /**\r\n     * æç´¢\r\n     */\r\n    searchData () {\r\n        // æµè¯\r\n        if (!this.opSearchTxt) {\r\n            // å¨éçæ°æ®\r\n            this.gridData = this.gridDataSrc;\r\n            this.freshGridAndSelect(this.gridData);\r\n            return;\r\n        }\r\n        const content = this.opSearchTxt.trim();\r\n        if (!content) {\r\n            // å¨éçæ°æ®\r\n            this.gridData = this.gridDataSrc;\r\n            this.freshGridAndSelect(this.gridData);\r\n            return;\r\n        }\r\n        const filter = content.toLowerCase();\r\n        // å¦æåªæ¾ç¤ºåç»\r\n        if (this.onlyShowGroup) {\r\n            this.gridData = this.gridDataSrc.filter(item =>\r\n                item.code.toLowerCase().includes(filter) ||\r\n                item.name.toLowerCase().includes(filter));\r\n        } else {\r\n            // éè¦æ¾ç¤ºæä½çæ¶åï¼æç´¢å°ä¸çº§æ¶\r\n            this.gridData = this.gridDataSrc.filter(item =>\r\n                item.code.toLowerCase().includes(filter) ||\r\n                item.name.toLowerCase().includes(filter) ||\r\n                this.getFuncGroup(item).toLowerCase().includes(filter));\r\n        }\r\n        this.freshGridAndSelect(this.gridData);\r\n    }\r\n\r\n    /**\r\n     * æ ¼å¼å\r\n     */\r\n    funcGroupFormatter = (val, data) => {\r\n        return this.getFuncGroup(data);\r\n    }\r\n\r\n    /**\r\n     * è·ååè½åç»\r\n     */\r\n    getFuncGroup (funcOpObj: any): string {\r\n        // è·åç¶èç¹\r\n        const parentId = funcOpObj.parentId;\r\n        if (parentId) {\r\n            const parentObj = this.gridDataSrc.filter(item => item.id === parentId);\r\n            if (parentObj !== null && parentObj.length > 0) {\r\n                return parentObj[0].name;\r\n            }\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ä¸å¡å¯¹è±¡ååå\r\n     * @param arg ä¸å¡å¯¹è±¡åæ°\r\n     */\r\n    bizObjectChanged (arg: any) {\r\n        if (!this.gridDataSrc || this.gridDataSrc.length === 0) {\r\n            return;\r\n        }\r\n        const busId = arg.node.data.id;\r\n        // æ ¹æ®ä¸å¡å¯¹è±¡è¿æ»¤\r\n        const lists = this.gridDataSrc.filter(item =>\r\n            item.businessId === busId);\r\n        this.freshGridAndSelect(lists);\r\n    }\r\n    /**\r\n     * è·åéä¸­æ°æ®\r\n     */\r\n    getSelectedObject(): any[] {\r\n        const rows = this.operationGrid.checkeds.map(item => item.data);\r\n        return rows;\r\n    }\r\n    /**\r\n     * éä¸­å\r\n     */\r\n    checked(row) {\r\n        console.log(row);\r\n        if (row && row.id) {\r\n            // æ¯å¦å¤é\r\n            if (this.multiSelect) {\r\n                if(this.curSelectedKeys.indexOf(row.id)<0){\r\n                    this.curSelected.push(row.data);\r\n                    this.curSelectedKeys.push(row.id);\r\n                }\r\n\r\n            } else {\r\n                this.curSelected=[row.data];\r\n                this.curSelectedKeys = [row.id];\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * åæ¶éä¸­åè¡¨\r\n     */\r\n    unchecked(row) {\r\n        console.log(row);\r\n        if (row && row.id) {\r\n            if (this.multiSelect) {\r\n                const x = this.curSelectedKeys.findIndex(item => item === row.id);\r\n                if (x >= 0) {\r\n                    this.curSelectedKeys.splice(x, 1);\r\n                    this.curSelected.splice(x, 1)\r\n                }\r\n            } else {\r\n                this.curSelectedKeys = [];\r\n                this.curSelected = [];\r\n\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * ç¡®è®¤\r\n     */\r\n    confirm () {\r\n        // const result = this.getSelectedObject();\r\n        const result = this.curSelected;\r\n        console.log(result);\r\n        this.afterConfirm.next(result);\r\n        // åæ¶-ç®çæ¯å¨è¿éè®©æ¨¡ææ¡æ¶å¤±\r\n        this.cancle();\r\n    }\r\n    /**\r\n     * åæ¶\r\n     */\r\n    cancle () {\r\n        this.afterCancle.next();\r\n    }\r\n}\r\n\r\n","import {\r\n    Component,\r\n    OnInit,\r\n    EventEmitter,\r\n    Input,\r\n    ComponentRef,\r\n    Output,\r\n    Injector,\r\n    ComponentFactoryResolver\r\n} from '@angular/core';\r\nimport { SysFuncOperationComponent } from '../sys-func-operation/sys-func-operation.component';\r\nimport { SysFrontUtil } from '../../sys-common/sys-front.util';\r\nimport { BsModalRef, BsModalService } from '@farris/ui-modal';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { SysFarrisFuncOperationComponent } from '../sys-farris-func-operation/sys-farris-func-operation.component';\r\nimport { SysLocaleService } from '../../locale/sys-locale.service';\r\nimport { HELP_LOCALE_ZHCHS } from '../../locale/locales/zh-cn/help';\r\n\r\n@Component({\r\n    selector: 'app-sys-func-op-help',\r\n    templateUrl: './sys-func-op-help.component.html',\r\n    styleUrls: ['./sys-func-op-help.component.css']\r\n})\r\nexport class SysFuncOpHelpComponent implements OnInit {\r\n\r\n    /** æå±çä¸å¡å¯¹è±¡åç  */\r\n    @Input() bizObjectId: string;\r\n\r\n    /** æ¯å¦å¯ç¨æ°UI,å¯ç¨åæ§è½æå */\r\n    @Input() useNewUI = false;\r\n    /**\r\n     * åå§éä¸­çæéå¯¹è±¡åç \r\n     */\r\n    @Input()\r\n    initSelectKeys: string[] = [];\r\n    /** æ¯å¦åªæ¾ç¤ºåç» */\r\n    @Input()\r\n    onlyShowGroup = false;\r\n\r\n    @Input()\r\n    gridSelectMode: 'single' | 'multiple';\r\n\r\n    /** åç»è½å¦è¢«éæ© */\r\n    @Input()\r\n    isGroupCanSelected: boolean;\r\n    /**\r\n     * è¾åºäºä»¶\r\n     */\r\n    @Output()\r\n    afterHelpConfirm = new EventEmitter<object[]>();\r\n    // å¸®å©ä¸å¨æåå»ºçæ¾ç¤ºæ¨¡æ¿\r\n    private funcOpComp: ComponentRef<SysFuncOperationComponent>;\r\n    // æ¨¡ææ¡æå¡\r\n    private funcOpDialog: BsModalRef;\r\n    i18nRes: any;\r\n    constructor (\r\n        private modalService: BsModalService,\r\n        private injector: Injector,\r\n        private cfr: ComponentFactoryResolver,\r\n        private sysUtil: SysFrontUtil,\r\n        private localService: SysLocaleService\r\n    ) {\r\n        if (this.localService) {\r\n            this.i18nRes = this.localService.getComponentOpt('help');\r\n        } else {\r\n            this.i18nRes = HELP_LOCALE_ZHCHS;\r\n        }\r\n    }\r\n\r\n    ngOnInit () {\r\n    }\r\n\r\n    /**\r\n     * æ°UI\r\n     */\r\n    showNewHelp (sessionId) {\r\n        // è°ç¨å¸®å©æ¶å¿é¡»ä¼ ésessionId\r\n        this.sysUtil.sessionId = sessionId;\r\n        const compFactory = this.cfr.resolveComponentFactory(SysFarrisFuncOperationComponent);\r\n        const funcOpCompNew: ComponentRef<SysFarrisFuncOperationComponent> = compFactory.create(this.injector);\r\n        // è·ååè½æä½çå®ä¾ç»ä»¶\r\n        if (this.initSelectKeys != null && this.initSelectKeys.length > 0) {\r\n            this.initSelectKeys.forEach(key => funcOpCompNew.instance.curSelectedKeys.push(key));\r\n        }\r\n        // åå§åéæ©çä¸å¡æä½\r\n        if (this.bizObjectId && this.bizObjectId !== '') {\r\n            funcOpCompNew.instance.bizObjectId = this.bizObjectId;\r\n        }\r\n        if (this.gridSelectMode) {\r\n            funcOpCompNew.instance.gridSelectMode = this.gridSelectMode;\r\n        }\r\n        funcOpCompNew.instance.onlyShowGroup = this.onlyShowGroup;\r\n        funcOpCompNew.instance.isGroupCanSelected = this.isGroupCanSelected;\r\n        const modalConfig = {\r\n            title: this.i18nRes.operationTitle,\r\n            width: 850,\r\n            height: 550,\r\n            buttons: funcOpCompNew.instance.btnOkAndCancleRef,\r\n            showButtons: true,\r\n            showMaxButton: true,\r\n            resizable: true\r\n        };\r\n        // å¼¹åºå¸®å©æ¡\r\n        this.funcOpDialog = this.modalService.show(funcOpCompNew, modalConfig);\r\n        // åæ¶å\r\n        funcOpCompNew.instance.afterCancle.subscribe(\r\n            res => {\r\n                // æ¶å¤±æ¨¡ææ¡\r\n                this.funcOpDialog.close();\r\n            }\r\n        );\r\n        // ç¡®è®¤å\r\n        funcOpCompNew.instance.afterConfirm.subscribe(res => {\r\n            this.afterHelpConfirm.next(res);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * å¼¹åºFarrisæ¨¡ææ¡å¸®å©\r\n     */\r\n    showHelp (sessionId: string) {\r\n        if (this.useNewUI) {\r\n            this.showNewHelp(sessionId);\r\n            return;\r\n        }\r\n        // è°ç¨å¸®å©æ¶å¿é¡»ä¼ ésessionId\r\n        this.sysUtil.sessionId = sessionId;\r\n        const compFactory = this.cfr.resolveComponentFactory(SysFuncOperationComponent);\r\n        this.funcOpComp = compFactory.create(this.injector);\r\n        // è·ååè½æä½çå®ä¾ç»ä»¶\r\n        if (this.initSelectKeys != null && this.initSelectKeys.length > 0) {\r\n            this.initSelectKeys\r\n                .forEach(key => this.funcOpComp.instance.curSelectedKeys.push(key));\r\n        }\r\n        // åå§åéæ©çä¸å¡æä½\r\n        if (this.bizObjectId && this.bizObjectId !== '') {\r\n            this.funcOpComp.instance.bizObjectId = this.bizObjectId;\r\n        }\r\n        if (this.gridSelectMode) {\r\n            this.funcOpComp.instance.gridSelectMode = this.gridSelectMode;\r\n        }\r\n        this.funcOpComp.instance.onlyShowGroup = this.onlyShowGroup;\r\n        this.funcOpComp.instance.isGroupCanSelected = this.isGroupCanSelected;\r\n        // æ§çæ¬çéè¦å¨è¿éloaddata\r\n        this.funcOpComp.instance.loadData();\r\n        const modalConfig = {\r\n            title: 'åè½æä½å¸®å©',\r\n            width: 800,\r\n            height: 550,\r\n            buttons: this.funcOpComp.instance.btnOkAndCancleRef,\r\n            showButtons: true,\r\n            showMaxButton: false,\r\n            resizable: false\r\n        };\r\n        // å¼¹åºå¸®å©æ¡\r\n        this.funcOpDialog = this.modalService.show(this.funcOpComp, modalConfig);\r\n        // åæ¶å\r\n        this.funcOpComp.instance.afterCancle.subscribe(\r\n            res => {\r\n                // æ¶å¤±æ¨¡ææ¡\r\n                this.funcOpDialog.close();\r\n            }\r\n        );\r\n        // ç¡®è®¤å\r\n        this.funcOpComp.instance.afterConfirm.subscribe(res => {\r\n            this.afterHelpConfirm.next(res);\r\n        });\r\n    }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { BizObjectService } from '../service/biz-object.service';\r\n\r\n@Component({\r\n    selector: 'app-biz-object',\r\n    templateUrl: './biz-object.component.html',\r\n    styleUrls: ['./biz-object.component.css']\r\n})\r\nexport class BizObjectComponent implements OnInit {\r\n\r\n    @Input() bizObjectId: string;\r\n    public data: any[];\r\n    public selectKeys: string[] = [];\r\n    currentid: string;\r\n    /** ä¸å¡å¯¹è±¡ååå */\r\n    @Output()\r\n    bizObjectChanged: EventEmitter<string> = new EventEmitter<string>();\r\n    /** æ æ§ä»¶å±å¼çèç¹å¼ */\r\n    expandedKeys = [];\r\n\r\n    constructor (private bizObjectService: BizObjectService) {\r\n    }\r\n\r\n    ngOnInit () {\r\n        this.bizObjectService.getBizObjects().subscribe((result: any) => {\r\n            result.forEach(element => {\r\n                if (!element.parentID) {\r\n                    element.parentID = undefined;\r\n                    // å±å¼ç¬¬ä¸çº§\r\n                    if (element.layer === 1) {\r\n                        this.expandedKeys.push(element.id);\r\n                    }\r\n                }\r\n            });\r\n            this.data = result;\r\n            // é»è®¤ä¸å¡å¯¹è±¡çå¤ç\r\n            if (this.bizObjectId && this.bizObjectId !== '') {\r\n                // æ ç¦ç¹è¡\r\n                let curBizObjectId = this.bizObjectId;\r\n                while (curBizObjectId) {\r\n                    this.expandedKeys.push(curBizObjectId);\r\n                    // æ¾å°å½åèç¹çç¶èç¹\r\n                    curBizObjectId = this.data.find(item => item.id === curBizObjectId).parentID;\r\n                }\r\n                // å³ä¾§æä½åå\r\n                this.selectKeys = [this.bizObjectId];\r\n                setTimeout(() => {\r\n                    this.bizObjectChanged.emit(this.bizObjectId);\r\n                }, 80);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /** éä¸­è¡æ¹ååè§¦åäºä»¶ */\r\n    selectChange (args: any) {\r\n        const curBusId = args.dataItem.id;\r\n        // é¦æ¬¡è§¦å\r\n        if (this.selectKeys == null || this.selectKeys.length === 0) {\r\n            this.bizObjectChanged.emit(curBusId);\r\n        } else {\r\n            // è¿ä¸ªäºä»¶éè¿ä¸ä¼å¯¹selectedkeysæ°ç»èµå¼ï¼æ¯ä¸ä¸ä¸ªç¶æç\r\n            const lastBusId = this.selectKeys[0];\r\n            // ååçæåµä¸è§¦å\r\n            if (lastBusId !== curBusId) {\r\n                this.bizObjectChanged.emit(curBusId);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SysFuncOperationComponent } from './sys-func-operation/sys-func-operation.component';\r\nimport { SysFuncOpHelpComponent } from './sys-func-op-help/sys-func-op-help.component';\r\nimport { BizObjectComponent } from './biz-object/biz-object.component';\r\nimport { BizObjectService } from './service/biz-object.service';\r\nimport { SysFuncOperationService } from './service/sys-func-operation.service';\r\nimport { SysFrontUtil } from '../sys-common/sys-front.util';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { LayoutModule } from '@farris/ui-layout';\r\nimport { SysFarrisFuncOperationComponent } from './sys-farris-func-operation/sys-farris-func-operation.component';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { LayoutModule as KendoLayoutModule } from '@progress/kendo-angular-layout';\r\nimport { SysLocaleService } from '../locale/sys-locale.service';\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        HttpClientModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        DatagridModule,\r\n        TreeTableModule,\r\n        LayoutModule,\r\n        TreeViewModule,\r\n        KendoLayoutModule,\r\n        LayoutModule,\r\n        GridModule,\r\n        ModalModule.forRoot(),\r\n        MessagerModule.forRoot()\r\n    ],\r\n\r\n    declarations: [\r\n        SysFuncOperationComponent,\r\n        SysFuncOpHelpComponent,\r\n        BizObjectComponent,\r\n        SysFarrisFuncOperationComponent\r\n    ],\r\n    providers: [\r\n        SysFrontUtil,\r\n        SysLocaleService,\r\n        SysFuncOperationService,\r\n        BizObjectService\r\n    ],\r\n    entryComponents: [\r\n        SysFuncOperationComponent,\r\n        SysFarrisFuncOperationComponent\r\n    ],\r\n    exports: [\r\n        SysFuncOperationComponent,\r\n        SysFuncOpHelpComponent,\r\n        BizObjectComponent,\r\n        SysFarrisFuncOperationComponent\r\n    ]\r\n})\r\nexport class SysFuncOpHelpModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, from } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SysCommonUtilService, SysDataUtil } from '@gsp-sys/sysmgr-common';\r\nimport { map } from 'rxjs/operators';\r\nimport { GspUserFilter } from '../filter/gsp-user-filter';\r\nimport { GspPositionFilter } from '../filter/gsp-position-filter';\r\nimport { GspRoleFilter } from '../filter/gsp-role-filter';\r\nimport { TreeFilter } from '../filter/tree-filter';\r\n\r\n@Injectable()\r\nexport class SysHelpService {\r\n\r\n    constructor (\r\n        private http: HttpClient,\r\n        private sysUtil: SysCommonUtilService\r\n    ) {\r\n    }\r\n\r\n    private getHttpOption (filter: any): { headers: any, params: any } {\r\n        SysDataUtil.deleteEmpty(filter);\r\n        const paramStr = JSON.stringify(filter);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader()['headers'],\r\n            params: { param: paramStr }\r\n        };\r\n        return opt;\r\n    }\r\n\r\n    getUsers (filter: GspUserFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        // ç¨æ·ç®åçæåé¡µä¿¡æ¯\r\n        return this.http.get(this.sysUtil.userWebApi, opt).pipe(map((val: any) => {\r\n            return val.data;\r\n        }));\r\n    }\r\n\r\n    getPositions (filter: GspPositionFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        return this.http.get(this.sysUtil.positionWebApi, opt).pipe(map((val: any) => {\r\n            return val.data;\r\n        }));\r\n    }\r\n    getRoles (filter: GspRoleFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        return this.http.get(this.sysUtil.roleWebApi, opt).pipe(map((val: any) => {\r\n            return val.data;\r\n        }));\r\n    }\r\n    getOrgs (filter: TreeFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        // è§å¾\r\n        opt.params.useView = true;\r\n        return this.handerTreeData(this.http.get(this.sysUtil.sysOrgWebApi + '/all', opt));\r\n    }\r\n    getUserGroups (filter: TreeFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        return this.handerTreeData(this.http.get(this.sysUtil.userGroupWebApi + '/all', opt));\r\n    }\r\n    getPositionGroups (filter: TreeFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        return this.handerTreeData(this.http.get(this.sysUtil.posGroupWebApi + '/all', opt));\r\n    }\r\n    getRoleGroups (filter: TreeFilter): Observable<any> {\r\n        const opt = this.getHttpOption(filter);\r\n        return this.handerTreeData(this.http.get(this.sysUtil.roleGroupWebApi + '/all', opt));\r\n    }\r\n\r\n    convert2Json(item: any): any {\r\n        const result: any = {\r\n            id: item.id,\r\n            code: item.code,\r\n            name: item.name,\r\n            parentId: item.parentId || '',\r\n            path: item.path,\r\n            layer: item.layer,\r\n            isDetail: item.isDetail,\r\n\r\n        };\r\n        if (item.nodeType != null && item.nodeType !== undefined) {\r\n            result.nodeType = item.nodeType;\r\n        }\r\n        return result;\r\n    }\r\n    getParentOrg (org: any): Observable<any> {\r\n        const paramStr = JSON.stringify(this.convert2Json(org));\r\n\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader()['headers'],\r\n            params: { param: paramStr }\r\n        };\r\n        return this.http.get(this.sysUtil.sysOrgWebApi+'/getparentorg/0002', opt).pipe(map((val: any) => {\r\n            return val;\r\n        }));\r\n    }\r\n\r\n    /** ééKendo-treeViewç»æ */\r\n    private handerTreeData (src: Observable<any>): Observable<any> {\r\n        return src.pipe(map((val: any[]) => {\r\n            from(val).subscribe(item => {\r\n                if (item.layer == 1 || item.parentId == null || item.parentId === '') {\r\n                    item.parentId = undefined;\r\n                }\r\n            });\r\n            return val;\r\n        }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SysExceptionService {\r\n    getErrorInfo(error: any): string {\r\n        return error.Message;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SysCommonUtilService, SysDataUtil } from '@gsp-sys/sysmgr-common';\r\nimport { Observable } from 'rxjs';\r\nimport { TreeFilter } from '../filter/tree-filter';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GroupService {\r\n\r\nconstructor(\r\n    private http: HttpClient,\r\n    private sysUtil: SysCommonUtilService\r\n) {\r\n}\r\n    private getUrlByGroupType(type: string): string {\r\n        let url = '';\r\n        switch (type) {\r\n            case 'user':\r\n                url = this.sysUtil.userGroupWebApi;\r\n                break;\r\n            case 'position':\r\n                url = this.sysUtil.posGroupWebApi;\r\n                break;\r\n            case 'role':\r\n                url = this.sysUtil.roleGroupWebApi;\r\n                break;\r\n            case 'org':\r\n                url = this.sysUtil.sysOrgWebApi;\r\n                break;\r\n            // é»è®¤ç¨æ·åç»\r\n            default:\r\n                url = this.sysUtil.userGroupWebApi;\r\n                break;\r\n        }\r\n        return url;\r\n     }\r\n    /**\r\n     * æ ¹æ®çº§æ°è·åç»ç»\r\n     * @param layer çº§æ°\r\n     */\r\n    getByLayer(layer: number, type: string, filter: TreeFilter): Observable<any> {\r\n        const url = this.getUrlByGroupType(type);\r\n        if (!filter) {\r\n            filter = {};\r\n        }\r\n        filter.layer = layer;\r\n        filter.parentId = null;\r\n        SysDataUtil.deleteEmpty(filter);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader().headers,\r\n            params: { param: JSON.stringify(filter) }\r\n        };\r\n        return this.http.get(url, opt);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®çº§æ°è·åç»ç»\r\n     * @param parentId ç¶èç¹\r\n     */\r\n    getByParentId(parentId: string, type: string, filter: TreeFilter): Observable<any> {\r\n        const url = this.getUrlByGroupType(type);\r\n        if (!filter) {\r\n            filter = {};\r\n        }\r\n        filter.layer = null;\r\n        filter.parentId = parentId;\r\n        SysDataUtil.deleteEmpty(filter);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader().headers,\r\n            params: { param: JSON.stringify(filter) }\r\n        };\r\n        return this.http.get(url, opt);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®çº§æ°è·åç»ç»\r\n     * @param parentId ç¶èç¹\r\n     */\r\n    searchData( type: string, filter: TreeFilter): Observable<any> {\r\n        const url = this.getUrlByGroupType(type);\r\n        if (!filter) {\r\n            filter = {};\r\n        }\r\n        filter.layer = null;\r\n        filter.parentId = null;\r\n        SysDataUtil.deleteEmpty(filter);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader().headers,\r\n            params: { param: JSON.stringify(filter) }\r\n        };\r\n        return this.http.get(url, opt);\r\n    }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, Input, EventEmitter, Output, HostListener, ElementRef, AfterContentInit } from '@angular/core';\r\nimport { TreeTableComponent, TreeNode } from '@farris/ui-treetable';\r\nimport { from } from 'rxjs';\r\nimport { GroupService } from './group.service';\r\nimport { filter } from 'rxjs/operators';\r\nimport { TreeFilter } from '../filter/tree-filter';\r\nimport { SysLocaleService } from '../../locale/sys-locale.service';\r\nimport { NAVI_LOCALE_ZHCHS } from '../../locale/locales/zh-cn/navigiation';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService } from '@farris/ui-notify';\r\n\r\n@Component({\r\n    selector: 'lib-group-nav',\r\n    templateUrl: './group-nav.component.html',\r\n    styleUrls: ['./group-nav.component.css']\r\n})\r\nexport class GroupNavComponent implements OnInit, AfterContentInit {\r\n\r\n    @ViewChild('farrisTreeParent') farrisTreeParent: ElementRef;\r\n    @ViewChild('farrisTt') farrisTt: TreeTableComponent;\r\n    @Input() title: string;\r\n    @Input() showHeader = true;\r\n    @Input() fixedHeader = true;\r\n    @Input() withCodeColumn = true;\r\n    // æ¯å¦æ·»å æææ ¹èç¹\r\n    @Input() allRoot = false;\r\n    @Input() groupType: 'user' | 'position' | 'role' | 'org';\r\n    // é»è®¤ä¸å¼å¯æ°æ®æéè¿æ»¤\r\n    @Input() filter: TreeFilter;\r\n    @Input() selectKeys: string[] = [];\r\n    @Input() needRemote = true;\r\n    /** æ¾ç¤ºç»ç»ç±»åå */\r\n    @Input() showNodeTypeColumn = false;\r\n    @Input() treeData: TreeNode[];\r\n    @Input() showFilterBar:boolean = false;\r\n    searchFields:any = [{label: \"ç¼å·\",value: \"code\"},{label: \"åç§°\",value: \"name\"}];\r\n    allColumnsTitle='ææå'\r\n    @Output() search: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output() selectRowChanged: EventEmitter<any> = new EventEmitter<any>();\r\n    // æ¾ç¤ºå\r\n    cols: any[];\r\n    i18nRes: any;\r\n\r\n    /** æ¥è¯¢åå®¹ */\r\n    searchInfo = '';\r\n    /** ä¸æ¬¡æ¥è¯¢åå®¹ */\r\n    oldSearchInfo = '';\r\n\r\n    field = '';\r\n    /** ä¸æ¬¡æ¥è¯¢åå®¹ */\r\n    oldField = '';\r\n\r\n    //ä¸æ¬¡æç´¢ç»æ\r\n    searchResult = [];\r\n    //ä¸æ¬¡æç´¢çä½ç½®\r\n    searchIndex = 0;\r\n\r\n    /**\r\n     * çæ§ææ½äºä»¶ï¼éç»ç»ç»TreeTable\r\n     * @param event äºä»¶åæ°\r\n     */\r\n    temp = true;\r\n\r\n    @HostListener('window:resize', [])\r\n    winResize() {\r\n        this.reSizeTreeTable();\r\n    }\r\n    constructor(\r\n        public groupService: GroupService,\r\n        public localService: SysLocaleService,\r\n        private notifyService: NotifyService,\r\n        public msg: MessagerService,\r\n\r\n    ) {\r\n    }\r\n\r\n\r\n    /** éç»Farris-TreeTableçå¤§å° */\r\n    public reSizeTreeTable (height: number = 0, width: number = 0) {\r\n        if (height === 0) {\r\n            height = this.farrisTreeParent.nativeElement.clientHeight;\r\n        }\r\n        if (width === 0) {\r\n            width = this.farrisTreeParent.nativeElement.clientWidth;\r\n        }\r\n        this.farrisTt.resize({ height, width });\r\n    }\r\n\r\n    ngOnInit () {\r\n        if (this.localService) {\r\n            this.i18nRes = this.localService.getComponentOpt('navi');\r\n        } else {\r\n            this.i18nRes = NAVI_LOCALE_ZHCHS;\r\n        }\r\n        this.searchFields = [{label: this.i18nRes.codeField,value: \"code\"},{label: this.i18nRes.nameField,value: \"name\"}];\r\n        this.allColumnsTitle=this.i18nRes.allColumnsTitle;\r\n\r\n        // å¯ç¨ç¼å·å\r\n        if (this.withCodeColumn) {\r\n            this.fixedHeader = true;\r\n            this.showHeader = true;\r\n            this.cols = [\r\n                { field: 'code', title: this.i18nRes.codeField, width: 100 },\r\n                { field: 'name', title: this.i18nRes.nameField, width: 100 }\r\n            ];\r\n        } else {\r\n            this.fixedHeader = false;\r\n            this.showHeader = false;\r\n            this.cols = [\r\n                { field: 'name', title: this.i18nRes.nameField, width: 100 }\r\n            ];\r\n\r\n        }\r\n        // éè¦è·åæ°æ®ï¼å¦åç´æ¥æ ¹æ®treeDataåå§æ°æ®\r\n        if (this.needRemote) {\r\n            // æææ è¯\r\n            if (this.allRoot) {\r\n                this.treeData = [];\r\n                const rootNode: TreeNode = {};\r\n                rootNode.children = [];\r\n                rootNode.data = {\r\n                    id: 'all',\r\n                    code: this.i18nRes.rootNodeCode,\r\n                    name: this.i18nRes.rootNodeTitle\r\n                };\r\n                rootNode.expanded = true;\r\n                rootNode.leaf = false;\r\n                rootNode.selectable = true;\r\n                this.treeData.push(rootNode);\r\n            } else {\r\n                this.treeData = [];\r\n            }\r\n\r\n            this.groupService.getByLayer(1, this.groupType, this.filter).subscribe(val => {\r\n                this.initTreeNodeList(val);\r\n            });\r\n        } else { // ä¸éè¦ä»æå¡å¨ç«¯è·å\r\n            this.farrisTt.updateSerializedValue();\r\n        }\r\n\r\n        // å¼æ­¥å è½½ï¼éè¿childrenä¸º0æ¥å¤æ­ä»æªå±å¼è¿èç¹\r\n        this.farrisTt.expand.pipe(filter((node: TreeNode) => node.children.length === 0)).subscribe((node: TreeNode) => {\r\n            node['showLoading'] = true;\r\n            const id = node.data.id;\r\n            // è·åç³»ç»ç»ç»\r\n            this.groupService.getByParentId(id, this.groupType, this.filter).subscribe((list: any[]) => {\r\n                node['showLoading'] = false;\r\n                const childNode: TreeNode[] = [];\r\n                // è½¬æ¢ä¸çº§ç»ç»\r\n                from(list).subscribe(item => {\r\n                    childNode.push(this.convertToTreeNode(item));\r\n                });\r\n                // é²æ­¢åºç°ä¸çº§èç¹æ²¡ææ°æ®\r\n                if (childNode.length > 0) {\r\n                    this.farrisTt.appendChildren(childNode, node);\r\n                } else {// åºè¯¥æ¯æ ä¸çº§æéæèµ°è¿é\r\n                    node.leaf = true;\r\n                    this.farrisTt.updateSerializedValue();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * å·æ°å½åé¡µé¢ä¿¡æ¯\r\n     */\r\n    refreshThisNav(){\r\n        this.treeData=[];\r\n        const rootNode: TreeNode = {};\r\n        rootNode.children = [];\r\n        rootNode.data = {\r\n            id: 'all',\r\n            code: this.i18nRes.rootNodeCode,\r\n            name: this.i18nRes.rootNodeTitle\r\n        };\r\n        rootNode.expanded = true;\r\n        rootNode.leaf = false;\r\n        rootNode.selectable = true;\r\n        this.treeData.push(rootNode);\r\n        this.groupService.getByLayer(1, this.groupType, this.filter).subscribe(val => {\r\n            this.initTreeNodeList(val);\r\n        });\r\n    }\r\n\r\n    /** é¡µé¢æ¸²æå®æå */\r\n    ngAfterContentInit (): void {\r\n        this.reSizeTreeTable();\r\n    }\r\n\r\n    /** æç´¢ï¼ æ­¤å¤æ¯åå±å è½½ï¼æç´¢æ¶éè¦æ ¹æ®åæ°æ®è¿è¡æç´¢ï¼æç´¢åï¼éè¦å°å¯¹åºç¶èç¹å±ç¤º \r\n     *   @param args  æ ¼å¼ searchData = { field: '*', value: '' };\r\n     */\r\n     searchData(args: any) {\r\n        this.search.next(args);\r\n        if (!this.filter) {\r\n            this.filter = {};\r\n        }\r\n        if(!args){\r\n            return;\r\n        }\r\n        this.searchInfo = args.value;\r\n        this.field = args.field;\r\n\r\n        // æç´¢åå®¹ä¸ºç©º\r\n        if (!this.searchInfo || this.searchInfo.length <= 0 ) {\r\n            this.clearSearchValue();\r\n            return;\r\n        }\r\n        \r\n        // æç´¢åå®¹ä¸ä¸æ¬¡ä¸åï¼éæ°æç´¢\r\n        if (this.oldSearchInfo !== this.searchInfo || this.oldField !== this.field) {\r\n            this.filter.isSearchTree = true;\r\n            if(this.field === '*'){\r\n                this.filter.codeOrName = this.searchInfo;\r\n                this.filter.code = '';\r\n                this.filter.name = '';\r\n                    \r\n            }else if(this.field === 'code'){\r\n                this.filter.code = this.searchInfo;\r\n                this.filter.name = '';\r\n                this.filter.codeOrName = '';\r\n\r\n            }else if(this.field === 'name'){\r\n                this.filter.name = this.searchInfo;\r\n                this.filter.code = '';\r\n                this.filter.codeOrName = '';\r\n\r\n            }\r\n\r\n            this.groupService.searchData( this.groupType, this.filter).subscribe(list => {\r\n                this.treeData = [];\r\n                this.searchResult = [];\r\n                this.searchIndex = 0;\r\n\r\n                if (list && list.length > 0) {\r\n                    this.treeData = this.makeTree(list);\r\n                    list.forEach(item=>{\r\n                        if(item.search_data){\r\n                            this.searchResult.push(item.id);\r\n                        }\r\n                    })\r\n                    // æå¨æ´æ°TreeTableçå¼\r\n                    this.farrisTt.updateSerializedValue();\r\n                    setTimeout(()=>{\r\n                        this.farrisTt.selectNode(this.searchResult[0]);\r\n                        this.farrisTt.collapseAll();\r\n                        this.expandParent(this.searchResult[0]);\r\n                        this.farrisTt.scrollToCurrentNode();\r\n                    })\r\n\r\n                }else{\r\n                    // æå¨æ´æ°TreeTableçå¼\r\n                    this.farrisTt.updateSerializedValue();\r\n                    this.notifyService.info(this.i18nRes.searchNullData);\r\n                }\r\n\r\n            });\r\n\r\n        }else{\r\n            if(this.searchResult && this.searchResult.length > 0){\r\n                this.searchIndex = this.searchIndex + 1;\r\n                // å·²ç»æç´¢å°æåï¼éè¦éå¤´æç´¢\r\n                if ( this.searchIndex === this.searchResult.length) {\r\n                    this.searchIndex = 0;\r\n                }\r\n    \r\n                setTimeout(()=>{\r\n                    this.farrisTt.selectNode(this.searchResult[this.searchIndex]);\r\n                    this.farrisTt.collapseAll();\r\n                    this.expandParent(this.searchResult[this.searchIndex]);\r\n                    this.farrisTt.scrollToCurrentNode();\r\n                })\r\n            }else{\r\n                this.notifyService.info(this.i18nRes.searchNullData);\r\n\r\n            }\r\n\r\n        }\r\n        this.oldSearchInfo = this.searchInfo;\r\n        this.oldField = this.field;\r\n\r\n    }\r\n\r\n    clearSearchValue(){\r\n        //ç¹å»æ¸é¤æ¶ï¼é²æ­¢äºä»¶æ§è¡ä¸¤æ¬¡\r\n        if(!this.temp){\r\n            return;\r\n        }\r\n        this.temp = false;\r\n\r\n        // æææ è¯\r\n        if (this.allRoot) {\r\n            this.treeData = [];\r\n            const rootNode: TreeNode = {};\r\n            rootNode.children = [];\r\n            rootNode.data = {\r\n                id: 'all',\r\n                code: this.i18nRes.rootNodeCode,\r\n                name: this.i18nRes.rootNodeTitle\r\n            };\r\n            rootNode.expanded = true;\r\n            rootNode.leaf = false;\r\n            rootNode.selectable = true;\r\n            this.treeData.push(rootNode);\r\n        } else {\r\n            this.treeData = [];\r\n        }\r\n        this.filter.isSearchTree = false;\r\n        this.filter.codeOrName = null;\r\n        this.filter.code = null;\r\n        this.filter.name = null;\r\n\r\n        this.groupService.getByLayer(1, this.groupType, this.filter).subscribe(val => {\r\n            this.initTreeNodeList(val);\r\n            if(this.treeData.length>0){\r\n                this.farrisTt.selectNode(this.treeData[0].data.id);\r\n\r\n            }\r\n            this.temp = true;\r\n        });\r\n        this.oldSearchInfo = '';\r\n        this.oldField = '';\r\n    }\r\n\r\n    /**\r\n     * æé æ \r\n    */\r\n    private makeTree(data: any[]): TreeNode[] {\r\n        const root = data.filter(t => t.layer === 1).map(t => {\r\n            const node: TreeNode = { \r\n                data: t ,\r\n                children: [],\r\n                expanded: false,\r\n                selectable: t.farris_selectable};\r\n\r\n            if (!t.isDetail) {\r\n                node.leaf = false;\r\n                node.children = [];\r\n            }\r\n            return node;\r\n        });\r\n        root.forEach(e => {\r\n            // æé ä¸çº§ï¼childrenï¼ç¶çº§çidä¿¡æ¯\r\n            e.children = this.makeChildrenByParentId(data, e.data.id);\r\n        });\r\n        return root;\r\n    }\r\n\r\n    /**\r\n     * ç¶èç¹æé æ \r\n     */\r\n    private makeChildrenByParentId(datas: any[], parentId: string): any[] {\r\n        const x = datas.filter(c => c.parentId === parentId).map(d => {\r\n            return {\r\n                data: d,\r\n                children: this.makeChildrenByParentId(datas, d.id),\r\n                expanded: false,\r\n                selectable: d.farris_selectable\r\n            };\r\n        });\r\n        return x;\r\n    }\r\n\r\n\r\n    /**\r\n     * å°ç»ç»å®ä½è½¬æ¢ä¸ºFarris-TreeNode\r\n     */\r\n    private convertToTreeNode (src: any): TreeNode {\r\n        const node: TreeNode = { data: src };\r\n        // éæç»èç¹\r\n        if (!src.isDetail) {\r\n            node.leaf = false;\r\n            node.children = [];\r\n        }\r\n        // TODO: åªæææéçç»ç»æè½è¢«éä¸­,è¿æ¯è¿éä¸åå¤çï¼åéäºä»¶æ¶å»å¤ç\r\n        node.selectable = src.farris_selectable;\r\n        return node;\r\n    }\r\n\r\n    /**\r\n     * åå§é¡¶çº§åç»ï¼é»è®¤layer=1çæåµ\r\n     * @param sysOrgList ç³»ç»ç»ç»åè¡¨\r\n     */\r\n    private initTreeNodeList (list: any[]) {\r\n        if (!list || list.length === 0) {\r\n            return;\r\n        }\r\n        from(list).subscribe(firstLayer => {\r\n            const node = this.convertToTreeNode(firstLayer);\r\n            // éæç»ï¼å¸¦å¾ä¸å¤æé ä¸çº§ï¼åè®¾ææ°æ®\r\n            if (node.leaf) {\r\n                const curId = firstLayer.id;\r\n                const childern = list.filter(item => item.parentId === curId);\r\n                from(childern).subscribe(secondLayer => {\r\n                    node.children.push(this.convertToTreeNode(secondLayer));\r\n                });\r\n            }\r\n            // å¦ææ·»å æææ ¹èç¹\r\n            if (this.allRoot) {\r\n                this.treeData[0].children.push(node);\r\n            } else {\r\n                this.treeData.push(node);\r\n            }\r\n        });\r\n        // æå¨æ´æ°TreeTableçå¼\r\n        this.farrisTt.updateSerializedValue();\r\n    }\r\n\r\n    /**\r\n     * éæ©çç»ç»è¡\r\n     * @param arg åæ°\r\n     */\r\n    onNodeSelect (event: any) {\r\n        console.log(event.node.data);\r\n        this.selectRowChanged.next(event.node.data);\r\n    }\r\n\r\n    /**\r\n     * è·åå½åTreeTableçç»å®æ°æ®\r\n     */\r\n    public getTreeData (): TreeNode[] {\r\n        return this.treeData;\r\n    }\r\n\r\n    /**\r\n     * è·åå½åTreeTableçç»ä»¶å®ä¾\r\n     */\r\n    public getTreeTableComp (): TreeTableComponent {\r\n        return this.farrisTt;\r\n    }\r\n    /**\r\n     * éä¸­æä¸ªèç¹\r\n     */\r\n    public selectNode (id: string, isCheck?: boolean) {\r\n        this.farrisTt.selectNode(id, isCheck);\r\n    }\r\n\r\n    /**\r\n     * æ¸é¤ææéä¸­å¼\r\n     */\r\n    public unCheckAllNodes () {\r\n        this.farrisTt.unCheckAllNodes();\r\n    }\r\n\r\n    /**\r\n     * æ¸é¤ææéä¸­å¼\r\n     */\r\n    scrollToCurrentNode(key:any){\r\n        if(key){\r\n            this.farrisTt.selectNode(key);\r\n            this.expandParent(key);\r\n            this.farrisTt.scrollToCurrentNode();\r\n        }\r\n\r\n    } \r\n    \r\n    /** éä¸æ¾å°éè¦å±å¼çç¶èç¹ï¼å¨é¨å±å¼ */\r\n    expandParent(key: string) {\r\n        const parent = this.farrisTt.findRowNode(key);\r\n        let parentNode = parent.parent;\r\n        if (parentNode) {\r\n            while (parentNode) {\r\n                this.farrisTt.expandNode(parentNode.id);\r\n                parentNode = parentNode.parent;\r\n            }\r\n        } else {\r\n            // this.farrisTt.expandNode(key);\r\n        }\r\n    }\r\n}\r\n\r\n","\r\nexport const userHelp = 'user';\r\nexport const posHelp = 'position';\r\nexport const roleHelp = 'role';\r\nexport const userGroupHelp = 'userGroup';\r\nexport const posGroupHelp = 'posGroup';\r\nexport const roleGroupHelp = 'roleGroupHelp';\r\nexport const sysOrgHelp = 'sysOrg';\r\n","import { Observable, of, from } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ILookupHttpService, RemoteParams, LookupGridResult } from '@farris/ui-lookup';\r\nimport { SysCommonUtilService, SysDataUtil } from '@gsp-sys/sysmgr-common';\r\nimport { map } from 'rxjs/operators';\r\nimport { userHelp, posHelp, roleHelp, userGroupHelp, posGroupHelp, roleGroupHelp, sysOrgHelp } from '../help-meta/sys-help-meta';\r\nimport { TreeNode } from '@farris/ui-treetable';\r\nimport { SysLocaleService } from '../../locale/sys-locale.service';\r\nimport { TreeFilter } from '../filter/tree-filter';\r\n\r\n\r\n/**\r\n * å¸®å©æå¡\r\n */\r\n@Injectable()\r\nexport class SysFarrisLookupService implements ILookupHttpService {\r\n\r\n    private filterData: any;\r\n    private i18nRes: any;\r\n    constructor (\r\n        private http: HttpClient,\r\n        private sysUtil: SysCommonUtilService,\r\n        private localService: SysLocaleService\r\n    ) {\r\n    }\r\n\r\n    /** åå§è¿æ»¤æ¡ä»¶ */\r\n    private setFilterData (filter: any) {\r\n        // æè¿æ»¤æ¡ä»¶\r\n        if (filter) {\r\n            const str = JSON.stringify(filter);\r\n            if (str !== '{}') {\r\n                // ä¸å®è¦å¤å¶\r\n                this.filterData = JSON.parse(str);\r\n            } else {\r\n                this.filterData = null;\r\n            }\r\n        } else {\r\n            this.filterData = null;\r\n        }\r\n    }\r\n    /**\r\n     * æ·»å æ°æ®\r\n     */\r\n    private setListData (src: any[], data: any[]) {\r\n        if (src) {\r\n            src.push.apply(src, data);\r\n        }\r\n    }\r\n    /** è·åè¿æ»¤æ°æ® */\r\n    private getFilterData (): any {\r\n        return this.filterData;\r\n    }\r\n    /**\r\n     * å¼æ­¥è·åçæ¬\r\n     */\r\n    getTreeDataAsync(url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n        this.i18nRes = this.localService.getComponentOpt('help');\r\n        // è§£ææ¥è¯¢jsonå¯¹è±¡\r\n        const treeParam = JSON.parse(params.searchValue);\r\n        let farrisSelectedData = params['customData'].farrisSelectedData;\r\n\r\n        let filter: TreeFilter = {};\r\n        // filter.withPermission = true;\r\n        const category = treeParam.category;\r\n        // 1.é¦æ¬¡å è½½\r\n        if (category === 'all') {\r\n            filter.layer = 1;\r\n        }\r\n        // 2.å¼æ­¥å±å¼ä¸çº§\r\n        if (category === 'children') {\r\n            if (treeParam.hasOwnProperty('parentPath')) {\r\n                filter.path = treeParam.parentPath;\r\n            }\r\n            if (treeParam.hasOwnProperty('parentLayer')) {\r\n                // åç«¯æç´¢ä»¥ä¸çº§èç¹ä¸ºçº§æ°çèç¹\r\n                filter.layer = treeParam.parentLayer + 1;\r\n            }\r\n            if (treeParam.hasOwnProperty('parentId')) {\r\n                filter.parentId = treeParam.parentId;\r\n            }\r\n        }\r\n        // 3.æç´¢\r\n        if (category === 'search') {\r\n            const searchField = treeParam.searchField;\r\n            const searchValue: string = treeParam.searchValue.trim();\r\n            if (searchValue) {\r\n                filter.isSearchTree = true;\r\n                switch (searchField) {\r\n                    case 'code':\r\n                        filter.code = searchValue;\r\n                        break;\r\n                    case 'name':\r\n                        filter.name = searchValue;\r\n                        break;\r\n                    // å¨é¨åæç´¢ï¼ä¹åæ¯'*'\r\n                    case '*':\r\n                    default:\r\n                        filter.codeOrName = searchValue;\r\n                        break;\r\n                }\r\n            } else {\r\n                // æç´¢ä¸ºç©ºï¼éæ°å è½½ï¼é»è®¤ä»1çº§å¼å§\r\n                filter.layer = 1;\r\n            }\r\n        }\r\n\r\n        //å¦ææ¯ç»ç»ï¼è¯·æ±éä¸­æ°æ®æ¶\r\n        if (url === '/api/runtime/sys/v1.0/sysOrgs' && category === 'fav') {\r\n\r\n            let newUrl = url+'/nullorg' \r\n            const newOpt = {\r\n                headers: this.sysUtil.getHeader()['headers'],\r\n                params: { useView : 'true'}\r\n            }\r\n            return this.http.get(newUrl, newOpt).pipe(map((val: any[]) => {\r\n                const gridResult: LookupGridResult = {};\r\n                return gridResult;\r\n            }));\r\n        }\r\n\r\n        // è¯´ææè¿æ»¤æ¡ä»¶\r\n        if (this.getFilterData()) {\r\n            filter = Object.assign(this.getFilterData(), filter);\r\n            SysDataUtil.deleteEmpty(filter);\r\n        }\r\n        const paramStr = JSON.stringify(filter);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader()['headers'],\r\n            params: { param: paramStr }\r\n        };\r\n        return this.http.get(url, opt).pipe(map((val: any[]) => {\r\n            const gridResult: any = {};\r\n            gridResult.selectedData = farrisSelectedData;\r\n\r\n            gridResult.items = [];\r\n            gridResult.treeInfo = {\r\n                loadDataType: 'async',\r\n                layerType: 'parentId',\r\n                dataField: 'treeInfo',\r\n                pathField: 'path',\r\n                layerField: 'layer',\r\n                parentField: 'parentId',\r\n                isDetailField: 'isDetail'\r\n            };\r\n            gridResult.treeInfo['treeDataIsInit'] = true;\r\n            gridResult.columns = [\r\n                { field: 'code', title: this.i18nRes.codeField },\r\n                { field: 'name', title: this.i18nRes.nameField }];\r\n            gridResult.searchFields = [\r\n                { label: this.i18nRes.codeField, value: 'code' },\r\n                { label: this.i18nRes.nameField, value: 'name' }\r\n            ];\r\n            // å¿é¡»è¦èµå¼\r\n            from(val).subscribe(item => {\r\n                if (item.layer === 1 || !item.parentId) {\r\n                    item.parentId = null;\r\n                }\r\n                item.treeInfo = {\r\n                    parentId: item.parentId,\r\n                    path: item.path,\r\n                    layer: item.layer,\r\n                    isDetail: item.isDetail\r\n                };\r\n            });\r\n            // å¦ææ¯æç´¢çè¯ï¼éè¦èªå·±æé æ \r\n            if (filter.isSearchTree) {\r\n                gridResult.items = this.makeTreeByParent(val, 'parentId', 'id');\r\n                console.log(gridResult.items);\r\n            } else {\r\n                // æç»æï¼æ®éåå±å è½½\r\n                if (val && val.length > 0) {\r\n                    from(val).subscribe(item => {\r\n                        gridResult.items.push(this.convertToTreeNode(item));\r\n                    });\r\n                }\r\n            }\r\n            return gridResult;\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * å°æ èç¹è½¬æ¢ä¸ºFarris TreeNode\r\n     */\r\n    private convertToTreeNode (src: any): TreeNode {\r\n        const node: TreeNode = {};\r\n        node.data = src;\r\n        node.children = [];\r\n        node.selectable = src.farris_selectable;\r\n        node.leaf = src.isDetail;\r\n        node.parent = src.parentId;\r\n        // è¿ä¸æ¡å¿é¡»å¾å ï¼å¦åä¸è¡\r\n        node.id = node.data.id;\r\n        // æç´¢çæ¶åææ«çº§æ·»å äºè¿ä¸ªå±æ§ï¼ä¸éè¦å±å¼\r\n        if (src.hasOwnProperty('expanded')) {\r\n            node.expanded = src.expanded;\r\n        }\r\n        return node;\r\n    }\r\n\r\n    /** æç§parentç æé æ  */\r\n    makeTreeByParent (datas: any[], parentField: string, keyField: string): TreeNode[] {\r\n        // ä¸ç´ç²ç©ºï¼æèæ²æä¸ç´ç\r\n        const pathLayerOnes = datas.filter(x => {\r\n            if (!x[parentField]) {\r\n                return true;\r\n            }\r\n            // æ­å±çè¿ç§ï¼åºè¯¥ä¹å±äºä¸çº§\r\n            const p = datas.find(parent => parent[keyField] === x[parentField]);\r\n            if (!p) {\r\n                return true;\r\n            }\r\n        });\r\n        const treedata: TreeNode[] = [];\r\n        pathLayerOnes.forEach(x => {\r\n            const node = this.convertToTreeNode(x);\r\n            treedata.push(node);\r\n        });\r\n        treedata.forEach(item => {\r\n            this.findChildrenByParent(item, datas, parentField, keyField);\r\n        });\r\n        return treedata;\r\n    }\r\n\r\n    /** æ¾å°å­èç¹ */\r\n    findChildrenByParent (parent: TreeNode, datas: any[], parentField: string, keyField: string) {\r\n        const childList = datas.filter(childitem => {\r\n            if (childitem[parentField] === parent.data[keyField]) {\r\n                return true;\r\n            }\r\n        });\r\n        if (childList && childList.length > 0) {\r\n            childList.forEach(child => {\r\n                const node = this.convertToTreeNode(child);\r\n                parent.children.push(node);\r\n                this.findChildrenByParent(node, datas, parentField, keyField);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¨é¨è·åçæ¬çæ¬\r\n     */\r\n    getTreeData (url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n        let filter: any = {};\r\n        // è¯´ææè¿æ»¤æ¡ä»¶\r\n        if (this.getFilterData()) {\r\n            filter = Object.assign(this.getFilterData(), filter);\r\n            SysDataUtil.deleteEmpty(filter);\r\n        }\r\n        const paramStr = JSON.stringify(filter);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader()['headers'],\r\n            params: { param: paramStr }\r\n        };\r\n        return this.http.get(url, opt).pipe(map((val: any[]) => {\r\n            if (val && val.length > 0) {\r\n                val.forEach(item => {\r\n                    if (item.layer == 1 || item.parentId == null) {\r\n                        item.parentId = '';\r\n                    }\r\n                    // æ»¡è¶³åç«¯ç»æ\r\n                    item.treeInfo = {\r\n                        parentId: item.parentId,\r\n                        path: item.path,\r\n                        layer: item.layer,\r\n                        isDetail: item.isDetail\r\n                    };\r\n                    item.selectable = false;\r\n                });\r\n            } else {\r\n                val = [];\r\n            }\r\n            return { items: val };\r\n        }));\r\n    }\r\n\r\n    /** è·ååè¡¨æ°æ® */\r\n    getGridData (url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n        let index = params.pageIndex;\r\n        let size = params.pageSize;\r\n        let farrisSelectedData = params['customData'].farrisSelectedData;\r\n\r\n        // ç®åè¿ä¸ªå°æ¹æé®é¢ï¼ç¬¬ä¸æ¬¡çæ¶åä¼ éä¸è¿æ¥\r\n        if (!index) {\r\n            const customData = params['customData'];\r\n            index = customData.filter.pageIndex;\r\n            size = customData.filter.pageSize;\r\n        }\r\n        let param: any = {\r\n            pageIndex: index,\r\n            pageSize: size,\r\n        };\r\n        // æ¯å¦ææç´¢\r\n        const filterStr = params.searchValue;\r\n        const filterObj = JSON.parse(filterStr);\r\n        const searchField = filterObj.searchField;\r\n        const searchValue = filterObj.searchValue;\r\n        // æè¿æ»¤æ¥è¯¢,æå¯è½æç´¢å¼ä¸ºç©ºï¼è¿æ¶åæ¯ä¸éè¦æç´¢ç\r\n        if (searchField && searchValue) {\r\n            switch (searchField) {\r\n                case 'code':\r\n                    param.code = searchValue;\r\n                    break;\r\n                case 'name':\r\n                    param.name = searchValue;\r\n                    break;\r\n                // å¨é¨åæç´¢ï¼ä¹åæ¯'*'\r\n                case '*':\r\n                default:\r\n                    param.codeOrName = searchValue;\r\n                    break;\r\n            }\r\n        }\r\n        // è¯´ææè¿æ»¤æ¡ä»¶\r\n        if (this.getFilterData()) {\r\n            param = Object.assign(this.getFilterData(), param);\r\n            SysDataUtil.deleteEmpty(param);\r\n        }\r\n        console.log(param);\r\n        const paramStr = JSON.stringify(param);\r\n        const opt = {\r\n            headers: this.sysUtil.getHeader()['headers'],\r\n            params: { param: paramStr }\r\n        };\r\n        return this.http.get(url, opt).pipe(map((val: any) => {\r\n            if (val && val.data) {\r\n                // å°æ¬æ¬¡åé¡µçæ°æ®éå å°å½åå¸®å©çåè¡¨ä¸­\r\n                this.setListData(params['customData'].allData, val.data);\r\n            }\r\n            return {\r\n                items: val.data,\r\n                total: val.totalCount,\r\n                pageInfo: {\r\n                    pageIndex: index,\r\n                    pageSize: size,\r\n                    pageList: [20, 40, 60, 80, 100],\r\n                    enablePager: true\r\n                },\r\n                selectedData:farrisSelectedData\r\n            };\r\n        }));\r\n    }\r\n    /** åæ° */\r\n    getData (url: string, params?: RemoteParams): Observable<LookupGridResult> {\r\n        console.log(params);\r\n        console.log(url);\r\n        const filter = params['customData'].filter;\r\n        this.setFilterData(filter);\r\n        const typeIndex = url.indexOf('\\/');\r\n        const httpUrl = url.substring(typeIndex, url.length);\r\n        const helpType = url.substring(0, typeIndex);\r\n        switch (helpType) {\r\n            case userHelp:\r\n            case posHelp:\r\n            case roleHelp:\r\n                return this.getGridData(httpUrl, params);\r\n            case userGroupHelp:\r\n            case posGroupHelp:\r\n            case roleGroupHelp:\r\n            case sysOrgHelp:\r\n                return this.getTreeDataAsync(httpUrl, params);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n","import { forEach } from '@angular/router/src/utils/collection';\r\nimport { Component, OnInit, Input, Output, EventEmitter, ViewChild, Optional } from '@angular/core';\r\nimport { userHelp, posHelp, roleHelp } from '../help-meta/sys-help-meta';\r\nimport { SysCommonUtilService } from '@gsp-sys/sysmgr-common';\r\nimport { ServerSideToken, LookupGridComponent, PickingResult, PickedResult } from '@farris/ui-lookup';\r\nimport { SysFarrisLookupService } from '../service/sys-farris-lookup.service';\r\nimport { GspUserFilter } from '../filter/gsp-user-filter';\r\nimport { GspPositionFilter } from '../filter/gsp-position-filter';\r\nimport { GspRoleFilter } from '../filter/gsp-role-filter';\r\nimport { Observable, of } from 'rxjs';\r\nimport { SysLocaleService } from '../../locale/sys-locale.service';\r\nimport { HELP_LOCALE_ZHCHS } from '../../locale/locales/zh-cn/help';\r\nimport { map, filter } from 'rxjs/operators';\r\nimport { element } from 'protractor';\r\n\r\n@Component({\r\n    selector: 'sys-farris-grid-lookup',\r\n    templateUrl: './sys-farris-lookup.component.html',\r\n    styleUrls: ['./sys-farris-lookup.component.css'],\r\n    providers: [\r\n        { provide: ServerSideToken, useClass: SysFarrisLookupService }\r\n    ]\r\n})\r\nexport class SysFarrisLookupComponent implements OnInit {\r\n\r\n    /** æ é¢ */\r\n    @Input() title: string;\r\n    /**å®½åº¦ */\r\n    @Input() width = 550;\r\n    /** æ¯å¦æ¾ç¤ºç¨æ·æåºå­æ®µï¼WFä½¿ç¨ */\r\n    @Input() showUserOrderField = false;\r\n    /** æ¾ç¤ºç¨æ·çåä½ä¿¡æ¯ï¼WFä½¿ç¨ */\r\n    @Input() showUserUnitInfo = false;\r\n    /** åæ°æº */\r\n    @Input() sourceType: 'user' | 'position' | 'role';\r\n    /** åªè¯» */\r\n    @Input() disabled = false;\r\n    /**\r\n     * å¿å¡«\r\n     */\r\n    @Input() required=true;\r\n    /**\r\n     * æå¼å¸®å©åæ¯å¦æéä¸­æ°æ®\r\n     */\r\n    @Input() enableToSelect=true;\r\n    /** æ¯å¦åé */\r\n    @Input() singleSelect: boolean;\r\n    /** æ¯å¦åé¡µï¼é»è®¤true */\r\n    @Input() pagination = true;\r\n    /** é¦æ¬¡å è½½ç¬¬å é¡µï¼é»è®¤1 */\r\n    @Input() pageIndex = 1;\r\n    /** æ¯é¡µå è½½æ°ï¼é»è®¤20 */\r\n    @Input() pageSize = 20;\r\n    /** ç»å®å°å¸®å©ä¸çæ°æ®ï¼åå§æ¾ç¤ºå¼ç¨ */\r\n    @Input() displayTxt: string;\r\n    /** å­å¨å¸®å©éæ©çå¯¹è±¡ */\r\n    @Input() bindingData: { id: string, name: string };\r\n    /** è¿æ»¤æ¡ä»¶ */\r\n    @Input() filter: GspUserFilter | GspPositionFilter | GspRoleFilter | any;\r\n    /** æ¯å¦å¼å§æ°æ®æéè¿æ»¤ */\r\n    @Input() withPermission = false;\r\n    /** å¯ç¨å³é­åäºä»¶ */\r\n    @Input() useBeforeCloseEvent = false;\r\n    @Input() beforeClose: (selectData: any) => Observable<PickedResult>;\r\n    @Input() typeMode=0;\r\n    /** å¸®å©éæ©åäºä»¶ */\r\n    @Output() afterConfirm: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    /** å¸®å©éæ©åäºä»¶ï¼ä¼è¿åéä¸­åå é¤çid */\r\n    @Output() afterConfirmData: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    /** æ¸ç©ºåäºä»¶-ææ¶ä¸ç¨ */\r\n    @Output() clear: EventEmitter<any> = new EventEmitter<any>();\r\n    /** å³é­å-ææ¶ä¸ç¨ */\r\n    @Output() loadSuccessEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() valueChangedEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() selectDataEvent: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() dialogClosed: EventEmitter<any> = new EventEmitter<any>();\r\n    dataUri: string;\r\n    columns: any[];\r\n    selectedData :any[]=[];\r\n    farrisSelectedData:any[]=[];\r\n    @ViewChild('farrislookup') public farrisLookUp: LookupGridComponent;\r\n    mapFields = { id: 'id', name: 'name' };\r\n    /** æ¯æ¬¡å³é­åæ°æ® */\r\n    public allData: any[];\r\n    public i18nRes: any;\r\n    constructor(\r\n        public sysUtil: SysCommonUtilService,\r\n        public localService: SysLocaleService\r\n    ) {\r\n        this.selectedData = [];\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.localService) {\r\n            this.i18nRes = this.localService.getComponentOpt('help');\r\n        } else {\r\n            this.i18nRes = HELP_LOCALE_ZHCHS;\r\n        }\r\n        this.columns = [\r\n            { title: this.i18nRes.codeField, field: 'code', searchField: 'code', width: '160' },\r\n            { title: this.i18nRes.nameField, field: 'name', searchField: 'name', width: '200' },\r\n        ];\r\n        // æ¾ç¤ºç¨æ·çåä½è·¯å¾ä¿¡æ¯ï¼WFä½¿ç¨\r\n        if (this.showUserUnitInfo) {\r\n            this.width = 850;\r\n            this.columns.push({ title: this.i18nRes.orgNamePathField, field: 'orgNamePath' });\r\n            this.width = 850;\r\n            this.columns.push({ title: this.i18nRes.orgName, field: 'sysOrgName' });\r\n        }\r\n        // æ¾ç¤ºæåºå­æ®µï¼WFä½¿ç¨\r\n        if (this.showUserOrderField) {\r\n            this.columns.push({ title: this.i18nRes.orderField, field: 'orderNum' });\r\n        }\r\n        // åå§å\r\n        this.allData = [];\r\n        // webapiåå§\r\n        switch (this.sourceType) {\r\n            case 'position':\r\n                this.dataUri = posHelp + this.sysUtil.positionWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.positionTitle;\r\n                }\r\n                break;\r\n            case 'role':\r\n                this.dataUri = roleHelp + this.sysUtil.roleWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.roleTitle;\r\n                }\r\n                break;\r\n            case 'user':\r\n            default:\r\n                this.dataUri = userHelp + this.sysUtil.userWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.userTitle;\r\n                }\r\n                break;\r\n        }\r\n        // å¿é¡»è¦æï¼å¦ååå§éä¸­ä¸èµ·ä½ç¨\r\n        this.farrisLookUp.mapFields = { id: 'id', name: 'name' };\r\n        // å¸®å©å³é­åäºä»¶\r\n        this.farrisLookUp.dialogClosed.subscribe(val => {\r\n            console.log(val);\r\n            this.dialogClosed.next(val);\r\n        });\r\n    }\r\n\r\n    /** å¸®å©åäºä»¶,å¼ºè¡ä¼ éè¿æ»¤æ¡ä»¶ */\r\n    beforeOpen = (arg) => {\r\n        if (!this.filter) {\r\n            // å¯è½è°ç¨æ¹ä¸ä¼ éï¼è¯å«ä¸ºéç©º\r\n            this.filter = {};\r\n        }\r\n        /**\r\n         * WFä½¿ç¨ï¼å¦ææ¾ç¤ºç¨æ·çåä½ä¿¡æ¯ï¼éè¦æ¥è¯¢æ¡ä»¶ä¸­å¢å å¦ä¸æ è¯ï¼\r\n         * æå¡å¨ç«¯è§£æ\r\n         */\r\n        if (this.showUserUnitInfo) {\r\n            this.filter.queryMode = '0002';\r\n        }\r\n        this.filter.pageIndex = this.pageIndex;\r\n        this.filter.pageSize = this.pageSize;\r\n        this.allData.length = 0;\r\n        this.farrisSelectedData = [];\r\n        this.selectedData = [];\r\n\r\n        if(this.bindingData!=null&&this.bindingData.id!=null&&this.bindingData.id!=\"\"){\r\n            this.selectedData = this.bindingData.id.split(',');\r\n            this.selectedData.forEach(item=>{\r\n                this.farrisSelectedData.push({\"id\":item});\r\n\r\n            });\r\n        }\r\n\r\n        // æè¿æ»¤æ°æ®åå½åçæ°æ®ä¼ éå°serviceå±\r\n        return of({\r\n            showDialog: true, data: {\r\n                filter: this.filter,\r\n                allData: this.allData,\r\n                farrisSelectedData:this.farrisSelectedData\r\n            }\r\n        });\r\n    }\r\n\r\n    /** å¸®å©å³é­åäºä»¶,ç®åæ è®ºæ¯å¦é½ä¼ç»§ç»­èµ°afterOkæ å°äºä»¶ */\r\n    dictPicked = (arg: any): Observable<PickedResult> => {\r\n        if (this.useBeforeCloseEvent && this.beforeClose) {\r\n            return this.beforeClose(arg).pipe(map(val => {\r\n                // å¦æè½å³é­ï¼è°ç¨åäºä»¶\r\n                if (val.closeDialog) {\r\n                    this.afterConfirm.next(arg);\r\n                }\r\n                return val;\r\n            }));\r\n        } else {\r\n            return of({ closeDialog: true });\r\n        }\r\n    }\r\n\r\n    /** å¸®å©æ å°åäºä»¶ */\r\n    afterOk = (helpdata, mapfields) => {\r\n        if (this.useBeforeCloseEvent) {\r\n            return;\r\n        }\r\n        if(this.typeMode&&this.typeMode===1){\r\n            if(!this.singleSelect){\r\n                this.selectedData = this.selectedData.filter(item=>{\r\n                    if(this.allData.findIndex(element=>{\r\n                        if(item.hasOwnProperty(\"id\")){\r\n                            return element.id===item.id;\r\n                        }else{\r\n                            return element.id===item;\r\n                        }\r\n                    })>-1){\r\n                        return true;\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                });\r\n        \r\n                this.selectedData.forEach((item,index)=>{\r\n                    if(!item.hasOwnProperty(\"id\")){\r\n                        this.allData.forEach(element=>{\r\n                            if(element.id===item){\r\n                                this.selectedData[index] = element;\r\n                            }\r\n                        })\r\n                    }\r\n                });\r\n                helpdata = this.selectedData;\r\n            }\r\n        }\r\n\r\n        if (helpdata) {\r\n            // å¤éçè¯éè¦å¤ç,å¸®å©å·²éå·ä¸ºé´é\r\n            if (!this.singleSelect) {\r\n                const idList: string[] = helpdata.map(item => item.id);\r\n                const nameList: string[] = helpdata.map(item => item.name);\r\n                const nameStr = nameList.join();\r\n                const idStr = idList.join();\r\n                this.displayTxt = nameStr;\r\n                this.bindingData.id = idStr;\r\n                this.bindingData.name = nameStr;\r\n            } else {\r\n                this.displayTxt = helpdata.name;\r\n            }\r\n        } else {// ç®åæ¸ç©ºä¼èµ°è¿éï¼èä¸ä¸¤æ¬¡\r\n        }\r\n        // è§¦åäºä»¶\r\n        this.afterConfirm.next(helpdata);\r\n        // this.afterConfirmData.next(this.selctedData);\r\n    }\r\n\r\n    /** æ¸ç©ºå */\r\n    afterClear (arg: any) {\r\n        this.clear.next(arg);\r\n    }\r\n\r\n    /** æå¨æ¾ç¤ºå¸®å© */\r\n    public showHelp() {\r\n        this.farrisLookUp.showDialog();\r\n    }\r\n\r\n    oncheckedChange(arg:any){ \r\n        if(this.singleSelect){\r\n            this.selectedData=[];\r\n        }       \r\n        if(arg.isCheck){\r\n            arg.data.forEach(item=>{\r\n                if(this.selectedData.indexOf(item.id)===-1){\r\n                    this.selectedData.push(item);\r\n                }\r\n            });\r\n        }else{\r\n            this.selectedData = this.selectedData.filter(item=>{\r\n                if(arg.data.findIndex(element=>{return item.hasOwnProperty(\"id\")?item.id===element.id:item===element.id})>-1){\r\n                    return false;\r\n                }else{\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onOkClick=()=>{\r\n        if (this.useBeforeCloseEvent) {\r\n            return;\r\n        }\r\n        let helpdata :any;\r\n        if(!this.selectedData||this.selectedData.length===0){\r\n            if(this.singleSelect){\r\n                this.afterConfirm.next(helpdata);\r\n            }else{\r\n                this.afterConfirm.next([]);\r\n            }\r\n            this.farrisLookUp.closeDialog();\r\n            return;\r\n        }\r\n\r\n        this.selectedData = this.selectedData.filter(item=>{\r\n            if(this.allData.findIndex(element=>{\r\n                if(item.hasOwnProperty(\"id\")){\r\n                    return element.id===item.id;\r\n                }else{\r\n                    return element.id===item;\r\n                }\r\n            })>-1){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        });\r\n\r\n        this.selectedData.forEach((item,index)=>{\r\n            if(!item.hasOwnProperty(\"id\")){\r\n                this.allData.forEach(element=>{\r\n                    if(element.id===item){\r\n                        this.selectedData[index] = element;\r\n                    }\r\n                })\r\n            }\r\n        });\r\n        helpdata = this.selectedData;\r\n\r\n        if (helpdata&&helpdata.length>0) {\r\n            // å¤éçè¯éè¦å¤ç,å¸®å©å·²éå·ä¸ºé´é\r\n            if (!this.singleSelect) {\r\n                const idList: string[] = helpdata.map(item => item.id);\r\n                const nameList: string[] = helpdata.map(item => item.name);\r\n                const nameStr = nameList.join();\r\n                const idStr = idList.join();\r\n                this.displayTxt = nameStr;\r\n                this.bindingData.id = idStr;\r\n                this.bindingData.name = nameStr;\r\n                this.afterConfirm.next(helpdata);\r\n\r\n            } else {\r\n                let nameStr = helpdata[0].name;\r\n                this.displayTxt = nameStr;\r\n                this.afterConfirm.next(helpdata[0]);\r\n            }\r\n        } else {// ç®åæ¸ç©ºä¼èµ°è¿éï¼èä¸ä¸¤æ¬¡\r\n            this.afterConfirm.next(helpdata);\r\n        }\r\n        // è§¦åäºä»¶\r\n        this.farrisLookUp.closeDialog();\r\n    }\r\n\r\n}\r\n\r\n","export class HelpFilterMap {\r\n    /** å¸®å©åæ°æ®çè¿æ»¤æ¡ä»¶ */\r\n    helpMeta: Map<string, any> = new Map<string, any>();\r\n}\r\n","import { forEach } from '@angular/router/src/utils/collection';\r\nimport { SysHelpService } from './../service/sys-help.service';\r\nimport { Component, OnInit, Input, EventEmitter, Output, ViewChild } from '@angular/core';\r\nimport { TreeFilter } from '../filter/tree-filter';\r\nimport { LookupGridComponent, ServerSideToken, PickedResult } from '@farris/ui-lookup';\r\nimport { SysCommonUtilService } from '@gsp-sys/sysmgr-common';\r\nimport { sysOrgHelp, posGroupHelp, roleGroupHelp, userGroupHelp } from '../help-meta/sys-help-meta';\r\nimport { SysFarrisLookupService } from '../service/sys-farris-lookup.service';\r\nimport { of, Observable } from 'rxjs';\r\nimport { SysLocaleService } from '../../locale/sys-locale.service';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\nimport { HELP_LOCALE_ZHCHS } from '../../locale/locales/zh-cn/help';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'sys-farris-tree-help',\r\n    templateUrl: './sys-farris-tree-help.component.html',\r\n    styleUrls: ['./sys-farris-tree-help.component.css'],\r\n    providers: [\r\n        { provide: ServerSideToken, useClass: SysFarrisLookupService }\r\n    ]\r\n})\r\nexport class SysFarrisTreeHelpComponent implements OnInit {\r\n    /** æ¯å¦åªè¯» */\r\n    @Input() disabled = false;\r\n    /** æ é¢ */\r\n    @Input() title: string;\r\n    /** æ¯å¦åå±å è½½ç»ç» */\r\n    @Input() async = false;\r\n    /** åæ°æº */\r\n    @Input() sourceType: 'org' | 'usergroup' | 'positiongroup' | 'rolegroup';\r\n    /** æ¯å¦åé */\r\n    @Input() singleSelect = true;\r\n    /** ç»å®å°å¸®å©ä¸çæ°æ®ï¼åå§æ¾ç¤ºå¼ç¨ */\r\n    @Input() displayTxt: string;\r\n    /** å­å¨å¸®å©éæ©çå¯¹è±¡ */\r\n    @Input() bindingData: { id: string, name: string };\r\n    /** è¿æ»¤æ¡ä»¶ */\r\n    @Input() filter: TreeFilter;\r\n    /**\r\n     * æå¼å¸®å©åæ¯å¦æéä¸­æ°æ®\r\n     */\r\n    @Input() enableToSelect=true;\r\n    /** å¯ç¨å³é­åäºä»¶ */\r\n    @Input() useBeforeCloseEvent = false;\r\n    @Input() beforeClose: (selectData: any) => Observable<PickedResult>;\r\n    /** æ¯å¦å¼å§æ°æ®æéè¿æ»¤ */\r\n    @Input() withPermission = false;\r\n    /** å¸®å©éæ©åäºä»¶ */\r\n    @Output() afterConfirm: EventEmitter<any> = new EventEmitter<any>();\r\n    /** æ¸ç©ºåäºä»¶-ææ¶ä¸ç¨ */\r\n    @Output() clear: EventEmitter<any> = new EventEmitter<any>();\r\n    @Input() showAllPathOrg:boolean = false;\r\n    @ViewChild('farristreelookup') public farrisLookUp: LookupGridComponent;\r\n    mapFields = { id: 'id', name: 'name' };\r\n\r\n    dataUri: string;\r\n    columns: any;\r\n    treeInfo: any;\r\n    public allData = [];\r\n    public i18nRes: any;\r\n    constructor (\r\n        public sysUtil: SysCommonUtilService,\r\n        public localService: SysLocaleService,\r\n        public sysHelpService: SysHelpService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit () {\r\n        if (this.localService) {\r\n            this.i18nRes = this.localService.getComponentOpt('help');\r\n        } else {\r\n            this.i18nRes = HELP_LOCALE_ZHCHS;\r\n        }\r\n        // é»è®¤ä¸åå±å è½½\r\n        this.treeInfo = {\r\n            loadDataType: 'all',\r\n            layerType: 'parentId',\r\n            dataField: 'treeInfo',\r\n            pathField: 'path',\r\n            layerField: 'layer',\r\n            parentField: 'parentId',\r\n            isDetailField: 'isDetail',\r\n            treeDataIsInit: false\r\n        };\r\n        this.columns = [\r\n            { title: this.i18nRes.codeField, field: 'code', searchField: 'code' },\r\n            { title: this.i18nRes.nameField, field: 'name', searchField: 'name' },\r\n        ];\r\n        // å¼æ­¥å è½½çè¯éè¦å¼å¯è¿ä¸¤ä¸ªå¼å³\r\n        if (this.async) {\r\n            this.treeInfo.loadDataType = 'async';\r\n            this.treeInfo.treeDataIsInit = true;\r\n        }\r\n        // webapiåå§\r\n        switch (this.sourceType) {\r\n            case 'org':\r\n                this.dataUri = sysOrgHelp + this.sysUtil.sysOrgWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.userOrgTitle;\r\n                }\r\n                break;\r\n            case 'usergroup':\r\n                this.dataUri = userGroupHelp + this.sysUtil.userGroupWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.userGroupTitle;\r\n                }\r\n                break;\r\n            case 'positiongroup':\r\n                this.dataUri = posGroupHelp + this.sysUtil.posGroupWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.positionGroupTitle;\r\n                }\r\n                break;\r\n            case 'rolegroup':\r\n            default:\r\n                this.dataUri = roleGroupHelp + this.sysUtil.roleGroupWebApi;\r\n                if (!this.title) {\r\n                    this.title = this.i18nRes.roleGroupTitle;\r\n                }\r\n                break;\r\n        }\r\n        // å¿é¡»è¦æï¼å¦ååå§éä¸­ä¸èµ·ä½ç¨\r\n        this.farrisLookUp.mapFields = { id: 'id', name: 'name' };\r\n    }\r\n\r\n    /** å¸®å©åäºä»¶,å¼ºè¡ä¼ éè¿æ»¤æ¡ä»¶ */\r\n    beforeOpen = (arg) => {\r\n        //å¦ææè¿æ»¤æ¡ä»¶ï¼éå å°urlè·¯å¾\r\n        let farrisSelectedData = [];\r\n        let selectedData = [];\r\n        let temp = 0;\r\n\r\n        if(this.bindingData!=null&&this.bindingData.id!=null&&this.bindingData.id!=\"\"){\r\n            selectedData = this.bindingData.id.split(',');\r\n            let selectedDataName = this.bindingData.name.split(',');\r\n\r\n            selectedData.forEach(item=>{\r\n                farrisSelectedData.push({\"id\":item,\"name\":selectedDataName[temp]});\r\n                temp = temp+1;\r\n\r\n            });\r\n        }\r\n        return of({\r\n            showDialog: true,\r\n            data: {\r\n                filter: this.filter,\r\n                allData: this.allData,\r\n                farrisSelectedData:farrisSelectedData\r\n            }\r\n        });\r\n    }\r\n\r\n    /** å¸®å©å³é­åäºä»¶,ç®åæ è®ºæ¯å¦é½ä¼ç»§ç»­èµ°afterOkæ å°äºä»¶ */\r\n    dictPicked = (arg: any): Observable<PickedResult> => {\r\n        if (this.useBeforeCloseEvent && this.beforeClose) {\r\n            return this.beforeClose(arg).pipe(map(val => {\r\n                // å¦æè½å³é­ï¼è°ç¨åäºä»¶\r\n                if (val.closeDialog) {\r\n                    this.afterConfirm.next(arg);\r\n                }\r\n                return val;\r\n            }));\r\n        } else {\r\n            return of({ closeDialog: true });\r\n        }\r\n    }\r\n    /** å¸®å©æ å°åäºä»¶ */\r\n    afterOk = (helpdata, mapfields) => {\r\n        // å¦æå¯ç¨äºå³é­åæ ¡éªäºä»¶ï¼ä¸èµ°è¿é\r\n        if (this.useBeforeCloseEvent) {\r\n            return;\r\n        }\r\n        if (helpdata) {\r\n            // å¤éçè¯éè¦å¤ç,å¸®å©å·²éå·ä¸ºé´é\r\n            if (!this.singleSelect) {\r\n                const idList: string[] = helpdata.map(item => item.id);\r\n                const nameList: string[] = helpdata.map(item => item.name);\r\n                this.bindingData.id = idList.join();\r\n                this.bindingData.name = nameList.join();\r\n                this.displayTxt = this.bindingData.name;\r\n                this.afterConfirm.next(helpdata);\r\n\r\n            } else {\r\n                // å¸®å©æ¾ç¤º\r\n                this.displayTxt = helpdata.name;\r\n                if(this.showAllPathOrg){\r\n                    this.sysHelpService.getParentOrg(helpdata).subscribe(items=>{\r\n                        if(items&&items.length>0){\r\n                            helpdata.allPathOrg=items;\r\n                        }\r\n                        this.afterConfirm.next(helpdata);\r\n                        console.log(helpdata);\r\n                    });\r\n                }else{\r\n                    this.afterConfirm.next(helpdata);\r\n\r\n                }\r\n            }\r\n        } else {// ç®åæ¸ç©ºä¼èµ°è¿éï¼èä¸ä¸¤æ¬¡\r\n            // è§¦åäºä»¶\r\n            this.afterConfirm.next(helpdata);\r\n            console.log(helpdata);\r\n        }\r\n\r\n    }\r\n\r\n    /** æ¸ç©ºå */\r\n    afterClear(arg: any) {\r\n        this.clear.next(arg);\r\n    }\r\n\r\n    /** æå¨æ¾ç¤ºå¸®å© */\r\n    public showHelp() {\r\n        this.farrisLookUp.showDialog();\r\n    }\r\n    search($event){\r\n        console.log($event);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SysHelpService } from './service/sys-help.service';\r\nimport { SysCommonUtilService, SysCommonModule } from '@gsp-sys/sysmgr-common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { SysExceptionService } from './service/sys-exception.service';\r\nimport { GroupNavComponent } from './group-nav/group-nav.component';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { GroupService } from './group-nav/group.service';\r\nimport { LookupModule } from '@farris/ui-lookup';\r\nimport { SysFarrisLookupComponent } from './sys-farris-lookup/sys-farris-lookup.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HelpFilterMap } from './service/help-filter-map';\r\nimport { SysFarrisTreeHelpComponent } from './sys-farris-tree-help/sys-farris-tree-help.component';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { SysLocaleService } from '../locale/sys-locale.service';\r\nimport { LanguageService } from '@ecp-caf/caf-common';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        HttpClientModule,\r\n        LookupModule,\r\n        ModalModule.forRoot(),\r\n        MessagerModule.forRoot(),\r\n        DatagridModule,\r\n        TreeTableModule,\r\n        SysCommonModule\r\n    ],\r\n    declarations: [\r\n        GroupNavComponent,\r\n        SysFarrisLookupComponent,\r\n        SysFarrisTreeHelpComponent\r\n    ],\r\n    exports: [\r\n        GroupNavComponent,\r\n        SysFarrisLookupComponent,\r\n        SysFarrisTreeHelpComponent\r\n    ],\r\n    providers: [\r\n        HelpFilterMap,\r\n        SysHelpService,\r\n        SysExceptionService,\r\n        SysCommonUtilService,\r\n        GroupService,\r\n        LanguageService,\r\n        CookieService,\r\n        SysLocaleService]\r\n})\r\nexport class SysManagerUIModule { }\r\n","/**\r\n * æ°æ®æéæä½\r\n */\r\nexport class AuthOp {\r\n    public static userManage = 'UserManage';\r\n    public static userView = 'UserView';\r\n    public static  userAssPosition = 'UserAssPosition';\r\n\r\n    public static positionManage = 'PositionManage';\r\n    public static positionView = 'PositionView';\r\n    public static positionAssRole = 'PositionAssRole';\r\n    /** å·²ç»åºå¼ */\r\n    public static  positionAssUser = 'PositionAssUser';\r\n\r\n    public static roleManage = 'RoleManage';\r\n    /** å·²ç»åºå¼ */\r\n    public static  roleAssPosition = 'RoleAssPosition';\r\n}\r\n"],"names":["Injectable","HttpClient","EventEmitter","Component","Input","Output","ViewChild","LanguageService","HostListener","BsModalService","Injector","ComponentFactoryResolver","NgModule","CommonModule","HttpClientModule","FormsModule","ReactiveFormsModule","DatagridModule","TreeTableModule","LayoutModule","TreeViewModule","KendoLayoutModule","GridModule","ModalModule","MessagerModule","SysDataUtil","map","from","SysCommonUtilService","filter","NotifyService","MessagerService","of","ServerSideToken","LookupModule","SysCommonModule","CookieService"],"mappings":"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"}
