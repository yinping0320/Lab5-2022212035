{"version":3,"file":"qdp-spread.umd.js.map","sources":["ng://@qdp/spread/lib/util/services.utils.ts","node_modules/tslib/tslib.es6.js","ng://@qdp/spread/lib/util/parameter.utils.ts","ng://@qdp/spread/lib/util/render.extends.utils.ts","ng://@qdp/spread/lib/util/schema.utils.ts","ng://@qdp/spread/lib/util/spread.style.utils.ts","ng://@qdp/spread/lib/engine/base-render.ts","ng://@qdp/spread/lib/engine/crosstab-render.ts","ng://@qdp/spread/lib/engine/list-render.ts","ng://@qdp/spread/lib/service/render/render.service.ts","ng://@qdp/spread/lib/component/dimension-setting/dimension-setting.component.ts","ng://@qdp/spread/lib/component/columns-setting/columns-setting.component.ts","ng://@qdp/spread/lib/component/qdp-view/qdp-view.component.ts","ng://@qdp/spread/lib/spread.module.ts"],"sourcesContent":["export class ServicesUtils {\r\n    private static ServicesMap = new Map();\r\n\r\n    public static setServices(key: String, value: any) {\r\n        ServicesUtils.ServicesMap.set(key, value);\r\n    }\r\n\r\n    public static getServices(key: String) {\r\n        return ServicesUtils.ServicesMap.get(key);\r\n    }\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { CacheService } from \"@ecp-caf/caf-common\";\r\nimport { RtfServices } from \"@qdp/common\";\r\nimport { ServicesUtils } from \"./services.utils\";\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\nexport class ParameterUtils {\r\n    private cache: CacheService;\r\n    queryId: any;\r\n    funcInfoCache: any;\r\n\r\n    constructor(_queryId?: any, _funcInfoCache?: any, _serviceCache?: any) {\r\n        this.queryId = _queryId;\r\n        this.funcInfoCache = _funcInfoCache;\r\n        this.cache = _serviceCache.cacheService;\r\n    }\r\n\r\n    /**\r\n     * åå»ºåæ°\r\n     * @param option åæ°éç½®é¡¹\r\n     * { queryId: æ¥è¯¢ID, controlType: æ¥è¯¢ç±»åï¼list  treelist  crosstab, schemaId: æ¹æ¡ID, qoManagerCode: æ¥è¯¢å¯¹è±¡ç¼å·, extendCond: æ©å±æ¡ä»¶, pageIndex: é¡µç´¢å¼, pageSize: åé¡µå¤§å°, filterCondition: ç»æè¿æ»¤æ¡ä»¶, printIntegration: æå°éç½®, excelExportName: å¯¼åºExcelæä»¶å }\r\n     * @returns \r\n     */\r\n    createParameters(option: any) {\r\n        const tabId = this.bindCloseTabEvent();\r\n        let entityData: any;\r\n        if (this.cache.get(tabId)) {\r\n            entityData = JSON.stringify(this.cache.get(tabId));\r\n        } else if (this.cache.get(option.queryId)) {\r\n            entityData = JSON.stringify(this.cache.get(option.queryId));\r\n        } else {\r\n            entityData = JSON.stringify({ 'id': 'undefined_null' });\r\n        }\r\n        const params = {\r\n            entityData: entityData,\r\n            extendCond: this.cache.get(tabId + 'extendCond') ? this.cache.get(tabId + 'extendCond') : option.extendCond,\r\n            pageIndex: option.pageIndex ? option.pageIndex : 0,\r\n            pageSize: option.pageSize ? option.pageSize : 0,\r\n            schemaId: option.schemaId && option.schemaId !== 'prefab' ? option.schemaId : '1',\r\n            filterCond: option.filterCondition ? option.filterCondition : (this.cache.get(tabId + 'filtercondition') ? this.cache.get(tabId + 'filtercondition') : ''),\r\n            qoManagerCode: option.qoManagerCode ? option.qoManagerCode : '',\r\n            voCode: option.voId ? option.voId : '',\r\n        };\r\n        try {\r\n            const parameterEntityData = JSON.parse(entityData);\r\n            if (parameterEntityData.hasOwnProperty('@filterExpressionString@')) {\r\n\r\n                const filterExpression = params && params.filterCond ? JSON.parse(params.filterCond) : null;\r\n                if (!filterExpression) {\r\n                    params.filterCond = parameterEntityData['@filterExpressionString@'];\r\n                } else {\r\n                    const advanceFilterExpression = JSON.parse(parameterEntityData['@filterExpressionString@']);\r\n                    advanceFilterExpression.expressItems = advanceFilterExpression.expressItems.concat(filterExpression.expressItems);\r\n                    params.filterCond = JSON.stringify(advanceFilterExpression);\r\n                }\r\n            }\r\n        } catch (e) {\r\n        }\r\n        if (option.controlType) {\r\n            params['controlType'] = option.controlType;\r\n        }\r\n        if (option.excelExportName) {\r\n            params['excelExportName'] = option.excelExportName;\r\n        }\r\n        if (option.printIntegration) {\r\n            params['printIntegration'] = option.printIntegration ? JSON.stringify(option.printIntegration) : '';\r\n        }\r\n        if (option.multiSheets) {\r\n            params['multiSheets'] = option.multiSheets && option.multiSheets.length ? option.multiSheets.join(\",\") : '';\r\n        }\r\n        if (option.curSheet) {\r\n            params['curSheet'] = option.curSheet;\r\n        }\r\n        if (option.multiSheetsSchemaIds) {\r\n            params['multiSheetsSchemaIds'] = option.multiSheetsSchemaIds ? JSON.stringify(option.multiSheetsSchemaIds) : '';\r\n        }\r\n        if (option.groupType) {\r\n            params['groupType'] = option.groupType ? option.groupType : '';\r\n        }\r\n        if (option.queryId) {\r\n            params['queryId'] = option.queryId ? option.queryId : '';\r\n        }\r\n        if (RtfServices.getMenuParameter('enableQOExtends')) {\r\n            params['enableQOExtends'] = RtfServices.getMenuParameter('enableQOExtends');\r\n            params['qoId'] = ServicesUtils.getServices(RtfServices.getTabId(this.queryId) + 'qoId');\r\n        }\r\n\r\n        return params;\r\n    }\r\n\r\n    /**\r\n     * ç»å®åè½èåå³é­äºä»¶\r\n     */\r\n    bindCloseTabEvent() {\r\n        try {\r\n            const tab = gspframeworkService.rtf.session.getCommonVariable();\r\n            gspframeworkService.rtf.frmEvent.eventListener('beforeFuncCloseEvent', this.clearParametersCache.bind(this), tab);\r\n            const index = this.funcInfoCache.funcIds.findIndex(el => el === tab.tabId);\r\n            if (index < 0) {\r\n                this.funcInfoCache.funcIds.push(tab.tabId);\r\n            }\r\n            return tab.tabId + RtfServices.getInSuiteFrmUUID();\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æ¸é¤æ¥è¯¢ç¼å­\r\n     */\r\n    clearParametersCache() {\r\n        const tabId = arguments[0].tabId;\r\n        if (this.queryId) {\r\n            this.cache.set(this.queryId, '');\r\n        }\r\n        this.cache.set(tabId, '');\r\n        this.cache.set(tabId + 'renderMode', '');\r\n        let index = this.funcInfoCache.funcIds.findIndex(el => el === tabId);\r\n        if (index >= 0) {\r\n            this.funcInfoCache.funcIds.splice(index, 1);\r\n            index = this.funcInfoCache.firstLoadCache.findIndex(el => el === tabId);\r\n            if (index >= 0) {\r\n                this.funcInfoCache.firstLoadCache.splice(index, 1);\r\n            }\r\n            gspframeworkService.rtf.func.close(arguments[0]);\r\n        }\r\n    }\r\n}","import { DataRenderExtendService } from \"@qdp/common\";\r\nimport { ServicesUtils } from \"./services.utils\";\r\n\r\nexport class RenderExtendsUtils {\r\n    dataRenderExtendService: DataRenderExtendService;\r\n    renderExtends: DataRenderExtendService;\r\n\r\n    constructor(_queryId: any) {\r\n        this.init(_queryId);\r\n    }\r\n\r\n    private init(_queryId: any) {\r\n        this.dataRenderExtendService = ServicesUtils.getServices('dataRenderExtendService' + _queryId);\r\n        this.renderExtends = ServicesUtils.getServices('renderExtends' + _queryId);\r\n    }\r\n\r\n    /**\r\n   * æ§è¡æ¥è¯¢æ©å±\r\n   */\r\n    runRenderExtends(extendCode: any, extendName: any, extendData: any, control: any) {\r\n        const $event = this.createRenderExtendParams({\r\n            eventCode: extendCode, // 'beforeQueryData',\r\n            eventName: extendName, // this.localizeService.getValue('spread.message.extend.query.before'),\r\n            data: extendData, // params,\r\n            spread: control, // obj.spread\r\n            control: control // obj.spread\r\n        });\r\n        if (extendCode === 'beforeQueryData') {\r\n            if (this.dataRenderExtendService && this.dataRenderExtendService.beforeQueryData) {\r\n                this.dataRenderExtendService.beforeQueryData($event);\r\n            } else {\r\n                if (this.renderExtends && this.renderExtends.beforeQueryData) {\r\n                    this.renderExtends.beforeQueryData($event);\r\n                }\r\n            }\r\n        } else if (extendCode === 'beforeLoadData') {\r\n            if (this.dataRenderExtendService && this.dataRenderExtendService.beforeLoadData) {\r\n                this.dataRenderExtendService.beforeLoadData($event);\r\n            } else {\r\n                if (this.renderExtends && this.renderExtends.beforeQueryData) {\r\n                    this.renderExtends.beforeLoadData($event);\r\n                }\r\n            }\r\n        } else if (extendCode === 'afterLoadData') {\r\n            if (this.dataRenderExtendService && this.dataRenderExtendService.afterLoadData) {\r\n                this.dataRenderExtendService.afterLoadData($event);\r\n            } else {\r\n                if (this.renderExtends && this.renderExtends.beforeQueryData) {\r\n                    this.renderExtends.afterLoadData($event);\r\n                }\r\n            }\r\n        }\r\n        return $event['data'];\r\n    }\r\n\r\n    createRenderExtendParams(obj) {\r\n        return {\r\n            eventCode: obj.eventCode,\r\n            eventName: obj.eventName,\r\n            data: obj.data,\r\n            control: obj.control,\r\n            spread: obj.spread || undefined\r\n        };\r\n    }\r\n}","import { RtfServices, SchemaManagerService } from \"@qdp/common\";\r\nimport { Observable, of } from \"rxjs\";\r\nimport { switchMap } from \"rxjs/operators\";\r\n\r\nexport class SchemaUtils {\r\n    schemaManager: SchemaManagerService;\r\n    cacheService: any;\r\n\r\n    constructor(_serviceCache: any) {\r\n        this.init(_serviceCache);\r\n    }\r\n    \r\n    private init(_serviceCache: any) {\r\n        this.schemaManager = _serviceCache.schemaManagerService;\r\n        this.cacheService = _serviceCache.cacheService;\r\n    }\r\n    /**\r\n     * è·åæ ¼å¼æ¹æ¡ä¿¡æ¯\r\n     * @param option åæ°éç½®é¡¹ \r\n     * { schemaId: æ¹æ¡ID, schemaValue: æ ¼å¼æ¹æ¡ï¼äº¤åè¡¨æå¿«éè¨­ç½®æä½¿ç¨ï¼, controlType: æ¥è¯¢ç±»åï¼list  treelist  crosstab, queryId: æ¥è¯¢ID, queryRelativeUrlï¼eapiåºç¡uri, groupType: æ¹æ¡åç»æ è¯ }\r\n     * @returns æ¹æ¡åè¡¨\r\n     */\r\n    getSchemaInfo(option: any): Observable<any> {\r\n        const self = this;\r\n        option.schemaId = option.schemaId === 'prefab' || option.schemaId === '1'\r\n            ? '1'\r\n            : option.schemaValue && option.schemaValue.id && option.controlType === 'crosstab'\r\n                ? option.schemaValue.id\r\n                : option.schemaId;\r\n        if (!option.schemaId) {\r\n            return self.getDefaultSchemaInfo(option);\r\n        } else {\r\n            const organizationId = this.cacheService.get(RtfServices.getTabId(option.queryId) + 'organizationId') || '';\r\n            const result$ = this.schemaManager.getSchema(option.schemaId, option.queryId, option.queryRelativeUrl, option.groupType, organizationId, option.fromCache);\r\n            return result$.pipe(\r\n                switchMap((schemaValue: any) => {\r\n                    if (schemaValue && schemaValue['id']) {\r\n                        return of(schemaValue);\r\n                    }\r\n                })\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * è·åé»è®¤æ ¼å¼æ¹æ¡\r\n     * @param option åæ°éç½®é¡¹ \r\n     * { queryIdï¼æ¥è¯¢ID, queryRelativeUrlï¼eapiåºç¡uri, groupType: æ¹æ¡åç»æ è¯ }\r\n     * @returns é»è®¤æ ¼å¼æ¹æ¡\r\n     */\r\n    getDefaultSchemaInfo(option: any) {\r\n        const organizationId = this.cacheService.get(RtfServices.getTabId(option.queryId) + 'organizationId') || '';\r\n        return this.schemaManager.getDefaultSchema(option.queryId, option.queryRelativeUrl, option.groupType, organizationId);\r\n    }\r\n}","import { FormErrorService } from \"@farris/command-services\";\r\nimport { EventBus, RtfServices, LcpService } from \"@qdp/common\";\r\nimport { filter } from 'lodash-es';\r\n\r\ndeclare var GC: any;\r\ndeclare var TreeCellType: any;\r\ndeclare var MyNumFormatter: any;\r\ndeclare var FilterCellType: any;\r\ndeclare var SortCellType: any;\r\ndeclare var gspframeworkService: any;\r\n\r\nexport class SpreadStyleUtils {\r\n    dataStyleArray: any[] = [];\r\n    dataRowHeightArray: any[] = [];\r\n    dataColInfoArray: any[] = [];\r\n    footerStyleArray: any[] = [];\r\n    footerRowHeightArray: any[] = [];\r\n    footerSpansArray: any[] = [];\r\n    footerDataArray: any[] = [];\r\n    hyperLinkQuery: any = {};\r\n    private autoFitColumnIndex = 0;\r\n    type: any;\r\n    queryId: any;\r\n    valueHeaderRowCount = 0; // å¼ç»´åº¦æ°é\r\n    valueHeaderRowArray: number[] = [];\r\n    rowHeadersColumnCount = 0; // è¡æ é¢åæ°\r\n    rowHeaderRowArray: number[] = [];\r\n    rowHeaderInfo: any;\r\n    valInfo: any;\r\n    joinParam: any = {};\r\n    jointsearchInfoList: any;\r\n    cache: any;\r\n    loadService: any;\r\n    msgService: any;\r\n    localizeService: any;\r\n    schemaManager: any;\r\n    formErrorService: FormErrorService;\r\n    lcpService: any;\r\n\r\n    constructor(_queryId: any, _controlType: any, _jointsearchInfoList?: any, _serviceCache?: any) {\r\n        this.queryId = _queryId;\r\n        this.type = _controlType;\r\n        this.jointsearchInfoList = _jointsearchInfoList;\r\n        this.cache = _serviceCache.cacheService;\r\n        this.loadService = _serviceCache.loadingService;\r\n        this.msgService = _serviceCache.msgService;\r\n        this.localizeService = _serviceCache.localizeService;\r\n        this.schemaManager = _serviceCache.schemaManagerService;\r\n        this.formErrorService = _serviceCache.formErrorService;\r\n        this.lcpService = _serviceCache.lcpService;\r\n    }\r\n\r\n    setAutoFitColumn(schema: any, sheet: any) {\r\n        if (schema && schema.schemaValue && schema.schemaValue.columnOption && schema.schemaValue.columnOption.colList && schema.schemaValue.columnOption.colList.length) {\r\n            this.autoFitColumnIndex = 0;\r\n            schema.schemaValue.columnOption.colList.forEach((col: any) => {\r\n                this.recursionAutoFitColumn(col, null, sheet);\r\n            });\r\n        }\r\n    }\r\n\r\n    private recursionAutoFitColumn(column: any, childList: any[], sheet: any) {\r\n        if (column) {\r\n            if (column.childList && column.childList.length) {\r\n                this.recursionAutoFitColumn(null, column.childList, sheet);\r\n            } else {\r\n                if (column.autoFit) {\r\n                    sheet.autoFitColumn(this.autoFitColumnIndex);\r\n                }\r\n                this.autoFitColumnIndex += 1;\r\n            }\r\n        } else {\r\n            childList.forEach((col: any) => {\r\n                if (col.childList && col.childList.length) {\r\n                    this.recursionAutoFitColumn(null, col.childList, sheet);\r\n                } else {\r\n                    if (col.autoFit) {\r\n                        sheet.autoFitColumn(this.autoFitColumnIndex);\r\n                    }\r\n                    this.autoFitColumnIndex += 1;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    cacheStyle(sheet: any) {\r\n        this.dataStyleArray = [];\r\n        this.dataRowHeightArray = [];\r\n        this.dataColInfoArray = [];\r\n        this.footerStyleArray = [];\r\n        this.footerRowHeightArray = [];\r\n        this.footerSpansArray = [];\r\n        this.footerDataArray = [];\r\n\r\n        // ç¼å­åºåæ ·å¼ä¿¡æ¯\r\n        for (let r = 0; r < sheet.getRowCount(); r++) {\r\n            const columnStyleArray = new Array();\r\n            const dataArray = new Array();\r\n            for (let c = 0; c < sheet.getColumnCount(); c++) {\r\n                if (r === 0) {\r\n                    let formatter = '';\r\n                    if (sheet.getFormatter(r, c, GC.Spread.Sheets.SheetArea.viewport)) {\r\n                        formatter = sheet.getFormatter(r, c, GC.Spread.Sheets.SheetArea.viewport);\r\n                    }\r\n                    const colHeaderCount = sheet.getRowCount(GC.Spread.Sheets.SheetArea.colHeader);\r\n                    const colInfo: any = {\r\n                        name: sheet.getCell(r, c, GC.Spread.Sheets.SheetArea.viewport).value(),\r\n                        size: sheet.getColumnWidth(c, GC.Spread.Sheets.SheetArea.viewport),\r\n                        visible: sheet.getColumnVisible(c, GC.Spread.Sheets.SheetArea.viewport),\r\n                        resizable: sheet.getColumnResizable(c, GC.Spread.Sheets.SheetArea.viewport),\r\n                        formatter: formatter.indexOf('&') >= 0 ? new MyNumFormatter(formatter) : formatter,\r\n                        displayName: sheet.getCell((colHeaderCount - 1), c, GC.Spread.Sheets.SheetArea.colHeader).value()\r\n                    };\r\n                    this.dataColInfoArray.push(colInfo);\r\n                }\r\n                let style = sheet.getStyle(r, c, GC.Spread.Sheets.SheetArea.viewport);\r\n                if (style == null) {\r\n                    style = new GC.Spread.Sheets.Style();\r\n                    style.locked = true;\r\n                } else {\r\n                    style.locked = true;\r\n                }\r\n                if (style && style.formatter && style.formatter.indexOf('&') >= 0) {\r\n                    style.formatter = new MyNumFormatter(style.formatter);\r\n                }\r\n                columnStyleArray.push(style);\r\n\r\n                const text = sheet.getValue(r, c, GC.Spread.Sheets.SheetArea.viewport)\r\n                    || sheet.getText(r, c, GC.Spread.Sheets.SheetArea.viewport)\r\n                    || '';\r\n                dataArray.push(text);\r\n\r\n            }\r\n            if (r === 0) {\r\n                this.dataRowHeightArray.push(sheet.getRowHeight(r));\r\n                this.dataStyleArray.push(columnStyleArray);\r\n            } else {\r\n                this.footerRowHeightArray.push(sheet.getRowHeight(r));\r\n                this.footerStyleArray.push(columnStyleArray);\r\n                this.footerDataArray.push(dataArray);\r\n            }\r\n        }\r\n\r\n        // ç¼å­span\r\n        const spans = sheet.getSpans();\r\n        if (spans && spans.length) {\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < spans.length; i++) {\r\n                if (spans[i].row > 0) {\r\n                    this.footerSpansArray.push(spans[i]);\r\n                }\r\n            }\r\n        }\r\n        sheet.deleteRows(1, sheet.getRowCount() - 1);\r\n    }\r\n\r\n    applyStyle(sheet: any, schema: any, showZero?: boolean) {\r\n        let rowCount = sheet.getRowCount();\r\n        const colCount = sheet.getColumnCount();\r\n        const footerCount = this.footerRowHeightArray.length;\r\n        sheet.addRows(rowCount, footerCount);\r\n        let index = 0;\r\n        const groupFieldCache = [];\r\n        const groupFieldValueCache = [];\r\n        const groupRowCache = [];\r\n        const groupTreeLevel = {};\r\n        const columns = sheet.toJSON().columns;\r\n        this.getGroupField(groupFieldCache, schema);\r\n        const formatFieldCache = [];\r\n        this.getFormatField(formatFieldCache, schema);\r\n        this.getIsRedColumns(formatFieldCache, schema);\r\n        const isRedColumns = {\r\n            colIndex: 0,\r\n            isRedColumns: []\r\n        };\r\n        this.getIsRedColumns(schema, isRedColumns);\r\n        const sheetColumns = sheet.toJSON().columns;\r\n        for (let r = 0; r < (rowCount + footerCount); r++) {\r\n            if (formatFieldCache && formatFieldCache.length && r < rowCount) {\r\n                formatFieldCache.forEach((item: any) => {\r\n                    const dataItem = sheet.getDataItem(r);\r\n                    const precision = dataItem[item.formatField] - 0;\r\n                    let numberFormat = item.formatter && (item.formatter.indexOf('#,###') >= 0 || item.formatter.indexOf('#,##0') >= 0) ? '#,##0.' : '0.';\r\n                    if (this.isNumber(precision)) {\r\n                        for (let p = 0; p < precision; p++) {\r\n                            numberFormat += '0';\r\n                        }\r\n                    }\r\n                    const formatColIndex = sheetColumns.findIndex((el: any) => el.name == item.sourceField);\r\n                    if (formatColIndex >= 0 && numberFormat != '0.' && numberFormat != '#,##0.') {\r\n                        sheet.getCell(r, formatColIndex).formatter(numberFormat);\r\n                    }\r\n                });\r\n            }\r\n\r\n            for (let c = 0; c < colCount; c++) {\r\n                if (r === 0 && !sheet.getColumnVisible(index)) {\r\n                    index += 1;\r\n                }\r\n                if (r >= rowCount) {\r\n                    if (c === 0) {\r\n                        sheet.setStyle(r, c, this.footerStyleArray[r - rowCount][c]);\r\n                        if (this.footerDataArray && this.footerDataArray.length) {\r\n                            sheet.setValue(r, c, this.footerDataArray[r - rowCount][c]);\r\n                        }\r\n                        sheet.setRowHeight(r, this.footerRowHeightArray[r - rowCount]);\r\n                        if (this.footerSpansArray && this.footerSpansArray.length) {\r\n                            sheet.addSpan(r, this.footerSpansArray[0].col, this.footerSpansArray[0].rowCount, this.footerSpansArray[0].colCount);\r\n                        }\r\n                    }\r\n                } else {\r\n                    const formatter = sheet.getFormatter(r, c, GC.Spread.Sheets.SheetArea.viewport);\r\n                    if (formatter && formatter.indexOf && formatter.indexOf('/') >= 0 && formatter.indexOf(';') >= 0) {\r\n                        const cellValue = this.logicFormat(formatter, sheet.getValue(r, c));\r\n                        sheet.setText(r, c, cellValue);\r\n                    }\r\n                    if (formatter && typeof formatter === 'string' && (formatter.indexOf('yy') >= 0 || formatter.indexOf('MM') >= 0 || formatter.indexOf('dd') >= 0 || formatter.indexOf('HH') >= 0 || formatter.indexOf('mm') >= 0 || formatter.indexOf('ss') >= 0)) {\r\n                        if (sheet.getDataItem(r).hasOwnProperty(\"qdp_data_flag\")) {\r\n                            sheet.setFormatter(r, c, '');\r\n                        }\r\n                    }\r\n                    if (isRedColumns.isRedColumns.findIndex(el => el.colIndex == c) >= 0 && this.isNumber(sheet.getCell(r, c).value()) && (sheet.getCell(r, c).value() - 0 < 0)) {\r\n                        sheet.getCell(r, c).foreColor('red');\r\n                    }\r\n                    if (!showZero) {\r\n                        if (!showZero && columns && columns.length) {\r\n                            if (columns[c].name === 'treeLevel' || columns[c].name === 'isDetail') { continue; }\r\n                            if (sheet.getCell(r, c).value() === 0 || sheet.getCell(r, c).value() == '0') {\r\n                                sheet.getCell(r, c).value('');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (r < rowCount) {\r\n                // è®¾ç½®è¡é«\r\n                sheet.setRowHeight(r, this.dataRowHeightArray[0]);\r\n                if (this.type === 'treelist') {\r\n                    const level = sheet.getDataItem(r)['treeLevel'];\r\n                    const isDetail = sheet.getDataItem(r)['isDetail'];\r\n                    sheet.setCellType(r, index, new TreeCellType(null, false, level, isDetail));\r\n                    sheet.getStyle(r, index).hAlign = 0;\r\n                    sheet.getStyle(r, index).textIndent = level + 2;\r\n                    for (let i = 0; i <= level; i++) {\r\n                        sheet.rowOutlines.group(r, 1);\r\n                    }\r\n                } else if (this.type === 'list' && groupFieldCache.length) {\r\n                    let filterCondition: any = {};\r\n                    if (groupRowCache.findIndex(x => x === r) >= 0) {\r\n                        continue;\r\n                    }\r\n                    for (let c = 0; c < colCount; c++) {\r\n                        if (sheet.getDataItem(r).hasOwnProperty(\"qdp_data_flag\") && (sheet.getDataItem(r)[\"qdp_data_flag\"] + '') === (4 + '')) {\r\n                            if (sheet.getFormatter(r, c) && (sheet.getFormatter(r, c).toString().indexOf('y') >= 0 || sheet.getFormatter(r, c).toString().indexOf('d') >= 0 || sheet.getFormatter(r, c).toString().indexOf('M') >= 0)) {\r\n                                sheet.setFormatter(r, c, '');\r\n                            }\r\n                        }\r\n                    }\r\n                    const addRowsCache = [];\r\n                    for (let i = 0; i < groupFieldCache.length; i++) {\r\n                        const addRowIndex = r + addRowsCache.length;\r\n                        // const groupField = groupFieldCache[i];\r\n                        const fieldIndex = this.dataColInfoArray.findIndex(x => x.name === groupFieldCache[i]);\r\n                        filterCondition = {};\r\n                        for (let f = 0; f <= i; f++) {\r\n                            filterCondition[groupFieldCache[f]] = sheet.getDataItem(addRowIndex)[groupFieldCache[f]];\r\n                        }\r\n                        const filterResult = filter(groupFieldValueCache, filterCondition);\r\n                        if ((!filterResult || !filterResult.length) && !sheet.getDataItem(addRowIndex).hasOwnProperty(\"qdp_data_flag\")) {\r\n                            // const groupFieldValue = {};\r\n                            // groupFieldValue[groupField] = filterCondition[groupField];\r\n                            groupFieldValueCache.push(filterCondition);\r\n                            const style = this.dataStyleArray[0][fieldIndex];\r\n                            style.hAlign = 0;\r\n                            style.cellType = null;\r\n                            style.backColor = '#F4F7FA';\r\n                            sheet.addRows(addRowIndex, 1);\r\n                            sheet.setRowHeight(addRowIndex, this.dataRowHeightArray[0]);\r\n                            sheet.setStyle(addRowIndex, index, style);\r\n                            sheet.getCell(addRowIndex, index).value(filterCondition[groupFieldCache[i]]);\r\n                            sheet.addSpan(addRowIndex, index, 1, (colCount - index));\r\n                            sheet.getCell(addRowIndex, index).textIndent((i + 1) * 2);\r\n                            groupTreeLevel[addRowIndex + ''] = { treeLevel: i, isDetail: 0 };\r\n                            if (i === (groupFieldCache.length - 1)) {\r\n                                groupTreeLevel[(addRowIndex + 1) + ''] = { treeLevel: groupFieldCache.length, isDetail: 1 };\r\n                            }\r\n                            rowCount += 1;\r\n                            addRowsCache.push(i);\r\n                            groupRowCache.push(addRowIndex);\r\n                        } else {\r\n                            if (sheet.getDataItem(addRowIndex).hasOwnProperty(\"qdp_data_flag\") && (sheet.getDataItem(addRowIndex)[\"qdp_data_flag\"] + '') === (3 + '')) {\r\n                                continue;\r\n                            }\r\n                            if (i === (groupFieldCache.length - 1)) {\r\n                                groupTreeLevel[(addRowIndex + 1) + ''] = { treeLevel: groupFieldCache.length, isDetail: 1 };\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let r = 0; r < rowCount; r++) {\r\n            if (!groupTreeLevel.hasOwnProperty(r)) {\r\n                break;\r\n            }\r\n            for (let t = 0; t <= groupTreeLevel[r + ''].treeLevel; t++) {\r\n                sheet.rowOutlines.group(r, 1);\r\n            }\r\n            sheet.setCellType(r, index, new TreeCellType(null, false, groupTreeLevel[r + ''].treeLevel, groupTreeLevel[r + ''].isDetail));\r\n        }\r\n        if (this.type !== 'crosstab' && this.getShowFilterRow(schema)) {\r\n            this.filterRow(sheet);\r\n        }\r\n    }\r\n\r\n    getGroupField(groupColCache: any, schema: any) {\r\n        if (schema && schema.schemaValue && schema.schemaValue.columnOption && schema.schemaValue.columnOption.colList && schema.schemaValue.columnOption.colList.length) {\r\n            this.autoFitColumnIndex = 0;\r\n            schema.schemaValue.columnOption.colList.forEach((col: any) => {\r\n                this.recursionGetGroupColumn(groupColCache, col, null);\r\n            });\r\n        }\r\n    }\r\n\r\n    getIsRedColumns(schema: any, params: any) {\r\n        if (schema && schema.schemaValue && schema.schemaValue.columnOption && schema.schemaValue.columnOption.colList && schema.schemaValue.columnOption.colList.length) {\r\n            schema.schemaValue.columnOption.colList.forEach((col: any) => {\r\n                this.recursiveIsRedColumn(col, null, params);\r\n            });\r\n        }\r\n    }\r\n\r\n    getFormatField(fieldCache: any, schema: any) {\r\n        if (schema && schema.schemaValue && schema.schemaValue.columnOption && schema.schemaValue.columnOption.colList && schema.schemaValue.columnOption.colList.length) {\r\n            this.autoFitColumnIndex = 0;\r\n            schema.schemaValue.columnOption.colList.forEach((col: any) => {\r\n                this.recursionGetFormatColumn(fieldCache, col, null);\r\n            });\r\n        }\r\n    }\r\n\r\n    getShowHeaderSort(schema: any) {\r\n        try {\r\n            if (schema && schema.schemaValue && schema.schemaValue.otherOption && schema.schemaValue.otherOption.showHeaderSort != null && schema.schemaValue.otherOption.showHeaderSort != undefined) {\r\n                return schema.schemaValue.otherOption.showHeaderSort;\r\n            }\r\n            return true;\r\n        } catch (e) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    getShowFilterRow(schema: any) {\r\n        try {\r\n            if (schema && schema.schemaValue && schema.schemaValue.otherOption && schema.schemaValue.otherOption.showFilterRow != null && schema.schemaValue.otherOption.showFilterRow != undefined) {\r\n                return schema.schemaValue.otherOption.showFilterRow;\r\n            }\r\n            return true;\r\n        } catch (e) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    getMergeCell(schema: any) {\r\n        try {\r\n            if (schema && schema.schemaValue && schema.schemaValue.otherOption && schema.schemaValue.otherOption.mergeCell != null && schema.schemaValue.otherOption.mergeCell != undefined) {\r\n                return schema.schemaValue.otherOption.mergeCell;\r\n            }\r\n            return false;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private recursionGetFormatColumn(fieldCache: any, column: any, childList: any[]) {\r\n        if (column) {\r\n            if (column.childList && column.childList.length) {\r\n                this.recursionGetFormatColumn(fieldCache, null, column.childList);\r\n            } else {\r\n                if (column.formatType == 1 && column.formatField) {\r\n                    fieldCache.push({ sourceField: column.bindField, formatField: column.formatField, formatter: column.formattor });\r\n                }\r\n            }\r\n        } else {\r\n            childList.forEach((col: any) => {\r\n                if (col.childList && col.childList.length) {\r\n                    this.recursionGetFormatColumn(fieldCache, null, col.childList);\r\n                } else {\r\n                    if (col.formatType == 1 && col.formatField) {\r\n                        fieldCache.push({ sourceField: col.bindField, formatField: col.formatField, formatter: col.formattor });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private recursionGetGroupColumn(groupColCache: any, column: any, childList: any[]) {\r\n        if (column) {\r\n            if (column.childList && column.childList.length) {\r\n                this.recursionGetGroupColumn(groupColCache, null, column.childList);\r\n            } else {\r\n                if (column.isGroup) {\r\n                    groupColCache.push(column.bindField);\r\n                }\r\n            }\r\n        } else {\r\n            childList.forEach((col: any) => {\r\n                if (col.childList && col.childList.length) {\r\n                    this.recursionGetGroupColumn(groupColCache, null, col.childList);\r\n                } else {\r\n                    if (col.isGroup) {\r\n                        groupColCache.push(col.bindField);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    logicFormat(formattor: any, cellValue: any) {\r\n        const str = formattor.split(';');\r\n        const real = str[0].split('/');\r\n        const disp = str[1].split('/');\r\n        for (let i = 0; i < real.length; i++) {\r\n            // tslint:disable-next-line:triple-equals\r\n            if (real[i] == (cellValue + '')) {\r\n                cellValue = disp[i];\r\n                break;\r\n            }\r\n        }\r\n        return cellValue;\r\n    }\r\n\r\n    filterRow(sheet: any) {\r\n        sheet.addRows(0, 1);\r\n        for (let i = 0; i < sheet.getRowCount(); i++) {\r\n            sheet.getCell(i, 0, GC.Spread.Sheets.SheetArea.rowHeader).value(i == 0 ? '' : i);\r\n        }\r\n        sheet.setRowHeight(0, this.dataRowHeightArray[0]);\r\n        for (let i = 0; i < sheet.getColumnCount(); i++) {\r\n            const s = new GC.Spread.Sheets.Style();\r\n            s.fromJSON(this.dataStyleArray[0][i].toJSON());\r\n            s.locked = false;\r\n            s.formatter = '@';\r\n            sheet.setStyle(0, i, s);\r\n            sheet.setCellType(0, i, new FilterCellType(sheet));\r\n        }\r\n        const filter = new GC.Spread.Sheets.Filter.HideRowFilter(new GC.Spread.Sheets.Range(1, 0, sheet.getRowCount(), sheet.getColumnCount()));\r\n        sheet.rowFilter(filter);\r\n        filter.filterButtonVisible(false);\r\n    }\r\n\r\n    linkField(spread: any, sheet: any) {\r\n        try {\r\n            const self = this;\r\n            const rowCount = sheet.getRowCount();\r\n            const colCount = sheet.getColumnCount();\r\n            // const footerCount = this.footerRowHeightArray.length;\r\n            for (let r = 1; r < (rowCount); r++) {\r\n                const dataItem = sheet.getDataItem(r);\r\n                if (dataItem.hasOwnProperty('dynamicPropSet') && dataItem.dynamicPropSet.hasOwnProperty('qdp_data_flag')) {\r\n                    continue;\r\n                }\r\n                for (let c = 0; c < colCount; c++) {\r\n                    const joinSearch = JSON.parse(this.jointsearchInfoList['joinSearch']);\r\n                    // tslint:disable-next-line:prefer-for-of\r\n                    for (let i = 0; i < joinSearch.length; i++) {\r\n                        const el = joinSearch[i];\r\n                        if (el.jointserachdisplaystyle === 2) {\r\n                            if (el.linkfield === this.dataColInfoArray[c].name) {\r\n                                if (!this.hyperLinkQuery[this.queryId]) {\r\n                                    this.hyperLinkQuery[this.queryId] = {};\r\n                                }\r\n                                this.hyperLinkQuery[this.queryId][c + ''] = el;\r\n                                const h1 = new GC.Spread.Sheets.CellTypes.HyperLink();\r\n                                h1.text(h1.format(sheet.getCell(r, c).value(), this.dataColInfoArray[c].formatter));\r\n                                h1.activeOnClick(true);\r\n                                h1.onClickAction(function () {\r\n                                    spread.commandManager().execute({\r\n                                        cmd: 'dropdownquery',\r\n                                        self: self\r\n                                    });\r\n                                });\r\n                                sheet.setCellType(r, c, h1, GC.Spread.Sheets.SheetArea.viewport);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            spread.commandManager().register('dropdownquery', {\r\n                canUndo: true,\r\n                execute: function (context, options, isUndo) {\r\n                    const row = context.getActiveSheet().getActiveRowIndex();\r\n                    const col = context.getActiveSheet().getActiveColumnIndex();\r\n                    for (const key in options.self.hyperLinkQuery[options.self.queryId]) {\r\n                        if (key === (col + '')) {\r\n                            const el = options.self.hyperLinkQuery[options.self.queryId][key];\r\n                            let entityParam = { 'id': 'null' };\r\n                            const paramMap = new Map<string, string>();\r\n                            const searchparas = JSON.parse(options.self.jointsearchInfoList['jointparam']).filter(x => x.functionid === el['id']);\r\n                            const joinParam = options.self.cache.get(RtfServices.getTabId(options.self.queryId) + 'joinSearch');\r\n                            let dataItem = { 'id': 'null' };\r\n                            if (joinParam.controlType === 'crosstab') { // äº¤åè¡¨\r\n                                // è·åè¡æ é¢çæ°æ®\r\n                                for (let i = joinParam.rowHeaderColInfo.start; i < joinParam.rowHeaderColInfo.end; i++) {\r\n                                    const value = context.getActiveSheet().getValue(row, i, GC.Spread.Sheets.SheetArea.viewport);\r\n                                    const name = context.getActiveSheet().getValue(joinParam.colHeaderRowInfo.start, i, GC.Spread.Sheets.SheetArea.colHeader);\r\n                                    const colInfo = joinParam.colInfos.find((x: any) => x.dimension === 1 && x.name === name).bindField;\r\n                                    dataItem[colInfo] = value;\r\n                                }\r\n                                // è·ååæ é¢çæ°æ®\r\n                                for (let i = joinParam.colHeaderRowInfo.start; i < joinParam.colHeaderRowInfo.end; i++) {\r\n                                    const value = context.getActiveSheet().getValue(i, col, GC.Spread.Sheets.SheetArea.colHeader);\r\n                                    const colInfo = joinParam.colInfos.filter((x: any) => x.dimension === 2)[i - joinParam.colHeaderRowInfo.start].bindField;\r\n                                    dataItem[colInfo] = value;\r\n                                }\r\n                                // è·åå¼æ é¢çæ°æ®\r\n                                const value = context.getActiveSheet().getValue(row, col, GC.Spread.Sheets.SheetArea.viewport);\r\n                                const name = context.getActiveSheet().getValue(joinParam.colHeaderRowInfo.end, col, GC.Spread.Sheets.SheetArea.colHeader);\r\n                                let colInfo = joinParam.colInfos.find((x: any) => x.dimension === 3 && x.name === name);\r\n                                if (colInfo) {\r\n                                    colInfo = colInfo.bindField;\r\n                                    dataItem[colInfo] = value;\r\n                                }\r\n                            } else {\r\n                                dataItem = context.getActiveSheet().getDataItem(row);\r\n                            }\r\n\r\n                            const currentSelectedItem = dataItem; // å½åéä¸­æ°æ®\r\n                            if (searchparas.length > 0) {\r\n                                searchparas.forEach(value => {\r\n                                    if (value.paravaluetype) {// è¡¨è¾¾å¼\r\n                                        if (value.paravalue.indexOf('getParameter(') >= 0) {\r\n                                            const parameterKey = value.paravalue.replace(/'/g, '').replace(/\"/g, '').replace(/getParameter\\(/g, '').replace(/\\)/g, '');\r\n                                            options.self.getQueryParameters(entityParam, paramMap, parameterKey, value.para);\r\n                                        } else {\r\n                                            entityParam[value.para] = currentSelectedItem[value.paravalue];\r\n                                            paramMap.set(value.para, currentSelectedItem[value.paravalue]);\r\n                                        }\r\n                                    } else {\r\n                                        entityParam[value.para] = value.paravalue;\r\n                                        paramMap.set(value.para, value.paravalue);\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                entityParam = currentSelectedItem;\r\n                            }\r\n                            const op: any = {\r\n                                ParentSessionId: options.self.cache.get('session'),\r\n                                EntityParam: entityParam\r\n                            };\r\n                            let tabId = '';\r\n                            if (el.searchtype === 'func') {\r\n                                // èæ¥å\r\n                                const openMenuoptions = {\r\n                                    'appType': 'menu',\r\n                                    'funcId': el.functioncode,\r\n                                    'tabId': EventBus.guid(),\r\n                                    'appId': '',\r\n                                    'appEntrance': '',\r\n                                    'entityParams': op.entityParam,\r\n                                    'queryStringParams': paramMap,\r\n                                    'isNewTab': true\r\n                                };\r\n                                tabId = RtfServices.getFuncId(openMenuoptions);\r\n                                options.self.cache.set(tabId ? tabId : options.self.queryId, op.EntityParam);\r\n                                const menuSwitchControl = Object.assign({}, openMenuoptions['entityParams'], RtfServices.getMenuSwitchControlParameter(tabId));\r\n                                openMenuoptions['entityParams'] = menuSwitchControl;\r\n                                // å¡çå¡è¿å»params\r\n                                gspframeworkService.rtf.func.openMenu(openMenuoptions);\r\n                            } else if (el.searchtype === 'app') {\r\n                                const appOption = {\r\n                                    appType: 'app',\r\n                                    appId: el.functioncode,\r\n                                    appEntrance: el.appEntrance,\r\n                                    funcId: '',\r\n                                    isReload: true,\r\n                                    tabId: EventBus.guid(),\r\n                                    entityParams: op.entityParam,\r\n                                    queryStringParams: paramMap\r\n                                };\r\n                                tabId = RtfServices.getFuncId(appOption);\r\n                                options.self.cache.set(tabId ? tabId : options.queryId, op.EntityParam);\r\n                                const menuSwitchControl = Object.assign({}, appOption['entityParams'], RtfServices.getMenuSwitchControlParameter(tabId));\r\n                                appOption['entityParams'] = menuSwitchControl;\r\n                                gspframeworkService.rtf.func.openMenu(appOption);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }, null, false, false, false, false);\r\n        } catch (e) { }\r\n    }\r\n\r\n    inSuiteLinkField(spread: any, sheet: any, extObj: any) {\r\n        try {\r\n            const self = this;\r\n            let data = null;\r\n            try {\r\n                if (this.lcpService.inSuiteDropDownInfo && typeof this.lcpService.inSuiteDropDownInfo == 'string') {\r\n                    data = JSON.parse(this.lcpService.inSuiteDropDownInfo);\r\n                }\r\n            } catch (e) {\r\n                throw e;\r\n            }\r\n            const rowCount = sheet.getRowCount();\r\n            const colCount = sheet.getColumnCount();\r\n            let rowDropDown = true;\r\n            const cacheRowDropDown = [];\r\n            const cacheCellDropDown = {};\r\n            // è§£æç¸å³æ°æ®\r\n            const {\r\n                click_events: clickEvents,\r\n                event_data: eventData,\r\n                double_click_event: dcEvent,\r\n                double_click_event_params: dcEventParams,\r\n                rc_event_ids: rcEventIds\r\n            } = data\r\n            if (dcEvent && !(\"{}\" == JSON.stringify(dcEvent)) && dcEventParams && !(\"{}\" == JSON.stringify(dcEventParams))) {\r\n                rowDropDown = true;\r\n                for (let key in dcEventParams) {\r\n                    cacheRowDropDown.push(key);\r\n                }\r\n            } else if (eventData && !(\"{}\" == JSON.stringify(eventData))) {\r\n                rowDropDown = false;\r\n                for (let key in eventData) {\r\n                    if (eventData[key]) {\r\n                        const cellIndex = [];\r\n                        cacheCellDropDown[key] = cellIndex;\r\n                        for (let key1 in eventData[key]) {\r\n                            cacheCellDropDown[key].push(key1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (let r = 1; r < (rowCount); r++) {\r\n                const dataItem = sheet.getDataItem(r);\r\n                if (dataItem.hasOwnProperty('dynamicPropSet') && dataItem.dynamicPropSet.hasOwnProperty('qdp_data_flag')) {\r\n                    continue;\r\n                }\r\n                for (let c = 0; c < colCount; c++) {\r\n                    if (rowDropDown) {\r\n                        for (let i = 0; i < cacheRowDropDown.length; i++) {\r\n                            if (r == (cacheRowDropDown[i] - 0)) {\r\n                                const h1 = new GC.Spread.Sheets.CellTypes.HyperLink();\r\n                                const formatter = sheet.getFormatter(r, c);\r\n                                h1.text(h1.format(sheet.getCell(r, c).value(), formatter));\r\n                                h1.activeOnClick(true);\r\n                                h1.onClickAction(function () {\r\n                                    spread.commandManager().execute({\r\n                                        cmd: 'dropdownquery',\r\n                                        self: self\r\n                                    });\r\n                                });\r\n                                sheet.setCellType(r, c, h1, GC.Spread.Sheets.SheetArea.viewport);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (let key in cacheCellDropDown) {\r\n                            if ((r + '') === key) {\r\n                                for (let i = 0; i < cacheCellDropDown[key].length; i++) {\r\n                                    const h1 = new GC.Spread.Sheets.CellTypes.HyperLink();\r\n                                    const formatter = sheet.getFormatter(r, cacheCellDropDown[key][i]);\r\n                                    h1.text(h1.format(sheet.getCell(r, cacheCellDropDown[key][i]).value(), formatter));\r\n                                    h1.activeOnClick(true);\r\n                                    h1.onClickAction(function () {\r\n                                        spread.commandManager().execute({\r\n                                            cmd: 'dropdownquery',\r\n                                            self: self\r\n                                        });\r\n                                    });\r\n                                    sheet.setCellType(r, cacheCellDropDown[key][i], h1, GC.Spread.Sheets.SheetArea.viewport);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            spread.commandManager().register('dropdownquery', {\r\n                canUndo: true,\r\n                execute: function (context, options, isUndo) {\r\n                    const row = context.getActiveSheet().getActiveRowIndex();\r\n                    const col = context.getActiveSheet().getActiveColumnIndex();\r\n                    // åå»äºä»¶çé»è¾\r\n                    let event, params;\r\n                    // è¡ç¹å»æ°æ®\r\n                    if (dcEvent && !(\"{}\" == JSON.stringify(dcEvent)) && dcEventParams && !(\"{}\" == JSON.stringify(dcEventParams))) {\r\n                        event = dcEvent;\r\n                        // args.rowä¸ºè¡åºå·ï¼ä¸å\r\n                        params = dcEventParams[row];\r\n                        // å¦æeventDataæ°æ®ä¸ä¸ºç©ºï¼å¹¶ä¸å¯¹åºè¡çæ°æ®ä¹ä¸ä¸ºç©º\r\n                        // ååæ ¼æ°æ®\r\n                    } else if (eventData && !(\"{}\" == JSON.stringify(eventData)) && eventData[row] && !(\"{}\" == JSON.stringify(eventData[row]))) {\r\n                        let thisEventId;\r\n                        // å¦æå¯¹åºè¡åå«-1ï¼åå-1ä¸­çæ°æ®, å¦ååå¯¹åºåå·çæ°æ®\r\n                        // args.colä¸ºååºå·\r\n                        let thisEventData = eventData[row][-1] || eventData[row][col];\r\n                        if (thisEventData && !(\"{}\" == JSON.stringify(thisEventData))) {\r\n                            if (!rcEventIds && rcEventIds.length) {\r\n                                const obj = {};\r\n                                for (let key in thisEventData) {\r\n                                    if (rcEventIds.findIndex((el: any) => el == key) < 0) {\r\n                                        obj[key] = thisEventData[key];\r\n                                    }\r\n                                }\r\n                                thisEventData = obj;\r\n                            }\r\n                            let index = 0;\r\n                            for (let key in thisEventData) {\r\n                                if (index == 0) {\r\n                                    thisEventId = key;\r\n                                } else {\r\n                                    break;\r\n                                }\r\n                                index++;\r\n                            }\r\n                            params = thisEventData[thisEventId];\r\n                        }\r\n\r\n                        // æ ¹æ®event idè·åevent\r\n                        if (thisEventId != null && thisEventId != undefined) {\r\n                            event = clickEvents[thisEventId] && !(\"{}\" == JSON.stringify(clickEvents[thisEventId])) ? clickEvents[thisEventId].event : {};\r\n                        }\r\n                    }\r\n                    let message;\r\n                    if (!(\"{}\" == JSON.stringify(event)) && !(\"{}\" == JSON.stringify(params))) {\r\n                        // è¿åæ°æ®\r\n                        message = { type: 'cellAction', event, params, defaults: data.defaults };\r\n                    }\r\n                    if (message) {\r\n                        try {\r\n                            extObj.inSuiteWindow().postMessage(message, location.origin)\r\n                        } catch (e) {\r\n                            console.log(e);\r\n                        }\r\n                    }\r\n                }\r\n            }, null, false, false, false, false);\r\n        } catch (e) { }\r\n    }\r\n\r\n    private getQueryParameters(entityParam: any, paramMap: any, parameterKey: any, key: any) {\r\n        try {\r\n            const tab = gspframeworkService.rtf.session.getCommonVariable();\r\n            if (tab && tab.tabId) {\r\n                const tid = tab.tabId + RtfServices.getInSuiteFrmUUID();\r\n                if (this.cache.get(tid) && this.cache.get(tid)[parameterKey]) {\r\n                    entityParam[key] = this.cache.get(tid)[parameterKey];\r\n                    paramMap.set(key, this.cache.get(tid)[parameterKey]);\r\n                }\r\n            }\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    bindSelectChanged(spread: any, queryId: any) {\r\n        const self = this;\r\n        spread.bind(GC.Spread.Sheets.Events.SelectionChanging, function (e: any, args: any) {\r\n            const tempData = {};\r\n            const selection = args.newSelections.pop();\r\n            const sheetArea = args.sheetArea === 0 ? 'sheetCorner' : args.sheetArea === 1 ? 'columnHeader' : args.sheetArea === 2 ? 'rowHeader' : 'viewPort';\r\n            if (selection) {\r\n                tempData['SpreadEvent'] = GC.Spread.Sheets.Events.SelectionChanging;\r\n                tempData['sheetArea'] = sheetArea;\r\n                tempData['row'] = selection.row;\r\n                tempData['column'] = selection.col;\r\n                tempData['rowCount'] = selection.rowCount;\r\n                tempData['colCount'] = selection.colCount;\r\n                this.selectChanging = tempData;\r\n            }\r\n        });\r\n        spread.bind(GC.Spread.Sheets.Events.CellClick, function (e: any, args: any) {\r\n            // è§£æå½åéä¸­çæ°æ®\r\n            const dataItems = [];\r\n            // èå¨åæ°\r\n            let linkageParams = {};\r\n            for (let rowIndex = 0; rowIndex < this.selectChanging.rowCount; rowIndex++) {\r\n                if (self.joinParam.controlType !== 'crosstab') {\r\n                    const dataItem = args.sheet.getDataItem(rowIndex + this.selectChanging.row);\r\n                    linkageParams = dataItem;\r\n                    dataItems.push(dataItem);\r\n                } else {\r\n                    if (this.selectChanging.column === -1) {\r\n                        this.selectChanging.colCount = this.selectChanging.colCount + 1;\r\n                    }\r\n                    for (let colIndex = 0; colIndex < this.selectChanging.colCount; colIndex++) {\r\n                        const dataItem = {};\r\n                        if (self.joinParam.controlType === 'crosstab') { // äº¤åè¡¨\r\n                            if (args.sheetArea === 1) {\r\n                                this.selectChanging.row = 0;\r\n                            }\r\n                            if (colIndex + this.selectChanging.column < self.joinParam.rowHeaderColInfo.end) {\r\n                                continue;\r\n                            }\r\n                            // è·åè¡æ é¢çæ°æ®\r\n                            for (let i = self.joinParam.rowHeaderColInfo.start; i < self.joinParam.rowHeaderColInfo.end; i++) {\r\n                                const value = args.sheet.getValue(rowIndex + this.selectChanging.row, i, GC.Spread.Sheets.SheetArea.viewport);\r\n                                const name = args.sheet.getValue(self.joinParam.colHeaderRowInfo.start, i, GC.Spread.Sheets.SheetArea.colHeader);\r\n                                const colInfo = self.joinParam.colInfos.find((x: any) => x.dimension === 1 && x.name === name).bindField;\r\n                                dataItem[colInfo] = value;\r\n                            }\r\n                            // è·ååæ é¢çæ°æ®\r\n                            for (let i = self.joinParam.colHeaderRowInfo.start; i < self.joinParam.colHeaderRowInfo.end; i++) {\r\n                                const value = args.sheet.getValue(i, colIndex + this.selectChanging.column, GC.Spread.Sheets.SheetArea.colHeader);\r\n                                const colInfo = self.joinParam.colInfos.filter((x: any) => x.dimension === 2)[i - self.joinParam.colHeaderRowInfo.start].bindField;\r\n                                dataItem[colInfo] = value;\r\n                            }\r\n                            // è·åå¼æ é¢çæ°æ®\r\n                            const value = args.sheet.getValue(rowIndex + this.selectChanging.row, colIndex + this.selectChanging.column, GC.Spread.Sheets.SheetArea.viewport);\r\n                            const name = args.sheet.getValue(self.joinParam.colHeaderRowInfo.end, colIndex + this.selectChanging.column, GC.Spread.Sheets.SheetArea.colHeader);\r\n\r\n                            const colInfo = self.joinParam.colInfos.find((x: any) => x.dimension === 3 && x.name === name).bindField;\r\n                            dataItem[colInfo] = value;\r\n                        }\r\n                        linkageParams = dataItem;\r\n                        dataItems.push(dataItem);\r\n                    }\r\n                }\r\n            }\r\n            // spread èå¨äºä»¶\r\n            EventBus.dispatch(queryId + '_spread_change', linkageParams);\r\n        });\r\n    }\r\n\r\n    setSortCellType(sheet: any, schema: any, qdpView: any) {\r\n        const self = this;\r\n        const header = sheet.getRowCount(GC.Spread.Sheets.SheetArea.colHeader);\r\n        for (let i = 0; i < sheet.getColumnCount(); i++) {\r\n            const span = sheet.getSpan(header - 1, i, GC.Spread.Sheets.SheetArea.colHeader);\r\n            if (span && span.rowCount > 1) {\r\n                sheet.setCellType(header - span.rowCount, i, new SortCellType(self.columnSort.bind(self), schema, qdpView), GC.Spread.Sheets.SheetArea.colHeader);\r\n            } else {\r\n                sheet.setCellType(header - 1, i, new SortCellType(self.columnSort.bind(self), schema, qdpView), GC.Spread.Sheets.SheetArea.colHeader);\r\n            }\r\n        }\r\n    }\r\n\r\n    mergeCell(sheet: any, schema: any) {\r\n        if (!this.getMergeCell(schema)) {\r\n            return;\r\n        }\r\n        const groupFieldCache1 = [];\r\n        this.getGroupField(groupFieldCache1, schema);\r\n        if (groupFieldCache1.length) {\r\n            return;\r\n        }\r\n        const columnCount = sheet.getColumnCount();\r\n        const rowCount = sheet.getRowCount();\r\n        let beginRowIndex = 0;\r\n        if (this.getShowFilterRow(schema)) {\r\n            beginRowIndex = 1;\r\n        }\r\n        // æ£æ¥åæ°\r\n        if (columnCount < 1 || (rowCount - beginRowIndex) < 1) {\r\n            return;\r\n        }\r\n        const rowSpans = {};\r\n        let curCellValues = '';\r\n        let currentName = '';\r\n        let key = '';\r\n        for (let row = beginRowIndex; row < rowCount; row++) {\r\n            if (sheet.getDataItem(row).hasOwnProperty(\"qdp_data_flag\") &&\r\n                (\r\n                    (sheet.getDataItem(row)[\"qdp_data_flag\"] + '') === (4 + '')\r\n                    || (sheet.getDataItem(row)[\"qdp_data_flag\"] + '') === (3 + '')\r\n                    || (sheet.getDataItem(row)[\"qdp_data_flag\"] + '') === (2 + '')\r\n                    || (sheet.getDataItem(row)[\"qdp_data_flag\"] + '') === (1 + '')\r\n                )) {\r\n                continue;\r\n            }\r\n            for (let col = 0; col < columnCount; col++) {\r\n                currentName = sheet.getCell(row, col).value();\r\n                if (col == 0) {\r\n                    key = currentName;\r\n                    if (rowSpans.hasOwnProperty(key)) {\r\n                        rowSpans[key].rowCount = row - rowSpans[key].row + 1;\r\n                    } else {\r\n                        rowSpans[key] = { 'row': row, 'rowCount': 1, 'col': col, 'colCount': 1 };\r\n                    }\r\n                } else {\r\n                    curCellValues = '';\r\n                    for (let i = 0; i <= col; i++) {\r\n                        curCellValues += sheet.getCell(row, i).value();\r\n                        curCellValues += \"_&_\";\r\n                    }\r\n                    if (rowSpans.hasOwnProperty(curCellValues)) {\r\n                        rowSpans[curCellValues].rowCount = row - rowSpans[curCellValues].row + 1;\r\n                    } else {\r\n                        rowSpans[curCellValues] = { 'row': row, 'rowCount': 1, 'col': col, 'colCount': 1 };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let k in rowSpans) {\r\n            if ((rowSpans[k].rowCount == 1 && rowSpans[k].colCount == 1) == false) {\r\n                sheet.addSpan(rowSpans[k].row, rowSpans[k].col, rowSpans[k].rowCount, rowSpans[k].colCount);\r\n            }\r\n        }\r\n    }\r\n\r\n    private columnSort(index: any, sheet: any, schema: any, qdpView: any) {\r\n        const loading = this.loadService.show({ container: 'body' });\r\n        try {\r\n            const header = sheet.getRowCount(GC.Spread.Sheets.SheetArea.colHeader);\r\n            if (schema && schema.schemaValue && schema.schemaValue.columnOption && schema.schemaValue.columnOption.colList && schema.schemaValue.columnOption.colList.length) {\r\n                let cell = null;\r\n                const span = sheet.getSpan(header - 1, index, GC.Spread.Sheets.SheetArea.colHeader);\r\n                if (span && span.rowCount > 1) {\r\n                    cell = sheet.getCell(header - span.rowCount, index, GC.Spread.Sheets.SheetArea.colHeader);\r\n                } else {\r\n                    cell = sheet.getCell(header - 1, index, GC.Spread.Sheets.SheetArea.colHeader);\r\n                }\r\n                if (schema && schema.isPrefab === 1) {\r\n                    loading.close();\r\n                    cell.tag(0);\r\n                    sheet.invalidateLayout();\r\n                    sheet.repaint();\r\n                    this.msgService.info(this.localizeService.getValue('spread.message.validate.sort'));\r\n                    return;\r\n                }\r\n                if (schema.isProtected === 1 || schema.isProtected === '1') {\r\n                    loading.close();\r\n                    cell.tag(0);\r\n                    sheet.invalidateLayout();\r\n                    sheet.repaint();\r\n                    this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));\r\n                    return;\r\n                }\r\n                const colList = schema.schemaValue.columnOption.colList;\r\n                const params = {\r\n                    index: index,\r\n                    cell: cell,\r\n                    colIndex: 0,\r\n                    sortInfo: { sortIndex: 0, bindField: '' },\r\n                    isText: []\r\n                };\r\n\r\n                // tslint:disable-next-line:prefer-for-of\r\n                for (let i = 0; i < colList.length; i++) {\r\n                    this.recursiveColumnSortIndex(colList[i], null, params);\r\n                }\r\n                // tslint:disable-next-line:prefer-for-of\r\n                for (let i = 0; i < colList.length; i++) {\r\n                    this.recursiveColumnSort(colList[i], null, params);\r\n                }\r\n                if (params.isText.length) {\r\n                    loading.close();\r\n                    cell.tag(0);\r\n                    sheet.invalidateLayout();\r\n                    sheet.repaint();\r\n                    this.msgService.warning(params.isText[0] + ' ' + this.localizeService.getValue('ideCmp.schemaManager.message.validate.textColumnSort'));\r\n                    return;\r\n                }\r\n                const newSchema = JSON.parse(JSON.stringify(schema));\r\n                newSchema.schemaValue.columnOption.colList = colList;\r\n                newSchema.schemaValue = JSON.stringify(newSchema.schemaValue);\r\n                this.schemaManager.saveSchema({ schema: JSON.stringify(newSchema), groupType: qdpView.groupType }, '').subscribe(data => {\r\n                    loading.close();\r\n                    qdpView.initSpread(qdpView.queryId, newSchema.id, qdpView.controlType, qdpView.qoManagerCode, qdpView.pageIndex, qdpView.queryRelativeUrl, qdpView.conditionExpression, qdpView.groupType, qdpView.voId, true);\r\n                }, (error: any) => {\r\n                    loading.close();\r\n                    this.formErrorService.exception(error.Message, error);\r\n                });\r\n            } else {\r\n                loading.close();\r\n                this.msgService.info(this.localizeService.getValue('spread.message.validate.sort'));\r\n                return;\r\n            }\r\n        } catch (e) {\r\n            loading.close();\r\n        }\r\n    }\r\n\r\n    private recursiveColumnSortIndex(col, colList, params) {\r\n        if (colList == null) {\r\n            if (col.childList && col.childList.length) {\r\n                this.recursiveColumnSortIndex(null, col.childList, params);\r\n            } else {\r\n                if (col.sort !== 0 && col['sortIndex'] != null && col['sortIndex'] !== undefined && col.sortIndex > params.sortInfo.sortIndex) {\r\n                    params.sortInfo.sortIndex = col['sortIndex'];\r\n                    params.sortInfo.bindField = col.bindField;\r\n                }\r\n            }\r\n        } else {\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < colList.length; i++) {\r\n                if (colList[i].childList && colList[i].childList.length) {\r\n                    this.recursiveColumnSortIndex(null, colList[i].childList, params);\r\n                } else {\r\n                    if (colList[i].sort !== 0 && colList[i]['sortIndex'] != null && colList[i]['sortIndex'] !== undefined && colList[i].sortIndex > params.sortInfo.sortIndex) {\r\n                        params.sortInfo.sortIndex = colList[i]['sortIndex'];\r\n                        params.sortInfo.bindField = colList[i].bindField;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private recursiveColumnSort(col, colList, params) {\r\n        if (colList == null) {\r\n            if (col.childList && col.childList.length) {\r\n                this.recursiveColumnSort(null, col.childList, params);\r\n            } else {\r\n                if (params.colIndex === params.index) {\r\n                    if (col.type && col.type.toLowerCase() === 'text') {\r\n                        params.isText.push(col.bindField);\r\n                    } else {\r\n                        switch (params.cell.tag()) {\r\n                            case 0:\r\n                                col.sort = 0;\r\n                                col['sortIndex'] = 0;\r\n                                break;\r\n                            case 1:\r\n                                col.sort = 1;\r\n                                col['sortIndex'] = col['sortIndex'] !== null && col['sortIndex'] !== undefined && col['sortIndex'] > 0 ? col['sortIndex'] : col.bindField === params.sortInfo.bindField ? params.sortInfo.sortIndex : params.sortInfo.sortIndex + 1;\r\n                                break;\r\n                            case 2:\r\n                                col.sort = 2;\r\n                                col['sortIndex'] = col['sortIndex'] !== null && col['sortIndex'] !== undefined && col['sortIndex'] > 0 ? col['sortIndex'] : col.bindField === params.sortInfo.bindField ? params.sortInfo.sortIndex : params.sortInfo.sortIndex + 1;\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n                params.colIndex++;\r\n            }\r\n        } else {\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < colList.length; i++) {\r\n                if (colList[i].childList && colList[i].childList.length) {\r\n                    this.recursiveColumnSort(null, colList[i].childList, params);\r\n                } else {\r\n                    if (params.colIndex === params.index) {\r\n                        if (colList[i].type && colList[i].type.toLowerCase() === 'text') {\r\n                            params.isText.push(colList[i].bindField);\r\n                        } else {\r\n                            switch (params.cell.tag()) {\r\n                                case 0:\r\n                                    colList[i].sort = 0;\r\n                                    colList[i]['sortIndex'] = 0;\r\n                                    break;\r\n                                case 1:\r\n                                    colList[i].sort = 1;\r\n                                    colList[i]['sortIndex'] = colList[i]['sortIndex'] !== null && colList[i]['sortIndex'] !== undefined && colList[i]['sortIndex'] > 0 ? colList[i]['sortIndex'] : colList[i].bindField === params.sortInfo.bindField ? params.sortInfo.sortIndex : params.sortInfo.sortIndex + 1;\r\n                                    break;\r\n                                case 2:\r\n                                    colList[i].sort = 2;\r\n                                    colList[i]['sortIndex'] = colList[i]['sortIndex'] !== null && colList[i]['sortIndex'] !== undefined && colList[i]['sortIndex'] > 0 ? colList[i]['sortIndex'] : colList[i].bindField === params.sortInfo.bindField ? params.sortInfo.sortIndex : params.sortInfo.sortIndex + 1;\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                    params.colIndex++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private recursiveIsRedColumn(col, colList, params) {\r\n        if (colList == null) {\r\n            if (col.childList && col.childList.length) {\r\n                this.recursiveIsRedColumn(null, col.childList, params);\r\n            } else {\r\n                if (col.isRed) {\r\n                    params.isRedColumns.push({\r\n                        colIndex: params.colIndex\r\n                    });\r\n                }\r\n                params.colIndex++;\r\n            }\r\n        } else {\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < colList.length; i++) {\r\n                if (colList[i].childList && colList[i].childList.length) {\r\n                    this.recursiveIsRedColumn(null, colList[i].childList, params);\r\n                } else {\r\n                    if (colList[i].isRed) {\r\n                        params.isRedColumns.push({\r\n                            colIndex: params.colIndex\r\n                        });\r\n                    }\r\n                    params.colIndex++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private isNumber(val) {\r\n        if (parseFloat(val).toString() == \"NaN\") {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n}","import { Observable, Subject } from \"rxjs\";\r\nimport { RenderOption } from \"../entity/RenderOption\";\r\nimport { ParameterUtils } from \"../util/parameter.utils\";\r\nimport { RenderExtendsUtils } from \"../util/render.extends.utils\";\r\nimport { SchemaUtils } from \"../util/schema.utils\";\r\nimport { ServicesUtils } from \"../util/services.utils\";\r\nimport { SpreadStyleUtils } from \"../util/spread.style.utils\";\r\nimport { RtfServices } from '@qdp/common';\r\n\r\ndeclare var GC: any;\r\n\r\nexport class BaseRender {\r\n    queryId: any;\r\n    type: any;\r\n    utils = new Map();\r\n    autoFitColumnIndex = 0;\r\n    cache: any;\r\n    msgService: any;\r\n    lcpService: any;\r\n    localizeService: any;\r\n    schemaManager: any;\r\n    formErrorService: any;\r\n    loadService: any;\r\n    funcInfoCache: any;\r\n    serviceCache: any;\r\n    isSchemaSelectChanged = false;\r\n    tabId: any;\r\n\r\n    constructor(_queryId: any, _controlType: any, _jointsearchInfoList?: any, _funcInfoCache?: any, _serviceCache?: any) {\r\n        this.tabId = RtfServices.getTabId(_queryId);\r\n        this.queryId = _queryId;\r\n        this.type = _controlType;\r\n        this.funcInfoCache = _funcInfoCache;\r\n        this.serviceCache = _serviceCache;\r\n        this.baseRenderInit(_queryId, _controlType, _jointsearchInfoList, _funcInfoCache);\r\n    }\r\n\r\n    private baseRenderInit(_queryId: any, _controlType: any, _jointsearchInfoList?: any, _funcInfoCache?: any) {\r\n        const parameterUtils = new ParameterUtils(_queryId, _funcInfoCache, this.serviceCache);\r\n        const schemaUtils = new SchemaUtils(this.serviceCache);\r\n        const spreadStyleUtils = new SpreadStyleUtils(_queryId, _controlType, _jointsearchInfoList, this.serviceCache);\r\n        const renderExtendsUtils = new RenderExtendsUtils(_queryId);\r\n        this.msgService = this.serviceCache.msgService; \r\n        this.cache = this.serviceCache.cacheService; \r\n        this.lcpService = this.serviceCache.lcpService; \r\n        this.loadService = this.serviceCache.loadService; \r\n        this.localizeService = this.serviceCache.localizeService; \r\n        this.schemaManager = this.serviceCache.schemaManagerService; \r\n        this.formErrorService = this.serviceCache.formErrorService; \r\n        this.queryId = _queryId;\r\n        this.utils.set('parameter', parameterUtils);\r\n        this.utils.set('schema', schemaUtils);\r\n        this.utils.set('spreadStyle', spreadStyleUtils);\r\n        this.utils.set('renderExtends', renderExtendsUtils);\r\n        this.utils.set('queryId', _queryId);\r\n    }\r\n\r\n    getData(params: any, queryRelativeUrl: any): Observable<any> {\r\n        this.cache.set(this.queryId + 'param', params);\r\n        return this.lcpService.getData(params, queryRelativeUrl);\r\n    }\r\n\r\n    changeData(data: any, value: any) {\r\n        if (data && data.data && data.dynamicCols && value) {\r\n            if (value.schemaValue.columnOption && value.schemaValue.columnOption.colList && value.schemaValue.columnOption.colList.length) {\r\n                const columns = value.schemaValue.columnOption.colList.filter(x => x.type === 'enum');\r\n                if (columns && columns.length > 0) {\r\n                    data.data.forEach(x => {\r\n                        columns.forEach(y => {\r\n                            const orginValue = x[y.bindField];\r\n                            let showValue = orginValue;\r\n                            if (data.resultEnumItems) {\r\n                                const resultEnumItem = data.resultEnumItems.find(resultEnumItem => resultEnumItem.enumName === y.bindField);\r\n                                if (resultEnumItem) {\r\n                                    const findShowValue = resultEnumItem.resultEnumInfoList.find(resultEnum => resultEnum.key === orginValue);\r\n                                    if (findShowValue) {\r\n                                        showValue = y.showType === '0' ? findShowValue.key : y.showType === '1' ? findShowValue.code : findShowValue.name;\r\n                                    }\r\n                                }\r\n                            }\r\n                            x[y.bindField] = showValue;\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * äºå¼äººåèªå®ä¹æ ¼å¼æ¹æ¡å¤ç\r\n     */\r\n    operateCustomFormatSchema(data: any, obj: RenderOption) {\r\n        if (data.customFormatScheme) {\r\n            obj.customFormatScheme = data.customFormatScheme;\r\n            this.schemaManager.customSchema[obj.groupType ? obj.groupType : obj.queryId] = data.customFormatScheme;\r\n            let customSchema = null;\r\n            if (obj.schemaId === '1') {\r\n                customSchema = this.schemaManager.mergeCustomSchema(obj.groupType ? obj.groupType : obj.queryId, obj.queryId);\r\n            }\r\n            if (customSchema && customSchema.schemaValue) {\r\n                ServicesUtils.setServices(RtfServices.getTabId(obj.queryId) + 'customScheme', JSON.stringify(customSchema.schemaValue));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¤çåé¡µä¿¡æ¯\r\n     */\r\n    operatePagination(obj: RenderOption, params: any) {\r\n        const self = this;\r\n        if (obj.controlType === 'list') {\r\n            let pageSize = 0;\r\n            if (obj.schemaId !== '1' && self.schemaManager.schemaList && self.schemaManager.schemaList[obj.schemaId]) {\r\n                if (typeof self.schemaManager.schemaList[obj.schemaId].schemaValue === \"string\") {\r\n                    self.schemaManager.schemaList[obj.schemaId].schemaValue = JSON.parse(self.schemaManager.schemaList[obj.schemaId].schemaValue);\r\n                }\r\n                if (self.schemaManager.schemaList[obj.schemaId].schemaValue.otherOption.loadDataType !== 0) {\r\n                    pageSize = self.schemaManager.schemaList[obj.schemaId].schemaValue.otherOption.pageSize;\r\n                }\r\n            } else {\r\n                if (obj.schemaId === '1' && self.schemaManager.preSchema && self.schemaManager.preSchema.schemaValue.otherOption.loadDataType !== 0) {\r\n                    pageSize = self.schemaManager.preSchema.schemaValue.otherOption.pageSize;\r\n                }\r\n            }\r\n            if (pageSize !== 0) {\r\n                params['pageSize'] = pageSize;\r\n                params['pageIndex'] = !obj.pageIndex ? 1 : obj.pageIndex;\r\n            }\r\n        }\r\n    }\r\n\r\n    titleVariablesReplace(sheet: any, data: any) {\r\n        const colCount = sheet.getColumnCount(GC.Spread.Sheets.SheetArea.colHeader);\r\n        const rowCount = sheet.getRowCount(GC.Spread.Sheets.SheetArea.colHeader);\r\n        if (data && data.variables) {\r\n            for (let r = 0; r < rowCount; r++) {\r\n                for (let c = 0; c < colCount; c++) {\r\n                    sheet.setValue(r, c,\r\n                        this.variablesReplace(sheet.getValue(r, c, GC.Spread.Sheets.SheetArea.colHeader), data),\r\n                        GC.Spread.Sheets.SheetArea.colHeader);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    footerVariablesReplace(sheet: any, data: any) {\r\n        const rowCount = sheet.getRowCount();\r\n        const colCount = sheet.getColumnCount();\r\n        if (this.utils.get('spreadStyle').footerDataArray && this.utils.get('spreadStyle').footerDataArray.length) {\r\n            for (let r = 0; r < this.utils.get('spreadStyle').footerDataArray.length; r++) {\r\n                for (let c = 0; c < colCount; c++) {\r\n                    sheet.setValue(r + (rowCount - this.utils.get('spreadStyle').footerDataArray.length), c,\r\n                        this.variablesReplace(this.utils.get('spreadStyle').footerDataArray[r][c], data));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private variablesReplace(cellValue: any, data: any) {\r\n        if (data && data.variables) {\r\n            Object.keys(data.variables).forEach(key => {\r\n                const reg = new RegExp(key, 'g');\r\n                if (cellValue) {\r\n                    cellValue = cellValue.replace(reg, data.variables[key]);\r\n                }\r\n            });\r\n        }\r\n        return cellValue;\r\n    }\r\n\r\n    errorHandle(spread: any, errmsg: any) {\r\n        if (spread.getActiveSheet()) {\r\n            spread.removeSheet(0);\r\n        }\r\n        spread.options.tabStripVisible = false;\r\n        this.msgService.warning(errmsg);\r\n        return;\r\n    }\r\n}","import { EventBus } from \"@qdp/common\";\r\nimport { RtfServices } from \"@qdp/common\";\r\nimport { RenderOption } from \"../entity/RenderOption\";\r\nimport { BaseRender } from \"./base-render\";\r\n\r\ndeclare var GC: any;\r\n\r\nexport class CrosstabRender extends BaseRender {\r\n\r\n    constructor(_queryId: any, _controlType: any, _jointsearchInfoList?: any, _funcInfoCache?: any, _serviceCache?: any) {\r\n        super(_queryId, _controlType, _jointsearchInfoList, _funcInfoCache, _serviceCache);\r\n        this.crosstabInit();\r\n    }\r\n\r\n    private crosstabInit() {\r\n\r\n    }\r\n\r\n    /**\r\n     * æ¸²æ\r\n     * @param obj åæ°éç½®é¡¹\r\n     */\r\n    render(obj: RenderOption) {\r\n        const self = this;\r\n        this.queryId = obj.queryId;\r\n        obj.schemaId = obj.schemaId === 'prefab' ? '1' : obj.schemaId;\r\n        this.utils.get('schema').getSchemaInfo(obj).subscribe((schemaValue: any) => {\r\n            if (schemaValue) {\r\n                obj['schemaId'] = schemaValue.id;\r\n                obj['schemaValue'] = schemaValue;\r\n                // this.currentSchemaValueChanger.next(schemaValue);\r\n                EventBus.dispatch('schemaValueChanged', schemaValue);\r\n                let delay = schemaValue.schemaValue.otherOption.delay;\r\n                const interval = schemaValue.schemaValue.otherOption.interval;\r\n\r\n                const index = self.funcInfoCache.firstLoadCache.findIndex(el => el === this.tabId);\r\n                const firstLoad = schemaValue.schemaValue.otherOption.firstLoad;\r\n                if (index < 0 && this.isSchemaSelectChanged === false) {\r\n                    if (firstLoad === false) {\r\n                        self.funcInfoCache.firstLoadCache.push(this.tabId);\r\n                        obj.loading.close();\r\n                        if (obj.spread.getActiveSheet()) {\r\n                            obj.spread.getActiveSheet().deleteRows(0, obj.spread.getActiveSheet().getRowCount());\r\n                            obj.spread.getActiveSheet().options.colHeaderVisible = false;\r\n                            obj.spread.invalidateLayout();\r\n                            obj.spread.repaint();\r\n                        }\r\n                        return;\r\n                    }\r\n                }\r\n                if (!delay) {\r\n                    delay = 0;\r\n                }\r\n                setTimeout(() => {\r\n                    this.getRenderDataForCrosstab.call(this, Object.assign({}, obj));\r\n                    if (interval > 0) {\r\n                        setInterval(() => {\r\n                            this.getRenderDataForCrosstab.call(this, Object.assign({}, obj));\r\n                        }, interval * 1000);\r\n                    }\r\n                }, delay * 1000);\r\n            } else {\r\n                obj['schemaId'] = '1';\r\n                this.getRenderDataForCrosstab.call(this, Object.assign({}, obj));\r\n            }\r\n        });\r\n    }\r\n\r\n    private getRenderDataForCrosstab(obj: RenderOption) {\r\n        const self = this;\r\n        obj.schemaId = obj.schemaId ? obj.schemaId : (obj.schemaValue && obj.schemaValue.id ? obj.schemaValue.id : '1');\r\n        if (!obj.formData) {\r\n            let params = this.utils.get('parameter').createParameters(Object.assign({}, obj, { pageIndex: 0, pageSize: 0 }));\r\n            params['queryId'] = obj.queryId ? obj.queryId : '';\r\n            // æ¥è¯¢æ°æ®åäºä»¶\r\n            params = this.utils.get('renderExtends').runRenderExtends('beforeQueryData', this.localizeService.getValue('spread.message.extend.query.before'), params, obj.spread);\r\n\r\n            try {\r\n                this.cache.set(self.tabId, JSON.parse(params['entityData']));\r\n                this.cache.set(self.tabId + 'extendCond', params['extendCond']);\r\n            } catch (e) { }\r\n\r\n            self.lcpService.getCol(params, obj.queryRelativeUrl).subscribe(resultData => {\r\n                const dynamicColumns = (resultData && resultData.dynamicCols) || [];\r\n                self.initJoinParams(obj, dynamicColumns);\r\n                self.schemaManager.setColInfo(dynamicColumns);\r\n                if (obj.schemaId === '1' || !obj.schemaId) {\r\n                    obj.loading.close();\r\n                    return self.errorHandle(obj.spread, this.localizeService.getValue('spread.message.validate.schemaInfo'));\r\n                }\r\n                self.lcpService.getCrosstabTemplate(params, obj.queryRelativeUrl).subscribe((template: any) => {\r\n                    if (!template || !template.sheets || !template.sheets.sheet1 || !template.sheets.sheet1.data || !template.sheets.sheet1.data.dataTable || !template.sheets.sheet1.data.dataTable['0']) {\r\n                        obj.loading.close();\r\n                        return self.errorHandle(obj.spread, this.localizeService.getValue('spread.message.validate.nodata'));\r\n                    }\r\n                    self.renderCrossTable(Object.assign({}, obj, { template }));\r\n\r\n                    const event = RtfServices.getMenuSwitchControlEvent();\r\n                    if (event && typeof event === 'object') {\r\n                        event.next('ok');\r\n                    }\r\n\r\n                    obj.loading.close();\r\n                    this.utils.get('spreadStyle').bindSelectChanged(obj.spread, obj.queryId);\r\n                }, (error: any) => {\r\n                    self.formErrorService.exception(error.Message, error);\r\n                    obj.loading.close();\r\n                });\r\n            }, (error: any) => {\r\n                self.formErrorService.exception(error.Message, error);\r\n                obj.loading.close();\r\n            });\r\n\r\n            this.cache.set('schema_schemaid' + obj.queryId, obj.schemaId);\r\n        }\r\n    }\r\n\r\n    private renderCrossTable(obj: RenderOption) {\r\n        obj.spread.suspendEvent();\r\n        obj.spread.suspendPaint();\r\n        if (obj.template) {\r\n            obj.spread.fromJSON(obj.template);\r\n            obj.spread.getActiveSheet().rowOutlines.direction(GC.Spread.Sheets.Outlines.OutlineDirection.backward);\r\n            const row = obj.spread.getActiveSheet().getRowCount();\r\n            for (let i = 0; i < row; i++) {\r\n                const cellType = obj.spread.getActiveSheet().getCellType(i, 0);\r\n                if (cellType && cellType.typeName === 'TreeCellType') {\r\n                    const level = cellType.level;\r\n                    for (let r = 0; r <= level; r++) {\r\n                        obj.spread.getActiveSheet().rowOutlines.group(i, 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const sheet = obj.spread.getActiveSheet();\r\n        if (sheet) {\r\n            this.titleVariablesReplace(sheet, obj.data);\r\n            sheet.clearSelection();\r\n        }\r\n\r\n        // é¡µé¢æ¸²æåäºä»¶\r\n        this.utils.get('renderExtends').runRenderExtends('afterLoadData', this.localizeService.getValue('spread.message.extend.dataLoading.after'), obj.data, obj.spread);\r\n\r\n        obj.spread.resumePaint();\r\n        obj.spread.resumeEvent();\r\n        // å¢å å½åååæ ¼èæ¥åæ°ç¼å­\r\n        this.utils.get('spreadStyle').joinParam['controlType'] = obj.controlType;\r\n        this.cache.set(this.tabId + 'joinSearch', this.utils.get('spreadStyle').joinParam);\r\n    }\r\n\r\n    private initJoinParams(obj: RenderOption, dynamicColumns: any) {\r\n        this.utils.get('spreadStyle').joinParam = {\r\n            controlType: obj.controlType,\r\n            rowHeaderColInfo: { start: 0, end: 0 }, // è¡æ é¢èµ·å§ä½ç½®ä¿¡æ¯ï¼è¡å·ï¼\r\n            colHeaderRowInfo: { start: 0, end: 0 }, // åæ é¢ä¿¡æ¯èµ·å§ä½ç½®ä¿¡æ¯ï¼åå·)\r\n            valueColCount: 0, // è¡æ é¢ä¿¡æ¯èµ·å§ä½ç½®ä¿¡æ¯ï¼åå·)\r\n            colInfos: dynamicColumns, // åä¿¡æ¯\r\n        };\r\n        let columnHeaderRowCount = this.utils.get('spreadStyle').rowHeadersColumnCount = this.utils.get('spreadStyle').valueHeaderRowCount = 0;\r\n        let titleCount = 0;\r\n        if (obj.schemaId !== '1') {\r\n            titleCount += obj.schemaValue.schemaValue.titleOption.title ? 1 : 0;\r\n            titleCount += obj.schemaValue.schemaValue.titleOption.subTitles.length;\r\n            obj.schemaValue.schemaValue.columnOption.colList.forEach((data: any) => {\r\n                if (data.dimension && data.dimension !== 0) {\r\n                    if (data.dimension === 1) {\r\n                        this.utils.get('spreadStyle').rowHeadersColumnCount++;\r\n                    } else if (data.dimension === 2) {\r\n                        columnHeaderRowCount++;\r\n                    } else if (data.dimension === 3) {\r\n                        this.utils.get('spreadStyle').valueHeaderRowCount++;\r\n                    }\r\n                }\r\n            });\r\n            this.utils.get('spreadStyle').joinParam['controlType'] = obj.controlType;\r\n            this.utils.get('spreadStyle').joinParam['rowHeaderColInfo'] = { start: 0, end: this.utils.get('spreadStyle').rowHeadersColumnCount }; // è¡æ é¢èµ·å§ä½ç½®ä¿¡æ¯ï¼è¡å·ï¼\r\n            this.utils.get('spreadStyle').joinParam['colHeaderRowInfo'] = { start: titleCount, end: titleCount + columnHeaderRowCount }; // åæ é¢ä¿¡æ¯èµ·å§ä½ç½®ä¿¡æ¯ï¼åå·)\r\n            this.utils.get('spreadStyle').joinParam['valueColCount'] = this.utils.get('spreadStyle').valueHeaderRowCount; // è¡æ é¢ä¿¡æ¯èµ·å§ä½ç½®ä¿¡æ¯ï¼åå·)\r\n            this.utils.get('spreadStyle').joinParam['colInfos'] = obj.schemaValue.schemaValue.columnOption.colList; // åä¿¡æ¯\r\n        }\r\n        this.cache.set(this.tabId + 'joinSearch', this.utils.get('spreadStyle').joinParam);\r\n    }\r\n}","import { anyChanged } from \"@progress/kendo-angular-grid/dist/es2015/utils\";\r\nimport { EventBus, RtfServices } from \"@qdp/common\";\r\nimport { RenderOption } from \"../entity/RenderOption\";\r\nimport { BaseRender } from \"./base-render\";\r\n\r\ndeclare var GC: any;\r\ndeclare var gspframeworkService: any;\r\nexport class ListTreeRender extends BaseRender {\r\n    constructor(_queryId: any, _controlType: any, _jointsearchInfoList?: any, _funcInfoCache?: any, _serviceCache?: any) {\r\n        super(_queryId, _controlType, _jointsearchInfoList, _funcInfoCache, _serviceCache);\r\n        this.listRenderInit(_queryId, _controlType);\r\n    }\r\n\r\n    listRenderInit(_queryId: any, _controlType: any) {\r\n        this.type = _controlType;\r\n        this.queryId = _queryId;\r\n    }\r\n\r\n    /**\r\n     * æ¸²æ\r\n     * @param obj åæ°éç½®é¡¹\r\n     */\r\n    render(obj: RenderOption) {\r\n        const self = this;\r\n        this.queryId = obj.queryId;\r\n        this.type = obj.controlType;\r\n        obj.schemaId = obj.schemaId === 'prefab' ? '1' : obj.schemaId;\r\n        this.utils.get('schema').getSchemaInfo(obj).subscribe((schemaValue: any) => {\r\n            if (schemaValue) {\r\n                obj['schemaId'] = schemaValue.id;\r\n                obj['schemaValue'] = schemaValue;\r\n                // this.currentSchemaValueChanger.next(schemaValue);\r\n                EventBus.dispatch('schemaValueChanged', schemaValue);\r\n                let delay = schemaValue.schemaValue.otherOption.delay;\r\n                const interval = schemaValue.schemaValue.otherOption.interval;\r\n\r\n                const funcId = RtfServices.getTabId(obj.queryId);\r\n                const index = self.funcInfoCache.firstLoadCache.findIndex(el => el === funcId);\r\n                const firstLoad = schemaValue.schemaValue.otherOption.firstLoad;\r\n                if (index < 0 && this.isSchemaSelectChanged === false) {\r\n                    if (firstLoad === false) {\r\n                        self.funcInfoCache.firstLoadCache.push(funcId);\r\n                        obj.loading.close();\r\n                        if (obj.spread.getActiveSheet()) {\r\n                            obj.spread.getActiveSheet().deleteRows(0, obj.spread.getActiveSheet().getRowCount());\r\n                            obj.spread.getActiveSheet().options.colHeaderVisible = false;\r\n                            obj.spread.invalidateLayout();\r\n                            obj.spread.repaint();\r\n                            self.serviceCache.lcpService.pageInfoChange.next({\r\n                                pageCount: 1,\r\n                                pageIndex: 1,\r\n                                pageSize: schemaValue.schemaValue.otherOption.pageSize || 20,\r\n                                totalCount: 1\r\n                            });\r\n                        }\r\n                        return;\r\n                    }\r\n                }\r\n                if (!delay) {\r\n                    delay = 0;\r\n                }\r\n                setTimeout(() => {\r\n                    this.getRenderDataForList.call(this, Object.assign({}, obj));\r\n                    if (interval > 0) {\r\n                        setInterval(() => {\r\n                            this.getRenderDataForList.call(this, Object.assign({}, obj));\r\n                        }, interval * 1000);\r\n                    }\r\n                }, delay * 1000);\r\n            } else {\r\n                obj['schemaId'] = '1';\r\n                this.getRenderDataForList.call(this, Object.assign({}, obj));\r\n            }\r\n        });\r\n    }\r\n\r\n    private getRenderDataForList(obj: RenderOption) {\r\n        const self = this;\r\n        obj.schemaId = obj.schemaId ? obj.schemaId : (obj.schemaValue && obj.schemaValue.id ? obj.schemaValue.id : '1');\r\n        if (!obj.formData) {\r\n            let params = this.utils.get('parameter').createParameters(Object.assign({}, obj, { pageIndex: 0, pageSize: 0 }));\r\n            params['queryId'] = obj.queryId ? obj.queryId : '';\r\n            self.operatePagination(obj, params);\r\n            // æ¥è¯¢æ°æ®åäºä»¶\r\n            params = this.utils.get('renderExtends').runRenderExtends('beforeQueryData', this.localizeService.getValue('spread.message.extend.query.before'), params, obj.spread);\r\n\r\n            try {\r\n                const tab = RtfServices.getTabId(obj.queryId);\r\n                this.cache.set(tab, JSON.parse(params['entityData']));\r\n                this.cache.set(tab + 'extendCond', params['extendCond']);\r\n            } catch (e) { }\r\n\r\n            self.getData(params, obj.queryRelativeUrl).subscribe((data: any) => {\r\n                data = data || { data: [], dynamicCols: [] };\r\n                if (obj.schemaId !== '1' || (data && data.dynamicCols && data.dynamicCols.length)) {\r\n                    self.schemaManager.dynamicCols[obj.groupType ? obj.groupType : obj.queryId] = data.dynamicCols || [];\r\n                    self.schemaManager.dynamicCols[obj.schemaId] = data.dynamicCols || [];\r\n                    self.schemaManager.operateDynamicColsForSchema(obj.schemaValue, obj.groupType ? obj.groupType : obj.queryId, obj.schemaId);\r\n                    self.schemaManager.schemaInfoChange.next({ schemaList: self.schemaManager.schemaInfo, isDefaultSchema: self.schemaManager.isDefaultSchema && self.schemaManager.isDefaultSchema[obj.queryId] ? self.schemaManager.isDefaultSchema[obj.queryId] : null, preSchema: self.schemaManager.preSchema });\r\n                }\r\n                if (!obj.schemaValue || obj.schemaId == '1') {\r\n                    self.operateCustomFormatSchema(data, obj);\r\n                }\r\n                // æ°æ®å è½½åäºä»¶\r\n                this.utils.get('renderExtends').runRenderExtends('beforeLoadData', self.localizeService.getValue('spread.message.extend.dataLoading.before'), data, obj.spread);\r\n\r\n                self.lcpService.getCol(params, obj.queryRelativeUrl).subscribe(resultData => {\r\n                    if (obj.schemaId === '1') {\r\n                        if (!data.dynamicCols.length) {\r\n                            data.dynamicCols = resultData.dynamicCols || [];\r\n                        }\r\n                    }\r\n                    obj.frozenCols = (resultData && resultData.dynamicCols) || [];\r\n                    obj['data'] = data;\r\n                    self.getListRenderTemplate(obj);\r\n                    // { schemaId: _schemaId, queryId, data, queryRelativeUrl, spread, schemaValue, pageIndex, controlType, loading }\r\n                });\r\n            }, (error: any) => {\r\n                self.formErrorService.exception(error.Message, error);\r\n                obj.loading.close();\r\n            });\r\n\r\n            this.cache.set('schema_schemaid' + obj.queryId, obj.schemaId);\r\n            // EventBus.dispatch('schema_schemaid', _schemaId);\r\n        } else {\r\n            obj['data'] = obj.formData;\r\n            obj['frozenCols'] = obj.formData.dynamicCols;\r\n            self.getListRenderTemplate(obj);\r\n            // { schemaId: _schemaId, queryId, formData, queryRelativeUrl, spread, schemaValue, pageIndex, controlType, loading }\r\n        }\r\n    }\r\n\r\n    private getListRenderTemplate(obj: RenderOption) {\r\n        const self = this;\r\n        self.schemaManager.getSpreadTemplate(obj.schemaId, obj.queryId, obj.data && obj.data.dynamicCols ? obj.data.dynamicCols : [], obj.queryRelativeUrl, obj.customFormatScheme, obj.frozenCols, obj.groupType).subscribe(template => {\r\n            template = template.returnValue ? JSON.parse(template.returnValue) : template;\r\n\r\n            self.renderList.call(self, Object.assign({}, obj, { template }));\r\n            self.utils.get('spreadStyle').bindSelectChanged(obj.spread, obj.queryId);\r\n\r\n            const event = RtfServices.getMenuSwitchControlEvent();\r\n            if (event && typeof event === 'object') {\r\n                event.next('ok');\r\n            }\r\n\r\n            EventBus.dispatch(self.queryId + 'spread_init', {});\r\n\r\n            obj.loading.close();\r\n        }, (error: any) => {\r\n            self.formErrorService.exception(error.Message, error);\r\n            obj.loading.close();\r\n        });\r\n    }\r\n\r\n    renderList(obj: RenderOption) {\r\n        const self = this;\r\n        this.type = obj.controlType;\r\n        obj.spread.suspendEvent();\r\n        obj.spread.suspendPaint();\r\n        obj.spread.fromJSON(obj.template);\r\n        const sheet = obj.spread.getActiveSheet();\r\n        // å¨ç²®éæ±ï¼å¤sheeté¡µ\r\n        if (obj.curSheet && obj.multiSheets.length) {\r\n            sheet.name(obj.curSheet);\r\n            for (let i = 0; i < obj.multiSheets.length; i++) {\r\n                if (obj.curSheet !== obj.multiSheets[i]) {\r\n                    obj.spread.addSheet(i, new GC.Spread.Sheets.Worksheet(obj.multiSheets[i]));\r\n                    obj.spread.sheets[i].deleteRows(0, obj.spread.sheets[i].getRowCount());\r\n                    obj.spread.sheets[i].deleteColumns(0, obj.spread.sheets[i].getColumnCount());\r\n                }\r\n            }\r\n            obj.spread.setActiveSheet(obj.curSheet);\r\n            obj.spread.options.tabStripVisible = true;\r\n            obj.spread.options.tabEditable = false;\r\n        }\r\n        // å¨ç²®éæ±ï¼å¤sheeté¡µ\r\n        this.utils.get('spreadStyle').cacheStyle(sheet);\r\n        let showZero = true;\r\n        if (obj.schemaValue && obj.schemaValue.schemaValue && obj.schemaValue.schemaValue.otherOption) {\r\n            if (obj.schemaValue.schemaValue.otherOption.showZero != null && obj.schemaValue.schemaValue.otherOption.showZero !== undefined) {\r\n                showZero = obj.schemaValue.schemaValue.otherOption.showZero;\r\n            }\r\n        }\r\n        if (obj.data && obj.data.data && obj.data.data.length) {\r\n            obj.data.data.forEach((item: any) => {\r\n                if (item.dynamicPropSet) {\r\n                    for (const key in item.dynamicPropSet) {\r\n                        item[key] = item.dynamicPropSet[key];\r\n                    }\r\n                }\r\n            });\r\n            // ä¿®æ¹æä¸¾å­æ®µæ¾ç¤º\r\n            self.changeData(obj.data, obj.schemaValue);\r\n            sheet.setDataSource(obj.data.data);\r\n            sheet.bindColumns(this.utils.get('spreadStyle').dataColInfoArray);\r\n            sheet.options.isProtected = true;\r\n            sheet.options.protectionOptions = {\r\n                allowSelectLockedCells: true,\r\n                allowSelectUnlockedCells: true,\r\n                allowFilter: true,\r\n                allowSort: true,\r\n                allowResizeRows: true,\r\n                allowResizeColumns: true,\r\n                allowEditObjects: false\r\n            };\r\n            obj.spread.options.allowCopyPasteExcelStyle = true;\r\n            obj.spread.options.allowExtendPasteRange = true;\r\n            obj.spread.options.copyPasteHeaderOptions = GC.Spread.Sheets.CopyPasteHeaderOptions.allHeaders;\r\n            sheet.rowOutlines.direction(GC.Spread.Sheets.Outlines.OutlineDirection.backward);\r\n            try {\r\n                if (!obj.schemaValue && obj.customFormatScheme) {\r\n                    if (typeof obj.customFormatScheme == 'string') {\r\n                        obj.schemaValue = {};\r\n                        obj.schemaValue['schemaValue'] = JSON.parse(obj.customFormatScheme);\r\n                    }\r\n                }\r\n            } catch (e) { }\r\n            this.utils.get('spreadStyle').applyStyle(sheet, obj.schemaValue, showZero);\r\n            this.utils.get('spreadStyle').linkField(obj.spread, sheet);\r\n            try {\r\n                let extObj = gspframeworkService.rtf.extendMethod.getExtObj();\r\n                if (extObj) {\r\n                    this.utils.get('spreadStyle').inSuiteLinkField(obj.spread, sheet, extObj);\r\n                }\r\n            } catch (e) {\r\n            }\r\n            this.footerVariablesReplace(sheet, obj.data);\r\n        } else {\r\n            this.footerVariablesReplace(sheet, obj.data);\r\n            sheet.deleteRows(0, 1);\r\n        }\r\n        this.titleVariablesReplace(sheet, obj.data);\r\n        this.utils.get('spreadStyle').setAutoFitColumn(obj.schemaValue, sheet);\r\n        if (this.utils.get('spreadStyle').getShowHeaderSort(obj.schemaValue)) {\r\n            this.utils.get('spreadStyle').setSortCellType(sheet, obj.schemaValue, obj.qdpView);\r\n        }\r\n        if (obj.controlType == 'list') {\r\n            this.utils.get('spreadStyle').mergeCell(sheet, obj.schemaValue);\r\n        }\r\n        sheet.clearSelection();\r\n        // é¡µé¢æ¸²æåäºä»¶\r\n        this.utils.get('renderExtends').runRenderExtends('afterLoadData', this.localizeService.getValue('spread.message.extend.dataLoading.after'), obj.data, obj.spread);\r\n\r\n        obj.spread.resumePaint();\r\n        obj.spread.resumeEvent();\r\n        // å¢å å½åååæ ¼èæ¥åæ°ç¼å­\r\n        this.utils.get('spreadStyle').joinParam['controlType'] = this.type;\r\n        this.cache.set(RtfServices.getTabId(obj.queryId) + 'joinSearch', this.utils.get('spreadStyle').joinParam);\r\n    }\r\n}","import { Injectable, Injector, Optional, EventEmitter } from '@angular/core';\r\nimport { SchemaManagerService, LcpService, ParasMappingManagerService, JointSearchManagerService } from '@qdp/common';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { DataRenderExtendService, EventBus } from '@qdp/common';\r\nimport { RtfServices } from '@qdp/common';\r\nimport { LocalizeService } from '@qdp/localize';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { FormErrorService } from '@farris/command-services';\r\nimport { CloudprintService } from '@gsp-svc/cloudprint';\r\nimport { ServicesUtils } from '../../util/services.utils';\r\nimport { RenderOption } from '../../entity/RenderOption';\r\nimport { CrosstabRender } from '../../engine/crosstab-render';\r\nimport { ListTreeRender } from '../../engine/list-render';\r\n\r\ndeclare var GC: any;\r\ndeclare var TreeCellType: any;\r\ndeclare var MyNumFormatter: any;\r\ndeclare var FilterCellType: any;\r\ndeclare var gspframeworkService: any;\r\ndeclare var SortCellType: any;\r\n\r\n@Injectable()\r\nexport class RenderService {\r\n  cloudprintService: CloudprintService;\r\n  formErrorService: any;\r\n  localizeService: LocalizeService;\r\n  notifyService: NotifyService;\r\n  serviceCache = {};\r\n  columnCount = 0;\r\n  operations = {};\r\n  renderObject: any;\r\n  spread: any;\r\n  funcInfoCache = {\r\n    funcIds: [],\r\n    firstLoadCache: []\r\n  }\r\n\r\n  constructor(\r\n    public schemaManager: SchemaManagerService,\r\n    public lcpService: LcpService,\r\n    private cache: CacheService,\r\n    private loadService: LoadingService,\r\n    private msgService: MessagerService,\r\n    @Optional() private dataRenderExtendService: DataRenderExtendService,\r\n    @Optional() private injector: Injector\r\n  ) {\r\n    const self = this;\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n      this.cloudprintService = this.injector.get(CloudprintService);\r\n      this.notifyService = this.injector.get(NotifyService);\r\n      this.setService();\r\n      self.schemaManager.operationChange.subscribe((value: any) => {\r\n        if (value) {\r\n          self.operations = value;\r\n        }\r\n      })\r\n      self.setSecurityLevel();\r\n    }\r\n  }\r\n\r\n  private setService() {\r\n    const tabId = RtfServices.getTabId() || 'default';\r\n    this.serviceCache[tabId] = {\r\n      'formErrorService': this.formErrorService,\r\n      'cloudprintService': this.cloudprintService,\r\n      'schemaManagerService': this.schemaManager,\r\n      'lcpService': this.lcpService,\r\n      'cacheService': this.cache,\r\n      'loadingService': this.loadService,\r\n      'msgService': this.msgService,\r\n      'localizeService': this.localizeService,\r\n      'notifyService': this.notifyService\r\n    };\r\n  }\r\n\r\n  private getService() {\r\n    const tabId = RtfServices.getTabId() || 'default';\r\n    return this.serviceCache[tabId];\r\n  }\r\n\r\n  private setSecurityLevel() {\r\n    this.lcpService.variablesChange.subscribe((data: any) => {\r\n      if (data && data.hasOwnProperty('securityLevel') && data['securityLevel']) {\r\n        this.cache.set(RtfServices.getTabId() + 'securityLevel', data['securityLevel']);\r\n      }\r\n    });\r\n  }\r\n\r\n  private getSecurityLevel() {\r\n    if (this.cache.get(RtfServices.getTabId() + 'securityLevel')) {\r\n      return this.cache.get(RtfServices.getTabId() + 'securityLevel');\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  render(option: RenderOption) {\r\n    if (!option.loading) {\r\n      option.loading = this.loadService.show({ container: 'body' });\r\n    }\r\n    this.spread = option.spread ? option.spread : null;\r\n    this.renderObject = this.getRender(option);\r\n    this.renderObject.render(option);\r\n  }\r\n\r\n  private getRender(obj: RenderOption) {\r\n    this.setService();\r\n    ServicesUtils.setServices('dataRenderExtendService' + obj.queryId, this.dataRenderExtendService);\r\n    let render;\r\n    switch (obj.controlType) {\r\n      case 'crosstab':\r\n        render = new CrosstabRender(obj.queryId, obj.controlType, obj.jointsearchInfoList, this.funcInfoCache, this.getService());\r\n        break;\r\n      default:\r\n        render = new ListTreeRender(obj.queryId, obj.controlType, obj.jointsearchInfoList, this.funcInfoCache, this.getService());\r\n        break;\r\n    }\r\n    render.isSchemaSelectChanged = obj.isSchemaSelectChanged ? obj.isSchemaSelectChanged : false;\r\n    return render;\r\n  }\r\n\r\n  exportData(renderOption: RenderOption) {\r\n  // exportData(queryId: any, schemaId: any, controlType: any, pageIndex?: number, qoManagerCode?: any, queryRelativeUrl?: any, filterCondition?: any, groupType?: any, voId?: any, totalCount?: any, exportType?: any) {\r\n    const loading = this.loadService.show({ container: 'body' });\r\n    this.renderObject.utils.get('schema').getSchemaInfo({ schemaId: renderOption.schemaValue, queryId: renderOption.queryId, queryRelativeUrl: renderOption.queryRelativeUrl, groupType: renderOption.groupType }).subscribe(value => {\r\n      renderOption.schemaId = renderOption.schemaId ? renderOption.schemaId : (value && value.id ? value.id : '1');\r\n      let schemaName = value && value.schemaValue && value.schemaValue.titleOption && value.schemaValue.titleOption.title\r\n        ? value.schemaValue.titleOption.title\r\n        : value && value.schemaName\r\n          ? value.schemaName\r\n          : '';\r\n      if (RtfServices.getFuncName()) {\r\n        schemaName = RtfServices.getFuncName() + '-' + schemaName;\r\n      }\r\n      renderOption.excelExportName = schemaName;\r\n      const params = this.renderObject.utils.get('parameter').createParameters(renderOption);\r\n      params['exportType'] = renderOption.exportType ? renderOption.exportType : '';\r\n      let isCustomShema = false;\r\n      let customSchema = null;\r\n      if (params['schemaId'] === '1') {\r\n        if (ServicesUtils.getServices(RtfServices.getTabId(renderOption.queryId) + 'customScheme')) {\r\n          isCustomShema = true;\r\n          params.customSchema = ServicesUtils.getServices(RtfServices.getTabId(renderOption.queryId) + 'customScheme');\r\n          customSchema = JSON.parse(params.customSchema);\r\n          if (!params.excelExportName) {\r\n            params.excelExportName = customSchema && customSchema.titleOption && customSchema.titleOption.title\r\n              ? customSchema.titleOption.title : 'export'\r\n          }\r\n        } else {\r\n          this.msgService.warning(this.localizeService.getValue('spread.message.export'));\r\n          loading.close();\r\n          return;\r\n        }\r\n      }\r\n      if (this.operations['QdpQueryExport'] === false) {\r\n        this.msgService.warning(this.localizeService.getValue('spread.message.validate.qdpQueryExport'));\r\n        loading.close();\r\n        return;\r\n      }\r\n\r\n      try {\r\n        if (renderOption.controlType === 'treelist' && this.spread) {\r\n          let expandNodes = '';\r\n          if (value && value.schemaValue && value.schemaValue.otherOption && value.schemaValue.otherOption.treeInfoType !== 2) {\r\n            const pathField = value.schemaValue.otherOption.treeInfoType === 0 ? value.schemaValue.otherOption.pathField : value.schemaValue.otherOption.idField;\r\n            if (pathField) {\r\n              for (let i = 0; i < this.spread.getActiveSheet().getRowCount(); i++) {\r\n                if (this.spread.getActiveSheet().rowOutlines.isCollapsed(i)) {\r\n                  expandNodes += ',' + this.spread.getActiveSheet().getDataItem(i)[pathField];\r\n                }\r\n              }\r\n              params['expandNodes'] = expandNodes.substring(1);\r\n            }\r\n          }\r\n        }\r\n      } catch (e) {\r\n      }\r\n\r\n      this.columnCount = 0;\r\n      if (!isCustomShema) {\r\n        this.calculationColumnCount(value.schemaValue.columnOption.colList);\r\n      } else {\r\n        if (customSchema && customSchema.columnOption && customSchema.columnOption.colList) {\r\n          this.calculationColumnCount(customSchema.columnOption.colList);\r\n        }\r\n      }\r\n      this.lcpService.loading = loading;\r\n      if (this.getSecurityLevel()) {\r\n        params.excelExportName += '_' + this.getSecurityLevel();\r\n      }\r\n      if ((this.columnCount * renderOption.totalCount) < 100000) {\r\n        this.lcpService.exportData(params, renderOption.queryRelativeUrl);\r\n        loading.close();\r\n      } else {\r\n        this.lcpService.aysnExportData(params, renderOption.queryRelativeUrl);\r\n        loading.close();\r\n        this.msgService.warning(this.localizeService.getValue('spread.message.aysnExport'));\r\n      }\r\n    });\r\n  }\r\n\r\n  private calculationColumnCount(colList: any) {\r\n    try {\r\n      colList.forEach((item: any) => {\r\n        if (item.childList && item.childList.length) {\r\n          this.calculationColumnCount(item.childList);\r\n        } else {\r\n          this.columnCount += 1;\r\n        }\r\n      });\r\n    } catch (e) { this.columnCount = 0; }\r\n  }\r\n\r\n  clearCache(queryId: any, schemaId: any, controlType: any, qoManagerCode?: any, queryRelativeUrl?: any, filterCondition?: any, groupType?: any, voId?: any) {\r\n    this.renderObject.utils.get('schema').getSchemaInfo({ schemaId, queryId, queryRelativeUrl, groupType }).subscribe(value => {\r\n      schemaId = schemaId ? schemaId : (value && value.id ? value.id : '1');\r\n      const schemaName = value && value.schemaValue && value.schemaValue.titleOption && value.schemaValue.titleOption.title\r\n        ? value.schemaValue.titleOption.title\r\n        : value && value.schemaName\r\n          ? value.schemaName\r\n          : '';\r\n      const params = this.renderObject.utils.get('parameter').createParameters({\r\n        queryId,\r\n        controlType,\r\n        schemaId,\r\n        qoManagerCode,\r\n        pageIndex: 0,\r\n        pageSize: 0,\r\n        excelExportName: schemaName,\r\n        filterCondition,\r\n        voId\r\n      });\r\n      if (ServicesUtils.getServices(RtfServices.getTabId(queryId) + 'customScheme')) {\r\n        params.customSchema = ServicesUtils.getServices(RtfServices.getTabId(queryId) + 'customScheme');\r\n      }\r\n      this.lcpService.clearCache(params).subscribe(data => {\r\n        if (data) {\r\n          this.notifyService['success']({\r\n            title: this.localizeService.getValue('ideCmp.schemaManager.message.info.title'), msg: this.localizeService.getValue('spread.message.clearCache'), timeout: 3000\r\n          } as NotifyOptions);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  pdfExportEvent(renderOption: RenderOption) {\r\n  // pdfExportEvent(queryId: any, schemaId: any, controlType: any, qoManagerCode?: any, printIntegration?: any, queryRelativeUrl?: any, filterCondition?: any, groupType?: any, pageIndex?: any, voId?: any) {\r\n    const loading = this.loadService.show({ container: 'body' });\r\n    try {\r\n      this.renderObject.utils.get('schema').getSchemaInfo({ schemaId: renderOption.schemaValue, queryId: renderOption.queryId, queryRelativeUrl: renderOption.queryRelativeUrl, groupType: renderOption.groupType }).subscribe(value => {\r\n        renderOption.schemaId = renderOption.schemaId ? renderOption.schemaId : (value && value.id ? value.id : '1');\r\n        let schemaName = value && value.schemaValue && value.schemaValue.titleOption && value.schemaValue.titleOption.title\r\n          ? value.schemaValue.titleOption.title\r\n          : value && value.schemaName\r\n            ? value.schemaName\r\n            : '';\r\n        if (RtfServices.getFuncName()) {\r\n          schemaName = RtfServices.getFuncName() + '-' + schemaName;\r\n        }\r\n        renderOption.excelExportName = schemaName;\r\n        const params = this.renderObject.utils.get('parameter').createParameters(renderOption);\r\n        if (params['schemaId'] === '1') {\r\n          if (ServicesUtils.getServices(RtfServices.getTabId(renderOption.queryId) + 'customScheme')) {\r\n            params.customSchema = ServicesUtils.getServices(RtfServices.getTabId(renderOption.queryId) + 'customScheme');\r\n            const customSchema = JSON.parse(params.customSchema);\r\n            if (!params.excelExportName) {\r\n              params.excelExportName = customSchema && customSchema.titleOption && customSchema.titleOption.title\r\n                ? customSchema.titleOption.title : 'export'\r\n            }\r\n          } else {\r\n            this.msgService.warning(this.localizeService.getValue('spread.message.print'));\r\n            loading.close();\r\n            return;\r\n          }\r\n        }\r\n        if (this.operations['QdpQueryPrint'] === false) {\r\n          this.msgService.warning(this.localizeService.getValue('spread.message.validate.qdpQueryPrint'));\r\n          loading.close();\r\n          return;\r\n        }\r\n        if (this.getSecurityLevel()) {\r\n          params.excelExportName += '_' + this.getSecurityLevel();\r\n        }\r\n        this.lcpService.pdfExportEvent(params, renderOption.queryRelativeUrl);\r\n        loading.close();\r\n      });\r\n    } catch (e) {\r\n      loading.close();\r\n      // console.log(e);\r\n    }\r\n  }\r\n\r\n  printPreView(renderOption: RenderOption) {\r\n  // printPreView(queryId: any, schemaId: any, controlType: any, qoManagerCode?: any, printIntegration?: any, queryRelativeUrl?: any, filterCondition?: any, groupType?: any, pageIndex?: any, voId?: any) {\r\n    this.renderObject.utils.get('schema').getSchemaInfo({ schemaId: renderOption.schemaValue, queryId: renderOption.queryId, queryRelativeUrl: renderOption.queryRelativeUrl, groupType: renderOption.groupType }).subscribe(value => {\r\n      renderOption.schemaId = renderOption.schemaId ? renderOption.schemaId : (value && value.id ? value.id : '1');\r\n      const schemaName = value && value.schemaValue && value.schemaValue.titleOption && value.schemaValue.titleOption.title\r\n        ? value.schemaValue.titleOption.title\r\n        : value && value.schemaName\r\n          ? value.schemaName\r\n          : '';\r\n      renderOption.excelExportName = schemaName;\r\n      const params = this.renderObject.utils.get('parameter').createParameters(renderOption);\r\n      if (params['schemaId'] === '1') {\r\n        if (ServicesUtils.getServices(RtfServices.getTabId(renderOption.queryId) + 'customScheme')) {\r\n          params.customSchema = ServicesUtils.getServices(RtfServices.getTabId(renderOption.queryId) + 'customScheme');\r\n          const customSchema = JSON.parse(params.customSchema);\r\n          if (!params.excelExportName) {\r\n            params.excelExportName = customSchema && customSchema.titleOption && customSchema.titleOption.title\r\n              ? customSchema.titleOption.title : 'export'\r\n          }\r\n        } else {\r\n          this.msgService.warning(this.localizeService.getValue('spread.message.preview'));\r\n          return;\r\n        }\r\n      }\r\n      if (this.getSecurityLevel()) {\r\n        params.excelExportName += '_' + this.getSecurityLevel();\r\n      }\r\n      this.lcpService.cloudprintService = this.cloudprintService;\r\n      this.lcpService.printPreView(params, renderOption.queryRelativeUrl);\r\n    });\r\n  }\r\n\r\n  clearFirstLoadCache(queryId?: any) {\r\n    const funcId = RtfServices.getTabId(queryId);\r\n    const index = this.funcInfoCache.firstLoadCache.findIndex(el => el === funcId);\r\n    if (index >= 0) {\r\n      this.funcInfoCache.firstLoadCache.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n","import { Component, Injector, Input, OnInit, OnChanges, SimpleChanges, OnDestroy, AfterViewInit } from '@angular/core';\r\nimport { FormErrorService } from '@farris/command-services';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { EventBus, JSONUtils, RtfServices, SchemaManagerService } from '@qdp/common';\r\nimport { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';\r\nimport { RenderService } from '../../service/render/render.service';\r\n\r\n@Component({\r\n  selector: 'dimension-setting',\r\n  templateUrl: './dimension-setting.component.html',\r\n  styleUrls: ['./dimension-setting.component.css']\r\n})\r\nexport class DimensionSettingComponent implements OnInit, OnDestroy {\r\n  @Input() controlType;\r\n  schemaValue: any; // æ ¼å¼æ¹æ¡ä¿¡æ¯\r\n  colList: any; // åä¿¡æ¯\r\n  @Input() queryRelativeUrl: any; // åä¿¡æ¯\r\n  @Input() queryId: string;\r\n  @Input() qoManagerCode: any;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() groupType: any;\r\n  @Input() spread: any;\r\n  @Input() conditionExpression: any;\r\n  @Input() jointsearchInfoList: any;\r\n  @Input() qdpView: any;\r\n  isCompare = false;\r\n  zero: any; // æªéæ©\r\n  rowDimension: any; // è¡ç»´åº¦\r\n  colDimension: any; // åç»´åº¦\r\n  valDimension: any; // å¼ç»´åº¦  \r\n  searchText = '';\r\n  groupIcon = '<span class=\"k-icon k-i-search\"></span>';\r\n  public lists: any = [];\r\n  public listsCache: any = [];\r\n\r\n  public models = {\r\n    selected: null,\r\n    lists: this.lists\r\n  };\r\n\r\n  localizeService: LocalizeService;\r\n  renderService: RenderService;\r\n  msgService: MessagerService;\r\n  formErrorService: FormErrorService;\r\n  schemaManagerService: SchemaManagerService;\r\n\r\n  constructor(private injector: Injector) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.renderService = this.injector.get(RenderService);\r\n      this.msgService = this.injector.get(MessagerService);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n      this.schemaManagerService = this.injector.get(SchemaManagerService);\r\n    }\r\n    this.initLists();\r\n  }\r\n\r\n  ngOnInit() {\r\n    const eventId = RtfServices.getTabId(this.queryId);\r\n    EventBus.register('schemaValueChanged', this.handleSchemaValueChanged.bind(this), eventId + 'dimensionSetting');\r\n  }\r\n  ngOnDestroy() { }\r\n\r\n  private initLists() {\r\n    this.lists = [];\r\n    for (let i = 0; i < 4; i++) {\r\n      this.lists.push({\r\n        name: this.localizeService.getValue('spread.crossTable.dimensionName')[i],\r\n        value: []\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åå§åäº¤åè¡¨ç»´åº¦è®¾ç½®\r\n   */\r\n  initCrosstab() {\r\n    // this.renderService.renderObject.currentSchemaValueChanger.subscribe((schemaValue: any) => {\r\n    // });\r\n  }\r\n\r\n  private handleSchemaValueChanged(schemaValue: any) {\r\n    if (schemaValue) {\r\n      if (schemaValue.id === 1 || schemaValue.id === '1') return;\r\n      this.schemaValue = schemaValue;\r\n      if (this.controlType === 'crosstab') {\r\n        this.colList = schemaValue.schemaValue.columnOption.colList;\r\n        if (this.colList) {\r\n          this.zero = this.colList.filter((x: { dimension: number; }) => x.dimension === 0);\r\n          this.rowDimension = this.colList.filter(x => x.dimension === 1);\r\n          this.colDimension = this.colList.filter(x => x.dimension === 2);\r\n          this.valDimension = this.colList.filter(x => x.dimension === 3);\r\n          setTimeout(() => {\r\n            this.lists[0].value = this.zero;\r\n            this.listsCache = this.zero;\r\n            this.lists[1].value = this.rowDimension;\r\n            this.lists[2].value = this.colDimension;\r\n            this.lists[3].value = this.valDimension;\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  moved(index: number, list: Array<any>) {\r\n    list.splice(index, 1);\r\n    this.selectedDimesion();\r\n    if (this.schemaValue) {\r\n      if (this.schemaValue.isProtected === 1 || this.schemaValue.isProtected === '1') {\r\n        this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));\r\n        return;\r\n      }\r\n      this.schemaValue.schemaValue = JSON.stringify(this.schemaValue.schemaValue);\r\n      this.schemaManagerService.saveSchema({ 'schema': JSON.stringify(this.schemaValue) }, this.queryRelativeUrl).subscribe(() => {\r\n        this.renderService.render({ queryId: this.queryId, spread: this.spread, controlType: this.controlType, qoManagerCode: this.qoManagerCode, queryRelativeUrl: this.queryRelativeUrl, schemaValue: this.schemaValue, filterCondition: this.conditionExpression, groupType: this.groupType, voId: this.voId, jointsearchInfoList: this.jointsearchInfoList, fromCache: true, qdpView: this.qdpView });\r\n        this.schemaValue.schemaValue = typeof this.schemaValue.schemaValue === 'string' ? JSON.parse(this.schemaValue.schemaValue) : this.schemaValue.schemaValue;\r\n      }, (error: any) => {\r\n        this.formErrorService.exception(error.Message, error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private crosstabColumnValidate(columns: any) {\r\n    let flag = false;\r\n    if (this.controlType === 'crosstab') {\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let i = 0; i < columns.length; i++) {\r\n        if (columns[i].groupAggre !== 4 && columns[i].totalAggre !== 4) {\r\n          if (!'int,integer,float,double,decimal,number'.includes(columns[i].type ? columns[i].type.toLowerCase() : '')) {\r\n            flag = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  selectedDimesion() {\r\n    this.colList = [];\r\n    if (this.lists[0]) {\r\n      this.lists[0].value.forEach(value => {\r\n        value.dimension = 0;\r\n        value.isGroup = false;\r\n        value.groupAggre = 0;\r\n      });\r\n      this.colList = this.lists[0].value;\r\n    }\r\n    if (this.lists[1]) {\r\n      this.lists[1].value.forEach(value => {\r\n        value.dimension = 1;\r\n        value.isGroup = true;\r\n        value.groupAggre = 0;\r\n      });\r\n      if (this.colList.length === 0) {\r\n        this.colList = this.lists[1].value;\r\n      } else {\r\n        this.colList = this.colList.concat(this.lists[1].value);\r\n      }\r\n    }\r\n    if (this.lists[2]) {\r\n      this.lists[2].value.forEach(value => {\r\n        value.dimension = 2;\r\n        value.isGroup = true;\r\n        value.groupAggre = 0;\r\n      });\r\n      if (this.colList.length === 0) {\r\n        this.colList = this.lists[2].value;\r\n      } else {\r\n        this.colList = this.colList.concat(this.lists[2].value);\r\n      }\r\n    }\r\n    if (this.lists[3]) {\r\n      this.lists[3].value.forEach(value => {\r\n        value.dimension = 3;\r\n        value.isGroup = false;\r\n        value.groupAggre = 1;\r\n      });\r\n      if (this.colList.length === 0) {\r\n        this.colList = this.lists[3].value;\r\n      } else {\r\n        this.colList = this.colList.concat(this.lists[3].value);\r\n      }\r\n    }\r\n    if (this.colList.length > 0) {\r\n      try {\r\n        this.isCompare = JSONUtils.Compare({ schema: this.schemaValue.schemaValue.columnOption.colList }, { schema: this.colList });\r\n      } catch (e) { }\r\n      this.schemaValue.schemaValue.columnOption.colList = this.colList;\r\n    }\r\n  }\r\n\r\n  dimensionSearchValueOnChange(val: any) {\r\n    if (val) {\r\n      const searchCols = this.listsCache.find((item) => item.name.indexOf(val) >= 0);\r\n      this.lists[0].value = [...searchCols];\r\n    } else {\r\n      this.lists[0].value = [...this.listsCache];\r\n    }\r\n  }\r\n\r\n  dndListChange0($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[0].value = $event;\r\n    }\r\n  }\r\n  dndListChange1($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[1].value = $event;\r\n    }\r\n  }\r\n  dndListChange2($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[2].value = $event;\r\n    }\r\n  }\r\n  dndListChange3($event) {\r\n    if (this.crosstabColumnValidate($event)) {\r\n      for (let i = 0; i < $event.length; i++) {\r\n        const dimensionIndex = $event[i].dimension - 0;\r\n        if (dimensionIndex !== 3) {\r\n          this.lists[dimensionIndex].value = [...this.lists[dimensionIndex].value, $event.splice(i, 1)[0]]\r\n        }\r\n      }\r\n      this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.crosstabValueDimension'));\r\n      return;\r\n    }\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[3].value = $event;\r\n    }\r\n  }\r\n}\r\n","import { EventHandlerVars } from '@angular/compiler/src/compiler_util/expression_converter';\r\nimport { Component, Injector, Input, OnInit, LOCALE_ID, OnChanges, SimpleChanges, OnDestroy, AfterViewInit } from '@angular/core';\r\nimport { FormErrorService } from '@farris/command-services';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { EventBus, JSONUtils, RtfServices, SchemaManagerService } from '@qdp/common';\r\nimport { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';\r\nimport { filter } from 'lodash-es';\r\nimport { RenderService } from '../../service/render/render.service';\r\n\r\n@Component({\r\n  selector: 'columns-setting',\r\n  templateUrl: './columns-setting.component.html',\r\n  styleUrls: ['./columns-setting.component.css']\r\n})\r\nexport class ColumnsSettingComponent implements OnInit, OnDestroy {\r\n  @Input() controlType;\r\n  schemaValue: any; // æ ¼å¼æ¹æ¡ä¿¡æ¯\r\n  colList: any; // åä¿¡æ¯\r\n  @Input() queryRelativeUrl: any; // åä¿¡æ¯\r\n  @Input() queryId: string;\r\n  @Input() qoManagerCode: any;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() groupType: any;\r\n  @Input() spread: any;\r\n  @Input() conditionExpression: any;\r\n  @Input() jointsearchInfoList: any;\r\n  @Input() qdpView: any;\r\n  hideColCache: any = []; // éèå\r\n  showColCache: any = []; // æ¾ç¤ºå\r\n  groupColCache: any = []; // åç»å\r\n  allColCache: any = []; // å¨é¨å\r\n  searchText = '';\r\n  isCompare = false;\r\n  groupIcon = '<span class=\"k-icon k-i-search\"></span>';\r\n  public lists: any = [];\r\n  public listsCache: any = []; \r\n\r\n  multiSheets: any[];  //å¤sheeté¡µæ¯æ\r\n  curSheet: any;\r\n  multiSheetsSchemaIds: any = {};\r\n\r\n  public models = {\r\n    selected: null,\r\n    lists: this.lists\r\n  };\r\n\r\n  localizeService: LocalizeService;\r\n  renderService: RenderService;\r\n  formErrorService: FormErrorService;\r\n  schemaManagerService: SchemaManagerService;\r\n  localId: any;\r\n  formInline = true;\r\n  isOrNotPaging = true;\r\n\r\n  // formatTypeData: any = [\r\n  //   { name: 'è¯·éæ©', value: 0 },\r\n  //   { name: 'æ°å­', value: 1 },\r\n  //   { name: 'æ¥æ', value: 2 },\r\n  //   { name: 'é»è¾', value: 3 }\r\n  // ];\r\n  // formatTypeSelectValue: any = this.formatTypeData[0].value;\r\n  // formatText = '';\r\n  aggreData: any = [\r\n    { name: 'è¯·éæ©', value: 0 },\r\n    { name: 'åè®¡', value: 1 },\r\n    { name: 'æå°å¼', value: 2 },\r\n    { name: 'æå¤§å¼', value: 3 },\r\n    { name: 'è®¡æ°', value: 4 },\r\n    { name: 'å¹³åå¼', value: 5 }\r\n  ];\r\n  pageSelectValue: any = this.aggreData[0].value;\r\n  pageText = '';\r\n  colIsGroup: any = false;\r\n  groupSelectValue: any = this.aggreData[0].value;\r\n  groupSubSelectValue: any = this.aggreData[0].value;\r\n  groupText = '';\r\n  totalSelectValue: any = this.aggreData[0].value;\r\n  totalText = '';\r\n  currentColIndex = 0;\r\n  enumType: any = [\r\n    { name: 'ç´¢å¼', value: '0' },\r\n    { name: 'ç¼å·', value: '1' },\r\n    { name: 'åç§°', value: '2' }\r\n  ];\r\n  msgService: MessagerService;\r\n\r\n  constructor(private injector: Injector) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.renderService = this.injector.get(RenderService);\r\n      this.msgService = this.injector.get(MessagerService);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n      this.schemaManagerService = this.injector.get(SchemaManagerService);\r\n      this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;\r\n      this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;\r\n      this.aggreData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateData');\r\n      this.enumType = this.localizeService.getValue('ideCmp.schemaManager.columnOption.enumType');\r\n    }\r\n    this.initLists();\r\n  }\r\n\r\n  ngOnInit() {\r\n    const eventId = RtfServices.getTabId(this.queryId);\r\n    EventBus.register('pagingModeChanges', this.handlePagingModeChanged.bind(this), eventId + 'columnsSetting');\r\n    EventBus.register('schemaValueChanged', this.handleSchemaValueChanged.bind(this), eventId + 'columnsSetting');\r\n  }\r\n  ngOnDestroy() { }\r\n\r\n  private initLists() {\r\n    this.lists = [];\r\n    for (let i = 0; i < 3; i++) {\r\n      this.lists.push({\r\n        name: this.localizeService.getValue('spread.crossTable.columnSetting')[i],\r\n        value: []\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åå§åäº¤åè¡¨ç»´åº¦è®¾ç½®\r\n   */\r\n  initCrosstab() {\r\n    // this.renderService.renderObject.currentSchemaValueChanger.subscribe((schemaValue: any) => {\r\n    // });\r\n  }\r\n\r\n  private handleSchemaValueChanged(schemaValue: any) {\r\n    if (schemaValue) {\r\n      this.schemaValue = schemaValue;\r\n      if (schemaValue.id === 1 || schemaValue.id === '1') {\r\n        this.lists[0].value = [];\r\n        this.listsCache = [];\r\n        this.lists[1].value = [];\r\n        this.lists[2].value = [];\r\n        return;\r\n      }\r\n      if (this.controlType !== 'crosstab') {\r\n        this.colList = schemaValue.schemaValue.columnOption.colList;\r\n        if (this.colList) {\r\n          this.hideColCache = []; // éèå\r\n          this.showColCache = []; // æ¾ç¤ºå\r\n          this.groupColCache = []; // åç»å\r\n          this.allColCache = []; // å¨é¨å\r\n          for (let i = 0; i < this.colList.length; i++) {\r\n            this.getSubColumns(this.colList[i], null, '');\r\n          }\r\n          setTimeout(() => {\r\n            this.lists[0].value = this.hideColCache;\r\n            this.listsCache = this.hideColCache;\r\n            this.lists[1].value = this.showColCache;\r\n            this.lists[2].value = this.groupColCache;\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getSubColumns(col: any, colList: any, pid: any) {\r\n    if (col) {\r\n      col['id'] = EventBus.guid();\r\n      col['pid'] = pid;\r\n      const pcol = JSON.parse(JSON.stringify(col));\r\n      pcol.childList = [];\r\n      this.allColCache.push(pcol);\r\n      if (col.childList && col.childList.length) {\r\n        this.getSubColumns(null, col.childList, col['id']);\r\n      } else {\r\n        if (col.isGroup) {\r\n          this.groupColCache.push(col);\r\n        } else if (col.visible) {\r\n          this.showColCache.push(col);\r\n        } else {\r\n          this.hideColCache.push(col);\r\n        }\r\n      }\r\n    } else {\r\n      for (let i = 0; i < colList.length; i++) {\r\n        colList[i]['id'] = EventBus.guid();\r\n        colList[i]['pid'] = pid;\r\n        const pcol = JSON.parse(JSON.stringify(colList[i]));\r\n        pcol.childList = [];\r\n        this.allColCache.push(pcol);\r\n        if (colList[i].childList && colList[i].childList.length) {\r\n          this.getSubColumns(null, colList[i].childList, colList[i]['id']);\r\n        } else {\r\n          if (colList[i].isGroup) {\r\n            this.groupColCache.push(colList[i]);\r\n          } else if (colList[i].visible) {\r\n            this.showColCache.push(colList[i]);\r\n          } else {\r\n            this.hideColCache.push(colList[i]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  moved(index: number, list: Array<any>) {\r\n    list.splice(index, 1);\r\n    this.selectedDimesion();\r\n    if (this.schemaValue) {\r\n      if (this.schemaValue.isProtected === 1 || this.schemaValue.isProtected === '1') {\r\n        this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));\r\n        return;\r\n      }\r\n      this.schemaValue.schemaValue = JSON.stringify(this.schemaValue.schemaValue);\r\n      this.schemaManagerService.saveSchema({ 'schema': JSON.stringify(this.schemaValue) }, this.queryRelativeUrl).subscribe(() => {\r\n        this.renderService.render({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets, schemaId: this.schemaValue.id, queryId: this.queryId, spread: this.spread, controlType: this.controlType, qoManagerCode: this.qoManagerCode, queryRelativeUrl: this.queryRelativeUrl, schemaValue: this.schemaValue, filterCondition: this.conditionExpression, groupType: this.groupType, voId: this.voId, jointsearchInfoList: this.jointsearchInfoList, fromCache: true, qdpView: this.qdpView });\r\n        this.schemaValue.schemaValue = typeof this.schemaValue.schemaValue === 'string' ? JSON.parse(this.schemaValue.schemaValue) : this.schemaValue.schemaValue;\r\n      }, (error: any) => {\r\n        this.formErrorService.exception(error.Message, error);\r\n      });\r\n    }\r\n  }\r\n\r\n  selectedDimesion() {\r\n    this.colList = [];\r\n    if (this.lists[0]) {\r\n      this.lists[0].value.forEach(value => {\r\n        value.isGroup = false;\r\n        value.visible = false;\r\n      });\r\n      this.colList = this.lists[0].value;\r\n    }\r\n    if (this.lists[1]) {\r\n      this.lists[1].value.forEach(value => {\r\n        value.isGroup = false;\r\n        value.visible = true;\r\n      });\r\n      if (this.colList.length === 0) {\r\n        this.colList = this.lists[1].value;\r\n      } else {\r\n        this.colList = this.colList.concat(this.lists[1].value);\r\n      }\r\n    }\r\n    if (this.lists[2]) {\r\n      this.lists[2].value.forEach(value => {\r\n        value.isGroup = true;\r\n        value.visible = false;\r\n      });\r\n      if (this.colList.length === 0) {\r\n        this.colList = this.lists[2].value;\r\n      } else {\r\n        this.colList = this.colList.concat(this.lists[2].value);\r\n      }\r\n    }\r\n    if (this.colList.length > 0) {\r\n      for (let i = 0; i < this.colList.length; i++) {\r\n        if (this.colList[i].isGroup) continue;\r\n        const filterCondition: any = { pid: this.colList[i]['pid'] };\r\n        if (i == 0 && this.colList.length > 1) {\r\n          if (this.colList.length > 2) {\r\n            if (this.colList[i]['pid'] && this.colList[i + 2]['pid'] && this.colList[i]['pid'] == this.colList[i + 2]['pid']) {\r\n              this.colList[i]['pid'] = this.colList[i + 2]['pid'];\r\n            }\r\n          } else {\r\n            if (this.colList[i]['pid'] && this.colList[i]['pid'] != this.colList[i + 1]['pid'] && filter(this.colList, filterCondition) && filter(this.colList, filterCondition).length > 1) {\r\n              this.colList[i]['pid'] = '';\r\n            }\r\n          }\r\n        } else if (i == (this.colList.length - 1) && this.colList.length > 1) {\r\n          if (this.colList[i]['pid'] && this.colList[i]['pid'] != this.colList[i - 1]['pid'] && filter(this.colList, filterCondition) && filter(this.colList, filterCondition).length > 1) {\r\n            this.colList[i]['pid'] = '';\r\n          }\r\n        } else if (i > 0 && i < (this.colList.length - 1)) {\r\n          if (this.colList[i - 1]['pid'] && this.colList[i + 1]['pid'] && this.colList[i - 1]['pid'] == this.colList[i + 1]['pid']) {\r\n            this.colList[i]['pid'] = this.colList[i - 1]['pid'];\r\n          }\r\n        }\r\n      }\r\n      for (let i = 0; i < this.colList.length; i++) {\r\n        this.recursiveFindParent(this.colList, i, this.colList[i]['pid']);\r\n      }\r\n\r\n      const objCache = {};\r\n      for (let i = 0; i < this.colList.length; i++) {\r\n        objCache[this.colList[i]['id']] = this.colList[i];\r\n      }\r\n      const result = [];\r\n      for (const key in objCache) {\r\n        const parent = objCache[objCache[key]['pid']];\r\n        if (!parent) {\r\n          result.push(objCache[key]);\r\n        } else {\r\n          parent['childList'].push(objCache[key])\r\n        }\r\n      }\r\n      if (this.colList.length > 0) {\r\n        try {\r\n          this.isCompare = JSONUtils.Compare({ schema: this.schemaValue.schemaValue.columnOption.colList }, { schema: result });\r\n        } catch (e) { }\r\n        this.schemaValue.schemaValue.columnOption.colList = result;\r\n        // this.schemaValue.schemaValue.columnOption.colList = this.colList;\r\n      }\r\n    }\r\n  }\r\n\r\n  private recursiveFindParent(colList: any[], index: any, pid: any) {\r\n    const colIndex = this.allColCache.findIndex(x => x.id == pid);\r\n    if (colIndex >= 0 && this.colList.findIndex(x => x.id === this.allColCache[colIndex].id) < 0) {\r\n      this.colList.splice(index, 0, this.allColCache[colIndex]);\r\n      if (this.allColCache[colIndex]['pid']) {\r\n        this.recursiveFindParent(colList, index, this.allColCache[colIndex]['pid']);\r\n      }\r\n    }\r\n  }\r\n\r\n  dimensionSearchValueOnChange(val: any) {\r\n    if (val) {\r\n      const searchCols = this.listsCache.find((item) => item.name.indexOf(val) >= 0);\r\n      this.lists[0].value = [...searchCols];\r\n    } else {\r\n      this.lists[0].value = [...this.listsCache];\r\n    }\r\n  }\r\n\r\n  dndListChange0($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[0].value = $event;\r\n    }\r\n  }\r\n  dndListChange1($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[1].value = $event;\r\n    }\r\n  }\r\n  dndListChange2($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[2].value = $event;\r\n    }\r\n  }\r\n  dndListChange3($event) {\r\n    if (this.lists && this.lists.length) {\r\n      this.lists[3].value = $event;\r\n    }\r\n  }\r\n\r\n  private handlePagingModeChanged(pagingMode: any) {\r\n    this.isOrNotPaging = pagingMode.value === 1;\r\n  }\r\n}\r\n","import {\r\n  Component, Input, OnChanges, SimpleChanges, AfterViewInit, OnDestroy,\r\n  ElementRef, Inject, OnInit, Renderer2, HostBinding, Injector, Optional,\r\n  ViewChild, LOCALE_ID, Output, EventEmitter\r\n} from '@angular/core';\r\nimport { RenderService } from '../../service/render/render.service';\r\nimport { FilterManagerService, SchemaManagerService, EventBus, DataRenderExtendService, JointSearchManagerService, LcpService, QDPCacheUtil, RtfServices } from '@qdp/common';\r\nimport { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { ServicesUtils } from '../../util/services.utils';\r\nimport { RenderOption } from '../../entity/RenderOption';\r\nimport { DimensionSettingComponent } from '../dimension-setting/dimension-setting.component';\r\nimport { ColumnsSettingComponent } from '../columns-setting/columns-setting.component';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { FormErrorService } from '@farris/command-services';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { Subject } from 'rxjs';\r\n\r\ndeclare var GC: any;\r\n\r\nconst matches = (el, selector) => (el.matches || el.msMatchesSelector).call(el, selector);\r\n@Component({\r\n  selector: 'qdp-view',\r\n  templateUrl: './qdp-view.component.html',\r\n  styleUrls: ['./qdp-view.component.css']\r\n})\r\nexport class QdpViewComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\r\n  localizeService: LocalizeService;\r\n  @ViewChild('sheet', { read: ElementRef }) public sheetEl: ElementRef;\r\n  @ViewChild(DimensionSettingComponent) dimensionSettingComponent;\r\n  @ViewChild(ColumnsSettingComponent) columnsSettingComponent;\r\n  aggreData: any = [\r\n    { name: 'è¯·éæ©', value: 0 },\r\n    { name: 'åè®¡', value: 1 },\r\n    { name: 'æå°å¼', value: 2 },\r\n    { name: 'æå¤§å¼', value: 3 },\r\n    { name: 'è®¡æ°', value: 4 },\r\n    { name: 'å¹³åå¼', value: 5 }\r\n  ];\r\n  groupSelectValue = this.aggreData[0].value;\r\n  groupText = '';\r\n  colIsGroup = false;\r\n  formInline = true;\r\n  localId: any;\r\n  msgService: any;\r\n  currentColIndex = 0;\r\n  schemaManager: SchemaManagerService;\r\n  jointSearchManagerService: JointSearchManagerService;\r\n  lcpService: LcpService;\r\n  pageIndex: any;\r\n  dataRenderExtendService: any;\r\n  loadService: LoadingService;\r\n  formErrorService: FormErrorService;\r\n  cache: CacheService;\r\n  @Input() isInitQdpView = true;  // æ¯å¦åå§åqdpViewComponent\r\n  @Input() isShowDimension = true;\r\n\r\n  constructor(\r\n    @Inject(ElementRef) elRef: ElementRef,\r\n    public renderService: RenderService,\r\n    private renderer: Renderer2,\r\n    private filterService: FilterManagerService,\r\n    @Optional() private injector: Injector\r\n  ) {\r\n    this.elRef = elRef;\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.msgService = this.injector.get(MessagerService);\r\n      this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;\r\n      this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;\r\n      this.loadService = this.injector.get(LoadingService);\r\n      this.lcpService = this.injector.get(LcpService);\r\n      this.jointSearchManagerService = this.injector.get(JointSearchManagerService);\r\n      this.schemaManager = this.injector.get(SchemaManagerService);\r\n      this.dataRenderExtendService = this.injector.get(DataRenderExtendService);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n      this.aggreData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateData');\r\n      this.cache = this.injector.get(CacheService);\r\n    }\r\n  }\r\n\r\n  private setServices() {\r\n    ServicesUtils.setServices('renderExtends' + this.queryId, this.dataRenderExtendService);\r\n  }\r\n\r\n  @HostBinding('class.f-utils-fill-flex-column') cls = true;\r\n  public spread: any;\r\n  private elRef: ElementRef;\r\n  private spreadOptions: any[];\r\n  public isOpen = false;\r\n  private docClickSubscription: any;\r\n  headerMenuTop = 0;\r\n  headerMenuLeft = 0;\r\n  headerMenuDisplay = 'none';\r\n  colIsGroupId = 'colIsGroup' + EventBus.guid();\r\n\r\n  style = {\r\n    width: '800px',\r\n    height: '600px'\r\n  };\r\n\r\n  // indicate all options\r\n  @Input() isCommonQdpViewComponent = false;\r\n  @Input() allowUserDragDrop: boolean;        // æå®æ¯å¦åè®¸ææ½Rangeæ°æ®\r\n  @Input() allowUserDragFill: boolean;        // æå®æ¯å¦åè®¸ææ½å¡«åèå´\r\n  @Input() allowUserZoom: boolean;            // æå®æ¯å¦åè®¸æä½ctrl, é¼ æ æ»è½®è¿è¡ç¼©æ¾\r\n  @Input() allowUserResize: boolean;          // æå®æ¯å¦åè®¸è°æ´ååè¡çå¤§å°\r\n  @Input() showHorizontalScrollbar: boolean;  // æå®æ¯å¦æ¾ç¤ºåç´æ¹åçæ»å¨æ¡\r\n  @Input() showVerticalScrollbar: boolean;    // æå®æ¯å¦æ¾ç¤ºæ°´å¹³æ¹åçæ»å¨æ¡\r\n  @Input() tabStripVisible: boolean;          // æå®æ¯å¦æ¾ç¤ºTabæ ç­¾é¡µ\r\n  @Input() allowUndo: boolean;                // æå®æ¯å¦åè®¸æ¤é\r\n  @Input() allowSheetReorder: boolean;        // æå®ç¨æ·æ¯å¦å¯ä»¥éæ°æåºSpreadç»ä»¶ä¸­çå·¥ä½è¡¨ï¼å¯é\r\n  @Input() allowCopyPasteExcelStyle: boolean; // æå®æ¯å¦åè®¸æ·è´ãç²è´´Excelæ ·å¼\r\n  @Input() allowExtendPasteRange: boolean;    // æå®æ¯å¦æ©å±ç²è´´èå´\r\n  @Input() copyPasteHeaderOptions: boolean;   // æå®æ·è´æ¯å¦åæ¬è¡¨å¤´\r\n  @Input() showDragFillSmartTag: boolean;     // æå®æ¯å¦æ¾ç¤ºææ½å¡«åå¯¹è¯æ¡\r\n  @Input() scrollbarShowMax: boolean;         // æå®æ¾ç¤ºçæ»å¨æ¡æ¯å¦åºäºå·¥ä½è¡¨ä¸­çæ´ä¸ªåæ°åè¡æ°\r\n  @Input() scrollbarMaxAlign: boolean;        // æå®æ»å¨æ¡æ¯å¦ä¸æ´»å¨å·¥ä½è¡¨çæåä¸è¡ååå¯¹é½\r\n  @Input() tabEditable: boolean;              // æå®æ¯å¦å¯ä»¥ç¼è¾sheet tab\r\n  @Input() newTabVisible: boolean;            // æå®æ¯å¦æ¾ç¤ºæ°å¢tabæé®\r\n  @Input() tabNavigationVisible: boolean;     // æå®æ¯å¦æ¾ç¤ºå·¥ä½è¡¨éé¡¹å¡å¯¼èª\r\n  @Input() backColor: string;                 // èæ¯è²è®¾ç½®\r\n  @Input() backgroundImage: string;           // èæ¯å¾çè®¾ç½®\r\n  @Input() backgroundImageLayout: number;     // èæ¯å¾ççå¸å±è®¾ç½®\r\n  @Input() grayAreaBackColor: string;         // ç°è²åºåçèæ¯è²è®¾ç½®\r\n  @Input() showResizeTip: number;             // æå®å¦ä½æ¾ç¤ºè°æ´å¤§å°æç¤º\r\n  @Input() showDragDropTip: boolean;          // æå®æ¯å¦æ¾ç¤ºææ½æç¤º\r\n  @Input() showDragFillTip: boolean;          // æå®æ¯å¦æ¾ç¤ºææ½å¡«åæç¤º\r\n  @Input() showScrollTip: number;             // æå®æ¯å¦æ¾ç¤ºæ»å¨æ¡æç¤º\r\n  @Input() highlightInvalidData: boolean;     // æå®æ¯å¦é«äº®æ¾ç¤ºæ ææ°æ®\r\n  @Input() useTouchLayout: boolean;           // æå®æ¯å¦ä½¿ç¨è§¦æ¸å¸å±æ¥æ¾ç¤ºspread\r\n  @Input() hideSelection: boolean;            // æå®å½spreadç»ä»¶æ²¡æç¦ç¹æ¶æ¯å¦éæ©çªåºæ¾ç¤º\r\n  @Input() allowUserEditFormula: boolean;     // æå®ç¨æ·æ¯å¦å¯ä»¥ç¼è¾ååæ ¼ä¸­çå¬å¼\r\n  @Input() enableFormulaTextbox: boolean;     // æå®æ¯å¦å¯ç¨å¬å¼ææ¬æ¡\r\n  @Input() autoFitType: number;               // æå®æ¯å¦å°åå®¹æ ¼å¼åä¸ºéåååæ ¼åæ é¢ä¸­çåå®¹\r\n  @Input() referenceStyle: number;            // å·¥ä½è¡¨ä¸ååæ ¼å¬å¼ä¸­ååæ ¼åèå´å¼ç¨çæ ·å¼\r\n  @Input() hostStyle: any; // used for get styles form parent host DIV\r\n  @Input() hostClass: string;\r\n  @Input() name: string;\r\n  @Input() queryId: string;\r\n  @Input() controlType: string; // æ¥è¯¢ç±»å\r\n  @Input() licenseKey: string;\r\n  @Input() qoManagerCode: any;\r\n  @Input() queryRelativeUrl: any;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() groupType: any;\r\n  @Input() templateType: any;\r\n  @Input() multiSheets: any[];  //å¤sheeté¡µæ¯æ\r\n  curSheet: any;\r\n  sheetChanged = new Subject<any>(); //åæ¢sheetçå¬äºä»¶\r\n  multiSheetsSchemaIds: any = {};\r\n\r\n  sheet: any;\r\n  // æ ¼å¼æ¹æ¡ä¿¡æ¯\r\n  schemaValue: any;\r\n  colList: any; // åä¿¡æ¯\r\n  @Input() formData: any; // æ¥æºæ°æ®\r\n  searchText = '';\r\n  groupIcon = '<span class=\"k-icon k-i-search\"></span>';\r\n  conditionExpression = null;\r\n  jointsearchInfoList: any;\r\n  loading: any;\r\n  tabId: any;\r\n\r\n  ngOnInit() {\r\n    this.loading = this.loadService.show({ container: 'body' });\r\n    this.setServices();\r\n    // äº¤åè¡¨ç»æé¡µçå¬äºä»¶\r\n    if (this.controlType === 'crosstab') {\r\n      this.docClickSubscription = this.renderer.listen('document', 'click', this.onDocumentClick.bind(this));\r\n    }\r\n    this.tabId = RtfServices.getTabId(this.queryId);\r\n    // ç¼å­ç»æé¡µå¯¹è±¡ï¼ç»å·¥å·æ ä½¿ç¨\r\n    QDPCacheUtil.setCache(this.tabId + this.queryId + this.controlType + 'qdpview', this);\r\n    ServicesUtils.setServices(this.tabId + 'qoId', this.qoId);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    try {\r\n      // éè¿éç½®ä¸­å¿ï¼è·åspreadjsæ§ä»¶åºåå·\r\n      this.lcpService.formErrorService = this.formErrorService;\r\n      this.lcpService.getSpreadLicense().subscribe(data => {\r\n        if (data) {\r\n          GC.Spread.Sheets.LicenseKey = data;\r\n        }\r\n        this.afterView();\r\n      });\r\n    } catch (e) {\r\n      this.loading.close();\r\n    }\r\n    this.setMultiSheetsVarible();\r\n  }\r\n\r\n  private setMultiSheetsVarible() {\r\n    if (this.columnsSettingComponent) {\r\n      this.columnsSettingComponent.multiSheets = this.multiSheets;\r\n      this.columnsSettingComponent.curSheet = this.curSheet;\r\n      this.columnsSettingComponent.multiSheetsSchemaIds = this.multiSheetsSchemaIds;\r\n    }\r\n  }\r\n\r\n  afterView() {\r\n    const elRef = this.elRef;\r\n    const dom = elRef.nativeElement as HTMLElement;\r\n    const hostElement = dom.querySelector('#sheet');\r\n    if (this.licenseKey) {\r\n      GC.Spread.Sheets.LicenseKey = this.licenseKey;\r\n    }\r\n    this.spread = new GC.Spread.Sheets.Workbook(hostElement, { sheetCount: 0 });\r\n    this.setSpreadOptions();\r\n    // this.bindCustomEvent(this.spread);\r\n    const eventId = this.tabId;\r\n    EventBus.register('schemaValueChanged', this.handleSchemaValueChanged.bind(this), eventId + 'qdpViewComponent');\r\n    if (this.templateType !== 'qdpAdvancedTemplate' && this.isInitQdpView) {\r\n      this.initQdpView();\r\n    } else {\r\n      this.loading.close();\r\n    }\r\n  }\r\n\r\n  private handleSchemaValueChanged(schemaValue: any) {\r\n    this.schemaValue = schemaValue;\r\n    if (this.curSheet && this.multiSheets.length && schemaValue && schemaValue.id) {\r\n      this.multiSheetsSchemaIds[this.curSheet] = schemaValue.id;\r\n      this.setMultiSheetsVarible();\r\n    }\r\n  }\r\n\r\n  public initQdpView() {\r\n    const self = this;\r\n    if (!this.loading) {\r\n      this.loading = this.loadService.show({ container: 'body' });\r\n    }\r\n    this.jointSearchManagerService.getjointsearch('form' + 'ff3ea474-cc65-23b0-cdb1-73c9146cea3b', this.queryId, '').subscribe((jointsearchList: any) => {\r\n      this.filterService.getFilter(this.qoManagerCode ? this.qoManagerCode : this.queryId, this.queryId, this.queryRelativeUrl, 1, this.groupType).subscribe(data => {\r\n        self.conditionExpression = null;\r\n        self.jointsearchInfoList = jointsearchList;\r\n        if (data && data.filter) { self.conditionExpression = JSON.stringify(data.filter); }\r\n        const renderOption: RenderOption = Object.assign({ multiSheetsSchemaIds: self.multiSheetsSchemaIds, curSheet: self.curSheet, multiSheets: self.multiSheets }, { queryId: self.queryId, controlType: self.controlType, qoManagerCode: self.qoManagerCode, pageIndex: 0, queryRelativeUrl: self.queryRelativeUrl, filterCondition: self.conditionExpression, groupType: self.groupType, voId: self.voId, jointsearchInfoList: self.jointsearchInfoList, loading: this.loading });\r\n        this.qdpViewRender(renderOption);\r\n      });\r\n    });\r\n  }\r\n\r\n  private bindCustomEvent(spread: any) {\r\n    // const customEventNameSpace = '.ng';\r\n    // const events = [];\r\n    // events.forEach((event) => {\r\n    //   spread.bind(event + customEventNameSpace, (event: any, data: any) => {\r\n    //     const eventType = event.type;\r\n    //     const camelCaseEvent = eventType[0].toLowerCase() + eventType.substr(1);\r\n    //     this[camelCaseEvent].emit(data);\r\n    //   });\r\n    // });\r\n  }\r\n\r\n  setSpreadOptions() {\r\n    const self = this;\r\n    const spread = this.spread;\r\n    if (!this.spread) {\r\n      return;\r\n    }\r\n    spread.suspendEvent();\r\n    spread.suspendPaint();\r\n    this.spread.fromJSON(null);\r\n    const options = this.spreadOptions;\r\n    if (options) {\r\n      options.forEach((option) => {\r\n        if (option.name === 'name') {\r\n          spread.name = option.value;\r\n        } else {\r\n          spread.options[option.name] = option.value;\r\n        }\r\n      });\r\n    }\r\n    spread.unbind(GC.Spread.Sheets.Events.ActiveSheetChanged);\r\n    spread.bind(GC.Spread.Sheets.Events.ActiveSheetChanged, function (e, args) {\r\n      self.curSheet = args.newSheet.name();\r\n      self.setGroup(self.curSheet);\r\n      self.setMultiSheetsVarible();\r\n      self.initQdpView();\r\n    });\r\n    spread.resumePaint();\r\n    spread.resumeEvent();\r\n  }\r\n\r\n  /**\r\n   * æ¹æ³å·²åºå¼ï¼å»ºè®®æ¿æ¢ä¸ºinitQDPViewæ¹æ³\r\n   * åå§åæ¥è¯¢ç»æé¡µæ§ä»¶\r\n   */\r\n  initSpread(queryId: string, schemaId: string, controlType?: any, qoManagerCode?: any, pageIndex?: any, queryRelativeUrl?: any, filterCondition?: any, groupType?: any, voId?: any, fromCache?: any, isSchemaSelectChanged?: any) {\r\n    if (this.curSheet && this.multiSheets.length) {\r\n      this.multiSheetsSchemaIds[this.curSheet] = schemaId;\r\n      this.setMultiSheetsVarible();\r\n    }\r\n    this.qdpViewRender(Object.assign({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets }, { schemaId, queryId, spread: this.spread, controlType, qoManagerCode, pageIndex, queryRelativeUrl, filterCondition, formData: this.formData, groupType: groupType, voId: voId, qdpView: this, fromCache, isSchemaSelectChanged, jointsearchInfoList: this.jointsearchInfoList }));\r\n  }\r\n\r\n  /**\r\n   * åå§åæ¥è¯¢ç»ææ§ä»¶\r\n   */\r\n  qdpViewRender(option: RenderOption) {\r\n    if (!option.loading) {\r\n      option.loading = this.loadService.show({ container: 'body' });\r\n    }\r\n    option.voId = !option.voId ? this.voId : option.voId;\r\n    option.groupType = !option.groupType ? this.groupType : option.groupType;\r\n    option.fromCache = option.fromCache ? option.fromCache : false;\r\n    if (option.filterCondition) {\r\n      this.conditionExpression = option.filterCondition;\r\n    }\r\n    const renderOption: RenderOption = Object.assign({}, option, { formData: this.formData, spread: this.spread, qdpView: this });\r\n    this.renderService.render(renderOption);\r\n    EventBus.register(this.queryId + 'spread_init', this.registeSpreadColumnWidthChangedEvent.bind(this), this.queryId);\r\n  }\r\n\r\n  /**\r\n   * æ¹æ³å·²åºå¼ï¼å»ºè®®æ¿æ¢ä¸ºexportæ¹æ³\r\n   * å¯¼åºExcel\r\n   */\r\n  exportExcel(queryId: string, id: string, type?: any, pageIndex?: any, qoManagerCode?: any, queryRelativeUrl?: any, filterCondition?: any, groupType?: any, voId?: any, totalCount?: any, exportType?: any) {\r\n    this.export(Object.assign({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets }, { queryId, schemaId: id, controlType: type, pageIndex, qoManagerCode, queryRelativeUrl, filterCondition, groupType, voId, totalCount, exportType }));\r\n  }\r\n\r\n  /**\r\n   * å¯¼åºExcel\r\n   * @param opiton æ¸²æéç½®é¡¹\r\n   */\r\n  export(option: RenderOption) {\r\n    if (this.controlType === 'crosstab') {\r\n      option.totalCount = this.spread.getActiveSheet().getRowCount();\r\n    }\r\n    option.voId = this.voId ? this.voId : option.voId;\r\n    option.queryId = this.queryId ? this.queryId : option.queryId;\r\n    option.groupType = this.groupType ? this.groupType : option.groupType;\r\n    option.qoManagerCode = this.qoManagerCode ? this.qoManagerCode : option.qoManagerCode;\r\n    this.renderService.exportData(option);\r\n    // this.renderService.exportData(option.queryId, option.schemaId, option.controlType, option.pageIndex, option.qoManagerCode, option.queryRelativeUrl, option.filterCondition, option.groupType, option.voId, option.totalCount || 1, option.exportType);\r\n  }\r\n\r\n  /**\r\n   * æ¹æ³å·²åºå¼ï¼å»ºè®®æ¿æ¢ä¸ºprintæ¹æ³\r\n   * æå°PDF\r\n   */\r\n  pdfExportEvent(queryId: string, id: string, type?: any, qoManagerCode?: any, printIntegration?: any, queryRelativeUrl?: any, filterCondition?: any, pageIndex?: any, groupType?: any, voId?: any) {\r\n    this.print(Object.assign({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets }, { queryId, schemaId: id, controlType: type, pageIndex, qoManagerCode, queryRelativeUrl, printIntegration, filterCondition, groupType, voId }));\r\n  }\r\n\r\n  /**\r\n   * æå°\r\n   * @param option æ¸²æéç½®é¡¹\r\n   */\r\n  print(option: RenderOption) {\r\n    option.voId = this.voId ? this.voId : option.voId;\r\n    option.queryId = this.queryId ? this.queryId : option.queryId;\r\n    option.groupType = this.groupType ? this.groupType : option.groupType;\r\n    option.qoManagerCode = this.qoManagerCode ? this.qoManagerCode : option.qoManagerCode;\r\n    this.renderService.pdfExportEvent(option);\r\n    // this.renderService.pdfExportEvent(option.queryId, option.schemaId, option.controlType, option.qoManagerCode, option.printIntegration, option.queryRelativeUrl, option.filterCondition, option.groupType, option.pageIndex, option.voId);\r\n  }\r\n\r\n  /**\r\n   * æ¹æ³å·²åºå¼ï¼å»ºè®®æ¿æ¢ä¸ºprintPreview(option: RenderOption)æ¹æ³\r\n   * æå°é¢è§\r\n   */\r\n  printPreView(queryId: string, id: string, type?: any, qoManagerCode?: any, printIntegration?: any, queryRelativeUrl?: any, filterCondition?: any, pageIndex?: any, groupType?: any, voId?: any) {\r\n    const _voId = this.voId ? this.voId : voId;\r\n    const _queryId = this.queryId ? this.queryId : queryId;\r\n    const _groupType = this.groupType ? this.groupType : groupType;\r\n    const _qoManagerCode = this.qoManagerCode ? this.qoManagerCode : qoManagerCode;\r\n    this.renderService.printPreView(Object.assign({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets }, { queryId: _queryId, schemaId: id, controlType: type, qoManagerCode: _qoManagerCode, printIntegration, queryRelativeUrl, filterCondition, groupType: _groupType, pageIndex, voId: _voId}));\r\n    // this.renderService.printPreView(queryId, id, type, qoManagerCode, printIntegration, queryRelativeUrl, filterCondition, groupType ? groupType : this.groupType, pageIndex, voId ? voId : this.voId);\r\n  }\r\n\r\n  /**\r\n   * æå°é¢è§\r\n   * @param option æ¸²æéç½®é¡¹\r\n   */\r\n  printPreview(option: RenderOption) {\r\n    option.groupType = this.groupType ? this.groupType : option.groupType;\r\n    option.voId = this.voId ? this.voId : option.voId;\r\n    this.renderService.printPreView(option);\r\n    // this.renderService.printPreView(option.queryId, option.schemaId, option.controlType, option.qoManagerCode, option.printIntegration, option.queryRelativeUrl, option.filterCondition, option.groupType, option.pageIndex, option.voId);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const options = [];\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        this.tabId = RtfServices.getTabId(this.queryId);\r\n        switch (changeName) {\r\n          case 'hostStyle':\r\n            this.style = newValue;\r\n            if (this.spread) {\r\n              this.spread.refresh();\r\n            }\r\n            break;\r\n          case 'hostClass':\r\n            break;\r\n          case 'name':\r\n            this.spread.name = newValue;\r\n            break;\r\n          case 'formData':\r\n            newValue.dynamicCols.forEach(col => {\r\n              col.name = col.title;\r\n              col.bindField = col.field;\r\n              col.colWidth = 150;\r\n              col.align = 0;\r\n              col.visible = true;\r\n              col.isFixed = false;\r\n              col.formatType = 0;\r\n              col.formattor = '';\r\n              col.sort = 0;\r\n              col.pageAggreText = null;\r\n              col.pageAggre = 0;\r\n              col.isGroup = false;\r\n              col.groupAggreText = '';\r\n              col.groupAggre = 0;\r\n              col.totalAggreText = '';\r\n              col.totalAggre = 0;\r\n              col.level = 1;\r\n              col.childList = [];\r\n              col.dimension = 0;\r\n              col.rowColor = null;\r\n            });\r\n            this.formData = newValue;\r\n            this.ngOnDestroy();\r\n            this.afterView();\r\n            break;\r\n          case 'groupType':\r\n            this.groupType = newValue;\r\n            break;\r\n          case 'queryId':\r\n            this.queryId = newValue;\r\n            QDPCacheUtil.setCache(this.tabId + this.queryId + this.controlType + 'qdpview', this);\r\n            break;\r\n          case 'controlType':\r\n            this.controlType = newValue;\r\n            break;\r\n          case 'qoId':\r\n            this.qoId = newValue;\r\n            ServicesUtils.setServices(this.tabId + 'qoId', this.qoId);\r\n            break;\r\n          case 'qoManagerCode':\r\n          case 'voId':\r\n          case 'queryRelativeUrl':\r\n          case 'templateType':\r\n            break;\r\n          case 'multiSheets':\r\n            this.multiSheets = newValue;\r\n            this.setGroup(this.multiSheets[0]);\r\n            break;\r\n          case 'licenseKey':\r\n            if (newValue) {\r\n              GC.Spread.Sheets.LicenseKey = newValue;\r\n            }\r\n            break;\r\n          case 'isCommonQdpViewComponent':\r\n            this.isCommonQdpViewComponent = newValue;\r\n            if (this.isCommonQdpViewComponent) {\r\n\r\n            }\r\n            break;\r\n          default:\r\n            options.push({ name: changeName, value: newValue });\r\n        }\r\n      }\r\n    }\r\n    this.spreadOptions = options;\r\n    this.setSpreadOptions();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.spread) {\r\n      this.spread.destroy();\r\n    }\r\n  }\r\n\r\n  onResized(event: any): void {\r\n    this.style.height = event.newHeight + 'px';\r\n    this.style.width = event.newWidth + 'px';\r\n  }\r\n\r\n  toggle() {\r\n    let isCompare = false;\r\n    if (this.isOpen) {\r\n      if (this.controlType === 'crosstab') {\r\n        this.dimensionSettingComponent.isCompare = false;\r\n        this.dimensionSettingComponent.selectedDimesion();\r\n        isCompare = this.dimensionSettingComponent.isCompare;\r\n      } else {\r\n        this.columnsSettingComponent.isCompare = false;\r\n        this.columnsSettingComponent.selectedDimesion();\r\n        isCompare = this.columnsSettingComponent.isCompare;\r\n      }\r\n      if (this.schemaValue && this.schemaValue.isPrefab !== 1 && !isCompare) {\r\n        this.schemaValue.schemaValue = this.controlType === 'crosstab' ? JSON.stringify(this.dimensionSettingComponent.schemaValue.schemaValue) : JSON.stringify(this.columnsSettingComponent.schemaValue.schemaValue);\r\n        this.schemaManager.saveSchema({ 'schema': JSON.stringify(this.schemaValue), groupType: this.groupType }, '').subscribe(() => { }, (error: any) => {\r\n          this.formErrorService.exception(error.Message, error);\r\n        });\r\n        this.schemaValue.schemaValue = JSON.parse(this.schemaValue.schemaValue);\r\n      }\r\n    }\r\n    this.isOpen = !this.isOpen;\r\n  }\r\n\r\n  setGroup(sheetName: any) {\r\n    this.curSheet = sheetName;\r\n    if (this.groupType) {\r\n      for (let i = 0; i < this.multiSheets.length; i++) {\r\n        this.groupType = this.groupType.replace(this.multiSheets[i], \"\");\r\n      }\r\n      this.groupType += sheetName;\r\n    } else {\r\n      this.groupType = sheetName;\r\n    }\r\n    this.sheetChanged.next(this.groupType);\r\n  }\r\n\r\n  private onDocumentClick(e: any): void {\r\n    if (e.target.tagName === 'CANVAS') {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  public handleCrosstabPageChange(pageIndex: any, pageSize: any) {\r\n    this.sheet = this.spread.getActiveSheet();\r\n    for (let i = 0; i < this.sheet.getRowCount(); i++) {\r\n      if (i >= (pageIndex - 1) * pageSize && i < pageIndex * pageSize) {\r\n        this.sheet.setRowVisible(i, true, GC.Spread.Sheets.SheetArea.viewport);\r\n        this.sheet.showRow(i, GC.Spread.Sheets.VerticalPosition.bottom);\r\n      } else {\r\n        this.sheet.setRowVisible(i, false, GC.Spread.Sheets.SheetArea.viewport);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleContextMenu($event) {\r\n    if ('list' === this.controlType.toLowerCase()) {\r\n      let x = 0, y = 0;\r\n      let qdpviewNative = this.sheetEl.nativeElement;\r\n      while (qdpviewNative) {\r\n        x += qdpviewNative.offsetLeft;\r\n        y += qdpviewNative.offsetTop;\r\n        qdpviewNative = qdpviewNative.offsetParent;\r\n      }\r\n\r\n      const activeSheet = this.spread.getActiveSheet();\r\n      const colHeader = GC.Spread.Sheets.SheetArea.colHeader;\r\n      const target = activeSheet.hitTest($event.clientX - x, $event.clientY - y);\r\n      if (target.hitTestType !== colHeader || target.col === undefined || target.row === undefined) {\r\n        return false;\r\n      }\r\n\r\n      const headerRowCount = activeSheet.getRowCount(colHeader);\r\n      const span = activeSheet.getSpan(target.row, target.col, colHeader);\r\n      // å¤æ­å¤çº§è¡¨å¤´çæåµä¸ï¼åªå¤çæå­éè¡¨å¤´\r\n      if (span && (target.row + span.rowCount) < headerRowCount) {\r\n        return false;\r\n      }\r\n      this.currentColIndex = target.col;\r\n      this.initColGroupAggre(this.currentColIndex);\r\n\r\n      this.headerMenuDisplay = 'block';\r\n      this.headerMenuTop = $event.clientY;\r\n      this.headerMenuLeft = $event.clientX;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  handleIsGroupClick() {\r\n    if (this.colIsGroup) {\r\n      this.groupSelectValue = this.aggreData[0].value;\r\n      this.groupText = '';\r\n    }\r\n  }\r\n\r\n  handleSaveClick() {\r\n    const self = this;\r\n    try {\r\n      if (this.schemaValue && this.schemaValue.schemaValue && this.schemaValue.schemaValue.columnOption && this.schemaValue.schemaValue.columnOption.colList) {\r\n        if (this.schemaValue && this.schemaValue.isPrefab === 1) {\r\n          this.msgService.info(this.localizeService.getValue('spread.message.validate.sort'));\r\n          return;\r\n        }\r\n        const colList = JSON.parse(JSON.stringify(this.schemaValue.schemaValue.columnOption.colList));\r\n        const params = { index: this.currentColIndex, colIndex: 0, type: 'edit' };\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let i = 0; i < colList.length; i++) {\r\n          this.recursiveColumnSort(colList[i], null, params);\r\n        }\r\n\r\n        this.schemaValue.schemaValue.columnOption.colList = colList;\r\n        this.schemaValue.schemaValue = JSON.stringify(this.schemaValue.schemaValue);\r\n        this.schemaManager.saveSchema({ schema: JSON.stringify(this.schemaValue), groupType: this.groupType }, '').subscribe(data => {\r\n          self.initQdpView();\r\n          self.currentColIndex = 0;\r\n          self.headerMenuDisplay = 'none';\r\n        }, (error: any) => {\r\n          this.formErrorService.exception(error.Message, error);\r\n        });\r\n      }\r\n    } catch (e) { self.currentColIndex = 0; }\r\n  }\r\n\r\n  handleClearSort() {\r\n    const self = this;\r\n    try {\r\n      if (this.schemaValue && this.schemaValue.schemaValue && this.schemaValue.schemaValue.columnOption && this.schemaValue.schemaValue.columnOption.colList && this.schemaValue.schemaValue.columnOption.colList.length) {\r\n        if (this.schemaValue && this.schemaValue.isPrefab === 1) {\r\n          this.msgService.info(this.localizeService.getValue('spread.message.validate.sort'));\r\n          return;\r\n        }\r\n        const colList = JSON.parse(JSON.stringify(this.schemaValue.schemaValue.columnOption.colList));\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let i = 0; i < colList.length; i++) {\r\n          this.recursiveClearColumnSort(colList[i], null);\r\n        }\r\n\r\n        this.schemaValue.schemaValue.columnOption.colList = colList;\r\n        this.schemaValue.schemaValue = JSON.stringify(this.schemaValue.schemaValue);\r\n        this.schemaManager.saveSchema({ schema: JSON.stringify(this.schemaValue), groupType: this.groupType }, '').subscribe(data => {\r\n          const renderOption: RenderOption = Object.assign({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets }, { schemaId: this.schemaValue.id, queryId: self.queryId, controlType: self.controlType, qoManagerCode: self.qoManagerCode, pageIndex: 0, queryRelativeUrl: self.queryRelativeUrl, filterCondition: self.conditionExpression, groupType: self.groupType, voId: self.voId, jointsearchInfoList: self.jointsearchInfoList });\r\n          self.qdpViewRender(renderOption);\r\n          self.currentColIndex = 0;\r\n          self.headerMenuDisplay = 'none';\r\n        }, (error: any) => {\r\n          this.formErrorService.exception(error.Message, error);\r\n        });\r\n      }\r\n    } catch (e) {\r\n      self.currentColIndex = 0;\r\n    }\r\n  }\r\n\r\n  // @HostListener('click')\r\n  handleBlur($event) {\r\n    this.headerMenuDisplay = 'none';\r\n  }\r\n\r\n  private initColGroupAggre(index: any) {\r\n    if (this.schemaValue && this.schemaValue.schemaValue && this.schemaValue.schemaValue.columnOption\r\n      && this.schemaValue.schemaValue.columnOption.colList && this.schemaValue.schemaValue.columnOption.colList.length > index) {\r\n      const params = { index: this.currentColIndex, colIndex: 0, type: 'init' };\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let i = 0; i < this.schemaValue.schemaValue.columnOption.colList.length; i++) {\r\n        this.recursiveColumnSort(this.schemaValue.schemaValue.columnOption.colList[i], null, params);\r\n      }\r\n    }\r\n  }\r\n\r\n  private recursiveColumnSort(col, colList, params) {\r\n    if (colList == null) {\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveColumnSort(null, col.childList, params);\r\n      } else {\r\n        if (params.colIndex === params.index) {\r\n          if (params.type === 'init') {\r\n            this.colIsGroup = col.isGroup;\r\n            this.groupText = col.groupAggreText || '';\r\n            this.groupSelectValue = col.groupAggre;\r\n          } else if (params.type === 'edit') {\r\n            col.isGroup = this.colIsGroup;\r\n            col.groupAggreText = this.groupText || '';\r\n            col.groupAggre = this.groupSelectValue;\r\n          }\r\n        }\r\n        params.colIndex++;\r\n      }\r\n    } else {\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let i = 0; i < colList.length; i++) {\r\n        if (colList[i].childList && colList[i].childList.length) {\r\n          this.recursiveColumnSort(null, colList[i].childList, params);\r\n        } else {\r\n          if (params.colIndex === params.index) {\r\n            if (params.type === 'init') {\r\n              this.colIsGroup = colList[i].isGroup;\r\n              this.groupText = colList[i].groupAggreText || '';\r\n              this.groupSelectValue = colList[i].groupAggre;\r\n            } else if (params.type === 'edit') {\r\n              colList[i].isGroup = this.colIsGroup;\r\n              colList[i].groupAggreText = this.groupText || '';\r\n              colList[i].groupAggre = this.groupSelectValue;\r\n            }\r\n          }\r\n          params.colIndex++;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private recursiveClearColumnSort(col, colList) {\r\n    if (colList == null) {\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveClearColumnSort(null, col.childList);\r\n      } else {\r\n        col['sort'] = 0;\r\n        col['sortIndex'] = 0;\r\n      }\r\n    } else {\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let i = 0; i < colList.length; i++) {\r\n        if (colList[i].childList && colList[i].childList.length) {\r\n          this.recursiveClearColumnSort(null, colList[i].childList);\r\n        } else {\r\n          colList[i]['sort'] = 0;\r\n          colList[i]['sortIndex'] = 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private registeSpreadColumnWidthChangedEvent() {\r\n    const self = this;\r\n    this.sheet = this.spread.getActiveSheet();\r\n    self.sheet.bind(GC.Spread.Sheets.Events.ColumnWidthChanged, function (sender, info) {\r\n      const index = info.colList[0];\r\n      const colW = info.sheet.getColumnWidth(info.colList[0]);\r\n      if (self.schemaValue && self.schemaValue.schemaValue && self.schemaValue.schemaValue.columnOption\r\n        && self.schemaValue.schemaValue.columnOption.colList && self.schemaValue.schemaValue.columnOption.colList.length) {\r\n        if (self.schemaValue && self.schemaValue.isPrefab === 1) {\r\n          self.msgService.info(self.localizeService.getValue('spread.message.validate.sort'));\r\n          return;\r\n        }\r\n\r\n        const colList = JSON.parse(JSON.stringify(self.schemaValue.schemaValue.columnOption.colList));\r\n        const params = { index: index, colIndex: 0, colWidth: colW };\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let i = 0; i < colList.length; i++) {\r\n          self.recursiveColumnWidthChanged(colList[i], null, params);\r\n        }\r\n\r\n        self.schemaValue.schemaValue.columnOption.colList = colList;\r\n        self.schemaValue.schemaValue = JSON.stringify(self.schemaValue.schemaValue);\r\n        self.schemaManager.saveSchema({ schema: JSON.stringify(self.schemaValue), groupType: this.groupType }, '').subscribe(data => {\r\n          self.schemaValue.schemaValue = JSON.parse(self.schemaValue.schemaValue);\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private recursiveColumnWidthChanged(col, colList, params) {\r\n    if (colList == null) {\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveColumnWidthChanged(null, col.childList, params);\r\n      } else {\r\n        if (params.colIndex === params.index) {\r\n          col.colWidth = params.colWidth;\r\n        }\r\n        params.colIndex++;\r\n      }\r\n    } else {\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let i = 0; i < colList.length; i++) {\r\n        if (colList[i].childList && colList[i].childList.length) {\r\n          this.recursiveColumnWidthChanged(null, colList[i].childList, params);\r\n        } else {\r\n          if (params.colIndex === params.index) {\r\n            colList[i].colWidth = params.colWidth;\r\n          }\r\n          params.colIndex++;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { QdpViewComponent } from './component/qdp-view/qdp-view.component';\r\nimport { RenderService } from './service/render/render.service';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { FlexLayoutModule } from '@farris/ui-flex-layout';\r\nimport { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown'\r\nimport { DndListModule } from '@qdp/common';\r\nimport { LocalizeModule } from '@qdp/localize';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { ColumnsSettingComponent } from './component/columns-setting/columns-setting.component';\r\nimport { DimensionSettingComponent } from './component/dimension-setting/dimension-setting.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LoadingModule.forRoot({\r\n      message: 'Loading...'\r\n    }),\r\n    DndListModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ComboListModule,\r\n    InputGroupModule,\r\n    FDropdownDirectiveTypeModule,\r\n    // LocalizeModule\r\n  ],\r\n  declarations: [\r\n    QdpViewComponent,\r\n    ColumnsSettingComponent,\r\n    DimensionSettingComponent,\r\n    DimensionSettingComponent\r\n  ],\r\n  exports: [\r\n    QdpViewComponent,\r\n    ColumnsSettingComponent,\r\n  ]\r\n})\r\nexport class SpreadModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: SpreadModule,\r\n      providers: [\r\n        RenderService\r\n      ]\r\n    };\r\n  }\r\n}\r\n"],"names":["RtfServices","switchMap","of","filter","EventBus","tslib_1.__extends","LocalizeService","FormErrorService","CloudprintService","NotifyService","Injectable","SchemaManagerService","LcpService","CacheService","LoadingService","MessagerService","DataRenderExtendService","Optional","Injector","JSONUtils","Component","Input","LOCALE_ID","DEFAULT_LANGUAGE","Subject","JointSearchManagerService","QDPCacheUtil","ElementRef","Inject","Renderer2","FilterManagerService","ViewChild","HostBinding","NgModule","CommonModule","LoadingModule","DndListModule","FormsModule","ReactiveFormsModule","ComboListModule","InputGroupModule","FDropdownDirectiveTypeModule"],"mappings":"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"}
