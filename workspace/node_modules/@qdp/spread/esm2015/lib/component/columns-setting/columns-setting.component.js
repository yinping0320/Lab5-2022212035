/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Injector, Input, LOCALE_ID } from '@angular/core';
import { FormErrorService } from '@farris/command-services';
import { MessagerService } from '@farris/ui-messager';
import { EventBus, JSONUtils, RtfServices, SchemaManagerService } from '@qdp/common';
import { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';
import { filter } from 'lodash-es';
import { RenderService } from '../../service/render/render.service';
export class ColumnsSettingComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.hideColCache = []; // 隐藏列
        // 隐藏列
        this.showColCache = []; // 显示列
        // 显示列
        this.groupColCache = []; // 分组列
        // 分组列
        this.allColCache = []; // 全部列
        // 全部列
        this.searchText = '';
        this.isCompare = false;
        this.groupIcon = '<span class="k-icon k-i-search"></span>';
        this.lists = [];
        this.listsCache = [];
        this.multiSheetsSchemaIds = {};
        this.models = {
            selected: null,
            lists: this.lists
        };
        this.formInline = true;
        this.isOrNotPaging = true;
        // formatTypeData: any = [
        //   { name: '请选择', value: 0 },
        //   { name: '数字', value: 1 },
        //   { name: '日期', value: 2 },
        //   { name: '逻辑', value: 3 }
        // ];
        // formatTypeSelectValue: any = this.formatTypeData[0].value;
        // formatText = '';
        this.aggreData = [
            { name: '请选择', value: 0 },
            { name: '合计', value: 1 },
            { name: '最小值', value: 2 },
            { name: '最大值', value: 3 },
            { name: '计数', value: 4 },
            { name: '平均值', value: 5 }
        ];
        this.pageSelectValue = this.aggreData[0].value;
        this.pageText = '';
        this.colIsGroup = false;
        this.groupSelectValue = this.aggreData[0].value;
        this.groupSubSelectValue = this.aggreData[0].value;
        this.groupText = '';
        this.totalSelectValue = this.aggreData[0].value;
        this.totalText = '';
        this.currentColIndex = 0;
        this.enumType = [
            { name: '索引', value: '0' },
            { name: '编号', value: '1' },
            { name: '名称', value: '2' }
        ];
        if (this.injector) {
            this.localizeService = this.injector.get(LocalizeService);
            this.renderService = this.injector.get(RenderService);
            this.msgService = this.injector.get(MessagerService);
            this.formErrorService = this.injector.get(FormErrorService);
            this.schemaManagerService = this.injector.get(SchemaManagerService);
            this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;
            this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;
            this.aggreData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateData');
            this.enumType = this.localizeService.getValue('ideCmp.schemaManager.columnOption.enumType');
        }
        this.initLists();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /** @type {?} */
        const eventId = RtfServices.getTabId(this.queryId);
        EventBus.register('pagingModeChanges', this.handlePagingModeChanged.bind(this), eventId + 'columnsSetting');
        EventBus.register('schemaValueChanged', this.handleSchemaValueChanged.bind(this), eventId + 'columnsSetting');
    }
    /**
     * @return {?}
     */
    ngOnDestroy() { }
    /**
     * @private
     * @return {?}
     */
    initLists() {
        this.lists = [];
        for (let i = 0; i < 3; i++) {
            this.lists.push({
                name: this.localizeService.getValue('spread.crossTable.columnSetting')[i],
                value: []
            });
        }
    }
    /**
     * 初始化交叉表维度设置
     * @return {?}
     */
    initCrosstab() {
        // this.renderService.renderObject.currentSchemaValueChanger.subscribe((schemaValue: any) => {
        // });
    }
    /**
     * @private
     * @param {?} schemaValue
     * @return {?}
     */
    handleSchemaValueChanged(schemaValue) {
        if (schemaValue) {
            this.schemaValue = schemaValue;
            if (schemaValue.id === 1 || schemaValue.id === '1') {
                this.lists[0].value = [];
                this.listsCache = [];
                this.lists[1].value = [];
                this.lists[2].value = [];
                return;
            }
            if (this.controlType !== 'crosstab') {
                this.colList = schemaValue.schemaValue.columnOption.colList;
                if (this.colList) {
                    this.hideColCache = []; // 隐藏列
                    this.showColCache = []; // 显示列
                    this.groupColCache = []; // 分组列
                    this.allColCache = []; // 全部列
                    for (let i = 0; i < this.colList.length; i++) {
                        this.getSubColumns(this.colList[i], null, '');
                    }
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        this.lists[0].value = this.hideColCache;
                        this.listsCache = this.hideColCache;
                        this.lists[1].value = this.showColCache;
                        this.lists[2].value = this.groupColCache;
                    }));
                }
            }
        }
    }
    /**
     * @private
     * @param {?} col
     * @param {?} colList
     * @param {?} pid
     * @return {?}
     */
    getSubColumns(col, colList, pid) {
        if (col) {
            col['id'] = EventBus.guid();
            col['pid'] = pid;
            /** @type {?} */
            const pcol = JSON.parse(JSON.stringify(col));
            pcol.childList = [];
            this.allColCache.push(pcol);
            if (col.childList && col.childList.length) {
                this.getSubColumns(null, col.childList, col['id']);
            }
            else {
                if (col.isGroup) {
                    this.groupColCache.push(col);
                }
                else if (col.visible) {
                    this.showColCache.push(col);
                }
                else {
                    this.hideColCache.push(col);
                }
            }
        }
        else {
            for (let i = 0; i < colList.length; i++) {
                colList[i]['id'] = EventBus.guid();
                colList[i]['pid'] = pid;
                /** @type {?} */
                const pcol = JSON.parse(JSON.stringify(colList[i]));
                pcol.childList = [];
                this.allColCache.push(pcol);
                if (colList[i].childList && colList[i].childList.length) {
                    this.getSubColumns(null, colList[i].childList, colList[i]['id']);
                }
                else {
                    if (colList[i].isGroup) {
                        this.groupColCache.push(colList[i]);
                    }
                    else if (colList[i].visible) {
                        this.showColCache.push(colList[i]);
                    }
                    else {
                        this.hideColCache.push(colList[i]);
                    }
                }
            }
        }
    }
    /**
     * @param {?} index
     * @param {?} list
     * @return {?}
     */
    moved(index, list) {
        list.splice(index, 1);
        this.selectedDimesion();
        if (this.schemaValue) {
            if (this.schemaValue.isProtected === 1 || this.schemaValue.isProtected === '1') {
                this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));
                return;
            }
            this.schemaValue.schemaValue = JSON.stringify(this.schemaValue.schemaValue);
            this.schemaManagerService.saveSchema({ 'schema': JSON.stringify(this.schemaValue) }, this.queryRelativeUrl).subscribe((/**
             * @return {?}
             */
            () => {
                this.renderService.render({ multiSheetsSchemaIds: this.multiSheetsSchemaIds, curSheet: this.curSheet, multiSheets: this.multiSheets, schemaId: this.schemaValue.id, queryId: this.queryId, spread: this.spread, controlType: this.controlType, qoManagerCode: this.qoManagerCode, queryRelativeUrl: this.queryRelativeUrl, schemaValue: this.schemaValue, filterCondition: this.conditionExpression, groupType: this.groupType, voId: this.voId, jointsearchInfoList: this.jointsearchInfoList, fromCache: true, qdpView: this.qdpView });
                this.schemaValue.schemaValue = typeof this.schemaValue.schemaValue === 'string' ? JSON.parse(this.schemaValue.schemaValue) : this.schemaValue.schemaValue;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
                this.formErrorService.exception(error.Message, error);
            }));
        }
    }
    /**
     * @return {?}
     */
    selectedDimesion() {
        this.colList = [];
        if (this.lists[0]) {
            this.lists[0].value.forEach((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                value.isGroup = false;
                value.visible = false;
            }));
            this.colList = this.lists[0].value;
        }
        if (this.lists[1]) {
            this.lists[1].value.forEach((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                value.isGroup = false;
                value.visible = true;
            }));
            if (this.colList.length === 0) {
                this.colList = this.lists[1].value;
            }
            else {
                this.colList = this.colList.concat(this.lists[1].value);
            }
        }
        if (this.lists[2]) {
            this.lists[2].value.forEach((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                value.isGroup = true;
                value.visible = false;
            }));
            if (this.colList.length === 0) {
                this.colList = this.lists[2].value;
            }
            else {
                this.colList = this.colList.concat(this.lists[2].value);
            }
        }
        if (this.colList.length > 0) {
            for (let i = 0; i < this.colList.length; i++) {
                if (this.colList[i].isGroup)
                    continue;
                /** @type {?} */
                const filterCondition = { pid: this.colList[i]['pid'] };
                if (i == 0 && this.colList.length > 1) {
                    if (this.colList.length > 2) {
                        if (this.colList[i]['pid'] && this.colList[i + 2]['pid'] && this.colList[i]['pid'] == this.colList[i + 2]['pid']) {
                            this.colList[i]['pid'] = this.colList[i + 2]['pid'];
                        }
                    }
                    else {
                        if (this.colList[i]['pid'] && this.colList[i]['pid'] != this.colList[i + 1]['pid'] && filter(this.colList, filterCondition) && filter(this.colList, filterCondition).length > 1) {
                            this.colList[i]['pid'] = '';
                        }
                    }
                }
                else if (i == (this.colList.length - 1) && this.colList.length > 1) {
                    if (this.colList[i]['pid'] && this.colList[i]['pid'] != this.colList[i - 1]['pid'] && filter(this.colList, filterCondition) && filter(this.colList, filterCondition).length > 1) {
                        this.colList[i]['pid'] = '';
                    }
                }
                else if (i > 0 && i < (this.colList.length - 1)) {
                    if (this.colList[i - 1]['pid'] && this.colList[i + 1]['pid'] && this.colList[i - 1]['pid'] == this.colList[i + 1]['pid']) {
                        this.colList[i]['pid'] = this.colList[i - 1]['pid'];
                    }
                }
            }
            for (let i = 0; i < this.colList.length; i++) {
                this.recursiveFindParent(this.colList, i, this.colList[i]['pid']);
            }
            /** @type {?} */
            const objCache = {};
            for (let i = 0; i < this.colList.length; i++) {
                objCache[this.colList[i]['id']] = this.colList[i];
            }
            /** @type {?} */
            const result = [];
            for (const key in objCache) {
                /** @type {?} */
                const parent = objCache[objCache[key]['pid']];
                if (!parent) {
                    result.push(objCache[key]);
                }
                else {
                    parent['childList'].push(objCache[key]);
                }
            }
            if (this.colList.length > 0) {
                try {
                    this.isCompare = JSONUtils.Compare({ schema: this.schemaValue.schemaValue.columnOption.colList }, { schema: result });
                }
                catch (e) { }
                this.schemaValue.schemaValue.columnOption.colList = result;
                // this.schemaValue.schemaValue.columnOption.colList = this.colList;
            }
        }
    }
    /**
     * @private
     * @param {?} colList
     * @param {?} index
     * @param {?} pid
     * @return {?}
     */
    recursiveFindParent(colList, index, pid) {
        /** @type {?} */
        const colIndex = this.allColCache.findIndex((/**
         * @param {?} x
         * @return {?}
         */
        x => x.id == pid));
        if (colIndex >= 0 && this.colList.findIndex((/**
         * @param {?} x
         * @return {?}
         */
        x => x.id === this.allColCache[colIndex].id)) < 0) {
            this.colList.splice(index, 0, this.allColCache[colIndex]);
            if (this.allColCache[colIndex]['pid']) {
                this.recursiveFindParent(colList, index, this.allColCache[colIndex]['pid']);
            }
        }
    }
    /**
     * @param {?} val
     * @return {?}
     */
    dimensionSearchValueOnChange(val) {
        if (val) {
            /** @type {?} */
            const searchCols = this.listsCache.find((/**
             * @param {?} item
             * @return {?}
             */
            (item) => item.name.indexOf(val) >= 0));
            this.lists[0].value = [...searchCols];
        }
        else {
            this.lists[0].value = [...this.listsCache];
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    dndListChange0($event) {
        if (this.lists && this.lists.length) {
            this.lists[0].value = $event;
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    dndListChange1($event) {
        if (this.lists && this.lists.length) {
            this.lists[1].value = $event;
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    dndListChange2($event) {
        if (this.lists && this.lists.length) {
            this.lists[2].value = $event;
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    dndListChange3($event) {
        if (this.lists && this.lists.length) {
            this.lists[3].value = $event;
        }
    }
    /**
     * @private
     * @param {?} pagingMode
     * @return {?}
     */
    handlePagingModeChanged(pagingMode) {
        this.isOrNotPaging = pagingMode.value === 1;
    }
}
ColumnsSettingComponent.decorators = [
    { type: Component, args: [{
                selector: 'columns-setting',
                template: "<div class=\"container f-utils-fill-flex-column h-100\">\r\n  <div class=\"simpleDemo f-utils-fill-flex-row\">\r\n    <div class=\"col-md-6 f-utils-flex-column p-1\">\r\n      <div class=\"card f-utils-fill-flex-column\">\r\n        <div class=\"card-body f-utils-fill-flex-column p-0\">\r\n          <div class=\"cardTitle mb-2 pt-2\">\r\n            <span id=\"unselected\" class=\"f-icon pt-1 pr-2 pl-2\" role=\"presentation\">\r\n              <img\r\n                src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTYgMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuW+hemAieWtl+autTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyBvcGFjaXR5PScwLjQ1OTU0MjQxMSc+PGcgaWQ9JzHjgIHmn6Xor6JVSeiuvuiuoScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTkzMi4wMDAwMDAsIC0xNTEuMDAwMDAwKScgZmlsbD0nIzAwMDAwMCcgZmlsbC1ydWxlPSdub256ZXJvJz48ZyBpZD0n57yW57uELTI2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg4OTguMDAwMDAwLCA3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTI0JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC4wMDAwMDAsIDY1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjEnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCAxLjAwMDAwMCknPjxnIGlkPSdzaG91Y2FuZy0yJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxMy4wMDAwMDAsIDEwLjAwMDAwMCknPjxwYXRoIGQ9J00xMS41NjA5NDkyLDE0LjQ3MjcxODMgQzExLjM2NDAzMzIsMTQuNDcyNzE4MyAxMS4xNDI4MzU5LDE0LjQxNjE4MzYgMTAuOTM3NTI1NCwxNC4zMTM1NjI1IEw4LjAwNzc1MTk1LDEyLjg0ODE4MzYgTDUuMDU5ODM1OTQsMTQuMzExMTgzNiBDNC44NzMxNDY0OCwxNC40MTA1NzgxIDQuNjU5NDQxNDEsMTQuNDYyODczIDQuNDQxNTI1MzksMTQuNDYyODczIEM0LjE1ODM1ODQyLDE0LjQ2MzkxNTcgMy44ODI0MTU1NCwxNC4zNzM1NDU4IDMuNjU0NzIyNjYsMTQuMjA1MTk5MiBDMy4yNDIxNDY0OCwxMy44OTU4MDQ3IDMuMDMwNzM4MjgsMTMuMzU5NTkzNyAzLjEyODMyODEyLDEyLjg3MTQ5NDEgTDMuNzMxMjQ0MTQsOS43NDM4ODg2NyBMMS40MjAzMjgxMiw3LjU4OTc4OTA2IEMxLjA2MzM4MzQyLDcuMjI4MTM2ODYgMC45MjY0MjQ0NTgsNi43MDM1NjQzOCAxLjA2MTAxNzU4LDYuMjEzNTc4MTIgTDEuMDY1NjM4NjcsNi4xOTc2OTE0MSBDMS4yMzM2Mzg2Nyw1LjY5NDE4MzU5IDEuNjUwNDEyMTEsNS4zNDEzODA4NiAyLjE1NTc1MTk1LDUuMjczNjkxNDEgTDUuMzY2NDQxNDEsNC42ODk5MDIzNCBMNi44MDc1MjUzOSwxLjc2MzA0MTAyIEM3LjAzOTAxNzU4LDEuMjk5NjMyODEgNy41MDk4NDk2MSwxLjAwMTg1OTM3IDguMDA3NzUxOTUsMS4wMDE4NTkzNyBDOC41MjcxNDY0OCwxLjAwMTg1OTM3IDkuMDEwMTQ2NDgsMS4zMTA4NDM3NSA5LjIxMjY1NDMsMS43NzE0NDkyMiBMMTAuNjQ5MTMwOSw0LjY4OTAyNzM0IEwxMy44NjAzMTI1LDUuMjUwNDQ5MjIgQzE0LjM2OTg3NDcsNS4zMjQzMDAwMyAxNC43ODg3MTU0LDUuNjkwMjA3NjIgMTQuOTMwMzI4MSw2LjE4NTIzNjMzIEMxNS4wODg4NDQ4LDYuNjcxNzczNDkgMTQuOTU5MzY4Miw3LjIwNjExMjA4IDE0LjU5NTcyMjcsNy41NjYxMjMwNSBMMTQuNTg3ODIwMyw3LjU3NDAzOTA2IEwxMi4yODM0MjU4LDkuNzQ0MDM5MDYgTDEyLjg2NTgyMDMsMTIuODc3MjIyNyBDMTIuOTU5NjA5NCwxMy4zNzg0MzM2IDEyLjc2MDMyODEsMTMuODg0MzIwMyAxMi4zNDU0NDE0LDE0LjE5OTc0NDEgQzEyLjEyMzMxODEsMTQuMzc4NjAyMiAxMS44NDYxMjE3LDE0LjQ3NTA0MTMgMTEuNTYwOTQ5MiwxNC40NzI3MTgzIEwxMS41NjA5NDkyLDE0LjQ3MjcxODMgWiBNOC4wMDg4MDQ2OSwxMS43NDY1MDM5IEwxMS4wODYyNzU0LDEzLjI4NTQ2NDggQzExLjE3NjcxNDgsMTMuMzMxMTAxNiAxMS4yODA4ODA5LDEzLjM1OTY2MjEgMTEuMzUyMDU2NiwxMy4zNTk2NjIxIEMxMS40NjE4MjgxLDEzLjM1OTY2MjEgMTEuNTYzNzUyLDEzLjMyNTkxOTkgMTEuNjM4NDQxNCwxMy4yNjM1NDg4IEwxMS42NTI1MDk4LDEzLjI1MjA2NDUgQzExLjgyNzM3MywxMy4xMjA3NDYxIDExLjkxMjU0ODgsMTIuOTEyNDI3NyAxMS44NzQzMzU5LDEyLjcwODEwMTYgTDExLjI1NDgzNTksOS4zNzE5NzI2NiBMMTMuNzA0NDk0MSw3LjA2NTE4NTU1IEMxMy44NTQ3NzU0LDYuOTEyNzMwNDcgMTMuOTA2MjIyNyw2LjY5NDQwNDMgMTMuODM5NDM1NSw2LjQ5MzU2NDQ1IEwxMy44MzI4NzMsNi40NzI1MDk3NyBDMTMuNzc4OTIxMiw2LjI3ODAxNzY2IDEzLjYxNDIyNjEsNi4xMzQ0MTAzMyAxMy40MTQxOTkyLDYuMTA3NDQzMzYgTDEzLjQwMDE5OTIsNi4xMDUyODMyIEwxMC4wMTA4MDQ3LDUuNTEyNjYyMTEgTDguNDg1NDg4MjgsMi40MTQxOTE0MSBDOC40MTEyMDg5OCwyLjI0MTA3ODEyIDguMjEwNDUxMTcsMi4xMTU0MzM1OSA4LjAwNzQ1MTE3LDIuMTE1NDMzNTkgQzcuODA4MDE5NTMsMi4xMTU0MzM1OSA3LjYxNzMzNzg5LDIuMjQwMjQ0MTQgNy41MjA2Nzc3MywyLjQzMzA4NTk0IEw2LjAwNTA1NDY5LDUuNTExMzM1OTQgTDIuNTk3NzIyNjYsNi4xMzAyODkwNiBDMi4zOTA4MTI1LDYuMTU2MjUxOTUgMi4yMzAwMTc1OCw2LjI5MzczNjMzIDIuMTU1ODIwMzEsNi41MDgwNzAzMSBDMi4xMDMxMDE1Niw2LjcwNDAwMTk1IDIuMTY1NDcyNjYsNi45Mzk4OTY0OCAyLjMwOTUzMzIsNy4wODcxMTUyMyBMNC43NjE4NTc0Miw5LjM3MjM5NjQ4IEw0LjExODI2NzU4LDEyLjcxMDM1NzQgQzQuMDc5NjMwODYsMTIuOTAzMjY3NiA0LjE3MDk3MjY2LDEzLjEyNTUxNzYgNC4zNDAwOTM3NSwxMy4yNTI1MDIgQzQuNDI0ODU5MzcsMTMuMzE2MjEyOSA0LjUzNDY5OTIyLDEzLjM1MTM0OTYgNC42NDk4NDM3NSwxMy4zNTEzNDk2IEM0LjczODYwMTU2LDEzLjM1MTM0OTYgNC44MjM4MDQ2OSwxMy4zMzA2MjMgNC44OTcxNjc5NywxMy4yOTExMzg3IEw0LjkwNzcyMjY2LDEzLjI4NDk4NjMgTDguMDA4ODA0NjksMTEuNzQ2NTAzOSBaJyBpZD0n5b2i54q2Jz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+\"\r\n                style=\"width: 15px; height: 15px; display: block;\" />\r\n            </span>\r\n            <span class=\"pl-3 dimensionTitle\">{{lists && lists.length ? lists[0].name : ''}}</span>\r\n          </div>\r\n          <input-group [groupText]=\"groupIcon\" class=\"m-1\" [(value)]=\"searchText\"\r\n            (valueChange)=\"dimensionSearchValueOnChange($event)\"></input-group>\r\n          <ul id=\"unselectFieldList\" class=\"f-utils-overflow-xhya f-utils-fill pb-1\"\r\n            [dndList]=\"lists && lists.length ? lists[0].value : []\" (dndListChange)=\"dndListChange0($event)\">\r\n            <li *ngFor=\"let item of (lists && lists.length ? lists[0].value : []); let i = index;\" [dndDraggable]=\"item\"\r\n              (dndMoved)=\"moved(i, lists[0].value)\" dndEffectAllowed=\"move\" (dndSelected)=\"models.selected = item\"\r\n              [ngClass]=\"{'selected': models.selected === item}\">\r\n              <span class=\"unselectFieldFront mr-2\"\r\n                *ngIf=\"'int,float,double,decimal,number'.includes(item.type)==false\">Abc</span>\r\n              <span class=\"unselectFieldFront mr-2\"\r\n                *ngIf=\"'int,float,double,decimal,number'.includes(item.type)==true\">123</span>\r\n              <span class=\"unselectField\">{{item.name}}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6 f-utils-flex-column p-1\">\r\n      <div class=\"card f-utils-fill-flex-column\">\r\n        <div class=\"card-body  f-utils-fill-flex-column p-0\">\r\n          <div class=\"cardTitle mb-2 pt-2\">\r\n            <span id=\"rowfield\" class=\"f-icon pt-1 pr-2 pl-2\" role=\"presentation\">\r\n              <img\r\n                src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTYgMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuihjOe7tOW6pjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMeOAgeafpeivolVJ6K6+6K6hJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtOTMxLjAwMDAwMCwgLTQ2MC4wMDAwMDApJyBzdHJva2U9JyM5Nzk3OTcnPjxnIGlkPSfnvJbnu4QtMjYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDg5OC4wMDAwMDAsIDc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjAwMDAwMCwgMzc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjHlpIfku70tMicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDAuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0yMicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTIuMDAwMDAwLCAxMC4wMDAwMDApJz48cmVjdCBpZD0n55+p5b2iJyB4PScxLjUnIHk9JzIuNScgd2lkdGg9JzQuMjUnIGhlaWdodD0nNC4yNScgcng9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2iJyBmaWxsPScjRDhEOEQ4JyB4PSc4LjUnIHk9JzMuMzc1JyB3aWR0aD0nNScgaGVpZ2h0PScxJz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xMicgZmlsbD0nI0Q4RDhEOCcgeD0nOC41JyB5PScxMC4zNzUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTcnIGZpbGw9JyNEOEQ4RDgnIHg9JzguNScgeT0nNicgd2lkdGg9JzUnIGhlaWdodD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaLlpIfku70tMTMnIGZpbGw9JyNEOEQ4RDgnIHg9JzguNScgeT0nMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTYnIHg9JzEuNScgeT0nOS41JyB3aWR0aD0nNC4yNScgaGVpZ2h0PSc0LjI1JyByeD0nMSc+PC9yZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==\"\r\n                style=\"width: 15px; height: 15px; display: block;\" />\r\n            </span>\r\n            <span class=\"pl-3 dimensionTitle\">{{lists && lists.length ? lists[1].name : ''}}</span>\r\n          </div>\r\n          <div id=\"rowfieldimg\" *ngIf=\"lists && lists.length ? (lists[1]?.value?.length < 1) : true\"\r\n            class=\"f-utils-absolute-all f-utils-flex-column justify-content-center align-items-center\"\r\n            role=\"presentation\" style=\"align-items: center; top: 36px; z-index: 10;\">\r\n            <img\r\n              src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nNTBweCcgaGVpZ2h0PSc1MHB4JyB2aWV3Qm94PScwIDAgNTAgNTAnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIl+e7tOW6puWbvjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHJlY3QgaWQ9J3BhdGgtMScgeD0nMjYnIHk9JzMxJyB3aWR0aD0nMjQnIGhlaWdodD0nMTgnIHJ4PScwLjUnPjwvcmVjdD48ZmlsdGVyIHg9Jy02LjIlJyB5PSctOC4zJScgd2lkdGg9JzExMi41JScgaGVpZ2h0PScxMTYuNyUnIGZpbHRlclVuaXRzPSdvYmplY3RCb3VuZGluZ0JveCcgaWQ9J2ZpbHRlci0yJz48ZmVPZmZzZXQgZHg9JzAnIGR5PScwJyBpbj0nU291cmNlQWxwaGEnIHJlc3VsdD0nc2hhZG93T2Zmc2V0T3V0ZXIxJz48L2ZlT2Zmc2V0PjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249JzAuNScgaW49J3NoYWRvd09mZnNldE91dGVyMScgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlR2F1c3NpYW5CbHVyPjxmZUNvbXBvc2l0ZSBpbj0nc2hhZG93Qmx1ck91dGVyMScgaW4yPSdTb3VyY2VBbHBoYScgb3BlcmF0b3I9J291dCcgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlQ29tcG9zaXRlPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0nMCAwIDAgMCAwLjExNDg0Mzc1IDAgMCAwIDAgMC41MTU4ODE4MTcgMCAwIDAgMCAxIDAgMCAwIDAuNzI2NDgwNTUxIDAnIHR5cGU9J21hdHJpeCcgaW49J3NoYWRvd0JsdXJPdXRlcjEnPjwvZmVDb2xvck1hdHJpeD48L2ZpbHRlcj48bGluZWFyR3JhZGllbnQgeDE9JzUwJScgeTE9JzEwMCUnIHgyPSc1MCUnIHkyPScwJScgaWQ9J2xpbmVhckdyYWRpZW50LTMnPjxzdG9wIHN0b3AtY29sb3I9JyNEQUVCRkYnIHN0b3Atb3BhY2l0eT0nMC4yMDMwNDMwNTEnIG9mZnNldD0nMCUnPjwvc3RvcD48c3RvcCBzdG9wLWNvbG9yPScjQjNEMkZGJyBzdG9wLW9wYWNpdHk9JzAuNDczMDM4NjgnIG9mZnNldD0nMTAwJSc+PC9zdG9wPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGlkPSfpobXpnaItMScgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9JzHjgIHmn6Xor6JVSeiuvuiuoScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyMTQuMDAwMDAwLCAtNTY1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDg5OC4wMDAwMDAsIDc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMzAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIzOS4wMDAwMDAsIDM3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTM05aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg0MC4wMDAwMDAsIDExNS4wMDAwMDApJz48ZyBpZD0n57yW57uELTMzJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgzNy4wMDAwMDAsIDAuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC01Jz48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTMnIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScyNicgeT0nMTAnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjxnIGlkPSfnn6nlvaLlpIfku70tNicgb3BhY2l0eT0nMC41OTYxMjE2NTInPjx1c2UgZmlsbD0nYmxhY2snIGZpbGwtb3BhY2l0eT0nMScgZmlsdGVyPSd1cmwoI2ZpbHRlci0yKScgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PHJlY3Qgc3Ryb2tlLW9wYWNpdHk9JzAuMjIzNDQ4NDI3JyBzdHJva2U9JyMwMDUxQjknIHN0cm9rZS13aWR0aD0nMScgc3Ryb2tlLWxpbmVqb2luPSdzcXVhcmUnIGZpbGw9JyM3QkIyRjgnIGZpbGwtcnVsZT0nZXZlbm9kZCcgeD0nMjYuNScgeT0nMzEuNScgd2lkdGg9JzIzJyBoZWlnaHQ9JzE3JyByeD0nMC41Jz48L3JlY3Q+PC9nPjxyZWN0IGlkPSfnn6nlvaLlpIfku70tMTInIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScwJyB5PScxMCcgd2lkdGg9JzI0JyBoZWlnaHQ9JzE4JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xNCcgZmlsbD0nI0IzRDJGRicgb3BhY2l0eT0nMC4yNDM4NjE2MDcnIHg9JzAnIHk9JzEnIHdpZHRoPSc1MCcgaGVpZ2h0PSc2JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xOCcgZmlsbD0ndXJsKCNsaW5lYXJHcmFkaWVudC0zKScgeD0nMCcgeT0nMzEnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\"\r\n              style=\"width: 50px;height: 56px;display: block;\">\r\n            <!-- <span class=\"imgFont\">{{localizeService?.getValue('spread.crossTable.rowDimensionTitle')}}</span> -->\r\n          </div>\r\n          <ul class=\"f-utils-overflow-xhya f-utils-fill pb-1\" style=\"z-index: 20\"\r\n            [dndList]=\"lists && lists.length ? lists[1].value : []\" (dndListChange)=\"dndListChange1($event)\">\r\n            <li *ngFor=\"let item of (lists && lists.length ? lists[1].value : []); let i = index;\" [dndDraggable]=\"item\"\r\n              class=\"mb-1 p-1\" (dndMoved)=\"moved(i, lists[1].value)\" dndEffectAllowed=\"move\"\r\n              (dndSelected)=\"models.selected = item\" [ngClass]=\"{'selected': models.selected === item}\">\r\n              {{item.name}}\r\n              <!-- <div class=\"btn-group mr-3\" fDropdown>\r\n                <button class=\"btn btn-link dropdown-toggle\" fDropdownToggle type=\"button\">\r\n                  {{item.name}}\r\n                </button>\r\n                <div class=\"dropdown-menu\" fDropdownMenu>\r\n                  <div class=\"flex-fill farris-split-section farris-overflow-hidden\">\r\n                    <div class=\"farris-form farris-card-content-bg\">\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist' && isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colPageText\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.pageTotal')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <input-group [(ngModel)]=\"pageText\" id=\"colPageText\"></input-group>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist' && isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colPageAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.pageTotalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colPageAggre\" [(ngModel)]=\"pageSelectValue\" [data]=\"aggreData\"\r\n                                [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colGroupText\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupTotal')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <input-group [(ngModel)]=\"groupText\" id=\"colGroupText\"></input-group>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colGroupAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupSubTotalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colGroupAggre\" [disabled]=\"colIsGroup\"\r\n                                [(ngModel)]=\"groupSubSelectValue\" [data]=\"aggreData\" [textField]=\"'name'\"\r\n                                [idField]=\"'value'\" [enableClear]=\"false\">\r\n                              </farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colGroupAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupTotalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colGroupAggre\" [disabled]=\"colIsGroup\"\r\n                                [(ngModel)]=\"groupSelectValue\" [data]=\"aggreData\" [textField]=\"'name'\"\r\n                                [idField]=\"'value'\" [enableClear]=\"false\">\r\n                              </farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && !isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colTotalText\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateTotal')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <input-group [(ngModel)]=\"totalText\" id=\"colTotalText\"></input-group>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && !isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colTotalAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.totalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colTotalAggre\" [(ngModel)]=\"totalSelectValue\" [data]=\"aggreData\"\r\n                                [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div> -->\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"simpleDemo f-utils-fill-flex-row\" *ngIf=\"controlType=='list'\">\r\n    <div class=\"col-md-6 f-utils-flex-column p-1\">\r\n      <div class=\"card f-utils-fill-flex-column\">\r\n        <div class=\"card-body f-utils-fill-flex-column p-0\">\r\n          <div class=\"cardTitle mb-2 pt-2\">\r\n            <span id=\"colfield\" class=\"f-icon pt-1 pr-2 pl-2\" role=\"presentation\">\r\n              <img\r\n                src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTdweCcgaGVpZ2h0PScxN3B4JyB2aWV3Qm94PScwIDAgMTcgMTcnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIl+e7tOW6pjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMeOAgeafpeivolVJ6K6+6K6hJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTE1MC4wMDAwMDAsIC00NjAuMDAwMDAwKScgc3Ryb2tlPScjOTc5Nzk3Jz48ZyBpZD0n57yW57uELTI2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg4OTguMDAwMDAwLCA3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTMwJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMzkuMDAwMDAwLCAzNzUuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0yMeWkh+S7vS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgMC4wMDAwMDApJz48ZyBpZD0n57yW57uELTIyJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC4xMjUwMDAsIDE4LjEyNTAwMCkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC0yMC4xMjUwMDAsIC0xOC4xMjUwMDApIHRyYW5zbGF0ZSgxMi4xMjUwMDAsIDEwLjEyNTAwMCknPjxyZWN0IGlkPSfnn6nlvaInIHg9JzEuNScgeT0nMi41JyB3aWR0aD0nNC4yNScgaGVpZ2h0PSc0LjI1JyByeD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaInIGZpbGw9JyNEOEQ4RDgnIHg9JzguNScgeT0nMy4zNzUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTEyJyBmaWxsPScjRDhEOEQ4JyB4PSc4LjUnIHk9JzEwLjM3NScgd2lkdGg9JzUnIGhlaWdodD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaLlpIfku70tNycgZmlsbD0nI0Q4RDhEOCcgeD0nOC41JyB5PSc2JyB3aWR0aD0nNScgaGVpZ2h0PScxJz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xMycgZmlsbD0nI0Q4RDhEOCcgeD0nOC41JyB5PScxMycgd2lkdGg9JzUnIGhlaWdodD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaLlpIfku70tNicgeD0nMS41JyB5PSc5LjUnIHdpZHRoPSc0LjI1JyBoZWlnaHQ9JzQuMjUnIHJ4PScxJz48L3JlY3Q+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+\"\r\n                style=\"width: 15px; height: 15px; display: block;\" />\r\n            </span>\r\n            <span class=\"pl-3 dimensionTitle\">{{lists && lists.length ? lists[2].name : ''}}</span>\r\n          </div>\r\n          <div id=\"colfieldimg\" *ngIf=\"lists && lists.length ? (lists[2]?.value?.length < 1) : true\"\r\n            class=\"f-utils-absolute-all f-utils-flex-column justify-content-center align-items-center\"\r\n            role=\"presentation\" style=\"align-items: center; top: 36px; z-index: 10;\">\r\n            <img\r\n              src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nNTBweCcgaGVpZ2h0PSc1MHB4JyB2aWV3Qm94PScwIDAgNTAgNTAnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIl+e7tOW6puWbvjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHJlY3QgaWQ9J3BhdGgtMScgeD0nMjYnIHk9JzMxJyB3aWR0aD0nMjQnIGhlaWdodD0nMTgnIHJ4PScwLjUnPjwvcmVjdD48ZmlsdGVyIHg9Jy02LjIlJyB5PSctOC4zJScgd2lkdGg9JzExMi41JScgaGVpZ2h0PScxMTYuNyUnIGZpbHRlclVuaXRzPSdvYmplY3RCb3VuZGluZ0JveCcgaWQ9J2ZpbHRlci0yJz48ZmVPZmZzZXQgZHg9JzAnIGR5PScwJyBpbj0nU291cmNlQWxwaGEnIHJlc3VsdD0nc2hhZG93T2Zmc2V0T3V0ZXIxJz48L2ZlT2Zmc2V0PjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249JzAuNScgaW49J3NoYWRvd09mZnNldE91dGVyMScgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlR2F1c3NpYW5CbHVyPjxmZUNvbXBvc2l0ZSBpbj0nc2hhZG93Qmx1ck91dGVyMScgaW4yPSdTb3VyY2VBbHBoYScgb3BlcmF0b3I9J291dCcgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlQ29tcG9zaXRlPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0nMCAwIDAgMCAwLjExNDg0Mzc1IDAgMCAwIDAgMC41MTU4ODE4MTcgMCAwIDAgMCAxIDAgMCAwIDAuNzI2NDgwNTUxIDAnIHR5cGU9J21hdHJpeCcgaW49J3NoYWRvd0JsdXJPdXRlcjEnPjwvZmVDb2xvck1hdHJpeD48L2ZpbHRlcj48bGluZWFyR3JhZGllbnQgeDE9JzUwJScgeTE9JzEwMCUnIHgyPSc1MCUnIHkyPScwJScgaWQ9J2xpbmVhckdyYWRpZW50LTMnPjxzdG9wIHN0b3AtY29sb3I9JyNEQUVCRkYnIHN0b3Atb3BhY2l0eT0nMC4yMDMwNDMwNTEnIG9mZnNldD0nMCUnPjwvc3RvcD48c3RvcCBzdG9wLWNvbG9yPScjQjNEMkZGJyBzdG9wLW9wYWNpdHk9JzAuNDczMDM4NjgnIG9mZnNldD0nMTAwJSc+PC9zdG9wPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGlkPSfpobXpnaItMScgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9JzHjgIHmn6Xor6JVSeiuvuiuoScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyMTQuMDAwMDAwLCAtNTY1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDg5OC4wMDAwMDAsIDc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMzAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIzOS4wMDAwMDAsIDM3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTM05aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg0MC4wMDAwMDAsIDExNS4wMDAwMDApJz48ZyBpZD0n57yW57uELTMzJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgzNy4wMDAwMDAsIDAuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC01Jz48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTMnIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScyNicgeT0nMTAnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjxnIGlkPSfnn6nlvaLlpIfku70tNicgb3BhY2l0eT0nMC41OTYxMjE2NTInPjx1c2UgZmlsbD0nYmxhY2snIGZpbGwtb3BhY2l0eT0nMScgZmlsdGVyPSd1cmwoI2ZpbHRlci0yKScgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PHJlY3Qgc3Ryb2tlLW9wYWNpdHk9JzAuMjIzNDQ4NDI3JyBzdHJva2U9JyMwMDUxQjknIHN0cm9rZS13aWR0aD0nMScgc3Ryb2tlLWxpbmVqb2luPSdzcXVhcmUnIGZpbGw9JyM3QkIyRjgnIGZpbGwtcnVsZT0nZXZlbm9kZCcgeD0nMjYuNScgeT0nMzEuNScgd2lkdGg9JzIzJyBoZWlnaHQ9JzE3JyByeD0nMC41Jz48L3JlY3Q+PC9nPjxyZWN0IGlkPSfnn6nlvaLlpIfku70tMTInIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScwJyB5PScxMCcgd2lkdGg9JzI0JyBoZWlnaHQ9JzE4JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xNCcgZmlsbD0nI0IzRDJGRicgb3BhY2l0eT0nMC4yNDM4NjE2MDcnIHg9JzAnIHk9JzEnIHdpZHRoPSc1MCcgaGVpZ2h0PSc2JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xOCcgZmlsbD0ndXJsKCNsaW5lYXJHcmFkaWVudC0zKScgeD0nMCcgeT0nMzEnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\"\r\n              style=\"width: 50px;height: 56px;display: block;\">\r\n            <!-- <span class=\"imgFont\">{{localizeService?.getValue('spread.crossTable.colDimensionTitle')}}</span> -->\r\n          </div>\r\n          <ul class=\"f-utils-overflow-xhya f-utils-fill pb-1\" style=\"z-index: 20\"\r\n            [dndList]=\"lists && lists.length ? lists[2].value : []\" (dndListChange)=\"dndListChange2($event)\">\r\n            <li *ngFor=\"let item of (lists && lists.length ? lists[2].value : []); let i = index;\" [dndDraggable]=\"item\"\r\n              class=\"mb-1 p-1\" (dndMoved)=\"moved(i, lists[2].value)\" dndEffectAllowed=\"move\"\r\n              (dndSelected)=\"models.selected = item\" [ngClass]=\"{'selected': models.selected === item}\">\r\n              {{item.name}}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                styles: [".simpleDemo ul{min-height:42px;padding:0}.card-title,.demo-header{text-align:center}.title{margin:20px 0}.simpleDemo ul .dndDraggingSource{display:none}.simpleDemo ul .dndPlaceholder{background:rgba(56,143,255,.06);border:1px dashed #388fff;box-shadow:0 0 4px 0 rgba(13,95,201,.22);margin:.25rem!important;padding:.25rem!important}.simpleDemo ul li{background:rgba(235,244,254,.84);border:1px solid #388fff;box-shadow:0 0 10px 0 rgba(63,113,177,.22);border-radius:3px;height:28px;font-family:PingFangSC-Regular;font-size:13px;color:#388fff;margin:.25rem!important;padding:.25rem!important}#unselectFieldList li{border:none;background-color:rgba(0,0,0,0);box-shadow:0 0 #000;border-radius:3px;height:28px;margin:.25rem!important;padding:.25rem!important}#unselectFieldList li:hover{background:#f4f5f9}#unselectFieldList .dndPlaceholder{background:rgba(56,143,255,.06);border:1px dashed #388fff;box-shadow:0 0 4px 0 rgba(13,95,201,.22);margin:.25rem!important;padding:.25rem!important}.unselectField{font-family:PingFangSC-Regular;font-size:13px;color:rgba(0,0,0,.85)}.unselectFieldFront{font-family:PingFangSC-Medium;font-size:13px;color:#b4bccc}.simpleDemo ul li.selected{background-color:#dff0d8;color:#3c763d}.current-model{background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;padding:18px 22px}.slicer{height:220px;position:relative}.headerMenu{position:fixed;display:none;top:0;left:0}.cardTitle{background:#f5f7fa;border-radius:3px 3px 0 0;height:36px}.dimensionTitle{font-family:PingFangSC-Medium;font-size:14px;color:rgba(0,0,0,.65);line-height:20px}.imgFont{font-family:PingFangSC-Regular;font-size:13px;color:#b4bccc}"]
            }] }
];
/** @nocollapse */
ColumnsSettingComponent.ctorParameters = () => [
    { type: Injector }
];
ColumnsSettingComponent.propDecorators = {
    controlType: [{ type: Input }],
    queryRelativeUrl: [{ type: Input }],
    queryId: [{ type: Input }],
    qoManagerCode: [{ type: Input }],
    qoId: [{ type: Input }],
    voId: [{ type: Input }],
    groupType: [{ type: Input }],
    spread: [{ type: Input }],
    conditionExpression: [{ type: Input }],
    jointsearchInfoList: [{ type: Input }],
    qdpView: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    ColumnsSettingComponent.prototype.controlType;
    /** @type {?} */
    ColumnsSettingComponent.prototype.schemaValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.colList;
    /** @type {?} */
    ColumnsSettingComponent.prototype.queryRelativeUrl;
    /** @type {?} */
    ColumnsSettingComponent.prototype.queryId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.qoManagerCode;
    /** @type {?} */
    ColumnsSettingComponent.prototype.qoId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.voId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupType;
    /** @type {?} */
    ColumnsSettingComponent.prototype.spread;
    /** @type {?} */
    ColumnsSettingComponent.prototype.conditionExpression;
    /** @type {?} */
    ColumnsSettingComponent.prototype.jointsearchInfoList;
    /** @type {?} */
    ColumnsSettingComponent.prototype.qdpView;
    /** @type {?} */
    ColumnsSettingComponent.prototype.hideColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.showColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.allColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.searchText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.isCompare;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupIcon;
    /** @type {?} */
    ColumnsSettingComponent.prototype.lists;
    /** @type {?} */
    ColumnsSettingComponent.prototype.listsCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.multiSheets;
    /** @type {?} */
    ColumnsSettingComponent.prototype.curSheet;
    /** @type {?} */
    ColumnsSettingComponent.prototype.multiSheetsSchemaIds;
    /** @type {?} */
    ColumnsSettingComponent.prototype.models;
    /** @type {?} */
    ColumnsSettingComponent.prototype.localizeService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.renderService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.formErrorService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.schemaManagerService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.localId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.formInline;
    /** @type {?} */
    ColumnsSettingComponent.prototype.isOrNotPaging;
    /** @type {?} */
    ColumnsSettingComponent.prototype.aggreData;
    /** @type {?} */
    ColumnsSettingComponent.prototype.pageSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.pageText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.colIsGroup;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupSubSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.totalSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.totalText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.currentColIndex;
    /** @type {?} */
    ColumnsSettingComponent.prototype.enumType;
    /** @type {?} */
    ColumnsSettingComponent.prototype.msgService;
    /**
     * @type {?}
     * @private
     */
    ColumnsSettingComponent.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sdW1ucy1zZXR0aW5nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BxZHAvc3ByZWFkLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudC9jb2x1bW5zLXNldHRpbmcvY29sdW1ucy1zZXR0aW5nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFVLFNBQVMsRUFBc0QsTUFBTSxlQUFlLENBQUM7QUFDbEksT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNyRixPQUFPLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDbkMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBT3BFLE1BQU0sT0FBTyx1QkFBdUI7Ozs7SUF5RWxDLFlBQW9CLFFBQWtCO1FBQWxCLGFBQVEsR0FBUixRQUFRLENBQVU7UUEzRHRDLGlCQUFZLEdBQVEsRUFBRSxDQUFDLENBQUMsTUFBTTs7UUFDOUIsaUJBQVksR0FBUSxFQUFFLENBQUMsQ0FBQyxNQUFNOztRQUM5QixrQkFBYSxHQUFRLEVBQUUsQ0FBQyxDQUFDLE1BQU07O1FBQy9CLGdCQUFXLEdBQVEsRUFBRSxDQUFDLENBQUMsTUFBTTs7UUFDN0IsZUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNoQixjQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLGNBQVMsR0FBRyx5Q0FBeUMsQ0FBQztRQUMvQyxVQUFLLEdBQVEsRUFBRSxDQUFDO1FBQ2hCLGVBQVUsR0FBUSxF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O0lBQ2hCLDRDQUFrQjs7SUFDbEIsNENBQXNEOztJQUN0RCx3Q0FBdUI7O0lBQ3ZCLDZDQUE0Qjs7SUFFNUIsOENBQW1COztJQUNuQiwyQ0FBYzs7SUFDZCx1REFBK0I7O0lBRS9CLHlDQUdFOztJQUVGLGtEQUFpQzs7SUFDakMsZ0RBQTZCOztJQUM3QixtREFBbUM7O0lBQ25DLHVEQUEyQzs7SUFDM0MsMENBQWE7O0lBQ2IsNkNBQWtCOztJQUNsQixnREFBcUI7O0lBVXJCLDRDQU9FOztJQUNGLGtEQUErQzs7SUFDL0MsMkNBQWM7O0lBQ2QsNkNBQXdCOztJQUN4QixtREFBZ0Q7O0lBQ2hELHNEQUFtRDs7SUFDbkQsNENBQWU7O0lBQ2YsbURBQWdEOztJQUNoRCw0Q0FBZTs7SUFDZixrREFBb0I7O0lBQ3BCLDJDQUlFOztJQUNGLDZDQUE0Qjs7Ozs7SUFFaEIsMkNBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRIYW5kbGVyVmFycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9jb21waWxlcl91dGlsL2V4cHJlc3Npb25fY29udmVydGVyJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3RvciwgSW5wdXQsIE9uSW5pdCwgTE9DQUxFX0lELCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsIE9uRGVzdHJveSwgQWZ0ZXJWaWV3SW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3JtRXJyb3JTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy9jb21tYW5kLXNlcnZpY2VzJztcclxuaW1wb3J0IHsgTWVzc2FnZXJTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1tZXNzYWdlcic7XHJcbmltcG9ydCB7IEV2ZW50QnVzLCBKU09OVXRpbHMsIFJ0ZlNlcnZpY2VzLCBTY2hlbWFNYW5hZ2VyU2VydmljZSB9IGZyb20gJ0BxZHAvY29tbW9uJztcclxuaW1wb3J0IHsgTG9jYWxpemVTZXJ2aWNlLCBERUZBVUxUX0xBTkdVQUdFIH0gZnJvbSAnQHFkcC9sb2NhbGl6ZSc7XHJcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJ2xvZGFzaC1lcyc7XHJcbmltcG9ydCB7IFJlbmRlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlL3JlbmRlci9yZW5kZXIuc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2NvbHVtbnMtc2V0dGluZycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2NvbHVtbnMtc2V0dGluZy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vY29sdW1ucy1zZXR0aW5nLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ29sdW1uc1NldHRpbmdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcbiAgQElucHV0KCkgY29udHJvbFR5cGU7XHJcbiAgc2NoZW1hVmFsdWU6IGFueTsgLy8g5qC85byP5pa55qGI5L+h5oGvXHJcbiAgY29sTGlzdDogYW55OyAvLyDliJfkv6Hmga9cclxuICBASW5wdXQoKSBxdWVyeVJlbGF0aXZlVXJsOiBhbnk7IC8vIOWIl+S/oeaBr1xyXG4gIEBJbnB1dCgpIHF1ZXJ5SWQ6IHN0cmluZztcclxuICBASW5wdXQoKSBxb01hbmFnZXJDb2RlOiBhbnk7XHJcbiAgQElucHV0KCkgcW9JZDogYW55O1xyXG4gIEBJbnB1dCgpIHZvSWQ6IGFueTtcclxuICBASW5wdXQoKSBncm91cFR5cGU6IGFueTtcclxuICBASW5wdXQoKSBzcHJlYWQ6IGFueTtcclxuICBASW5wdXQoKSBjb25kaXRpb25FeHByZXNzaW9uOiBhbnk7XHJcbiAgQElucHV0KCkgam9pbnRzZWFyY2hJbmZvTGlzdDogYW55O1xyXG4gIEBJbnB1dCgpIHFkcFZpZXc6IGFueTtcclxuICBoaWRlQ29sQ2FjaGU6IGFueSA9IFtdOyAvLyDpmpDol4/liJdcclxuICBzaG93Q29sQ2FjaGU6IGFueSA9IFtdOyAvLyDmmL7npLrliJdcclxuICBncm91cENvbENhY2hlOiBhbnkgPSBbXTsgLy8g5YiG57uE5YiXXHJcbiAgYWxsQ29sQ2FjaGU6IGFueSA9IFtdOyAvLyDlhajpg6jliJdcclxuICBzZWFyY2hUZXh0ID0gJyc7XHJcbiAgaXNDb21wYXJlID0gZmFsc2U7XHJcbiAgZ3JvdXBJY29uID0gJzxzcGFuIGNsYXNzPVwiay1pY29uIGstaS1zZWFyY2hcIj48L3NwYW4+JztcclxuICBwdWJsaWMgbGlzdHM6IGFueSA9IFtdO1xyXG4gIHB1YmxpYyBsaXN0c0NhY2hlOiBhbnkgPSBbXTsgXHJcblxyXG4gIG11bHRpU2hlZXRzOiBhbnlbXTsgIC8v5aSac2hlZXTpobXmlK/mjIFcclxuICBjdXJTaGVldDogYW55O1xyXG4gIG11bHRpU2hlZXRzU2NoZW1hSWRzOiBhbnkgPSB7fTtcclxuXHJcbiAgcHVibGljIG1vZGVscyA9IHtcclxuICAgIHNlbGVjdGVkOiBudWxsLFxyXG4gICAgbGlzdHM6IHRoaXMubGlzdHNcclxuICB9O1xyXG5cclxuICBsb2NhbGl6ZVNlcnZpY2U6IExvY2FsaXplU2VydmljZTtcclxuICByZW5kZXJTZXJ2aWNlOiBSZW5kZXJTZXJ2aWNlO1xyXG4gIGZvcm1FcnJvclNlcnZpY2U6IEZvcm1FcnJvclNlcnZpY2U7XHJcbiAgc2NoZW1hTWFuYWdlclNlcnZpY2U6IFNjaGVtYU1hbmFnZXJTZXJ2aWNlO1xyXG4gIGxvY2FsSWQ6IGFueTtcclxuICBmb3JtSW5saW5lID0gdHJ1ZTtcclxuICBpc09yTm90UGFnaW5nID0gdHJ1ZTtcclxuXHJcbiAgLy8gZm9ybWF0VHlwZURhdGE6IGFueSA9IFtcclxuICAvLyAgIHsgbmFtZTogJ+ivt+mAieaLqScsIHZhbHVlOiAwIH0sXHJcbiAgLy8gICB7IG5hbWU6ICfmlbDlrZcnLCB2YWx1ZTogMSB9LFxyXG4gIC8vICAgeyBuYW1lOiAn5pel5pyfJywgdmFsdWU6IDIgfSxcclxuICAvLyAgIHsgbmFtZTogJ+mAu+i+kScsIHZhbHVlOiAzIH1cclxuICAvLyBdO1xyXG4gIC8vIGZvcm1hdFR5cGVTZWxlY3RWYWx1ZTogYW55ID0gdGhpcy5mb3JtYXRUeXBlRGF0YVswXS52YWx1ZTtcclxuICAvLyBmb3JtYXRUZXh0ID0gJyc7XHJcbiAgYWdncmVEYXRhOiBhbnkgPSBbXHJcbiAgICB7IG5hbWU6ICfor7fpgInmi6knLCB2YWx1ZTogMCB9LFxyXG4gICAgeyBuYW1lOiAn5ZCI6K6hJywgdmFsdWU6IDEgfSxcclxuICAgIHsgbmFtZTogJ+acgOWwj+WAvCcsIHZhbHVlOiAyIH0sXHJcbiAgICB7IG5hbWU6ICfmnIDlpKflgLwnLCB2YWx1ZTogMyB9LFxyXG4gICAgeyBuYW1lOiAn6K6h5pWwJywgdmFsdWU6IDQgfSxcclxuICAgIHsgbmFtZTogJ+W5s+Wdh+WAvCcsIHZhbHVlOiA1IH1cclxuICBdO1xyXG4gIHBhZ2VTZWxlY3RWYWx1ZTogYW55ID0gdGhpcy5hZ2dyZURhdGFbMF0udmFsdWU7XHJcbiAgcGFnZVRleHQgPSAnJztcclxuICBjb2xJc0dyb3VwOiBhbnkgPSBmYWxzZTtcclxuICBncm91cFNlbGVjdFZhbHVlOiBhbnkgPSB0aGlzLmFnZ3JlRGF0YVswXS52YWx1ZTtcclxuICBncm91cFN1YlNlbGVjdFZhbHVlOiBhbnkgPSB0aGlzLmFnZ3JlRGF0YVswXS52YWx1ZTtcclxuICBncm91cFRleHQgPSAnJztcclxuICB0b3RhbFNlbGVjdFZhbHVlOiBhbnkgPSB0aGlzLmFnZ3JlRGF0YVswXS52YWx1ZTtcclxuICB0b3RhbFRleHQgPSAnJztcclxuICBjdXJyZW50Q29sSW5kZXggPSAwO1xyXG4gIGVudW1UeXBlOiBhbnkgPSBbXHJcbiAgICB7IG5hbWU6ICfntKLlvJUnLCB2YWx1ZTogJzAnIH0sXHJcbiAgICB7IG5hbWU6ICfnvJblj7cnLCB2YWx1ZTogJzEnIH0sXHJcbiAgICB7IG5hbWU6ICflkI3np7AnLCB2YWx1ZTogJzInIH1cclxuICBdO1xyXG4gIG1zZ1NlcnZpY2U6IE1lc3NhZ2VyU2VydmljZTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3IpIHtcclxuICAgIGlmICh0aGlzLmluamVjdG9yKSB7XHJcbiAgICAgIHRoaXMubG9jYWxpemVTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoTG9jYWxpemVTZXJ2aWNlKTtcclxuICAgICAgdGhpcy5yZW5kZXJTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoUmVuZGVyU2VydmljZSk7XHJcbiAgICAgIHRoaXMubXNnU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KE1lc3NhZ2VyU2VydmljZSk7XHJcbiAgICAgIHRoaXMuZm9ybUVycm9yU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KEZvcm1FcnJvclNlcnZpY2UpO1xyXG4gICAgICB0aGlzLnNjaGVtYU1hbmFnZXJTZXJ2aWNlID0gdGhpcy5pbmplY3Rvci5nZXQoU2NoZW1hTWFuYWdlclNlcnZpY2UpO1xyXG4gICAgICB0aGlzLmxvY2FsSWQgPSB0aGlzLmluamVjdG9yLmdldChMT0NBTEVfSUQpIHx8IERFRkFVTFRfTEFOR1VBR0U7XHJcbiAgICAgIHRoaXMuZm9ybUlubGluZSA9IHRoaXMubG9jYWxJZC50b0xvd2VyQ2FzZSgpID09PSBERUZBVUxUX0xBTkdVQUdFO1xyXG4gICAgICB0aGlzLmFnZ3JlRGF0YSA9IHRoaXMubG9jYWxpemVTZXJ2aWNlLmdldFZhbHVlKCdpZGVDbXAuc2NoZW1hTWFuYWdlci5jb2x1bW5PcHRpb24uYWdncmVnYXRlRGF0YScpO1xyXG4gICAgICB0aGlzLmVudW1UeXBlID0gdGhpcy5sb2NhbGl6ZVNlcnZpY2UuZ2V0VmFsdWUoJ2lkZUNtcC5zY2hlbWFNYW5hZ2VyLmNvbHVtbk9wdGlvbi5lbnVtVHlwZScpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbml0TGlzdHMoKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgY29uc3QgZXZlbnRJZCA9IFJ0ZlNlcnZpY2VzLmdldFRhYklkKHRoaXMucXVlcnlJZCk7XHJcbiAgICBFdmVudEJ1cy5yZWdpc3RlcigncGFnaW5nTW9kZUNoYW5nZXMnLCB0aGlzLmhhbmRsZVBhZ2luZ01vZGVDaGFuZ2VkLmJpbmQodGhpcyksIGV2ZW50SWQgKyAnY29sdW1uc1NldHRpbmcnKTtcclxuICAgIEV2ZW50QnVzLnJlZ2lzdGVyKCdzY2hlbWFWYWx1ZUNoYW5nZWQnLCB0aGlzLmhhbmRsZVNjaGVtYVZhbHVlQ2hhbmdlZC5iaW5kKHRoaXMpLCBldmVudElkICsgJ2NvbHVtbnNTZXR0aW5nJyk7XHJcbiAgfVxyXG4gIG5nT25EZXN0cm95KCkgeyB9XHJcblxyXG4gIHByaXZhdGUgaW5pdExpc3RzKCkge1xyXG4gICAgdGhpcy5saXN0cyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgdGhpcy5saXN0cy5wdXNoKHtcclxuICAgICAgICBuYW1lOiB0aGlzLmxvY2FsaXplU2VydmljZS5nZXRWYWx1ZSgnc3ByZWFkLmNyb3NzVGFibGUuY29sdW1uU2V0dGluZycpW2ldLFxyXG4gICAgICAgIHZhbHVlOiBbXVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIneWni+WMluS6pOWPieihqOe7tOW6puiuvue9rlxyXG4gICAqL1xyXG4gIGluaXRDcm9zc3RhYigpIHtcclxuICAgIC8vIHRoaXMucmVuZGVyU2VydmljZS5yZW5kZXJPYmplY3QuY3VycmVudFNjaGVtYVZhbHVlQ2hhbmdlci5zdWJzY3JpYmUoKHNjaGVtYVZhbHVlOiBhbnkpID0+IHtcclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY2hlbWFWYWx1ZUNoYW5nZWQoc2NoZW1hVmFsdWU6IGFueSkge1xyXG4gICAgaWYgKHNjaGVtYVZhbHVlKSB7XHJcbiAgICAgIHRoaXMuc2NoZW1hVmFsdWUgPSBzY2hlbWFWYWx1ZTtcclxuICAgICAgaWYgKHNjaGVtYVZhbHVlLmlkID09PSAxIHx8IHNjaGVtYVZhbHVlLmlkID09PSAnMScpIHtcclxuICAgICAgICB0aGlzLmxpc3RzWzBdLnZhbHVlID0gW107XHJcbiAgICAgICAgdGhpcy5saXN0c0NhY2hlID0gW107XHJcbiAgICAgICAgdGhpcy5saXN0c1sxXS52YWx1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubGlzdHNbMl0udmFsdWUgPSBbXTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuY29udHJvbFR5cGUgIT09ICdjcm9zc3RhYicpIHtcclxuICAgICAgICB0aGlzLmNvbExpc3QgPSBzY2hlbWFWYWx1ZS5zY2hlbWFWYWx1ZS5jb2x1bW5PcHRpb24uY29sTGlzdDtcclxuICAgICAgICBpZiAodGhpcy5jb2xMaXN0KSB7XHJcbiAgICAgICAgICB0aGlzLmhpZGVDb2xDYWNoZSA9IFtdOyAvLyDpmpDol4/liJdcclxuICAgICAgICAgIHRoaXMuc2hvd0NvbENhY2hlID0gW107IC8vIOaYvuekuuWIl1xyXG4gICAgICAgICAgdGhpcy5ncm91cENvbENhY2hlID0gW107IC8vIOWIhue7hOWIl1xyXG4gICAgICAgICAgdGhpcy5hbGxDb2xDYWNoZSA9IFtdOyAvLyDlhajpg6jliJdcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U3ViQ29sdW1ucyh0aGlzLmNvbExpc3RbaV0sIG51bGwsICcnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RzWzBdLnZhbHVlID0gdGhpcy5oaWRlQ29sQ2FjaGU7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdHNDYWNoZSA9IHRoaXMuaGlkZUNvbENhY2hlO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RzWzFdLnZhbHVlID0gdGhpcy5zaG93Q29sQ2FjaGU7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdHNbMl0udmFsdWUgPSB0aGlzLmdyb3VwQ29sQ2FjaGU7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U3ViQ29sdW1ucyhjb2w6IGFueSwgY29sTGlzdDogYW55LCBwaWQ6IGFueSkge1xyXG4gICAgaWYgKGNvbCkge1xyXG4gICAgICBjb2xbJ2lkJ10gPSBFdmVudEJ1cy5ndWlkKCk7XHJcbiAgICAgIGNvbFsncGlkJ10gPSBwaWQ7XHJcbiAgICAgIGNvbnN0IHBjb2wgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbCkpO1xyXG4gICAgICBwY29sLmNoaWxkTGlzdCA9IFtdO1xyXG4gICAgICB0aGlzLmFsbENvbENhY2hlLnB1c2gocGNvbCk7XHJcbiAgICAgIGlmIChjb2wuY2hpbGRMaXN0ICYmIGNvbC5jaGlsZExpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRTdWJDb2x1bW5zKG51bGwsIGNvbC5jaGlsZExpc3QsIGNvbFsnaWQnXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGNvbC5pc0dyb3VwKSB7XHJcbiAgICAgICAgICB0aGlzLmdyb3VwQ29sQ2FjaGUucHVzaChjb2wpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29sLnZpc2libGUpIHtcclxuICAgICAgICAgIHRoaXMuc2hvd0NvbENhY2hlLnB1c2goY29sKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5oaWRlQ29sQ2FjaGUucHVzaChjb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29sTGlzdFtpXVsnaWQnXSA9IEV2ZW50QnVzLmd1aWQoKTtcclxuICAgICAgICBjb2xMaXN0W2ldWydwaWQnXSA9IHBpZDtcclxuICAgICAgICBjb25zdCBwY29sID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb2xMaXN0W2ldKSk7XHJcbiAgICAgICAgcGNvbC5jaGlsZExpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmFsbENvbENhY2hlLnB1c2gocGNvbCk7XHJcbiAgICAgICAgaWYgKGNvbExpc3RbaV0uY2hpbGRMaXN0ICYmIGNvbExpc3RbaV0uY2hpbGRMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5nZXRTdWJDb2x1bW5zKG51bGwsIGNvbExpc3RbaV0uY2hpbGRMaXN0LCBjb2xMaXN0W2ldWydpZCddKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGNvbExpc3RbaV0uaXNHcm91cCkge1xyXG4gICAgICAgICAgICB0aGlzLmdyb3VwQ29sQ2FjaGUucHVzaChjb2xMaXN0W2ldKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY29sTGlzdFtpXS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0NvbENhY2hlLnB1c2goY29sTGlzdFtpXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVDb2xDYWNoZS5wdXNoKGNvbExpc3RbaV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbW92ZWQoaW5kZXg6IG51bWJlciwgbGlzdDogQXJyYXk8YW55Pikge1xyXG4gICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgdGhpcy5zZWxlY3RlZERpbWVzaW9uKCk7XHJcbiAgICBpZiAodGhpcy5zY2hlbWFWYWx1ZSkge1xyXG4gICAgICBpZiAodGhpcy5zY2hlbWFWYWx1ZS5pc1Byb3RlY3RlZCA9PT0gMSB8fCB0aGlzLnNjaGVtYVZhbHVlLmlzUHJvdGVjdGVkID09PSAnMScpIHtcclxuICAgICAgICB0aGlzLm1zZ1NlcnZpY2UuaW5mbyh0aGlzLmxvY2FsaXplU2VydmljZS5nZXRWYWx1ZSgnaWRlQ21wLnNjaGVtYU1hbmFnZXIubWVzc2FnZS52YWxpZGF0ZS5pc1Byb3RlY3RlZCcpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zY2hlbWFWYWx1ZS5zY2hlbWFWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUpO1xyXG4gICAgICB0aGlzLnNjaGVtYU1hbmFnZXJTZXJ2aWNlLnNhdmVTY2hlbWEoeyAnc2NoZW1hJzogSlNPTi5zdHJpbmdpZnkodGhpcy5zY2hlbWFWYWx1ZSkgfSwgdGhpcy5xdWVyeVJlbGF0aXZlVXJsKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVuZGVyU2VydmljZS5yZW5kZXIoeyBtdWx0aVNoZWV0c1NjaGVtYUlkczogdGhpcy5tdWx0aVNoZWV0c1NjaGVtYUlkcywgY3VyU2hlZXQ6IHRoaXMuY3VyU2hlZXQsIG11bHRpU2hlZXRzOiB0aGlzLm11bHRpU2hlZXRzLCBzY2hlbWFJZDogdGhpcy5zY2hlbWFWYWx1ZS5pZCwgcXVlcnlJZDogdGhpcy5xdWVyeUlkLCBzcHJlYWQ6IHRoaXMuc3ByZWFkLCBjb250cm9sVHlwZTogdGhpcy5jb250cm9sVHlwZSwgcW9NYW5hZ2VyQ29kZTogdGhpcy5xb01hbmFnZXJDb2RlLCBxdWVyeVJlbGF0aXZlVXJsOiB0aGlzLnF1ZXJ5UmVsYXRpdmVVcmwsIHNjaGVtYVZhbHVlOiB0aGlzLnNjaGVtYVZhbHVlLCBmaWx0ZXJDb25kaXRpb246IHRoaXMuY29uZGl0aW9uRXhwcmVzc2lvbiwgZ3JvdXBUeXBlOiB0aGlzLmdyb3VwVHlwZSwgdm9JZDogdGhpcy52b0lkLCBqb2ludHNlYXJjaEluZm9MaXN0OiB0aGlzLmpvaW50c2VhcmNoSW5mb0xpc3QsIGZyb21DYWNoZTogdHJ1ZSwgcWRwVmlldzogdGhpcy5xZHBWaWV3IH0pO1xyXG4gICAgICAgIHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUgPSB0eXBlb2YgdGhpcy5zY2hlbWFWYWx1ZS5zY2hlbWFWYWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUpIDogdGhpcy5zY2hlbWFWYWx1ZS5zY2hlbWFWYWx1ZTtcclxuICAgICAgfSwgKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLmZvcm1FcnJvclNlcnZpY2UuZXhjZXB0aW9uKGVycm9yLk1lc3NhZ2UsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZWxlY3RlZERpbWVzaW9uKCkge1xyXG4gICAgdGhpcy5jb2xMaXN0ID0gW107XHJcbiAgICBpZiAodGhpcy5saXN0c1swXSkge1xyXG4gICAgICB0aGlzLmxpc3RzWzBdLnZhbHVlLmZvckVhY2godmFsdWUgPT4ge1xyXG4gICAgICAgIHZhbHVlLmlzR3JvdXAgPSBmYWxzZTtcclxuICAgICAgICB2YWx1ZS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmNvbExpc3QgPSB0aGlzLmxpc3RzWzBdLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubGlzdHNbMV0pIHtcclxuICAgICAgdGhpcy5saXN0c1sxXS52YWx1ZS5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICB2YWx1ZS5pc0dyb3VwID0gZmFsc2U7XHJcbiAgICAgICAgdmFsdWUudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodGhpcy5jb2xMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuY29sTGlzdCA9IHRoaXMubGlzdHNbMV0udmFsdWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5jb2xMaXN0ID0gdGhpcy5jb2xMaXN0LmNvbmNhdCh0aGlzLmxpc3RzWzFdLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubGlzdHNbMl0pIHtcclxuICAgICAgdGhpcy5saXN0c1syXS52YWx1ZS5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICB2YWx1ZS5pc0dyb3VwID0gdHJ1ZTtcclxuICAgICAgICB2YWx1ZS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodGhpcy5jb2xMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuY29sTGlzdCA9IHRoaXMubGlzdHNbMl0udmFsdWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5jb2xMaXN0ID0gdGhpcy5jb2xMaXN0LmNvbmNhdCh0aGlzLmxpc3RzWzJdLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY29sTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sTGlzdFtpXS5pc0dyb3VwKSBjb250aW51ZTtcclxuICAgICAgICBjb25zdCBmaWx0ZXJDb25kaXRpb246IGFueSA9IHsgcGlkOiB0aGlzLmNvbExpc3RbaV1bJ3BpZCddIH07XHJcbiAgICAgICAgaWYgKGkgPT0gMCAmJiB0aGlzLmNvbExpc3QubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuY29sTGlzdC5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbExpc3RbaV1bJ3BpZCddICYmIHRoaXMuY29sTGlzdFtpICsgMl1bJ3BpZCddICYmIHRoaXMuY29sTGlzdFtpXVsncGlkJ10gPT0gdGhpcy5jb2xMaXN0W2kgKyAyXVsncGlkJ10pIHtcclxuICAgICAgICAgICAgICB0aGlzLmNvbExpc3RbaV1bJ3BpZCddID0gdGhpcy5jb2xMaXN0W2kgKyAyXVsncGlkJ107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbExpc3RbaV1bJ3BpZCddICYmIHRoaXMuY29sTGlzdFtpXVsncGlkJ10gIT0gdGhpcy5jb2xMaXN0W2kgKyAxXVsncGlkJ10gJiYgZmlsdGVyKHRoaXMuY29sTGlzdCwgZmlsdGVyQ29uZGl0aW9uKSAmJiBmaWx0ZXIodGhpcy5jb2xMaXN0LCBmaWx0ZXJDb25kaXRpb24pLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICB0aGlzLmNvbExpc3RbaV1bJ3BpZCddID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGkgPT0gKHRoaXMuY29sTGlzdC5sZW5ndGggLSAxKSAmJiB0aGlzLmNvbExpc3QubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuY29sTGlzdFtpXVsncGlkJ10gJiYgdGhpcy5jb2xMaXN0W2ldWydwaWQnXSAhPSB0aGlzLmNvbExpc3RbaSAtIDFdWydwaWQnXSAmJiBmaWx0ZXIodGhpcy5jb2xMaXN0LCBmaWx0ZXJDb25kaXRpb24pICYmIGZpbHRlcih0aGlzLmNvbExpc3QsIGZpbHRlckNvbmRpdGlvbikubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbExpc3RbaV1bJ3BpZCddID0gJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpID4gMCAmJiBpIDwgKHRoaXMuY29sTGlzdC5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuY29sTGlzdFtpIC0gMV1bJ3BpZCddICYmIHRoaXMuY29sTGlzdFtpICsgMV1bJ3BpZCddICYmIHRoaXMuY29sTGlzdFtpIC0gMV1bJ3BpZCddID09IHRoaXMuY29sTGlzdFtpICsgMV1bJ3BpZCddKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sTGlzdFtpXVsncGlkJ10gPSB0aGlzLmNvbExpc3RbaSAtIDFdWydwaWQnXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLnJlY3Vyc2l2ZUZpbmRQYXJlbnQodGhpcy5jb2xMaXN0LCBpLCB0aGlzLmNvbExpc3RbaV1bJ3BpZCddKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgb2JqQ2FjaGUgPSB7fTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBvYmpDYWNoZVt0aGlzLmNvbExpc3RbaV1bJ2lkJ11dID0gdGhpcy5jb2xMaXN0W2ldO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmpDYWNoZSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IG9iakNhY2hlW29iakNhY2hlW2tleV1bJ3BpZCddXTtcclxuICAgICAgICBpZiAoIXBhcmVudCkge1xyXG4gICAgICAgICAgcmVzdWx0LnB1c2gob2JqQ2FjaGVba2V5XSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhcmVudFsnY2hpbGRMaXN0J10ucHVzaChvYmpDYWNoZVtrZXldKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5jb2xMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgdGhpcy5pc0NvbXBhcmUgPSBKU09OVXRpbHMuQ29tcGFyZSh7IHNjaGVtYTogdGhpcy5zY2hlbWFWYWx1ZS5zY2hlbWFWYWx1ZS5jb2x1bW5PcHRpb24uY29sTGlzdCB9LCB7IHNjaGVtYTogcmVzdWx0IH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUuY29sdW1uT3B0aW9uLmNvbExpc3QgPSByZXN1bHQ7XHJcbiAgICAgICAgLy8gdGhpcy5zY2hlbWFWYWx1ZS5zY2hlbWFWYWx1ZS5jb2x1bW5PcHRpb24uY29sTGlzdCA9IHRoaXMuY29sTGlzdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWN1cnNpdmVGaW5kUGFyZW50KGNvbExpc3Q6IGFueVtdLCBpbmRleDogYW55LCBwaWQ6IGFueSkge1xyXG4gICAgY29uc3QgY29sSW5kZXggPSB0aGlzLmFsbENvbENhY2hlLmZpbmRJbmRleCh4ID0+IHguaWQgPT0gcGlkKTtcclxuICAgIGlmIChjb2xJbmRleCA+PSAwICYmIHRoaXMuY29sTGlzdC5maW5kSW5kZXgoeCA9PiB4LmlkID09PSB0aGlzLmFsbENvbENhY2hlW2NvbEluZGV4XS5pZCkgPCAwKSB7XHJcbiAgICAgIHRoaXMuY29sTGlzdC5zcGxpY2UoaW5kZXgsIDAsIHRoaXMuYWxsQ29sQ2FjaGVbY29sSW5kZXhdKTtcclxuICAgICAgaWYgKHRoaXMuYWxsQ29sQ2FjaGVbY29sSW5kZXhdWydwaWQnXSkge1xyXG4gICAgICAgIHRoaXMucmVjdXJzaXZlRmluZFBhcmVudChjb2xMaXN0LCBpbmRleCwgdGhpcy5hbGxDb2xDYWNoZVtjb2xJbmRleF1bJ3BpZCddKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGltZW5zaW9uU2VhcmNoVmFsdWVPbkNoYW5nZSh2YWw6IGFueSkge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICBjb25zdCBzZWFyY2hDb2xzID0gdGhpcy5saXN0c0NhY2hlLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubmFtZS5pbmRleE9mKHZhbCkgPj0gMCk7XHJcbiAgICAgIHRoaXMubGlzdHNbMF0udmFsdWUgPSBbLi4uc2VhcmNoQ29sc107XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmxpc3RzWzBdLnZhbHVlID0gWy4uLnRoaXMubGlzdHNDYWNoZV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkbmRMaXN0Q2hhbmdlMCgkZXZlbnQpIHtcclxuICAgIGlmICh0aGlzLmxpc3RzICYmIHRoaXMubGlzdHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMubGlzdHNbMF0udmFsdWUgPSAkZXZlbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRuZExpc3RDaGFuZ2UxKCRldmVudCkge1xyXG4gICAgaWYgKHRoaXMubGlzdHMgJiYgdGhpcy5saXN0cy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5saXN0c1sxXS52YWx1ZSA9ICRldmVudDtcclxuICAgIH1cclxuICB9XHJcbiAgZG5kTGlzdENoYW5nZTIoJGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5saXN0cyAmJiB0aGlzLmxpc3RzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmxpc3RzWzJdLnZhbHVlID0gJGV2ZW50O1xyXG4gICAgfVxyXG4gIH1cclxuICBkbmRMaXN0Q2hhbmdlMygkZXZlbnQpIHtcclxuICAgIGlmICh0aGlzLmxpc3RzICYmIHRoaXMubGlzdHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMubGlzdHNbM10udmFsdWUgPSAkZXZlbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVBhZ2luZ01vZGVDaGFuZ2VkKHBhZ2luZ01vZGU6IGFueSkge1xyXG4gICAgdGhpcy5pc09yTm90UGFnaW5nID0gcGFnaW5nTW9kZS52YWx1ZSA9PT0gMTtcclxuICB9XHJcbn1cclxuIl19