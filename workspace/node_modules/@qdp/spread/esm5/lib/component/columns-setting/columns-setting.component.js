/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Injector, Input, LOCALE_ID } from '@angular/core';
import { FormErrorService } from '@farris/command-services';
import { MessagerService } from '@farris/ui-messager';
import { EventBus, JSONUtils, RtfServices, SchemaManagerService } from '@qdp/common';
import { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';
import { filter } from 'lodash-es';
import { RenderService } from '../../service/render/render.service';
var ColumnsSettingComponent = /** @class */ (function () {
    function ColumnsSettingComponent(injector) {
        this.injector = injector;
        this.hideColCache = []; // 隐藏列
        // 隐藏列
        this.showColCache = []; // 显示列
        // 显示列
        this.groupColCache = []; // 分组列
        // 分组列
        this.allColCache = []; // 全部列
        // 全部列
        this.searchText = '';
        this.isCompare = false;
        this.groupIcon = '<span class="k-icon k-i-search"></span>';
        this.lists = [];
        this.listsCache = [];
        this.multiSheetsSchemaIds = {};
        this.models = {
            selected: null,
            lists: this.lists
        };
        this.formInline = true;
        this.isOrNotPaging = true;
        // formatTypeData: any = [
        //   { name: '请选择', value: 0 },
        //   { name: '数字', value: 1 },
        //   { name: '日期', value: 2 },
        //   { name: '逻辑', value: 3 }
        // ];
        // formatTypeSelectValue: any = this.formatTypeData[0].value;
        // formatText = '';
        this.aggreData = [
            { name: '请选择', value: 0 },
            { name: '合计', value: 1 },
            { name: '最小值', value: 2 },
            { name: '最大值', value: 3 },
            { name: '计数', value: 4 },
            { name: '平均值', value: 5 }
        ];
        this.pageSelectValue = this.aggreData[0].value;
        this.pageText = '';
        this.colIsGroup = false;
        this.groupSelectValue = this.aggreData[0].value;
        this.groupSubSelectValue = this.aggreData[0].value;
        this.groupText = '';
        this.totalSelectValue = this.aggreData[0].value;
        this.totalText = '';
        this.currentColIndex = 0;
        this.enumType = [
            { name: '索引', value: '0' },
            { name: '编号', value: '1' },
            { name: '名称', value: '2' }
        ];
        if (this.injector) {
            this.localizeService = this.injector.get(LocalizeService);
            this.renderService = this.injector.get(RenderService);
            this.msgService = this.injector.get(MessagerService);
            this.formErrorService = this.injector.get(FormErrorService);
            this.schemaManagerService = this.injector.get(SchemaManagerService);
            this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;
            this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;
            this.aggreData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateData');
            this.enumType = this.localizeService.getValue('ideCmp.schemaManager.columnOption.enumType');
        }
        this.initLists();
    }
    /**
     * @return {?}
     */
    ColumnsSettingComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var eventId = RtfServices.getTabId(this.queryId);
        EventBus.register('pagingModeChanges', this.handlePagingModeChanged.bind(this), eventId + 'columnsSetting');
        EventBus.register('schemaValueChanged', this.handleSchemaValueChanged.bind(this), eventId + 'columnsSetting');
    };
    /**
     * @return {?}
     */
    ColumnsSettingComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () { };
    /**
     * @private
     * @return {?}
     */
    ColumnsSettingComponent.prototype.initLists = /**
     * @private
     * @return {?}
     */
    function () {
        this.lists = [];
        for (var i = 0; i < 3; i++) {
            this.lists.push({
                name: this.localizeService.getValue('spread.crossTable.columnSetting')[i],
                value: []
            });
        }
    };
    /**
     * 初始化交叉表维度设置
     */
    /**
     * 初始化交叉表维度设置
     * @return {?}
     */
    ColumnsSettingComponent.prototype.initCrosstab = /**
     * 初始化交叉表维度设置
     * @return {?}
     */
    function () {
        // this.renderService.renderObject.currentSchemaValueChanger.subscribe((schemaValue: any) => {
        // });
    };
    /**
     * @private
     * @param {?} schemaValue
     * @return {?}
     */
    ColumnsSettingComponent.prototype.handleSchemaValueChanged = /**
     * @private
     * @param {?} schemaValue
     * @return {?}
     */
    function (schemaValue) {
        var _this = this;
        if (schemaValue) {
            this.schemaValue = schemaValue;
            if (schemaValue.id === 1 || schemaValue.id === '1') {
                this.lists[0].value = [];
                this.listsCache = [];
                this.lists[1].value = [];
                this.lists[2].value = [];
                return;
            }
            if (this.controlType !== 'crosstab') {
                this.colList = schemaValue.schemaValue.columnOption.colList;
                if (this.colList) {
                    this.hideColCache = []; // 隐藏列
                    this.showColCache = []; // 显示列
                    this.groupColCache = []; // 分组列
                    this.allColCache = []; // 全部列
                    for (var i = 0; i < this.colList.length; i++) {
                        this.getSubColumns(this.colList[i], null, '');
                    }
                    setTimeout((/**
                     * @return {?}
                     */
                    function () {
                        _this.lists[0].value = _this.hideColCache;
                        _this.listsCache = _this.hideColCache;
                        _this.lists[1].value = _this.showColCache;
                        _this.lists[2].value = _this.groupColCache;
                    }));
                }
            }
        }
    };
    /**
     * @private
     * @param {?} col
     * @param {?} colList
     * @param {?} pid
     * @return {?}
     */
    ColumnsSettingComponent.prototype.getSubColumns = /**
     * @private
     * @param {?} col
     * @param {?} colList
     * @param {?} pid
     * @return {?}
     */
    function (col, colList, pid) {
        if (col) {
            col['id'] = EventBus.guid();
            col['pid'] = pid;
            /** @type {?} */
            var pcol = JSON.parse(JSON.stringify(col));
            pcol.childList = [];
            this.allColCache.push(pcol);
            if (col.childList && col.childList.length) {
                this.getSubColumns(null, col.childList, col['id']);
            }
            else {
                if (col.isGroup) {
                    this.groupColCache.push(col);
                }
                else if (col.visible) {
                    this.showColCache.push(col);
                }
                else {
                    this.hideColCache.push(col);
                }
            }
        }
        else {
            for (var i = 0; i < colList.length; i++) {
                colList[i]['id'] = EventBus.guid();
                colList[i]['pid'] = pid;
                /** @type {?} */
                var pcol = JSON.parse(JSON.stringify(colList[i]));
                pcol.childList = [];
                this.allColCache.push(pcol);
                if (colList[i].childList && colList[i].childList.length) {
                    this.getSubColumns(null, colList[i].childList, colList[i]['id']);
                }
                else {
                    if (colList[i].isGroup) {
                        this.groupColCache.push(colList[i]);
                    }
                    else if (colList[i].visible) {
                        this.showColCache.push(colList[i]);
                    }
                    else {
                        this.hideColCache.push(colList[i]);
                    }
                }
            }
        }
    };
    /**
     * @param {?} index
     * @param {?} list
     * @return {?}
     */
    ColumnsSettingComponent.prototype.moved = /**
     * @param {?} index
     * @param {?} list
     * @return {?}
     */
    function (index, list) {
        var _this = this;
        list.splice(index, 1);
        this.selectedDimesion();
        if (this.schemaValue) {
            if (this.schemaValue.isProtected === 1 || this.schemaValue.isProtected === '1') {
                this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));
                return;
            }
            this.schemaValue.schemaValue = JSON.stringify(this.schemaValue.schemaValue);
            this.schemaManagerService.saveSchema({ 'schema': JSON.stringify(this.schemaValue) }, this.queryRelativeUrl).subscribe((/**
             * @return {?}
             */
            function () {
                _this.renderService.render({ multiSheetsSchemaIds: _this.multiSheetsSchemaIds, curSheet: _this.curSheet, multiSheets: _this.multiSheets, schemaId: _this.schemaValue.id, queryId: _this.queryId, spread: _this.spread, controlType: _this.controlType, qoManagerCode: _this.qoManagerCode, queryRelativeUrl: _this.queryRelativeUrl, schemaValue: _this.schemaValue, filterCondition: _this.conditionExpression, groupType: _this.groupType, voId: _this.voId, jointsearchInfoList: _this.jointsearchInfoList, fromCache: true, qdpView: _this.qdpView });
                _this.schemaValue.schemaValue = typeof _this.schemaValue.schemaValue === 'string' ? JSON.parse(_this.schemaValue.schemaValue) : _this.schemaValue.schemaValue;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
                _this.formErrorService.exception(error.Message, error);
            }));
        }
    };
    /**
     * @return {?}
     */
    ColumnsSettingComponent.prototype.selectedDimesion = /**
     * @return {?}
     */
    function () {
        this.colList = [];
        if (this.lists[0]) {
            this.lists[0].value.forEach((/**
             * @param {?} value
             * @return {?}
             */
            function (value) {
                value.isGroup = false;
                value.visible = false;
            }));
            this.colList = this.lists[0].value;
        }
        if (this.lists[1]) {
            this.lists[1].value.forEach((/**
             * @param {?} value
             * @return {?}
             */
            function (value) {
                value.isGroup = false;
                value.visible = true;
            }));
            if (this.colList.length === 0) {
                this.colList = this.lists[1].value;
            }
            else {
                this.colList = this.colList.concat(this.lists[1].value);
            }
        }
        if (this.lists[2]) {
            this.lists[2].value.forEach((/**
             * @param {?} value
             * @return {?}
             */
            function (value) {
                value.isGroup = true;
                value.visible = false;
            }));
            if (this.colList.length === 0) {
                this.colList = this.lists[2].value;
            }
            else {
                this.colList = this.colList.concat(this.lists[2].value);
            }
        }
        if (this.colList.length > 0) {
            for (var i = 0; i < this.colList.length; i++) {
                if (this.colList[i].isGroup)
                    continue;
                /** @type {?} */
                var filterCondition = { pid: this.colList[i]['pid'] };
                if (i == 0 && this.colList.length > 1) {
                    if (this.colList.length > 2) {
                        if (this.colList[i]['pid'] && this.colList[i + 2]['pid'] && this.colList[i]['pid'] == this.colList[i + 2]['pid']) {
                            this.colList[i]['pid'] = this.colList[i + 2]['pid'];
                        }
                    }
                    else {
                        if (this.colList[i]['pid'] && this.colList[i]['pid'] != this.colList[i + 1]['pid'] && filter(this.colList, filterCondition) && filter(this.colList, filterCondition).length > 1) {
                            this.colList[i]['pid'] = '';
                        }
                    }
                }
                else if (i == (this.colList.length - 1) && this.colList.length > 1) {
                    if (this.colList[i]['pid'] && this.colList[i]['pid'] != this.colList[i - 1]['pid'] && filter(this.colList, filterCondition) && filter(this.colList, filterCondition).length > 1) {
                        this.colList[i]['pid'] = '';
                    }
                }
                else if (i > 0 && i < (this.colList.length - 1)) {
                    if (this.colList[i - 1]['pid'] && this.colList[i + 1]['pid'] && this.colList[i - 1]['pid'] == this.colList[i + 1]['pid']) {
                        this.colList[i]['pid'] = this.colList[i - 1]['pid'];
                    }
                }
            }
            for (var i = 0; i < this.colList.length; i++) {
                this.recursiveFindParent(this.colList, i, this.colList[i]['pid']);
            }
            /** @type {?} */
            var objCache = {};
            for (var i = 0; i < this.colList.length; i++) {
                objCache[this.colList[i]['id']] = this.colList[i];
            }
            /** @type {?} */
            var result = [];
            for (var key in objCache) {
                /** @type {?} */
                var parent_1 = objCache[objCache[key]['pid']];
                if (!parent_1) {
                    result.push(objCache[key]);
                }
                else {
                    parent_1['childList'].push(objCache[key]);
                }
            }
            if (this.colList.length > 0) {
                try {
                    this.isCompare = JSONUtils.Compare({ schema: this.schemaValue.schemaValue.columnOption.colList }, { schema: result });
                }
                catch (e) { }
                this.schemaValue.schemaValue.columnOption.colList = result;
                // this.schemaValue.schemaValue.columnOption.colList = this.colList;
            }
        }
    };
    /**
     * @private
     * @param {?} colList
     * @param {?} index
     * @param {?} pid
     * @return {?}
     */
    ColumnsSettingComponent.prototype.recursiveFindParent = /**
     * @private
     * @param {?} colList
     * @param {?} index
     * @param {?} pid
     * @return {?}
     */
    function (colList, index, pid) {
        var _this = this;
        /** @type {?} */
        var colIndex = this.allColCache.findIndex((/**
         * @param {?} x
         * @return {?}
         */
        function (x) { return x.id == pid; }));
        if (colIndex >= 0 && this.colList.findIndex((/**
         * @param {?} x
         * @return {?}
         */
        function (x) { return x.id === _this.allColCache[colIndex].id; })) < 0) {
            this.colList.splice(index, 0, this.allColCache[colIndex]);
            if (this.allColCache[colIndex]['pid']) {
                this.recursiveFindParent(colList, index, this.allColCache[colIndex]['pid']);
            }
        }
    };
    /**
     * @param {?} val
     * @return {?}
     */
    ColumnsSettingComponent.prototype.dimensionSearchValueOnChange = /**
     * @param {?} val
     * @return {?}
     */
    function (val) {
        if (val) {
            /** @type {?} */
            var searchCols = this.listsCache.find((/**
             * @param {?} item
             * @return {?}
             */
            function (item) { return item.name.indexOf(val) >= 0; }));
            this.lists[0].value = tslib_1.__spread(searchCols);
        }
        else {
            this.lists[0].value = tslib_1.__spread(this.listsCache);
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    ColumnsSettingComponent.prototype.dndListChange0 = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (this.lists && this.lists.length) {
            this.lists[0].value = $event;
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    ColumnsSettingComponent.prototype.dndListChange1 = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (this.lists && this.lists.length) {
            this.lists[1].value = $event;
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    ColumnsSettingComponent.prototype.dndListChange2 = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (this.lists && this.lists.length) {
            this.lists[2].value = $event;
        }
    };
    /**
     * @param {?} $event
     * @return {?}
     */
    ColumnsSettingComponent.prototype.dndListChange3 = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        if (this.lists && this.lists.length) {
            this.lists[3].value = $event;
        }
    };
    /**
     * @private
     * @param {?} pagingMode
     * @return {?}
     */
    ColumnsSettingComponent.prototype.handlePagingModeChanged = /**
     * @private
     * @param {?} pagingMode
     * @return {?}
     */
    function (pagingMode) {
        this.isOrNotPaging = pagingMode.value === 1;
    };
    ColumnsSettingComponent.decorators = [
        { type: Component, args: [{
                    selector: 'columns-setting',
                    template: "<div class=\"container f-utils-fill-flex-column h-100\">\r\n  <div class=\"simpleDemo f-utils-fill-flex-row\">\r\n    <div class=\"col-md-6 f-utils-flex-column p-1\">\r\n      <div class=\"card f-utils-fill-flex-column\">\r\n        <div class=\"card-body f-utils-fill-flex-column p-0\">\r\n          <div class=\"cardTitle mb-2 pt-2\">\r\n            <span id=\"unselected\" class=\"f-icon pt-1 pr-2 pl-2\" role=\"presentation\">\r\n              <img\r\n                src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTYgMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuW+hemAieWtl+autTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJyBvcGFjaXR5PScwLjQ1OTU0MjQxMSc+PGcgaWQ9JzHjgIHmn6Xor6JVSeiuvuiuoScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTkzMi4wMDAwMDAsIC0xNTEuMDAwMDAwKScgZmlsbD0nIzAwMDAwMCcgZmlsbC1ydWxlPSdub256ZXJvJz48ZyBpZD0n57yW57uELTI2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg4OTguMDAwMDAwLCA3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTI0JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC4wMDAwMDAsIDY1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjEnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMDAwMDAwLCAxLjAwMDAwMCknPjxnIGlkPSdzaG91Y2FuZy0yJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxMy4wMDAwMDAsIDEwLjAwMDAwMCknPjxwYXRoIGQ9J00xMS41NjA5NDkyLDE0LjQ3MjcxODMgQzExLjM2NDAzMzIsMTQuNDcyNzE4MyAxMS4xNDI4MzU5LDE0LjQxNjE4MzYgMTAuOTM3NTI1NCwxNC4zMTM1NjI1IEw4LjAwNzc1MTk1LDEyLjg0ODE4MzYgTDUuMDU5ODM1OTQsMTQuMzExMTgzNiBDNC44NzMxNDY0OCwxNC40MTA1NzgxIDQuNjU5NDQxNDEsMTQuNDYyODczIDQuNDQxNTI1MzksMTQuNDYyODczIEM0LjE1ODM1ODQyLDE0LjQ2MzkxNTcgMy44ODI0MTU1NCwxNC4zNzM1NDU4IDMuNjU0NzIyNjYsMTQuMjA1MTk5MiBDMy4yNDIxNDY0OCwxMy44OTU4MDQ3IDMuMDMwNzM4MjgsMTMuMzU5NTkzNyAzLjEyODMyODEyLDEyLjg3MTQ5NDEgTDMuNzMxMjQ0MTQsOS43NDM4ODg2NyBMMS40MjAzMjgxMiw3LjU4OTc4OTA2IEMxLjA2MzM4MzQyLDcuMjI4MTM2ODYgMC45MjY0MjQ0NTgsNi43MDM1NjQzOCAxLjA2MTAxNzU4LDYuMjEzNTc4MTIgTDEuMDY1NjM4NjcsNi4xOTc2OTE0MSBDMS4yMzM2Mzg2Nyw1LjY5NDE4MzU5IDEuNjUwNDEyMTEsNS4zNDEzODA4NiAyLjE1NTc1MTk1LDUuMjczNjkxNDEgTDUuMzY2NDQxNDEsNC42ODk5MDIzNCBMNi44MDc1MjUzOSwxLjc2MzA0MTAyIEM3LjAzOTAxNzU4LDEuMjk5NjMyODEgNy41MDk4NDk2MSwxLjAwMTg1OTM3IDguMDA3NzUxOTUsMS4wMDE4NTkzNyBDOC41MjcxNDY0OCwxLjAwMTg1OTM3IDkuMDEwMTQ2NDgsMS4zMTA4NDM3NSA5LjIxMjY1NDMsMS43NzE0NDkyMiBMMTAuNjQ5MTMwOSw0LjY4OTAyNzM0IEwxMy44NjAzMTI1LDUuMjUwNDQ5MjIgQzE0LjM2OTg3NDcsNS4zMjQzMDAwMyAxNC43ODg3MTU0LDUuNjkwMjA3NjIgMTQuOTMwMzI4MSw2LjE4NTIzNjMzIEMxNS4wODg4NDQ4LDYuNjcxNzczNDkgMTQuOTU5MzY4Miw3LjIwNjExMjA4IDE0LjU5NTcyMjcsNy41NjYxMjMwNSBMMTQuNTg3ODIwMyw3LjU3NDAzOTA2IEwxMi4yODM0MjU4LDkuNzQ0MDM5MDYgTDEyLjg2NTgyMDMsMTIuODc3MjIyNyBDMTIuOTU5NjA5NCwxMy4zNzg0MzM2IDEyLjc2MDMyODEsMTMuODg0MzIwMyAxMi4zNDU0NDE0LDE0LjE5OTc0NDEgQzEyLjEyMzMxODEsMTQuMzc4NjAyMiAxMS44NDYxMjE3LDE0LjQ3NTA0MTMgMTEuNTYwOTQ5MiwxNC40NzI3MTgzIEwxMS41NjA5NDkyLDE0LjQ3MjcxODMgWiBNOC4wMDg4MDQ2OSwxMS43NDY1MDM5IEwxMS4wODYyNzU0LDEzLjI4NTQ2NDggQzExLjE3NjcxNDgsMTMuMzMxMTAxNiAxMS4yODA4ODA5LDEzLjM1OTY2MjEgMTEuMzUyMDU2NiwxMy4zNTk2NjIxIEMxMS40NjE4MjgxLDEzLjM1OTY2MjEgMTEuNTYzNzUyLDEzLjMyNTkxOTkgMTEuNjM4NDQxNCwxMy4yNjM1NDg4IEwxMS42NTI1MDk4LDEzLjI1MjA2NDUgQzExLjgyNzM3MywxMy4xMjA3NDYxIDExLjkxMjU0ODgsMTIuOTEyNDI3NyAxMS44NzQzMzU5LDEyLjcwODEwMTYgTDExLjI1NDgzNTksOS4zNzE5NzI2NiBMMTMuNzA0NDk0MSw3LjA2NTE4NTU1IEMxMy44NTQ3NzU0LDYuOTEyNzMwNDcgMTMuOTA2MjIyNyw2LjY5NDQwNDMgMTMuODM5NDM1NSw2LjQ5MzU2NDQ1IEwxMy44MzI4NzMsNi40NzI1MDk3NyBDMTMuNzc4OTIxMiw2LjI3ODAxNzY2IDEzLjYxNDIyNjEsNi4xMzQ0MTAzMyAxMy40MTQxOTkyLDYuMTA3NDQzMzYgTDEzLjQwMDE5OTIsNi4xMDUyODMyIEwxMC4wMTA4MDQ3LDUuNTEyNjYyMTEgTDguNDg1NDg4MjgsMi40MTQxOTE0MSBDOC40MTEyMDg5OCwyLjI0MTA3ODEyIDguMjEwNDUxMTcsMi4xMTU0MzM1OSA4LjAwNzQ1MTE3LDIuMTE1NDMzNTkgQzcuODA4MDE5NTMsMi4xMTU0MzM1OSA3LjYxNzMzNzg5LDIuMjQwMjQ0MTQgNy41MjA2Nzc3MywyLjQzMzA4NTk0IEw2LjAwNTA1NDY5LDUuNTExMzM1OTQgTDIuNTk3NzIyNjYsNi4xMzAyODkwNiBDMi4zOTA4MTI1LDYuMTU2MjUxOTUgMi4yMzAwMTc1OCw2LjI5MzczNjMzIDIuMTU1ODIwMzEsNi41MDgwNzAzMSBDMi4xMDMxMDE1Niw2LjcwNDAwMTk1IDIuMTY1NDcyNjYsNi45Mzk4OTY0OCAyLjMwOTUzMzIsNy4wODcxMTUyMyBMNC43NjE4NTc0Miw5LjM3MjM5NjQ4IEw0LjExODI2NzU4LDEyLjcxMDM1NzQgQzQuMDc5NjMwODYsMTIuOTAzMjY3NiA0LjE3MDk3MjY2LDEzLjEyNTUxNzYgNC4zNDAwOTM3NSwxMy4yNTI1MDIgQzQuNDI0ODU5MzcsMTMuMzE2MjEyOSA0LjUzNDY5OTIyLDEzLjM1MTM0OTYgNC42NDk4NDM3NSwxMy4zNTEzNDk2IEM0LjczODYwMTU2LDEzLjM1MTM0OTYgNC44MjM4MDQ2OSwxMy4zMzA2MjMgNC44OTcxNjc5NywxMy4yOTExMzg3IEw0LjkwNzcyMjY2LDEzLjI4NDk4NjMgTDguMDA4ODA0NjksMTEuNzQ2NTAzOSBaJyBpZD0n5b2i54q2Jz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+\"\r\n                style=\"width: 15px; height: 15px; display: block;\" />\r\n            </span>\r\n            <span class=\"pl-3 dimensionTitle\">{{lists && lists.length ? lists[0].name : ''}}</span>\r\n          </div>\r\n          <input-group [groupText]=\"groupIcon\" class=\"m-1\" [(value)]=\"searchText\"\r\n            (valueChange)=\"dimensionSearchValueOnChange($event)\"></input-group>\r\n          <ul id=\"unselectFieldList\" class=\"f-utils-overflow-xhya f-utils-fill pb-1\"\r\n            [dndList]=\"lists && lists.length ? lists[0].value : []\" (dndListChange)=\"dndListChange0($event)\">\r\n            <li *ngFor=\"let item of (lists && lists.length ? lists[0].value : []); let i = index;\" [dndDraggable]=\"item\"\r\n              (dndMoved)=\"moved(i, lists[0].value)\" dndEffectAllowed=\"move\" (dndSelected)=\"models.selected = item\"\r\n              [ngClass]=\"{'selected': models.selected === item}\">\r\n              <span class=\"unselectFieldFront mr-2\"\r\n                *ngIf=\"'int,float,double,decimal,number'.includes(item.type)==false\">Abc</span>\r\n              <span class=\"unselectFieldFront mr-2\"\r\n                *ngIf=\"'int,float,double,decimal,number'.includes(item.type)==true\">123</span>\r\n              <span class=\"unselectField\">{{item.name}}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6 f-utils-flex-column p-1\">\r\n      <div class=\"card f-utils-fill-flex-column\">\r\n        <div class=\"card-body  f-utils-fill-flex-column p-0\">\r\n          <div class=\"cardTitle mb-2 pt-2\">\r\n            <span id=\"rowfield\" class=\"f-icon pt-1 pr-2 pl-2\" role=\"presentation\">\r\n              <img\r\n                src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTYgMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuihjOe7tOW6pjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMeOAgeafpeivolVJ6K6+6K6hJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtOTMxLjAwMDAwMCwgLTQ2MC4wMDAwMDApJyBzdHJva2U9JyM5Nzk3OTcnPjxnIGlkPSfnvJbnu4QtMjYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDg5OC4wMDAwMDAsIDc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIwLjAwMDAwMCwgMzc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjHlpIfku70tMicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMS4wMDAwMDAsIDAuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0yMicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTIuMDAwMDAwLCAxMC4wMDAwMDApJz48cmVjdCBpZD0n55+p5b2iJyB4PScxLjUnIHk9JzIuNScgd2lkdGg9JzQuMjUnIGhlaWdodD0nNC4yNScgcng9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2iJyBmaWxsPScjRDhEOEQ4JyB4PSc4LjUnIHk9JzMuMzc1JyB3aWR0aD0nNScgaGVpZ2h0PScxJz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xMicgZmlsbD0nI0Q4RDhEOCcgeD0nOC41JyB5PScxMC4zNzUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTcnIGZpbGw9JyNEOEQ4RDgnIHg9JzguNScgeT0nNicgd2lkdGg9JzUnIGhlaWdodD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaLlpIfku70tMTMnIGZpbGw9JyNEOEQ4RDgnIHg9JzguNScgeT0nMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTYnIHg9JzEuNScgeT0nOS41JyB3aWR0aD0nNC4yNScgaGVpZ2h0PSc0LjI1JyByeD0nMSc+PC9yZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==\"\r\n                style=\"width: 15px; height: 15px; display: block;\" />\r\n            </span>\r\n            <span class=\"pl-3 dimensionTitle\">{{lists && lists.length ? lists[1].name : ''}}</span>\r\n          </div>\r\n          <div id=\"rowfieldimg\" *ngIf=\"lists && lists.length ? (lists[1]?.value?.length < 1) : true\"\r\n            class=\"f-utils-absolute-all f-utils-flex-column justify-content-center align-items-center\"\r\n            role=\"presentation\" style=\"align-items: center; top: 36px; z-index: 10;\">\r\n            <img\r\n              src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nNTBweCcgaGVpZ2h0PSc1MHB4JyB2aWV3Qm94PScwIDAgNTAgNTAnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIl+e7tOW6puWbvjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHJlY3QgaWQ9J3BhdGgtMScgeD0nMjYnIHk9JzMxJyB3aWR0aD0nMjQnIGhlaWdodD0nMTgnIHJ4PScwLjUnPjwvcmVjdD48ZmlsdGVyIHg9Jy02LjIlJyB5PSctOC4zJScgd2lkdGg9JzExMi41JScgaGVpZ2h0PScxMTYuNyUnIGZpbHRlclVuaXRzPSdvYmplY3RCb3VuZGluZ0JveCcgaWQ9J2ZpbHRlci0yJz48ZmVPZmZzZXQgZHg9JzAnIGR5PScwJyBpbj0nU291cmNlQWxwaGEnIHJlc3VsdD0nc2hhZG93T2Zmc2V0T3V0ZXIxJz48L2ZlT2Zmc2V0PjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249JzAuNScgaW49J3NoYWRvd09mZnNldE91dGVyMScgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlR2F1c3NpYW5CbHVyPjxmZUNvbXBvc2l0ZSBpbj0nc2hhZG93Qmx1ck91dGVyMScgaW4yPSdTb3VyY2VBbHBoYScgb3BlcmF0b3I9J291dCcgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlQ29tcG9zaXRlPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0nMCAwIDAgMCAwLjExNDg0Mzc1IDAgMCAwIDAgMC41MTU4ODE4MTcgMCAwIDAgMCAxIDAgMCAwIDAuNzI2NDgwNTUxIDAnIHR5cGU9J21hdHJpeCcgaW49J3NoYWRvd0JsdXJPdXRlcjEnPjwvZmVDb2xvck1hdHJpeD48L2ZpbHRlcj48bGluZWFyR3JhZGllbnQgeDE9JzUwJScgeTE9JzEwMCUnIHgyPSc1MCUnIHkyPScwJScgaWQ9J2xpbmVhckdyYWRpZW50LTMnPjxzdG9wIHN0b3AtY29sb3I9JyNEQUVCRkYnIHN0b3Atb3BhY2l0eT0nMC4yMDMwNDMwNTEnIG9mZnNldD0nMCUnPjwvc3RvcD48c3RvcCBzdG9wLWNvbG9yPScjQjNEMkZGJyBzdG9wLW9wYWNpdHk9JzAuNDczMDM4NjgnIG9mZnNldD0nMTAwJSc+PC9zdG9wPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGlkPSfpobXpnaItMScgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9JzHjgIHmn6Xor6JVSeiuvuiuoScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyMTQuMDAwMDAwLCAtNTY1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDg5OC4wMDAwMDAsIDc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMzAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIzOS4wMDAwMDAsIDM3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTM05aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg0MC4wMDAwMDAsIDExNS4wMDAwMDApJz48ZyBpZD0n57yW57uELTMzJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgzNy4wMDAwMDAsIDAuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC01Jz48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTMnIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScyNicgeT0nMTAnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjxnIGlkPSfnn6nlvaLlpIfku70tNicgb3BhY2l0eT0nMC41OTYxMjE2NTInPjx1c2UgZmlsbD0nYmxhY2snIGZpbGwtb3BhY2l0eT0nMScgZmlsdGVyPSd1cmwoI2ZpbHRlci0yKScgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PHJlY3Qgc3Ryb2tlLW9wYWNpdHk9JzAuMjIzNDQ4NDI3JyBzdHJva2U9JyMwMDUxQjknIHN0cm9rZS13aWR0aD0nMScgc3Ryb2tlLWxpbmVqb2luPSdzcXVhcmUnIGZpbGw9JyM3QkIyRjgnIGZpbGwtcnVsZT0nZXZlbm9kZCcgeD0nMjYuNScgeT0nMzEuNScgd2lkdGg9JzIzJyBoZWlnaHQ9JzE3JyByeD0nMC41Jz48L3JlY3Q+PC9nPjxyZWN0IGlkPSfnn6nlvaLlpIfku70tMTInIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScwJyB5PScxMCcgd2lkdGg9JzI0JyBoZWlnaHQ9JzE4JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xNCcgZmlsbD0nI0IzRDJGRicgb3BhY2l0eT0nMC4yNDM4NjE2MDcnIHg9JzAnIHk9JzEnIHdpZHRoPSc1MCcgaGVpZ2h0PSc2JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xOCcgZmlsbD0ndXJsKCNsaW5lYXJHcmFkaWVudC0zKScgeD0nMCcgeT0nMzEnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\"\r\n              style=\"width: 50px;height: 56px;display: block;\">\r\n            <!-- <span class=\"imgFont\">{{localizeService?.getValue('spread.crossTable.rowDimensionTitle')}}</span> -->\r\n          </div>\r\n          <ul class=\"f-utils-overflow-xhya f-utils-fill pb-1\" style=\"z-index: 20\"\r\n            [dndList]=\"lists && lists.length ? lists[1].value : []\" (dndListChange)=\"dndListChange1($event)\">\r\n            <li *ngFor=\"let item of (lists && lists.length ? lists[1].value : []); let i = index;\" [dndDraggable]=\"item\"\r\n              class=\"mb-1 p-1\" (dndMoved)=\"moved(i, lists[1].value)\" dndEffectAllowed=\"move\"\r\n              (dndSelected)=\"models.selected = item\" [ngClass]=\"{'selected': models.selected === item}\">\r\n              {{item.name}}\r\n              <!-- <div class=\"btn-group mr-3\" fDropdown>\r\n                <button class=\"btn btn-link dropdown-toggle\" fDropdownToggle type=\"button\">\r\n                  {{item.name}}\r\n                </button>\r\n                <div class=\"dropdown-menu\" fDropdownMenu>\r\n                  <div class=\"flex-fill farris-split-section farris-overflow-hidden\">\r\n                    <div class=\"farris-form farris-card-content-bg\">\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist' && isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colPageText\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.pageTotal')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <input-group [(ngModel)]=\"pageText\" id=\"colPageText\"></input-group>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist' && isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colPageAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.pageTotalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colPageAggre\" [(ngModel)]=\"pageSelectValue\" [data]=\"aggreData\"\r\n                                [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colGroupText\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupTotal')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <input-group [(ngModel)]=\"groupText\" id=\"colGroupText\"></input-group>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colGroupAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupSubTotalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colGroupAggre\" [disabled]=\"colIsGroup\"\r\n                                [(ngModel)]=\"groupSubSelectValue\" [data]=\"aggreData\" [textField]=\"'name'\"\r\n                                [idField]=\"'value'\" [enableClear]=\"false\">\r\n                              </farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colGroupAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupTotalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colGroupAggre\" [disabled]=\"colIsGroup\"\r\n                                [(ngModel)]=\"groupSelectValue\" [data]=\"aggreData\" [textField]=\"'name'\"\r\n                                [idField]=\"'value'\" [enableClear]=\"false\">\r\n                              </farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && !isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colTotalText\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateTotal')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <input-group [(ngModel)]=\"totalText\" id=\"colTotalText\"></input-group>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-12 col-md-12 col-lg-12\"\r\n                        *ngIf=\"(controlType!='crosstab' && !isOrNotPaging)\">\r\n                        <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"\r\n                          [class.farris-form-inline]=\"formInline\">\r\n                          <div class=\"form-group farris-form-group\">\r\n                            <label class=\"col-form-label\" for=\"colTotalAggre\">\r\n                              <span\r\n                                class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.totalType')}}:</span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                              <farris-combo-list id=\"colTotalAggre\" [(ngModel)]=\"totalSelectValue\" [data]=\"aggreData\"\r\n                                [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div> -->\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"simpleDemo f-utils-fill-flex-row\" *ngIf=\"controlType=='list'\">\r\n    <div class=\"col-md-6 f-utils-flex-column p-1\">\r\n      <div class=\"card f-utils-fill-flex-column\">\r\n        <div class=\"card-body f-utils-fill-flex-column p-0\">\r\n          <div class=\"cardTitle mb-2 pt-2\">\r\n            <span id=\"colfield\" class=\"f-icon pt-1 pr-2 pl-2\" role=\"presentation\">\r\n              <img\r\n                src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTdweCcgaGVpZ2h0PScxN3B4JyB2aWV3Qm94PScwIDAgMTcgMTcnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIl+e7tOW6pjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMeOAgeafpeivolVJ6K6+6K6hJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTE1MC4wMDAwMDAsIC00NjAuMDAwMDAwKScgc3Ryb2tlPScjOTc5Nzk3Jz48ZyBpZD0n57yW57uELTI2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg4OTguMDAwMDAwLCA3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTMwJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMzkuMDAwMDAwLCAzNzUuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0yMeWkh+S7vS0zJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjAwMDAwMCwgMC4wMDAwMDApJz48ZyBpZD0n57yW57uELTIyJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyMC4xMjUwMDAsIDE4LjEyNTAwMCkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC0yMC4xMjUwMDAsIC0xOC4xMjUwMDApIHRyYW5zbGF0ZSgxMi4xMjUwMDAsIDEwLjEyNTAwMCknPjxyZWN0IGlkPSfnn6nlvaInIHg9JzEuNScgeT0nMi41JyB3aWR0aD0nNC4yNScgaGVpZ2h0PSc0LjI1JyByeD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaInIGZpbGw9JyNEOEQ4RDgnIHg9JzguNScgeT0nMy4zNzUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEnPjwvcmVjdD48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTEyJyBmaWxsPScjRDhEOEQ4JyB4PSc4LjUnIHk9JzEwLjM3NScgd2lkdGg9JzUnIGhlaWdodD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaLlpIfku70tNycgZmlsbD0nI0Q4RDhEOCcgeD0nOC41JyB5PSc2JyB3aWR0aD0nNScgaGVpZ2h0PScxJz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xMycgZmlsbD0nI0Q4RDhEOCcgeD0nOC41JyB5PScxMycgd2lkdGg9JzUnIGhlaWdodD0nMSc+PC9yZWN0PjxyZWN0IGlkPSfnn6nlvaLlpIfku70tNicgeD0nMS41JyB5PSc5LjUnIHdpZHRoPSc0LjI1JyBoZWlnaHQ9JzQuMjUnIHJ4PScxJz48L3JlY3Q+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+\"\r\n                style=\"width: 15px; height: 15px; display: block;\" />\r\n            </span>\r\n            <span class=\"pl-3 dimensionTitle\">{{lists && lists.length ? lists[2].name : ''}}</span>\r\n          </div>\r\n          <div id=\"colfieldimg\" *ngIf=\"lists && lists.length ? (lists[2]?.value?.length < 1) : true\"\r\n            class=\"f-utils-absolute-all f-utils-flex-column justify-content-center align-items-center\"\r\n            role=\"presentation\" style=\"align-items: center; top: 36px; z-index: 10;\">\r\n            <img\r\n              src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nNTBweCcgaGVpZ2h0PSc1MHB4JyB2aWV3Qm94PScwIDAgNTAgNTAnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIl+e7tOW6puWbvjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHJlY3QgaWQ9J3BhdGgtMScgeD0nMjYnIHk9JzMxJyB3aWR0aD0nMjQnIGhlaWdodD0nMTgnIHJ4PScwLjUnPjwvcmVjdD48ZmlsdGVyIHg9Jy02LjIlJyB5PSctOC4zJScgd2lkdGg9JzExMi41JScgaGVpZ2h0PScxMTYuNyUnIGZpbHRlclVuaXRzPSdvYmplY3RCb3VuZGluZ0JveCcgaWQ9J2ZpbHRlci0yJz48ZmVPZmZzZXQgZHg9JzAnIGR5PScwJyBpbj0nU291cmNlQWxwaGEnIHJlc3VsdD0nc2hhZG93T2Zmc2V0T3V0ZXIxJz48L2ZlT2Zmc2V0PjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249JzAuNScgaW49J3NoYWRvd09mZnNldE91dGVyMScgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlR2F1c3NpYW5CbHVyPjxmZUNvbXBvc2l0ZSBpbj0nc2hhZG93Qmx1ck91dGVyMScgaW4yPSdTb3VyY2VBbHBoYScgb3BlcmF0b3I9J291dCcgcmVzdWx0PSdzaGFkb3dCbHVyT3V0ZXIxJz48L2ZlQ29tcG9zaXRlPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0nMCAwIDAgMCAwLjExNDg0Mzc1IDAgMCAwIDAgMC41MTU4ODE4MTcgMCAwIDAgMCAxIDAgMCAwIDAuNzI2NDgwNTUxIDAnIHR5cGU9J21hdHJpeCcgaW49J3NoYWRvd0JsdXJPdXRlcjEnPjwvZmVDb2xvck1hdHJpeD48L2ZpbHRlcj48bGluZWFyR3JhZGllbnQgeDE9JzUwJScgeTE9JzEwMCUnIHgyPSc1MCUnIHkyPScwJScgaWQ9J2xpbmVhckdyYWRpZW50LTMnPjxzdG9wIHN0b3AtY29sb3I9JyNEQUVCRkYnIHN0b3Atb3BhY2l0eT0nMC4yMDMwNDMwNTEnIG9mZnNldD0nMCUnPjwvc3RvcD48c3RvcCBzdG9wLWNvbG9yPScjQjNEMkZGJyBzdG9wLW9wYWNpdHk9JzAuNDczMDM4NjgnIG9mZnNldD0nMTAwJSc+PC9zdG9wPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGlkPSfpobXpnaItMScgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9JzHjgIHmn6Xor6JVSeiuvuiuoScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyMTQuMDAwMDAwLCAtNTY1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMjYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDg5OC4wMDAwMDAsIDc1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMzAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDIzOS4wMDAwMDAsIDM3NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTM05aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg0MC4wMDAwMDAsIDExNS4wMDAwMDApJz48ZyBpZD0n57yW57uELTMzJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgzNy4wMDAwMDAsIDAuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC01Jz48cmVjdCBpZD0n55+p5b2i5aSH5Lu9LTMnIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScyNicgeT0nMTAnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjxnIGlkPSfnn6nlvaLlpIfku70tNicgb3BhY2l0eT0nMC41OTYxMjE2NTInPjx1c2UgZmlsbD0nYmxhY2snIGZpbGwtb3BhY2l0eT0nMScgZmlsdGVyPSd1cmwoI2ZpbHRlci0yKScgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PHJlY3Qgc3Ryb2tlLW9wYWNpdHk9JzAuMjIzNDQ4NDI3JyBzdHJva2U9JyMwMDUxQjknIHN0cm9rZS13aWR0aD0nMScgc3Ryb2tlLWxpbmVqb2luPSdzcXVhcmUnIGZpbGw9JyM3QkIyRjgnIGZpbGwtcnVsZT0nZXZlbm9kZCcgeD0nMjYuNScgeT0nMzEuNScgd2lkdGg9JzIzJyBoZWlnaHQ9JzE3JyByeD0nMC41Jz48L3JlY3Q+PC9nPjxyZWN0IGlkPSfnn6nlvaLlpIfku70tMTInIGZpbGw9JyNCM0QyRkYnIG9wYWNpdHk9JzAuMjQzODYxNjA3JyB4PScwJyB5PScxMCcgd2lkdGg9JzI0JyBoZWlnaHQ9JzE4JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xNCcgZmlsbD0nI0IzRDJGRicgb3BhY2l0eT0nMC4yNDM4NjE2MDcnIHg9JzAnIHk9JzEnIHdpZHRoPSc1MCcgaGVpZ2h0PSc2JyByeD0nMC41Jz48L3JlY3Q+PHJlY3QgaWQ9J+efqeW9ouWkh+S7vS0xOCcgZmlsbD0ndXJsKCNsaW5lYXJHcmFkaWVudC0zKScgeD0nMCcgeT0nMzEnIHdpZHRoPScyNCcgaGVpZ2h0PScxOCcgcng9JzAuNSc+PC9yZWN0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\"\r\n              style=\"width: 50px;height: 56px;display: block;\">\r\n            <!-- <span class=\"imgFont\">{{localizeService?.getValue('spread.crossTable.colDimensionTitle')}}</span> -->\r\n          </div>\r\n          <ul class=\"f-utils-overflow-xhya f-utils-fill pb-1\" style=\"z-index: 20\"\r\n            [dndList]=\"lists && lists.length ? lists[2].value : []\" (dndListChange)=\"dndListChange2($event)\">\r\n            <li *ngFor=\"let item of (lists && lists.length ? lists[2].value : []); let i = index;\" [dndDraggable]=\"item\"\r\n              class=\"mb-1 p-1\" (dndMoved)=\"moved(i, lists[2].value)\" dndEffectAllowed=\"move\"\r\n              (dndSelected)=\"models.selected = item\" [ngClass]=\"{'selected': models.selected === item}\">\r\n              {{item.name}}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                    styles: [".simpleDemo ul{min-height:42px;padding:0}.card-title,.demo-header{text-align:center}.title{margin:20px 0}.simpleDemo ul .dndDraggingSource{display:none}.simpleDemo ul .dndPlaceholder{background:rgba(56,143,255,.06);border:1px dashed #388fff;box-shadow:0 0 4px 0 rgba(13,95,201,.22);margin:.25rem!important;padding:.25rem!important}.simpleDemo ul li{background:rgba(235,244,254,.84);border:1px solid #388fff;box-shadow:0 0 10px 0 rgba(63,113,177,.22);border-radius:3px;height:28px;font-family:PingFangSC-Regular;font-size:13px;color:#388fff;margin:.25rem!important;padding:.25rem!important}#unselectFieldList li{border:none;background-color:rgba(0,0,0,0);box-shadow:0 0 #000;border-radius:3px;height:28px;margin:.25rem!important;padding:.25rem!important}#unselectFieldList li:hover{background:#f4f5f9}#unselectFieldList .dndPlaceholder{background:rgba(56,143,255,.06);border:1px dashed #388fff;box-shadow:0 0 4px 0 rgba(13,95,201,.22);margin:.25rem!important;padding:.25rem!important}.unselectField{font-family:PingFangSC-Regular;font-size:13px;color:rgba(0,0,0,.85)}.unselectFieldFront{font-family:PingFangSC-Medium;font-size:13px;color:#b4bccc}.simpleDemo ul li.selected{background-color:#dff0d8;color:#3c763d}.current-model{background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;padding:18px 22px}.slicer{height:220px;position:relative}.headerMenu{position:fixed;display:none;top:0;left:0}.cardTitle{background:#f5f7fa;border-radius:3px 3px 0 0;height:36px}.dimensionTitle{font-family:PingFangSC-Medium;font-size:14px;color:rgba(0,0,0,.65);line-height:20px}.imgFont{font-family:PingFangSC-Regular;font-size:13px;color:#b4bccc}"]
                }] }
    ];
    /** @nocollapse */
    ColumnsSettingComponent.ctorParameters = function () { return [
        { type: Injector }
    ]; };
    ColumnsSettingComponent.propDecorators = {
        controlType: [{ type: Input }],
        queryRelativeUrl: [{ type: Input }],
        queryId: [{ type: Input }],
        qoManagerCode: [{ type: Input }],
        qoId: [{ type: Input }],
        voId: [{ type: Input }],
        groupType: [{ type: Input }],
        spread: [{ type: Input }],
        conditionExpression: [{ type: Input }],
        jointsearchInfoList: [{ type: Input }],
        qdpView: [{ type: Input }]
    };
    return ColumnsSettingComponent;
}());
export { ColumnsSettingComponent };
if (false) {
    /** @type {?} */
    ColumnsSettingComponent.prototype.controlType;
    /** @type {?} */
    ColumnsSettingComponent.prototype.schemaValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.colList;
    /** @type {?} */
    ColumnsSettingComponent.prototype.queryRelativeUrl;
    /** @type {?} */
    ColumnsSettingComponent.prototype.queryId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.qoManagerCode;
    /** @type {?} */
    ColumnsSettingComponent.prototype.qoId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.voId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupType;
    /** @type {?} */
    ColumnsSettingComponent.prototype.spread;
    /** @type {?} */
    ColumnsSettingComponent.prototype.conditionExpression;
    /** @type {?} */
    ColumnsSettingComponent.prototype.jointsearchInfoList;
    /** @type {?} */
    ColumnsSettingComponent.prototype.qdpView;
    /** @type {?} */
    ColumnsSettingComponent.prototype.hideColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.showColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.allColCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.searchText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.isCompare;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupIcon;
    /** @type {?} */
    ColumnsSettingComponent.prototype.lists;
    /** @type {?} */
    ColumnsSettingComponent.prototype.listsCache;
    /** @type {?} */
    ColumnsSettingComponent.prototype.multiSheets;
    /** @type {?} */
    ColumnsSettingComponent.prototype.curSheet;
    /** @type {?} */
    ColumnsSettingComponent.prototype.multiSheetsSchemaIds;
    /** @type {?} */
    ColumnsSettingComponent.prototype.models;
    /** @type {?} */
    ColumnsSettingComponent.prototype.localizeService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.renderService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.formErrorService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.schemaManagerService;
    /** @type {?} */
    ColumnsSettingComponent.prototype.localId;
    /** @type {?} */
    ColumnsSettingComponent.prototype.formInline;
    /** @type {?} */
    ColumnsSettingComponent.prototype.isOrNotPaging;
    /** @type {?} */
    ColumnsSettingComponent.prototype.aggreData;
    /** @type {?} */
    ColumnsSettingComponent.prototype.pageSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.pageText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.colIsGroup;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupSubSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.groupText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.totalSelectValue;
    /** @type {?} */
    ColumnsSettingComponent.prototype.totalText;
    /** @type {?} */
    ColumnsSettingComponent.prototype.currentColIndex;
    /** @type {?} */
    ColumnsSettingComponent.prototype.enumType;
    /** @type {?} */
    ColumnsSettingComponent.prototype.msgService;
    /**
     * @type {?}
     * @private
     */
    ColumnsSettingComponent.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sdW1ucy1zZXR0aW5nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BxZHAvc3ByZWFkLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudC9jb2x1bW5zLXNldHRpbmcvY29sdW1ucy1zZXR0aW5nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBVSxTQUFTLEVBQXNELE1BQU0sZUFBZSxDQUFDO0FBQ2xJLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzVELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDckYsT0FBTyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNsRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ25DLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUVwRTtJQThFRSxpQ0FBb0IsUUFBa0I7UUFBbEIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQTNEdEMsaUJBQVksR0FBUSxFQUFFLENBQUMsQ0FBQyxNQUFNOztRQUM5QixpQkFBWSxHQUFRLEVBQUUsQ0FBQyxDQUFDLE1BQU07O1FBQzlCLGtCQUFhLEdBQVEsRUFBRSxDQUFDLENBQUMsTUFBTTs7UUFDL0IsZ0JBQVcsR0FBUSxFQUFFLENBQUMsQ0FBQyxNQUFNOztRQUM3QixlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFDbEIsY0FBUyxHQUFHLHlDQUF5QyxDQUFDO1FBQy9DLFVBQUssR0FBUSxFQUFFLENBQUM7UUFDaEIsZUFBVSxHQUFRLEVBQUUsQ0FBQztRQUk1Qix5QkFB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QUF5Qjs7SUFDekIsZ0RBQTRCOztJQUM1Qix1Q0FBbUI7O0lBQ25CLHVDQUFtQjs7SUFDbkIsNENBQXdCOztJQUN4Qix5Q0FBcUI7O0lBQ3JCLHNEQUFrQzs7SUFDbEMsc0RBQWtDOztJQUNsQywwQ0FBc0I7O0lBQ3RCLCtDQUF1Qjs7SUFDdkIsK0NBQXVCOztJQUN2QixnREFBd0I7O0lBQ3hCLDhDQUFzQjs7SUFDdEIsNkNBQWdCOztJQUNoQiw0Q0FBa0I7O0lBQ2xCLDRDQUFzRDs7SUFDdEQsd0NBQXVCOztJQUN2Qiw2Q0FBNEI7O0lBRTVCLDhDQUFtQjs7SUFDbkIsMkNBQWM7O0lBQ2QsdURBQStCOztJQUUvQix5Q0FHRTs7SUFFRixrREFBaUM7O0lBQ2pDLGdEQUE2Qjs7SUFDN0IsbURBQW1DOztJQUNuQyx1REFBMkM7O0lBQzNDLDBDQUFhOztJQUNiLDZDQUFrQjs7SUFDbEIsZ0RBQXFCOztJQVVyQiw0Q0FPRTs7SUFDRixrREFBK0M7O0lBQy9DLDJDQUFjOztJQUNkLDZDQUF3Qjs7SUFDeEIsbURBQWdEOztJQUNoRCxzREFBbUQ7O0lBQ25ELDRDQUFlOztJQUNmLG1EQUFnRDs7SUFDaEQsNENBQWU7O0lBQ2Ysa0RBQW9COztJQUNwQiwyQ0FJRTs7SUFDRiw2Q0FBNEI7Ozs7O0lBRWhCLDJDQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50SGFuZGxlclZhcnMgfSBmcm9tICdAYW5ndWxhci9jb21waWxlci9zcmMvY29tcGlsZXJfdXRpbC9leHByZXNzaW9uX2NvbnZlcnRlcic7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0b3IsIElucHV0LCBPbkluaXQsIExPQ0FMRV9JRCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzLCBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9ybUVycm9yU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcyc7XHJcbmltcG9ydCB7IE1lc3NhZ2VyU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbWVzc2FnZXInO1xyXG5pbXBvcnQgeyBFdmVudEJ1cywgSlNPTlV0aWxzLCBSdGZTZXJ2aWNlcywgU2NoZW1hTWFuYWdlclNlcnZpY2UgfSBmcm9tICdAcWRwL2NvbW1vbic7XHJcbmltcG9ydCB7IExvY2FsaXplU2VydmljZSwgREVGQVVMVF9MQU5HVUFHRSB9IGZyb20gJ0BxZHAvbG9jYWxpemUnO1xyXG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICdsb2Rhc2gtZXMnO1xyXG5pbXBvcnQgeyBSZW5kZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZS9yZW5kZXIvcmVuZGVyLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdjb2x1bW5zLXNldHRpbmcnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9jb2x1bW5zLXNldHRpbmcuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2NvbHVtbnMtc2V0dGluZy5jb21wb25lbnQuY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIENvbHVtbnNTZXR0aW5nQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG4gIEBJbnB1dCgpIGNvbnRyb2xUeXBlO1xyXG4gIHNjaGVtYVZhbHVlOiBhbnk7IC8vIOagvOW8j+aWueahiOS/oeaBr1xyXG4gIGNvbExpc3Q6IGFueTsgLy8g5YiX5L+h5oGvXHJcbiAgQElucHV0KCkgcXVlcnlSZWxhdGl2ZVVybDogYW55OyAvLyDliJfkv6Hmga9cclxuICBASW5wdXQoKSBxdWVyeUlkOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgcW9NYW5hZ2VyQ29kZTogYW55O1xyXG4gIEBJbnB1dCgpIHFvSWQ6IGFueTtcclxuICBASW5wdXQoKSB2b0lkOiBhbnk7XHJcbiAgQElucHV0KCkgZ3JvdXBUeXBlOiBhbnk7XHJcbiAgQElucHV0KCkgc3ByZWFkOiBhbnk7XHJcbiAgQElucHV0KCkgY29uZGl0aW9uRXhwcmVzc2lvbjogYW55O1xyXG4gIEBJbnB1dCgpIGpvaW50c2VhcmNoSW5mb0xpc3Q6IGFueTtcclxuICBASW5wdXQoKSBxZHBWaWV3OiBhbnk7XHJcbiAgaGlkZUNvbENhY2hlOiBhbnkgPSBbXTsgLy8g6ZqQ6JeP5YiXXHJcbiAgc2hvd0NvbENhY2hlOiBhbnkgPSBbXTsgLy8g5pi+56S65YiXXHJcbiAgZ3JvdXBDb2xDYWNoZTogYW55ID0gW107IC8vIOWIhue7hOWIl1xyXG4gIGFsbENvbENhY2hlOiBhbnkgPSBbXTsgLy8g5YWo6YOo5YiXXHJcbiAgc2VhcmNoVGV4dCA9ICcnO1xyXG4gIGlzQ29tcGFyZSA9IGZhbHNlO1xyXG4gIGdyb3VwSWNvbiA9ICc8c3BhbiBjbGFzcz1cImstaWNvbiBrLWktc2VhcmNoXCI+PC9zcGFuPic7XHJcbiAgcHVibGljIGxpc3RzOiBhbnkgPSBbXTtcclxuICBwdWJsaWMgbGlzdHNDYWNoZTogYW55ID0gW107IFxyXG5cclxuICBtdWx0aVNoZWV0czogYW55W107ICAvL+WkmnNoZWV06aG15pSv5oyBXHJcbiAgY3VyU2hlZXQ6IGFueTtcclxuICBtdWx0aVNoZWV0c1NjaGVtYUlkczogYW55ID0ge307XHJcblxyXG4gIHB1YmxpYyBtb2RlbHMgPSB7XHJcbiAgICBzZWxlY3RlZDogbnVsbCxcclxuICAgIGxpc3RzOiB0aGlzLmxpc3RzXHJcbiAgfTtcclxuXHJcbiAgbG9jYWxpemVTZXJ2aWNlOiBMb2NhbGl6ZVNlcnZpY2U7XHJcbiAgcmVuZGVyU2VydmljZTogUmVuZGVyU2VydmljZTtcclxuICBmb3JtRXJyb3JTZXJ2aWNlOiBGb3JtRXJyb3JTZXJ2aWNlO1xyXG4gIHNjaGVtYU1hbmFnZXJTZXJ2aWNlOiBTY2hlbWFNYW5hZ2VyU2VydmljZTtcclxuICBsb2NhbElkOiBhbnk7XHJcbiAgZm9ybUlubGluZSA9IHRydWU7XHJcbiAgaXNPck5vdFBhZ2luZyA9IHRydWU7XHJcblxyXG4gIC8vIGZvcm1hdFR5cGVEYXRhOiBhbnkgPSBbXHJcbiAgLy8gICB7IG5hbWU6ICfor7fpgInmi6knLCB2YWx1ZTogMCB9LFxyXG4gIC8vICAgeyBuYW1lOiAn5pWw5a2XJywgdmFsdWU6IDEgfSxcclxuICAvLyAgIHsgbmFtZTogJ+aXpeacnycsIHZhbHVlOiAyIH0sXHJcbiAgLy8gICB7IG5hbWU6ICfpgLvovpEnLCB2YWx1ZTogMyB9XHJcbiAgLy8gXTtcclxuICAvLyBmb3JtYXRUeXBlU2VsZWN0VmFsdWU6IGFueSA9IHRoaXMuZm9ybWF0VHlwZURhdGFbMF0udmFsdWU7XHJcbiAgLy8gZm9ybWF0VGV4dCA9ICcnO1xyXG4gIGFnZ3JlRGF0YTogYW55ID0gW1xyXG4gICAgeyBuYW1lOiAn6K+36YCJ5oupJywgdmFsdWU6IDAgfSxcclxuICAgIHsgbmFtZTogJ+WQiOiuoScsIHZhbHVlOiAxIH0sXHJcbiAgICB7IG5hbWU6ICfmnIDlsI/lgLwnLCB2YWx1ZTogMiB9LFxyXG4gICAgeyBuYW1lOiAn5pyA5aSn5YC8JywgdmFsdWU6IDMgfSxcclxuICAgIHsgbmFtZTogJ+iuoeaVsCcsIHZhbHVlOiA0IH0sXHJcbiAgICB7IG5hbWU6ICflubPlnYflgLwnLCB2YWx1ZTogNSB9XHJcbiAgXTtcclxuICBwYWdlU2VsZWN0VmFsdWU6IGFueSA9IHRoaXMuYWdncmVEYXRhWzBdLnZhbHVlO1xyXG4gIHBhZ2VUZXh0ID0gJyc7XHJcbiAgY29sSXNHcm91cDogYW55ID0gZmFsc2U7XHJcbiAgZ3JvdXBTZWxlY3RWYWx1ZTogYW55ID0gdGhpcy5hZ2dyZURhdGFbMF0udmFsdWU7XHJcbiAgZ3JvdXBTdWJTZWxlY3RWYWx1ZTogYW55ID0gdGhpcy5hZ2dyZURhdGFbMF0udmFsdWU7XHJcbiAgZ3JvdXBUZXh0ID0gJyc7XHJcbiAgdG90YWxTZWxlY3RWYWx1ZTogYW55ID0gdGhpcy5hZ2dyZURhdGFbMF0udmFsdWU7XHJcbiAgdG90YWxUZXh0ID0gJyc7XHJcbiAgY3VycmVudENvbEluZGV4ID0gMDtcclxuICBlbnVtVHlwZTogYW55ID0gW1xyXG4gICAgeyBuYW1lOiAn57Si5byVJywgdmFsdWU6ICcwJyB9LFxyXG4gICAgeyBuYW1lOiAn57yW5Y+3JywgdmFsdWU6ICcxJyB9LFxyXG4gICAgeyBuYW1lOiAn5ZCN56ewJywgdmFsdWU6ICcyJyB9XHJcbiAgXTtcclxuICBtc2dTZXJ2aWNlOiBNZXNzYWdlclNlcnZpY2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yKSB7XHJcbiAgICBpZiAodGhpcy5pbmplY3Rvcikge1xyXG4gICAgICB0aGlzLmxvY2FsaXplU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KExvY2FsaXplU2VydmljZSk7XHJcbiAgICAgIHRoaXMucmVuZGVyU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KFJlbmRlclNlcnZpY2UpO1xyXG4gICAgICB0aGlzLm1zZ1NlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChNZXNzYWdlclNlcnZpY2UpO1xyXG4gICAgICB0aGlzLmZvcm1FcnJvclNlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChGb3JtRXJyb3JTZXJ2aWNlKTtcclxuICAgICAgdGhpcy5zY2hlbWFNYW5hZ2VyU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KFNjaGVtYU1hbmFnZXJTZXJ2aWNlKTtcclxuICAgICAgdGhpcy5sb2NhbElkID0gdGhpcy5pbmplY3Rvci5nZXQoTE9DQUxFX0lEKSB8fCBERUZBVUxUX0xBTkdVQUdFO1xyXG4gICAgICB0aGlzLmZvcm1JbmxpbmUgPSB0aGlzLmxvY2FsSWQudG9Mb3dlckNhc2UoKSA9PT0gREVGQVVMVF9MQU5HVUFHRTtcclxuICAgICAgdGhpcy5hZ2dyZURhdGEgPSB0aGlzLmxvY2FsaXplU2VydmljZS5nZXRWYWx1ZSgnaWRlQ21wLnNjaGVtYU1hbmFnZXIuY29sdW1uT3B0aW9uLmFnZ3JlZ2F0ZURhdGEnKTtcclxuICAgICAgdGhpcy5lbnVtVHlwZSA9IHRoaXMubG9jYWxpemVTZXJ2aWNlLmdldFZhbHVlKCdpZGVDbXAuc2NoZW1hTWFuYWdlci5jb2x1bW5PcHRpb24uZW51bVR5cGUnKTtcclxuICAgIH1cclxuICAgIHRoaXMuaW5pdExpc3RzKCk7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGNvbnN0IGV2ZW50SWQgPSBSdGZTZXJ2aWNlcy5nZXRUYWJJZCh0aGlzLnF1ZXJ5SWQpO1xyXG4gICAgRXZlbnRCdXMucmVnaXN0ZXIoJ3BhZ2luZ01vZGVDaGFuZ2VzJywgdGhpcy5oYW5kbGVQYWdpbmdNb2RlQ2hhbmdlZC5iaW5kKHRoaXMpLCBldmVudElkICsgJ2NvbHVtbnNTZXR0aW5nJyk7XHJcbiAgICBFdmVudEJ1cy5yZWdpc3Rlcignc2NoZW1hVmFsdWVDaGFuZ2VkJywgdGhpcy5oYW5kbGVTY2hlbWFWYWx1ZUNoYW5nZWQuYmluZCh0aGlzKSwgZXZlbnRJZCArICdjb2x1bW5zU2V0dGluZycpO1xyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpIHsgfVxyXG5cclxuICBwcml2YXRlIGluaXRMaXN0cygpIHtcclxuICAgIHRoaXMubGlzdHMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgIHRoaXMubGlzdHMucHVzaCh7XHJcbiAgICAgICAgbmFtZTogdGhpcy5sb2NhbGl6ZVNlcnZpY2UuZ2V0VmFsdWUoJ3NwcmVhZC5jcm9zc1RhYmxlLmNvbHVtblNldHRpbmcnKVtpXSxcclxuICAgICAgICB2YWx1ZTogW11cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJ3lp4vljJbkuqTlj4nooajnu7Tluqborr7nva5cclxuICAgKi9cclxuICBpbml0Q3Jvc3N0YWIoKSB7XHJcbiAgICAvLyB0aGlzLnJlbmRlclNlcnZpY2UucmVuZGVyT2JqZWN0LmN1cnJlbnRTY2hlbWFWYWx1ZUNoYW5nZXIuc3Vic2NyaWJlKChzY2hlbWFWYWx1ZTogYW55KSA9PiB7XHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlU2NoZW1hVmFsdWVDaGFuZ2VkKHNjaGVtYVZhbHVlOiBhbnkpIHtcclxuICAgIGlmIChzY2hlbWFWYWx1ZSkge1xyXG4gICAgICB0aGlzLnNjaGVtYVZhbHVlID0gc2NoZW1hVmFsdWU7XHJcbiAgICAgIGlmIChzY2hlbWFWYWx1ZS5pZCA9PT0gMSB8fCBzY2hlbWFWYWx1ZS5pZCA9PT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5saXN0c1swXS52YWx1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubGlzdHNDYWNoZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubGlzdHNbMV0udmFsdWUgPSBbXTtcclxuICAgICAgICB0aGlzLmxpc3RzWzJdLnZhbHVlID0gW107XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlICE9PSAnY3Jvc3N0YWInKSB7XHJcbiAgICAgICAgdGhpcy5jb2xMaXN0ID0gc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUuY29sdW1uT3B0aW9uLmNvbExpc3Q7XHJcbiAgICAgICAgaWYgKHRoaXMuY29sTGlzdCkge1xyXG4gICAgICAgICAgdGhpcy5oaWRlQ29sQ2FjaGUgPSBbXTsgLy8g6ZqQ6JeP5YiXXHJcbiAgICAgICAgICB0aGlzLnNob3dDb2xDYWNoZSA9IFtdOyAvLyDmmL7npLrliJdcclxuICAgICAgICAgIHRoaXMuZ3JvdXBDb2xDYWNoZSA9IFtdOyAvLyDliIbnu4TliJdcclxuICAgICAgICAgIHRoaXMuYWxsQ29sQ2FjaGUgPSBbXTsgLy8g5YWo6YOo5YiXXHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmdldFN1YkNvbHVtbnModGhpcy5jb2xMaXN0W2ldLCBudWxsLCAnJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5saXN0c1swXS52YWx1ZSA9IHRoaXMuaGlkZUNvbENhY2hlO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RzQ2FjaGUgPSB0aGlzLmhpZGVDb2xDYWNoZTtcclxuICAgICAgICAgICAgdGhpcy5saXN0c1sxXS52YWx1ZSA9IHRoaXMuc2hvd0NvbENhY2hlO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RzWzJdLnZhbHVlID0gdGhpcy5ncm91cENvbENhY2hlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFN1YkNvbHVtbnMoY29sOiBhbnksIGNvbExpc3Q6IGFueSwgcGlkOiBhbnkpIHtcclxuICAgIGlmIChjb2wpIHtcclxuICAgICAgY29sWydpZCddID0gRXZlbnRCdXMuZ3VpZCgpO1xyXG4gICAgICBjb2xbJ3BpZCddID0gcGlkO1xyXG4gICAgICBjb25zdCBwY29sID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb2wpKTtcclxuICAgICAgcGNvbC5jaGlsZExpc3QgPSBbXTtcclxuICAgICAgdGhpcy5hbGxDb2xDYWNoZS5wdXNoKHBjb2wpO1xyXG4gICAgICBpZiAoY29sLmNoaWxkTGlzdCAmJiBjb2wuY2hpbGRMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZ2V0U3ViQ29sdW1ucyhudWxsLCBjb2wuY2hpbGRMaXN0LCBjb2xbJ2lkJ10pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChjb2wuaXNHcm91cCkge1xyXG4gICAgICAgICAgdGhpcy5ncm91cENvbENhY2hlLnB1c2goY29sKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbC52aXNpYmxlKSB7XHJcbiAgICAgICAgICB0aGlzLnNob3dDb2xDYWNoZS5wdXNoKGNvbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuaGlkZUNvbENhY2hlLnB1c2goY29sKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbExpc3RbaV1bJ2lkJ10gPSBFdmVudEJ1cy5ndWlkKCk7XHJcbiAgICAgICAgY29sTGlzdFtpXVsncGlkJ10gPSBwaWQ7XHJcbiAgICAgICAgY29uc3QgcGNvbCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29sTGlzdFtpXSkpO1xyXG4gICAgICAgIHBjb2wuY2hpbGRMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5hbGxDb2xDYWNoZS5wdXNoKHBjb2wpO1xyXG4gICAgICAgIGlmIChjb2xMaXN0W2ldLmNoaWxkTGlzdCAmJiBjb2xMaXN0W2ldLmNoaWxkTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgIHRoaXMuZ2V0U3ViQ29sdW1ucyhudWxsLCBjb2xMaXN0W2ldLmNoaWxkTGlzdCwgY29sTGlzdFtpXVsnaWQnXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChjb2xMaXN0W2ldLmlzR3JvdXApIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cENvbENhY2hlLnB1c2goY29sTGlzdFtpXSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbExpc3RbaV0udmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dDb2xDYWNoZS5wdXNoKGNvbExpc3RbaV0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlQ29sQ2FjaGUucHVzaChjb2xMaXN0W2ldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1vdmVkKGluZGV4OiBudW1iZXIsIGxpc3Q6IEFycmF5PGFueT4pIHtcclxuICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIHRoaXMuc2VsZWN0ZWREaW1lc2lvbigpO1xyXG4gICAgaWYgKHRoaXMuc2NoZW1hVmFsdWUpIHtcclxuICAgICAgaWYgKHRoaXMuc2NoZW1hVmFsdWUuaXNQcm90ZWN0ZWQgPT09IDEgfHwgdGhpcy5zY2hlbWFWYWx1ZS5pc1Byb3RlY3RlZCA9PT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5tc2dTZXJ2aWNlLmluZm8odGhpcy5sb2NhbGl6ZVNlcnZpY2UuZ2V0VmFsdWUoJ2lkZUNtcC5zY2hlbWFNYW5hZ2VyLm1lc3NhZ2UudmFsaWRhdGUuaXNQcm90ZWN0ZWQnKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnNjaGVtYVZhbHVlLnNjaGVtYVZhbHVlKTtcclxuICAgICAgdGhpcy5zY2hlbWFNYW5hZ2VyU2VydmljZS5zYXZlU2NoZW1hKHsgJ3NjaGVtYSc6IEpTT04uc3RyaW5naWZ5KHRoaXMuc2NoZW1hVmFsdWUpIH0sIHRoaXMucXVlcnlSZWxhdGl2ZVVybCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLnJlbmRlclNlcnZpY2UucmVuZGVyKHsgbXVsdGlTaGVldHNTY2hlbWFJZHM6IHRoaXMubXVsdGlTaGVldHNTY2hlbWFJZHMsIGN1clNoZWV0OiB0aGlzLmN1clNoZWV0LCBtdWx0aVNoZWV0czogdGhpcy5tdWx0aVNoZWV0cywgc2NoZW1hSWQ6IHRoaXMuc2NoZW1hVmFsdWUuaWQsIHF1ZXJ5SWQ6IHRoaXMucXVlcnlJZCwgc3ByZWFkOiB0aGlzLnNwcmVhZCwgY29udHJvbFR5cGU6IHRoaXMuY29udHJvbFR5cGUsIHFvTWFuYWdlckNvZGU6IHRoaXMucW9NYW5hZ2VyQ29kZSwgcXVlcnlSZWxhdGl2ZVVybDogdGhpcy5xdWVyeVJlbGF0aXZlVXJsLCBzY2hlbWFWYWx1ZTogdGhpcy5zY2hlbWFWYWx1ZSwgZmlsdGVyQ29uZGl0aW9uOiB0aGlzLmNvbmRpdGlvbkV4cHJlc3Npb24sIGdyb3VwVHlwZTogdGhpcy5ncm91cFR5cGUsIHZvSWQ6IHRoaXMudm9JZCwgam9pbnRzZWFyY2hJbmZvTGlzdDogdGhpcy5qb2ludHNlYXJjaEluZm9MaXN0LCBmcm9tQ2FjaGU6IHRydWUsIHFkcFZpZXc6IHRoaXMucWRwVmlldyB9KTtcclxuICAgICAgICB0aGlzLnNjaGVtYVZhbHVlLnNjaGVtYVZhbHVlID0gdHlwZW9mIHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0aGlzLnNjaGVtYVZhbHVlLnNjaGVtYVZhbHVlKSA6IHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWU7XHJcbiAgICAgIH0sIChlcnJvcjogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5mb3JtRXJyb3JTZXJ2aWNlLmV4Y2VwdGlvbihlcnJvci5NZXNzYWdlLCBlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0ZWREaW1lc2lvbigpIHtcclxuICAgIHRoaXMuY29sTGlzdCA9IFtdO1xyXG4gICAgaWYgKHRoaXMubGlzdHNbMF0pIHtcclxuICAgICAgdGhpcy5saXN0c1swXS52YWx1ZS5mb3JFYWNoKHZhbHVlID0+IHtcclxuICAgICAgICB2YWx1ZS5pc0dyb3VwID0gZmFsc2U7XHJcbiAgICAgICAgdmFsdWUudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb2xMaXN0ID0gdGhpcy5saXN0c1swXS52YWx1ZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmxpc3RzWzFdKSB7XHJcbiAgICAgIHRoaXMubGlzdHNbMV0udmFsdWUuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgdmFsdWUuaXNHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbHVlLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMuY29sTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aGlzLmNvbExpc3QgPSB0aGlzLmxpc3RzWzFdLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY29sTGlzdCA9IHRoaXMuY29sTGlzdC5jb25jYXQodGhpcy5saXN0c1sxXS52YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmxpc3RzWzJdKSB7XHJcbiAgICAgIHRoaXMubGlzdHNbMl0udmFsdWUuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgdmFsdWUuaXNHcm91cCA9IHRydWU7XHJcbiAgICAgICAgdmFsdWUudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMuY29sTGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aGlzLmNvbExpc3QgPSB0aGlzLmxpc3RzWzJdLnZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY29sTGlzdCA9IHRoaXMuY29sTGlzdC5jb25jYXQodGhpcy5saXN0c1syXS52YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNvbExpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbExpc3RbaV0uaXNHcm91cCkgY29udGludWU7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyQ29uZGl0aW9uOiBhbnkgPSB7IHBpZDogdGhpcy5jb2xMaXN0W2ldWydwaWQnXSB9O1xyXG4gICAgICAgIGlmIChpID09IDAgJiYgdGhpcy5jb2xMaXN0Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmNvbExpc3QubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xMaXN0W2ldWydwaWQnXSAmJiB0aGlzLmNvbExpc3RbaSArIDJdWydwaWQnXSAmJiB0aGlzLmNvbExpc3RbaV1bJ3BpZCddID09IHRoaXMuY29sTGlzdFtpICsgMl1bJ3BpZCddKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb2xMaXN0W2ldWydwaWQnXSA9IHRoaXMuY29sTGlzdFtpICsgMl1bJ3BpZCddO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xMaXN0W2ldWydwaWQnXSAmJiB0aGlzLmNvbExpc3RbaV1bJ3BpZCddICE9IHRoaXMuY29sTGlzdFtpICsgMV1bJ3BpZCddICYmIGZpbHRlcih0aGlzLmNvbExpc3QsIGZpbHRlckNvbmRpdGlvbikgJiYgZmlsdGVyKHRoaXMuY29sTGlzdCwgZmlsdGVyQ29uZGl0aW9uKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb2xMaXN0W2ldWydwaWQnXSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpID09ICh0aGlzLmNvbExpc3QubGVuZ3RoIC0gMSkgJiYgdGhpcy5jb2xMaXN0Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmNvbExpc3RbaV1bJ3BpZCddICYmIHRoaXMuY29sTGlzdFtpXVsncGlkJ10gIT0gdGhpcy5jb2xMaXN0W2kgLSAxXVsncGlkJ10gJiYgZmlsdGVyKHRoaXMuY29sTGlzdCwgZmlsdGVyQ29uZGl0aW9uKSAmJiBmaWx0ZXIodGhpcy5jb2xMaXN0LCBmaWx0ZXJDb25kaXRpb24pLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2xMaXN0W2ldWydwaWQnXSA9ICcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaSA+IDAgJiYgaSA8ICh0aGlzLmNvbExpc3QubGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmNvbExpc3RbaSAtIDFdWydwaWQnXSAmJiB0aGlzLmNvbExpc3RbaSArIDFdWydwaWQnXSAmJiB0aGlzLmNvbExpc3RbaSAtIDFdWydwaWQnXSA9PSB0aGlzLmNvbExpc3RbaSArIDFdWydwaWQnXSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbExpc3RbaV1bJ3BpZCddID0gdGhpcy5jb2xMaXN0W2kgLSAxXVsncGlkJ107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5yZWN1cnNpdmVGaW5kUGFyZW50KHRoaXMuY29sTGlzdCwgaSwgdGhpcy5jb2xMaXN0W2ldWydwaWQnXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG9iakNhY2hlID0ge307XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgb2JqQ2FjaGVbdGhpcy5jb2xMaXN0W2ldWydpZCddXSA9IHRoaXMuY29sTGlzdFtpXTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBbXTtcclxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqQ2FjaGUpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSBvYmpDYWNoZVtvYmpDYWNoZVtrZXldWydwaWQnXV07XHJcbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcclxuICAgICAgICAgIHJlc3VsdC5wdXNoKG9iakNhY2hlW2tleV0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwYXJlbnRbJ2NoaWxkTGlzdCddLnB1c2gob2JqQ2FjaGVba2V5XSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuY29sTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHRoaXMuaXNDb21wYXJlID0gSlNPTlV0aWxzLkNvbXBhcmUoeyBzY2hlbWE6IHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUuY29sdW1uT3B0aW9uLmNvbExpc3QgfSwgeyBzY2hlbWE6IHJlc3VsdCB9KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IH1cclxuICAgICAgICB0aGlzLnNjaGVtYVZhbHVlLnNjaGVtYVZhbHVlLmNvbHVtbk9wdGlvbi5jb2xMaXN0ID0gcmVzdWx0O1xyXG4gICAgICAgIC8vIHRoaXMuc2NoZW1hVmFsdWUuc2NoZW1hVmFsdWUuY29sdW1uT3B0aW9uLmNvbExpc3QgPSB0aGlzLmNvbExpc3Q7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVjdXJzaXZlRmluZFBhcmVudChjb2xMaXN0OiBhbnlbXSwgaW5kZXg6IGFueSwgcGlkOiBhbnkpIHtcclxuICAgIGNvbnN0IGNvbEluZGV4ID0gdGhpcy5hbGxDb2xDYWNoZS5maW5kSW5kZXgoeCA9PiB4LmlkID09IHBpZCk7XHJcbiAgICBpZiAoY29sSW5kZXggPj0gMCAmJiB0aGlzLmNvbExpc3QuZmluZEluZGV4KHggPT4geC5pZCA9PT0gdGhpcy5hbGxDb2xDYWNoZVtjb2xJbmRleF0uaWQpIDwgMCkge1xyXG4gICAgICB0aGlzLmNvbExpc3Quc3BsaWNlKGluZGV4LCAwLCB0aGlzLmFsbENvbENhY2hlW2NvbEluZGV4XSk7XHJcbiAgICAgIGlmICh0aGlzLmFsbENvbENhY2hlW2NvbEluZGV4XVsncGlkJ10pIHtcclxuICAgICAgICB0aGlzLnJlY3Vyc2l2ZUZpbmRQYXJlbnQoY29sTGlzdCwgaW5kZXgsIHRoaXMuYWxsQ29sQ2FjaGVbY29sSW5kZXhdWydwaWQnXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpbWVuc2lvblNlYXJjaFZhbHVlT25DaGFuZ2UodmFsOiBhbnkpIHtcclxuICAgIGlmICh2YWwpIHtcclxuICAgICAgY29uc3Qgc2VhcmNoQ29scyA9IHRoaXMubGlzdHNDYWNoZS5maW5kKChpdGVtKSA9PiBpdGVtLm5hbWUuaW5kZXhPZih2YWwpID49IDApO1xyXG4gICAgICB0aGlzLmxpc3RzWzBdLnZhbHVlID0gWy4uLnNlYXJjaENvbHNdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5saXN0c1swXS52YWx1ZSA9IFsuLi50aGlzLmxpc3RzQ2FjaGVdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZG5kTGlzdENoYW5nZTAoJGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5saXN0cyAmJiB0aGlzLmxpc3RzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmxpc3RzWzBdLnZhbHVlID0gJGV2ZW50O1xyXG4gICAgfVxyXG4gIH1cclxuICBkbmRMaXN0Q2hhbmdlMSgkZXZlbnQpIHtcclxuICAgIGlmICh0aGlzLmxpc3RzICYmIHRoaXMubGlzdHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMubGlzdHNbMV0udmFsdWUgPSAkZXZlbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRuZExpc3RDaGFuZ2UyKCRldmVudCkge1xyXG4gICAgaWYgKHRoaXMubGlzdHMgJiYgdGhpcy5saXN0cy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5saXN0c1syXS52YWx1ZSA9ICRldmVudDtcclxuICAgIH1cclxuICB9XHJcbiAgZG5kTGlzdENoYW5nZTMoJGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5saXN0cyAmJiB0aGlzLmxpc3RzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmxpc3RzWzNdLnZhbHVlID0gJGV2ZW50O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVQYWdpbmdNb2RlQ2hhbmdlZChwYWdpbmdNb2RlOiBhbnkpIHtcclxuICAgIHRoaXMuaXNPck5vdFBhZ2luZyA9IHBhZ2luZ01vZGUudmFsdWUgPT09IDE7XHJcbiAgfVxyXG59XHJcbiJdfQ==