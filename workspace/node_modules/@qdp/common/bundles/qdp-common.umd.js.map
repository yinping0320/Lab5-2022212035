{"version":3,"file":"qdp-common.umd.js.map","sources":["ng://@qdp/common/lib/service/restful-service/restful.service.ts","node_modules/tslib/tslib.es6.js","ng://@qdp/common/lib/entitties/server.host.ts","ng://@qdp/common/lib/service/extend-service/schema-renderextend.service.ts","ng://@qdp/common/lib/service/rtfservices/rtfservices.ts","ng://@qdp/common/lib/service/schema-manager/schema-manager.service.ts","ng://@qdp/common/lib/service/lcp-service/lcp.service.ts","ng://@qdp/common/lib/service/print-service/print.service.ts","ng://@qdp/common/lib/service/paras-mapping/paras-mappingmanager.service.ts","ng://@qdp/common/lib/service/print-integration/print-integrationmanager.service.ts","ng://@qdp/common/lib/service/joint-search/joint-searchmanager.service.ts","ng://@qdp/common/lib/service/extend-service/data-renderextend.service.ts","ng://@qdp/common/lib/service/extend-service/joint-searchextend.service.ts","ng://@qdp/common/lib/service/filter/filtermanager.service.ts","ng://@qdp/common/lib/service/eventbus/eventbus.ts","ng://@qdp/common/lib/service/utils/json.util.ts","ng://@qdp/common/lib/service/utils/qdp.cache.util.ts","ng://@qdp/common/lib/common.module.ts","ng://@qdp/common/lib/dnd-list/services/dnd-draggable.service.ts","ng://@qdp/common/lib/dnd-list/dnd-constants.ts","ng://@qdp/common/lib/dnd-list/directives/dnd-draggable.directive.ts","ng://@qdp/common/lib/dnd-list/directives/dnd-list.directive.ts","ng://@qdp/common/lib/dnd-list/directives/dnd-nodrag.directive.ts","ng://@qdp/common/lib/dnd-list/directives/dnd-handle.directive.ts","ng://@qdp/common/lib/dnd-list/dnd-list.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport type RestfulMethod = 'GET' | 'PUT' | 'POST' | 'DELETE';\r\n\r\n@Injectable()\r\nexport class RestfulService {\r\n  /**\r\n   * æé å½æ°\r\n   * @param httpClient httpå®¢æ·ç«¯\r\n   */\r\n  constructor(private httpClient: HttpClient) { }\r\n  /**\r\n   * åéGETè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  get(uri: string, params?: object, options?: any): Observable<any[]> {\r\n    return this.request(uri, 'GET', params, options);\r\n  }\r\n\r\n  /**\r\n   * åéPOSTè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  put(uri: string, body: any, params?: object, options?: any): Observable<any> {\r\n    const optionsWithBody = this.addBody(options, body);\r\n    return this.request(uri, 'PUT', params, optionsWithBody);\r\n  }\r\n\r\n  /**\r\n   * åéPUTè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  post(uri: string, body: any, params?: object, options?: any): Observable<any> {\r\n    const optionsWithBody = this.addBody(options, body);\r\n    return this.request(uri, 'POST', params, optionsWithBody);\r\n  }\r\n\r\n  /**\r\n   * åéDELETEè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  delete(uri: string, params?: object, options?: any): Observable<any> {\r\n    return this.request(uri, 'DELETE', params, options);\r\n  }\r\n\r\n  /**\r\n   * åéè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  private request(uri: string, method: any, params: object, options: any = {}): Observable<any> {\r\n    options = options || {};\r\n    if (params) {\r\n      const httpParams = this.buildParams(params);\r\n      options.params = httpParams;\r\n    }\r\n    const methodName = method as string;\r\n    const result = this.httpClient.request(methodName, uri, options);\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * æé Httpè¯·æ±åæ°\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  private buildParams(params: object): HttpParams {\r\n    const parameters: any = {};\r\n    for (const key in params) {\r\n      if (params.hasOwnProperty(key) && params[key]) {\r\n        const value = params[key].toString();\r\n        parameters[key] = value;\r\n      }\r\n    }\r\n    return parameters;\r\n  }\r\n\r\n  private addBody(options: any, body: any) {\r\n    options = options || {};\r\n    const mergedOptions = Object.assign(options, { body });\r\n    return mergedOptions;\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export const Server_Host = 'serverHost';\r\nexport const Load_Data_Uri = 'loadDataUri';\r\nexport const Load_Data_Col = 'loadDataCol';\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport abstract class SchemaRenderExtendService  {\r\n  // æ ¼å¼æ¹æ¡æ¸²ææ©å±å\r\n  abstract schemaInfoRenderBefore($event: any);\r\n}\r\n","import { Subject } from \"rxjs\";\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\nexport class RtfServices {\r\n  static uuid = \"\";\r\n  static isInSuite = false;\r\n\r\n  static createHeaderSessionId(sessionService?: any) {\r\n    const options = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    try {\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.session && gspframeworkService.rtf.session.getFormToken()) {\r\n        options.headers['X-CAF-Runtime-CommonVariable'] = gspframeworkService.rtf.session.getFormToken();\r\n      } else if (sessionService && sessionService.getCurrentSeesionId()) {\r\n        options.headers['X-CAF-Runtime-CommonVariable'] = sessionService.getCurrentSeesionId();\r\n      } else if (sessionService && sessionService.getUserSessionId()) {\r\n        options.headers['SessionId'] = sessionService.getUserSessionId();\r\n      } else if (localStorage.getItem('sessionId')) {\r\n        options.headers['SessionId'] = localStorage.getItem('sessionId');\r\n      }\r\n    } catch (e) { }\r\n    return options;\r\n  }\r\n\r\n  static getSessionId(sessionService?: any) {\r\n    let sessionId;\r\n    try {\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.session && gspframeworkService.rtf.session.getFormToken()) {\r\n        sessionId = gspframeworkService.rtf.session.getFormToken();\r\n      } else if (sessionService && sessionService.getCurrentSeesionId()) {\r\n        sessionId = sessionService.getCurrentSeesionId();\r\n      } else if (sessionService && sessionService.getUserSessionId()) {\r\n        sessionId = sessionService.getUserSessionId();\r\n      } else if (localStorage.getItem('sessionId')) {\r\n        sessionId = localStorage.getItem('sessionId');\r\n      }\r\n    } catch (e) { }\r\n    return sessionId;\r\n  }\r\n\r\n  static getTabId(queryId?: any) {\r\n    try {\r\n\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.session) {\r\n        const tab = gspframeworkService.rtf.session.getCommonVariable();\r\n        if (gspframeworkService.rtf.extendMethod && gspframeworkService.rtf.extendMethod.getExtObj && gspframeworkService.rtf.extendMethod.getExtObj() && gspframeworkService.rtf.extendMethod.getExtObj().iGIXFrmUUID) {\r\n          const uuid = gspframeworkService.rtf.extendMethod.getExtObj().iGIXFrmUUID() ? gspframeworkService.rtf.extendMethod.getExtObj().iGIXFrmUUID() : '';\r\n          return tab.tabId + uuid;\r\n        } else {\r\n          return tab.tabId;\r\n        }\r\n      }\r\n    } catch (e) {\r\n      return queryId;\r\n    }\r\n  }\r\n\r\n  static getInSuiteFrmUUID() {\r\n    try {\r\n      if (gspframeworkService.rtf.extendMethod && gspframeworkService.rtf.extendMethod.getExtObj && gspframeworkService.rtf.extendMethod.getExtObj() && gspframeworkService.rtf.extendMethod.getExtObj().iGIXFrmUUID) {\r\n        const uuid = gspframeworkService.rtf.extendMethod.getExtObj().iGIXFrmUUID() ? gspframeworkService.rtf.extendMethod.getExtObj().iGIXFrmUUID() : '';\r\n        return uuid;\r\n      } else {\r\n        return \"\";\r\n      }\r\n    } catch (e) {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  static getCommonVariable() {\r\n    try {\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.session) {\r\n        const tab = gspframeworkService.rtf.session.getCommonVariable();\r\n        return tab;\r\n      }\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static getMenuParameter(key: string) {\r\n    try {\r\n      const funcId = RtfServices.getCommonVariable().funcId;\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.func) {\r\n        let param: Map<any, any> = null;\r\n        const callback = function (res) {\r\n          // åå°å½æ°å¾å°res å³åæ°\r\n          param = res;\r\n        }\r\n        gspframeworkService.rtf.func.getMenuParams(funcId, callback);\r\n        if (param) {\r\n          return param.get(key);\r\n        }\r\n      }\r\n      return null;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static getMenuSwitchControlParameter(tabId: any) {\r\n    return {\r\n      menuSwitchControl: {\r\n        key: tabId,\r\n        value: new Subject<any>(),\r\n        changeEnable: false\r\n      }\r\n    }\r\n  }\r\n\r\n  static getMenuSwitchControlEvent() {\r\n    try {\r\n      const tabId = RtfServices.getTabId();\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.frmEvent) {\r\n        let param = null;\r\n        const option = RtfServices.getCommonVariable();\r\n        const callback = function (res) {\r\n          // åå°å½æ°å¾å°res å³åæ°\r\n          param = res;\r\n        }\r\n        gspframeworkService.rtf.frmEvent.eventListener(tabId, callback, option);\r\n        if (param && param.hasOwnProperty('menuSwitchControl') && param['menuSwitchControl'].key === tabId) {\r\n          return param['menuSwitchControl'].value;\r\n        }\r\n        return null;\r\n      }\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·ååè½ID\r\n   * @param option `{appIdï¼'åºç¨ID', appEntrance: 'åºç¨å¥å£', appType: 'ç±»åï¼app, menu', funcId: 'åè½ID', tabId: 'æ ç­¾é¡µID'}`\r\n   */\r\n  static getFuncId(option: any) {\r\n    return RtfServices.getNewPageIdFunc(option);\r\n  }\r\n\r\n  static getFuncName() {\r\n    try {\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.tabs) {\r\n        const func = gspframeworkService.rtf.tabs.getAll().find(x => x.id == gspframeworkService.rtf.tabs.getActiveTab().funcId);\r\n        return func.FuncName;\r\n      } else {\r\n        return '';\r\n      }\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  private static getFuncIdOlde(option: any) {\r\n    let funcId;\r\n    if (option.appType.toLowerCase() === 'app') {\r\n      funcId = RtfServices.newPageIdApp(option.appId, option.appEntrance, option.tabId);\r\n    } else {\r\n      funcId = RtfServices.newPageIdFunc(option.funcId, option.tabId);\r\n    }\r\n    return funcId;\r\n  }\r\n\r\n  private static getNewPageIdFunc(option: any) {\r\n    try {\r\n      if (gspframeworkService && gspframeworkService.rtf && gspframeworkService.rtf.func) {\r\n        return gspframeworkService.rtf.func.newPageId(option);\r\n      } else {\r\n        return RtfServices.getFuncIdOlde(option);\r\n      }\r\n    } catch (e) {\r\n      return RtfServices.getFuncIdOlde(option);\r\n    }\r\n  }\r\n\r\n  private static newPageIdFunc(funcId, tabId) {\r\n    return tabId ? `${funcId}_${tabId}` : funcId;\r\n  }\r\n\r\n  private static mergeAppId(appId: any, appEntrance: any) {\r\n    return `${appId}_${appEntrance}`;\r\n  }\r\n\r\n  private static newPageIdApp(appId: any, appEntrance: any, tabId: any) {\r\n    return tabId ? `${RtfServices.mergeAppId(appId, appEntrance)}_${tabId}` : RtfServices.mergeAppId(appId, appEntrance);\r\n  }\r\n}\r\n","// import 'rxjs/add/operator/map';\r\nimport { Injectable, Inject, Optional } from '@angular/core';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { switchMap, map } from 'rxjs/operators';\r\nimport { filter } from 'lodash-es';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../restful-service/restful.service';\r\nimport { Server_Host } from '../../entitties/server.host';\r\nimport { SchemaRenderExtendService } from '../extend-service/schema-renderextend.service';\r\nimport { RtfServices } from '../rtfservices/rtfservices';\r\n\r\n@Injectable()\r\nexport class SchemaManagerService {\r\n  private uri = '/api/runtime/bcc/v1.0/qdpschemamanager/';\r\n  schemaInfoChange = new Subject<any>();\r\n  colList = new Subject<any>();\r\n  controlType = new Subject<string>();\r\n  schemaInfo: any = {};\r\n  schemaid: any = {} = new Subject<any>();\r\n  operationChange = new Subject<any>();\r\n  dynamicCols: any = {};\r\n  customSchema: any = {};\r\n  dynamicColIndex = 0;\r\n\r\n  preSchema = {\r\n    id: 'prefab',\r\n    schemaName: 'ç³»ç»é¢å¶',\r\n    isPrefab: 1,\r\n    isDefault: 0,\r\n    isProtected: '0',\r\n    schemaValue: {\r\n      titleOption: {\r\n        title: '',\r\n        subTitles: []\r\n      },\r\n      columnOption: {\r\n        maxLevel: 0,\r\n        colList: []\r\n      },\r\n      styleOption: {\r\n        Title: {\r\n          fontFamily: 9,\r\n          size: 14,\r\n          fontWeight: 0,\r\n          fontStyle: 0,\r\n          textDecoration: 0,\r\n          fontColor: 'black',\r\n          rowHeight: 35\r\n        },\r\n        SubTitle: {\r\n          fontFamily: 9,\r\n          size: 14,\r\n          fontWeight: 0,\r\n          fontStyle: 0,\r\n          textDecoration: 0,\r\n          fontColor: 'black',\r\n          rowHeight: 35\r\n        },\r\n        Header: {\r\n          fontFamily: 9,\r\n          size: 14,\r\n          fontWeight: 0,\r\n          fontStyle: 0,\r\n          textDecoration: 0,\r\n          fontColor: 'black',\r\n          rowHeight: 35\r\n        },\r\n        DataArea: {\r\n          fontFamily: 9,\r\n          size: 14,\r\n          fontWeight: 0,\r\n          fontStyle: 0,\r\n          textDecoration: 0,\r\n          fontColor: 'black',\r\n          rowHeight: 35\r\n        },\r\n        Footer: {\r\n          fontFamily: 9,\r\n          size: 14,\r\n          fontWeight: 0,\r\n          fontStyle: 0,\r\n          textDecoration: 0,\r\n          fontColor: 'black',\r\n          rowHeight: 35\r\n        }\r\n      },\r\n      otherOption: {\r\n        showFilterRow: true,\r\n        dataCahce: true,\r\n        level: '',\r\n        isDetails: '',\r\n        loadDataType: 1,\r\n        pageSize: 20,\r\n        treeInfoType: 2,\r\n        pathField: '',\r\n        pathStep: 0,\r\n        idField: '',\r\n        parentField: '',\r\n        firstLoad: true,\r\n        showZero: true,\r\n        expand: true,\r\n        showHeaderSort: true\r\n      }\r\n    }\r\n  };\r\n\r\n  isDefaultSchema: any = [];\r\n\r\n  schemaList: any;\r\n\r\n  operations = {};\r\n\r\n  constructor(private restService: RestfulService, private sessionService: SessionService, @Inject(Server_Host) private host: string, @Optional() private schemaRenderExtendService: SchemaRenderExtendService) {\r\n    const self = this;\r\n    this.getOperation().subscribe((value: any) => {\r\n      if (value) {\r\n        self.operations['QdpQueryExport'] = value['05202284-dfc4-149c-853e-cfd35b4a02bb'];\r\n        self.operations['QdpQueryPrint'] = value['653fe24b-d77f-d8b0-71c5-5e3d561e33ca'];\r\n        self.operations['QdpModifyPublicSchema'] = value['d6832d96-e6f3-114e-1d53-f9e636548eb9'];\r\n        self.operations['QdpPubQuery'] = value['cd6c2057-5ad6-90dd-54ac-771c192563e8'];\r\n        self.operationChange.next(self.operations);\r\n      }\r\n      // console.log(value);\r\n    });\r\n  }\r\n\r\n  getSpreadTemplate(id: string, queryId: string, dynamicCols: any, queryRelativeUrl: any, scheme?: any, frozenCols?: any, groupType?: any): Observable<any> {\r\n    if (dynamicCols && dynamicCols.length) {\r\n      this.dynamicCols[groupType ? groupType : queryId] = dynamicCols;\r\n      this.dynamicCols[id] = dynamicCols;\r\n    }\r\n    let schema;\r\n    if (this.schemaList && this.schemaList[id]) {\r\n      schema = this.schemaList[id];\r\n    }\r\n    let colInfo: any = [];\r\n    // æ°çæ¬åä¿¡æ¯éè¿frozenColsè·å\r\n    if (this.dynamicCols[groupType ? groupType : queryId]) {\r\n      colInfo = Object.assign(frozenCols, this.dynamicCols[groupType ? groupType : queryId]);\r\n    } else {\r\n      colInfo = frozenCols;\r\n    }\r\n    this.colList.next(colInfo);\r\n    return this.analysis((schema && schema.id ? schema.id : '1'), queryId, dynamicCols, queryRelativeUrl, scheme);\r\n  }\r\n  /**\r\n   * è·åæå®æ¹æ¡\r\n   * @param id æ¹æ¡ID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  getSchema(id: string, queryId: string, queryRelativeUrl: any, groupType?: any, organizationId?: any, fromCache?: any): Observable<any> {\r\n    const self = this;\r\n    if (this.schemaList && this.schemaList[id] && fromCache && fromCache === true) {\r\n      return of(this.schemaList[id]);\r\n    } else {\r\n      const result$ = groupType ? this.getSchemaListByGroupType(queryId, '', organizationId, groupType, queryRelativeUrl) : this.getSchemaList(queryId, '', organizationId, queryRelativeUrl);\r\n      return result$.pipe(\r\n        map(value => {\r\n          if (id === '1' || id === 'prefab') {\r\n            return Object.assign({}, self.preSchema, { id: '1' });\r\n          } else if (value && value['schemaList'] && value['schemaList'][queryId]) {\r\n            if (value['schemaList'][queryId][id]) {\r\n              return value['schemaList'][queryId][id];\r\n            } else {\r\n              let defaultSchemaId = '';\r\n              if (value.isDefaultSchema && value.isDefaultSchema.id && value['schemaList'][queryId][value.isDefaultSchema.id]) {\r\n                defaultSchemaId = value.isDefaultSchema.id;\r\n                return value['schemaList'][queryId][defaultSchemaId];\r\n              } else {\r\n                return null;\r\n              }\r\n            }\r\n          } else {\r\n            return null;\r\n          }\r\n        })\r\n      );\r\n    }\r\n  }\r\n  /**\r\n   * è·åé»è®¤æ¹æ¡\r\n   */\r\n  getDefaultSchema(queryId: string, queryRelativeUrl: any, groupType?: any, organizationId?: any): Observable<any> {\r\n    const result$ = groupType ? this.getSchemaListByGroupType(queryId, '', organizationId, groupType, queryRelativeUrl) : this.getSchemaList(queryId, '', organizationId, queryRelativeUrl);\r\n    return result$.pipe(\r\n      map(() => {\r\n        if (this.isDefaultSchema[queryId] && this.isDefaultSchema[queryId].id) {\r\n          return this.isDefaultSchema[queryId];\r\n        } else {\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * è·åæ¹æ¡åè¡¨\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   * @param userId ç¨æ·ID\r\n   * @param organizationId ç»ç»id\r\n   */\r\n  getSchemaList(queryId: string, userId: string, organizationId: string, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'getschemalist';\r\n    return this.getSchemas(restUri, queryRelativeUrl, { queryId, userId, organizationId });\r\n  }\r\n\r\n  /**\r\n   * è·åæ¹æ¡åè¡¨\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   * @param userId ç¨æ·ID\r\n   * @param organizationId ç»ç»id\r\n   */\r\n  getSchemaListByGroupType(queryId: string, userId: string, organizationId: string, groupType: any, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'getschemalistbygroup';\r\n    return this.getSchemas(restUri, queryRelativeUrl, { queryId, userId, organizationId, groupType });\r\n  }\r\n\r\n  private getSchemas(uri: any, queryRelativeUrl: any, params: any) { // queryId: string, userId: string, organizationId: string, groupType: any, queryRelativeUrl: any, params: any\r\n    const self = this;\r\n    const result$ = self.restService.get(uri, params, self.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        self.schemaList = {};\r\n        if (data && data.length) {\r\n          self.isDefaultSchema[params.queryId] = null;\r\n          data.forEach((element: any) => {\r\n            element.schemaValue = JSON.parse(element.schemaValue);\r\n            if (element.isDefault === 1) {\r\n              self.isDefaultSchema[params.queryId] = element;\r\n            }\r\n            self.schemaList[element.id] = element;\r\n            self.operateDynamicColsForSchema.call(self, element, params.groupType ? params.groupType : params.queryId);\r\n          });\r\n          let schemaExtendId = '';\r\n          if (self.schemaRenderExtendService && self.schemaRenderExtendService.schemaInfoRenderBefore) {\r\n            const $event: any = { queryId: params.queryId };\r\n            $event['defaultSchemaId'] = '';\r\n            $event['schemalList'] = self.schemaList;\r\n            self.schemaRenderExtendService.schemaInfoRenderBefore($event);\r\n            if ($event['defaultSchemaId']) {\r\n              schemaExtendId = $event['defaultSchemaId'];\r\n            }\r\n          }\r\n          const filterCondition: any = { schemaType: 0 };\r\n          if (schemaExtendId) {\r\n            filterCondition.id = schemaExtendId;\r\n          }\r\n          if (schemaExtendId || !self.isDefaultSchema || !self.isDefaultSchema[params.queryId]) {\r\n            if (filter(data, filterCondition) && filter(data, filterCondition).length) {\r\n              self.isDefaultSchema[params.queryId] = filter(data, filterCondition)[0];\r\n            } else {\r\n              filterCondition.schemaType = 1;\r\n              if (filter(data, filterCondition) && filter(data, filterCondition).length) {\r\n                self.isDefaultSchema[params.queryId] = filter(data, filterCondition)[0];\r\n              } else {\r\n                filterCondition.schemaType = 2;\r\n                if (filter(data, filterCondition) && filter(data, filterCondition).length) {\r\n                  self.isDefaultSchema[params.queryId] = filter(data, filterCondition)[0];\r\n                }\r\n              }\r\n            }\r\n          }\r\n          self.schemaInfo[params.queryId] = self.schemaList;\r\n          const preSchema = JSON.parse(JSON.stringify(self.preSchema));\r\n          self.operateCustomSchema(preSchema, params.groupType ? params.groupType : params.queryId);\r\n          self.operateDynamicColsForSchema.call(self, preSchema, params.groupType ? params.groupType : params.queryId, 1);\r\n          self.schemaInfoChange.next({ schemaList: self.schemaInfo, isDefaultSchema: self.isDefaultSchema[params.queryId], preSchema: preSchema });\r\n          return { schemaList: self.schemaInfo, isDefaultSchema: self.isDefaultSchema[params.queryId], preSchema: preSchema };\r\n        } else {\r\n          delete self.schemaInfo[params.queryId];\r\n          const preSchema = JSON.parse(JSON.stringify(self.preSchema));\r\n          self.isDefaultSchema[params.queryId] = null;\r\n          self.operateCustomSchema(preSchema, params.groupType ? params.groupType : params.queryId);\r\n          self.operateDynamicColsForSchema.call(self, preSchema, params.groupType ? params.groupType : params.queryId, 1);\r\n          self.schemaInfoChange.next({ schemaList: null, isDefaultSchema: null, preSchema: preSchema });\r\n          return { schemaList: null, isDefaultSchema: null, preSchema: preSchema };\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  public mergeCustomSchema(groupType: any, queryId?: any) {\r\n    const self = this;\r\n    let preSchema = JSON.parse(JSON.stringify(self.preSchema));\r\n    preSchema = self.operateCustomSchema(preSchema, groupType);\r\n    self.operateDynamicColsForSchema.call(self, preSchema, groupType, 1);\r\n    self.schemaInfoChange.next({ schemaList: self.schemaInfo, isDefaultSchema: self.isDefaultSchema && self.isDefaultSchema[queryId] ? self.isDefaultSchema[queryId] : null, preSchema: preSchema });\r\n    return preSchema;\r\n  }\r\n\r\n  private operateCustomSchema(preSchema: any, groupType: any) {\r\n    try {\r\n      if (this.customSchema && this.customSchema[groupType]) {\r\n        const schema = JSON.parse(this.customSchema[groupType]);\r\n        preSchema.schemaValue.titleOption = Object.assign(preSchema.schemaValue.titleOption, schema.titleOption);\r\n        preSchema.schemaValue.columnOption = Object.assign(preSchema.schemaValue.columnOption, schema.columnOption);\r\n        preSchema.schemaValue.styleOption = Object.assign(preSchema.schemaValue.styleOption, schema.styleOption);\r\n        preSchema.schemaValue.otherOption = Object.assign(preSchema.schemaValue.otherOption, schema.otherOption);\r\n        return preSchema;\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  /**\r\n   * ä¿å­æ¹æ¡\r\n   * @param schema æ¹æ¡å®ä½\r\n   */\r\n  saveSchema(schema: any, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'saveschema';\r\n    const schemaObj = JSON.parse(schema.schema);\r\n    const result$ = this.restService.post(restUri, schema, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      switchMap(() => {\r\n        if (schema.groupType) {\r\n          return this.getSchemaListByGroupType(schemaObj.queryId, '', schemaObj.orgId, schema.groupType, queryRelativeUrl);\r\n        } else {\r\n          return this.getSchemaList(schemaObj.queryId, '', schemaObj.orgId, queryRelativeUrl);\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * å é¤æ¹æ¡\r\n   * @param id æ¹æ¡ID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  deleteSchema(id: string, queryId: string, queryRelativeUrl: any, groupType?: any, organizationId?: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'deleteschema';\r\n    const result$ = this.restService.delete(restUri, { id }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data === true) {\r\n          this.isDefaultSchema[queryId] = null;\r\n          const result$1 = groupType ? this.getSchemaListByGroupType(queryId, '', organizationId, groupType, queryRelativeUrl) : this.getSchemaList(queryId, '', organizationId, queryRelativeUrl);\r\n          return result$1.pipe(\r\n            map(value => {\r\n              return true;\r\n            })\r\n          );\r\n        } else {\r\n          return of(false);\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * è·åspreadæ¨¡ç\r\n   * @param id æ¹æ¡ID\r\n   */\r\n  analysis(id: string, queryId: string, dynamicCols: any, queryRelativeUrl: any, scheme?: any): Observable<any> {\r\n    const restUri = this.host + this.uri;\r\n    let param = {};\r\n    if (id !== '1') {\r\n      if (dynamicCols && dynamicCols.length) {\r\n        param = { id, dynamicCols: JSON.stringify(dynamicCols), schema: !scheme ? '' : scheme };\r\n        return this.restService.post(restUri + 'getspreadtemplatewithdynamiccolumn', param, {}, this.createHeaderSessionId());\r\n      } else {\r\n        if (scheme) {\r\n          return this.restService.post(restUri + 'getspreadtemplatebyid', { id: id, schema: !scheme ? '' : scheme }, {}, this.createHeaderSessionId());\r\n        } else {\r\n          return this.restService.get(restUri + 'getspreadtemplate', { id }, this.createHeaderSessionId());\r\n        }\r\n      }\r\n    } else {\r\n      dynamicCols = dynamicCols && dynamicCols.length ? dynamicCols : [];\r\n      param = { dynamicCols: JSON.stringify(dynamicCols), schema: !scheme ? '' : scheme };\r\n      return this.restService.post(restUri + 'getinitspreadtemplate', param, {}, this.createHeaderSessionId());\r\n    }\r\n  }\r\n\r\n  getOperation(operators?: any) {\r\n    const restUri = this.host + this.uri;\r\n    let param = {};\r\n    if (!operators || !operators.length) {\r\n      param = {\r\n        operators: ['05202284-dfc4-149c-853e-cfd35b4a02bb', '653fe24b-d77f-d8b0-71c5-5e3d561e33ca', 'd6832d96-e6f3-114e-1d53-f9e636548eb9', 'cd6c2057-5ad6-90dd-54ac-771c192563e8']\r\n      };\r\n    } else {\r\n      param = {\r\n        operators: operators\r\n      };\r\n    }\r\n    return this.restService.post(restUri + 'isprincipalhasop', param, {}, this.createHeaderSessionId());\r\n  }\r\n\r\n  validateOperation(type: any) {\r\n    return this.operations['QdpModifyPublicSchema'] === true && (type === 0 || type === '0');\r\n  }\r\n\r\n  // è®¾ç½®åä¿¡æ¯\r\n  setColInfo(dynamicCols) {\r\n    let colInfo = [];\r\n    if (dynamicCols && dynamicCols.length) {\r\n      colInfo = dynamicCols;\r\n    }\r\n    this.colList.next(colInfo);\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    return RtfServices.createHeaderSessionId(this.sessionService);\r\n  }\r\n\r\n  /**\r\n   * äºå¼äººåé¢å¶çæ ¼å¼æ¹æ¡å¯ä»¥æ¾ç¤ºå¨æåä¿¡æ¯\r\n   */\r\n  operateDynamicColsForSchema(element: any, groupType: any, schemaId?: any) {\r\n    if (this.dynamicCols && this.dynamicCols[groupType]) {\r\n      if (element && element.id && (element.isProtected === 1 || element.isProtected === '1' || schemaId === 1)) {\r\n        const dynamicColumns = schemaId === 1 ? this.dynamicCols[groupType] : this.dynamicCols[element.id];\r\n        const dyCols = this.createColumns(dynamicColumns, element.schemaValue.columnOption.colList);\r\n        element.schemaValue.columnOption.colList = dyCols;\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * åå¹¶å¨æå\r\n   */\r\n  private createColumns(colList: any, columns: any) {\r\n    const columnList = [];\r\n    if (columns && columns.length) {\r\n      columnList.push(...JSON.parse(JSON.stringify(columns)));\r\n      if (colList && colList.length > 0) {\r\n        let index = 0;\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let col = 0; col < colList.length; col++) {\r\n          let c = this.getColumn(columnList, colList[col]);\r\n          if (c) {\r\n            if (this.recursiveCompareColumn(c['childList'], colList[col]['childList']) === false) {\r\n              c = colList[col];\r\n            }\r\n          } else {\r\n            if (index >= columnList.length) {\r\n              columnList.push(colList[col]);\r\n            } else {\r\n              columnList.splice(index, 0, colList[col]);\r\n            }\r\n          }\r\n          if (c && index === 0) {\r\n            index = this.dynamicColIndex + 1;\r\n          } else {\r\n            index += 1;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (colList && colList.length > 0) {\r\n        columnList.push(...colList);\r\n      }\r\n    }\r\n    return columnList;\r\n  }\r\n  private getColumn(columns: any, col: any) {\r\n    let result = null;\r\n    this.dynamicColIndex = 0;\r\n    // tslint:disable-next-line:prefer-for-of\r\n    for (let item = 0; item < columns.length; item++) {\r\n      result = this.recursiveGetColumn(col, columns[item], null);\r\n      if (result != null) {\r\n        return result;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  private recursiveGetColumn(col: any, parentColumn: any, childList: any) {\r\n    if (parentColumn) {\r\n      if (parentColumn['bindField'] === col['bindField']) {\r\n        return parentColumn;\r\n      }\r\n      if (parentColumn['childList'] && parentColumn['childList'].length > 0) {\r\n        return this.recursiveGetColumn(col, null, parentColumn['childList']);\r\n      } else {\r\n        this.dynamicColIndex += 1;\r\n      }\r\n    } else {\r\n      // tslint:disable-next-line:prefer-for-of\r\n      for (let item = 0; item < childList.length; item++) {\r\n        if (childList[item]['bindField'] === col['bindField']) {\r\n          return childList[item];\r\n        }\r\n        if (childList[item]['childList'] && childList[item]['childList'].length > 0) {\r\n          return this.recursiveGetColumn(col, null, childList[item]['childList']);\r\n        } else {\r\n          this.dynamicColIndex += 1;\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  private recursiveCompareColumn(firstChildList: any, secondChildList: any) {\r\n    if (!firstChildList && !secondChildList) {\r\n      return true;\r\n    } else if (!firstChildList && secondChildList) {\r\n      return false;\r\n    } else if (firstChildList && !secondChildList) {\r\n      return false;\r\n    } else if (firstChildList && secondChildList) {\r\n      if (firstChildList.length !== secondChildList.length) {\r\n        return false;\r\n      } else {\r\n        if (firstChildList.length === 0 && secondChildList.length === 0) {\r\n          return true;\r\n        } else if (firstChildList.length === 0) {\r\n          return false;\r\n        } else {\r\n          for (let i = 0; i < firstChildList.length; i++) {\r\n            if (firstChildList[i].bindField !== secondChildList[i].bindField) {\r\n              return false;\r\n            }\r\n            return this.recursiveCompareColumn(firstChildList[i].childList, secondChildList[i].childList);\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import { Injectable, Inject, Optional } from '@angular/core';\r\nimport { Server_Host, Load_Data_Uri, Load_Data_Col } from '../../entitties/server.host';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../restful-service/restful.service';\r\nimport { RtfServices } from '../rtfservices/rtfservices';\r\nimport { CloudprintService, FileType, OutputOptions, OutputType, PrintType } from '@gsp-svc/cloudprint';\r\n\r\n@Injectable()\r\nexport class LcpService {\r\n  pageInfoChange = new Subject<any>();\r\n  variablesChange = new Subject<any>();\r\n  inSuiteDropDownInfoChange = new Subject<any>();\r\n  inSuiteDropDownInfo: any;\r\n  cloudprintService: CloudprintService;\r\n  formErrorService: any;\r\n  loading: any;\r\n\r\n  constructor(\r\n    private restfulService: RestfulService,\r\n    private sessionService: SessionService,\r\n    @Inject(Server_Host) @Optional() private serverHost: string,\r\n    @Inject(Load_Data_Uri) @Optional() private loadDataUri: string,\r\n    @Inject(Load_Data_Col) @Optional() private loadDataCol: string\r\n  ) { }\r\n\r\n  exportData(params: any, queryRelativeUrl: any) {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataUri) {\r\n      uri += this.loadDataUri;\r\n    } else {\r\n      uri += (!queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/' : queryRelativeUrl) + 'export';\r\n    }\r\n    const config = {\r\n      responseType: 'application/json' // è¡¨æè¿åæå¡å¨è¿åçæ°æ®ç±»å\r\n    };\r\n    Object.assign(config, this.createHeaderSessionId());\r\n    const fileName = params.excelExportName + '.xlsx';\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, config)\r\n      : this.restfulService.put(uri, params, {}, config);\r\n    result$.toPromise().then(data => {\r\n      data = !queryRelativeUrl ? data : JSON.parse(data).returnValue;\r\n      const byteString = atob(data); // base64 è§£ç \r\n      const arrayBuffer = new ArrayBuffer(byteString.length); // åå»ºç¼å²æ°ç»\r\n      const intArray = new Uint8Array(arrayBuffer); // åå»ºè§å¾\r\n\r\n      for (let i = 0; i < byteString.length; i++) {\r\n        intArray[i] = byteString.charCodeAt(i);\r\n      }\r\n      const blob = new Blob([intArray], { type: 'application/vnd.ms-excel' });\r\n      if ('download' in document.createElement('a')) { // éIEä¸è½½\r\n        const elink = document.createElement('a');\r\n        elink.download = fileName;\r\n        elink.style.display = 'none';\r\n        elink.href = URL.createObjectURL(blob);\r\n        document.body.appendChild(elink);\r\n        elink.click();\r\n        URL.revokeObjectURL(elink.href); // éæ¾URL å¯¹è±¡\r\n        document.body.removeChild(elink);\r\n      } else { // IE10+ä¸è½½\r\n        navigator.msSaveBlob(blob, fileName);\r\n      }\r\n      self.loading.close();\r\n    }, error => {\r\n      self.formErrorService.exception(error.Message, error);\r\n    });\r\n  }\r\n\r\n  aysnExportData(params: any, queryRelativeUrl: any) {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataUri) {\r\n      uri += this.loadDataUri;\r\n    } else {\r\n      uri += (!queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/' : queryRelativeUrl) + 'export';\r\n    }\r\n    const config = {\r\n      responseType: 'application/json' // è¡¨æè¿åæå¡å¨è¿åçæ°æ®ç±»å\r\n    };\r\n    Object.assign(config, this.createHeaderSessionId());\r\n    params.async = 1;\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, config)\r\n      : this.restfulService.put(uri, params, {}, config);\r\n    result$.toPromise().then(data => {\r\n      data = !queryRelativeUrl ? data : JSON.parse(data).returnValue;\r\n      if (data) {\r\n      }\r\n    }, error => {\r\n      self.formErrorService.exception(error.Message, error);\r\n    })\r\n  }\r\n\r\n  pdfExportEvent(params: any, queryRelativeUrl: any) {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataUri) {\r\n      uri += this.loadDataUri;\r\n    } else {\r\n      uri += (!queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/' : queryRelativeUrl) + 'print';\r\n    }\r\n\r\n    const config = {\r\n      responseType: 'application/json' // è¡¨æè¿åæå¡å¨è¿åçæ°æ®ç±»å\r\n    };\r\n    Object.assign(config, this.createHeaderSessionId());\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const fileName = params.Param && params.Param.excelExportName ? params.Param.excelExportName + '' : params.excelExportName + '';\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, config)\r\n      : this.restfulService.put(uri, params, {}, config);\r\n    result$.toPromise().then(data => {\r\n      data = !queryRelativeUrl ? data : JSON.parse(data).returnValue;\r\n      const byteString = atob(data); // base64 è§£ç \r\n      const arrayBuffer = new ArrayBuffer(byteString.length); // åå»ºç¼å²æ°ç»\r\n      const intArray = new Uint8Array(arrayBuffer); // åå»ºè§å¾\r\n\r\n      for (let i = 0; i < byteString.length; i++) {\r\n        intArray[i] = byteString.charCodeAt(i);\r\n      }\r\n      const blob = new Blob([intArray], { type: 'application/pdf' });\r\n      if ('download' in document.createElement('a')) { // éIEä¸è½½\r\n        const elink = document.createElement('a');\r\n        elink.download = fileName;\r\n        elink.style.display = 'none';\r\n        elink.href = URL.createObjectURL(blob);\r\n        document.body.appendChild(elink);\r\n        elink.click();\r\n        URL.revokeObjectURL(elink.href); // éæ¾URL å¯¹è±¡\r\n        document.body.removeChild(elink);\r\n      } else { // IE10+ä¸è½½\r\n        navigator.msSaveBlob(blob, fileName);\r\n      }\r\n    }, error => {\r\n      self.formErrorService.exception(error.Message, error);\r\n    });\r\n  }\r\n\r\n  printPreView(params: any, queryRelativeUrl: any) {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataUri) {\r\n      uri += this.loadDataUri;\r\n    } else {\r\n      uri += (!queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/' : queryRelativeUrl) + 'print';\r\n    }\r\n\r\n    const config = {\r\n      responseType: 'application/json' // è¡¨æè¿åæå¡å¨è¿åçæ°æ®ç±»å\r\n    };\r\n    Object.assign(config, this.createHeaderSessionId());\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const fileName = params.Param && params.Param.excelExportName ? params.Param.excelExportName + '' : params.excelExportName + '';\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, config)\r\n      : this.restfulService.put(uri, params, {}, config);\r\n    result$.toPromise().then(data => {\r\n      data = !queryRelativeUrl ? data : JSON.parse(data).returnValue;\r\n      const options: OutputOptions = {\r\n        OutputType: OutputType.PRINT,\r\n        FileType: FileType.Pdf,\r\n        Path: '',\r\n        DeviceId: '',\r\n        printType: PrintType.Query,\r\n        printJob: false,\r\n        printerName: '',\r\n        printSetting: null\r\n      };\r\n      const byteString = atob(data); // base64 è§£ç \r\n      const arrayBuffer = new ArrayBuffer(byteString.length); // åå»ºç¼å²æ°ç»\r\n      const intArray = new Uint8Array(arrayBuffer); // åå»ºè§å¾\r\n\r\n      for (let i = 0; i < byteString.length; i++) {\r\n        intArray[i] = byteString.charCodeAt(i);\r\n      }\r\n      const blob = new Blob([intArray]);\r\n      self.cloudprintService.openRendedViewer('tab', blob, options);\r\n    }, error => {\r\n      self.formErrorService.exception(error.Message, error);\r\n    });\r\n  }\r\n\r\n  getData(params: any, queryRelativeUrl: any): Observable<any> {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataUri) {\r\n      uri += this.loadDataUri;\r\n    } else {\r\n      uri += !queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/query' : (queryRelativeUrl + 'querydata');\r\n    }\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, this.createHeaderSessionId())\r\n      : this.restfulService.put(uri, params, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data) {\r\n          data = !queryRelativeUrl ? data : data.returnValue;\r\n          if (data && data.pageInfo) {\r\n            self.pageInfoChange.next(data.pageInfo);\r\n          }\r\n          if (data && data.variables) {\r\n            self.variablesChange.next(data.variables);\r\n          }\r\n          if (data && data.dropDownOption) {\r\n            self.inSuiteDropDownInfo = data.dropDownOption;\r\n            self.inSuiteDropDownInfoChange.next(data.dropDownOption);\r\n          }\r\n        }\r\n        return data;\r\n      })\r\n    );\r\n  }\r\n\r\n  getCol(params: any, queryRelativeUrl: any): Observable<any> {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataCol) {\r\n      uri += this.loadDataCol;\r\n    } else {\r\n      uri += (!queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/' : queryRelativeUrl) + 'querycol';\r\n    }\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, this.createHeaderSessionId())\r\n      : this.restfulService.put(uri, params, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data) {\r\n          data = !queryRelativeUrl ? data : data.returnValue;\r\n        }\r\n        return data;\r\n      })\r\n    );\r\n  }\r\n\r\n  getCrosstabTemplate(params: any, queryRelativeUrl: any) {\r\n    const self = this;\r\n    let uri = this.serverHost;\r\n    if (this.loadDataUri) {\r\n      uri += this.loadDataUri;\r\n    } else {\r\n      uri += !queryRelativeUrl ? '/api/runtime/bcc/v1.0/qdpsearch/getcrosstabtemplate' : (queryRelativeUrl + 'getcrosstabtemplate');\r\n    }\r\n    params = !queryRelativeUrl ? params : { 'Param': params };\r\n    const result$ = !queryRelativeUrl ? this.restfulService.post(uri, params, {}, this.createHeaderSessionId())\r\n      : this.restfulService.put(uri, params, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((result: any) => {\r\n        if (result) {\r\n          result = !queryRelativeUrl ? result : (result && result.returnValue) ? JSON.parse(result.returnValue) : undefined;\r\n        }\r\n        return result;\r\n      })\r\n    );\r\n  }\r\n\r\n  getSpreadLicense() {\r\n    const uri = '/api/runtime/bcc/v1.0/qdpschemamanager/getSpreadLicense';\r\n    const result$ = this.restfulService.get(uri, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        return data.spreadjs;\r\n      })\r\n    );\r\n  }\r\n\r\n  clearCache(params: any) {\r\n    const self = this;\r\n    const uri = this.serverHost + '/api/runtime/bcc/v1.0/qdpsearch/clearcache';\r\n    const result$ = this.restfulService.post(uri, params, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((result: any) => {\r\n        return result;\r\n      })\r\n    );\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    return RtfServices.createHeaderSessionId(this.sessionService);\r\n  }\r\n}\r\n","import { CloudprintService, OutputOptions, SourceOptions, OutputType, FileType, SourceFilterOptions, PrintType } from '@gsp-svc/cloudprint';\r\n\r\n/**\r\n * æå°æå¡\r\n * @Scope FrameComponent\r\n */\r\nexport class IntegrationPrintService {\r\n  printService: CloudprintService;\r\n  /**\r\n   * æé å½æ°\r\n   */\r\n  constructor(_printService: CloudprintService) {\r\n    this.printService = _printService;\r\n  }\r\n\r\n  /**\r\n   * æå°åæ®\r\n   * @param beMetaId BEåæ°æ®æ è¯\r\n   * @param bizBillId ä¸å¡åæ®æ è¯\r\n   */\r\n  public printSingle(beMetaId: string, bizBillId: string) {\r\n    return this.printArray(beMetaId, [bizBillId]);\r\n  }\r\n  /**\r\n   * æå°åæ®ï¼éè¿idæidsï¼\r\n   * @param beMetaId beåæ°æ®Id\r\n   * @param ids åæ®idæids\r\n   */\r\n  public printByIds(beMetaId: string, ids: string) {\r\n    const dataIds: Array<string> = ids.split(',').filter(item => item);\r\n    return this.printArray(beMetaId, dataIds);\r\n  }\r\n  /**\r\n   * æå°åæ®ï¼å¸¦ç»´åº¦ï¼\r\n   * @param beMetaId beåæ°æ®Id\r\n   * @param ids åæ®idæids\r\n   * @param dim1 ç»´åº¦1å¼\r\n   * @param dim2 ç»´åº¦2å¼\r\n   * @param billCategoryId åæ®ç±»åId\r\n   */\r\n  public printByIdsWithDimension(beMetaId: string, ids: string, dim1?: string, dim2?: string, billCategoryId?: string) {\r\n    const dataIds: Array<string> = ids.split(',').filter(item => item);\r\n    return this.printArray(beMetaId, dataIds, dim1, dim2, billCategoryId);\r\n  }\r\n  /**\r\n   * æå°åæ®ï¼å¸¦ç»´åº¦ï¼\r\n   * @param beMetaId beåæ°æ®Id\r\n   * @param ids åæ®idæids\r\n   * @param dim1 ç»´åº¦1å¼\r\n   * @param dim2 ç»´åº¦2å¼\r\n   * @param billCategoryId åæ®ç±»åId\r\n   */\r\n   public printWithDimensionCustomDataSource(beMetaId: string, ids:string, dim1: string, dim2: string, queryType: string, queryServiceId: string, queryParam: any) {\r\n    const dataIds: Array<string> = ids.split(',').filter(item => item);\r\n    return this.printArray(beMetaId, dataIds, dim1, dim2, undefined, queryType, queryServiceId, queryParam);\r\n  }\r\n  /**\r\n   * æå°å¤ä¸ªåæ®\r\n   * @param beMetaId BEåæ°æ®æ è¯\r\n   * @param dataIds ä¸å¡åæ®æ è¯æ°ç»\r\n   * @param dim1 ç»´åº¦1\r\n   * @param dim2 ç»´åº¦2\r\n   * @param billCategoryId ä¸å¡åæ®ç±»åId\r\n   */\r\n  public printArray(beMetaId: string, dataIds: string[], dim1?: any, dim2?: any, billCategoryId?: string, queryType?: string, queryServiceId?: string, queryParam?: any) {\r\n    const sourceOptions: any = this.buildSourceOptions({\r\n      dataIds: dataIds,\r\n      sourceId: beMetaId\r\n    });\r\n\r\n    const outputOptions: OutputOptions = this.buildOutputOptions();\r\n\r\n    if (dim1) {\r\n      sourceOptions.FirstDimensionVal = dim1;\r\n    }\r\n    if (dim2) {\r\n      sourceOptions.SecondDimensionVal = dim2;\r\n    }\r\n    if (typeof billCategoryId !== 'undefined') {\r\n      sourceOptions.billCategoryId = billCategoryId;\r\n    }\r\n    if (queryType) {\r\n      sourceOptions.queryType = queryType;\r\n    }\r\n    if (queryServiceId) {\r\n      sourceOptions.queryServiceId = queryServiceId;\r\n    }\r\n    if (queryParam) {\r\n      sourceOptions.queryParam = queryParam;\r\n    }\r\n    return this.printService.outputBEData(sourceOptions, outputOptions, 'tab');\r\n  }\r\n  /**\r\n   * æé SourceOptions\r\n   * @param options options\r\n   */\r\n  private buildSourceOptions(options: { dataIds: string[], sourceId: string, [prop: string]: any }): any {\r\n    const so: any = {\r\n      DataIds: options && options.dataIds || undefined,\r\n      SourceId: options && options.sourceId || undefined,\r\n      FirstDimensionVal: options && options.dim1 || undefined,\r\n      SecondDimensionVal: options && options.dim2 || undefined,\r\n      RetrieveParam: options && options.retrieveParam || undefined,\r\n      FormatId: options && options.formatId || undefined,\r\n      billCategoryId: options && options.billCategoryId || undefined,\r\n      ServiceUnit: options && options.serviceUnit || undefined,\r\n      currentPage: options && options.currentPage || undefined,\r\n      pageRowCount: options && options.pageRowCount || undefined,\r\n      queryType: options && options.queryType || undefined,\r\n      queryServiceId: options && options.queryServiceId || undefined,\r\n      bizTypeId: options && options.bizTypeId || undefined,\r\n      queryParam: options && options.queryParam || undefined\r\n    };\r\n    return so;\r\n  }\r\n  /**\r\n   * æé OutputOptions\r\n   * @param options options\r\n   */\r\n  private buildOutputOptions(options?: { [prop: string]: any }): OutputOptions {\r\n    const oo: OutputOptions = {\r\n      OutputType: options && options.outputType || OutputType.PRINT,\r\n      FileType: options && options.fileType || FileType.Html5,\r\n      Path: options && options.path || undefined,\r\n      DeviceId: options && options.deviceId || undefined,\r\n      printJob: options && options.printJob || undefined,\r\n      printerName: options && options.printerName || undefined,\r\n      printSetting: options && options.printSetting || undefined,\r\n      printType: options && options.printType || PrintType.Form\r\n    };\r\n    return oo;\r\n  }\r\n}\r\n","// import 'rxjs/add/operator/map';\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../restful-service/restful.service';\r\nimport { Server_Host } from '../../entitties/server.host';\r\nimport { RtfServices } from '../rtfservices/rtfservices';\r\n\r\n@Injectable()\r\nexport class ParasMappingManagerService {\r\n  private uri = '/api/runtime/bcc/v1.0/qdpparasmapping/';\r\n  parasmappingInfoChange = new Subject<any>();\r\n\r\n  parasmappingInfoList: any = {};\r\n\r\n  constructor(private restService: RestfulService, private sessionService: SessionService, @Inject(Server_Host) private host: string) {\r\n  }\r\n\r\n  /**\r\n   * è·åæ¥è¯¢åæ°æ å°ä¿¡æ¯\r\n   * @param id æ°æ®æºID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  getParasMapping(id: string, queryId: string, queryRelativeUrl: any, type: number = 0): Observable<any> {\r\n    const result$ = this.getParasMappingList(queryId, id, '', '', queryRelativeUrl, type);\r\n    return result$.pipe(\r\n      map(value => {\r\n        if (value && value[id]) {\r\n          return value[id];\r\n        } else {\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * è·ååæ°æ å°åè¡¨\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   * @param userId ç¨æ·ID\r\n   * @param languageType è¯­è¨ç±»å\r\n   */\r\n  getParasMappingList(queryId: string, datasourceId: any, userId: string, languageType: string, queryRelativeUrl: any, queryType: number = 0): Observable<any> {\r\n    const restUri = this.host + this.uri + 'getparasmappinglist';\r\n    const result$ = this.restService.get(restUri, { queryId, datasourceId, userId, languageType, queryType }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data && data.length) {\r\n          data.forEach((element: any) => {\r\n            element.parasmapping = JSON.parse(element.parasmapping);\r\n            this.parasmappingInfoList[element.datasourceid] = element;\r\n          });\r\n          this.parasmappingInfoChange.next({ parasInfoList: this.parasmappingInfoList });\r\n          return this.parasmappingInfoList;\r\n        } else {\r\n          this.parasmappingInfoChange.next({ parasInfoList: null });\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * ä¿å­åæ°æ å°\r\n   * @param parasmapping åæ°æ å°å®ä½\r\n   */\r\n  saveParasMapping(parasmapping: any, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'saveparasmapping';\r\n    const result$ = this.restService.post(restUri, parasmapping, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map(() => {\r\n        parasmapping.parasmapping = JSON.parse(parasmapping.parasmapping);\r\n        if (Object.keys(this.parasmappingInfoList).indexOf(parasmapping.datasourceid)) {\r\n          this.parasmappingInfoList[parasmapping.datasourceid] = parasmapping;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * å é¤æ¹æ¡\r\n   * @param id æ¹æ¡ID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  deleteParasMapping(datasourceid: string, queryId: string, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'deleteparasmapping';\r\n    const result$ = this.restService.delete(restUri, { datasourceId: datasourceid, queryId }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data === true) {\r\n          this.parasmappingInfoList[datasourceid] = null;\r\n        } else {\r\n          return false;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * è·ååæ°æ®ä¿¡æ¯\r\n   * @param Id metadataid\r\n   */\r\n  getMetaDataInfoById(Id: string): Observable<any> {\r\n    const restUri = this.host + '/api/runtime/lcm/v1.0/rt-metadatas/' + Id;\r\n    const result$ = this.restService.get(restUri, {}, this.createHeaderSessionId());\r\n\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data) {\r\n          return data;\r\n        } else {\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    return RtfServices.createHeaderSessionId(this.sessionService);\r\n  }\r\n}\r\n","// import 'rxjs/add/operator/map';\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../restful-service/restful.service';\r\nimport { Server_Host } from '../../entitties/server.host';\r\nimport { RtfServices } from '../rtfservices/rtfservices';\r\n\r\n@Injectable()\r\nexport class PrintIntegrationManagerService {\r\n  private uri = '/api/runtime/bcc/v1.0/printintegration/';\r\n  printIntegrationInfoChange = new Subject<any>();\r\n\r\n  printIntegrationInfoList: any = {};\r\n\r\n  constructor(private restService: RestfulService, private sessionService: SessionService, @Inject(Server_Host) private host: string) {\r\n  }\r\n\r\n  /**\r\n   * è·åæ¥è¯¢åæ°æ å°ä¿¡æ¯\r\n   * @param schemaId æ¹æ¡ID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  getPrintIntegration(schemaId: string, queryId: string, queryRelativeUrl: any): Observable<any> {\r\n    const result$ = this.getPrintIntegrationList(queryId, schemaId, '', '', queryRelativeUrl);\r\n    return result$.pipe(\r\n      map(value => {\r\n        if (value && value[schemaId + queryId]) {\r\n          return value[schemaId + queryId];\r\n        } else {\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * è·åæå°è®¾ç½®ä¿¡æ¯åè¡¨\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   * @param schemaId æ¹æ¡ID\r\n   * @param userId ç¨æ·ID\r\n   * @param languageType è¯­è¨ç±»å\r\n   */\r\n  getPrintIntegrationList(queryId: string, schemaId: any, userId: string, languageType: string, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'getprintintegrationlist';\r\n    const result$ = this.restService.get(restUri, { queryId, schemaId, userId, languageType }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data && data.length) {\r\n          data.forEach((element: any) => {\r\n            element.printintegration = JSON.parse(element.printintegration);\r\n            this.printIntegrationInfoList[schemaId + queryId] = element;\r\n          });\r\n          this.printIntegrationInfoChange.next({ printIntegrationInfoList: this.printIntegrationInfoList });\r\n          return this.printIntegrationInfoList;\r\n        } else {\r\n          this.printIntegrationInfoChange.next({ printIntegrationInfoList: null });\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * ä¿å­æå°è®¾ç½®ä¿¡æ¯\r\n   * @param element æå°è®¾ç½®\r\n   */\r\n  savePrintIntegration(element: any, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'saveprintintegration';\r\n    const integration = element;\r\n    const result$ = this.restService.post(restUri, integration, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map(() => {\r\n        element.printintegration = JSON.parse(element.printintegration);\r\n        if (Object.keys(this.printIntegrationInfoList).indexOf(element.schemaId + element.queryId)) {\r\n          this.printIntegrationInfoList[element.schemaId + element.queryId] = element;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * å é¤æå°è®¾ç½®ä¿¡æ¯\r\n   * @param schemaId æ¹æ¡ID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  deletePrintIntegration(schemaId: string, queryId: string, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'deleteprintintegration';\r\n    const result$ = this.restService.delete(restUri, { schemaId, queryId }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data === true) {\r\n          this.printIntegrationInfoList[schemaId + queryId] = null;\r\n        } else {\r\n          return false;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    return RtfServices.createHeaderSessionId(this.sessionService);\r\n  }\r\n\r\n}\r\n","// import 'rxjs/add/operator/map';\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../restful-service/restful.service';\r\nimport { Server_Host } from '../../entitties/server.host';\r\nimport { element } from '@angular/core/src/render3';\r\nimport { RtfServices } from '../rtfservices/rtfservices';\r\n\r\n@Injectable()\r\nexport class JointSearchManagerService {\r\n  private uri = '/api/runtime/bcc/v1.0/joinsearch/';\r\n  private localUri = '/api/runtime/sys/v1.0/loginInfo';\r\n  private lcpUri = '/api/runtime/bcc/v1.0/qdpsearch/';\r\n  jointsearchInfoChange = new Subject<any>();\r\n\r\n  jointsearchInfoList: any = {};\r\n\r\n  constructor(private restService: RestfulService, private sessionService: SessionService, @Inject(Server_Host) private host: string) {\r\n    // this.uri = this.host + this.uri;\r\n  }\r\n\r\n  /**\r\n   * è·åæ¥è¯¢åæ°æ å°ä¿¡æ¯\r\n   * @param formid è¡¨åID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  getjointsearch(formId: string, queryId: string, queryRelativeUrl: any): Observable<any> {\r\n    const result$ = this.getjointsearchList(formId, queryId, '', '', queryRelativeUrl);\r\n    return result$.pipe(\r\n      map(value => {\r\n        if (value && value[formId + queryId]) {\r\n          return value[formId + queryId];\r\n        } else {\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  getVisibleJoint(visibleJointParam: any, queryRelativeUrl: any, searchList: any): Observable<any> {\r\n    const jointUri = this.host + (!queryRelativeUrl ? this.lcpUri : queryRelativeUrl) + 'visiblejoint';\r\n\r\n    const result$ = this.restService.put(jointUri, { 'Param': visibleJointParam}, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        const jointSearchList = [];\r\n        if (data) {\r\n          data = !queryRelativeUrl ? data : data.returnValue;\r\n          if (!queryRelativeUrl) {\r\n            for (const search of searchList) {\r\n              if (data[search.id] !== null && data[search.id] === true) {\r\n                jointSearchList.push(search);\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            for (const search of searchList) {\r\n              const item = data.find(d => d.id === search.id);\r\n              if (item && item.visible === true) {\r\n                jointSearchList.push(search);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        return jointSearchList;\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * è·ååæ°æ å°åè¡¨\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   * @param userId ç¨æ·ID\r\n   * @param languageType è¯­è¨ç±»å\r\n   */\r\n  getjointsearchList(formId: any, queryId: string, userId: string, languageType: string, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'getjoinsearch';\r\n    const result$ = this.restService.get(restUri, { formId, queryId, userId, languageType }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        // this.jointsearchInfoList = {};\r\n        if (data && data.length) {\r\n          data.forEach((element: any) => {\r\n            this.jointsearchInfoList[element.formId + element.queryId] = element;\r\n          });\r\n          this.jointsearchInfoChange.next({ jointsearchInfoList: this.jointsearchInfoList });\r\n          return this.jointsearchInfoList;\r\n        } else {\r\n          this.jointsearchInfoChange.next({ jointsearchInfoList: null });\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * ä¿å­åæ°æ å°\r\n   * @param jointsearch åæ°æ å°å®ä½\r\n   */\r\n  savejointsearch(jointsearch: any, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'addjointsearch';\r\n    const result$ = this.restService.post(restUri, jointsearch, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data === true) {\r\n          this.jointsearchInfoList[jointsearch.FormId + jointsearch.queryId] = jointsearch;\r\n          return true;\r\n\r\n        } else {\r\n          return false;\r\n        }\r\n      }));\r\n  }\r\n  /**\r\n   * å é¤èæ¥\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  deletejointsearch(formId: any, queryId: string, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'deletejointsearch';\r\n    const result$ = this.restService.delete(restUri, { formId, queryId }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data === true) {\r\n          this.jointsearchInfoList[formId + queryId] = null;\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  getLanguageList() {\r\n    const result$ = this.restService.get(this.localUri, { infoType: 'supportedLanguage' });\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        return data;\r\n      })\r\n    );\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    return RtfServices.createHeaderSessionId(this.sessionService);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport abstract class DataRenderExtendService  {\r\n  // æ¥è¯¢æ°æ®å\r\n  abstract beforeQueryData($event: any) ;\r\n  // æ°æ®å è½½å\r\n  abstract beforeLoadData($event: any) ;\r\n  // é¡µé¢æ¸²æå\r\n  abstract afterLoadData($event: any) ;\r\n  // // è¡éä¸­\r\n  // abstract rowSelected($event: any) ;\r\n  // // ååæ ¼éä¸­\r\n  // abstract cellSelected($event: any) ;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport abstract class JointSearchExtendService  {\r\n  // // èæ¥èåæ¾ç¤ºå\r\n  // abstract beforeJointSearchMenuShow($event: any) ;\r\n  // èæ¥å\r\n  abstract beforeJointSearch($event: any) ;\r\n}\r\n","// import 'rxjs/add/operator/map';\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../restful-service/restful.service';\r\nimport { Server_Host } from '../../entitties/server.host';\r\nimport { RtfServices } from '../rtfservices/rtfservices';\r\n\r\n@Injectable()\r\nexport class FilterManagerService {\r\n  private uri = '/api/runtime/bcc/v1.0/qdpfilter/';\r\n  filterInfoChange = new Subject<any>();\r\n  isFilterQDP = new Subject(); // æ¯å¦å·æ°\r\n\r\n  filterInfoList: any = {};\r\n\r\n  constructor(private restService: RestfulService, private sessionService: SessionService, @Inject(Server_Host) private host: string) {\r\n    // this.uri = this.host + this.uri;\r\n  }\r\n\r\n  /**\r\n   * è·åæ¥è¯¢åæ°æ å°ä¿¡æ¯\r\n   * @param id æ°æ®æºID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  getFilter(id: string, queryId: string, queryRelativeUrl: any, queryType: number, groupType?: any): Observable<any> {\r\n    const result$ = this.getFilterList(queryId, id, groupType, '', queryRelativeUrl, queryType);\r\n    return result$.pipe(\r\n      map(value => {\r\n        if (value && value[queryId]) {\r\n          return value[queryId];\r\n        } else {\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * è·ååæ°æ å°åè¡¨\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   * @param userId ç¨æ·ID\r\n   * @param languageType è¯­è¨ç±»å\r\n   */\r\n  getFilterList(queryId: string, datasourceId: any, groupType: string, languageType: string, queryRelativeUrl: any, queryType: number = 0): Observable<any> {\r\n    const restUri = this.host + this.uri + 'getfilterlist';\r\n    const result$ = this.restService.get(restUri, { queryId, datasourceId, groupType, languageType, queryType }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data && data.length) {\r\n          data.forEach((element: any) => {\r\n            element.filter = JSON.parse(element.filter);\r\n            this.filterInfoList[element.queryid] = element;\r\n          });\r\n          this.filterInfoChange.next({ parasInfoList: this.filterInfoList });\r\n          return this.filterInfoList;\r\n        } else {\r\n          this.filterInfoChange.next({ parasInfoList: null });\r\n          return null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * ä¿å­åæ°æ å°\r\n   * @param filter åæ°æ å°å®ä½\r\n   */\r\n  saveFilter(filter: any, queryRelativeUrl: any): Observable<any> {\r\n    const restUri = this.host + this.uri + 'savefilter';\r\n    const result$ = this.restService.post(restUri, filter, {}, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map(() => {\r\n        filter.filter = JSON.parse(filter.filter);\r\n        if (Object.keys(this.filterInfoList).indexOf(filter.queryid)) {\r\n          this.filterInfoList[filter.queryid] = filter;\r\n        }\r\n      })\r\n    );\r\n  }\r\n  /**\r\n   * å é¤æ¹æ¡\r\n   * @param id æ¹æ¡ID\r\n   * @param queryId æ¥è¯¢ç¼å·\r\n   */\r\n  deleteFilter(datasourceid: string, queryId: string, queryRelativeUrl: any, queryType: number): Observable<any> {\r\n    const restUri = this.host + this.uri + 'deletefilter';\r\n    const result$ = this.restService.delete(restUri, { datasourceId: datasourceid, queryId, queryType }, this.createHeaderSessionId());\r\n    return result$.pipe(\r\n      map((data: any) => {\r\n        if (data === true) {\r\n          this.filterInfoList[queryId] = null;\r\n        } else {\r\n          return false;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    return RtfServices.createHeaderSessionId(this.sessionService);\r\n  }\r\n}\r\n","type Func = (args: any) => any;\r\n\r\nexport class EventBus {\r\n  public static handlers: any = {};\r\n\r\n  static register(eventType: string, handler: Func, eventId?: string) {\r\n    if (!this.handlers[eventType]) {\r\n      this.handlers[eventType] = {};\r\n    }\r\n\r\n    let id = eventId;\r\n    if (!id) {\r\n      id = this.guid();\r\n    } \r\n    this.handlers[eventType][id] = handler;\r\n\r\n    const unsubscribe = () => {\r\n      delete this.handlers[eventType][id];\r\n      if (Object.keys(this.handlers[eventType]).length === 0) {\r\n        delete this.handlers[eventType];\r\n      }\r\n    };\r\n\r\n    return unsubscribe;\r\n  }\r\n\r\n  static dispatch(eventType: string, args: any) {\r\n    if (this.handlers[eventType]) {\r\n      Object.keys(this.handlers[eventType]).forEach(key => {\r\n        this.handlers[eventType][key](args);\r\n      });\r\n    }\r\n  }\r\n\r\n  static guid() {\r\n    function S4() {\r\n      // tslint:disable-next-line:no-bitwise\r\n      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    }\r\n    return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n  }\r\n}\r\n","export class JSONUtils {\r\n    static isObj(object) {\r\n        return object && typeof (object) == 'object' && Object.prototype.toString.call(object).toLowerCase() == \"[object object]\";\r\n    }\r\n\r\n    static isArray(object) {\r\n        return object && typeof (object) == 'object' && object.constructor == Array;\r\n    }\r\n\r\n    static getLength(object) {\r\n        var count = 0;\r\n        for (var i in object) count++;\r\n        return count;\r\n    }\r\n    static Compare(objA, objB) {\r\n        if (!JSONUtils.isObj(objA) || !JSONUtils.isObj(objB)) return false; //å¤æ­ç±»åæ¯å¦æ­£ç¡®\r\n        if (JSONUtils.getLength(objA) != JSONUtils.getLength(objB)) return false; //å¤æ­é¿åº¦æ¯å¦ä¸è´\r\n        return JSONUtils.CompareObj(objA, objB, true); //é»è®¤ä¸ºtrue\r\n    }\r\n\r\n    private static CompareObj(objA, objB, flag) {\r\n        for (var key in objA) {\r\n            if (!flag) //è·³åºæ´ä¸ªå¾ªç¯\r\n                break;\r\n            if (!objB.hasOwnProperty(key)) {\r\n                flag = false;\r\n                break;\r\n            }\r\n            if (!JSONUtils.isArray(objA[key])) { //å­çº§ä¸æ¯æ°ç»æ¶,æ¯è¾å±æ§å¼\r\n                if (objB[key] != objA[key]) {\r\n                    flag = false;\r\n                    break;\r\n                }\r\n            } else {\r\n                if (!JSONUtils.isArray(objB[key])) {\r\n                    flag = false;\r\n                    break;\r\n                }\r\n                var oA = objA[key],\r\n                    oB = objB[key];\r\n                if (oA.length != oB.length) {\r\n                    flag = false;\r\n                    break;\r\n                }\r\n                for (var k in oA) {\r\n                    if (!flag) //è¿éè·³åºå¾ªç¯æ¯ä¸ºäºä¸è®©éå½ç»§ç»­\r\n                        break;\r\n                    flag = JSONUtils.CompareObj(oA[k], oB[k], flag);\r\n                }\r\n            }\r\n        }\r\n        return flag;\r\n    }\r\n}","export class QDPCacheUtil {\r\n    private static CacheMap = new Map();\r\n\r\n    public static setCache(key: String, value: any) {\r\n        QDPCacheUtil.CacheMap.set(key, value);\r\n    }\r\n\r\n    public static getCache(key: String) {\r\n        return QDPCacheUtil.CacheMap.get(key);\r\n    }\r\n}","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SessionService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from './service/restful-service/restful.service';\r\nimport { SchemaManagerService } from './service/schema-manager/schema-manager.service';\r\nimport { LcpService } from './service/lcp-service/lcp.service';\r\nimport { ParasMappingManagerService } from './service/paras-mapping/paras-mappingmanager.service';\r\nimport { JointSearchManagerService } from './service/joint-search/joint-searchmanager.service';\r\nimport { PrintIntegrationManagerService } from './service/print-integration/print-integrationmanager.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  declarations: [\r\n  ],\r\n  exports: [\r\n  ]\r\n})\r\nexport class QdpCommonModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: QdpCommonModule,\r\n      providers: [\r\n        SessionService,\r\n        SchemaManagerService,\r\n        RestfulService,\r\n        LcpService,\r\n        ParasMappingManagerService,\r\n        JointSearchManagerService,\r\n        PrintIntegrationManagerService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class DndDraggableService {\r\n\r\n  private _isDragging = false;\r\n  private _itemType = '';\r\n  private _dropCallback: Function;\r\n  private _dropEffect: string;\r\n  private _effectAllowed: string;\r\n  private _removeOnDrop = false;\r\n\r\n  public dropEndSource = new Subject<any>();\r\n\r\n  constructor() {}\r\n\r\n  setDraggingState(state: boolean) {\r\n    this._isDragging = state;\r\n  }\r\n\r\n  getDraggingState(): boolean {\r\n    return this._isDragging;\r\n  }\r\n\r\n  setItemType(value: string): void {\r\n    this._itemType = value.toLowerCase();\r\n  }\r\n\r\n  getItemType(): string {\r\n    return this._itemType;\r\n  }\r\n\r\n  setDropCallback(value: Function): void {\r\n    this._dropCallback = value;\r\n  }\r\n\r\n  getDropCallback(): Function {\r\n    return this._dropCallback;\r\n  }\r\n\r\n  setDropEffect(dropEffect: string): void {\r\n    this._dropEffect = dropEffect;\r\n  }\r\n\r\n  getDropEffect(): string {\r\n    return this._dropEffect;\r\n  }\r\n\r\n  setEffectAllowed(effectAllowed: string): void {\r\n    this._effectAllowed = effectAllowed;\r\n  }\r\n\r\n  getEffectAllowed(): string {\r\n    return this._effectAllowed;\r\n  }\r\n\r\n  setRemoveOnDrop(value: boolean) {\r\n    this._removeOnDrop = value;\r\n  }\r\n\r\n  getRemoveOnDrop() {\r\n    return this._removeOnDrop;\r\n  }\r\n\r\n}\r\n","export const MIME_TYPE = 'application/x-dnd';\r\nexport const EDGE_MIME_TYPE = 'application/json';\r\nexport const MSIE_MIME_TYPE = 'Text';\r\nexport const ALL_EFFECTS = ['move', 'copy', 'link'];\r\n","import {\r\n  Directive, HostBinding, OnChanges, SimpleChanges, Input, OnInit,\r\n  HostListener, ElementRef, Renderer2, Output, EventEmitter\r\n} from '@angular/core';\r\nimport { DndDraggableService } from '../services/dnd-draggable.service';\r\nimport { MIME_TYPE, EDGE_MIME_TYPE, MSIE_MIME_TYPE, ALL_EFFECTS } from '../dnd-constants';\r\nimport { DndDragendEvent } from '../models/events';\r\n\r\n@Directive({\r\n  selector: '[dndDraggable]',\r\n})\r\nexport class DndDraggableDirective implements OnInit {\r\n\r\n  @Input() dndDraggable: any;\r\n  @Input() dndDisable: boolean;\r\n  @Input() dndType = '';\r\n  @Input() dndCallback: Function;\r\n  @Input() dndEffectAllowed: string;\r\n\r\n  @Output() dndDragstart = new EventEmitter<DragEvent>();\r\n  @Output() dndDragend = new EventEmitter<DndDragendEvent>();\r\n  @Output() dndSelected = new EventEmitter<Event>();\r\n\r\n  @Output() dndMoved = new EventEmitter<DragEvent>();\r\n  @Output() dndCopied = new EventEmitter<DragEvent>();\r\n  @Output() dndLinked = new EventEmitter<DragEvent>();\r\n  @Output() dndCanceled = new EventEmitter<DragEvent>();\r\n\r\n  @HostBinding('draggable')\r\n  get draggable() {\r\n    return !this.dndDisable;\r\n  }\r\n\r\n  private _nativeElement: Element;\r\n\r\n  constructor(private _dndService: DndDraggableService, private _renderer: Renderer2, _hostElement: ElementRef) {\r\n    if (_hostElement) {\r\n      this._nativeElement = _hostElement.nativeElement;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  @HostListener('dragstart', ['$event'])\r\n  onDragStart(event) {\r\n    event = event.originalEvent || event;\r\n    if (!this.draggable) {\r\n      return true;\r\n    }\r\n    this._dndService.setDraggingState(true);\r\n    this._dndService.setItemType(this.dndType);\r\n    const mimeType = MIME_TYPE + (this._dndService.getItemType() ? ('-' + this._dndService.getItemType()) : '');\r\n    // Set the allowed drop effects. See below for special IE handling.\r\n    this._dndService.setDropEffect('none');\r\n    this._dndService.setEffectAllowed(this.dndEffectAllowed || ALL_EFFECTS[0]);\r\n\r\n    event.dataTransfer.effectAllowed = this._dndService.getEffectAllowed(); // TODO: set allowed effects\r\n    try {\r\n      event.dataTransfer.setData(mimeType, JSON.stringify(this.dndDraggable));\r\n    } catch (e) {\r\n      const data = {\r\n        item: this.dndDraggable,\r\n        type: this._dndService.getItemType()\r\n      };\r\n\r\n      try {\r\n        // Setting a custom MIME type did not work, we are probably in IE or Edge.\r\n        event.dataTransfer.setData(EDGE_MIME_TYPE, JSON.stringify(data));\r\n\r\n      } catch (e) {\r\n        // We are in Internet Explorer and can only use the Text MIME type. Also note that IE\r\n        // does not allow changing the cursor in the dragover event, therefore we have to choose\r\n        // the one we want to display now by setting effectAllowed.\r\n        event.dataTransfer.effectAllowed = 'move';\r\n        event.dataTransfer.setData(MSIE_MIME_TYPE, JSON.stringify(data));\r\n      }\r\n    }\r\n    this._renderer.addClass(this._nativeElement, 'dndDragging');\r\n    setTimeout(() => this._renderer.addClass(this._nativeElement, 'dndDraggingSource'), 0);\r\n    // Try setting a proper drag image if triggered on a dnd-handle (won't work in IE).\r\n    if (event._dndHandle && event.dataTransfer.setDragImage) {\r\n      event.dataTransfer.setDragImage(this._nativeElement, 0, 0);\r\n    }\r\n    // Emit dragstart event and prepare extra callback for dropzone.\r\n    this.dndDragstart.emit(event);\r\n\r\n    if (this.dndCallback) {\r\n      const callback = this.dndCallback;\r\n      this._dndService.setDropCallback(function (params) {\r\n        return callback(params);\r\n      });\r\n    }\r\n    event.stopPropagation();\r\n  }\r\n\r\n  @HostListener('dragend', ['$event'])\r\n  onDragEnd(event: DragEvent) {\r\n    const dropEffect = this._dndService.getDropEffect();\r\n    const cb = { copy: 'dndCopied', link: 'dndLinked', move: 'dndMoved', none: 'dndCanceled' };\r\n    this[cb[dropEffect]].emit(event);\r\n    this.dndDragend.emit({\r\n      event: event,\r\n      dropEffect: dropEffect\r\n    });\r\n\r\n    // Clean up\r\n    this._dndService.setDraggingState(false);\r\n    this._dndService.setDropCallback(undefined);\r\n    this._dndService.setRemoveOnDrop(false);\r\n    this._renderer.removeClass(this._nativeElement, 'dndDragging');\r\n    this._renderer.removeClass(this._nativeElement, 'dndDraggingSource');\r\n    event.stopPropagation();\r\n\r\n    // In IE9 it is possible that the timeout from dragstart triggers after the dragend handler.\r\n    setTimeout(() => this._renderer.removeClass(this._nativeElement, 'dndDraggingSource'), 0);\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  click(event: MouseEvent) {\r\n    this.dndSelected.emit(event);\r\n    // Prevent triggering dndSelected in parent elements.\r\n    event.stopPropagation();\r\n  }\r\n\r\n}\r\n","import {\r\n   Directive,\r\n   HostBinding,\r\n   OnChanges,\r\n   Input,\r\n   HostListener,\r\n   ElementRef,\r\n   Renderer2,\r\n   OnInit,\r\n   Output,\r\n   EventEmitter\r\n} from '@angular/core';\r\nimport { DndDraggableService } from '../services/dnd-draggable.service';\r\nimport { MSIE_MIME_TYPE, EDGE_MIME_TYPE, MIME_TYPE, ALL_EFFECTS } from '../dnd-constants';\r\nimport { DndListEvent } from '../models/events';\r\n\r\n@Directive({\r\n   selector: '[dndList]',\r\n})\r\nexport class DndListDirective implements OnInit {\r\n   @Input() dndDisable = false;\r\n   @Input() dndAllowedTypes: String[];\r\n   @Input() dndExternalSources: any;\r\n   @Input() dndHorizontalList: any;\r\n   @Input() dndEffectAllowed: string;\r\n   @Input() pureComponent: boolean;\r\n   @Input() dndList: any;\r\n\r\n   @Output() dndListChange = new EventEmitter<any>();\r\n\r\n   @Output() dndDragover = new EventEmitter<DndListEvent>();\r\n   @Output() dndDrop = new EventEmitter<DndListEvent>();\r\n   @Output() dndInserted = new EventEmitter<DndListEvent>();\r\n\r\n   private _nativeElement: Element;\r\n   private _placeholderNode: Element;\r\n\r\n   private _listSettings: any = {};\r\n   private _listNode: any;\r\n   private _dragOverStopped = false;\r\n\r\n   private _counter = 0;\r\n\r\n   constructor(private _el: ElementRef, private _renderer: Renderer2, private _dndService: DndDraggableService) {\r\n      this._nativeElement = this._el.nativeElement;\r\n   }\r\n\r\n   ngOnInit(): void {\r\n      const placeholder = this._getPlaceholderElement();\r\n      placeholder.remove();\r\n      this._placeholderNode = placeholder;\r\n      this._listNode = this._nativeElement;\r\n   }\r\n\r\n   @HostListener('dragenter', ['$event'])\r\n   onDragEnter(event) {\r\n      this._counter++;\r\n      this._dragOverStopped = false;\r\n      event = event.originalEvent || event;\r\n      this._listSettings = {\r\n         allowedTypes: Array.isArray(this.dndAllowedTypes) && this.dndAllowedTypes.join('|').toLowerCase().split('|'),\r\n         disabled: this.dndDisable,\r\n         externalSources: this.dndExternalSources,\r\n         horizontal: this.dndHorizontalList\r\n      };\r\n      const mimeType = this._getMimeType(event.dataTransfer.types);\r\n      if (!mimeType || !this._isDropAllowed(this._getItemType(mimeType))) {\r\n         return true;\r\n      }\r\n      event.preventDefault();\r\n   }\r\n\r\n   @HostListener('dragover', ['$event'])\r\n   onDragOver(event) {\r\n      event = event.originalEvent || event;\r\n      // Check whether the drop is allowed and determine mime type.\r\n      const mimeType = this._getMimeType(event.dataTransfer.types);\r\n      const itemType = this._getItemType(mimeType);\r\n      if (!mimeType || !this._isDropAllowed(itemType)) {\r\n         return true;\r\n      }\r\n      // Make sure the placeholder is shown, which is especially important if the list is empty.\r\n      if (this._placeholderNode.parentNode !== this._listNode) {\r\n         this._renderer.appendChild(this._nativeElement, this._placeholderNode);\r\n      }\r\n\r\n      if (event.target !== this._listNode) {\r\n         // Try to find the node direct directly below the list node.\r\n         let listItemNode = event.target;\r\n         while (listItemNode.parentNode !== this._listNode && listItemNode.parentNode) {\r\n            listItemNode = listItemNode.parentNode;\r\n         }\r\n\r\n         if (listItemNode.parentNode === this._listNode && listItemNode !== this._placeholderNode) {\r\n            // If the mouse pointer is in the upper half of the list item element,\r\n            // we position the placeholder before the list item, otherwise after it.\r\n            const rect = listItemNode.getBoundingClientRect();\r\n            let isFirstHalf;\r\n            if (this._listSettings.horizontal) {\r\n               isFirstHalf = event.clientX < rect.left + rect.width / 2;\r\n            } else {\r\n               isFirstHalf = event.clientY < rect.top + rect.height / 2;\r\n            }\r\n            this._listNode.insertBefore(this._placeholderNode,\r\n               isFirstHalf ? listItemNode : listItemNode.nextSibling);\r\n         }\r\n      }\r\n\r\n      // In IE we set a fake effectAllowed in dragstart to get the correct cursor, we therefore\r\n      // ignore the effectAllowed passed in dataTransfer. We must also not access dataTransfer for\r\n      // drops from external sources, as that throws an exception.\r\n      const ignoreDataTransfer = mimeType === MSIE_MIME_TYPE;\r\n      const dropEffect = this._getDropEffect(event, ignoreDataTransfer);\r\n\r\n      if (dropEffect === 'none') {\r\n         return this._stopDragover();\r\n      }\r\n      // At this point we invoke the callback, which still can disallow the drop.\r\n      // We can't do this earlier because we want to pass the index of the placeholder.\r\n\r\n      this.dndDragover.emit(this._getEventResponse(event, dropEffect, itemType));\r\n      if (this._dragOverStopped) {\r\n         return this._stopDragover();\r\n      }\r\n\r\n      // Set dropEffect to modify the cursor shown by the browser, unless we're in IE, where this\r\n      // is not supported. This must be done after preventDefault in Firefox.\r\n      event.preventDefault();\r\n      if (!ignoreDataTransfer) {\r\n         event.dataTransfer.dropEffect = dropEffect;\r\n      }\r\n\r\n      this._renderer.addClass(this._nativeElement, 'dndDragover');\r\n      event.stopPropagation();\r\n      return false;\r\n   }\r\n\r\n   @HostListener('drop', ['$event'])\r\n   onDrop(event) {\r\n      this._counter = 0;\r\n      event = event.originalEvent || event;\r\n      // Check whether the drop is allowed and determine mime type.\r\n      const mimeType = this._getMimeType(event.dataTransfer.types);\r\n      let itemType = this._getItemType(mimeType);\r\n      if (!mimeType || !this._isDropAllowed(itemType)) {\r\n         return true;\r\n      }\r\n      // The default behavior in Firefox is to interpret the dropped element as URL and\r\n      // forward to it. We want to prevent that even if our drop is aborted.\r\n      event.preventDefault();\r\n\r\n      // Unserialize the data that was serialized in dragstart.\r\n      let data;\r\n      try {\r\n         data = JSON.parse(event.dataTransfer.getData(mimeType));\r\n      } catch (e) {\r\n         return this._stopDragover();\r\n      }\r\n\r\n      // Drops with invalid types from external sources might not have been filtered out yet.\r\n      if (mimeType === MSIE_MIME_TYPE || mimeType === EDGE_MIME_TYPE) {\r\n         itemType = data.type || undefined;\r\n         data = data.item;\r\n         if (!this._isDropAllowed(itemType)) {\r\n            return this._stopDragover();\r\n         }\r\n      }\r\n\r\n      // Special handling for internal IE drops, see dragover handler.\r\n      const ignoreDataTransfer = mimeType === MSIE_MIME_TYPE;\r\n      const dropEffect = this._getDropEffect(event, ignoreDataTransfer);\r\n      if (dropEffect === 'none') {\r\n         return this._stopDragover();\r\n      }\r\n      // Invoke the callback, which can transform the transferredObject and even abort the drop.\r\n      const index = this._getPlaceholderIndex();\r\n      this.dndDrop.emit(this._getEventResponse(event, dropEffect, itemType, index, data));\r\n      if (this._dragOverStopped) {\r\n         return this._stopDragover();\r\n      }\r\n\r\n      // The drop is definitely going to happen now, store the dropEffect.\r\n      this._dndService.setDropEffect(dropEffect);\r\n      if (!ignoreDataTransfer) {\r\n         event.dataTransfer.dropEffect = dropEffect;\r\n      }\r\n\r\n      if (this.dndList) {\r\n         // Creates a new array adding the object into the array position without mutate the original.\r\n         const newList = [...this.dndList.slice(0, index), data, ...this.dndList.slice(index)];\r\n         this.dndListChange.emit(newList);\r\n      }\r\n\r\n      this._dndService.setRemoveOnDrop(true);\r\n      // this._dndService.dropEndSource()\r\n\r\n      this.dndInserted.emit(this._getEventResponse(event, dropEffect, itemType, index, data));\r\n\r\n      // Clean up\r\n      this._stopDragover();\r\n      event.stopPropagation();\r\n      return false;\r\n   }\r\n\r\n   /**\r\n  * We have to remove the placeholder when the element is no longer dragged over our list. The\r\n  * problem is that the dragleave event is not only fired when the element leaves our list,\r\n  * but also when it leaves a child element. Therefore, we determine whether the mouse cursor\r\n  * is still pointing to an element inside the list or not.\r\n  */\r\n   @HostListener('dragleave', ['$event'])\r\n   onDragLeave(event) {\r\n      this._counter--;\r\n      event = event.originalEvent || event;\r\n      if (this._counter !== 0) {\r\n         // Signalize to potential parent lists that a placeholder is already shown.\r\n         event._dndPhShown = true;\r\n      } else {\r\n         this._stopDragover();\r\n      }\r\n   }\r\n\r\n   @HostListener('mouseleave', ['$event'])\r\n   onmouseout(event) {\r\n      if (this._dndService.getDraggingState()) {\r\n         this._stopDragover();\r\n      }\r\n   }\r\n\r\n   private _stopDrag() {\r\n      this._dragOverStopped = true;\r\n   }\r\n\r\n   private _stopDragover() {\r\n      this._placeholderNode.remove();\r\n      this._renderer.removeClass(this._nativeElement, 'dndDragover');\r\n      return true;\r\n   }\r\n\r\n\r\n   /**\r\n  * Create a DndListEvent instance for events response.\r\n  */\r\n   private _getEventResponse(event: DragEvent, dropEffect: string, itemType: string, index?: number, item?): DndListEvent {\r\n      return {\r\n         callback: this._dndService.getDropCallback(),\r\n         dropEffect: dropEffect,\r\n         event: event,\r\n         external: !this._dndService.getDraggingState(),\r\n         index: index !== undefined ? index : this._getPlaceholderIndex(),\r\n         item: item || undefined,\r\n         stopDragover: this._stopDrag.bind(this),\r\n         type: itemType\r\n      };\r\n   }\r\n\r\n   private _getPlaceholderIndex() {\r\n      return Array.prototype.indexOf.call(this._nativeElement.children, this._placeholderNode);\r\n   }\r\n\r\n   private _getPlaceholderElement(): Element {\r\n      let placeholder = [].slice.call(this._nativeElement.children).filter((childNode) => {\r\n         return childNode.className.indexOf('dndPlaceholder') > -1;\r\n      });\r\n      if (placeholder.length) {\r\n         return placeholder;\r\n      }\r\n      placeholder = this._renderer.createElement('li');\r\n      this._renderer.addClass(placeholder, 'dndPlaceholder');\r\n      return placeholder;\r\n   }\r\n\r\n   private _getMimeType(types) {\r\n      if (!types) {\r\n         return MSIE_MIME_TYPE; // IE 9 workaround.\r\n      }\r\n      for (let i = 0; i < types.length; i++) {\r\n         if (types[i] === MSIE_MIME_TYPE || types[i] === EDGE_MIME_TYPE ||\r\n            types[i].substr(0, MIME_TYPE.length) === MIME_TYPE) {\r\n            return types[i];\r\n         }\r\n      }\r\n      return null;\r\n   }\r\n\r\n   /**\r\n  * Determines the type of the item from the dndService, or from the mime type for items from\r\n  * external sources. Returns undefined if no item type was set and null if the item type could\r\n  * not be determined.\r\n  */\r\n   private _getItemType(mimeType) {\r\n      if (this._dndService.getDraggingState()) {\r\n         return this._dndService.getItemType() || undefined;\r\n      }\r\n      if (mimeType === MSIE_MIME_TYPE || mimeType === EDGE_MIME_TYPE) {\r\n         return null;\r\n      }\r\n      return (mimeType && mimeType.substr(MIME_TYPE.length + 1)) || undefined;\r\n   }\r\n\r\n   private _isDropAllowed(itemType) {\r\n      if (this._listSettings.disabled) {\r\n         return false;\r\n      }\r\n      if (!this._listSettings.externalSources && !this._dndService.getDraggingState()) {\r\n         return false;\r\n      }\r\n      if (!this._listSettings.allowedTypes || itemType === null) {\r\n         return true;\r\n      }\r\n      return itemType && this._listSettings.allowedTypes.indexOf(itemType) !== -1;\r\n   }\r\n\r\n   /**\r\n  * Determines which drop effect to use for the given event. In Internet Explorer we have to\r\n  * ignore the effectAllowed field on dataTransfer, since we set a fake value in dragstart.\r\n  * In those cases we rely on dndState to filter effects. Read the design doc for more details:\r\n  * https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n  */\r\n   private _getDropEffect(event, ignoreDataTransfer) {\r\n      let effects = ALL_EFFECTS;\r\n      if (!ignoreDataTransfer) {\r\n         effects = this._filterEffects(effects, event.dataTransfer.effectAllowed);\r\n      }\r\n      if (this._dndService.getDraggingState()) {\r\n         effects = this._filterEffects(effects, this._dndService.getEffectAllowed());\r\n      }\r\n      if (this.dndEffectAllowed) {\r\n         effects = this._filterEffects(effects, this.dndEffectAllowed);\r\n      }\r\n      // MacOS automatically filters dataTransfer.effectAllowed depending on the modifier keys,\r\n      // therefore the following modifier keys will only affect other operating systems.\r\n      if (!effects.length) {\r\n         return 'none';\r\n      } else if (event.ctrlKey && effects.indexOf('copy') !== -1) {\r\n         return 'copy';\r\n      } else if (event.altKey && effects.indexOf('link') !== -1) {\r\n         return 'link';\r\n      } else {\r\n         return effects[0];\r\n      }\r\n   }\r\n\r\n   /**\r\n  * Filters an array of drop effects using a HTML5 effectAllowed string.\r\n  */\r\n   private _filterEffects(effects, effectAllowed) {\r\n      if (effectAllowed === 'all') {\r\n         return effects;\r\n      }\r\n      return effects.filter(function (effect) {\r\n         return effectAllowed.toLowerCase().indexOf(effect) !== -1;\r\n      });\r\n   }\r\n}\r\n","import { Directive, HostBinding, HostListener, OnInit } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[dndNodrag]',\r\n})\r\nexport class DndNodragDirective implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  @HostBinding('draggable')\r\n  get draggable() {\r\n    return true;\r\n  }\r\n\r\n  @HostListener('dragstart', ['$event'])\r\n  onDragStart(event) {\r\n    event = event.originalEvent || event;\r\n    if (!event._dndHandle) {\r\n      // If a child element already reacted to dragstart and set a dataTransfer object, we will\r\n      // allow that. For example, this is the case for user selections inside of input elements.\r\n      if (!(event.dataTransfer.types && event.dataTransfer.types.length)) {\r\n        event.preventDefault();\r\n      }\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop propagation of dragend events, otherwise dnd-moved might be triggered and the element\r\n   * would be removed.\r\n   */\r\n  @HostListener('dragend', ['$event'])\r\n  onDragEnd(event) {\r\n    event = event.originalEvent || event;\r\n    if (!event._dndHandle) {\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n}\r\n","import { Directive, HostBinding, HostListener, OnInit } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[dndHandle]',\r\n})\r\nexport class DndHandleDirective implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  @HostBinding('draggable')\r\n  get draggable() {\r\n    return true;\r\n  }\r\n\r\n  @HostListener('dragstart dragend', ['$event'])\r\n  onDragStart(event) {\r\n    event = event.originalEvent || event;\r\n    event._dndHandle = true;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { DndDraggableDirective } from './directives/dnd-draggable.directive';\r\nimport { DndDraggableService } from './services/dnd-draggable.service';\r\nimport { DndListDirective } from './directives/dnd-list.directive';\r\nimport { DndNodragDirective } from './directives/dnd-nodrag.directive';\r\nimport { DndHandleDirective } from './directives/dnd-handle.directive';\r\n\r\nconst declarations = [\r\n  DndDraggableDirective,\r\n  DndListDirective,\r\n  DndNodragDirective,\r\n  DndHandleDirective\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations,\r\n  providers: [\r\n    DndDraggableService\r\n  ],\r\n  exports: declarations\r\n})\r\nexport class DndListModule { }\r\n"],"names":["Injectable","HttpClient","Subject","of","map","filter","switchMap","operators","SessionService","Inject","Optional","OutputType","FileType","PrintType","tslib_1.__values","NgModule","CommonModule","EventEmitter","Directive","Renderer2","ElementRef","Input","Output","HostBinding","HostListener"],"mappings":";;;;;;;;;;AAAA;;;;;QAYE,wBAAoB,UAAsB;YAAtB,eAAU,GAAV,UAAU,CAAY;SAAK;;;;;;;;;;;;;QAM/C,4BAAG;;;;;;;YAAH,UAAI,GAAW,EAAE,MAAe,EAAE,OAAa;gBAC7C,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;aAClD;;;;;;;;;;;;;;QAOD,4BAAG;;;;;;;;YAAH,UAAI,GAAW,EAAE,IAAS,EAAE,MAAe,EAAE,OAAa;;oBAClD,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC;gBACnD,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC;aAC1D;;;;;;;;;;;;;;QAOD,6BAAI;;;;;;;;YAAJ,UAAK,GAAW,EAAE,IAAS,EAAE,MAAe,EAAE,OAAa;;oBACnD,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC;gBACnD,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC;aAC3D;;;;;;;;;;;;;QAOD,+BAAM;;;;;;;YAAN,UAAO,GAAW,EAAE,MAAe,EAAE,OAAa;gBAChD,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;aACrD;;;;;;;;;;;;;;;QAOO,gCAAO;;;;;;;;;YAAf,UAAgB,GAAW,EAAE,MAAW,EAAE,MAAc,EAAE,OAAiB;gBAAjB,wBAAA;oBAAA,YAAiB;;gBACzE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;gBACxB,IAAI,MAAM,EAAE;;wBACJ,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;oBAC3C,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC;iBAC7B;;oBACK,UAAU,sBAAG,MAAM,EAAU;;oBAC7B,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,EAAE,OAAO,CAAC;gBAChE,OAAO,MAAM,CAAC;aACf;;;;;;;;;;;QAMO,oCAAW;;;;;;YAAnB,UAAoB,MAAc;;oBAC1B,UAAU,GAAQ,EAAE;gBAC1B,KAAK,IAAM,GAAG,IAAI,MAAM,EAAE;oBACxB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,EAAE;;4BACvC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE;wBACpC,UAAU,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;qBACzB;iBACF;gBACD,OAAO,UAAU,CAAC;aACnB;;;;;;;QAEO,gCAAO;;;;;;YAAf,UAAgB,OAAY,EAAE,IAAS;gBACrC,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;;oBAClB,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,IAAI,MAAA,EAAE,CAAC;gBACtD,OAAO,aAAa,CAAC;aACtB;;oBAhFFA,aAAU;;;;;wBALFC,eAAU;;;QAsFnB,qBAAC;KAjFD;;ICNA;;;;;;;;;;;;;;AAcA,aA4FgB,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAClE,IAAI,CAAC;YAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACxB,OAAO;YACH,IAAI,EAAE;gBACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM;oBAAE,CAAC,GAAG,KAAK,CAAC,CAAC;gBACnC,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;aAC3C;SACJ,CAAC;IACN,CAAC;AAED,aAAgB,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI;YACA,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI;gBAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAC9E;QACD,OAAO,KAAK,EAAE;YAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;SAAE;gBAC/B;YACJ,IAAI;gBACA,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;oBAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpD;oBACO;gBAAE,IAAI,CAAC;oBAAE,MAAM,CAAC,CAAC,KAAK,CAAC;aAAE;SACpC;QACD,OAAO,EAAE,CAAC;IACd,CAAC;AAED,aAAgB,QAAQ;QACpB,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;YAC9C,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,OAAO,EAAE,CAAC;IACd,CAAC;;;;;;;AC1ID,QAAa,WAAW,GAAG,YAAY;;AACvC,QAAa,aAAa,GAAG,aAAa;;AAC1C,QAAa,aAAa,GAAG,aAAa;;;;;;ACF1C;;;AAEA;QAAA;SAMC;;oBANAD,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;wCAJD;KAEA;;;;;;ACFA;QAIA;SA0LC;;;;;QAtLQ,iCAAqB;;;;YAA5B,UAA6B,cAAoB;;oBACzC,OAAO,GAAG;oBACd,OAAO,EAAE;wBACP,cAAc,EAAE,kBAAkB;qBACnC;iBACF;gBACD,IAAI;oBACF,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE;wBACvI,OAAO,CAAC,OAAO,CAAC,8BAA8B,CAAC,GAAG,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;qBAClG;yBAAM,IAAI,cAAc,IAAI,cAAc,CAAC,mBAAmB,EAAE,EAAE;wBACjE,OAAO,CAAC,OAAO,CAAC,8BAA8B,CAAC,GAAG,cAAc,CAAC,mBAAmB,EAAE,CAAC;qBACxF;yBAAM,IAAI,cAAc,IAAI,cAAc,CAAC,gBAAgB,EAAE,EAAE;wBAC9D,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,cAAc,CAAC,gBAAgB,EAAE,CAAC;qBAClE;yBAAM,IAAI,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;wBAC5C,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;qBAClE;iBACF;gBAAC,OAAO,CAAC,EAAE,GAAG;gBACf,OAAO,OAAO,CAAC;aAChB;;;;;QAEM,wBAAY;;;;YAAnB,UAAoB,cAAoB;;oBAClC,SAAS;gBACb,IAAI;oBACF,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE;wBACvI,SAAS,GAAG,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;qBAC5D;yBAAM,IAAI,cAAc,IAAI,cAAc,CAAC,mBAAmB,EAAE,EAAE;wBACjE,SAAS,GAAG,cAAc,CAAC,mBAAmB,EAAE,CAAC;qBAClD;yBAAM,IAAI,cAAc,IAAI,cAAc,CAAC,gBAAgB,EAAE,EAAE;wBAC9D,SAAS,GAAG,cAAc,CAAC,gBAAgB,EAAE,CAAC;qBAC/C;yBAAM,IAAI,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;wBAC5C,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;qBAC/C;iBACF;gBAAC,OAAO,CAAC,EAAE,GAAG;gBACf,OAAO,SAAS,CAAC;aAClB;;;;;QAEM,oBAAQ;;;;YAAf,UAAgB,OAAa;gBAC3B,IAAI;oBAEF,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,EAAE;;4BAC/E,GAAG,GAAG,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE;wBAC/D,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE;;gCACxM,IAAI,GAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE,GAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE;4BACjJ,OAAO,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC;yBACzB;6BAAM;4BACL,OAAO,GAAG,CAAC,KAAK,CAAC;yBAClB;qBACF;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,OAAO,CAAC;iBAChB;aACF;;;;QAEM,6BAAiB;;;YAAxB;gBACE,IAAI;oBACF,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE;;4BACxM,IAAI,GAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE,GAAG,mBAAmB,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE;wBACjJ,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,OAAO,EAAE,CAAC;qBACX;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,EAAE,CAAC;iBACX;aACF;;;;QAEM,6BAAiB;;;YAAxB;gBACE,IAAI;oBACF,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,OAAO,EAAE;;4BAC/E,GAAG,GAAG,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE;wBAC/D,OAAO,GAAG,CAAC;qBACZ;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,IAAI,CAAC;iBACb;aACF;;;;;QAEM,4BAAgB;;;;YAAvB,UAAwB,GAAW;gBACjC,IAAI;;wBACI,MAAM,GAAG,WAAW,CAAC,iBAAiB,EAAE,CAAC,MAAM;oBACrD,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,IAAI,EAAE;;4BAC9E,OAAK,GAAkB,IAAI;;4BACzB,QAAQ;;;2BAAG,UAAU,GAAG;;4BAE5B,OAAK,GAAG,GAAG,CAAC;yBACb,CAAA;wBACD,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;wBAC7D,IAAI,OAAK,EAAE;4BACT,OAAO,OAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;yBACvB;qBACF;oBACD,OAAO,IAAI,CAAC;iBACb;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,IAAI,CAAC;iBACb;aACF;;;;;QAEM,yCAA6B;;;;YAApC,UAAqC,KAAU;gBAC7C,OAAO;oBACL,iBAAiB,EAAE;wBACjB,GAAG,EAAE,KAAK;wBACV,KAAK,EAAE,IAAIE,YAAO,EAAO;wBACzB,YAAY,EAAE,KAAK;qBACpB;iBACF,CAAA;aACF;;;;QAEM,qCAAyB;;;YAAhC;gBACE,IAAI;;wBACI,KAAK,GAAG,WAAW,CAAC,QAAQ,EAAE;oBACpC,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,QAAQ,EAAE;;4BAClF,OAAK,GAAG,IAAI;;4BACV,MAAM,GAAG,WAAW,CAAC,iBAAiB,EAAE;;4BACxC,QAAQ;;;2BAAG,UAAU,GAAG;;4BAE5B,OAAK,GAAG,GAAG,CAAC;yBACb,CAAA;wBACD,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;wBACxE,IAAI,OAAK,IAAI,OAAK,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAI,OAAK,CAAC,mBAAmB,CAAC,CAAC,GAAG,KAAK,KAAK,EAAE;4BAClG,OAAO,OAAK,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC;yBACzC;wBACD,OAAO,IAAI,CAAC;qBACb;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,IAAI,CAAC;iBACb;aACF;;;;;;;;;;QAMM,qBAAS;;;;;YAAhB,UAAiB,MAAW;gBAC1B,OAAO,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;aAC7C;;;;QAEM,uBAAW;;;YAAlB;gBACE,IAAI;oBACF,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,IAAI,EAAE;;4BAC5E,IAAI,GAAG,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI;;;2BAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,MAAM,GAAA,EAAC;wBACxH,OAAO,IAAI,CAAC,QAAQ,CAAC;qBACtB;yBAAM;wBACL,OAAO,EAAE,CAAC;qBACX;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,EAAE,CAAC;iBACX;aACF;;;;;;QAEc,yBAAa;;;;;YAA5B,UAA6B,MAAW;;oBAClC,MAAM;gBACV,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,KAAK,EAAE;oBAC1C,MAAM,GAAG,WAAW,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;iBACnF;qBAAM;oBACL,MAAM,GAAG,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;iBACjE;gBACD,OAAO,MAAM,CAAC;aACf;;;;;;QAEc,4BAAgB;;;;;YAA/B,UAAgC,MAAW;gBACzC,IAAI;oBACF,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,GAAG,IAAI,mBAAmB,CAAC,GAAG,CAAC,IAAI,EAAE;wBAClF,OAAO,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;qBACvD;yBAAM;wBACL,OAAO,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;qBAC1C;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;iBAC1C;aACF;;;;;;;QAEc,yBAAa;;;;;;YAA5B,UAA6B,MAAM,EAAE,KAAK;gBACxC,OAAO,KAAK,GAAM,MAAM,SAAI,KAAO,GAAG,MAAM,CAAC;aAC9C;;;;;;;QAEc,sBAAU;;;;;;YAAzB,UAA0B,KAAU,EAAE,WAAgB;gBACpD,OAAU,KAAK,SAAI,WAAa,CAAC;aAClC;;;;;;;;QAEc,wBAAY;;;;;;;YAA3B,UAA4B,KAAU,EAAE,WAAgB,EAAE,KAAU;gBAClE,OAAO,KAAK,GAAM,WAAW,CAAC,UAAU,CAAC,KAAK,EAAE,WAAW,CAAC,SAAI,KAAO,GAAG,WAAW,CAAC,UAAU,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;aACtH;QAxLM,gBAAI,GAAG,EAAE,CAAC;QACV,qBAAS,GAAG,KAAK,CAAC;QAwL3B,kBAAC;KA1LD;;;;;;;QC4GE,8BAAoB,WAA2B,EAAU,cAA8B,EAA+B,IAAY,EAAsB,yBAAoD;YAAxL,gBAAW,GAAX,WAAW,CAAgB;YAAU,mBAAc,GAAd,cAAc,CAAgB;YAA+B,SAAI,GAAJ,IAAI,CAAQ;YAAsB,8BAAyB,GAAzB,yBAAyB,CAA2B;YAnGpM,QAAG,GAAG,yCAAyC,CAAC;YACxD,qBAAgB,GAAG,IAAIA,YAAO,EAAO,CAAC;YACtC,YAAO,GAAG,IAAIA,YAAO,EAAO,CAAC;YAC7B,gBAAW,GAAG,IAAIA,YAAO,EAAU,CAAC;YACpC,eAAU,GAAQ,EAAE,CAAC;YACrB,aAAQ,GAAa,IAAIA,YAAO,EAAO,CAAC;YACxC,oBAAe,GAAG,IAAIA,YAAO,EAAO,CAAC;YACrC,gBAAW,GAAQ,EAAE,CAAC;YACtB,iBAAY,GAAQ,EAAE,CAAC;YACvB,oBAAe,GAAG,CAAC,CAAC;YAEpB,cAAS,GAAG;gBACV,EAAE,EAAE,QAAQ;gBACZ,UAAU,EAAE,MAAM;gBAClB,QAAQ,EAAE,CAAC;gBACX,SAAS,EAAE,CAAC;gBACZ,WAAW,EAAE,GAAG;gBAChB,WAAW,EAAE;oBACX,WAAW,EAAE;wBACX,KAAK,EAAE,EAAE;wBACT,SAAS,EAAE,EAAE;qBACd;oBACD,YAAY,EAAE;wBACZ,QAAQ,EAAE,CAAC;wBACX,OAAO,EAAE,EAAE;qBACZ;oBACD,WAAW,EAAE;wBACX,KAAK,EAAE;4BACL,UAAU,EAAE,CAAC;4BACb,IAAI,EAAE,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,SAAS,EAAE,CAAC;4BACZ,cAAc,EAAE,CAAC;4BACjB,SAAS,EAAE,OAAO;4BAClB,SAAS,EAAE,EAAE;yBACd;wBACD,QAAQ,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,IAAI,EAAE,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,SAAS,EAAE,CAAC;4BACZ,cAAc,EAAE,CAAC;4BACjB,SAAS,EAAE,OAAO;4BAClB,SAAS,EAAE,EAAE;yBACd;wBACD,MAAM,EAAE;4BACN,UAAU,EAAE,CAAC;4BACb,IAAI,EAAE,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,SAAS,EAAE,CAAC;4BACZ,cAAc,EAAE,CAAC;4BACjB,SAAS,EAAE,OAAO;4BAClB,SAAS,EAAE,EAAE;yBACd;wBACD,QAAQ,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,IAAI,EAAE,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,SAAS,EAAE,CAAC;4BACZ,cAAc,EAAE,CAAC;4BACjB,SAAS,EAAE,OAAO;4BAClB,SAAS,EAAE,EAAE;yBACd;wBACD,MAAM,EAAE;4BACN,UAAU,EAAE,CAAC;4BACb,IAAI,EAAE,EAAE;4BACR,UAAU,EAAE,CAAC;4BACb,SAAS,EAAE,CAAC;4BACZ,cAAc,EAAE,CAAC;4BACjB,SAAS,EAAE,OAAO;4BAClB,SAAS,EAAE,EAAE;yBACd;qBACF;oBACD,WAAW,EAAE;wBACX,aAAa,EAAE,IAAI;wBACnB,SAAS,EAAE,IAAI;wBACf,KAAK,EAAE,EAAE;wBACT,SAAS,EAAE,EAAE;wBACb,YAAY,EAAE,CAAC;wBACf,QAAQ,EAAE,EAAE;wBACZ,YAAY,EAAE,CAAC;wBACf,SAAS,EAAE,EAAE;wBACb,QAAQ,EAAE,CAAC;wBACX,OAAO,EAAE,EAAE;wBACX,WAAW,EAAE,EAAE;wBACf,SAAS,EAAE,IAAI;wBACf,QAAQ,EAAE,IAAI;wBACd,MAAM,EAAE,IAAI;wBACZ,cAAc,EAAE,IAAI;qBACrB;iBACF;aACF,CAAC;YAEF,oBAAe,GAAQ,EAAE,CAAC;YAI1B,eAAU,GAAG,EAAE,CAAC;;gBAGR,IAAI,GAAG,IAAI;YACjB,IAAI,CAAC,YAAY,EAAE,CAAC,SAAS;;;eAAC,UAAC,KAAU;gBACvC,IAAI,KAAK,EAAE;oBACT,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,sCAAsC,CAAC,CAAC;oBAClF,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,sCAAsC,CAAC,CAAC;oBACjF,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,GAAG,KAAK,CAAC,sCAAsC,CAAC,CAAC;oBACzF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC,sCAAsC,CAAC,CAAC;oBAC/E,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC5C;;aAEF,EAAC,CAAC;SACJ;;;;;;;;;;;QAED,gDAAiB;;;;;;;;;;YAAjB,UAAkB,EAAU,EAAE,OAAe,EAAE,WAAgB,EAAE,gBAAqB,EAAE,MAAY,EAAE,UAAgB,EAAE,SAAe;gBACrI,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,EAAE;oBACrC,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,SAAS,GAAG,OAAO,CAAC,GAAG,WAAW,CAAC;oBAChE,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC;iBACpC;;oBACG,MAAM;gBACV,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;oBAC1C,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;iBAC9B;;oBACG,OAAO,GAAQ,EAAE;;gBAErB,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,SAAS,GAAG,OAAO,CAAC,EAAE;oBACrD,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,SAAS,GAAG,OAAO,CAAC,CAAC,CAAC;iBACxF;qBAAM;oBACL,OAAO,GAAG,UAAU,CAAC;iBACtB;gBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC3B,OAAO,IAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,GAAG,GAAG,GAAG,OAAO,EAAE,WAAW,EAAE,gBAAgB,EAAE,MAAM,CAAC,CAAC;aAC/G;;;;;;;;;;;;;;;;QAMD,wCAAS;;;;;;;;;;YAAT,UAAU,EAAU,EAAE,OAAe,EAAE,gBAAqB,EAAE,SAAe,EAAE,cAAoB,EAAE,SAAe;;oBAC5G,IAAI,GAAG,IAAI;gBACjB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,SAAS,IAAI,SAAS,KAAK,IAAI,EAAE;oBAC7E,OAAOC,OAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;iBAChC;qBAAM;;wBACC,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,EAAE,EAAE,cAAc,EAAE,SAAS,EAAE,gBAAgB,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,EAAE,cAAc,EAAE,gBAAgB,CAAC;oBACvL,OAAO,OAAO,CAAC,IAAI,CACjBC,aAAG;;;uBAAC,UAAA,KAAK;wBACP,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,QAAQ,EAAE;4BACjC,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;yBACvD;6BAAM,IAAI,KAAK,IAAI,KAAK,CAAC,YAAY,CAAC,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,EAAE;4BACvE,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE;gCACpC,OAAO,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;6BACzC;iCAAM;;oCACD,eAAe,GAAG,EAAE;gCACxB,IAAI,KAAK,CAAC,eAAe,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC,EAAE;oCAC/G,eAAe,GAAG,KAAK,CAAC,eAAe,CAAC,EAAE,CAAC;oCAC3C,OAAO,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,eAAe,CAAC,CAAC;iCACtD;qCAAM;oCACL,OAAO,IAAI,CAAC;iCACb;6BACF;yBACF;6BAAM;4BACL,OAAO,IAAI,CAAC;yBACb;qBACF,EAAC,CACH,CAAC;iBACH;aACF;;;;;;;;;;;;QAID,+CAAgB;;;;;;;;YAAhB,UAAiB,OAAe,EAAE,gBAAqB,EAAE,SAAe,EAAE,cAAoB;gBAA9F,iBAWC;;oBAVO,OAAO,GAAG,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,EAAE,EAAE,cAAc,EAAE,SAAS,EAAE,gBAAgB,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,EAAE,cAAc,EAAE,gBAAgB,CAAC;gBACvL,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;mBAAC;oBACF,IAAI,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE;wBACrE,OAAO,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;qBACtC;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;;QAOD,4CAAa;;;;;;;;YAAb,UAAc,OAAe,EAAE,MAAc,EAAE,cAAsB,EAAE,gBAAqB;;oBACpF,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,eAAe;gBACtD,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,gBAAgB,EAAE,EAAE,OAAO,SAAA,EAAE,MAAM,QAAA,EAAE,cAAc,gBAAA,EAAE,CAAC,CAAC;aACxF;;;;;;;;;;;;;;;;QAQD,uDAAwB;;;;;;;;;YAAxB,UAAyB,OAAe,EAAE,MAAc,EAAE,cAAsB,EAAE,SAAc,EAAE,gBAAqB;;oBAC/G,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,sBAAsB;gBAC7D,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,gBAAgB,EAAE,EAAE,OAAO,SAAA,EAAE,MAAM,QAAA,EAAE,cAAc,gBAAA,EAAE,SAAS,WAAA,EAAE,CAAC,CAAC;aACnG;;;;;;;;QAEO,yCAAU;;;;;;;YAAlB,UAAmB,GAAQ,EAAE,gBAAqB,EAAE,MAAW;;;oBACvD,IAAI,GAAG,IAAI;;oBACX,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC/E,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;oBACrB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;wBACvB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;wBAC5C,IAAI,CAAC,OAAO;;;2BAAC,UAAC,OAAY;4BACxB,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BACtD,IAAI,OAAO,CAAC,SAAS,KAAK,CAAC,EAAE;gCAC3B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;6BAChD;4BACD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;4BACtC,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;yBAC5G,EAAC,CAAC;;4BACC,cAAc,GAAG,EAAE;wBACvB,IAAI,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC,yBAAyB,CAAC,sBAAsB,EAAE;;gCACrF,MAAM,GAAQ,EAAE,OAAO,EAAE,MAAM,CAAC,OAAO,EAAE;4BAC/C,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC;4BAC/B,MAAM,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;4BACxC,IAAI,CAAC,yBAAyB,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;4BAC9D,IAAI,MAAM,CAAC,iBAAiB,CAAC,EAAE;gCAC7B,cAAc,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;6BAC5C;yBACF;;4BACK,eAAe,GAAQ,EAAE,UAAU,EAAE,CAAC,EAAE;wBAC9C,IAAI,cAAc,EAAE;4BAClB,eAAe,CAAC,EAAE,GAAG,cAAc,CAAC;yBACrC;wBACD,IAAI,cAAc,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;4BACpF,IAAIC,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,IAAIA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,MAAM,EAAE;gCACzE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,GAAGA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;6BACzE;iCAAM;gCACL,eAAe,CAAC,UAAU,GAAG,CAAC,CAAC;gCAC/B,IAAIA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,IAAIA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,MAAM,EAAE;oCACzE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,GAAGA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;iCACzE;qCAAM;oCACL,eAAe,CAAC,UAAU,GAAG,CAAC,CAAC;oCAC/B,IAAIA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,IAAIA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,MAAM,EAAE;wCACzE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,GAAGA,eAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;qCACzE;iCACF;6BACF;yBACF;wBACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;;4BAC5C,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;wBAC1F,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;wBAChH,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;wBACzI,OAAO,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;qBACrH;yBAAM;wBACL,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;4BACjC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC5D,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;wBAC5C,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;wBAC1F,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;wBAChH,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;wBAC9F,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;qBAC1E;iBACF,EAAC,CACH,CAAC;aACH;;;;;;QAEM,gDAAiB;;;;;YAAxB,UAAyB,SAAc,EAAE,OAAa;;oBAC9C,IAAI,GAAG,IAAI;;oBACb,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1D,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gBAC3D,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;gBACrE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,eAAe,EAAE,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC;gBACjM,OAAO,SAAS,CAAC;aAClB;;;;;;;QAEO,kDAAmB;;;;;;YAA3B,UAA4B,SAAc,EAAE,SAAc;gBACxD,IAAI;oBACF,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE;;4BAC/C,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;wBACvD,SAAS,CAAC,WAAW,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;wBACzG,SAAS,CAAC,WAAW,CAAC,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;wBAC5G,SAAS,CAAC,WAAW,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;wBACzG,SAAS,CAAC,WAAW,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;wBACzG,OAAO,SAAS,CAAC;qBAClB;iBACF;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBAChB;aACF;;;;;;;;;;;QAKD,yCAAU;;;;;;YAAV,UAAW,MAAW,EAAE,gBAAqB;gBAA7C,iBAaC;;oBAZO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,YAAY;;oBAC7C,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;;oBACrC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACxF,OAAO,OAAO,CAAC,IAAI,CACjBC,mBAAS;;mBAAC;oBACR,IAAI,MAAM,CAAC,SAAS,EAAE;wBACpB,OAAO,KAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;qBAClH;yBAAM;wBACL,OAAO,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,SAAS,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;qBACrF;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;;QAMD,2CAAY;;;;;;;;;YAAZ,UAAa,EAAU,EAAE,OAAe,EAAE,gBAAqB,EAAE,SAAe,EAAE,cAAoB;gBAAtG,iBAkBC;;oBAjBO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,cAAc;;oBAC/C,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,EAAE,IAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACtF,OAAO,OAAO,CAAC,IAAI,CACjBF,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;;4BAC/B,QAAQ,GAAG,SAAS,GAAG,KAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,EAAE,EAAE,cAAc,EAAE,SAAS,EAAE,gBAAgB,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,EAAE,cAAc,EAAE,gBAAgB,CAAC;wBACxL,OAAO,QAAQ,CAAC,IAAI,CAClBA,aAAG;;;2BAAC,UAAA,KAAK;4BACP,OAAO,IAAI,CAAC;yBACb,EAAC,CACH,CAAC;qBACH;yBAAM;wBACL,OAAOD,OAAE,CAAC,KAAK,CAAC,CAAC;qBAClB;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;QAKD,uCAAQ;;;;;;;;;YAAR,UAAS,EAAU,EAAE,OAAe,EAAE,WAAgB,EAAE,gBAAqB,EAAE,MAAY;;oBACnF,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;;oBAChC,KAAK,GAAG,EAAE;gBACd,IAAI,EAAE,KAAK,GAAG,EAAE;oBACd,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,EAAE;wBACrC,KAAK,GAAG,EAAE,EAAE,IAAA,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,MAAM,EAAE,CAAC,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC;wBACxF,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,oCAAoC,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;qBACvH;yBAAM;wBACL,IAAI,MAAM,EAAE;4BACV,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,uBAAuB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;yBAC9I;6BAAM;4BACL,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,GAAG,mBAAmB,EAAE,EAAE,EAAE,IAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;yBAClG;qBACF;iBACF;qBAAM;oBACL,WAAW,GAAG,WAAW,IAAI,WAAW,CAAC,MAAM,GAAG,WAAW,GAAG,EAAE,CAAC;oBACnE,KAAK,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,MAAM,EAAE,CAAC,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC;oBACpF,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,uBAAuB,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;iBAC1G;aACF;;;;;QAED,2CAAY;;;;YAAZ,UAAaI,YAAe;;oBACpB,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG;;oBAChC,KAAK,GAAG,EAAE;gBACd,IAAI,CAACA,YAAS,IAAI,CAACA,YAAS,CAAC,MAAM,EAAE;oBACnC,KAAK,GAAG;wBACN,SAAS,EAAE,CAAC,sCAAsC,EAAE,sCAAsC,EAAE,sCAAsC,EAAE,sCAAsC,CAAC;qBAC5K,CAAC;iBACH;qBAAM;oBACL,KAAK,GAAG;wBACN,SAAS,EAAEA,YAAS;qBACrB,CAAC;iBACH;gBACD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,kBAAkB,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;aACrG;;;;;QAED,gDAAiB;;;;YAAjB,UAAkB,IAAS;gBACzB,OAAO,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,KAAK,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,GAAG,CAAC,CAAC;aAC1F;;;;;;;QAGD,yCAAU;;;;;;YAAV,UAAW,WAAW;;oBAChB,OAAO,GAAG,EAAE;gBAChB,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,EAAE;oBACrC,OAAO,GAAG,WAAW,CAAC;iBACvB;gBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC5B;;;;;QAEO,oDAAqB;;;;YAA7B;gBACE,OAAO,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/D;;;;;;;;;;;QAKD,0DAA2B;;;;;;;YAA3B,UAA4B,OAAY,EAAE,SAAc,EAAE,QAAc;gBACtE,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE;oBACnD,IAAI,OAAO,IAAI,OAAO,CAAC,EAAE,KAAK,OAAO,CAAC,WAAW,KAAK,CAAC,IAAI,OAAO,CAAC,WAAW,KAAK,GAAG,IAAI,QAAQ,KAAK,CAAC,CAAC,EAAE;;4BACnG,cAAc,GAAG,QAAQ,KAAK,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC;;4BAC5F,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC;wBAC3F,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,GAAG,MAAM,CAAC;qBACnD;iBACF;aACF;;;;;;;;;;;QAIO,4CAAa;;;;;;;YAArB,UAAsB,OAAY,EAAE,OAAY;;oBACxC,UAAU,GAAG,EAAE;gBACrB,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,EAAE;oBAC7B,UAAU,CAAC,IAAI,OAAf,UAAU,WAAS,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAE;oBACxD,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;;4BAC7B,KAAK,GAAG,CAAC;;wBAEb,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;;gCACzC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;4BAChD,IAAI,CAAC,EAAE;gCACL,IAAI,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,KAAK,EAAE;oCACpF,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;iCAClB;6BACF;iCAAM;gCACL,IAAI,KAAK,IAAI,UAAU,CAAC,MAAM,EAAE;oCAC9B,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;iCAC/B;qCAAM;oCACL,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;iCAC3C;6BACF;4BACD,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE;gCACpB,KAAK,GAAG,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;6BAClC;iCAAM;gCACL,KAAK,IAAI,CAAC,CAAC;6BACZ;yBACF;qBACF;iBACF;qBAAM;oBACL,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;wBACjC,UAAU,CAAC,IAAI,OAAf,UAAU,WAAS,OAAO,GAAE;qBAC7B;iBACF;gBACD,OAAO,UAAU,CAAC;aACnB;;;;;;;QACO,wCAAS;;;;;;YAAjB,UAAkB,OAAY,EAAE,GAAQ;;oBAClC,MAAM,GAAG,IAAI;gBACjB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;;gBAEzB,KAAK,IAAI,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE;oBAChD,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC3D,IAAI,MAAM,IAAI,IAAI,EAAE;wBAClB,OAAO,MAAM,CAAC;qBACf;iBACF;gBACD,OAAO,MAAM,CAAC;aACf;;;;;;;;QACO,iDAAkB;;;;;;;YAA1B,UAA2B,GAAQ,EAAE,YAAiB,EAAE,SAAc;gBACpE,IAAI,YAAY,EAAE;oBAChB,IAAI,YAAY,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC,WAAW,CAAC,EAAE;wBAClD,OAAO,YAAY,CAAC;qBACrB;oBACD,IAAI,YAAY,CAAC,WAAW,CAAC,IAAI,YAAY,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;wBACrE,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,IAAI,EAAE,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC;qBACtE;yBAAM;wBACL,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC;qBAC3B;iBACF;qBAAM;;oBAEL,KAAK,IAAI,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE;wBAClD,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC,WAAW,CAAC,EAAE;4BACrD,OAAO,SAAS,CAAC,IAAI,CAAC,CAAC;yBACxB;wBACD,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;4BAC3E,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;yBACzE;6BAAM;4BACL,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC;yBAC3B;qBACF;iBACF;gBACD,OAAO,IAAI,CAAC;aACb;;;;;;;QACO,qDAAsB;;;;;;YAA9B,UAA+B,cAAmB,EAAE,eAAoB;gBACtE,IAAI,CAAC,cAAc,IAAI,CAAC,eAAe,EAAE;oBACvC,OAAO,IAAI,CAAC;iBACb;qBAAM,IAAI,CAAC,cAAc,IAAI,eAAe,EAAE;oBAC7C,OAAO,KAAK,CAAC;iBACd;qBAAM,IAAI,cAAc,IAAI,CAAC,eAAe,EAAE;oBAC7C,OAAO,KAAK,CAAC;iBACd;qBAAM,IAAI,cAAc,IAAI,eAAe,EAAE;oBAC5C,IAAI,cAAc,CAAC,MAAM,KAAK,eAAe,CAAC,MAAM,EAAE;wBACpD,OAAO,KAAK,CAAC;qBACd;yBAAM;wBACL,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,eAAe,CAAC,MAAM,KAAK,CAAC,EAAE;4BAC/D,OAAO,IAAI,CAAC;yBACb;6BAAM,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;4BACtC,OAAO,KAAK,CAAC;yBACd;6BAAM;4BACL,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gCAC9C,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,KAAK,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oCAChE,OAAO,KAAK,CAAC;iCACd;gCACD,OAAO,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;6BAC/F;4BACD,OAAO,KAAK,CAAC;yBACd;qBACF;iBACF;gBACD,OAAO,KAAK,CAAC;aACd;;oBAxfFP,aAAU;;;;;wBALF,cAAc;wBADdQ,wBAAc;qDA2GqEC,SAAM,SAAC,WAAW;wBAxGrG,yBAAyB,uBAwGqGC,WAAQ;;;QAoZ/I,2BAAC;KAzfD;;;;;;ACXA;QAmBE,oBACU,cAA8B,EAC9B,cAA8B,EACG,UAAkB,EAChB,WAAmB,EACnB,WAAmB;YAJtD,mBAAc,GAAd,cAAc,CAAgB;YAC9B,mBAAc,GAAd,cAAc,CAAgB;YACG,eAAU,GAAV,UAAU,CAAQ;YAChB,gBAAW,GAAX,WAAW,CAAQ;YACnB,gBAAW,GAAX,WAAW,CAAQ;YAbhE,mBAAc,GAAG,IAAIR,YAAO,EAAO,CAAC;YACpC,oBAAe,GAAG,IAAIA,YAAO,EAAO,CAAC;YACrC,8BAAyB,GAAG,IAAIA,YAAO,EAAO,CAAC;SAY1C;;;;;;QAEL,+BAAU;;;;;YAAV,UAAW,MAAW,EAAE,gBAAqB;;oBACrC,IAAI,GAAG,IAAI;;oBACb,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,CAAC,gBAAgB,GAAG,kCAAkC,GAAG,gBAAgB,IAAI,QAAQ,CAAC;iBAC/F;;oBACK,MAAM,GAAG;oBACb,YAAY,EAAE,kBAAkB;iBACjC;gBACD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;;oBAC9C,QAAQ,GAAG,MAAM,CAAC,eAAe,GAAG,OAAO;gBACjD,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;sBACjF,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;gBACpD,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI;;;mBAAC,UAAA,IAAI;oBAC3B,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC;;wBACzD,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;;;wBACvB,WAAW,GAAG,IAAI,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC;;;wBAChD,QAAQ,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC;oBAE5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBAC1C,QAAQ,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBACxC;;wBACK,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC;oBACvE,IAAI,UAAU,IAAI,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;;;4BACvC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;wBACzC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAC1B,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;wBAC7B,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBACvC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBACjC,KAAK,CAAC,KAAK,EAAE,CAAC;wBACd,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAChC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;qBAClC;yBAAM;wBACL,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;qBACtC;oBACD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;iBACtB;;;mBAAE,UAAA,KAAK;oBACN,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;iBACvD,EAAC,CAAC;aACJ;;;;;;QAED,mCAAc;;;;;YAAd,UAAe,MAAW,EAAE,gBAAqB;;oBACzC,IAAI,GAAG,IAAI;;oBACb,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,CAAC,gBAAgB,GAAG,kCAAkC,GAAG,gBAAgB,IAAI,QAAQ,CAAC;iBAC/F;;oBACK,MAAM,GAAG;oBACb,YAAY,EAAE,kBAAkB;iBACjC;gBACD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;gBACpD,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;gBACjB,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;sBACjF,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;gBACpD,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI;;;mBAAC,UAAA,IAAI;oBAC3B,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC;iBAGhE;;;mBAAE,UAAA,KAAK;oBACN,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;iBACvD,EAAC,CAAA;aACH;;;;;;QAED,mCAAc;;;;;YAAd,UAAe,MAAW,EAAE,gBAAqB;;oBACzC,IAAI,GAAG,IAAI;;oBACb,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,CAAC,gBAAgB,GAAG,kCAAkC,GAAG,gBAAgB,IAAI,OAAO,CAAC;iBAC9F;;oBAEK,MAAM,GAAG;oBACb,YAAY,EAAE,kBAAkB;iBACjC;gBACD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;gBACpD,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,QAAQ,GAAG,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,EAAE,GAAG,MAAM,CAAC,eAAe,GAAG,EAAE;;oBACzH,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;sBACjF,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;gBACpD,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI;;;mBAAC,UAAA,IAAI;oBAC3B,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC;;wBACzD,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;;;wBACvB,WAAW,GAAG,IAAI,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC;;;wBAChD,QAAQ,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC;oBAE5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBAC1C,QAAQ,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBACxC;;wBACK,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC;oBAC9D,IAAI,UAAU,IAAI,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;;;4BACvC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC;wBACzC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAC1B,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;wBAC7B,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBACvC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBACjC,KAAK,CAAC,KAAK,EAAE,CAAC;wBACd,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAChC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;qBAClC;yBAAM;wBACL,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;qBACtC;iBACF;;;mBAAE,UAAA,KAAK;oBACN,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;iBACvD,EAAC,CAAC;aACJ;;;;;;QAED,iCAAY;;;;;YAAZ,UAAa,MAAW,EAAE,gBAAqB;;oBACvC,IAAI,GAAG,IAAI;;oBACb,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,CAAC,gBAAgB,GAAG,kCAAkC,GAAG,gBAAgB,IAAI,OAAO,CAAC;iBAC9F;;oBAEK,MAAM,GAAG;oBACb,YAAY,EAAE,kBAAkB;iBACjC;gBACD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC;gBACpD,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,QAAQ,GAAG,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,EAAE,GAAG,MAAM,CAAC,eAAe,GAAG,EAAE;;oBACzH,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;sBACjF,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC;gBACpD,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI;;;mBAAC,UAAA,IAAI;oBAC3B,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC;;wBACzD,OAAO,GAAkB;wBAC7B,UAAU,EAAES,qBAAU,CAAC,KAAK;wBAC5B,QAAQ,EAAEC,mBAAQ,CAAC,GAAG;wBACtB,IAAI,EAAE,EAAE;wBACR,QAAQ,EAAE,EAAE;wBACZ,SAAS,EAAEC,oBAAS,CAAC,KAAK;wBAC1B,QAAQ,EAAE,KAAK;wBACf,WAAW,EAAE,EAAE;wBACf,YAAY,EAAE,IAAI;qBACnB;;wBACK,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;;;wBACvB,WAAW,GAAG,IAAI,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC;;;wBAChD,QAAQ,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC;oBAE5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBAC1C,QAAQ,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBACxC;;wBACK,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;oBACjC,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;iBAC/D;;;mBAAE,UAAA,KAAK;oBACN,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;iBACvD,EAAC,CAAC;aACJ;;;;;;QAED,4BAAO;;;;;YAAP,UAAQ,MAAW,EAAE,gBAAqB;;oBAClC,IAAI,GAAG,IAAI;;oBACb,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,gBAAgB,GAAG,uCAAuC,IAAI,gBAAgB,GAAG,WAAW,CAAC,CAAC;iBACvG;gBACD,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;sBACvG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC1E,OAAO,OAAO,CAAC,IAAI,CACjBT,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,EAAE;wBACR,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;wBACnD,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE;4BACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;yBACzC;wBACD,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;4BAC1B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yBAC3C;wBACD,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;4BAC/B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC;4BAC/C,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;yBAC1D;qBACF;oBACD,OAAO,IAAI,CAAC;iBACb,EAAC,CACH,CAAC;aACH;;;;;;QAED,2BAAM;;;;;YAAN,UAAO,MAAW,EAAE,gBAAqB;;oBAEnC,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,CAAC,gBAAgB,GAAG,kCAAkC,GAAG,gBAAgB,IAAI,UAAU,CAAC;iBACjG;gBACD,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;sBACvG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC1E,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,EAAE;wBACR,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;qBACpD;oBACD,OAAO,IAAI,CAAC;iBACb,EAAC,CACH,CAAC;aACH;;;;;;QAED,wCAAmB;;;;;YAAnB,UAAoB,MAAW,EAAE,gBAAqB;;oBAEhD,GAAG,GAAG,IAAI,CAAC,UAAU;gBACzB,IAAI,IAAI,CAAC,WAAW,EAAE;oBACpB,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC;iBACzB;qBAAM;oBACL,GAAG,IAAI,CAAC,gBAAgB,GAAG,qDAAqD,IAAI,gBAAgB,GAAG,qBAAqB,CAAC,CAAC;iBAC/H;gBACD,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;oBACpD,OAAO,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;sBACvG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC1E,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,MAAW;oBACd,IAAI,MAAM,EAAE;wBACV,MAAM,GAAG,CAAC,gBAAgB,GAAG,MAAM,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC;qBACnH;oBACD,OAAO,MAAM,CAAC;iBACf,EAAC,CACH,CAAC;aACH;;;;QAED,qCAAgB;;;YAAhB;;oBACQ,GAAG,GAAG,yDAAyD;;oBAC/D,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC9E,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,OAAO,IAAI,CAAC,QAAQ,CAAC;iBACtB,EAAC,CACH,CAAC;aACH;;;;;QAED,+BAAU;;;;YAAV,UAAW,MAAW;;oBAEd,GAAG,GAAG,IAAI,CAAC,UAAU,GAAG,4CAA4C;;oBACpE,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACvF,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,MAAW;oBACd,OAAO,MAAM,CAAC;iBACf,EAAC,CACH,CAAC;aACH;;;;;QAEO,0CAAqB;;;;YAA7B;gBACE,OAAO,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/D;;oBA9QFJ,aAAU;;;;;wBAJF,cAAc;wBADdQ,wBAAc;qDAkBlBC,SAAM,SAAC,WAAW,cAAGC,WAAQ;qDAC7BD,SAAM,SAAC,aAAa,cAAGC,WAAQ;qDAC/BD,SAAM,SAAC,aAAa,cAAGC,WAAQ;;;QAgQpC,iBAAC;KA/QD;;;;;;ACTA;;;;AAMA;;;;;;;QAKE,iCAAY,aAAgC;YAC1C,IAAI,CAAC,YAAY,GAAG,aAAa,CAAC;SACnC;;;;;;;;;;;;QAOM,6CAAW;;;;;;YAAlB,UAAmB,QAAgB,EAAE,SAAiB;gBACpD,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;aAC/C;;;;;;;;;;;;QAMM,4CAAU;;;;;;YAAjB,UAAkB,QAAgB,EAAE,GAAW;;oBACvC,OAAO,GAAkB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM;;;mBAAC,UAAA,IAAI,IAAI,OAAA,IAAI,GAAA,EAAC;gBAClE,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;aAC3C;;;;;;;;;;;;;;;;;;QASM,yDAAuB;;;;;;;;;YAA9B,UAA+B,QAAgB,EAAE,GAAW,EAAE,IAAa,EAAE,IAAa,EAAE,cAAuB;;oBAC3G,OAAO,GAAkB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM;;;mBAAC,UAAA,IAAI,IAAI,OAAA,IAAI,GAAA,EAAC;gBAClE,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,cAAc,CAAC,CAAC;aACvE;;;;;;;;;;;;;;;;;;;;QASO,oEAAkC;;;;;;;;;;;YAAzC,UAA0C,QAAgB,EAAE,GAAU,EAAE,IAAY,EAAE,IAAY,EAAE,SAAiB,EAAE,cAAsB,EAAE,UAAe;;oBACvJ,OAAO,GAAkB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM;;;mBAAC,UAAA,IAAI,IAAI,OAAA,IAAI,GAAA,EAAC;gBAClE,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,cAAc,EAAE,UAAU,CAAC,CAAC;aACzG;;;;;;;;;;;;;;;;;;;;;QASM,4CAAU;;;;;;;;;;;;YAAjB,UAAkB,QAAgB,EAAE,OAAiB,EAAE,IAAU,EAAE,IAAU,EAAE,cAAuB,EAAE,SAAkB,EAAE,cAAuB,EAAE,UAAgB;;oBAC7J,aAAa,GAAQ,IAAI,CAAC,kBAAkB,CAAC;oBACjD,OAAO,EAAE,OAAO;oBAChB,QAAQ,EAAE,QAAQ;iBACnB,CAAC;;oBAEI,aAAa,GAAkB,IAAI,CAAC,kBAAkB,EAAE;gBAE9D,IAAI,IAAI,EAAE;oBACR,aAAa,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBACxC;gBACD,IAAI,IAAI,EAAE;oBACR,aAAa,CAAC,kBAAkB,GAAG,IAAI,CAAC;iBACzC;gBACD,IAAI,OAAO,cAAc,KAAK,WAAW,EAAE;oBACzC,aAAa,CAAC,cAAc,GAAG,cAAc,CAAC;iBAC/C;gBACD,IAAI,SAAS,EAAE;oBACb,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;iBACrC;gBACD,IAAI,cAAc,EAAE;oBAClB,aAAa,CAAC,cAAc,GAAG,cAAc,CAAC;iBAC/C;gBACD,IAAI,UAAU,EAAE;oBACd,aAAa,CAAC,UAAU,GAAG,UAAU,CAAC;iBACvC;gBACD,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,aAAa,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;aAC5E;;;;;;;;;;;QAKO,oDAAkB;;;;;;YAA1B,UAA2B,OAAqE;;oBACxF,EAAE,GAAQ;oBACd,OAAO,EAAE,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI,SAAS;oBAChD,QAAQ,EAAE,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,SAAS;oBAClD,iBAAiB,EAAE,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,SAAS;oBACvD,kBAAkB,EAAE,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,SAAS;oBACxD,aAAa,EAAE,OAAO,IAAI,OAAO,CAAC,aAAa,IAAI,SAAS;oBAC5D,QAAQ,EAAE,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,SAAS;oBAClD,cAAc,EAAE,OAAO,IAAI,OAAO,CAAC,cAAc,IAAI,SAAS;oBAC9D,WAAW,EAAE,OAAO,IAAI,OAAO,CAAC,WAAW,IAAI,SAAS;oBACxD,WAAW,EAAE,OAAO,IAAI,OAAO,CAAC,WAAW,IAAI,SAAS;oBACxD,YAAY,EAAE,OAAO,IAAI,OAAO,CAAC,YAAY,IAAI,SAAS;oBAC1D,SAAS,EAAE,OAAO,IAAI,OAAO,CAAC,SAAS,IAAI,SAAS;oBACpD,cAAc,EAAE,OAAO,IAAI,OAAO,CAAC,cAAc,IAAI,SAAS;oBAC9D,SAAS,EAAE,OAAO,IAAI,OAAO,CAAC,SAAS,IAAI,SAAS;oBACpD,UAAU,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,IAAI,SAAS;iBACvD;gBACD,OAAO,EAAE,CAAC;aACX;;;;;;;;;;;QAKO,oDAAkB;;;;;;YAA1B,UAA2B,OAAiC;;oBACpD,EAAE,GAAkB;oBACxB,UAAU,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,IAAIC,qBAAU,CAAC,KAAK;oBAC7D,QAAQ,EAAE,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAIC,mBAAQ,CAAC,KAAK;oBACvD,IAAI,EAAE,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,SAAS;oBAC1C,QAAQ,EAAE,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,SAAS;oBAClD,QAAQ,EAAE,OAAO,IAAI,OAAO,CAAC,QAAQ,IAAI,SAAS;oBAClD,WAAW,EAAE,OAAO,IAAI,OAAO,CAAC,WAAW,IAAI,SAAS;oBACxD,YAAY,EAAE,OAAO,IAAI,OAAO,CAAC,YAAY,IAAI,SAAS;oBAC1D,SAAS,EAAE,OAAO,IAAI,OAAO,CAAC,SAAS,IAAIC,oBAAS,CAAC,IAAI;iBAC1D;gBACD,OAAO,EAAE,CAAC;aACX;QACH,8BAAC;IAAD,CAAC;;;;;;;QCpHC,oCAAoB,WAA2B,EAAU,cAA8B,EAA+B,IAAY;YAA9G,gBAAW,GAAX,WAAW,CAAgB;YAAU,mBAAc,GAAd,cAAc,CAAgB;YAA+B,SAAI,GAAJ,IAAI,CAAQ;YAL1H,QAAG,GAAG,wCAAwC,CAAC;YACvD,2BAAsB,GAAG,IAAIX,YAAO,EAAO,CAAC;YAE5C,yBAAoB,GAAQ,EAAE,CAAC;SAG9B;;;;;;;;;;;;;;QAOD,oDAAe;;;;;;;;YAAf,UAAgB,EAAU,EAAE,OAAe,EAAE,gBAAqB,EAAE,IAAgB;gBAAhB,qBAAA;oBAAA,QAAgB;;;oBAC5E,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,gBAAgB,EAAE,IAAI,CAAC;gBACrF,OAAO,OAAO,CAAC,IAAI,CACjBE,aAAG;;;mBAAC,UAAA,KAAK;oBACP,IAAI,KAAK,IAAI,KAAK,CAAC,EAAE,CAAC,EAAE;wBACtB,OAAO,KAAK,CAAC,EAAE,CAAC,CAAC;qBAClB;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;;;;QAQD,wDAAmB;;;;;;;;;;YAAnB,UAAoB,OAAe,EAAE,YAAiB,EAAE,MAAc,EAAE,YAAoB,EAAE,gBAAqB,EAAE,SAAqB;gBAA1I,iBAkBC;gBAlBoH,0BAAA;oBAAA,aAAqB;;;oBAClI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,qBAAqB;;oBACtD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,OAAO,SAAA,EAAE,YAAY,cAAA,EAAE,MAAM,QAAA,EAAE,YAAY,cAAA,EAAE,SAAS,WAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACvI,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;wBACvB,IAAI,CAAC,OAAO;;;2BAAC,UAAC,OAAY;4BACxB,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;4BACxD,KAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,OAAO,CAAC;yBAC3D,EAAC,CAAC;wBACH,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE,aAAa,EAAE,KAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;wBAC/E,OAAO,KAAI,CAAC,oBAAoB,CAAC;qBAClC;yBAAM;wBACL,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;wBAC1D,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;QAKD,qDAAgB;;;;;;YAAhB,UAAiB,YAAiB,EAAE,gBAAqB;gBAAzD,iBAWC;;oBAVO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,kBAAkB;;oBACnD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC9F,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;mBAAC;oBACF,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;oBAClE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,oBAAoB,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE;wBAC7E,KAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,YAAY,CAAC;qBACrE;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;QAMD,uDAAkB;;;;;;;YAAlB,UAAmB,YAAoB,EAAE,OAAe,EAAE,gBAAqB;gBAA/E,iBAYC;;oBAXO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,oBAAoB;;oBACrD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,YAAY,EAAE,YAAY,EAAE,OAAO,SAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACvH,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,KAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;qBAChD;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;QAMD,wDAAmB;;;;;YAAnB,UAAoB,EAAU;;oBACtB,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,qCAAqC,GAAG,EAAE;;oBAChE,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAE/E,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,EAAE;wBACR,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;QAEO,0DAAqB;;;;YAA7B;gBACE,OAAO,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/D;;oBA7GFJ,aAAU;;;;;wBAJF,cAAc;wBADdQ,wBAAc;qDAYqEC,SAAM,SAAC,WAAW;;;QAuG9G,iCAAC;KA9GD;;;;;;;QCOE,wCAAoB,WAA2B,EAAU,cAA8B,EAA+B,IAAY;YAA9G,gBAAW,GAAX,WAAW,CAAgB;YAAU,mBAAc,GAAd,cAAc,CAAgB;YAA+B,SAAI,GAAJ,IAAI,CAAQ;YAL1H,QAAG,GAAG,yCAAyC,CAAC;YACxD,+BAA0B,GAAG,IAAIP,YAAO,EAAO,CAAC;YAEhD,6BAAwB,GAAQ,EAAE,CAAC;SAGlC;;;;;;;;;;;;;QAOD,4DAAmB;;;;;;;YAAnB,UAAoB,QAAgB,EAAE,OAAe,EAAE,gBAAqB;;oBACpE,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,gBAAgB,CAAC;gBACzF,OAAO,OAAO,CAAC,IAAI,CACjBE,aAAG;;;mBAAC,UAAA,KAAK;oBACP,IAAI,KAAK,IAAI,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC,EAAE;wBACtC,OAAO,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC;qBAClC;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;;;;QASD,gEAAuB;;;;;;;;;YAAvB,UAAwB,OAAe,EAAE,QAAa,EAAE,MAAc,EAAE,YAAoB,EAAE,gBAAqB;gBAAnH,iBAkBC;;oBAjBO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,yBAAyB;;oBAC1D,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,OAAO,SAAA,EAAE,QAAQ,UAAA,EAAE,MAAM,QAAA,EAAE,YAAY,cAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACxH,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;wBACvB,IAAI,CAAC,OAAO;;;2BAAC,UAAC,OAAY;4BACxB,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;4BAChE,KAAI,CAAC,wBAAwB,CAAC,QAAQ,GAAG,OAAO,CAAC,GAAG,OAAO,CAAC;yBAC7D,EAAC,CAAC;wBACH,KAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,EAAE,wBAAwB,EAAE,KAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC;wBAClG,OAAO,KAAI,CAAC,wBAAwB,CAAC;qBACtC;yBAAM;wBACL,KAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,EAAE,wBAAwB,EAAE,IAAI,EAAE,CAAC,CAAC;wBACzE,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;QAKD,6DAAoB;;;;;;YAApB,UAAqB,OAAY,EAAE,gBAAqB;gBAAxD,iBAYC;;oBAXO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,sBAAsB;;oBACvD,WAAW,GAAG,OAAO;;oBACrB,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7F,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;mBAAC;oBACF,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;oBAChE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,wBAAwB,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,EAAE;wBAC1F,KAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;qBAC7E;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;QAMD,+DAAsB;;;;;;;YAAtB,UAAuB,QAAgB,EAAE,OAAe,EAAE,gBAAqB;gBAA/E,iBAYC;;oBAXO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,wBAAwB;;oBACzD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,QAAQ,UAAA,EAAE,OAAO,SAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACrG,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,KAAI,CAAC,wBAAwB,CAAC,QAAQ,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC;qBAC1D;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;iBACF,EAAC,CACH,CAAC;aACH;;;;;QAEO,8DAAqB;;;;YAA7B;gBACE,OAAO,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/D;;oBA5FFJ,aAAU;;;;;wBAJF,cAAc;wBADdQ,wBAAc;qDAYqEC,SAAM,SAAC,WAAW;;;QAuF9G,qCAAC;KA9FD;;;;;;;QCUE,mCAAoB,WAA2B,EAAU,cAA8B,EAA+B,IAAY;YAA9G,gBAAW,GAAX,WAAW,CAAgB;YAAU,mBAAc,GAAd,cAAc,CAAgB;YAA+B,SAAI,GAAJ,IAAI,CAAQ;YAP1H,QAAG,GAAG,mCAAmC,CAAC;YAC1C,aAAQ,GAAG,iCAAiC,CAAC;YAC7C,WAAM,GAAG,kCAAkC,CAAC;YACpD,0BAAqB,GAAG,IAAIP,YAAO,EAAO,CAAC;YAE3C,wBAAmB,GAAQ,EAAE,CAAC;;SAI7B;;;;;;;;;;;;;QAOD,kDAAc;;;;;;;YAAd,UAAe,MAAc,EAAE,OAAe,EAAE,gBAAqB;;oBAC7D,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,gBAAgB,CAAC;gBAClF,OAAO,OAAO,CAAC,IAAI,CACjBE,aAAG;;;mBAAC,UAAA,KAAK;oBACP,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,EAAE;wBACpC,OAAO,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,CAAC;qBAChC;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;QAED,mDAAe;;;;;;YAAf,UAAgB,iBAAsB,EAAE,gBAAqB,EAAE,UAAe;;oBACtE,QAAQ,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,GAAG,gBAAgB,CAAC,GAAG,cAAc;;oBAE5F,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,iBAAiB,EAAC,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC/G,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;;;wBACN,eAAe,GAAG,EAAE;oBAC1B,IAAI,IAAI,EAAE;wBACR,IAAI,GAAG,CAAC,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;wBACnD,IAAI,CAAC,gBAAgB,EAAE;;gCACrB,KAAqB,IAAA,eAAAU,SAAA,UAAU,CAAA,sCAAA,8DAAE;oCAA5B,IAAM,MAAM,uBAAA;oCACf,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,IAAI,EAAE;wCACxD,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;qCAC9B;iCACF;;;;;;;;;;;;;;;yBACF;6BACI;oDACQ,MAAM;;oCACT,IAAI,GAAG,IAAI,CAAC,IAAI;;;mCAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,GAAA,EAAC;gCAC/C,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;oCACjC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iCAC9B;;;gCAJH,KAAqB,IAAA,eAAAA,SAAA,UAAU,CAAA,sCAAA;oCAA1B,IAAM,MAAM,uBAAA;4CAAN,MAAM;iCAKhB;;;;;;;;;;;;;;;yBACF;qBACF;oBAED,OAAO,eAAe,CAAC;iBACxB,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;;;QAQD,sDAAkB;;;;;;;;;YAAlB,UAAmB,MAAW,EAAE,OAAe,EAAE,MAAc,EAAE,YAAoB,EAAE,gBAAqB;gBAA5G,iBAkBC;;oBAjBO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,eAAe;;oBAChD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,MAAM,QAAA,EAAE,OAAO,SAAA,EAAE,MAAM,QAAA,EAAE,YAAY,cAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACtH,OAAO,OAAO,CAAC,IAAI,CACjBV,aAAG;;;mBAAC,UAAC,IAAS;;oBAEZ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;wBACvB,IAAI,CAAC,OAAO;;;2BAAC,UAAC,OAAY;4BACxB,KAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;yBACtE,EAAC,CAAC;wBACH,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE,mBAAmB,EAAE,KAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;wBACnF,OAAO,KAAI,CAAC,mBAAmB,CAAC;qBACjC;yBAAM;wBACL,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC,CAAC;wBAC/D,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;QAKD,mDAAe;;;;;;YAAf,UAAgB,WAAgB,EAAE,gBAAqB;gBAAvD,iBAaC;;oBAZO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,gBAAgB;;oBACjD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC7F,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,KAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC,GAAG,WAAW,CAAC;wBACjF,OAAO,IAAI,CAAC;qBAEb;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;iBACF,EAAC,CAAC,CAAC;aACP;;;;;;;;;;;;QAKD,qDAAiB;;;;;;;YAAjB,UAAkB,MAAW,EAAE,OAAe,EAAE,gBAAqB;gBAArE,iBAaC;;oBAZO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,mBAAmB;;oBACpD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,MAAM,QAAA,EAAE,OAAO,SAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACnG,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,KAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC;wBAClD,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;iBACF,EAAC,CACH,CAAC;aACH;;;;QAED,mDAAe;;;YAAf;;oBACQ,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,mBAAmB,EAAE,CAAC;gBACtF,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,OAAO,IAAI,CAAC;iBACb,EAAC,CACH,CAAC;aACH;;;;;QAEO,yDAAqB;;;;YAA7B;gBACE,OAAO,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/D;;oBAvIFJ,aAAU;;;;;wBALF,cAAc;wBADdQ,wBAAc;qDAeqEC,SAAM,SAAC,WAAW;;;QA+H9G,gCAAC;KAxID;;;;;;ACVA;;;AAEA;QAAA;SAcC;;oBAdAT,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;sCAJD;KAEA;;;;;;ACFA;;;AAEA;QAAA;SAQC;;oBARAA,aAAU,SAAC;wBACV,UAAU,EAAE,MAAM;qBACnB;;;uCAJD;KAEA;;;;;;;QCeE,8BAAoB,WAA2B,EAAU,cAA8B,EAA+B,IAAY;YAA9G,gBAAW,GAAX,WAAW,CAAgB;YAAU,mBAAc,GAAd,cAAc,CAAgB;YAA+B,SAAI,GAAJ,IAAI,CAAQ;YAN1H,QAAG,GAAG,kCAAkC,CAAC;YACjD,qBAAgB,GAAG,IAAIE,YAAO,EAAO,CAAC;YACtC,gBAAW,GAAG,IAAIA,YAAO,EAAE,CAAC;;YAE5B,mBAAc,GAAQ,EAAE,CAAC;;SAIxB;;;;;;;;;;;;;;;QAOD,wCAAS;;;;;;;;;YAAT,UAAU,EAAU,EAAE,OAAe,EAAE,gBAAqB,EAAE,SAAiB,EAAE,SAAe;;oBACxF,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,gBAAgB,EAAE,SAAS,CAAC;gBAC3F,OAAO,OAAO,CAAC,IAAI,CACjBE,aAAG;;;mBAAC,UAAA,KAAK;oBACP,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE;wBAC3B,OAAO,KAAK,CAAC,OAAO,CAAC,CAAC;qBACvB;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;;;;QAQD,4CAAa;;;;;;;;;;YAAb,UAAc,OAAe,EAAE,YAAiB,EAAE,SAAiB,EAAE,YAAoB,EAAE,gBAAqB,EAAE,SAAqB;gBAAvI,iBAkBC;gBAlBiH,0BAAA;oBAAA,aAAqB;;;oBAC/H,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,eAAe;;oBAChD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,OAAO,SAAA,EAAE,YAAY,cAAA,EAAE,SAAS,WAAA,EAAE,YAAY,cAAA,EAAE,SAAS,WAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAC1I,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;wBACvB,IAAI,CAAC,OAAO;;;2BAAC,UAAC,OAAY;4BACxB,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;4BAC5C,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;yBAChD,EAAC,CAAC;wBACH,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,aAAa,EAAE,KAAI,CAAC,cAAc,EAAE,CAAC,CAAC;wBACnE,OAAO,KAAI,CAAC,cAAc,CAAC;qBAC5B;yBAAM;wBACL,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;wBACpD,OAAO,IAAI,CAAC;qBACb;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;QAKD,yCAAU;;;;;;YAAV,UAAW,MAAW,EAAE,gBAAqB;gBAA7C,iBAWC;;oBAVO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,YAAY;;oBAC7C,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACxF,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;mBAAC;oBACF,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;oBAC1C,IAAI,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;wBAC5D,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC;qBAC9C;iBACF,EAAC,CACH,CAAC;aACH;;;;;;;;;;;;;;QAMD,2CAAY;;;;;;;;YAAZ,UAAa,YAAoB,EAAE,OAAe,EAAE,gBAAqB,EAAE,SAAiB;gBAA5F,iBAYC;;oBAXO,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,cAAc;;oBAC/C,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,YAAY,EAAE,YAAY,EAAE,OAAO,SAAA,EAAE,SAAS,WAAA,EAAE,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBAClI,OAAO,OAAO,CAAC,IAAI,CACjBA,aAAG;;;mBAAC,UAAC,IAAS;oBACZ,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;qBACrC;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;iBACF,EAAC,CACH,CAAC;aACH;;;;;QAEO,oDAAqB;;;;YAA7B;gBACE,OAAO,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aAC/D;;oBA5FFJ,aAAU;;;;;wBAJF,cAAc;wBADdQ,wBAAc;qDAaqEC,SAAM,SAAC,WAAW;;;QAqF9G,2BAAC;KA7FD;;;;;;ACPA;QAAA;SAuCC;;;;;;;QApCQ,iBAAQ;;;;;;YAAf,UAAgB,SAAiB,EAAE,OAAa,EAAE,OAAgB;gBAAlE,iBAmBC;gBAlBC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;oBAC7B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;iBAC/B;;oBAEG,EAAE,GAAG,OAAO;gBAChB,IAAI,CAAC,EAAE,EAAE;oBACP,EAAE,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;iBAClB;gBACD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;;oBAEjC,WAAW;;mBAAG;oBAClB,OAAO,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;oBACpC,IAAI,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;wBACtD,OAAO,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;qBACjC;iBACF,CAAA;gBAED,OAAO,WAAW,CAAC;aACpB;;;;;;QAEM,iBAAQ;;;;;YAAf,UAAgB,SAAiB,EAAE,IAAS;gBAA5C,iBAMC;gBALC,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;oBAC5B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO;;;uBAAC,UAAA,GAAG;wBAC/C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;qBACrC,EAAC,CAAC;iBACJ;aACF;;;;QAEM,aAAI;;;YAAX;;;;gBACE,SAAS,EAAE;;oBAET,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,OAAO,IAAI,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;iBACxE;gBACD,QAAQ,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;aACxF;QArCa,iBAAQ,GAAQ,EAAE,CAAC;QAsCnC,eAAC;KAvCD;;;;;;ACFA;QAAA;SAqDC;;;;;QApDU,eAAK;;;;YAAZ,UAAa,MAAM;gBACf,OAAO,MAAM,IAAI,QAAQ,MAAM,CAAC,IAAI,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,IAAI,iBAAiB,CAAC;aAC7H;;;;;QAEM,iBAAO;;;;YAAd,UAAe,MAAM;gBACjB,OAAO,MAAM,IAAI,QAAQ,MAAM,CAAC,IAAI,QAAQ,IAAI,MAAM,CAAC,WAAW,IAAI,KAAK,CAAC;aAC/E;;;;;QAEM,mBAAS;;;;YAAhB,UAAiB,MAAM;;oBACf,KAAK,GAAG,CAAC;gBACb,KAAK,IAAI,CAAC,IAAI,MAAM;oBAAE,KAAK,EAAE,CAAC;gBAC9B,OAAO,KAAK,CAAC;aAChB;;;;;;QACM,iBAAO;;;;;YAAd,UAAe,IAAI,EAAE,IAAI;gBACrB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;oBAAE,OAAO,KAAK,CAAC;gBACnE,IAAI,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC;oBAAE,OAAO,KAAK,CAAC;gBACzE,OAAO,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aACjD;;;;;;;;QAEc,oBAAU;;;;;;;YAAzB,UAA0B,IAAI,EAAE,IAAI,EAAE,IAAI;gBACtC,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;oBAClB,IAAI,CAAC,IAAI;wBACL,MAAM;oBACV,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;wBAC3B,IAAI,GAAG,KAAK,CAAC;wBACb,MAAM;qBACT;oBACD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;wBAC/B,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE;4BACxB,IAAI,GAAG,KAAK,CAAC;4BACb,MAAM;yBACT;qBACJ;yBAAM;wBACH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;4BAC/B,IAAI,GAAG,KAAK,CAAC;4BACb,MAAM;yBACT;;4BACG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;;4BACd,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;wBAClB,IAAI,EAAE,CAAC,MAAM,IAAI,EAAE,CAAC,MAAM,EAAE;4BACxB,IAAI,GAAG,KAAK,CAAC;4BACb,MAAM;yBACT;wBACD,KAAK,IAAI,CAAC,IAAI,EAAE,EAAE;4BACd,IAAI,CAAC,IAAI;gCACL,MAAM;4BACV,IAAI,GAAG,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;yBACnD;qBACJ;iBACJ;gBACD,OAAO,IAAI,CAAC;aACf;QACL,gBAAC;IAAD,CAAC;;;;;;ACrDD;QAAA;SAUC;;;;;;QAPiB,qBAAQ;;;;;YAAtB,UAAuB,GAAW,EAAE,KAAU;gBAC1C,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;aACzC;;;;;QAEa,qBAAQ;;;;YAAtB,UAAuB,GAAW;gBAC9B,OAAO,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACzC;QARc,qBAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;QASxC,mBAAC;KAVD;;;;;;ACAA;QAUA;SAwBC;;;;QAdQ,uBAAO;;;YAAd;gBACE,OAAO;oBACL,QAAQ,EAAE,eAAe;oBACzB,SAAS,EAAE;wBACTD,wBAAc;wBACd,oBAAoB;wBACpB,cAAc;wBACd,UAAU;wBACV,0BAA0B;wBAC1B,yBAAyB;wBACzB,8BAA8B;qBAC/B;iBACF,CAAC;aACH;;oBAvBFO,WAAQ,SAAC;wBACR,OAAO,EAAE;4BACPC,mBAAY;yBACb;wBACD,YAAY,EAAE,EACb;wBACD,OAAO,EAAE,EACR;qBACF;;QAgBD,sBAAC;KAxBD;;;;;;ACVA;QAeE;YATQ,gBAAW,GAAG,KAAK,CAAC;YACpB,cAAS,GAAG,EAAE,CAAC;YAIf,kBAAa,GAAG,KAAK,CAAC;YAEvB,kBAAa,GAAG,IAAId,YAAO,EAAO,CAAC;SAE1B;;;;;QAEhB,8CAAgB;;;;YAAhB,UAAiB,KAAc;gBAC7B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC1B;;;;QAED,8CAAgB;;;YAAhB;gBACE,OAAO,IAAI,CAAC,WAAW,CAAC;aACzB;;;;;QAED,yCAAW;;;;YAAX,UAAY,KAAa;gBACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;aACtC;;;;QAED,yCAAW;;;YAAX;gBACE,OAAO,IAAI,CAAC,SAAS,CAAC;aACvB;;;;;QAED,6CAAe;;;;YAAf,UAAgB,KAAe;gBAC7B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B;;;;QAED,6CAAe;;;YAAf;gBACE,OAAO,IAAI,CAAC,aAAa,CAAC;aAC3B;;;;;QAED,2CAAa;;;;YAAb,UAAc,UAAkB;gBAC9B,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;aAC/B;;;;QAED,2CAAa;;;YAAb;gBACE,OAAO,IAAI,CAAC,WAAW,CAAC;aACzB;;;;;QAED,8CAAgB;;;;YAAhB,UAAiB,aAAqB;gBACpC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;aACrC;;;;QAED,8CAAgB;;;YAAhB;gBACE,OAAO,IAAI,CAAC,cAAc,CAAC;aAC5B;;;;;QAED,6CAAe;;;;YAAf,UAAgB,KAAc;gBAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B;;;;QAED,6CAAe;;;YAAf;gBACE,OAAO,IAAI,CAAC,aAAa,CAAC;aAC3B;;oBA5DFF,aAAU;;;;QA8DX,0BAAC;KA9DD;;;;;;;ACHA,QAAa,SAAS,GAAG,mBAAmB;;AAC5C,QAAa,cAAc,GAAG,kBAAkB;;AAChD,QAAa,cAAc,GAAG,MAAM;;AACpC,QAAa,WAAW,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;;;;;;ACHnD;QAmCE,+BAAoB,WAAgC,EAAU,SAAoB,EAAE,YAAwB;YAAxF,gBAAW,GAAX,WAAW,CAAqB;YAAU,cAAS,GAAT,SAAS,CAAW;YApBzE,YAAO,GAAG,EAAE,CAAC;YAIZ,iBAAY,GAAG,IAAIiB,eAAY,EAAa,CAAC;YAC7C,eAAU,GAAG,IAAIA,eAAY,EAAmB,CAAC;YACjD,gBAAW,GAAG,IAAIA,eAAY,EAAS,CAAC;YAExC,aAAQ,GAAG,IAAIA,eAAY,EAAa,CAAC;YACzC,cAAS,GAAG,IAAIA,eAAY,EAAa,CAAC;YAC1C,cAAS,GAAG,IAAIA,eAAY,EAAa,CAAC;YAC1C,gBAAW,GAAG,IAAIA,eAAY,EAAa,CAAC;YAUpD,IAAI,YAAY,EAAE;gBAChB,IAAI,CAAC,cAAc,GAAG,YAAY,CAAC,aAAa,CAAC;aAClD;SACF;QAXD,sBACI,4CAAS;;;gBADb;gBAEE,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;aACzB;;;WAAA;;;;QAUD,wCAAQ;;;YAAR,eAAa;;;;;QAGb,2CAAW;;;;YADX,UACY,KAAK;gBADjB,iBAkDC;gBAhDC,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;gBACrC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;oBACnB,OAAO,IAAI,CAAC;iBACb;gBACD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBACxC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;oBACrC,QAAQ,GAAG,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC;;gBAE3G,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBACvC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE3E,KAAK,CAAC,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;gBACvE,IAAI;oBACF,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;iBACzE;gBAAC,OAAO,CAAC,EAAE;;wBACJ,IAAI,GAAG;wBACX,IAAI,EAAE,IAAI,CAAC,YAAY;wBACvB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;qBACrC;oBAED,IAAI;;wBAEF,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;qBAElE;oBAAC,OAAO,CAAC,EAAE;;;;wBAIV,KAAK,CAAC,YAAY,CAAC,aAAa,GAAG,MAAM,CAAC;wBAC1C,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;qBAClE;iBACF;gBACD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;gBAC5D,UAAU;;mBAAC,cAAM,OAAA,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAI,CAAC,cAAc,EAAE,mBAAmB,CAAC,GAAA,GAAE,CAAC,CAAC,CAAC;;gBAEvF,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,YAAY,CAAC,YAAY,EAAE;oBACvD,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC5D;;gBAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAE9B,IAAI,IAAI,CAAC,WAAW,EAAE;;wBACd,UAAQ,GAAG,IAAI,CAAC,WAAW;oBACjC,IAAI,CAAC,WAAW,CAAC,eAAe;;;uBAAC,UAAU,MAAM;wBAC/C,OAAO,UAAQ,CAAC,MAAM,CAAC,CAAC;qBACzB,EAAC,CAAC;iBACJ;gBACD,KAAK,CAAC,eAAe,EAAE,CAAC;aACzB;;;;;QAGD,yCAAS;;;;YADT,UACU,KAAgB;gBAD1B,iBAoBC;;oBAlBO,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE;;oBAC7C,EAAE,GAAG,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,aAAa,EAAE;gBAC1F,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACjC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;oBACnB,KAAK,EAAE,KAAK;oBACZ,UAAU,EAAE,UAAU;iBACvB,CAAC,CAAC;;gBAGH,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACzC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBAC5C,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;gBACxC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;gBAC/D,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,mBAAmB,CAAC,CAAC;gBACrE,KAAK,CAAC,eAAe,EAAE,CAAC;;gBAGxB,UAAU;;mBAAC,cAAM,OAAA,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,EAAE,mBAAmB,CAAC,GAAA,GAAE,CAAC,CAAC,CAAC;aAC3F;;;;;QAGD,qCAAK;;;;YADL,UACM,KAAiB;gBACrB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;gBAE7B,KAAK,CAAC,eAAe,EAAE,CAAC;aACzB;;oBAlHFC,YAAS,SAAC;wBACT,QAAQ,EAAE,gBAAgB;qBAC3B;;;;;wBANQ,mBAAmB;wBAFAC,YAAS;wBAArBC,aAAU;;;;mCAWvBC,QAAK;iCACLA,QAAK;8BACLA,QAAK;kCACLA,QAAK;uCACLA,QAAK;mCAELC,SAAM;iCACNA,SAAM;kCACNA,SAAM;+BAENA,SAAM;gCACNA,SAAM;gCACNA,SAAM;kCACNA,SAAM;gCAENC,cAAW,SAAC,WAAW;kCAevBC,eAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;gCAoDpCA,eAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;4BAsBlCA,eAAY,SAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;;QAOnC,4BAAC;KApHD;;;;;;;QCmCG,0BAAoB,GAAe,EAAU,SAAoB,EAAU,WAAgC;YAAvF,QAAG,GAAH,GAAG,CAAY;YAAU,cAAS,GAAT,SAAS,CAAW;YAAU,gBAAW,GAAX,WAAW,CAAqB;YAvBlG,eAAU,GAAG,KAAK,CAAC;YAQlB,kBAAa,GAAG,IAAIP,eAAY,EAAO,CAAC;YAExC,gBAAW,GAAG,IAAIA,eAAY,EAAgB,CAAC;YAC/C,YAAO,GAAG,IAAIA,eAAY,EAAgB,CAAC;YAC3C,gBAAW,GAAG,IAAIA,eAAY,EAAgB,CAAC;YAKjD,kBAAa,GAAQ,EAAE,CAAC;YAExB,qBAAgB,GAAG,KAAK,CAAC;YAEzB,aAAQ,GAAG,CAAC,CAAC;YAGlB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC;SAC/C;;;;QAED,mCAAQ;;;YAAR;;oBACS,WAAW,GAAG,IAAI,CAAC,sBAAsB,EAAE;gBACjD,WAAW,CAAC,MAAM,EAAE,CAAC;gBACrB,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC;gBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC;aACvC;;;;;QAGD,sCAAW;;;;YADX,UACY,KAAK;gBACd,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;gBACrC,IAAI,CAAC,aAAa,GAAG;oBAClB,YAAY,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;oBAC5G,QAAQ,EAAE,IAAI,CAAC,UAAU;oBACzB,eAAe,EAAE,IAAI,CAAC,kBAAkB;oBACxC,UAAU,EAAE,IAAI,CAAC,iBAAiB;iBACpC,CAAC;;oBACI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;gBAC5D,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE;oBACjE,OAAO,IAAI,CAAC;iBACd;gBACD,KAAK,CAAC,cAAc,EAAE,CAAC;aACzB;;;;;QAGD,qCAAU;;;;YADV,UACW,KAAK;gBACb,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;;;oBAE/B,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;;oBACtD,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;gBAC5C,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;oBAC9C,OAAO,IAAI,CAAC;iBACd;;gBAED,IAAI,IAAI,CAAC,gBAAgB,CAAC,UAAU,KAAK,IAAI,CAAC,SAAS,EAAE;oBACtD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBACzE;gBAED,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,SAAS,EAAE;;;wBAE9B,YAAY,GAAG,KAAK,CAAC,MAAM;oBAC/B,OAAO,YAAY,CAAC,UAAU,KAAK,IAAI,CAAC,SAAS,IAAI,YAAY,CAAC,UAAU,EAAE;wBAC3E,YAAY,GAAG,YAAY,CAAC,UAAU,CAAC;qBACzC;oBAED,IAAI,YAAY,CAAC,UAAU,KAAK,IAAI,CAAC,SAAS,IAAI,YAAY,KAAK,IAAI,CAAC,gBAAgB,EAAE;;;;4BAGjF,IAAI,GAAG,YAAY,CAAC,qBAAqB,EAAE;;4BAC7C,WAAW,SAAA;wBACf,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;4BAChC,WAAW,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;yBAC3D;6BAAM;4BACJ,WAAW,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;yBAC3D;wBACD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,gBAAgB,EAC9C,WAAW,GAAG,YAAY,GAAG,YAAY,CAAC,WAAW,CAAC,CAAC;qBAC5D;iBACH;;;;;oBAKK,kBAAkB,GAAG,QAAQ,KAAK,cAAc;;oBAChD,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,kBAAkB,CAAC;gBAEjE,IAAI,UAAU,KAAK,MAAM,EAAE;oBACxB,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC9B;;;gBAID,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;gBAC3E,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACxB,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC9B;;;gBAID,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,kBAAkB,EAAE;oBACtB,KAAK,CAAC,YAAY,CAAC,UAAU,GAAG,UAAU,CAAC;iBAC7C;gBAED,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;gBAC5D,KAAK,CAAC,eAAe,EAAE,CAAC;gBACxB,OAAO,KAAK,CAAC;aACf;;;;;QAGD,iCAAM;;;;YADN,UACO,KAAK;gBACT,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;;;oBAE/B,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC;;oBACxD,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;gBAC1C,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;oBAC9C,OAAO,IAAI,CAAC;iBACd;;;gBAGD,KAAK,CAAC,cAAc,EAAE,CAAC;;;oBAGnB,IAAI;gBACR,IAAI;oBACD,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAC1D;gBAAC,OAAO,CAAC,EAAE;oBACT,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC9B;;gBAGD,IAAI,QAAQ,KAAK,cAAc,IAAI,QAAQ,KAAK,cAAc,EAAE;oBAC7D,QAAQ,GAAG,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC;oBAClC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;oBACjB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;wBACjC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;qBAC9B;iBACH;;;oBAGK,kBAAkB,GAAG,QAAQ,KAAK,cAAc;;oBAChD,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,kBAAkB,CAAC;gBACjE,IAAI,UAAU,KAAK,MAAM,EAAE;oBACxB,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC9B;;;oBAEK,KAAK,GAAG,IAAI,CAAC,oBAAoB,EAAE;gBACzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;gBACpF,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACxB,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC;iBAC9B;;gBAGD,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;gBAC3C,IAAI,CAAC,kBAAkB,EAAE;oBACtB,KAAK,CAAC,YAAY,CAAC,UAAU,GAAG,UAAU,CAAC;iBAC7C;gBAED,IAAI,IAAI,CAAC,OAAO,EAAE;;;wBAET,OAAO,YAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,GAAE,IAAI,GAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACrF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACnC;gBAED,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;;gBAGvC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;;gBAGxF,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,KAAK,CAAC,eAAe,EAAE,CAAC;gBACxB,OAAO,KAAK,CAAC;aACf;;;;;;;;;;;;;;;QASD,sCAAW;;;;;;;;YADX,UACY,KAAK;gBACd,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;gBACrC,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE;;oBAEtB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;iBAC3B;qBAAM;oBACJ,IAAI,CAAC,aAAa,EAAE,CAAC;iBACvB;aACH;;;;;QAGD,qCAAU;;;;YADV,UACW,KAAK;gBACb,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EAAE;oBACtC,IAAI,CAAC,aAAa,EAAE,CAAC;iBACvB;aACH;;;;;QAEO,oCAAS;;;;YAAjB;gBACG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC/B;;;;;QAEO,wCAAa;;;;YAArB;gBACG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;gBAC/D,OAAO,IAAI,CAAC;aACd;;;;;;;;;;;;;;QAMO,4CAAiB;;;;;;;;;;YAAzB,UAA0B,KAAgB,EAAE,UAAkB,EAAE,QAAgB,EAAE,KAAc,EAAE,IAAK;gBACpG,OAAO;oBACJ,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE;oBAC5C,UAAU,EAAE,UAAU;oBACtB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE;oBAC9C,KAAK,EAAE,KAAK,KAAK,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC,oBAAoB,EAAE;oBAChE,IAAI,EAAE,IAAI,IAAI,SAAS;oBACvB,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;oBACvC,IAAI,EAAE,QAAQ;iBAChB,CAAC;aACJ;;;;;QAEO,+CAAoB;;;;YAA5B;gBACG,OAAO,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC3F;;;;;QAEO,iDAAsB;;;;YAA9B;;oBACO,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,MAAM;;;mBAAC,UAAC,SAAS;oBAC5E,OAAO,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC5D,EAAC;gBACF,IAAI,WAAW,CAAC,MAAM,EAAE;oBACrB,OAAO,WAAW,CAAC;iBACrB;gBACD,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACjD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;gBACvD,OAAO,WAAW,CAAC;aACrB;;;;;;QAEO,uCAAY;;;;;YAApB,UAAqB,KAAK;gBACvB,IAAI,CAAC,KAAK,EAAE;oBACT,OAAO,cAAc,CAAC;iBACxB;gBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACpC,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,cAAc,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,cAAc;wBAC3D,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,CAAC,KAAK,SAAS,EAAE;wBACpD,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;qBAClB;iBACH;gBACD,OAAO,IAAI,CAAC;aACd;;;;;;;;;;;;;;QAOO,uCAAY;;;;;;;;YAApB,UAAqB,QAAQ;gBAC1B,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EAAE;oBACtC,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,SAAS,CAAC;iBACrD;gBACD,IAAI,QAAQ,KAAK,cAAc,IAAI,QAAQ,KAAK,cAAc,EAAE;oBAC7D,OAAO,IAAI,CAAC;iBACd;gBACD,OAAO,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,SAAS,CAAC;aAC1E;;;;;;QAEO,yCAAc;;;;;YAAtB,UAAuB,QAAQ;gBAC5B,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;oBAC9B,OAAO,KAAK,CAAC;iBACf;gBACD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EAAE;oBAC9E,OAAO,KAAK,CAAC;iBACf;gBACD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,IAAI,QAAQ,KAAK,IAAI,EAAE;oBACxD,OAAO,IAAI,CAAC;iBACd;gBACD,OAAO,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aAC9E;;;;;;;;;;;;;;;;;QAQO,yCAAc;;;;;;;;;;YAAtB,UAAuB,KAAK,EAAE,kBAAkB;;oBACzC,OAAO,GAAG,WAAW;gBACzB,IAAI,CAAC,kBAAkB,EAAE;oBACtB,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,KAAK,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;iBAC3E;gBACD,IAAI,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,EAAE;oBACtC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,CAAC;iBAC9E;gBACD,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACxB,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;iBAChE;;;gBAGD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;oBAClB,OAAO,MAAM,CAAC;iBAChB;qBAAM,IAAI,KAAK,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;oBACzD,OAAO,MAAM,CAAC;iBAChB;qBAAM,IAAI,KAAK,CAAC,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;oBACxD,OAAO,MAAM,CAAC;iBAChB;qBAAM;oBACJ,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;iBACpB;aACH;;;;;;;;;;;QAKO,yCAAc;;;;;;;YAAtB,UAAuB,OAAO,EAAE,aAAa;gBAC1C,IAAI,aAAa,KAAK,KAAK,EAAE;oBAC1B,OAAO,OAAO,CAAC;iBACjB;gBACD,OAAO,OAAO,CAAC,MAAM;;;mBAAC,UAAU,MAAM;oBACnC,OAAO,aAAa,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;iBAC5D,EAAC,CAAC;aACL;;oBAjVHC,YAAS,SAAC;wBACR,QAAQ,EAAE,WAAW;qBACvB;;;;;wBAZEE,aAAU;wBACVD,YAAS;wBAKH,mBAAmB;;;;iCAQxBE,QAAK;sCACLA,QAAK;yCACLA,QAAK;wCACLA,QAAK;uCACLA,QAAK;oCACLA,QAAK;8BACLA,QAAK;oCAELC,SAAM;kCAENA,SAAM;8BACNA,SAAM;kCACNA,SAAM;kCAsBNE,eAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;iCAkBpCA,eAAY,SAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;6BAiEnCA,eAAY,SAAC,MAAM,EAAE,CAAC,QAAQ,CAAC;kCAyE/BA,eAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;iCAYpCA,eAAY,SAAC,YAAY,EAAE,CAAC,QAAQ,CAAC;;QAoIzC,uBAAC;KAlVD;;;;;;AChBA;QAME;SAAgB;;;;QAEhB,qCAAQ;;;YAAR,eAAa;QAEb,sBACI,yCAAS;;;gBADb;gBAEE,OAAO,IAAI,CAAC;aACb;;;WAAA;;;;;QAGD,wCAAW;;;;YADX,UACY,KAAK;gBACf,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;gBACrC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;;;oBAGrB,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,KAAK,IAAI,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;wBAClE,KAAK,CAAC,cAAc,EAAE,CAAC;qBACxB;oBACD,KAAK,CAAC,eAAe,EAAE,CAAC;iBACzB;aACF;;;;;;;;;;;QAOD,sCAAS;;;;;;YADT,UACU,KAAK;gBACb,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;gBACrC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;oBACrB,KAAK,CAAC,eAAe,EAAE,CAAC;iBACzB;aACF;;oBApCFN,YAAS,SAAC;wBACT,QAAQ,EAAE,aAAa;qBACxB;;;;;gCAMEK,cAAW,SAAC,WAAW;kCAKvBC,eAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;gCAiBpCA,eAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;;QAOrC,yBAAC;KArCD;;;;;;ACFA;QAME;SAAgB;;;;QAEhB,qCAAQ;;;YAAR,eAAa;QAEb,sBACI,yCAAS;;;gBADb;gBAEE,OAAO,IAAI,CAAC;aACb;;;WAAA;;;;;QAGD,wCAAW;;;;YADX,UACY,KAAK;gBACf,KAAK,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC;gBACrC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;aACzB;;oBAjBFN,YAAS,SAAC;wBACT,QAAQ,EAAE,aAAa;qBACxB;;;;;gCAMEK,cAAW,SAAC,WAAW;kCAKvBC,eAAY,SAAC,mBAAmB,EAAE,CAAC,QAAQ,CAAC;;QAK/C,yBAAC;KAlBD;;;;;;ACFA;QASM,YAAY,GAAG;QACnB,qBAAqB;QACrB,gBAAgB;QAChB,kBAAkB;QAClB,kBAAkB;KACnB;AAED;QAAA;SAU8B;;oBAV7BT,WAAQ,SAAC;wBACR,OAAO,EAAE;4BACPC,mBAAY;yBACb;wBACD,YAAY,cAAA;wBACZ,SAAS,EAAE;4BACT,mBAAmB;yBACpB;wBACD,OAAO,EAAE,YAAY;qBACtB;;QAC4B,oBAAC;KAV9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
