{"version":3,"file":"qdp-search-join.js.map","sources":["ng://@qdp/search-join/lib/service/search-list.service.ts","ng://@qdp/search-join/lib/service/menu-controller.service.ts","ng://@qdp/search-join/lib/component/search-join-menu/search-join-menu.component.ts","ng://@qdp/search-join/lib/search-join.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { JointSearchManagerService } from '@qdp/common';\r\n\r\n@Injectable()\r\nexport class SearchListService {\r\n  constructor(private jointSearchManagerService: JointSearchManagerService) { }\r\n\r\n  /**\r\n   * æ ¹æ®æ¥è¯¢IDï¼è·åèæ¥ä¿¡æ¯\r\n   * @param queryid æ¥è¯¢id\r\n   */\r\n  public getSearchList(formId: any, queryid: string, queryRelativeUrl: any) {\r\n    return this.jointSearchManagerService.getjointsearch(formId, queryid, queryRelativeUrl);\r\n  }\r\n\r\n  public getVisibleJoint(visibleJointParam: any, queryRelativeUrl: any, searchList: any) {\r\n    return this.jointSearchManagerService.getVisibleJoint(visibleJointParam, queryRelativeUrl, searchList);\r\n  }\r\n\r\n}\r\n","import { Injectable, ElementRef, Renderer2, RendererFactory2 } from '@angular/core';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { SearchListService } from './search-list.service';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { RtfServices } from '@qdp/common';\r\n\r\ndeclare var GC: any;\r\n@Injectable()\r\nexport class MenuControllerService {\r\n  protected _searchList: any;\r\n  protected _queryId: any;\r\n  currentSelectItem: any;\r\n  queryRelativeUrl: any;\r\n  jointsearchInfoChange = new Subject<any>();\r\n  qdpView: any;\r\n\r\n  protected render: Renderer2;\r\n  constructor(\r\n    protected rendererFactory: RendererFactory2,\r\n    protected cacheService: CacheService,\r\n    protected searchListService: SearchListService,\r\n    private cache: CacheService,\r\n    private loadingService: LoadingService\r\n  ) {\r\n    this.render = rendererFactory.createRenderer(null, null);\r\n  }\r\n  public handleContextmenu($event: any, elementRef: ElementRef, qdpView: any, qdpViewElementRef: ElementRef) {\r\n    this.qdpView = qdpView;\r\n    // const loading = this.loadingService.show({ container: qdpViewElementRef });\r\n    const joinParam = this.cache.get(RtfServices.getTabId(this._queryId) + 'joinSearch');\r\n    if (!this.checkDataArea(qdpView, qdpViewElementRef, joinParam, $event) || !this._searchList) {\r\n      return false;\r\n    }\r\n\r\n    let left = 0, top = 0;\r\n    if (joinParam && joinParam.controlType !== 'charts') {\r\n      left = $event.clientX;\r\n      top = $event.clientY;\r\n    } else {\r\n      left = $event.event.event.clientX;\r\n      top = $event.event.event.clientY;\r\n    }\r\n\r\n    this.render.setStyle(elementRef.nativeElement, 'left', left + 'px');\r\n    this.render.setStyle(elementRef.nativeElement, 'top', top + 'px');\r\n    this.render.setStyle(elementRef.nativeElement, 'display', 'block');\r\n\r\n    this.cacheService.set(this._queryId + 'currentSelectItem', this.currentSelectItem); // å°å½ååæ°è®¾ç½®å°ç¼å­ä¸­\r\n\r\n    // èæ¥å¯è§è¡¨è¾¾å¼\r\n    const searchList = this.cacheService.get(this._queryId + 'beforeJointSearchMenuShow');\r\n    const formulas = {};\r\n    let containVisibleFormula = false;\r\n    for (const search of searchList) {\r\n      formulas[search.id] = search.visibleformula;\r\n      if (containVisibleFormula === false && search.visibleformula != void 0 && search.visibleformula !== '') {\r\n        containVisibleFormula = true;\r\n      }\r\n    }\r\n\r\n    if (containVisibleFormula === true) {\r\n      const param = { qoManagerCode: qdpView.qoManagerCode, visibleFormulas: formulas, userId: '', queryId: this._queryId, rowData: this.currentSelectItem };\r\n\r\n      this.searchListService.getVisibleJoint(param, qdpView.queryRelativeUrl, searchList).subscribe(value => {\r\n        if (value) {\r\n          this.jointsearchInfoChange.next(value);\r\n        }\r\n      });\r\n    } else {\r\n      this.jointsearchInfoChange.next(searchList);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * åå»ä¹åéèèå\r\n   * @param elementRef èåç»ä»¶\r\n   */\r\n  public handleClick(elementRef: ElementRef) {\r\n    if (elementRef) {\r\n      this.render.setStyle(elementRef.nativeElement, 'display', 'none');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get searchList\r\n   */\r\n  public getSearchList(formId: any, queryId: any, queryRelativeUrl: any) {\r\n    this._queryId = queryId;\r\n    if (this._searchList && this._searchList.queryId === this._queryId) {\r\n      return of(this._searchList);\r\n    }\r\n\r\n    const result = this.searchListService.getSearchList(formId, queryId, queryRelativeUrl);\r\n    return result.pipe(\r\n      map((value: any) => {\r\n        this._searchList = value; // ? JSON.parse(value.joinSearch) : [];\r\n        return this._searchList;\r\n      })\r\n    );\r\n\r\n  }\r\n\r\n  /**\r\n   * è¿åå½åå³é®åæ ï¼æ¯å¦ä¸ºæ°æ®åºå\r\n   * @param qdpView qdp-view ç»ä»¶\r\n   * @param qdpViewElementRef qdp-view ElementRef\r\n   * @param $event è§¦åäºä»¶ï¼ä¸»è¦ç¨æ¥ä¼ éåæ \r\n   */\r\n  private checkDataArea(qdpView: any, qdpViewElementRef: ElementRef, joinParam: any, $event: any): boolean {\r\n    let x = 0, y = 0;\r\n    let qdpviewNative = qdpViewElementRef.nativeElement;\r\n    while (qdpviewNative) {\r\n      x += qdpviewNative.offsetLeft;\r\n      y += qdpviewNative.offsetTop;\r\n      qdpviewNative = qdpviewNative.offsetParent;\r\n    }\r\n\r\n    if (joinParam.controlType !== 'charts') {\r\n      const activeSheet = qdpView.spread.getActiveSheet();\r\n      const target = activeSheet.hitTest($event.clientX - x, $event.clientY - y);\r\n\r\n\r\n      if (target.hitTestType !== GC.Spread.Sheets.SheetArea.viewport || target.col === undefined || target.row === undefined) {\r\n        return false;\r\n      }\r\n      activeSheet.setActiveCell(target.row, target.col);\r\n      // å°å½åè¡ï¼åå¥cache\r\n      let dataItem = {};\r\n      if (joinParam.controlType === 'crosstab') { // äº¤åè¡¨\r\n        // è·åè¡æ é¢çæ°æ®\r\n        for (let i = joinParam.rowHeaderColInfo.start; i < joinParam.rowHeaderColInfo.end; i++) {\r\n          const value = activeSheet.getValue(target.row, i, GC.Spread.Sheets.SheetArea.viewport);\r\n          const name = activeSheet.getValue(joinParam.colHeaderRowInfo.start, i, GC.Spread.Sheets.SheetArea.colHeader);\r\n          const colInfo = joinParam.colInfos.find((x: any) => x.dimension === 1 && x.name === name).bindField;\r\n          dataItem[colInfo] = value;\r\n        }\r\n        // è·ååæ é¢çæ°æ®\r\n        for (let i = joinParam.colHeaderRowInfo.start; i < joinParam.colHeaderRowInfo.end; i++) {\r\n          const value = activeSheet.getValue(i, target.col, GC.Spread.Sheets.SheetArea.colHeader);\r\n          const colInfo = joinParam.colInfos.filter((x: any) => x.dimension === 2)[i - joinParam.colHeaderRowInfo.start].bindField;\r\n          dataItem[colInfo] = value;\r\n        }\r\n        // è·åå¼æ é¢çæ°æ®\r\n        const value = activeSheet.getValue(target.row, target.col, GC.Spread.Sheets.SheetArea.viewport);\r\n        const name = activeSheet.getValue(joinParam.colHeaderRowInfo.end, target.col, GC.Spread.Sheets.SheetArea.colHeader);\r\n        let colInfo = joinParam.colInfos.find((x: any) => x.dimension === 3 && x.name === name);\r\n        if (colInfo) {\r\n          colInfo = colInfo.bindField;\r\n          dataItem[colInfo] = value;\r\n        }\r\n      } else {\r\n        dataItem = activeSheet.getDataItem(target.row);\r\n      }\r\n      // ä¿å­åæ°å°searchList\r\n      this.currentSelectItem = dataItem;\r\n      return true;\r\n    } else {\r\n      if (joinParam.colList && joinParam.colList.length) {\r\n        const cacheCols: any[] = [];\r\n        joinParam.colList.forEach((col: any) => {\r\n          this.getColumn(col, null, cacheCols);\r\n        });\r\n        const dataItem = {};\r\n        for (let i = 0; i < cacheCols.length; i++) {\r\n          if (i < $event.value.length) {\r\n            dataItem[cacheCols[i].bindField] = $event.value[i];\r\n          }\r\n        }\r\n        this.currentSelectItem = dataItem;\r\n      }\r\n      $event.event.event.returnValue = false;\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * ä¿å­åæ°å°cache\r\n   * @param dataItem åæ°\r\n   */\r\n  protected writeParamToCache(dataItem: any) {\r\n    this._searchList[0]['joinSearch'].forEach(value => {\r\n      const currentParam = this.cacheService.get(this._queryId);\r\n      dataItem['currentItem'] = currentParam;\r\n      this.cacheService.set(value.queryId, dataItem);\r\n    });\r\n  }\r\n\r\n  private getColumn(col: any, childCols: any[], colcache: any[]) {\r\n    if (col) {\r\n      const str = JSON.stringify(col);\r\n      colcache.push(JSON.parse(str));\r\n      if (col.childList && col.childList.length) {\r\n        this.getColumn(null, col.childList, colcache);\r\n      }\r\n    } else {\r\n      childCols.forEach((col: any) => {\r\n        const str = JSON.stringify(col);\r\n        colcache.push(JSON.parse(str));\r\n        if (col.childList && col.childList.length) {\r\n          this.getColumn(null, col.childList, colcache);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  HostListener,\r\n  ElementRef,\r\n  Renderer2,\r\n  RendererFactory2,\r\n  Input,\r\n  Optional,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  Injector\r\n} from '@angular/core';\r\nimport { MenuControllerService } from '../../service/menu-controller.service';\r\nimport { FrameworkService, AppService } from '@gsp-sys/rtf-common';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { JointSearchExtendService } from '@qdp/common';\r\nimport { EventBus, RtfServices } from '@qdp/common';\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\n@Component({\r\n  selector: 'qdp-search-join-menu',\r\n  templateUrl: './search-join-menu.component.html',\r\n  styleUrls: ['./search-join-menu.component.css'],\r\n})\r\nexport class SearchJoinMenuComponent implements OnInit, OnChanges {\r\n  @Input() queryId: any;\r\n  @Input() queryRelativeUrl: any;\r\n  @Input() qoManagerCode: any;\r\n  formId: any;\r\n  @Input() searchList: any[];\r\n  public searchPara: any[];\r\n  currentSelectedItem: any;\r\n  private renderer: Renderer2;\r\n  private appService: AppService;\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private renderFactory: RendererFactory2,\r\n    private menuControllerService: MenuControllerService,\r\n    private frameWorkService: FrameworkService,\r\n    private cacheService: CacheService,\r\n    @Optional() private jointSearchExtendService: JointSearchExtendService,\r\n    @Optional() private injector: Injector) {\r\n    if (this.injector) {\r\n      this.appService = this.injector.get(AppService);\r\n    }\r\n    this.formId = 'form' + 'ff3ea474-cc65-23b0-cdb1-73c9146cea3b';\r\n    this.renderer = this.renderFactory.createRenderer(null, null);\r\n\r\n    menuControllerService.jointsearchInfoChange.subscribe((value) => {\r\n      if (value) {\r\n        this.searchList = value;\r\n      }\r\n    }\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n    this.menuControllerService.getSearchList(this.formId, this.queryId, this.queryRelativeUrl).subscribe(\r\n      value => {\r\n        if (value) {\r\n          const _searchList = JSON.parse(value['joinSearch']);\r\n          _searchList.forEach(searchL => {\r\n            if (!searchL.searchtype) {\r\n              searchL.searchtype = 'func';\r\n              searchL.appEntrance = '';\r\n            }\r\n            searchL.functionname = self.getFunctionName(searchL.functionname);\r\n          });\r\n          this.searchPara = JSON.parse(value['jointparam']);\r\n          this.cacheService.set(this.queryId + 'beforeJointSearchMenuShow', _searchList);\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n  }\r\n\r\n  /**\r\n   * å½ç¹å»æä¸ä¸ªè·¯ç±ä¹åï¼éèèåç»ä»¶\r\n   */\r\n  @HostListener('click')\r\n  handleClick() {\r\n    this.renderer.setStyle(this.elementRef.nativeElement, 'display', 'none');\r\n  }\r\n\r\n  /**\r\n   * è·¯ç±å°ç»æé¡µ\r\n   * param id èæ¥åè½ä¸»é®id\r\n   * param functionid åè½èåid\r\n   */\r\n  public routeTo(id: any, functionid: any, queryId: any) {\r\n    const self = this;\r\n    let chooseList: any = {};\r\n    this.searchList.forEach(searchL => {\r\n      if (searchL.id === id) {\r\n        chooseList = searchL;\r\n      }\r\n    });\r\n\r\n    let entityParam = { 'id': 'null' };\r\n    const paramMap = new Map<string, string>();\r\n    const searchparas: any[] = this.searchPara.filter(x => x.functionid === id); // æ¥æ¾å¯¹åºçåæ°åè¡¨\r\n    const currentSelectedItem = this.cacheService.get(this.queryId + 'currentSelectItem'); // å½åéä¸­æ°æ®\r\n    if (searchparas.length > 0) {\r\n      searchparas.forEach(value => {\r\n        if (value.paravaluetype) {// è¡¨è¾¾å¼\r\n          if (value.paravalue.indexOf('getParameter(') >= 0) {\r\n            const parameterKey = value.paravalue.replace(/'/g, '').replace(/\"/g, '').replace(/getParameter\\(/g, '').replace(/\\)/g, '');\r\n            self.getQueryParameters(entityParam, paramMap, parameterKey, value.para);\r\n          } else {\r\n            entityParam[value.para] = currentSelectedItem[value.paravalue];\r\n            paramMap.set(value.para, currentSelectedItem[value.paravalue]);\r\n          }\r\n        } else {\r\n          entityParam[value.para] = value.paravalue;\r\n          paramMap.set(value.para, value.paravalue);\r\n        }\r\n      });\r\n    } else {\r\n      entityParam = currentSelectedItem;\r\n    }\r\n    let options: any = {\r\n      ParentSessionId: this.cacheService.get('session'),\r\n      EntityParam: entityParam\r\n    };\r\n    const $event = {};\r\n    if (this.jointSearchExtendService && this.jointSearchExtendService.beforeJointSearch) {\r\n      $event['eventCode'] = 'beforeJointSearch';\r\n      $event['eventName'] = 'drill before';\r\n      $event['data'] = {\r\n        'functionid': functionid,\r\n        'options': options,\r\n        'queryId': queryId,\r\n        'orginQueryId': this.queryId,\r\n        'qdpView': this.menuControllerService.qdpView\r\n      };\r\n      this.jointSearchExtendService.beforeJointSearch($event);\r\n      if ($event && $event['data'] && $event['data'].options) {\r\n        options = Object.assign(options, $event['data'].options);\r\n      }\r\n      if (chooseList.searchtype === 'url' || chooseList.searchtype === 'additional') {\r\n        return;\r\n      }\r\n    }\r\n    // this.cacheService.set(queryId, options.EntityParam);\r\n    let tabId = '';\r\n    if (chooseList.searchtype === 'func') {\r\n      // èæ¥å\r\n      const openMenuoptions = {\r\n        'appType': 'menu',\r\n        'funcId': functionid,\r\n        'tabId': EventBus.guid(),\r\n        'appId': '',\r\n        'appEntrance': '',\r\n        'entityParams': $event['entityParams'] || entityParam,\r\n        'queryStringParams': paramMap,\r\n        'isNewTab': true\r\n      };\r\n      tabId = RtfServices.getFuncId(openMenuoptions);\r\n      const menuSwitchControl = Object.assign({}, openMenuoptions['entityParams'], RtfServices.getMenuSwitchControlParameter(tabId));\r\n      openMenuoptions['entityParams'] = menuSwitchControl;\r\n      this.cacheService.set(tabId ? tabId : queryId, options.EntityParam);\r\n      // å¡çå¡è¿å»params\r\n      this.frameWorkService.openMenu(openMenuoptions);\r\n    } else if (chooseList.searchtype === 'app') {\r\n      const appOption = {\r\n        appType: 'app',\r\n        appId: functionid,\r\n        appEntrance: chooseList.appEntrance,\r\n        funcId: '',\r\n        isReload: true,\r\n        tabId: EventBus.guid(),\r\n        entityParams: $event['entityParams'] || entityParam,\r\n        queryStringParams: paramMap\r\n      };\r\n      tabId = RtfServices.getFuncId(appOption);\r\n      this.cacheService.set(tabId ? tabId : queryId, options.EntityParam);\r\n      const menuSwitchControl = Object.assign({}, appOption['entityParams'], RtfServices.getMenuSwitchControlParameter(tabId));\r\n      appOption['entityParams'] = menuSwitchControl;\r\n      this.frameWorkService.openMenu(appOption);\r\n    }\r\n  }\r\n\r\n  getFunctionName(data: any) {\r\n    let local = 'zh-chs';\r\n    if (gspframeworkService) {\r\n      local = gspframeworkService.rtf.language.getLanguageCode().toLowerCase();\r\n    }\r\n    if (!local) {\r\n      local = 'zh-chs';\r\n    }\r\n    return data[local] ? data[local] : data;\r\n  }\r\n\r\n  private getQueryParameters(entityParam: any, paramMap: any, parameterKey: any, key: any) {\r\n    try {\r\n      const tab = gspframeworkService.rtf.session.getCommonVariable();\r\n      if (tab && tab.tabId) {\r\n        const tid = tab.tabId + RtfServices.getInSuiteFrmUUID();\r\n        if (this.cacheService.get(tid) && this.cacheService.get(tid)[parameterKey]) {\r\n          entityParam[key] = this.cacheService.get(tid)[parameterKey];\r\n          paramMap.set(key, this.cacheService.get(tid)[parameterKey]);\r\n        }\r\n      }\r\n    } catch (e) {\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchJoinMenuComponent } from './component/search-join-menu/search-join-menu.component';\r\nimport { SearchListService } from './service/search-list.service';\r\nimport { LoadingService,LoadingModule } from '@farris/ui-loading';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LoadingModule,\r\n  ],\r\n  providers: [\r\n    SearchListService,\r\n    LoadingService\r\n  ],\r\n  declarations: [\r\n    SearchJoinMenuComponent\r\n  ],\r\n  exports: [\r\n    SearchJoinMenuComponent\r\n  ]\r\n})\r\nexport class SearchJoinModule { }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,MAIa,iBAAiB;;;;IAC5B,YAAoB,yBAAoD;QAApD,8BAAyB,GAAzB,yBAAyB,CAA2B;KAAK;;;;;;;;IAMtE,aAAa,CAAC,MAAW,EAAE,OAAe,EAAE,gBAAqB;QACtE,OAAO,IAAI,CAAC,yBAAyB,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,gBAAgB,CAAC,CAAC;KACzF;;;;;;;IAEM,eAAe,CAAC,iBAAsB,EAAE,gBAAqB,EAAE,UAAe;QACnF,OAAO,IAAI,CAAC,yBAAyB,CAAC,eAAe,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,UAAU,CAAC,CAAC;KACxG;;;YAdF,UAAU;;;;YAFF,yBAAyB;;;;;;;ACDlC,MAUa,qBAAqB;;;;;;;;IAShC,YACY,eAAiC,EACjC,YAA0B,EAC1B,iBAAoC,EACtC,KAAmB,EACnB,cAA8B;QAJ5B,oBAAe,GAAf,eAAe,CAAkB;QACjC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACtC,UAAK,GAAL,KAAK,CAAc;QACnB,mBAAc,GAAd,cAAc,CAAgB;QATxC,0BAAqB,GAAG,IAAI,OAAO,EAAO,CAAC;QAWzC,IAAI,CAAC,MAAM,GAAG,eAAe,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAC1D;;;;;;;;IACM,iBAAiB,CAAC,MAAW,EAAE,UAAsB,EAAE,OAAY,EAAE,iBAA6B;QACvG,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;;cAEjB,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,YAAY,CAAC;QACpF,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,iBAAiB,EAAE,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YAC3F,OAAO,KAAK,CAAC;SACd;;YAEG,IAAI,GAAG,CAAC;;YAAE,GAAG,GAAG,CAAC;QACrB,IAAI,SAAS,IAAI,SAAS,CAAC,WAAW,KAAK,QAAQ,EAAE;YACnD,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC;YACtB,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC;SACtB;aAAM;YACL,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;YAClC,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;SAClC;QAED,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,EAAE,IAAI,GAAG,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,KAAK,EAAE,GAAG,GAAG,IAAI,CAAC,CAAC;QAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;QAEnE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;;;;cAG7E,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,2BAA2B,CAAC;;cAC/E,QAAQ,GAAG,EAAE;;YACf,qBAAqB,GAAG,KAAK;QACjC,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE;YAC/B,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,cAAc,CAAC;YAC5C,IAAI,qBAAqB,KAAK,KAAK,IAAI,MAAM,CAAC,cAAc,IAAI,KAAK,CAAC,IAAI,MAAM,CAAC,cAAc,KAAK,EAAE,EAAE;gBACtG,qBAAqB,GAAG,IAAI,CAAC;aAC9B;SACF;QAED,IAAI,qBAAqB,KAAK,IAAI,EAAE;;kBAC5B,KAAK,GAAG,EAAE,aAAa,EAAE,OAAO,CAAC,aAAa,EAAE,eAAe,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,EAAE;YAEtJ,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC,SAAS;;;;YAAC,KAAK;gBACjG,IAAI,KAAK,EAAE;oBACT,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACxC;aACF,EAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC7C;QAED,OAAO,KAAK,CAAC;KACd;;;;;;IAMM,WAAW,CAAC,UAAsB;QACvC,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;SACnE;KACF;;;;;;;;IAKM,aAAa,CAAC,MAAW,EAAE,OAAY,EAAE,gBAAqB;QACnE,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,KAAK,IAAI,CAAC,QAAQ,EAAE;YAClE,OAAO,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC7B;;cAEK,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,EAAE,gBAAgB,CAAC;QACtF,OAAO,MAAM,CAAC,IAAI,CAChB,GAAG;;;;QAAC,CAAC,KAAU;YACb,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,OAAO,IAAI,CAAC,WAAW,CAAC;SACzB,EAAC,CACH,CAAC;KAEH;;;;;;;;;;IAQO,aAAa,CAAC,OAAY,EAAE,iBAA6B,EAAE,SAAc,EAAE,MAAW;;YACxF,CAAC,GAAG,CAAC;;YAAE,CAAC,GAAG,CAAC;;YACZ,aAAa,GAAG,iBAAiB,CAAC,aAAa;QACnD,OAAO,aAAa,EAAE;YACpB,CAAC,IAAI,aAAa,CAAC,UAAU,CAAC;YAC9B,CAAC,IAAI,aAAa,CAAC,SAAS,CAAC;YAC7B,aAAa,GAAG,aAAa,CAAC,YAAY,CAAC;SAC5C;QAED,IAAI,SAAS,CAAC,WAAW,KAAK,QAAQ,EAAE;;kBAChC,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE;;kBAC7C,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,GAAG,CAAC,EAAE,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;YAG1E,IAAI,MAAM,CAAC,WAAW,KAAK,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,IAAI,MAAM,CAAC,GAAG,KAAK,SAAS,IAAI,MAAM,CAAC,GAAG,KAAK,SAAS,EAAE;gBACtH,OAAO,KAAK,CAAC;aACd;YACD,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;;;gBAE9C,QAAQ,GAAG,EAAE;YACjB,IAAI,SAAS,CAAC,WAAW,KAAK,UAAU,EAAE;;gBAExC,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;;0BAChF,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;;0BAChF,IAAI,GAAG,WAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;;0BACtG,OAAO,GAAG,SAAS,CAAC,QAAQ,CAAC,IAAI;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,SAAS,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,EAAC,CAAC,SAAS;oBACnG,QAAQ,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;iBAC3B;;gBAED,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;;0BAChF,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;;0BACjF,OAAO,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM;;;;oBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,SAAS,KAAK,CAAC,EAAC,CAAC,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,SAAS;oBACxH,QAAQ,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;iBAC3B;;;sBAEK,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC;;sBACzF,IAAI,GAAG,WAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;;oBAC/G,OAAO,GAAG,SAAS,CAAC,QAAQ,CAAC,IAAI;;;;gBAAC,CAAC,CAAM,KAAK,CAAC,CAAC,SAAS,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,EAAC;gBACvF,IAAI,OAAO,EAAE;oBACX,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC;oBAC5B,QAAQ,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;iBAC3B;aACF;iBAAM;gBACL,QAAQ,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aAChD;;YAED,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;YAClC,OAAO,IAAI,CAAC;SACb;aAAM;YACL,IAAI,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,MAAM,EAAE;;sBAC3C,SAAS,GAAU,EAAE;gBAC3B,SAAS,CAAC,OAAO,CAAC,OAAO;;;;gBAAC,CAAC,GAAQ;oBACjC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;iBACtC,EAAC,CAAC;;sBACG,QAAQ,GAAG,EAAE;gBACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzC,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE;wBAC3B,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;qBACpD;iBACF;gBACD,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;aACnC;YACD,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;YACvC,OAAO,IAAI,CAAC;SACb;KACF;;;;;;;IAOS,iBAAiB,CAAC,QAAa;QACvC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,OAAO;;;;QAAC,KAAK;;kBACvC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;YACzD,QAAQ,CAAC,aAAa,CAAC,GAAG,YAAY,CAAC;YACvC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SAChD,EAAC,CAAC;KACJ;;;;;;;;IAEO,SAAS,CAAC,GAAQ,EAAE,SAAgB,EAAE,QAAe;QAC3D,IAAI,GAAG,EAAE;;kBACD,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAC/B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/B,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE;gBACzC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;aAC/C;SACF;aAAM;YACL,SAAS,CAAC,OAAO;;;;YAAC,CAAC,GAAQ;;sBACnB,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;gBAC/B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC/B,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE;oBACzC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;iBAC/C;aACF,EAAC,CAAC;SACJ;KACF;;;YAvMF,UAAU;;;;YATiC,gBAAgB;YACnD,YAAY;YACZ,iBAAiB;YADjB,YAAY;YAIZ,cAAc;;;;;;;ACLvB,MA0Ba,uBAAuB;;;;;;;;;;IAWlC,YACU,UAAsB,EACtB,aAA+B,EAC/B,qBAA4C,EAC5C,gBAAkC,EAClC,YAA0B,EACd,wBAAkD,EAClD,QAAkB;QAN9B,eAAU,GAAV,UAAU,CAAY;QACtB,kBAAa,GAAb,aAAa,CAAkB;QAC/B,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,iBAAY,GAAZ,YAAY,CAAc;QACd,6BAAwB,GAAxB,wBAAwB,CAA0B;QAClD,aAAQ,GAAR,QAAQ,CAAU;QACtC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,sCAAsC,CAAC;QAC9D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9D,qBAAqB,CAAC,qBAAqB,CAAC,SAAS;;;;QAAC,CAAC,KAAK;YAC1D,IAAI,KAAK,EAAE;gBACT,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACzB;SACF,EACA,CAAC;KACH;;;;IAED,QAAQ;;cACA,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,qBAAqB,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,SAAS;;;;QAClG,KAAK;YACH,IAAI,KAAK,EAAE;;sBACH,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;gBACnD,WAAW,CAAC,OAAO;;;;gBAAC,OAAO;oBACzB,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;wBACvB,OAAO,CAAC,UAAU,GAAG,MAAM,CAAC;wBAC5B,OAAO,CAAC,WAAW,GAAG,EAAE,CAAC;qBAC1B;oBACD,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;iBACnE,EAAC,CAAC;gBACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,2BAA2B,EAAE,WAAW,CAAC,CAAC;aAChF;SACF,EAAC,CAAC;KACN;;;;;IAED,WAAW,CAAC,OAAsB;KACjC;;;;;IAMD,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;KAC1E;;;;;;;;;;IAOM,OAAO,CAAC,EAAO,EAAE,UAAe,EAAE,OAAY;;cAC7C,IAAI,GAAG,IAAI;;YACb,UAAU,GAAQ,EAAE;QACxB,IAAI,CAAC,UAAU,CAAC,OAAO;;;;QAAC,OAAO;YAC7B,IAAI,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE;gBACrB,UAAU,GAAG,OAAO,CAAC;aACtB;SACF,EAAC,CAAC;;YAEC,WAAW,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE;;cAC5B,QAAQ,GAAG,IAAI,GAAG,EAAkB;;cACpC,WAAW,GAAU,IAAI,CAAC,UAAU,CAAC,MAAM;;;;QAAC,CAAC,IAAI,CAAC,CAAC,UAAU,KAAK,EAAE,EAAC;;;cACrE,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,mBAAmB,CAAC;QACrF,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1B,WAAW,CAAC,OAAO;;;;YAAC,KAAK;gBACvB,IAAI,KAAK,CAAC,aAAa,EAAE;oBACvB,IAAI,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;;8BAC3C,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;wBAC1H,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;qBAC1E;yBAAM;wBACL,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;wBAC/D,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;qBAChE;iBACF;qBAAM;oBACL,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC;oBAC1C,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;iBAC3C;aACF,EAAC,CAAC;SACJ;aAAM;YACL,WAAW,GAAG,mBAAmB,CAAC;SACnC;;YACG,OAAO,GAAQ;YACjB,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;YACjD,WAAW,EAAE,WAAW;SACzB;;cACK,MAAM,GAAG,EAAE;QACjB,IAAI,IAAI,CAAC,wBAAwB,IAAI,IAAI,CAAC,wBAAwB,CAAC,iBAAiB,EAAE;YACpF,MAAM,CAAC,WAAW,CAAC,GAAG,mBAAmB,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,GAAG,cAAc,CAAC;YACrC,MAAM,CAAC,MAAM,CAAC,GAAG;gBACf,YAAY,EAAE,UAAU;gBACxB,SAAS,EAAE,OAAO;gBAClB,SAAS,EAAE,OAAO;gBAClB,cAAc,EAAE,IAAI,CAAC,OAAO;gBAC5B,SAAS,EAAE,IAAI,CAAC,qBAAqB,CAAC,OAAO;aAC9C,CAAC;YACF,IAAI,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;YACxD,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE;gBACtD,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC;aAC1D;YACD,IAAI,UAAU,CAAC,UAAU,KAAK,KAAK,IAAI,UAAU,CAAC,UAAU,KAAK,YAAY,EAAE;gBAC7E,OAAO;aACR;SACF;;;YAEG,KAAK,GAAG,EAAE;QACd,IAAI,UAAU,CAAC,UAAU,KAAK,MAAM,EAAE;;;kBAE9B,eAAe,GAAG;gBACtB,SAAS,EAAE,MAAM;gBACjB,QAAQ,EAAE,UAAU;gBACpB,OAAO,EAAE,QAAQ,CAAC,IAAI,EAAE;gBACxB,OAAO,EAAE,EAAE;gBACX,aAAa,EAAE,EAAE;gBACjB,cAAc,EAAE,MAAM,CAAC,cAAc,CAAC,IAAI,WAAW;gBACrD,mBAAmB,EAAE,QAAQ;gBAC7B,UAAU,EAAE,IAAI;aACjB;YACD,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;;kBACzC,iBAAiB,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,CAAC,cAAc,CAAC,EAAE,WAAW,CAAC,6BAA6B,CAAC,KAAK,CAAC,CAAC;YAC9H,eAAe,CAAC,cAAc,CAAC,GAAG,iBAAiB,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,GAAG,OAAO,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;;YAEpE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;SACjD;aAAM,IAAI,UAAU,CAAC,UAAU,KAAK,KAAK,EAAE;;kBACpC,SAAS,GAAG;gBAChB,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,UAAU;gBACjB,WAAW,EAAE,UAAU,CAAC,WAAW;gBACnC,MAAM,EAAE,EAAE;gBACV,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,QAAQ,CAAC,IAAI,EAAE;gBACtB,YAAY,EAAE,MAAM,CAAC,cAAc,CAAC,IAAI,WAAW;gBACnD,iBAAiB,EAAE,QAAQ;aAC5B;YACD,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YACzC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,GAAG,OAAO,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;;kBAC9D,iBAAiB,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,cAAc,CAAC,EAAE,WAAW,CAAC,6BAA6B,CAAC,KAAK,CAAC,CAAC;YACxH,SAAS,CAAC,cAAc,CAAC,GAAG,iBAAiB,CAAC;YAC9C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;SAC3C;KACF;;;;;IAED,eAAe,CAAC,IAAS;;YACnB,KAAK,GAAG,QAAQ;QACpB,IAAI,mBAAmB,EAAE;YACvB,KAAK,GAAG,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC,WAAW,EAAE,CAAC;SAC1E;QACD,IAAI,CAAC,KAAK,EAAE;YACV,KAAK,GAAG,QAAQ,CAAC;SAClB;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;KACzC;;;;;;;;;IAEO,kBAAkB,CAAC,WAAgB,EAAE,QAAa,EAAE,YAAiB,EAAE,GAAQ;QACrF,IAAI;;kBACI,GAAG,GAAG,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAC/D,IAAI,GAAG,IAAI,GAAG,CAAC,KAAK,EAAE;;sBACd,GAAG,GAAG,GAAG,CAAC,KAAK,GAAG,WAAW,CAAC,iBAAiB,EAAE;gBACvD,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,EAAE;oBAC1E,WAAW,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC;oBAC5D,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;iBAC7D;aACF;SACF;QAAC,OAAO,CAAC,EAAE;SACX;KACF;;;YA7LF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,qXAAgD;;aAEjD;;;;YArBC,UAAU;YAEV,gBAAgB;YAOT,qBAAqB;YACrB,gBAAgB;YAChB,YAAY;YACZ,wBAAwB,uBA2B5B,QAAQ;YAhCX,QAAQ,uBAiCL,QAAQ;;;sBAjBV,KAAK;+BACL,KAAK;4BACL,KAAK;yBAEL,KAAK;0BAqDL,YAAY,SAAC,OAAO;;;;;;;ACpFvB,MAsBa,gBAAgB;;;YAhB5B,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;oBACZ,aAAa;iBACd;gBACD,SAAS,EAAE;oBACT,iBAAiB;oBACjB,cAAc;iBACf;gBACD,YAAY,EAAE;oBACZ,uBAAuB;iBACxB;gBACD,OAAO,EAAE;oBACP,uBAAuB;iBACxB;aACF;;;;;;;;;;;;;;;;;;;;"}
