import { Subject as Subject$1 } from 'rxjs/Subject';
import { findIndex, find } from 'lodash-es';
import { FormErrorService } from '@farris/command-services';
import { CacheService } from '@ecp-caf/caf-common';
import { Subject, of } from 'rxjs';
import { JointSearchManagerService, LcpService, EventBus, ParasMappingManagerService, SchemaManagerService, RtfServices, PrintIntegrationManagerService } from '@qdp/common';
import { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';
import { MessagerService } from '@farris/ui-messager';
import { ResizeSensor } from 'css-element-queries';
import { Injectable, Component, Input, Optional, ViewChild, Renderer2, ViewEncapsulation, ComponentFactoryResolver, Injector, Output, EventEmitter, Directive, ElementRef, HostBinding, LOCALE_ID, NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { InputGroupModule } from '@farris/ui-input-group';
import { FlexLayoutModule } from '@farris/ui-flex-layout';
import { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';
import { ComboListModule } from '@farris/ui-combo-list';
import { FarrisDialogModule } from '@farris/ui-dialog';
import { NotifyService, NotifyModule } from '@farris/ui-notify';
import { NumberSpinnerModule } from '@farris/ui-number-spinner';
import { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';
import { TreeTableModule } from '@farris/ui-treetable';
import { EditorTypes, DatagridEditorsModule, EditorProviders } from '@farris/ui-datagrid-editors';
import { DatagridModule, ScrollbarModule } from '@farris/ui-datagrid';
import { FarrisTabsComponent, FarrisTabsModule } from '@farris/ui-tabs';
import { LanguageTextboxModule } from '@farris/ui-language-textbox';
import { FarrisSectionModule } from '@farris/ui-section';
import { ColorPickerModule } from 'ngx-color-picker';
import { RtfAppHelpModule } from '@gsp-sys/rtf-ui';
import { RtfAppHelpModule as RtfAppHelpModule$1 } from '@gsp-sys/rtf-apphelp';
import { FarrisPanelComponent, FarrisPanelModule } from '@farris/ui-panel';
import { ExpressionService, ExpressionModule } from '@gsp-svc/expression';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class JointSearchService {
    /**
     * @param {?} jointSearchManager
     * @param {?} lcpService
     */
    constructor(jointSearchManager, lcpService) {
        this.jointSearchManager = jointSearchManager;
        this.lcpService = lcpService;
        this.jointSearchInfo = new Subject();
        this.jointSearchManager.jointsearchInfoChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.jointSearchInfo.next(value);
        }));
    }
    /**
     * @param {?} id
     * @param {?} queryId
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    getjointsearch(id, queryId, queryRelativeUrl) {
        return this.jointSearchManager.getjointsearch(id, queryId, queryRelativeUrl);
    }
    /**
     * @param {?} jointSearchInfo
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    savejointsearch(jointSearchInfo, queryRelativeUrl) {
        return this.jointSearchManager.savejointsearch(jointSearchInfo, queryRelativeUrl);
    }
    /**
     * @param {?} formid
     * @param {?} queryID
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    deletejointsearch(formid, queryID, queryRelativeUrl) {
        return this.jointSearchManager.deletejointsearch(formid, queryID, queryRelativeUrl);
    }
    /**
     * @return {?}
     */
    getLanguageList() {
        return this.jointSearchManager.getLanguageList();
    }
    /**
     * @param {?} params
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    getCol(params, queryRelativeUrl) {
        return this.lcpService.getCol(params, queryRelativeUrl);
    }
}
JointSearchService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
JointSearchService.ctorParameters = () => [
    { type: JointSearchManagerService },
    { type: LcpService }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class JointSearchComponent {
    /**
     * @param {?} renderer
     * @param {?} resolver
     * @param {?} jointSearchService
     * @param {?} injector
     */
    constructor(renderer, resolver, jointSearchService, injector) {
        this.renderer = renderer;
        this.resolver = resolver;
        this.jointSearchService = jointSearchService;
        this.injector = injector;
        this.closeModal = new EventEmitter();
        // 模态框确定后关闭，并传递参数
        this.submitModal = new EventEmitter();
        this.editorParams = {};
        // 查询ID
        this.formId = 'form' + 'ff3ea474-cc65-23b0-cdb1-73c9146cea3b'; // 当前表单ID
        this.modalConfig = {
            title: '联查映射',
            width: 900,
            height: 800,
            showButtons: true
        };
        this.functionSubDatas = []; // 数据
        // 数据
        this.functionParaDatas = [];
        this.size = {};
        this.paraColumns = [];
        this.SubColumns = [];
        this.displaystyle = [
            { 'name': '右键联查', value: 1 },
            { 'name': '超链联查', value: 2 }
        ];
        this.QueryInfoDatas = [];
        this.languages = [];
        this._currentConditionInput = null;
        this.functionParaDatasOfSub = [];
        this.handlebeforeClose = (/**
         * @return {?}
         */
        () => {
            this.dg.endRowEdit();
            this.dg1.endRowEdit();
            return of(true);
        });
        if (this.injector) {
            this.localizeService = this.injector.get(LocalizeService);
            this.language = this.localizeService.language;
            this.expressionService = this.injector.get(ExpressionService);
            this.modalConfig.title = this.localizeService.getValue('ideCmp.drillDown.drillDownName');
            this.displaystyle = this.localizeService.getValue('ideCmp.drillDown.displayStyle');
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.dropDownInitForIDE();
        this.gridInit();
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'editorParams':
                        this.dropDownInitForIDE();
                        break;
                }
            }
        }
    }
    /**
     * @private
     * @return {?}
     */
    dropDownInitForIDE() {
        /** @type {?} */
        const self = this;
        self.formId = 'form' + 'ff3ea474-cc65-23b0-cdb1-73c9146cea3b';
        if (self.editorParams && self.editorParams.queryId) {
            self.queryId = self.editorParams.queryId;
            self.sessionId = self.editorParams.sessionId;
            self.queryRelativeUrl = self.editorParams.queryRelativeUrl;
            self.qoManagerCode = self.editorParams.qoManagerCode;
            self.domJson = self.editorParams.domJson;
            self.viewModelFields = [];
            self.getViewModelFields();
            self.jointSearchService.getLanguageList().subscribe((/**
             * @param {?} data
             * @return {?}
             */
            (data) => {
                if (data && data.length) {
                    data.forEach((/**
                     * @param {?} e
                     * @return {?}
                     */
                    (e) => {
                        self.languages.push({ code: e.code.toLowerCase(), name: e.description });
                    }));
                }
                self.jointSearchService.getjointsearch(self.formId, self.queryId, self.queryRelativeUrl).subscribe((/**
                 * @param {?} data
                 * @return {?}
                 */
                data => {
                    if (data != null) {
                        self.functionSubDatas = JSON.parse(data.joinSearch);
                        self.functionParaDatas = JSON.parse(data.jointparam);
                        // tslint:disable-next-line:prefer-for-of
                        for (let i = 0; i < self.functionSubDatas.length; i++) {
                            if (self.functionSubDatas[i].jointserachdisplaystyle === 2) {
                                self.dg.showColumn('linkfield');
                                break;
                            }
                        }
                    }
                }));
                /** @type {?} */
                const params = {};
                params['qoManagerCode'] = self.qoManagerCode;
                params['pageIndex'] = 0;
                params['schemaId'] = '';
                params['entityData'] = '';
                params['extendCond'] = '';
                self.jointSearchService.getCol(params, self.queryRelativeUrl).subscribe((/**
                 * @param {?} value
                 * @return {?}
                 */
                value => {
                    if (value && value.dynamicCols) {
                        self.dynamicCols = value.dynamicCols;
                    }
                }));
            }));
        }
    }
    /**
     * @return {?}
     */
    gridInit() {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        const enumOpts = { valueField: 'value', textField: 'name', data: this.displaystyle };
        this.SubColumns = [
            { field: 'functioncode', width: 160, title: self.localizeService.getValue('ideCmp.drillDown.columnHeader')[0], template: this.functioncodeTemp },
            { field: 'functionname', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.columnHeader')[1], template: this.functionNameTemp },
            // { field: 'jointsearchid', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.columnHeader')[2], editor: { type: EditorTypes.TEXTBOX, options: {} } },
            {
                field: 'jointserachdisplaystyle', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.columnHeader')[3],
                formatter: { type: 'enum', options: enumOpts },
                editor: { type: EditorTypes.COMBOLIST, options: {
                        data: this.displaystyle,
                        idField: 'value',
                        textField: 'name',
                        selectChange: this.selectChange.bind(this)
                    }
                }
            },
            { field: 'linkfield', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.columnHeader')[6], visible: false, editor: { type: EditorTypes.TEXTBOX, options: {} } },
            {
                field: 'visibleformula', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.columnHeader')[4],
                editor: {
                    type: EditorTypes.INPUTGROUP, options: {
                        groupText: '<i class="f-icon f-icon-lookup"></i>',
                        clickHandle: (/**
                         * @param {?} e
                         * @return {?}
                         */
                        (e) => {
                            this._currentConditionInput = e;
                            this.inputCondExp();
                        })
                    },
                }
            },
        ];
        this.paraColumns = [
            { field: 'para', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.paramColumnHeader')[0], editor: { type: EditorTypes.TEXTBOX, options: {} } },
            { field: 'paraname', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.paramColumnHeader')[1], editor: { type: EditorTypes.TEXTBOX, options: {} } },
            { field: 'paravalue', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.paramColumnHeader')[2], editor: { type: EditorTypes.TEXTBOX, options: {} } },
            {
                field: 'paravaluetype', width: 100, title: self.localizeService.getValue('ideCmp.drillDown.paramColumnHeader')[3], editor: { type: EditorTypes.CHECKBOX, options: {} },
                formatter: { type: 'boolean', options: { trueText: self.localizeService.getValue('ideCmp.drillDown.enumExpress')[0], falseText: self.localizeService.getValue('ideCmp.drillDown.enumExpress')[1] } }
            },
        ];
    }
    /**
     * @private
     * @param {?} $event
     * @return {?}
     */
    selectChange($event) {
        // console.log($event);
        /** @type {?} */
        const self = this;
        if (($event.value.data.value - 0) === 2) {
            this.dg.showColumn('linkfield');
        }
        else {
            this.dg.hideColumn('linkfield');
        }
        if (this.dg.selectedRow) {
            /** @type {?} */
            const index = findIndex(this.functionSubDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                return n.id === self.dg.selectedRow.id;
            }));
            self.functionSubDatas[index].jointserachdisplaystyle = $event.value.data.value;
            self.functionSubDatas = [...self.functionSubDatas];
        }
    }
    /**
     * @private
     * @return {?}
     */
    getViewModelFields() {
        if (this.domJson) {
            /** @type {?} */
            const component = this.domJson.module.components.find((/**
             * @param {?} x
             * @return {?}
             */
            x => x.componentType === 'Frame'));
            this.recursiveGetViewModelFields(component, null);
        }
    }
    /**
     * @private
     * @param {?} component
     * @param {?} contents
     * @return {?}
     */
    recursiveGetViewModelFields(component, contents) {
        if (component) {
            if (component.type === 'QdpFramework') {
                if (component && component.params && component.params.length) {
                    for (const field of component.params) {
                        this.viewModelFields.push(field.ParamCode);
                    }
                }
            }
            else if (component.contents && component.contents.length) {
                this.recursiveGetViewModelFields(null, component.contents);
            }
        }
        else {
            for (let i = 0; i < contents.length; i++) {
                if (contents[i].type === 'QdpFramework') {
                    if (contents[i] && contents[i].params && contents[i].params.length) {
                        for (const field of contents[i].params) {
                            this.viewModelFields.push(field.ParamCode);
                        }
                    }
                }
                else if (contents[i].contents && contents[i].contents.length) {
                    this.recursiveGetViewModelFields(null, contents[i].contents);
                }
            }
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
    }
    /**
     * @return {?}
     */
    clickCancel() {
        this.closeModal.emit();
    }
    /**
     * @return {?}
     */
    clickConfirm() {
        /** @type {?} */
        const self = this;
        self.dg.endRowEdit();
        self.dg1.endRowEdit();
        if (self.functionSubDatas.length > 0) {
            self.jointSearchService.savejointsearch({ Id: EventBus.guid(), joinsearch: JSON.stringify(self.functionSubDatas), jointparam: JSON.stringify(self.functionParaDatas), queryid: self.queryId, FormId: self.formId }, this.queryRelativeUrl).subscribe();
        }
        else {
            self.jointSearchService.deletejointsearch(self.formId, self.queryId, this.queryRelativeUrl).subscribe();
            self.functionSubDatas = [];
            self.functionParaDatas = [];
            self.functionParaDatasOfSub = [];
        }
        this.selectedIndex = -1;
        this.submitModal.emit({ value: this.functionSubDatas });
    }
    /**
     * @return {?}
     */
    handleDialogShow() {
        this.farrisDialog.show();
    }
    /**
     * @return {?}
     */
    addSubHandler() {
        this.functionSubDatas.push({
            'id': EventBus.guid(),
            'queryParaID': this.queryId,
            'searchtype': '',
            'functioncode': '',
            'functionname': null,
            'appEntrance': '',
            'jointsearchid': '',
            'jointserachdisplaystyle': 1,
            'linkfield': '',
            'visibleformula': '',
            'doubleclikjoinsearch': true,
            'destinationqueryId': ''
        });
        this.dg.refresh();
    }
    /**
     * @return {?}
     */
    removeSubHandler() {
        /** @type {?} */
        const self = this;
        if (self.dg.selectedRow) {
            /** @type {?} */
            const id = self.dg.selectedRow.id;
            /** @type {?} */
            const index = findIndex(self.functionSubDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                return n.id === id;
            }));
            self.functionSubDatas.splice(index, 1);
            self.functionSubDatas = [...self.functionSubDatas];
            if (self.functionSubDatas.length === 0) {
                self.functionParaDatas = [];
                self.functionParaDatasOfSub = [];
            }
            else {
                /** @type {?} */
                const params = [];
                // tslint:disable-next-line:prefer-for-of
                for (let i = 0; i < this.functionParaDatas.length; i++) {
                    if (self.functionParaDatas[i].functionid !== id) {
                        params.push(self.functionParaDatas[i]);
                    }
                }
                self.functionParaDatas.push(...params);
            }
            this.dg.refresh();
            this.dg1.refresh();
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    cancelSubHandler(type) {
        this.dg.endRowEdit();
    }
    /**
     * @param {?} data
     * @return {?}
     */
    getFunctionName(data) {
        /** @type {?} */
        let local = 'zh-chs';
        if ((!gsp && !gsp.cache) && gspframeworkService) {
            local = gspframeworkService.rtf.language.getLanguageCode().toLowerCase();
        }
        if (!local) {
            local = 'zh-chs';
        }
        return data[local] ? data[local] : data;
    }
    /**
     * @return {?}
     */
    openFunc() {
        this.appHelp.showHelp(this.sessionId);
    }
    /**
     * @return {?}
     */
    openApp() {
        this.rtfappHelp.showHelp(this.sessionId);
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    selectedFunc($event) {
        /** @type {?} */
        const self = this;
        if (self.dg.selectedRow) {
            /** @type {?} */
            const index = findIndex(self.functionSubDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                return n.id === self.dg.selectedRow.id;
            }));
            self.functionSubDatas[index].functioncode = $event[0].Id;
            self.functionSubDatas[index].functionname = { 'zh-chs': $event[0].Name };
            self.functionSubDatas[index].searchtype = 'func';
            /** @type {?} */
            let staticParam = $event[0].InvokingConfig.staticParams;
            if (staticParam) {
                staticParam = JSON.parse(staticParam);
                for (const staticPara of staticParam) {
                    if (staticPara.name === 'queryId') {
                        self.functionSubDatas[index].destinationqueryId = staticPara.value;
                    }
                }
            }
            self.functionSubDatas = [...self.functionSubDatas];
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    selectedApp($event) {
        /** @type {?} */
        const self = this;
        if (self.dg.selectedRow) {
            /** @type {?} */
            const index = findIndex(this.functionSubDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                return n.id === self.dg.selectedRow.id;
            }));
            self.functionSubDatas[index].functioncode = $event.selectedInvok[0].appId;
            self.functionSubDatas[index].functionname = { 'zh-chs': $event.selectedInvok[0].name };
            self.functionSubDatas[index].appEntrance = $event.selectedInvok[0].appEntrance;
            self.functionSubDatas[index].searchtype = 'app';
            /** @type {?} */
            let staticParam = $event.selectedInvok[0].staticParams;
            if (staticParam) {
                staticParam = JSON.parse(staticParam);
                for (const staticPara of staticParam) {
                    if (staticPara.name === 'queryId') {
                        self.functionSubDatas[index].destinationqueryId = staticPara.value;
                    }
                }
            }
            self.functionSubDatas = [...self.functionSubDatas];
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    findIndex(event) {
        this.selectedIndex = event.data.id;
        this.functionParaDatasOfSub = this.functionParaDatas.filter((/**
         * @param {?} x
         * @return {?}
         */
        x => x.functionid === this.selectedIndex));
        this.dg.endRowEdit();
        this.dg1.endRowEdit();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    cancelEditedPara(event) {
        this.dg1.endRowEdit();
    }
    /**
     * @return {?}
     */
    inputCondExp() {
        /** @type {?} */
        const self = this;
        if (self.dg.selectedRow) {
            /** @type {?} */
            const id = self.dg.selectedRow.id;
            /** @type {?} */
            const index = findIndex(self.functionSubDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                return n.id === id;
            }));
            if (this.viewModelFields) {
                for (const code of this.viewModelFields) {
                    this.expressionService.addContext({
                        key: '@P_' + code,
                        name: code,
                        description: ''
                    });
                }
            }
            // 结果集列信息放进上下文
            if (this.dynamicCols) {
                this.dynamicCols.forEach((/**
                 * @param {?} element
                 * @return {?}
                 */
                element => {
                    this.expressionService.addContext({
                        key: '@R_' + element.bindField,
                        name: element.name,
                        description: ''
                    });
                }));
            }
            self.expressionService.addExpressionText(self.functionSubDatas[index].visibleformula);
            self.expressionService.buildExpression().then((/**
             * @param {?} expressStr
             * @return {?}
             */
            expressStr => {
                self.functionSubDatas[index].visibleformula = expressStr;
                // if (self.dg) {
                //   self.dg.refresh();
                //   self.dg.data = self.functionSubDatas;
                // }
                self.functionSubDatas = [...self.functionSubDatas];
                if (self._currentConditionInput) {
                    self._currentConditionInput.formControl.setValue(expressStr);
                }
            }));
        }
    }
    /**
     * @return {?}
     */
    addParaHandler() {
        /** @type {?} */
        const functionid = this.selectedIndex;
        if (functionid !== -1) {
            this.functionParaDatas.push({
                'id': EventBus.guid(),
                'functionid': functionid,
                'para': '',
                'paraname': '',
                'paravalue': '',
                'paravaluetype': false
            });
            this.functionParaDatasOfSub = this.functionParaDatas.filter((/**
             * @param {?} x
             * @return {?}
             */
            x => x.functionid === this.selectedIndex));
        }
        this.dg1.refresh();
    }
    /**
     * @return {?}
     */
    removeParaHandler() {
        /** @type {?} */
        const self = this;
        if (self.dg1.selectedRow) {
            /** @type {?} */
            const index = findIndex(self.functionParaDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) {
                return n.id === self.dg1.selectedRow.id;
            }));
            self.functionParaDatas.splice(index, 1);
            self.functionParaDatasOfSub = self.functionParaDatas.filter((/**
             * @param {?} x
             * @return {?}
             */
            x => x.functionid === this.selectedIndex));
            self.functionParaDatasOfSub = [...self.functionParaDatasOfSub];
        }
    }
}
JointSearchComponent.decorators = [
    { type: Component, args: [{
                selector: 'joint-search',
                template: "<div class=\"f-utils-flex-column h-100\">\r\n  <div class=\"f-utils-flex-column\" style=\" flex: 1 1 0\">\r\n    <div class=\"f-utils-fill-flex-column farris-split-section m-1 farris-overflow-hidden\">\r\n      <div class=\"farris-form farris-card-content-bg h-100\" (resized)=\"onResized($event)\">\r\n        <fieldSet style=\"height: 11% !important;\">\r\n          <button id=\"addSubFilterRow\" class=\"btn btn-primary mr-1 mb-1\" (click)=\"addSubHandler()\">{{localizeService.getValue('ideCmp.drillDown.btnAdd')}}</button>\r\n          <button id=\"addSubFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"removeSubHandler()\">{{localizeService.getValue('ideCmp.drillDown.btnDelete')}}</button>\r\n          <button id=\"addSubFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"cancelSubHandler($event)\">{{localizeService.getValue('ideCmp.drillDown.btnCancel')}}</button>\r\n        </fieldSet>\r\n        <div class=\"f-utils-fill\" style=\"height: 89% !important;\">\r\n          <farris-datagrid id=\"gridFunctionSub2\" [data]=\"functionSubDatas\"\r\n                           [columns]=\"SubColumns\" #dg=\"datagrid\"\r\n                           [fit]=\"true\" [editable]=\"true\" [editMode]=\"'cell'\"\r\n                           [showCheckbox]=\"false\" [fitColumns]=\"true\"\r\n                           [showLineNumber]=\"true\" [striped]=\"true\"\r\n                           [virtualized]=\"true\" [pagination]=\"false\"\r\n                           (selectChanged)=findIndex($event)>\r\n\r\n          </farris-datagrid>\r\n          <ng-template #functioncodeTemp let-ctx>\r\n            <div class=\"f-datagrid-cell-formgroup farris-group-auto\">\r\n              <input [disabled]=\"true\" type=\"text\" class=\"form-control\" name=\"name\"\r\n                     [(ngModel)]=\"ctx.rowData['functioncode']\">\r\n              <button id=\"functionSelect\" class=\"btn f-rt-btn f-btn-ml btn-secondary\" (click)=\"openFunc()\">\r\n                {{localizeService.getValue('ideCmp.drillDown.menuBtn')}}\r\n              </button>\r\n              <button id=\"appSelect\" class=\"btn f-rt-btn f-btn-ml btn-secondary\" (click)=\"openApp()\">\r\n                {{localizeService.getValue('ideCmp.drillDown.appBtn')}}\r\n              </button>\r\n              <app-rtf-app-help #appHelp (afterHelpConfirm)=\"selectedFunc($event)\" [languageCode]=\"language\"></app-rtf-app-help>\r\n              <app-rtf-application-help #rtfappHelp [initSelectKeys]=\"\" (afterHelpConfirm)=\"selectedApp($event)\" [languageCode]=\"language\"></app-rtf-application-help>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template #functionNameTemp let-ctx>\r\n            <language-textbox [languages]=\"languages\" [(ngModel)]=\"ctx.rowData['functionname']\"></language-textbox>\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"f-utils-flex-column\" style=\" flex: 1 1 0\">\r\n    <div class=\"f-utils-fill-flex-column farris-split-section m-1 farris-overflow-hidden\">\r\n      <div class=\"farris-form farris-card-content-bg h-100\" (resized)=\"onResized($event)\">\r\n        <fieldSet style=\"height: 11% !important;\">\r\n          <button id=\"addFilterRow\" class=\"btn btn-primary mr-1 mb-1\" (click)=\"addParaHandler()\">{{localizeService.getValue('ideCmp.drillDown.btnAdd')}}</button>\r\n          <button id=\"addFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"removeParaHandler()\">{{localizeService.getValue('ideCmp.drillDown.btnDelete')}}</button>\r\n          <button id=\"addFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"cancelEditedPara($event)\">{{localizeService.getValue('ideCmp.drillDown.btnCancel')}}</button>\r\n        </fieldSet>\r\n        <div class=\"f-utils-fill\" style=\"height: 89% !important;\">\r\n          <farris-datagrid id=\"gridFunctionPara2\" [data]=\"functionParaDatasOfSub\"\r\n                           [columns]=\"paraColumns\" #dg1=\"datagrid\"\r\n                           [fit]=\"true\"\r\n                           [editable]=\"true\" [editMode]=\"'cell'\" [showCheckbox]=\"false\" [fitColumns]=\"true\"\r\n                           [showLineNumber]=\"true\" [striped]=\"true\" [total]=\"0\" [pageSize]=\"100\"\r\n                           [virtualized]=\"true\" [pagination]=\"false\">\r\n          </farris-datagrid>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <ng-template #enumFooter>\r\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"clickCancel()\">{{localizeService.getValue('ideCmp.drillDown.btnCancel')}}</button>\r\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"clickConfirm()\">{{localizeService.getValue('ideCmp.drillDown.btnOK')}}</button>\r\n  </ng-template>\r\n",
                encapsulation: ViewEncapsulation.None,
                styles: ["tr .center{text-align:center}"]
            }] }
];
/** @nocollapse */
JointSearchComponent.ctorParameters = () => [
    { type: Renderer2 },
    { type: ComponentFactoryResolver },
    { type: JointSearchService },
    { type: Injector, decorators: [{ type: Optional }] }
];
JointSearchComponent.propDecorators = {
    closeModal: [{ type: Output }],
    submitModal: [{ type: Output }],
    editorParams: [{ type: Input }],
    modalFooter: [{ type: ViewChild, args: ['enumFooter',] }],
    dg: [{ type: ViewChild, args: ['dg',] }],
    dg1: [{ type: ViewChild, args: ['dg1',] }],
    farrisDialog: [{ type: ViewChild, args: ['farrisDialog',] }],
    appHelp: [{ type: ViewChild, args: ['appHelp',] }],
    rtfappHelp: [{ type: ViewChild, args: ['rtfappHelp',] }],
    functioncodeTemp: [{ type: ViewChild, args: ['functioncodeTemp',] }],
    functionNameTemp: [{ type: ViewChild, args: ['functionNameTemp',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ParasMappingService {
    /**
     * @param {?} parasMappingManager
     */
    constructor(parasMappingManager) {
        this.parasMappingManager = parasMappingManager;
        this.paramMappingInfo = new Subject();
        this.parasMappingManager.parasmappingInfoChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.paramMappingInfo.next(value);
        }));
    }
    /**
     * @param {?} id
     * @param {?} queryId
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    getParasMapping(id, queryId, queryRelativeUrl) {
        return this.parasMappingManager.getParasMapping(id, queryId, queryRelativeUrl);
    }
    /**
     * @param {?} paramMappingInfo
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    saveParasMapping(paramMappingInfo, queryRelativeUrl) {
        return this.parasMappingManager.saveParasMapping(paramMappingInfo, queryRelativeUrl);
    }
    /**
     * @param {?} datasourceID
     * @param {?} queryID
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    deleteParasMapping(datasourceID, queryID, queryRelativeUrl) {
        return this.parasMappingManager.deleteParasMapping(datasourceID, queryID, queryRelativeUrl);
    }
}
ParasMappingService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
ParasMappingService.ctorParameters = () => [
    { type: ParasMappingManagerService }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ParasMappingComponent {
    /**
     * @param {?} renderer
     * @param {?} parasMappingService
     * @param {?} msgService
     * @param {?} injector
     */
    constructor(renderer, parasMappingService, msgService, injector) {
        this.renderer = renderer;
        this.parasMappingService = parasMappingService;
        this.msgService = msgService;
        this.injector = injector;
        this.closeModal = new EventEmitter();
        // 模态框确定后关闭，并传递参数
        this.submitModal = new EventEmitter();
        this.editorParams = {};
        this.modalConfig = {
            title: '参数设置',
            width: 900,
            height: 500,
            showButtons: true
        };
        this.colName = '';
        this.size = {};
        this.mappingTypeData = [
            { name: '字段', value: 0 },
            { name: '常量', value: 1 },
            { name: '表达式', value: 2 }
        ];
        this.QueryInfoDatas = [];
        this.saveDatas = {};
        this.currentmode = true;
        this.columns = [];
        this.total = 0;
        this.editMode = 'row';
        this.pageSize = 200;
        this.pageIndex = 1;
        this.handlebeforeClose = (/**
         * @return {?}
         */
        () => {
            if (this.dg1) {
                this.dg1.endRowEdit();
            }
            this.updateParasMapping();
            return of(true);
        });
        if (this.injector) {
            this.localizeService = this.injector.get(LocalizeService);
            this.mappingTypeData = this.localizeService.getValue('ideCmp.paramsMapping.mappingTypeData');
            this.modalConfig.title = this.localizeService.getValue('ideCmp.paramsMapping.paramOption');
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (this.editorParams && this.editorParams.queryId) {
            this.currentmode = true;
            this.queryId = this.editorParams.queryId;
            this.queryparaData = this.editorParams.queryparaData;
            this.sourceparaData = this.editorParams.sourceparaData;
            this.qoManagerCode = this.editorParams.datasourceid;
            this.queryRelativeUrl = this.editorParams.queryRelativeUrl;
            /*
            this.parasMappingService.getParasMapping(this.qoManagerCode , this.queryId, this.queryRelativeUrl).subscribe(
              data => { if (data != null) { this.QueryInfoDatas =  JSON.parse(data.parasmapping.value); } });
              */
            this.parasMappingService.getParasMapping(this.qoManagerCode, this.queryId, this.queryRelativeUrl).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            data => {
                if (data != null) {
                    this.QueryInfoDatas = JSON.parse(data.parasmapping.value);
                }
                else if (this.editorParams.QueryInfoDatas) {
                    this.QueryInfoDatas = this.editorParams.QueryInfoDatas;
                }
            }));
        }
        else {
            this.currentmode = false;
            this.parasMappingService.getParasMapping(this.qoManagerCode, this.queryId, this.queryRelativeUrl).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            data => {
                if (data != null) {
                    this.queryparaData = JSON.parse(data.parasmapping.queryparaData);
                    this.sourceparaData = JSON.parse(data.parasmapping.sourceparaData);
                    this.QueryInfoDatas = JSON.parse(data.parasmapping.value);
                }
            }));
        }
        this.gridInit();
    }
    /**
     * @private
     * @return {?}
     */
    gridInit() {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        const enumOpts = { valueField: 'value', textField: 'name', data: this.queryparaData };
        /** @type {?} */
        const enumOpts1 = { valueField: 'value', textField: 'name', data: this.mappingTypeData };
        /** @type {?} */
        const enumOpts2 = { valueField: 'value', textField: 'name', data: this.sourceparaData };
        this.columns = [
            {
                field: 'parameter', width: 100, title: self.localizeService.getValue('ideCmp.paramsMapping.columnHeader')[0], formatter: { type: 'enum', options: enumOpts },
                editor: {
                    type: EditorTypes.COMBOLIST,
                    options: Object.assign({}, enumOpts, { idField: 'value' }),
                    validators: [
                        { type: 'required', messager: '该字段不能为空！' }
                    ]
                }
            },
            {
                field: 'mappingType', width: 100, title: self.localizeService.getValue('ideCmp.paramsMapping.columnHeader')[1], formatter: { type: 'enum', options: enumOpts1 },
                editor: {
                    type: EditorTypes.COMBOLIST,
                    options: Object.assign({}, enumOpts1, { idField: 'value' })
                }
            },
            {
                field: 'sourceParameter', width: 100, title: self.localizeService.getValue('ideCmp.paramsMapping.columnHeader')[2], formatter: { type: 'enum', options: enumOpts2 },
                editor: {
                    type: EditorTypes.COMBOLIST,
                    options: Object.assign({}, enumOpts2, { idField: 'value' })
                }
            },
            {
                field: 'constant', width: 100, title: self.localizeService.getValue('ideCmp.paramsMapping.columnHeader')[3],
                editor: {
                    type: EditorTypes.TEXTBOX
                }
            },
            {
                field: 'expression', width: 100, title: self.localizeService.getValue('ideCmp.paramsMapping.columnHeader')[4],
                editor: {
                    type: EditorTypes.TEXTBOX
                }
            },
            {
                field: 'paraisused', width: 100, title: self.localizeService.getValue('ideCmp.paramsMapping.columnHeader')[5],
                editor: {
                    type: EditorTypes.CHECKBOX
                }
            }
        ];
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
    }
    /**
     * @return {?}
     */
    clickCancel() {
        if (this.dg2) {
            this.dg2.endRowEdit();
        }
        this.closeModal.emit();
    }
    /**
     * @return {?}
     */
    clickConfirm() {
        /** @type {?} */
        const self = this;
        this.updateParasMapping();
        self.submitModal.emit({ value: self.QueryInfoDatas });
    }
    /**
     * @return {?}
     */
    updateParasMapping() {
        /** @type {?} */
        const self = this;
        if (self.QueryInfoDatas && self.QueryInfoDatas.length) {
            // tslint:disable-next-line:max-line-length
            self.saveDatas = { Id: EventBus.guid(), parasmapping: JSON.stringify({ value: JSON.stringify(self.QueryInfoDatas), queryparaData: JSON.stringify(self.queryparaData), sourceparaData: JSON.stringify(self.sourceparaData) }), queryid: self.queryId, datasourceid: self.qoManagerCode };
            self.parasMappingService.saveParasMapping(self.saveDatas, self.queryRelativeUrl)
                .subscribe();
        }
        else {
            self.parasMappingService.deleteParasMapping(self.qoManagerCode, self.queryId, self.queryRelativeUrl).subscribe();
            self.QueryInfoDatas = [];
        }
    }
    /**
     * @return {?}
     */
    handleDialogShow() {
        this.farrisDialog.show();
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    addFilterRow($event) {
        this.QueryInfoDatas.push({
            'id': EventBus.guid(),
            'parameter': '',
            'sourceParameter': '',
            'mappingType': 0,
            'constant': '',
            'expression': '',
            'paraisused': true
        });
        if (this.dg1) {
            this.dg1.refresh();
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    addFilterRowForIde($event) {
        this.QueryInfoDatas.push({
            'id': EventBus.guid(),
            'parameter': '',
            'sourceParameter': '',
            'mappingType': 0,
            'constant': '',
            'expression': '',
            'paraisused': true
        });
        if (this.dg2) {
            this.dg2.refresh();
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    deleteFilterRow($event) {
        /** @type {?} */
        const self = this;
        if (this.dg1.selectedRow) {
            /** @type {?} */
            const index = findIndex(this.QueryInfoDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.id === self.dg1.selectedRow.id; }));
            this.QueryInfoDatas.splice(index, 1);
            this.dg1.refresh();
        }
        else {
            this.msgService.info(self.localizeService.getValue('ideCmp.paramsMapping.message.validate.select'));
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    deleteFilterRowForIde($event) {
        /** @type {?} */
        const self = this;
        if (this.dg2.selectedRow) {
            /** @type {?} */
            const index = findIndex(this.QueryInfoDatas, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.id === self.dg2.selectedRow.id; }));
            this.QueryInfoDatas.splice(index, 1);
            this.dg2.refresh();
        }
        else {
            this.msgService.info(self.localizeService.getValue('ideCmp.paramsMapping.message.validate.select'));
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    cancelEdit($event) {
        if (this.dg1) {
            this.dg1.endRowEdit();
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    cancelEditForIde($event) {
        if (this.dg2) {
            this.dg2.endRowEdit();
        }
    }
}
ParasMappingComponent.decorators = [
    { type: Component, args: [{
                selector: 'paras-mapping',
                template: "<div class=\"btn-group mr-3\" fDropdown *ngIf=\"!currentmode\">\r\n  <button class=\"btn f-rt-btn f-btn-ml btn-secondary dropdown-toggle\" type=\"button\" id=\"menuButton\" (click)=\"handleDialogShow()\" >\r\n    <span class=\"f-icon f-icon-grid-layout\" role=\"presentation\"></span>\r\n    <span *ngIf=\"!isMultiForm\">&nbsp;{{localizeService.getValue('ideCmp.paramsMapping.paramOption')}}</span>\r\n  </button>\r\n</div>\r\n\r\n<farris-dialog #farrisDialog [title]=\"localizeService.getValue('ideCmp.paramsMapping.paramOption')\" [showButtons]=\"false\" [width]=\"700\" [height]=\"500\" *ngIf=\"!currentmode\" [beforeClose]=\"handlebeforeClose\">\r\n  <div class=\"d-flex flex-column flex-fill position-relative h-100 m-0\">\r\n    <div class=\"flex-fill farris-split-section m-1 farris-overflow-hidden\" (resized)=\"onResized($event)\">\r\n      <div class=\"farris-form farris-card-content-bg\">\r\n          <fieldSet farrisFold [style.height.px]=\"size.height\">\r\n            <button id=\"addFilterRow\" class=\"btn btn-primary mr-1 mb-1\" (click)=\"addFilterRow($event)\">{{localizeService.getValue('ideCmp.paramsMapping.btnAdd')}}</button>\r\n            <button id=\"addFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"deleteFilterRow($event)\">{{localizeService.getValue('ideCmp.paramsMapping.btnDelete')}}</button>\r\n            <button id=\"addFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"cancelEdit($event)\">{{localizeService.getValue('ideCmp.paramsMapping.btnCancel')}}</button>\r\n            <farris-datagrid [data]=\"QueryInfoDatas\" [columns]=\"columns\" #dg1=\"datagrid\" [fit]=\"true\"\r\n              [editable]=\"true\" [editMode]=\"editMode\" [showCheckbox]=\"false\" [fitColumns]=\"true\"\r\n              [showLineNumber] =\"true\" [striped]=\"true\"  [total]=\"total\" [pageSize]=\"100\"\r\n              [virtualized]=\"true\" [pagination]=\"false\">\r\n            </farris-datagrid>\r\n          </fieldSet>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</farris-dialog>\r\n<div class=\"d-flex flex-column flex-fill position-relative h-100 m-0\" *ngIf=\"currentmode\">\r\n  <div class=\"flex-fill farris-split-section m-1 farris-overflow-hidden\" (resized)=\"onResized($event)\">\r\n    <div class=\"farris-form farris-card-content-bg\">\r\n        <fieldSet farrisFold [style.height.px]=\"size.height\">\r\n          <button id=\"addFilterRow\" class=\"btn btn-primary mr-1 mb-1\" (click)=\"addFilterRowForIde($event)\">{{localizeService.getValue('ideCmp.paramsMapping.btnAdd')}}</button>\r\n            <button id=\"addFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"deleteFilterRowForIde($event)\">{{localizeService.getValue('ideCmp.paramsMapping.btnDelete')}}</button>\r\n            <button id=\"addFilterRow\" class=\"btn btn-secondary mr-1 mb-1\" (click)=\"cancelEditForIde($event)\">{{localizeService.getValue('ideCmp.paramsMapping.btnCancel')}}</button>\r\n            <farris-datagrid [data]=\"QueryInfoDatas\" [columns]=\"columns\" #dg2=\"datagrid\" [fit]=\"true\"\r\n              [editable]=\"true\" [editMode]=\"editMode\" [showCheckbox]=\"false\" [fitColumns]=\"true\"\r\n              [showLineNumber] =\"true\" [striped]=\"true\"  [total]=\"total\" [pageSize]=\"100\"\r\n              [virtualized]=\"true\" [pagination]=\"false\">\r\n            </farris-datagrid>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n</div>\r\n<ng-template #enumFooter>\r\n  <button type=\"button\" class=\"btn btn-secondary\" (click)=\"clickCancel()\">{{localizeService.getValue('ideCmp.paramsMapping.btnCancel')}}</button>\r\n  <button type=\"button\" class=\"btn btn-primary\" (click)=\"clickConfirm()\">{{localizeService.getValue('ideCmp.paramsMapping.btnOK')}}</button>\r\n</ng-template>\r\n",
                encapsulation: ViewEncapsulation.None,
                styles: ["tr .center{text-align:center}"]
            }] }
];
/** @nocollapse */
ParasMappingComponent.ctorParameters = () => [
    { type: Renderer2 },
    { type: ParasMappingService },
    { type: MessagerService, decorators: [{ type: Optional }] },
    { type: Injector, decorators: [{ type: Optional }] }
];
ParasMappingComponent.propDecorators = {
    closeModal: [{ type: Output }],
    submitModal: [{ type: Output }],
    editorParams: [{ type: Input }],
    queryId: [{ type: Input }],
    qoManagerCode: [{ type: Input }],
    queryRelativeUrl: [{ type: Input }],
    isMultiForm: [{ type: Input }],
    modalFooter: [{ type: ViewChild, args: ['enumFooter',] }],
    farrisDialog: [{ type: ViewChild, args: ['farrisDialog',] }],
    dg1: [{ type: ViewChild, args: ['dg1',] }],
    dg2: [{ type: ViewChild, args: ['dg2',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class PopupAnchorDirective {
    /**
     * @param {?} element
     */
    constructor(element) {
        this.element = element;
    }
}
PopupAnchorDirective.decorators = [
    { type: Directive, args: [{
                // tslint:disable-next-line:directive-selector
                selector: '[popupAnchor]',
                exportAs: 'popupAnchor'
            },] }
];
/** @nocollapse */
PopupAnchorDirective.ctorParameters = () => [
    { type: ElementRef }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ChartsTypeComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.chartsType = {
            series: {
                type: null
            }
        };
        this.chartsTypeData = [
            { name: '请选择', value: -1 },
            { name: '折线图', value: 'line' },
            { name: '柱状图', value: 'bar' },
            { name: '饼状图', value: 'pie' },
            { name: '面积图', value: 'line1' },
            { name: '散点图', value: 'scatter' },
            { name: '地图散点', value: 'effectScatter' },
        ];
        this.chartsTypeSelectValue = -1;
        this.chartTypeChange = new EventEmitter();
        this.localizeService = this.injector.get(LocalizeService);
        this.chartsTypeData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsType.chartsTypeData');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        /** @type {?} */
        const self = this;
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.chartsType) {
                            /** @type {?} */
                            const str = JSON.stringify(newValue.schemaValue.chartsType);
                            this.chartsType = JSON.parse(str);
                            /** @type {?} */
                            const index = findIndex(this.chartsTypeData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) { return c.value === (self.chartsType.series.type || -1); }));
                            if (index >= 0) {
                                this.chartsTypeSelectValue = this.chartsTypeData[index].value;
                                this.valueChange(this.chartsTypeSelectValue); // 更新第二个界面
                            }
                        }
                        break;
                }
            }
        }
    }
    /**
     * @param {?} value
     * @return {?}
     */
    valueChange(value) {
        this.chartsType.series.type = value.value || -1;
        this.chartTypeChange.emit(value.value);
    }
    /**
     * @return {?}
     */
    getChartsTypeOption() {
        if (this.chartsTypeSelectValue !== -1) {
            this.chartsType.series.type = this.chartsTypeSelectValue;
            if (this.chartsType.series.type.indexOf('1') >= 0) {
                this.chartsType.series.areaStyle = {};
            }
            else {
                delete this.chartsType.series.areaStyle;
            }
        }
        return this.chartsType;
    }
}
ChartsTypeComponent.decorators = [
    { type: Component, args: [{
                selector: 'charts-type',
                template: "<div class=\"flex-fill farris-split-section m-1 farris-overflow-hidden\">\r\n  <div class=\"farris-form farris-card-content-bg\">\r\n    <div class=\"form-row m-0\">\r\n      <div class=\"col-12 col-md-12 col-lg-12\">\r\n        <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" for=\"chartsType\" style=\"width: 5rem; min-width: 5rem;\">\r\n              <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsType.chartsType')}}:</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <farris-combo-list id=\"chartsType\" [(ngModel)]=\"chartsTypeSelectValue\" [data]=\"chartsTypeData\"\r\n                [textField]=\"'name'\" [idField]=\"'value'\" (valueChange)=\"valueChange($event)\" [enableClear]=\"false\"></farris-combo-list>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-md-12 col-lg-12\">\r\n        <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" for=\"colName\" style=\"width: 5rem; min-width: 5rem;\">\r\n              <span class=\"farris-label-text\"></span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <img *ngIf=\"chartsTypeSelectValue=='line'\"\r\n                src=\"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik05OTAsOTA5LjhIMjkuMkgxMHYtMTYuOVY5MC4yaDM4LjNWODc2SDk5MFY5MDkuOHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNODIuMiw3NjQuOGwxMDcuNi0yMDguMWwxNS40LTI5LjhsMjYuOCwyMC4zTDM5OSw2NzQuMmwyMjguMi00MzcuNmwzMy02My4ybDE5LjMsNjguNmw4MS4yLDI4OS41bDE0MC41LTU4LjJsMjEuNiw1MmwtMTY5LjksNzAuNGwtMjkuNCwxMi4ybC04LjYtMzAuNmwtNzAuNS0yNTEuNGwtMjEwLjcsNDA0bC0xNS41LDI5LjdsLTI2LjctMjAuM0wyMjQuNCw2MTIuNGwtOTIuMSwxNzguMkw4Mi4yLDc2NC44eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjwvZz48L3N2Zz4gIA==\"\r\n                width=\"128\" height=\"128\">\r\n              <img *ngIf=\"chartsTypeSelectValue=='bar'\"\r\n                src=\"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDUxMS4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiPjxwYXRoIGQ9Ik0xMDAsMTEwdi00MDMwLjZoNDkwMGg0OTAwdjE0OC4ydjE0OC4yaC0zNjUuNUg5MTY5bC00LDIxNzkuM2MtNS45LDI0MzQuMiw1LjksMjI0Mi41LTE0OC4yLDIzNTkuMWwtNzEuMSw1NS4zbC02MjAuNCw1LjljLTYxNC41LDUuOS02MjAuNCw1LjktNjk5LjQtMzkuNWMtNDUuNS0yNS43LTEwMC44LTgxLTEyOC40LTEyNi41bC00Ny40LTgxdi0yMTc1LjR2LTIxNzcuM2gtMTk3LjZoLTE5Ny42Vi0yNTA2YzAsNzgwLjQtNS45LDExNDQtMjMuNywxMjA3LjJjLTMxLjYsMTI4LjQtMTQwLjMsMjMzLjEtMjcwLjcsMjYwLjhjLTEzNC4zLDI3LjYtMTAxNS41LDI3LjYtMTE0OS45LDBjLTEzOC4zLTI5LjYtMjQzLTEzNC40LTI3Mi43LTI3Mi43Yy0xMy44LTY5LjItMjEuNy00NzYuMi0yMS43LTEyMDcuMnYtMTEwNi41aC0xOTcuNkg0OTIxdjE3NjguM2MwLDE5MzQuMyw1LjksMTg0OS4zLTExNi42LDE5NTIuMWMtMTA2LjcsODguOS0xNjYsOTQuOC03ODQuNCw4OC45bC01NzUtNS45bC03OS01My4zYy00My41LTI3LjctOTQuOC04NS0xMTYuNi0xMjguNGMtMzUuNi03MS4xLTM3LjUtMTUwLjEtNDMuNS0xODQ3LjRsLTQtMTc3NC4zaC0xOTcuNmgtMTk1LjZsLTUuOSw3OTYuMmwtNS45LDc5Ni4zbC01My40LDgxYy05OC44LDE1MC4yLTEyNC41LDE1NC4xLTc5Ni4yLDE1NC4xYy01ODIuOSwwLTU5NC43LDAtNjcxLjgtNDUuNGMtNDMuNS0yNS43LTEwMi43LTc3LjEtMTI4LjQtMTE2LjZsLTQ5LjQtNzMuMWwtNS45LTc5Ni4zbC01LjktNzk2LjJINzQyLjFIMzk2LjRWMjU4LjJ2Mzg4Mi41SDI0OC4ySDEwMFYxMTB6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTc4OTQuNiwzMzg3LjljLTM2OS41LTUxLjQtNjgzLjYtOTQuOC02OTcuNS05NC44Yy0xNS44LTIsNzktMTEyLjYsMjA3LjUtMjQ5czIzMy4xLTI1Ni45LDIzMy4xLTI2NC44YzAtOS45LTMzMy45LTMzMy45LTc0MC45LTcyMy4xcy03OTguMi03NjIuNy04NjkuNC04MzEuOEw1ODk5LDEwOTcuOWwtOTY2LjIsNTUzLjJjLTUzMS41LDMwNi4zLTk3NC4xLDU1MS4zLTk4Miw1NDkuM2MtOS45LTMuOS00NjYuMy00MjYuOC0xMDE1LjYtOTQwLjVsLTk5Ny44LTkzNC42bDkyLjktMTA2LjdjNTMuMy01OS4zLDk4LjgtMTA4LjcsMTA0LjctMTA4LjdjNS45LDIsNDI2LjgsMzkxLjIsOTM2LjUsODY5LjRsOTI2LjcsODY5LjRsNjEuMy0zNy41YzQ1MC41LTI3MC43LDE4NzUtMTA3MC45LDE4OTQuOC0xMDYxYzExLjksNS45LDQ0Ni41LDQxNC45LDk2Mi4yLDkxMC44bDkzOC41LDkwMWwyMzcuMS0yNDlsMjM1LjEtMjQ5bDEzNC40LDY3Ny43YzEzNi4zLDY4OS42LDE0Ni4yLDc0OC44LDEyMC41LDc0NC45Qzg1NzIuMywzNDg0LjcsODI2NCwzNDQxLjIsNzg5NC42LDMzODcuOXoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPiAg\"\r\n                width=\"128\" height=\"128\">\r\n              <img *ngIf=\"chartsTypeSelectValue=='pie'\"\r\n                src=\"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik01NjEuMyw0MzguOFYxMEM4MTQuOSwxMCw5OTAsMTg1LjEsOTkwLDQzOC44SDU2MS4zeiBNNDY5LjQsOTkwQzIxNS43LDk5MCwxMCw3ODQuMywxMCw1MzAuNkMxMCwyNTQsMjExLjgsNzEuMyw1MDAsNzEuM1Y1MDBoNDI4LjhDOTI4LjgsNzUzLjcsNzIzLjEsOTkwLDQ2OS40LDk5MHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48L2c+PC9zdmc+ICA=\"\r\n                width=\"128\" height=\"128\">\r\n              <img *ngIf=\"chartsTypeSelectValue=='line1'\"\r\n                src=\"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDUxMS4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiPjxwYXRoIGQ9Ik0xMDAsMTEwdi00ODU5LjdoNDc5OS4yaDQ4MDEuMmwtNiwxMzUuMWwtNiwxMzcuMWwtNDY0MS45LDYuMWwtNDY0My45LDR2MTQxOS42djE0MjEuNmwxMTQuOSwxMjlDNzExLTEyODEuNCwyMDIzLjcsNjkuNywyMDQxLjgsNjkuN2MxMC4xLDAsMzc1LjEtMzA0LjUsODEyLjYtNjc3LjVjNTc2LjctNDkwLDgwMi41LTY3MS41LDgyMC43LTY1Ny40YzE0LjEsMTIuMSw0NzcuOSw1OTguOSwxMDMyLjQsMTMwMi42YzU1NC41LDcwMy43LDEwMTQuMywxMjgwLjQsMTAyMC4zLDEyODIuNWM4LjEsMCwzOTcuMi0zOTkuMyw4NjUuMS04ODcuMmM0NjkuOC00ODgsODU1LTg4NS4yLDg1OS04ODMuMmMyLDQsNDYzLjgsODk5LjMsMTAyNi40LDE5OTIuM0M5MDM5LDI2MzQuNiw5NTA2LjgsMzUzNiw5NTE0LjksMzU0NGMxMC4xLDEwLjEsOTAuNy0yMC4yLDE4MS41LTY0LjVjODguNy00Ni40LDE3MS40LTgyLjcsMTgzLjUtODIuN3MyMC4yLDUwLjQsMjAuMiwxMTdjMCwxMzMuMS0zOC4zLDcyNy45LTU2LjUsODkzLjNsLTE0LjEsMTE0LjlsLTQ2My44LTI5OC40Yy0yNTQuMS0xNjUuNC00NjUuOC0zMDYuNS00NjcuOC0zMTYuNmMtNC04LjEsNzQuNi01OC41LDE3MS40LTEwOC45Yzk2LjgtNTAuNCwxNzMuNC0xMDAuOCwxNzEuNC0xMTIuOWMtMi0xMC4xLTM4OS4yLTc2OC4zLTg1OS0xNjgxLjdDNzkxMS44LDEwOTAsNzQ5NC40LDI3OS40LDc0NTYsMjA0LjhsLTY4LjUtMTM5LjFsLTg1Myw4NDIuOWMtNzA5LjgsNzAxLjctODU3LDgzOC45LTg3Ny4yLDgxMi42QzU1MTIuMiwxNTI5LjYsMzYyMi44LTg1Ny45LDM2MTYuNy04NTcuOWMtOC4xLDAtMTAwMC4yLDgzOC44LTE0ODIuMSwxMjUyLjJsLTExMi45LDk2LjhsLTgwNC42LTgzMC44bC04MDQuNi04MzIuOGwtNiwzMDcxLjFsLTQsMzA3MS4xSDI1MS4ySDEwMFYxMTB6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTg2MDEuNCwxMTI2LjNDODAxNC42LDEzLjIsNzUyOC43LTg5OC4yLDc1MTguNi04OTQuMmMtMTAuMSw0LTQxNy40LDM5OS4zLTkwNy40LDg4MS4yYy00ODgsNDgxLjktODk1LjMsODY3LjEtOTAzLjQsODU3Yy0yNC4yLTI2LjItMTk4Ni4yLTI1MTIuNS0yMDAwLjMtMjUzNC43Yy04LjEtMTAuMS0zNzUuMSwyODguNC04MTguNyw2NjUuNGMtNDQxLjYsMzc3LjEtODE0LjYsNjg5LjYtODI2LjcsNjk3LjdjLTI2LjIsMTYuMS0xMjg4LjUtMTI4Ni41LTEzNDAuOS0xMzgzLjNjLTM0LjMtNTguNS0zNi4zLTE1OS4zLTM2LjMtMTI2MC4zdi0xMTkzLjhsNTQuNC0yMi4yYzM2LjMtMTQuMSwxNDM3LjctMTYuMiw0MzI5LjQtOC4xYzIzNTMuMiw2LjEsNDM1NS41LDEwLjEsNDQ1NC4zLDEwLjFoMTc1LjR2MzY3MGMwLDIwMTguNS02LDM2NzAtMTQuMSwzNjcwQzk2NzQuMSwzMTU0LjgsOTE4OC4yLDIyNDEuNCw4NjAxLjQsMTEyNi4zeiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjwvZz48L2c+PC9zdmc+ICA=\"\r\n                width=\"128\" height=\"128\">\r\n              <img *ngIf=\"chartsTypeSelectValue=='scatter'\"\r\n                src=\"data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik04MCw1NzB2MjA5LjhjMCwzOC41LDY5LjksNjkuOSw2OS45LDY5LjloNzY5LjFjMCwwLDcwLjktMTEuNCw3MC45LDIwLjRjMCwzMS43LTMzLjcsNDguNy0zMy43LDQ4LjdsLTg0NS45LTEuMkM5LDkxNy42LDEwLDgwNS40LDEwLDgwNS40VjEyMS4xYzAtMzQsNDkuNy0zOS43LDQ5LjctMzkuN2MzMS43LDAsMjAuMyw2OSwyMC4zLDY5djM0OS42TDgwLDU3MHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNNjU3LjcsNTgxLjRjMCw0Ni45LDM4LDg0LjksODQuOSw4NC45YzQ2LjksMCw4NC45LTM4LDg0LjktODQuOXMtMzgtODQuOS04NC45LTg0LjlDNjk1LjcsNDk2LjQsNjU3LjcsNTM0LjUsNjU3LjcsNTgxLjRMNjU3LjcsNTgxLjR6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTYwMS4xLDQ1OC43YzQxLjcsMCw3NS41LTMzLjgsNzUuNS03NS41YzAtNDEuNy0zMy44LTc1LjUtNzUuNS03NS41cy03NS41LDMzLjgtNzUuNSw3NS41QzUyNS42LDQyNC45LDU1OS40LDQ1OC43LDYwMS4xLDQ1OC43eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjxwYXRoIGQ9Ik02NTcuNywyNzBjNDEuNywwLDc1LjUtMzMuOCw3NS41LTc1LjVjMC00MS43LTMzLjgtNzUuNS03NS41LTc1LjVzLTc1LjUsMzMuOC03NS41LDc1LjVDNTgyLjIsMjM2LjIsNjE2LDI3MCw2NTcuNywyNzB6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTg5My42LDIxMy40YzM2LjUsMCw2Ni0yOS42LDY2LTY2YzAtMzYuNS0yOS42LTY2LTY2LTY2Yy0zNi41LDAtNjYsMjkuNi02Niw2NkM4MjcuNSwxODMuOCw4NTcuMSwyMTMuNCw4OTMuNiwyMTMuNHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNODQ2LjQsNDM5LjhjNDEuNywwLDc1LjUtMzMuOCw3NS41LTc1LjVjMC00MS43LTMzLjgtNzUuNS03NS41LTc1LjVjLTQxLjcsMC03NS41LDMzLjgtNzUuNSw3NS41Qzc3MC45LDQwNiw4MDQuNyw0MzkuOCw4NDYuNCw0MzkuOHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNMTQ4LjIsNjM4YzAsMzYuNSwyOS42LDY2LDY2LDY2YzM2LjUsMCw2Ni0yOS42LDY2LTY2cy0yOS42LTY2LTY2LTY2QzE3Ny43LDU3MS45LDE0OC4yLDYwMS41LDE0OC4yLDYzOCIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzYuOSw1MzQuMmM1Mi4xLDAsOTQuNC00Mi4yLDk0LjQtOTQuNGMwLTUyLjEtNDIuMi05NC40LTk0LjQtOTQuNHMtOTQuNCw0Mi4yLTk0LjQsOTQuNEMyNDIuNSw0OTIsMjg0LjgsNTM0LjIsMzM2LjksNTM0LjJ6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTM1NS43LDcxMy41YzAsMzYuNSwyOS42LDY2LDY2LjEsNjZjMzYuNSwwLDY2LjEtMjkuNiw2Ni4xLTY2YzAtMzYuNS0yOS42LTY2LjEtNjYuMS02Ni4xQzM4NS4zLDY0Ny40LDM1NS43LDY3NywzNTUuNyw3MTMuNXoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNNTM1LDY0Ny40YzM2LjUsMCw2Ni0yOS42LDY2LTY2YzAtMzYuNS0yOS42LTY2LTY2LTY2Yy0zNi41LDAtNjYsMjkuNi02Niw2NkM0NjksNjE3LjgsNDk4LjYsNjQ3LjQsNTM1LDY0Ny40eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjwvZz48L3N2Zz4gIA==\"\r\n                width=\"128\" height=\"128\">\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
ChartsTypeComponent.ctorParameters = () => [
    { type: Injector }
];
ChartsTypeComponent.propDecorators = {
    currSchema: [{ type: Input }],
    chartTypeChange: [{ type: Output }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ChartsDataComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        // 一类一排
        this.live1 = [1, 1, 0, 0, 0, 0, 0];
        this.live2 = [0, 0, 1, 1, 1, 1, 1];
        this.live3 = [0, 0, 1, 1, 0, 0, 0];
        this.live = [];
        this.axisTypeData = [
            { name: '分类', value: 'category' },
            { name: '值', value: 'value' }
        ];
        this.xAxisTypeSelectValue = this.axisTypeData[0].value;
        this.yAxisTypeSelectValue = this.axisTypeData[1].value;
        this.xAxisDisableItemIndex = -1;
        this.yAxisDisableItemIndex = -1;
        this.xPositionData = [
            { name: '下', value: 'bottom' },
            { name: '上', value: 'top' }
        ];
        this.xPositionValue = this.xPositionData[0].value;
        this.yPositionData = [
            { name: '左', value: 'left' },
            { name: '右', value: 'right' }
        ];
        this.yPositionValue = this.yPositionData[0].value;
        this.bindingData = [
        // { 'name': 'Code', value: 'Code' },
        // { 'name': 'Name', value: 'Name' },
        // { 'name': 'Value', value: 'Value' },
        ];
        this.barTypeData = [
            { name: '单列', value: 1 },
            { name: '多列', value: 2 },
            { name: '叠加', value: 3 },
        ];
        this.barTypeSelectValue = this.barTypeData[0];
        this.dimensionFieldList = [];
        this.indicatorFieldList = [];
        this.xAxisBindingFeildList = [];
        this.yAxisBindingFeildList = [];
        // legendBindingFeildList: any[] = [];
        this.firstBindingFeildList = [];
        this.secondBindingFeildList = [];
        this.thirdBindingFeildList = [];
        this.fourthBindingFeildList = [];
        this.fifthBindingFeildList = [];
        this.aggreData = [
            { name: '请选择', value: 0 },
            { name: '合计', value: 1 },
            { name: '最小值', value: 2 },
            { name: '最大值', value: 3 },
            { name: '计数', value: 4 },
            { name: '平均值', value: 5 }
        ];
        this.aggreSelectValue = this.aggreData[0].value;
        this.size = {};
        this.localizeService = this.injector.get(LocalizeService);
        this.axisTypeData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.axisTypeData');
        this.xPositionData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.xPositionData');
        this.yPositionData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.yPositionData');
        this.barTypeData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.barTypeData');
        this.aggreData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateData');
        // this.aggreData.splice(0, 1);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        /** @type {?} */
        const self = this;
        self.live = self.live1;
        if (self.chartsType === 'effectScatter') {
            self.live = self.live2;
        }
        if (self.chartsType === 'pie' || self.chartsType === 'map') {
            self.live = self.live3;
        }
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.groupSummarySet) {
                            this.groupSummarySet = JSON.parse(JSON.stringify(newValue.schemaValue.groupSummarySet));
                            this.dimensionFieldList = (this.groupSummarySet && this.groupSummarySet.dimensions) || [];
                            this.indicatorFieldList = (this.groupSummarySet && this.groupSummarySet.indicators) || [];
                        }
                        // todo :地图改的bug
                        if (this.chartsType !== 'effectScatter' && this.chartsType !== 'pie' && this.chartsType !== 'map') {
                            if (newValue.schemaValue && newValue.schemaValue.chartsData) {
                                /** @type {?} */
                                const str = JSON.stringify(newValue.schemaValue.chartsData);
                                this.chartsData = JSON.parse(str);
                                /** @type {?} */
                                let index = findIndex(this.axisTypeData, (/**
                                 * @param {?} c
                                 * @return {?}
                                 */
                                function (c) {
                                    return c.value === (self.chartsData.xAxis ? self.chartsData.xAxis.type || 'category' : 'category');
                                }));
                                this.xAxisTypeSelectValue = this.axisTypeData[index].value;
                                index = findIndex(this.axisTypeData, (/**
                                 * @param {?} c
                                 * @return {?}
                                 */
                                function (c) {
                                    return c.value === (self.chartsData.xAxis ? self.chartsData.yAxis.type || 'value' : 'value');
                                }));
                                this.yAxisTypeSelectValue = this.axisTypeData[index].value;
                                index = findIndex(this.xPositionData, (/**
                                 * @param {?} c
                                 * @return {?}
                                 */
                                function (c) {
                                    return c.value === (self.chartsData.xAxis ? self.chartsData.xAxis.position || 'bottom' : 'bottom');
                                }));
                                this.xPositionValue = this.xPositionData[index].value;
                                index = findIndex(this.yPositionData, (/**
                                 * @param {?} c
                                 * @return {?}
                                 */
                                function (c) {
                                    return c.value === (self.chartsData.xAxis ? self.chartsData.yAxis.position || 'left' : 'left');
                                }));
                                this.yPositionValue = this.yPositionData[index].value;
                                if (this.chartsData && this.chartsData.series && this.chartsData.series.type) {
                                    this.chartsType = this.chartsData.series.type;
                                }
                                this.xAxisBindingFeildList = this.chartsData.series.encode.x || this.chartsData.series.encode.name || [];
                                this.yAxisBindingFeildList = this.chartsData.series.encode.y || this.chartsData.series.encode.value1 || [];
                            }
                            // this.legendBindingFeildList = this.chartsData.legend.data||[];
                        }
                        else {
                            if (newValue.schemaValue && newValue.schemaValue.chartsData) {
                                /** @type {?} */
                                const str = JSON.stringify(newValue.schemaValue.chartsData);
                                this.chartsData = JSON.parse(str);
                                // this.legendBindingFeildList = this.chartsData.legend.data||[];
                                this.firstBindingFeildList = this.chartsData.series.encode.name || this.chartsData.series.encode.x || [];
                                this.secondBindingFeildList = this.chartsData.series.encode.value1 || this.chartsData.series.encode.y || [];
                                this.thirdBindingFeildList = this.chartsData.series.encode.lng || [];
                                this.fourthBindingFeildList = this.chartsData.series.encode.lat || [];
                                this.fifthBindingFeildList = this.chartsData.series.encode.value2 || [];
                            }
                        }
                        break;
                    case 'colList':
                        this.bindingData = newValue;
                        break;
                    case 'chartsType':
                        this.chartsType = newValue;
                        break;
                }
            }
        }
    }
    /**
     * @param {?} value
     * @return {?}
     */
    barValueChange(value) {
    }
    /**
     * @param {?} itemArgs
     * @return {?}
     */
    xItemDisabled(itemArgs) {
        return itemArgs.index === this.xAxisDisableItemIndex;
    }
    /**
     * @param {?} itemArgs
     * @return {?}
     */
    yItemDisabled(itemArgs) {
        return itemArgs.index === this.yAxisDisableItemIndex;
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
    }
    /**
     * @param {?} type
     * @return {?}
     */
    handleBinding(type) {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        let index = -1;
        if (type === 'dimension') {
            if (!this.dimensionField) {
                return;
            }
            index = findIndex(this.dimensionFieldList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.dimensionField;
            }));
            if (index < 0) {
                this.dimensionFieldList.push(this.dimensionField);
            }
        }
        else if (type === 'indicator') {
            if (!this.indicatorField || !this.aggreSelectValue || this.aggreSelectValue === 0 || this.aggreSelectValue === '0') {
                return;
            }
            index = findIndex(this.indicatorFieldList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.indicatorField;
            }));
            if (index < 0) {
                this.indicatorFieldList.push(this.aggreSelectValue + ';' + this.indicatorField);
            }
        }
        else if (type === 'x') {
            if (!this.xAxisFeild) {
                return;
            }
            index = findIndex(this.xAxisBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.xAxisFeild;
            }));
            if (index < 0) {
                this.xAxisBindingFeildList.push(this.xAxisFeild);
            }
        }
        else if (type === 'y') {
            if (!this.yAxisFeild) {
                return;
            }
            index = findIndex(this.yAxisBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.yAxisFeild;
            }));
            if (index < 0) {
                this.yAxisBindingFeildList.push(this.yAxisFeild);
            }
        }
        else if (type === 'f') {
            if (!this.firstFeild) {
                return;
            }
            index = findIndex(this.firstBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.firstFeild;
            }));
            if (index < 0) {
                this.firstBindingFeildList.push(this.firstFeild);
            }
        }
        else if (type === 's') {
            if (!this.secondFeild || !this.secondFeild) {
                return;
            }
            index = findIndex(this.secondBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.secondFeild;
            }));
            if (index < 0) {
                this.secondBindingFeildList.push(this.secondFeild);
            }
        }
        else if (type === 't') {
            if (!this.thirdFeild) {
                return;
            }
            index = findIndex(this.thirdBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.thirdFeild;
            }));
            if (index < 0) {
                this.thirdBindingFeildList.push(this.thirdFeild);
            }
        }
        else if (type === '4') {
            if (!this.fourthFeild) {
                return;
            }
            index = findIndex(this.fourthBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.fourthFeild;
            }));
            if (index < 0) {
                this.fourthBindingFeildList.push(this.fourthFeild);
            }
        }
        else if (type === '5') {
            if (!this.fifthFeild) {
                return;
            }
            index = findIndex(this.fifthBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.fifthFeild;
            }));
            if (index < 0) {
                this.fifthBindingFeildList.push(this.fifthFeild);
            }
        }
    }
    /**
     * @param {?} type
     * @param {?} feild
     * @return {?}
     */
    handleRemoveFeild(type, feild) {
        /** @type {?} */
        let index = -1;
        if (type === 'dimension') {
            index = findIndex(this.dimensionFieldList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.dimensionFieldList.splice(index, 1);
        }
        else if (type === 'indicator') {
            index = findIndex(this.indicatorFieldList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c.indexOf(feild) >= 0;
            }));
            this.indicatorFieldList.splice(index, 1);
        }
        else if (type === 'x') {
            index = findIndex(this.xAxisBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.xAxisBindingFeildList.splice(index, 1);
        }
        else if (type === 'y') {
            index = findIndex(this.yAxisBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.yAxisBindingFeildList.splice(index, 1);
        }
        else if (type === 'f') {
            index = findIndex(this.firstBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.firstBindingFeildList.splice(index, 1);
        }
        else if (type === 's') {
            index = findIndex(this.secondBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.secondBindingFeildList.splice(index, 1);
        }
        else if (type === 't') {
            index = findIndex(this.thirdBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.thirdBindingFeildList.splice(index, 1);
        }
        else if (type === '4') {
            index = findIndex(this.fourthBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.fourthBindingFeildList.splice(index, 1);
        }
        else if (type === '5') {
            index = findIndex(this.fifthBindingFeildList, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.fifthBindingFeildList.splice(index, 1);
        }
    }
    /**
     * @return {?}
     */
    getChartsDataOption() {
        /** @type {?} */
        const option = {
            series: {
                type: null,
                encode: {},
            },
        };
        if (this.chartsType !== 'effectScatter' && this.chartsType !== 'pie' && this.chartsType !== 'map') {
            option.xAxis = {
                type: null,
                position: 'bottom',
                axisLine: {
                    show: true,
                },
            };
            option.yAxis = {
                type: null,
                position: 'left',
                axisLine: {
                    show: true,
                },
            };
            option.series.encode = {
                x: [this.xAxisBindingFeildList[0]],
                y: this.yAxisBindingFeildList,
            };
            option.tooltip = {
                padding: 10,
                backgroundColor: '#222',
                borderColor: '#f21',
                borderWidth: 1,
            };
            if (this.xAxisTypeSelectValue) {
                option.xAxis.type = this.xAxisTypeSelectValue;
            }
            if (this.xPositionValue) {
                option.xAxis.position = this.xPositionValue;
            }
            if (this.yAxisTypeSelectValue) {
                option.yAxis.type = this.yAxisTypeSelectValue;
            }
            if (this.yPositionValue) {
                option.yAxis.position = this.yPositionValue;
            }
        }
        if (this.chartsType !== 'effectScatter' && this.chartsType !== 'pie' && this.chartsType !== 'map' && this.yAxisBindingFeildList.length > 1) {
            option.legend = {};
            option.legend.show = true;
            option.legend.data = [];
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < this.yAxisBindingFeildList.length; i++) {
                // tslint:disable-next-line:prefer-for-of
                for (let j = 0; j < this.colList.length; j++) {
                    if (this.colList[j].bindField === this.yAxisBindingFeildList[i]) {
                        option.legend.data.push(this.colList[j].name);
                        break;
                    }
                }
            }
        }
        if (this.chartsType === 'pie') {
            option.xAxis = {
                type: null,
                position: 'bottom',
                axisLine: {
                    show: false,
                },
            };
            option.yAxis = {
                type: null,
                position: 'left',
                axisLine: {
                    show: false,
                },
            };
            option.tooltip = {
                formatter: '{b}:{c}</br>{d}%'
            };
            option.series.encode = {
                x: [this.firstBindingFeildList[0]],
                y: [this.secondBindingFeildList[0]],
            };
            option.legend = {
                itemGap: 10,
                itemWidth: 25,
                itemHeight: 14,
                align: 'auto',
                orient: 'horizontal'
            };
        }
        if (this.chartsType === 'map') {
            option.xAxis = {
                type: null,
                position: 'bottom',
                axisLine: {
                    show: false,
                },
            };
            option.yAxis = {
                type: null,
                position: 'left',
                axisLine: {
                    show: false,
                },
            };
            option.series = {
                roam: 'scale',
                map: 'china',
                itemStyle: {
                    emphasis: { label: { show: true } }
                },
                // 文本位置修正
                textFixed: {
                    Alaska: [20, -20]
                },
            };
            option.toolbox = {
                show: true,
                // orient: 'vertical',series-pie.encode
                left: 'left',
                top: 'top',
                feature: {
                    dataView: { readOnly: false },
                    restore: {},
                    saveAsImage: {}
                }
            },
                option.visualMap = {
                    left: 'right',
                    min: 0,
                    max: 9,
                    inRange: {
                        color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                    },
                    text: ['High', 'Low'],
                    // 文本，默认为数值文本
                    calculable: true
                },
                option.series.encode = {
                    x: [this.firstBindingFeildList[0]],
                    y: [this.secondBindingFeildList[0]],
                };
        }
        if (this.chartsType === 'effectScatter') {
            option.geo = {
                map: 'china',
                center: [115, 30],
                zoom: 1,
                roam: 'scale',
                // 缩放
                itemStyle: {
                    // 定义样式
                    normal: {
                        // 普通状态下的样式
                        areaColor: '#323c48',
                        borderColor: '#111'
                    },
                    emphasis: {
                        // 高亮状态下的样式
                        areaColor: '#2a333d'
                    }
                }
            };
            option.tooltip = {
                padding: 10,
                backgroundColor: '#333',
                borderColor: '#777',
                borderWidth: 1,
            };
            option.series = {
                name: 'map',
                coordinateSystem: 'geo',
            };
            option.series.encode = {
                name: [this.firstBindingFeildList[0]],
                lng: [this.thirdBindingFeildList[0]],
                lat: [this.fourthBindingFeildList[0]],
                value1: [this.secondBindingFeildList[0]],
                value2: this.fifthBindingFeildList,
                tooltip: [this.firstBindingFeildList[0], this.secondBindingFeildList[0]]
            };
            option.visualMap = [{
                    type: 'continuous',
                    top: 'top',
                    left: 'right',
                    dimension: 1,
                    calculable: true,
                    min: 0,
                    max: 1000,
                    inRange: {
                        color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                        // colorLightness: [1, 0.5],
                        // 指定数值从低到高时的颜色变化
                    },
                    outOfRange: {
                        color: ['rgba(255,255,255,.2)']
                    },
                    controller: {
                        inRange: {
                            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                        },
                        outOfRange: {
                            color: ['#444']
                        }
                    },
                    textStyle: {
                        color: '#837' // 值域控件的文本颜色
                    }
                }, {
                    // 添加第二个视觉组件
                    right: 'right',
                    top: 'bottom',
                    dimension: 2,
                    type: 'continuous',
                    // 连续型
                    min: 0,
                    // 值域最小值，必须参数
                    max: 1000,
                    // 值域最大值，必须参数
                    calculable: true,
                    // 是否启用值域漫游
                    itemWidth: 30,
                    itemHeight: 120,
                    // vm的大小
                    // 变小
                    // text: ["数值2"],
                    textGap: 30,
                    // 图形的上下
                    inRange: {
                        symbolSize: [5, 30],
                    },
                    outOfRange: {
                        symbolSize: [5, 30],
                        color: ['rgba(255,255,255,.2)']
                    },
                    textStyle: {
                        color: '#837'
                    },
                    controller: {
                        inRange: {
                            color: ['#c23531']
                        },
                        outOfRange: {
                            color: ['#444']
                        }
                    }
                }];
            if (this.fifthBindingFeildList !== []) {
                option.series.encode.tooltip.push(this.fifthBindingFeildList[0]);
            }
        }
        // console.log(JSON.stringify(option));
        return option;
    }
    /**
     * @return {?}
     */
    getGroupSummarySetOption() {
        /** @type {?} */
        const option = {
            dimensions: null,
            indicators: null
        };
        try {
            if (this.dimensionFieldList && this.dimensionFieldList.length) {
                option.dimensions = this.dimensionFieldList;
            }
            if (this.indicatorFieldList && this.indicatorFieldList.length) {
                option.indicators = this.indicatorFieldList;
            }
            return option;
        }
        catch (e) {
            return option;
        }
    }
    /**
     * @param {?} value
     * @return {?}
     */
    myIsNaN(value) {
        return !isNaN(value);
    }
}
ChartsDataComponent.decorators = [
    { type: Component, args: [{
                selector: 'charts-data',
                template: "<div class=\"d-flex flex-row flex-fill h-100\" (resized)=\"onResized($event)\">\r\n  <perfect-scrollbar [config]=\"{}\">\r\n    <div class=\"flex-fill farris-split-section m-1 farris-overflow-hidden\">\r\n      <div class=\"farris-form farris-card-content-bg\">\r\n        <fieldset farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.dimensionSetting')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"dimensionList\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.dimension')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                    <div class=\"farris-input-wrap\" style=\"width: 91%\">\r\n                      <farris-combo-list id=\"dimensionList\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [(ngModel)]=\"dimensionField\"\r\n                                         [data]=\"bindingData\" [textField]=\"'name'\" [idField]=\"'bindField'\" \r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('dimension')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of dimensionFieldList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('dimension', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"indicatorList\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.indicator')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                    <div class=\"farris-input-wrap\" style=\"width: 51%\">\r\n                      <farris-combo-list id=\"indicatorList\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [(ngModel)]=\"indicatorField\"\r\n                                         [data]=\"bindingData\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <div class=\"farris-input-wrap\" style=\"width: 40%\">\r\n                      <farris-combo-list id=\"indicatorList\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [(ngModel)]=\"aggreSelectValue\"\r\n                                         [data]=\"aggreData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"\r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('indicator')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of indicatorFieldList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd\">\r\n                      {{feild && myIsNaN(feild.substring(0, 1)) ? feild.replace(feild.substring(0, 1), aggreData[feild.substring(0, 1)].name).replace(';', '(') + ')' : feild }}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('indicator', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldset>\r\n\r\n        <fieldSet *ngIf=\"live[0]\" farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.xAxis')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"xAxisType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.type')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <!--                    <farris-combo-list id=\"chartsType\" [(ngModel)]=\"chartsTypeSelectValue\" [data]=\"chartsTypeData\"-->\r\n                    <!--                                       [textField]=\"'name'\" [idField]=\"'value'\" (valueChange)=\"valueChange($event)\" ></farris-combo-list>-->\r\n                    <farris-combo-list id=\"xAxisType\" [(ngModel)]=\"xAxisTypeSelectValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\"\r\n                                       [data]=\"axisTypeData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"xAxisPosition\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.position')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"xAxisPosition\" [(ngModel)]=\"xPositionValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\"\r\n                                       [data]=\"xPositionData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"xAxisBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n\r\n                    <div class=\"farris-input-wrap\" style=\"width: 91%\">\r\n                      <farris-combo-list id=\"xAxisBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [(ngModel)]=\"xAxisFeild\"\r\n                                         [data]=\"bindingData\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('x')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of xAxisBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('x', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet *ngIf=\"live[1]\" farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.yAxis')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"yAxisType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.type')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"yAxisType\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [(ngModel)]=\"yAxisTypeSelectValue\"\r\n                                       [data]=\"axisTypeData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"yAxisPosition\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.position')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"yAxisPosition\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [(ngModel)]=\"yPositionValue\"\r\n                                       [data]=\"yPositionData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"xAxisBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"xAxisBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [data]=\"bindingData\"\r\n                                         [(ngModel)]=\"yAxisFeild\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                                         style=\" width: 91%\">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('y')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd1\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of yAxisBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd1\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('y', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf=\"live[2]\" farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.name')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"legendBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [data]=\"bindingData\"\r\n                                         [(ngModel)]=\"firstFeild\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                                         style=\"width: 91%\">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('f')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd2\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of firstBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd2\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('f', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf=\"live[3]\" farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.numerical1')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"legendBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [data]=\"bindingData\"\r\n                                       [(ngModel)]=\"secondFeild\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                                       style=\"width: 91%\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('s')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd2\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of secondBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd2\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('s', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf=\"live[4]\" arrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.longitude')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"legendBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [data]=\"bindingData\"\r\n                                       [(ngModel)]=\"thirdFeild\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                                       style=\"width: 91%\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('t')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd2\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of thirdBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd2\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('t', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf=\"live[5]\" farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.latitude')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"legendBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [data]=\"bindingData\"\r\n                                       [(ngModel)]=\"fourthFeild\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                                       style=\"width: 91%\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('4')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd2\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of fourthBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd2\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('4', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf=\"live[6]\" farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.numerical2')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendBinding\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.binding')}}:</span>\r\n                  </label>\r\n                  <div class=\"form-group farris-form-group flex-fill\">\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"legendBinding\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.select')\" [data]=\"bindingData\"\r\n                                       [(ngModel)]=\"fifthFeild\" [textField]=\"'name'\" [idField]=\"'bindField'\"\r\n                                       style=\"width: 91%\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class=\"k-button k-button-icon\" id=\"button-print\" (click)=\"handleBinding('5')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd2\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of fifthBindingFeildList\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd2\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemoveFeild('5', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </perfect-scrollbar>\r\n</div>\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
ChartsDataComponent.ctorParameters = () => [
    { type: Injector }
];
ChartsDataComponent.propDecorators = {
    currSchema: [{ type: Input }],
    chartsType: [{ type: Input }],
    colList: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ChartsStyleComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.title = '';
        this.xAxisAlignData = [
            { name: '左', value: 'left' },
            { name: '中', value: 'center' },
            { name: '右', value: 'right' }
        ];
        this.xAxisAlignValue = this.xAxisAlignData[1].value;
        this.yAxisAlignData = [
            { name: '上', value: 'top' },
            { name: '中', value: 'middle' },
            { name: '下', value: 'bottom' }
        ];
        this.yAxisAlignValue = this.yAxisAlignData[0].value;
        this.fontFamilyData = [
            { name: 'Microsoft YaHei', value: 'Microsoft YaHei' },
            { name: 'sans-serif', value: 'sans-serif' },
            { name: 'serif', value: 'serif' },
            { name: 'monospace', value: 'monospace' },
            { name: 'Arial', value: 'Arial' },
            { name: 'Courier New', value: 'Courier New' }
        ];
        this.fontFamily = this.fontFamilyData[0].value;
        this.fontSizeData = [
            { name: '10', value: '10', },
            { name: '15', value: '15', },
            { name: '20', value: '20', },
            { name: '25', value: '25', },
            { name: '30', value: '30', },
            { name: '35', value: '35', },
            { name: '40', value: '40', },
        ];
        this.fontSize = this.fontSizeData[3].value;
        this.textStyle = {
            lineHeight: 25,
            fontSize: 25,
            fontStyle: 'normal',
            fontWight: 'normal',
            fontFamily: this.fontFamily || 'Microsoft YaHei',
            color: 'black'
        };
        this.legendAlignData = [
            { name: '自适应', value: 'auto' },
            { name: '左', value: 'left' },
            { name: '右', value: 'right' }
        ];
        this.legendAlignValue = this.legendAlignData[0].value;
        this.orientData = [
            { name: '水平', value: 'horizontal' },
            { name: '垂直', value: 'vertical' }
        ];
        this.legendOrientValue = this.orientData[0].value;
        this.visualMapOrientValue = this.orientData[1].value;
        this.itemGap = 10;
        this.itemWidth = 25;
        this.itemHeight = 14;
        this.visualMapTypeData = [
            { name: 'continuous', value: 'continuous' },
            { name: 'piecewise', value: 'piecewise' }
        ];
        this.visualMapTypeValue = this.visualMapTypeData[0].value;
        // 利用一个无用的属性title.id使不与data界面交互
        this.dataMultiple = [
            { name: '并排', value: 'side' },
            { name: '堆叠', value: 'pile' }
        ];
        this.dataMultipleValue = this.dataMultiple[0].value;
        this.vmTopValue = this.yAxisAlignData[0].value;
        this.vmLeftValue = this.xAxisAlignData[2].value;
        this.vmBottom = 0;
        this.vmRight = 0;
        this.visualMapPieces = [];
        this.visualMapCategories = [];
        this.isWeight = false;
        this.isStyle = false;
        this.cBtn = false;
        this.pBtn = false;
        this.tBtn = false;
        this.size = {};
        this.localizeService = this.injector.get(LocalizeService);
        this.xAxisAlignData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.xAxisAlignData');
        this.yAxisAlignData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.yAxisAlignData');
        this.fontFamilyData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.fontFamilyData');
        this.legendAlignData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.legendAlignData');
        this.orientData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.orientData');
        this.visualMapTypeData = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapTypeData');
        this.dataMultiple = this.localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.dataMultiple');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        /** @type {?} */
        const self = this;
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.customOption) {
                            this.customOption = JSON.stringify(newValue.schemaValue.customOption);
                        }
                        else {
                            this.customOption = '';
                        }
                        if (newValue.schemaValue && newValue.schemaValue.chartsStyle) {
                            /** @type {?} */
                            const str = JSON.stringify(newValue.schemaValue.chartsStyle);
                            this.chartsStyle = JSON.parse(str);
                            this.title = this.chartsStyle.title.text || '';
                            /** @type {?} */
                            let index = findIndex(this.xAxisAlignData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.title.x || 'center');
                            }));
                            this.xAxisAlignValue = this.xAxisAlignData[index].value;
                            index = findIndex(this.yAxisAlignData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.title.y || 'top');
                            }));
                            this.yAxisAlignValue = this.yAxisAlignData[index].value;
                            this.textStyle.lineHeight = this.chartsStyle.title.textStyle.lineHeight || 25;
                            this.textStyle.fontSize = this.chartsStyle.title.textStyle.fontSize || 25;
                            this.textStyle.fontStyle = this.chartsStyle.title.textStyle.fontStyle || 'normal';
                            this.textStyle.fontWight = this.chartsStyle.title.textStyle.fontWight || 'normal';
                            this.textStyle.fontFamily = this.chartsStyle.title.textStyle.fontFamily || 'Microsoft YaHei';
                            index = findIndex(this.fontFamilyData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.textStyle.fontFamily || 'Microsoft YaHei');
                            }));
                            this.fontFamily = this.fontFamilyData[index].value;
                            this.textStyle.color = this.chartsStyle.title.textStyle.color || 'black';
                            index = findIndex(this.legendAlignData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.legend.align || 'auto');
                            }));
                            this.legendAlignValue = this.legendAlignData[index].value;
                            index = findIndex(this.orientData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.legend.orient || 'horizontal');
                            }));
                            this.legendOrientValue = this.orientData[index].value;
                            this.itemGap = this.chartsStyle.legend.itemGap;
                            this.itemWidth = this.chartsStyle.legend.itemWidth;
                            this.itemHeight = this.chartsStyle.legend.itemHeight;
                            index = findIndex(this.visualMapTypeData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.visualMap.type || 'continuous');
                            }));
                            this.visualMapTypeValue = this.visualMapTypeData[index].value;
                            index = findIndex(this.dataMultiple, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.title.id || 'side');
                            }));
                            this.dataMultipleValue = this.dataMultiple[index].value;
                            index = findIndex(this.yAxisAlignData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.visualMap.top || 'top');
                            }));
                            this.vmTopValue = this.yAxisAlignData[index].value;
                            this.vmBottom = this.chartsStyle.visualMap.bottom || null;
                            index = findIndex(this.xAxisAlignData, (/**
                             * @param {?} c
                             * @return {?}
                             */
                            function (c) {
                                return c.value === (self.chartsStyle.visualMap.left || 'right');
                            }));
                            this.vmLeftValue = this.xAxisAlignData[index].value;
                            this.vmRight = this.chartsStyle.visualMap.right || null;
                            this.visualMapPieces = this.chartsStyle.visualMap.pieces || [];
                            this.vmMin = this.chartsStyle.visualMap.min || 0; // 初始化最值
                            this.vmMax = this.chartsStyle.visualMap.max || 1000;
                            this.visualMapCategories = this.chartsStyle.visualMap.categories || [];
                        }
                        break;
                }
            }
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
    }
    /**
     * @return {?}
     */
    handleWeight() {
        this.isWeight = !this.isWeight;
        if (this.isWeight) {
            this.textStyle.fontWeight = 'bold';
        }
        else {
            this.textStyle.fontWeight = 'normal';
        }
    }
    /**
     * @return {?}
     */
    handleStyle() {
        this.isStyle = !this.isStyle;
        if (this.isStyle) {
            this.textStyle.fontStyle = 'italic';
        }
        else {
            this.textStyle.fontStyle = 'normal';
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    handleBinding(type) {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        let index = -1;
        if (type === 'c') {
            if (!this.vmCategories) {
                return;
            }
            index = findIndex(this.visualMapCategories, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.vmCategories;
            }));
            if (index < 0) {
                this.visualMapCategories.push(this.vmCategories);
            }
            this.vmCategories = null;
        }
        else if (type === 'v') {
            if (!this.vmCategories) {
                return;
            }
            index = findIndex(this.visualMapCategories, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === self.vmCategories;
            }));
            if (index < 0) {
                this.visualMapCategories.push(this.vmCategories);
            }
            this.vmCategories = null;
        }
        else if (type === 't') {
            if (!this.vmMin || !this.vmMax) {
                // alert('没有设置可视化数据范围');
                return;
            }
            if (this.vmPiecesMin && this.vmPiecesMax) ;
        }
        else {
            if (!this.vmPiecesMin && !this.vmPiecesMax) {
                return;
            }
            if (this.vmPiecesMin && !this.vmPiecesMax) {
                index = findIndex(this.visualMapPieces, (/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.min === self.vmPiecesMin;
                }));
                if (index < 0) {
                    this.visualMapPieces.push({ min: this.vmPiecesMin });
                }
            }
            else if (!this.vmPiecesMin && this.vmPiecesMax) {
                index = findIndex(this.visualMapPieces, (/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.max === self.vmPiecesMax;
                }));
                if (index < 0) {
                    this.visualMapPieces.push({ max: this.vmPiecesMax });
                }
            }
            else {
                index = findIndex(this.visualMapPieces, (/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.min === self.vmPiecesMin && c.max === self.vmPiecesMax;
                }));
                if (index < 0) {
                    this.visualMapPieces.push({ min: this.vmPiecesMin, max: this.vmPiecesMax });
                }
            }
            this.vmPiecesMin = this.vmPiecesMax = null;
        }
        this.handleAddBtnDisabled();
    }
    /**
     * @param {?} type
     * @param {?} feild
     * @return {?}
     */
    handleRemove(type, feild) {
        /** @type {?} */
        let index = -1;
        if (type === 'c') {
            index = findIndex(this.visualMapCategories, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                return c === feild;
            }));
            this.visualMapCategories.splice(index, 1);
        }
        else {
            if (feild.min && !feild.max) {
                index = findIndex(this.visualMapPieces, (/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.min === feild.min;
                }));
                this.visualMapPieces.splice(index, 1);
            }
            else if (!feild.min && feild.max) {
                index = findIndex(this.visualMapPieces, (/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.max === feild.max;
                }));
                this.visualMapPieces.splice(index, 1);
            }
            else {
                index = findIndex(this.visualMapPieces, (/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) {
                    return c.min === feild.min && c.max === feild.max;
                }));
                this.visualMapPieces.splice(index, 1);
            }
        }
        this.handleAddBtnDisabled();
    }
    /**
     * @private
     * @return {?}
     */
    handleAddBtnDisabled() {
        if (this.visualMapCategories.length) {
            this.pBtn = true;
        }
        else {
            this.pBtn = false;
        }
        if (this.visualMapPieces.length) {
            this.cBtn = true;
        }
        else {
            this.cBtn = false;
        }
    }
    /**
     * @return {?}
     */
    getChartsStyleOption() {
        /** @type {?} */
        const option = {
            title: {
                id: this.dataMultipleValue || 'side',
                text: this.title,
                x: this.xAxisAlignValue || 'right',
                y: this.yAxisAlignValue || 'top',
                textStyle: this.textStyle
            },
            legend: {
                itemGap: this.itemGap,
                itemWidth: this.itemWidth,
                itemHeight: this.itemHeight,
                align: (this.legendAlignValue) || 'auto',
                orient: (this.legendOrientValue) || 'horizontal'
            },
            visualMap: [{
                    type: (this.visualMapTypeValue) || 'continuous',
                    top: (this.vmTopValue) || 'top',
                    bottom: this.vmBottom,
                    left: (this.vmLeftValue) || 'right',
                    right: this.vmRight,
                    dimension: 1,
                    calculable: true,
                    min: this.vmMin,
                    max: this.vmMax,
                    pieces: this.visualMapPieces,
                    // 分段式的范围
                    categories: this.visualMapCategories,
                    // 离散数据
                    inRange: {
                        color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                        // colorLightness: [1, 0.5],
                        // 指定数值从低到高时的颜色变化
                    },
                    outOfRange: {
                        color: ['rgba(255,255,255,.2)']
                    },
                    controller: {
                        inRange: {
                            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                        },
                        outOfRange: {
                            color: ['#444']
                        }
                    },
                    textStyle: {
                        color: '#837' // 值域控件的文本颜色
                    }
                }]
        };
        if (this.visualMapTypeValue && this.visualMapTypeValue === 'continuous') {
            option.visualMap.calculable = true;
        }
        else {
            delete option.visualMap.calculable;
        }
        if (this.chartsType === 'effectScatter') {
            option.visualMap.push({
                // 添加第二个视觉组件
                right: 'right',
                top: 'bottom',
                dimension: 2,
                type: 'continuous',
                // 连续型
                min: this.vmMin,
                // 值域最小值，必须参数
                max: this.vmMax,
                // 值域最大值，必须参数
                calculable: true,
                // 是否启用值域漫游
                itemWidth: 30,
                itemHeight: 120,
                // vm的大小
                // 变小
                // text: ["数值2"],
                textGap: 30,
                // 图形的上下
                inRange: {
                    symbolSize: [5, 30],
                },
                outOfRange: {
                    symbolSize: [5, 30],
                    color: ['rgba(255,255,255,.2)']
                },
                textStyle: {
                    color: '#837'
                },
                controller: {
                    inRange: {
                        color: ['#c23531']
                    },
                    outOfRange: {
                        color: ['#444']
                    }
                }
            });
            if (option.visualMap[0].top === 'bottom' && option.visualMap.left === 'right') {
                option.visualMap[1].top = 'top';
            }
            else {
                option.visualMap[1].top = 'bottom';
            }
        }
        return option;
    }
    /**
     * @return {?}
     */
    getCustomOption() {
        if (this.customOption) {
            try {
                return JSON.parse(this.customOption);
            }
            catch (e) {
                return 'error';
            }
        }
        else {
            return null;
        }
    }
}
ChartsStyleComponent.decorators = [
    { type: Component, args: [{
                selector: 'charts-style',
                template: "<div class=\"d-flex flex-row flex-fill h-100\" (resized)=\"onResized($event)\">\r\n  <perfect-scrollbar [config]=\"{}\">\r\n    <div class=\"flex-fill farris-split-section m-1 farris-overflow-hidden\">\r\n      <div class=\"farris-form farris-card-content-bg\">\r\n        <fieldSet farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.titleOption')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"title\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.title')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <input-group [(ngModel)]=\"title\" id=\"title\"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"xAxisType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.xAxisOption')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <!--                  <farris-combo-list id=\"chartsType\" [(ngModel)]=\"chartsTypeSelectValue\" [data]=\"chartsTypeData\"-->\r\n                    <!--                   [textField]=\"'name'\" [idField]=\"'value'\" (valueChange)=\"valueChange($event)\" ></farris-combo-list>-->\r\n                    <farris-combo-list id=\"xAxisType\" [(ngModel)]=\"xAxisAlignValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.select')\"\r\n                                       [data]=\"xAxisAlignData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"yAxisType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.yAxisOption')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"yAxisType\" [(ngModel)]=\"yAxisAlignValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.select')\"\r\n                                       [data]=\"yAxisAlignData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"lineHeight\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.rowHeight')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"lineHeight\" [(ngModel)]=\"textStyle.lineHeight\" [min]=\"0\"\r\n                    ></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"colName\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.contentStyle')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list style=\"width: 50%\"\r\n                                       [(ngModel)]=\"fontFamily\" [data]=\"fontFamilyData\" [textField]=\"'name'\"\r\n                                       [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"colName\">\r\n                    <span class=\"farris-label-text\">\u5B57\u53F7:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"lineHeight\" [(ngModel)]=\"textStyle.fontSize\" [min]=\"0\"\r\n                    ></farris-number-spinner>\r\n                  </div>\r\n                  <button class=\"k-button k-button-icon k-flat\" [class.k-state-focused]=\"isWeight\" id=\"button-search\"\r\n                          (click)=\"handleWeight()\">\r\n                    <span class=\"k-icon k-i-bold\" role=\"presentation\"></span>\r\n                  </button>\r\n                  <button class=\"k-button k-button-icon k-flat\" [class.k-state-focused]=\"isStyle\" id=\"button-search\"\r\n                          (click)=\"handleStyle()\">\r\n                    <span class=\"k-icon k-i-italic\" role=\"presentation\"></span>\r\n                  </button>\r\n                  <button class=\"k-button k-button-icon k-flat\" id=\"button-search\" [(colorPicker)]=\"textStyle.color\"\r\n                          [cpOKButton]=\"true\" [cpCancelButton]=\"true\">\r\n                      <span [style.border-bottom-color]=\"textStyle.color\" class=\"k-icon k-i-foreground-color\"\r\n                            style=\"border-bottom-width: 2px; border-bottom-style: solid; margin-top: -2px;\"\r\n                            role=\"presentation\"></span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </fieldSet>\r\n        <fieldSet farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.multiDataOption')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"visualMapType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.multiDataType')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"visualMapType\" [(ngModel)]=\"dataMultipleValue\" [data]=\"dataMultiple\"\r\n                                       [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.legend')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendAlignValue\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.legendAlgin')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"legendAlignValue\" [(ngModel)]=\"legendAlignValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.select')\"\r\n                                       [data]=\"legendAlignData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"legendOrientValue\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.legendOrient')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"legendOrientValue\" [(ngModel)]=\"legendOrientValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.select')\"\r\n                                       [data]=\"orientData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"itemGap\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.legendGap')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"itemGap\" [(ngModel)]=\"itemGap\" [min]=\"0\"></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"itemWidth\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.itemWidth')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"itemWidth\" [(ngModel)]=\"itemWidth\" [min]=\"0\"></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"itemHeight\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.itemHeight')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"itemHeight\" [(ngModel)]=\"itemHeight\" [min]=\"0\"\r\n                    ></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMap')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"visualMapType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapType')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"visualMapType\" [(ngModel)]=\"visualMapTypeValue\" [data]=\"visualMapTypeData\"\r\n                                       [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"visualMapOrientValue\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapOrient')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"visualMapOrientValue\" [(ngModel)]=\"visualMapOrientValue\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.select')\"\r\n                                       [data]=\"orientData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group form-inline farris-form-inline\">\r\n                  <label class=\"col-form-label\" for=\"colName\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapPosition')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <div class=\"col-12 col-md-12 col-lg-12\">\r\n                      <div class=\"form-group farris-form-group flex-fill\">\r\n                        <label style=\"width: 3.2rem; text-align: right;\">\r\n                          <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapTop')}}</span>\r\n                        </label>\r\n                        <farris-combo-list class=\"m-1\" style=\"width: 30%\"\r\n                                           [(ngModel)]=\"vmTopValue\" [data]=\"yAxisAlignData\" [textField]=\"'name'\"\r\n                                           [idField]=\"'value'\" [enableClear]=\"false\">\r\n                        </farris-combo-list>\r\n\r\n\r\n                        <label style=\"width: 3.2rem; text-align: right;\">\r\n                          <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapBottom')}}</span>\r\n                        </label>\r\n                        <farris-number-spinner class=\"m-1\" id=\"itemGap\" style=\"width: 30%\" [(ngModel)]=\"vmBottom\"\r\n                                               [min]=\"0\">\r\n                        </farris-number-spinner>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-12 col-md-12 col-lg-12\">\r\n                      <div class=\"form-group farris-form-group flex-fill\">\r\n                      <label style=\"width: 3.2rem; text-align: right;\">\r\n                        <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapLeft')}}</span>\r\n                      </label>\r\n                      <farris-combo-list class=\"m-1\" style=\"width: 30%\" [placeholder]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.select')\"\r\n                                         [(ngModel)]=\"vmLeftValue\" [data]=\"xAxisAlignData\" [textField]=\"'name'\"\r\n                                         [idField]=\"'value'\" [enableClear]=\"false\">\r\n                      </farris-combo-list>\r\n                      <label style=\"width: 3.2rem; text-align: right;\">\r\n                        <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.visualMapRight')}}</span>\r\n                      </label>\r\n                      <farris-number-spinner class=\"m-1\" id=\"itemGap\" style=\"width: 30%\" [(ngModel)]=\"vmRight\"\r\n                                             [min]=\"0\">\r\n                      </farris-number-spinner>\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div *ngIf=\"(visualMapTypeValue && visualMapTypeValue.value == 'piecewise')\"\r\n                 class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"piecewiseType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.continuous')}}: </span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <input-group id=\"piecewiseType\" [(ngModel)]=\"vmCategories\"></input-group>\r\n                    <button [disabled]=\"cBtn\" class=\"k-button k-button-icon\" id=\"button-print\"\r\n                            (click)=\"handleBinding('c')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"(visualMapTypeValue && visualMapTypeValue.value == 'piecewise')\"\r\n                 class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd1\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of visualMapCategories\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd1\">\r\n                      {{feild}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                           (click)=\"handleRemove('c', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"(visualMapTypeValue && visualMapTypeValue.value == 'piecewise')\"\r\n                 class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"piecewiseType1\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.piecewise')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    min:\r\n                    <farris-number-spinner id=\"itemGap\" style=\"width: 37%\" [(ngModel)]=\"vmPiecesMin\" [min]=\"0\">\r\n                    </farris-number-spinner>\r\n                    max:\r\n                    <farris-number-spinner id=\"itemGap\" style=\"width: 37%\" [(ngModel)]=\"vmPiecesMax\" [min]=\"0\">\r\n                    </farris-number-spinner>\r\n                    <button [disabled]=\"pBtn\" class=\"k-button k-button-icon\" id=\"button-print\"\r\n                            (click)=\"handleBinding('p')\">\r\n                      <span class=\"k-icon k-i-plus-sm\" role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"(visualMapTypeValue && visualMapTypeValue.value == 'piecewise')\"\r\n                 class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"buttonadd2\">\r\n                    <span class=\"farris-label-text\"></span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <button *ngFor=\"let feild of visualMapPieces\" class=\"k-button k-outline mr-2\"\r\n                            id=\"buttonadd2\">\r\n                      min: {{feild.min}}, max: {{feild.max}}&nbsp;<span class=\"k-icon k-i-close\" role=\"presentation\"\r\n                                                                        (click)=\"handleRemove('p', feild)\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet farrisFold class=\"col-12\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.otherStyle')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"visualMapType\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.customStyle')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <textarea class=\"form-control\" rows=\"4\" [(ngModel)]=\"customOption\"></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </perfect-scrollbar>\r\n</div>\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
ChartsStyleComponent.ctorParameters = () => [
    { type: Injector }
];
ChartsStyleComponent.propDecorators = {
    currSchema: [{ type: Input }],
    chartsType: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ChartsSchemaEditorComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.cls = "f-utils-flex-column h-100";
        this.tabsSelectChange = new EventEmitter();
        this.localizeService = this.injector.get(LocalizeService);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} data
     * @return {?}
     */
    handleTabSelect(data) {
        /** @type {?} */
        const option = this.getOption();
        this.tabsSelectChange.emit(option);
    }
    /**
     * @param {?} value
     * @return {?}
     */
    chartTypeChange(value) {
        this.chartsType = value;
    }
    /**
     * @return {?}
     */
    getOption() {
        /** @type {?} */
        const option = {};
        if (this.chartsTypeCmp) {
            option['chartsType'] = this.chartsTypeCmp.getChartsTypeOption();
            // console.log("chartsType:");
            // console.log(option['chartsType']);
        }
        if (this.chartsDataCmp) {
            option['chartsData'] = this.chartsDataCmp.getChartsDataOption();
            option['groupSummarySet'] = this.chartsDataCmp.getGroupSummarySetOption();
            // console.log("chartsData:");
            // console.log(option['chartsData']);
        }
        if (this.chartsStyleCmp) {
            option['chartsStyle'] = this.chartsStyleCmp.getChartsStyleOption();
            option['customOption'] = this.chartsStyleCmp.getCustomOption();
            // console.log("chartsStyle:");
            // console.log(option['chartsStyle']);
        }
        return option;
    }
}
ChartsSchemaEditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'charts-schema-editor',
                template: "<!--<kendo-tabstrip #tabStrip id=\"chartsSchemaEditor\" class=\"schema-editor-tab h-100 pt-1\" (tabSelect)=\"handleTabSelect($event)\">-->\r\n<farris-tabs  [value]=\"'type'\" [contentFill]=\"true\" [autoTitleWidth]=\"true\"  (tabChange)=\"handleTabSelect($event)\">\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsType.tab')\" [id] = \"'type'\">\r\n    <ng-template #content>\r\n      <charts-type [currSchema]=\"currSchema\" class=\"schema-editor-tab\" (chartTypeChange)=\"chartTypeChange($event)\" ></charts-type>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsData.tab')\" [id] = \"'data'\">\r\n    <ng-template #content>\r\n      <charts-data [currSchema]=\"currSchema\" class=\"schema-editor-tab\" [colList]=\"colList\" [chartsType]=\"chartsType\" ></charts-data>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.chartsSchemaManager.chartsStyle.tab')\" [id] = \"'style'\">\r\n    <ng-template #content>\r\n      <charts-style [currSchema]=\"currSchema\" class=\"schema-editor-tab\" [chartsType]=\"chartsType\" ></charts-style>\r\n    </ng-template>\r\n  </farris-tab>\r\n</farris-tabs>\r\n",
                encapsulation: ViewEncapsulation.None,
                styles: [".schema-editor-tab{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}"]
            }] }
];
/** @nocollapse */
ChartsSchemaEditorComponent.ctorParameters = () => [
    { type: Injector }
];
ChartsSchemaEditorComponent.propDecorators = {
    cls: [{ type: HostBinding, args: ['class',] }],
    currSchema: [{ type: Input }],
    colList: [{ type: Input }],
    controlType: [{ type: Input }],
    tabsSelectChange: [{ type: Output }],
    chartsTypeCmp: [{ type: ViewChild, args: [ChartsTypeComponent,] }],
    chartsDataCmp: [{ type: ViewChild, args: [ChartsDataComponent,] }],
    chartsStyleCmp: [{ type: ViewChild, args: [ChartsStyleComponent,] }],
    tabs: [{ type: ViewChild, args: [FarrisTabsComponent,] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class SchemaService {
    /**
     * @param {?} schemaManager
     * @param {?} lcpService
     */
    constructor(schemaManager, lcpService) {
        this.schemaManager = schemaManager;
        this.lcpService = lcpService;
        this.schemaInfo = new Subject$1();
        this.colList = new Subject$1();
        this.pageInfoChange = new Subject$1();
        this.operationChange = new Subject$1();
        this.schemaManager.schemaInfoChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.schemaInfo.next(value);
        }));
        this.schemaManager.colList.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.colList.next(value);
        }));
        this.lcpService.pageInfoChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.pageInfoChange.next(value);
        }));
        this.schemaManager.operationChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.operationChange.next(value);
        }));
    }
    /**
     * @param {?} queryId
     * @param {?} userId
     * @param {?} organizationId
     * @param {?} queryRelativeUrl
     * @param {?=} groupType
     * @return {?}
     */
    getSchemaList(queryId, userId, organizationId, queryRelativeUrl, groupType) {
        if (groupType) {
            return this.schemaManager.getSchemaListByGroupType(queryId, userId, organizationId, groupType, queryRelativeUrl);
        }
        else {
            return this.schemaManager.getSchemaList(queryId, userId, organizationId, queryRelativeUrl);
        }
    }
    /**
     * @param {?} id
     * @param {?} queryId
     * @param {?} queryRelativeUrl
     * @param {?=} groupType
     * @param {?=} organizationId
     * @return {?}
     */
    getSchema(id, queryId, queryRelativeUrl, groupType, organizationId) {
        return this.schemaManager.getSchema(id, queryId, queryRelativeUrl, groupType, organizationId);
    }
    /**
     * @param {?} schema
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    saveSchema(schema, queryRelativeUrl) {
        return this.schemaManager.saveSchema(schema, queryRelativeUrl);
    }
    /**
     * @param {?} id
     * @param {?} queryId
     * @param {?} queryRelativeUrl
     * @param {?=} groupType
     * @param {?=} organizationId
     * @return {?}
     */
    deleteSchema(id, queryId, queryRelativeUrl, groupType, organizationId) {
        return this.schemaManager.deleteSchema(id, queryId, queryRelativeUrl, groupType, organizationId);
    }
    /**
     * @param {?} id
     * @param {?} queryId
     * @param {?} dynamicCols
     * @param {?} queryRelativeUrl
     * @param {?=} sheme
     * @param {?=} frozenCols
     * @param {?=} groupType
     * @return {?}
     */
    getSpreadTemplate(id, queryId, dynamicCols, queryRelativeUrl, sheme, frozenCols, groupType) {
        return this.schemaManager.getSpreadTemplate(id, queryId, dynamicCols, queryRelativeUrl, sheme, frozenCols, groupType);
    }
    /**
     * @param {?} param
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    getData(param, queryRelativeUrl) {
        return this.lcpService.getData(param, queryRelativeUrl);
    }
    /**
     * @param {?} params
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    getCol(params, queryRelativeUrl) {
        return this.lcpService.getCol(params, queryRelativeUrl);
    }
    /**
     * @return {?}
     */
    getOperation() {
        return this.schemaManager.getOperation();
    }
}
SchemaService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
SchemaService.ctorParameters = () => [
    { type: SchemaManagerService },
    { type: LcpService }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class TitleEditorComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.columnSizeData = [
            60, 90, 160, 80, 80
        ];
        this.subTitleType = [
            { label: '副标题', value: 0 },
            { label: '表尾', value: 1 }
        ];
        this.subTitleAlign = [
            { label: '居左', value: 0 },
            { label: '居中', value: 1 },
            { label: '居右', value: 2 }
        ];
        this.newSubTitle = {
            type: 0,
            text: '',
            level: 1,
            align: 0
        };
        this.alignData = [];
        this.currentSubTitle = null;
        this.localizeService = this.injector.get(LocalizeService);
        this.lcpService = this.injector.get(LcpService);
        this.subTitleType = this.localizeService.getValue('ideCmp.schemaManager.titleOption.subTitleData');
        this.subTitleAlign = this.localizeService.getValue('ideCmp.schemaManager.titleOption.subTitleAlign');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /** @type {?} */
        const self = this;
        if (!this.subscriptions) {
            this.subscriptions = [];
        }
        this.subscriptions.push(self.lcpService.variablesChange.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            if (data) {
                for (const key in data) {
                    // if (key === 'securityLevel') { continue; }
                    if (self.alignData.findIndex((/**
                     * @param {?} x
                     * @return {?}
                     */
                    x => x.name.replace(x.name.substring(x.name.indexOf('[')), "").replace(/ /g, "") === key)) < 0) {
                        self.alignData.push({ name: key + '   [' + data[key] + ']', value: key });
                    }
                }
            }
        })));
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.titleOption) {
                            /** @type {?} */
                            const str = JSON.stringify(newValue.schemaValue.titleOption);
                            this.titleOption = JSON.parse(str);
                            this.title = this.titleOption.title;
                            this.subTitles = this.titleOption.subTitles || [];
                        }
                        break;
                }
            }
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        if (this.subscriptions && this.subscriptions.length) {
            for (const subscription of this.subscriptions) {
                subscription.unsubscribe();
            }
        }
    }
    /**
     * @param {?} index
     * @return {?}
     */
    insertSubTitle(index) {
        /** @type {?} */
        const _newSubTitle = Object.assign({}, this.newSubTitle);
        // if (index === 0) {
        //   this.subTitles.unshift(_newSubTitle);
        // } else {
        this.subTitles.splice(index + 1, 0, _newSubTitle);
        // }
    }
    /**
     * @param {?} index
     * @return {?}
     */
    removeSubTitle(index) {
        this.subTitles.splice(index, 1);
        if (this.currentSubTitle) {
            if (index === this.currentSubTitle.index) {
                this.currentSubTitle = null;
            }
        }
    }
    /**
     * @return {?}
     */
    onAddSubTitle() {
        this.subTitles = [...this.subTitles];
        this.subTitles.push(Object.assign({}, this.newSubTitle));
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    selected($event) {
        this.currentSubTitle = $event;
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    isSelected($event) {
        if (this.currentSubTitle) {
            return this.currentSubTitle.index === $event;
        }
        return false;
    }
    /**
     * @return {?}
     */
    getTitleOption() {
        if (this.titleOption) {
            this.titleOption.title = this.title;
            this.titleOption.subTitles = this.subTitles;
        }
        return this.titleOption;
    }
}
TitleEditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'title-editor',
                template: "<div class=\"d-flex flex-column flex-fill position-relative h-100 m-0\">\r\n  <div class=\"farris-group-wrap form-inline farris-form-inline m-2\">\r\n    <div class=\"form-group farris-group-wrap mb-0\">\r\n      <label class=\"mr-2\" for=\"titleID\">\r\n        <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.titleOption.title')}}:</span>\r\n      </label>\r\n      <div class=\"farris-input-wrap\">\r\n        <input-group  id=\"titleID\" [(ngModel)]=\"title\" ></input-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"table-header\">\r\n    <table class=\"table table-bordered mb-0\">\r\n      <colgroup>\r\n        <col *ngFor=\"let s of columnSizeData\" [style.width]=\" s + 'px'\">\r\n      </colgroup>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <button type=\"button\" (click)=\"onAddSubTitle()\" class=\"btn btn-link\" style=\"color: black;\"><span\r\n                class=\"f-icon f-icon-plus\"></span></button>\r\n          </th>\r\n          <th><b>{{localizeService.getValue('ideCmp.schemaManager.titleOption.subTitleColumnName')[0]}}</b></th>\r\n          <th><b>{{localizeService.getValue('ideCmp.schemaManager.titleOption.subTitleColumnName')[1]}}</b></th>\r\n          <th><b>{{localizeService.getValue('ideCmp.schemaManager.titleOption.subTitleColumnName')[2]}}</b></th>\r\n          <th><b>{{localizeService.getValue('ideCmp.schemaManager.titleOption.subTitleColumnName')[3]}}</b></th>\r\n        </tr>\r\n      </thead>\r\n    </table>\r\n  </div>\r\n  <perfect-scrollbar [config]=\"{}\" [style.height.px]=\"205\">\r\n    <div class=\"table-body flex-fill\" style=\"overflow: hidden\" #tablebodybox>\r\n      <table class=\"table table-bordered\">\r\n        <colgroup>\r\n          <col *ngFor=\"let s of columnSizeData\" [style.width.px]=\"s\">\r\n        </colgroup>\r\n        <tbody>\r\n          <tr *ngFor=\"let sub of subTitles; let index=index;\" (click)=\"selected({'index':index, 'sub': sub})\"\r\n            [class.selected]=\"isSelected(index)\">\r\n            <td>\r\n              <button type=\"button\" (click)=\"insertSubTitle(index)\" class=\"btn btn-link\" style=\"color: black;\"><span\r\n                  class=\"f-icon f-icon-plus\"></span></button>\r\n              <button type=\"button\" (click)=\"removeSubTitle(index)\" class=\"btn btn-link\" style=\"color: black;\"><span\r\n                  class=\"f-icon f-icon-minus\"></span></button>\r\n            </td>\r\n            <td>\r\n              <select class=\"form-control filter-select\" [(ngModel)]=\"sub.type\" name=\"subType\">\r\n                <option *ngFor=\"let item of subTitleType\" [value]=\"item.value\">{{ item.label }}</option>\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <farris-combo-list [(ngModel)]=\"sub.text\" [data]=\"alignData\" [textField]=\"'name'\" [idField]=\"'value'\" [nosearch]=\"true\" [editable]=\"true\"></farris-combo-list>\r\n              <!-- <input-group type=\"text\" style=\"width:100%\" placeholder=\"\" name=\"value\"\r\n                [(ngModel)]=\"sub.text\"></input-group> -->\r\n            </td>\r\n            <td>\r\n              <farris-number-spinner [(ngModel)]=\"sub.level\" [min]=\"1\" [step]=\"1\"></farris-number-spinner>\r\n            </td>\r\n            <td>\r\n              <select class=\"form-control filter-select\" [(ngModel)]=\"sub.align\" name=\"subAlign\">\r\n                <option *ngFor=\"let item of subTitleAlign\" [value]=\"item.value\">{{ item.label }}</option>\r\n              </select>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </perfect-scrollbar>\r\n</div>\r\n",
                styles: [".filter-select{width:100%;padding-left:0;padding-right:0}.selected{background:#c2e4ff}:host{position:absolute;top:0;left:0;right:0;bottom:0}"]
            }] }
];
/** @nocollapse */
TitleEditorComponent.ctorParameters = () => [
    { type: Injector }
];
TitleEditorComponent.propDecorators = {
    currSchema: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ColumnEditorComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.size = {};
        this.colName = '';
        this.colWidth = 150;
        this.colVisible = true;
        this.colFixed = false;
        this.colWrap = false;
        this.colAutoFit = false;
        this.schemaTreeData = [];
        this.colListData = [];
        this.alignData = [
            { name: '居左', value: 0 },
            { name: '居中', value: 1 },
            { name: '居右', value: 2 }
        ];
        this.alignSelectValue = this.alignData[1].value;
        this.formatTypeData = [
            { name: '请选择', value: 0 },
            { name: '数字', value: 1 },
            { name: '日期', value: 2 },
            { name: '逻辑', value: 3 }
        ];
        this.formatTypeSelectValue = this.formatTypeData[0].value;
        this.formatText = '';
        this.sortData = [
            { name: '请选择', value: 0 },
            { name: '正序', value: 1 },
            { name: '反序', value: 2 }
        ];
        this.sortSelectValue = this.sortData[0].value;
        this.aggreData = [
            { name: '请选择', value: 0 },
            { name: '合计', value: 1 },
            { name: '最小值', value: 2 },
            { name: '最大值', value: 3 },
            { name: '计数', value: 4 },
            { name: '平均值', value: 5 }
        ];
        this.pageSelectValue = this.aggreData[0].value;
        this.pageText = '';
        this.colIsGroup = false;
        this.colIsRed = false;
        this.groupSelectValue = this.aggreData[0].value;
        this.groupSubSelectValue = this.aggreData[0].value;
        this.groupText = '';
        this.totalSelectValue = this.aggreData[0].value;
        this.totalText = '';
        this.formatField = '';
        this.dimensionData = [
            { name: '请选择', value: 0 },
            { name: '行维度', value: 1 },
            { name: '列维度', value: 2 },
            { name: '值维度', value: 3 }
        ];
        this.enumType = [
            { name: '索引', value: '0' },
            { name: '编号', value: '1' },
            { name: '名称', value: '2' }
        ];
        this.dataShowOption = [
            { name: '默认', value: -1 },
            { name: '自适应', value: 1 },
            { name: '折行', value: 2 }
        ];
        this.type = 'String';
        this.dimensionSelectValue = this.dimensionData[0].value;
        this.showTypeSelectValue = this.enumType[0].value;
        this.newNodeData = {
            data: {
                name: '',
                bindField: '',
                colWidth: 150,
                visible: true,
                isFixed: false,
                wordWrap: false,
                autoFit: false,
                align: 1,
                formatType: 0,
                formattor: '',
                formatField: '',
                sort: 0,
                pageAggre: 0,
                pageAggreText: '',
                isGroup: false,
                groupAggre: 0,
                groupSubAggre: 0,
                groupAggreText: '',
                totalAggre: 0,
                totalAggreText: '',
                dimension: '',
                rowColor: '',
                type: 'string',
                showType: '0'
            },
            expanded: true,
            children: []
        };
        this.cols = [];
        this.colIsGroupId = 'colIsGroupId' + EventBus.guid();
        this.colVisibleId = 'colVisibleId' + EventBus.guid();
        this.colFixedId = 'colFixedId' + EventBus.guid();
        this.colWrapId = 'colWrapId' + EventBus.guid();
        this.colAutoFitId = 'colAutoFitId' + EventBus.guid();
        this.colIsRedId = 'colIsRedId' + EventBus.guid();
        this.formInline = true;
        this.colInfoChanged = true;
        this.editable = [];
        this.isOrNotPaging = true;
        this.localizeService = this.injector.get(LocalizeService);
        this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;
        this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE || this.localId.toLowerCase() === 'zh-cht';
        this.alignData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.alignData');
        this.formatTypeData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.formatTypeData');
        this.sortData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.sortData');
        this.aggreData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateData');
        this.dimensionData = this.localizeService.getValue('ideCmp.schemaManager.columnOption.dimensionData');
        this.enumType = this.localizeService.getValue('ideCmp.schemaManager.columnOption.enumType');
        this.dataShowOption = this.localizeService.getValue('ideCmp.schemaManager.columnOption.dataShowOption');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.cols = [
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.name'), width: 200, template: this.nameCell },
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.binding'), width: 100, template: this.bindFieldCell },
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.colWidth'), width: 80, template: this.colWidthCell },
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.align'), width: 80, template: this.colAlignCell },
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.show'), width: 80, template: this.visibleCell },
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.fixColumn'), width: 80, template: this.isFixedCell },
            { field: '', title: this.localizeService.getValue('ideCmp.schemaManager.columnOption.dataShow'), width: 80, template: this.autoFixCell }
        ];
        /** @type {?} */
        const queryId = this.currSchema && this.currSchema.queryId ? this.currSchema.queryId : '';
        /** @type {?} */
        const eventId = RtfServices.getTabId(queryId);
        EventBus.register('pagingModeChanges', this.handlePagingModeChanged.bind(this), eventId);
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        /** @type {?} */
        const self = this;
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.otherOption) {
                            this.isOrNotPaging = newValue.schemaValue.otherOption.loadDataType == 1;
                        }
                        if (newValue.schemaValue && newValue.schemaValue.columnOption) {
                            this.columnOption = this.objectCopy(newValue.schemaValue.columnOption);
                            if (this.columnOption && this.columnOption.colList && this.columnOption.colList.length) {
                                if (newValue.id && newValue.id !== '1' && newValue.id !== 'prefab') {
                                    this.initColListData(this.columnOption.colList);
                                }
                                this.editable = [];
                                this.schemaTreeData = [];
                                this.columnOption.colList.forEach((/**
                                 * @param {?} col
                                 * @return {?}
                                 */
                                (col) => {
                                    col.id = EventBus.guid();
                                    this.editable.push({ id: col.id, editable: false });
                                    this.schemaTreeData.push({ data: col, expanded: true, children: [] });
                                    if (col.childList && col.childList.length) {
                                        /** @type {?} */
                                        const childList = this.objectCopy(col.childList);
                                        col.childList = [];
                                        this.recursiveInitTreeData(childList, this.schemaTreeData[this.schemaTreeData.length - 1]);
                                    }
                                }));
                                this.schemaTree.updateSerializedValue();
                                this.currTreeNode = this.schemaTreeData[0];
                                this.currTreeNodeId = this.currTreeNode.data.id;
                                this.initColInfo();
                                setTimeout((/**
                                 * @return {?}
                                 */
                                function () {
                                    self.schemaTree.selectNode(self.currTreeNodeId);
                                }), 200);
                            }
                        }
                        break;
                    case 'colList':
                        if (newValue && newValue.length && this.currSchema) { // &&(!this.currSchema.id || '1,prefab,public_schema'.indexOf(this.currSchema.id) >= 0)
                            this.initColListData(newValue);
                            if (this.currTreeNode && this.currTreeNode.data) {
                                if (this.currTreeNode.data.bindField) {
                                    this.colSelectValue = find(this.colListData, (/**
                                     * @param {?} c
                                     * @return {?}
                                     */
                                    function (c) { return c.value === self.currTreeNode.data.bindField; })).value;
                                }
                                if (this.currTreeNode.data.formatField) {
                                    this.formatField = find(this.colListData, (/**
                                     * @param {?} c
                                     * @return {?}
                                     */
                                    function (c) { return c.value === self.currTreeNode.data.formatField; })).value;
                                }
                            }
                        }
                        break;
                }
            }
        }
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
    }
    /**
     * @return {?}
     */
    handleAddTreeNode() {
        /** @type {?} */
        const node = JSON.parse(JSON.stringify(this.newNodeData));
        node.data.id = EventBus.guid();
        if (this.currTreeNode) {
            this.currTreeNode.children.push(node);
        }
        else {
            this.schemaTreeData.push(node);
        }
        this.editable.push({ id: node.data.id, editable: true });
        this.schemaTree.updateSerializedValue();
        this.schemaTree.selectNode(node.data.id);
    }
    /**
     * @return {?}
     */
    handleRemoveTreeNode() {
        /** @type {?} */
        const self = this;
        if (this.currTreeNode) {
            if (this.currTreeNode.parent) {
                /** @type {?} */
                const index = findIndex(this.currTreeNode.parent.children, (/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n.data.id === self.currTreeNode.data.id; }));
                this.currTreeNode.parent.children.splice(index, 1);
            }
            else {
                /** @type {?} */
                const index = findIndex(this.schemaTreeData, (/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n.data.id === self.currTreeNode.data.id; }));
                this.schemaTreeData.splice(index, 1);
            }
        }
        this.schemaTree.updateSerializedValue();
        this.currTreeNode = undefined;
        this.currTreeNodeId = undefined;
    }
    /**
     * @param {?} data
     * @return {?}
     */
    handleTreeNodeSelected(data) {
        /** @type {?} */
        const self = this;
        this.currTreeNode = data.node;
        this.currTreeNodeId = this.currTreeNode.data.id;
        this.editable.forEach((/**
         * @param {?} el
         * @return {?}
         */
        (el) => {
            el.editable = el.id === self.currTreeNodeId;
        }));
        this.initColInfo();
    }
    /**
     * @param {?} data
     * @return {?}
     */
    handleTreeNodeUnSelected(data) {
        /** @type {?} */
        const node = this.findTreeNodeById(data.node.data.id, []);
        this.updateColInfo(node);
        this.currTreeNode = undefined;
    }
    /**
     * @param {?} type
     * @return {?}
     */
    handleNodeUpAndDown(type) {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        const index = findIndex(this.schemaTreeData, (/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return n.data.id === self.currTreeNodeId; }));
        if (index >= 0) {
            if ((index !== 0 && (type === 'up' || type === 'top')) || (index + 1 !== this.schemaTreeData.length && type !== 'up' && type !== 'top')) {
                this.updateColInfo(this.schemaTreeData[index]);
                if (type === 'up') {
                    this.schemaTreeData[index] = this.schemaTreeData.splice(index - 1, 1, this.schemaTreeData[index])[0];
                }
                else if (type === 'down') {
                    this.schemaTreeData[index] = this.schemaTreeData.splice(index + 1, 1, this.schemaTreeData[index])[0];
                }
                else if (type === 'top') {
                    this.schemaTreeData[index] = this.schemaTreeData.splice(0, 1, this.schemaTreeData[index])[0];
                }
                else if (type === 'bottom') {
                    this.schemaTreeData[index] = this.schemaTreeData.splice(this.schemaTreeData.length - 1, 1, this.schemaTreeData[index])[0];
                }
                this.schemaTree.updateSerializedValue();
            }
        }
        else {
            this.schemaTreeData.forEach((/**
             * @param {?} node
             * @return {?}
             */
            (node) => {
                if (node.children && node.children.length) {
                    this.recursiveNodeUpAndDown(node.children, type);
                }
            }));
        }
    }
    /**
     * @return {?}
     */
    handleNodeLeft() {
        if (this.currTreeNode && this.currTreeNode.parent) {
            /** @type {?} */
            const self = this;
            /** @type {?} */
            const index = findIndex(this.schemaTreeData, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.data.id === self.currTreeNode.parent.data.id; }));
            if (index >= 0) {
                /** @type {?} */
                const childIndex = findIndex(self.currTreeNode.parent.children, (/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n.data.id === self.currTreeNode.data.id; }));
                this.updateColInfo(self.currTreeNode.parent.children[childIndex]);
                this.schemaTreeData.splice(index + 1, 0, self.currTreeNode.parent.children.splice(childIndex, 1)[0]);
                this.schemaTree.updateSerializedValue();
            }
            else {
                this.schemaTreeData.forEach((/**
                 * @param {?} node
                 * @return {?}
                 */
                (node) => {
                    if (node.children && node.children.length) {
                        this.recursiveNodeLeft(node.children);
                    }
                }));
            }
        }
    }
    /**
     * @return {?}
     */
    handleNodeRight() {
        if (this.currTreeNodeId) {
            /** @type {?} */
            const self = this;
            /** @type {?} */
            const index = findIndex(this.schemaTreeData, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.data.id === self.currTreeNodeId; }));
            if (index > 0) {
                this.updateColInfo(this.schemaTreeData[index]);
                this.schemaTreeData[index - 1].children.push(this.schemaTreeData.splice(index, 1)[0]);
                this.schemaTree.updateSerializedValue();
            }
            else {
                this.schemaTreeData.forEach((/**
                 * @param {?} node
                 * @return {?}
                 */
                (node) => {
                    if (node.children && node.children.length) {
                        this.recursiveNodeRight(node.children);
                    }
                }));
            }
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    handleIsGroupClick($event) {
        if (this.colIsGroup) {
            this.groupSelectValue = this.aggreData[0].value;
            this.groupText = '';
            this.groupSubSelectValue = this.aggreData[0].value;
            if (this.currTreeNode && this.currTreeNode.data) {
                this.currTreeNode.data.visible = false;
            }
        }
        if ($event && $event.isGroup == true) {
            $event.visible = false;
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    handleVisible($event) {
        if ($event.isGroup) {
            $event.visible = false;
        }
    }
    /**
     * @private
     * @param {?} children
     * @param {?} type
     * @return {?}
     */
    recursiveNodeUpAndDown(children, type) {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        const index = findIndex(children, (/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return n.data.id === self.currTreeNodeId; }));
        if (index >= 0) {
            if ((index !== 0 && (type === 'up' || type === 'top')) || (index + 1 !== children.length && type !== 'up' && type !== 'top')) {
                this.updateColInfo(children[index]);
                if (type === 'up') {
                    children[index] = children.splice(index - 1, 1, children[index])[0];
                }
                else if (type === 'down') {
                    children[index] = children.splice(index + 1, 1, children[index])[0];
                }
                else if (type === 'top') {
                    children[index] = children.splice(0, 1, children[index])[0];
                }
                else if (type === 'bottom') {
                    children[index] = children.splice(children.length - 1, 1, children[index])[0];
                }
                this.schemaTree.updateSerializedValue();
            }
        }
        else {
            children.forEach((/**
             * @param {?} node
             * @return {?}
             */
            (node) => {
                if (node.children && node.children.length) {
                    this.recursiveNodeUpAndDown(node.children, type);
                }
            }));
        }
    }
    /**
     * @private
     * @param {?} children
     * @return {?}
     */
    recursiveNodeLeft(children) {
        if (this.currTreeNode && this.currTreeNode.parent) {
            /** @type {?} */
            const self = this;
            /** @type {?} */
            const index = findIndex(children, (/**
             * @param {?} n
             * @return {?}
             */
            function (n) { return n.data.id === self.currTreeNode.parent.data.id; }));
            if (index >= 0) {
                /** @type {?} */
                const childIndex = findIndex(self.currTreeNode.parent.children, (/**
                 * @param {?} n
                 * @return {?}
                 */
                function (n) { return n.data.id === self.currTreeNodeId; }));
                this.updateColInfo(self.currTreeNode.parent.children[childIndex]);
                children.splice(index + 1, 0, self.currTreeNode.parent.children.splice(childIndex, 1)[0]);
                this.schemaTree.updateSerializedValue();
            }
            else {
                children.forEach((/**
                 * @param {?} node
                 * @return {?}
                 */
                (node) => {
                    if (node.children && node.children.length) {
                        this.recursiveNodeLeft(node.children);
                    }
                }));
            }
        }
    }
    /**
     * @private
     * @param {?} children
     * @return {?}
     */
    recursiveNodeRight(children) {
        /** @type {?} */
        const self = this;
        /** @type {?} */
        const index = findIndex(children, (/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return n.data.id === self.currTreeNodeId; }));
        if (index > 0) {
            this.updateColInfo(children[index]);
            children[index - 1].children.push(children.splice(index, 1)[0]);
            this.schemaTree.updateSerializedValue();
        }
        else {
            children.forEach((/**
             * @param {?} node
             * @return {?}
             */
            (node) => {
                if (node.children && node.children.length) {
                    this.recursiveNodeRight(node.children);
                }
            }));
        }
    }
    /**
     * @private
     * @return {?}
     */
    initColInfo() {
        /** @type {?} */
        const self = this;
        this.colName = this.currTreeNode.data.name;
        this.colWidth = this.currTreeNode.data.colWidth;
        this.colVisible = this.currTreeNode.data.visible;
        this.colFixed = this.currTreeNode.data.isFixed;
        this.colWrap = this.currTreeNode.data.wordWrap != null && this.currTreeNode.data.wordWrap !== undefined ? this.currTreeNode.data.wordWrap : false;
        this.colAutoFit = this.currTreeNode.data.autoFit != null && this.currTreeNode.data.autoFit !== undefined ? this.currTreeNode.data.autoFit : false;
        this.alignSelectValue = this.alignData[this.currTreeNode.data.align].value;
        /** @type {?} */
        let formatType = 0;
        if (this.currTreeNode.data.formatType) {
            formatType = this.currTreeNode.data.formatType;
        }
        this.formatTypeSelectValue = this.formatTypeData[formatType].value;
        this.formatText = !this.formatTypeSelectValue || this.formatTypeSelectValue === 0 ? '' : this.currTreeNode.data.formattor;
        this.sortSelectValue = this.sortData[this.currTreeNode.data.sort].value;
        this.pageSelectValue = this.currTreeNode.data.pageAggre ? this.aggreData[this.currTreeNode.data.pageAggre].value : this.aggreData[0].value;
        this.pageText = this.currTreeNode.data.pageAggreText ? this.currTreeNode.data.pageAggreText : '';
        this.colIsGroup = this.currTreeNode.data.isGroup === null
            || this.currTreeNode.data.isGroup === undefined ? false : this.currTreeNode.data.isGroup;
        this.colIsRed = this.currTreeNode.data.isRed === null
            || this.currTreeNode.data.isRed === undefined ? false : this.currTreeNode.data.isRed;
        this.groupSelectValue = this.aggreData[this.currTreeNode.data.groupAggre].value;
        this.groupSubSelectValue = this.aggreData[this.currTreeNode.data.groupSubAggre == null || this.currTreeNode.data.groupSubAggre === undefined ? 0 : this.currTreeNode.data.groupSubAggre].value;
        this.groupText = this.currTreeNode.data.groupAggreText;
        this.totalSelectValue = this.aggreData[this.currTreeNode.data.totalAggre].value;
        this.totalText = this.currTreeNode.data.totalAggreText;
        if (this.colListData && this.colListData.length) {
            /** @type {?} */
            let bindField = find(this.colListData, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.value === self.currTreeNode.data.bindField; }));
            this.colSelectValue = bindField && bindField.value;
            bindField = find(this.colListData, (/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.value === self.currTreeNode.data.formatField; }));
            this.formatField = bindField && bindField.value;
        }
        this.dimensionSelectValue = this.dimensionData[this.currTreeNode.data.dimension] && this.dimensionData[this.currTreeNode.data.dimension].value;
        this.rowColor = this.currTreeNode.data.rowColor;
        this.type = this.currTreeNode.data.type;
        this.showTypeSelectValue = this.enumType[this.currTreeNode.data.showType || 0].value;
    }
    /**
     * @param {?} type
     * @return {?}
     */
    handleWrap(type) {
        if (type === 'wrap') {
            this.colAutoFit = this.colWrap ? false : true;
        }
        else {
            this.colWrap = this.colAutoFit ? false : true;
        }
    }
    /**
     * @private
     * @param {?} node
     * @return {?}
     */
    updateColInfo(node) {
        if (!node) {
            return;
        }
        // node.data.name = this.colName;
        // node.data.colWidth = this.colWidth;
        // node.data.visible = this.colVisible;
        // node.data.isFixed = this.colFixed;
        // node.data.wordWrap = this.colWrap;
        // node.data.autoFit = this.colAutoFit;
        // node.data.align = this.alignSelectValue;
        /** @type {?} */
        let formatType = 0;
        if (this.formatTypeSelectValue) {
            formatType = this.formatTypeSelectValue;
        }
        // node.data.bindField = this.colSelectValue;
        node.data.formatType = formatType;
        node.data.formattor = !formatType || formatType === 0 ? '' : this.formatText;
        node.data.formatField = formatType && formatType === 1 && this.formatField ? this.formatField : '';
        node.data.sort = this.sortSelectValue;
        node.data.pageAggre = this.pageSelectValue;
        node.data.pageAggreText = this.pageText;
        node.data.isGroup = this.colIsGroup;
        node.data.isRed = this.colIsRed;
        node.data.groupAggre = this.groupSelectValue;
        node.data.groupSubAggre = this.groupSubSelectValue;
        node.data.groupAggreText = this.groupText;
        node.data.totalAggre = this.totalSelectValue;
        node.data.totalAggreText = this.totalText;
        if (this.colIsGroup == true) {
            node.data.visible = false;
        }
        if (this.dimensionSelectValue) {
            node.data.dimension = this.dimensionSelectValue;
        }
        else {
            node.data.dimension = this.dimensionData[0].value;
        }
        if (this.rowColor) {
            node.data.rowColor = this.rowColor;
        }
        if (this.showTypeSelectValue) {
            node.data.showType = this.showTypeSelectValue;
        }
    }
    /**
     * @private
     * @param {?} id
     * @param {?} children
     * @return {?}
     */
    findTreeNodeById(id, children) {
        if (!children || !children.length) {
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < this.schemaTreeData.length; i++) {
                if (this.schemaTreeData[i].data.id === id) {
                    return this.schemaTreeData[i];
                }
                if (this.schemaTreeData[i].children && this.schemaTreeData[i].children.length) {
                    /** @type {?} */
                    const node = this.findTreeNodeById(id, this.schemaTreeData[i].children);
                    if (node) {
                        return node;
                    }
                }
            }
        }
        else {
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < children.length; i++) {
                if (children[i].data.id === id) {
                    return children[i];
                }
                if (children[i].children && children[i].children.length) {
                    /** @type {?} */
                    const node = this.findTreeNodeById(id, children[i].children);
                    if (node) {
                        return node;
                    }
                }
            }
        }
    }
    /**
     * @private
     * @param {?} children
     * @param {?} parent
     * @return {?}
     */
    recursiveInitTreeData(children, parent) {
        children.forEach((/**
         * @param {?} node
         * @return {?}
         */
        (node) => {
            node.id = EventBus.guid();
            this.editable.push({ id: node.id, editable: false });
            parent.children.push({ data: node, expanded: true, children: [] });
            if (node.childList && node.childList.length) {
                /** @type {?} */
                const childList = this.objectCopy(node.childList);
                node.childList = [];
                this.recursiveInitTreeData(childList, parent.children[parent.children.length - 1]);
            }
        }));
    }
    /**
     * @private
     * @param {?} newValue
     * @return {?}
     */
    initColListData(newValue) {
        newValue.forEach((/**
         * @param {?} col
         * @return {?}
         */
        col => {
            this.recursiveInitColListData(null, col);
        }));
    }
    /**
     * @private
     * @param {?} children
     * @param {?} col
     * @return {?}
     */
    recursiveInitColListData(children, col) {
        if (col) {
            if (this.colListData.findIndex((/**
             * @param {?} item
             * @return {?}
             */
            (item) => item.value === col.bindField)) < 0) {
                this.colListData.push({ name: col.name + '(' + col.bindField + ')', value: col.bindField });
            }
            if (col.childList && col.childList.length) {
                this.recursiveInitColListData(col.childList, null);
            }
        }
        else {
            children.forEach((/**
             * @param {?} c
             * @return {?}
             */
            (c) => {
                if (this.colListData.findIndex((/**
                 * @param {?} item
                 * @return {?}
                 */
                (item) => item.value === c.bindField)) < 0) {
                    this.colListData.push({ name: c.name + '(' + c.bindField + ')', value: c.bindField });
                }
                if (c.childList && c.childList.length) {
                    this.recursiveInitColListData(c.childList, null);
                }
            }));
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
        if (this.schemaTree) {
            this.schemaTree.resize(this.size);
        }
    }
    /**
     * @return {?}
     */
    getColumnOption() {
        /** @type {?} */
        const columns = [];
        if (this.currTreeNode) {
            this.updateColInfo(this.currTreeNode);
        }
        if (this.schemaTreeData && this.schemaTreeData.length) {
            this.schemaTreeData.forEach((/**
             * @param {?} n
             * @return {?}
             */
            (n) => {
                /** @type {?} */
                const node = this.objectCopy(n.data);
                delete node.id;
                node.childList = [];
                columns.push(node);
                if (n.children && n.children.length) {
                    this.recursiveGetTreeNodes(n.children, node);
                }
            }));
        }
        return columns;
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    onValueChange($event) {
        if ($event.value === 1) {
            this.currTreeNode.data.autoFit = true;
            this.currTreeNode.data.wordWrap = false;
        }
        else if ($event.value === 2) {
            this.currTreeNode.data.wordWrap = true;
            this.currTreeNode.data.autoFit = false;
        }
        else {
            this.currTreeNode.data.wordWrap = false;
            this.currTreeNode.data.autoFit = false;
        }
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    handleInfoChanged($event) {
        this.colInfoChanged = $event === 0;
    }
    /**
     * @param {?} treeNode
     * @return {?}
     */
    handleNgModelChange(treeNode) {
        if (!this.schemaTree.selectedRow || (treeNode.id !== this.schemaTree.selectedRow.id)) {
            this.schemaTree.selectNode(treeNode.id);
        }
    }
    /**
     * @param {?} type
     * @param {?} value
     * @return {?}
     */
    getComboboxName(type, value) {
        /** @type {?} */
        let result = '';
        switch (type) {
            case 0:
                value = value === -1 ? 0 : value;
                result = this.dataShowOption[value].name;
                break;
            default:
                break;
        }
        return result;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    getAlignName(value) {
        return !this.alignData[value].name ? '' : this.alignData[value].name;
    }
    /**
     * @param {?} id
     * @return {?}
     */
    findEditable(id) {
        return find(this.editable, (/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return item.id === id; }));
    }
    /**
     * @private
     * @param {?} children
     * @param {?} parent
     * @return {?}
     */
    recursiveGetTreeNodes(children, parent) {
        children.forEach((/**
         * @param {?} n
         * @return {?}
         */
        (n) => {
            if (!parent.childList) {
                parent.childList = [];
            }
            /** @type {?} */
            const node = this.objectCopy(n.data);
            delete node.id;
            node.childList = [];
            parent.childList.push(node);
            if (n.children && n.children.length) {
                this.recursiveGetTreeNodes(n.children, node);
            }
        }));
    }
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    objectCopy(obj) {
        /** @type {?} */
        const str = JSON.stringify(obj);
        /** @type {?} */
        const copyNode = JSON.parse(str);
        if (copyNode.isGroup == true) {
            copyNode.visible = false;
        }
        return copyNode;
    }
    /**
     * @private
     * @param {?} pagingMode
     * @return {?}
     */
    handlePagingModeChanged(pagingMode) {
        this.isOrNotPaging = pagingMode.value === 1;
        if (!this.isOrNotPaging) {
            this.pageText = '';
            this.pageSelectValue = 0;
        }
        else {
            this.totalText = '';
            this.totalSelectValue = 0;
        }
    }
}
ColumnEditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'column-editor',
                template: "<div #colToolbar class=\"flex-roww\">\r\n  <div class=\"navbar p-0\">\r\n    <div>\r\n      <button [class]=\"colInfoChanged == true ? 'btn btn-primary' : 'btn btn-secondary'\" id=\"button-edit1\" (click)=\"handleInfoChanged(0)\">\r\n        {{localizeService.getValue('ideCmp.schemaManager.columnOption.selection1')}}</button>\r\n      <button [class]=\"colInfoChanged == false ? 'btn btn-primary' : 'btn btn-secondary'\" id=\"button-edit2\"\r\n        (click)=\"handleInfoChanged(1)\">\r\n        {{localizeService.getValue('ideCmp.schemaManager.columnOption.selection2')}}</button>\r\n    </div>\r\n    <!-- <label class=\"farris-form-title mr-auto\" for=\"page-header-title\">\r\n      <span></span>\r\n    </label> -->\r\n    <div class=\"btn-toolbar btn-group-lg\" id=\"page-header-toolbar\">\r\n      <button *ngIf=\"controlType!='crosstab'\" class=\"btn btn-link p-1 mr-1\" id=\"button-edit\"\r\n        (click)=\"handleAddTreeNode()\">\r\n        <span id=\"btnAdd\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTVweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTUgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWKoOWPtzwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEwNjEuMDAwMDAwLCAtMTk3LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YigLemZpC0oMyknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDc0OS4wMDAwMDAsIDIuMDAwMDAwKSc+PGcgaWQ9J+WKoOWPtyc+PGNpcmNsZSBpZD0n5qSt5ZyG5b2iJyBzdHJva2U9JyMxRTgwRkYnIGN4PSc3LjUnIGN5PSc3LjUnIHI9JzYuNSc+PC9jaXJjbGU+PHBhdGggZD0nTTgsOCBMOCwxMC4xMTIyNzc5IEM4LDEwLjIxNTEwOTggNy45NDczMjA1MiwxMC4zMTM3MyA3Ljg1MzU1MDc5LDEwLjM4NjQ0MjIgQzcuNzU5NzgxMDcsMTAuNDU5MTU0NSA3LjYzMjYwMjQ5LDEwLjUwMDAwMjYgNy40OTk5OTM3NCwxMC41IEw3LjUwMDAwNjI1LDEwLjQ5OTk5MDMgQzcuMzY3Mzk1MzMsMTAuNDk5OTkyOSA3LjI0MDIxNDg2LDEwLjQ1OTE0MzUgNy4xNDY0NDQ3OCwxMC4zODY0MjkxIEM3LjA1MjY3NDcsMTAuMzEzNzE0NyA2Ljk5OTk5NjY4LDEwLjIxNTA5MjEgNywxMC4xMTIyNTg1IEw3LDggTDQuODg3NjY5NjgsOCBDNC42NzM1NTU3MSw3Ljk5OTk1NjMyIDQuNSw3Ljc3NjExMTQ5IDQuNSw3LjUgQzQuNSw3LjIyMzg4ODUxIDQuNjczNTU1NzEsNy4wMDAwNDM2OCA0Ljg4NzY2OTY4LDcgTDcsNyBMNyw0Ljg4NzcyNyBDNyw0LjY3MzU5MTI5IDcuMjIzODU3NjMsNC41IDcuNSw0LjUgQzcuNzc2MTQyMzcsNC41IDgsNC42NzM1OTEyOSA4LDQuODg3NzI3IEw4LDcgTDEwLjExMjMzMDMsNyBDMTAuMzI2NDQ0Myw3LjAwMDA0MzY4IDEwLjUsNy4yMjM4ODg1MSAxMC41LDcuNSBDMTAuNSw3Ljc3NjExMTQ5IDEwLjMyNjQ0NDMsNy45OTk5NTYzMiAxMC4xMTIzMzAzLDggTDgsOCBaJyBpZD0n5ZCI5bm25b2i54q2JyBmaWxsPScjMUU4MEZGJz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\" style=\"width: 15px; height: 15px; display: block;\" />\r\n        </span>\r\n        {{localizeService.getValue('ideCmp.schemaManager.columnOption.btnAdd')}}</button>\r\n      <button *ngIf=\"controlType!='crosstab'\" class=\"btn btn-link p-1 mr-1\" id=\"button-edit\"\r\n        (click)=\"handleRemoveTreeNode()\">\r\n        <span id=\"btnDel\" class=\"f-icon f-icon-yxs_delete pt-1 pr-3\" role=\"presentation\">\r\n        </span>\r\n        {{localizeService.getValue('ideCmp.schemaManager.columnOption.btnDelete')}}</button>\r\n      <span *ngIf=\"controlType!='crosstab'\" class=\"d-inline-block m-2\"\r\n        style=\"width:1px; background-color: #1890ff\"></span>\r\n      <button class=\"btn btn-link p-1 mr-1\" id=\"button-edit\" (click)=\"handleNodeUpAndDown('up')\">\r\n        <span id=\"btnUp\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTYgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxNTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTExOTQuMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg4ODIuMDAwMDAwLCAzLjAwMDAwMCknPjxwYXRoIGQ9J00xMC45MTcwMzA2LDMuNTI0MjgzMDEgTDkuNzAxMzEwMDUsNC43NDEwNTI5NSBDOS41NjYzNzYwOCw0Ljg3Njg0MDQzIDkuMzgyNjk1NTIsNC45NTI5NTQ2MyA5LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzkuMDAwODc4NzgsNC45NTM2MzQ1MyA4LjgxODg4NjM1LDQuODc3NDg4MzkgOC42ODczMzYyNSw0Ljc0MTA1Mjk1IEM4LjQxMDc2NDkzLDQuNDYzMDQyNiA4LjQxMDc2NDkzLDQuMDEzODIzMTEgOC42ODczMzYyNSwzLjczNTgxMjc3IEwxMS4yMTU3MjA1LDEuMjA3NDI4NDkgQzExLjQ5MzczMDksMC45MzA4NTcxNjkgMTEuOTQyOTUwNCwwLjkzMDg1NzE2OSAxMi4yMjA5NjA3LDEuMjA3NDI4NDkgTDE0Ljc1NjMzMTksMy43MzU4MTI3NyBDMTUuMDMyMzI0NSw0LjAxMzcyMTE2IDE1LjAzMjMyNDUsNC40NjIyNzExOSAxNC43NTYzMzE5LDQuNzQwMTc5NTggQzE0LjQ3ODMyMTUsNS4wMTY3NTA5IDE0LjAyOTEwMiw1LjAxNjc1MDkgMTMuNzUxMDkxNyw0Ljc0MDE3OTU4IEwxMi4zNDQ5NzgyLDMuMzM1Mjc4MjYgTDEyLjM0NDk3ODIsMTAuODQyODgzNiBDMTIuMzQyMTI0MSwxMS4yMzYyNTM0IDEyLjAyMzkzNzQsMTEuNTU0NDQwMSAxMS42MzA1Njc3LDExLjU1NzI5NDEgQzExLjIzNzA4MjUsMTEuNTU2ODEyOSAxMC45MTc1MTE4LDExLjIzNzI0MjIgMTAuOTE3MDMwNiwxMC44NDI4ODM2IEwxMC45MTcwMzA2LDMuNTI0MjgzMDEgWiBNMS43MTM1MzcxMSwxMy44MDA5NjIyIEMxLjMxOTg1OTg2LDEzLjgwMDAwMiAxLjAwMDk2MDE5LDEzLjQ4MTEwMjQgMSwxMy4wODc0MjUxIEMxLDEyLjY5NDQxMiAxLjMyMDUyNDAyLDEyLjM3MzAxNDcgMS43MTQ0MTA0OCwxMi4zNzMwMTQ3IEwxNC4yNDU0MTQ4LDEyLjM3MzAxNDcgQzE0LjYzODQyNzksMTIuMzczMDE0NyAxNC45NTk4MjUzLDEyLjY5MzUzODcgMTQuOTU5ODI1MywxMy4wODc0MjUxIEMxNC45NTk4MjUzLDEzLjQ4MDQzODIgMTQuNjQ2Mjg4MiwxMy44MDA5NjIyIDE0LjI0NTQxNDgsMTMuODAwOTYyMiBMMS43MTM1MzcxMSwxMy44MDA5NjIyIFogTTEuNzE1MjgzODQsMTAuMjk5ODUwNyBDMS4zMjA5MjUzMywxMC4yOTkzNjk1IDEuMDAxMzU0NTgsOS45Nzk3OTg3MSAxLjAwMDg3MzM2LDkuNTg1NDQwMiBDMS4wMDA4NzMzNiw5LjE5MjQyNzEgMS4zMjEzOTczOSw4Ljg3MTkwMzA3IDEuNzE1MjgzODQsOC44NzE5MDMwNyBMNy4wNDgwMzQ5NCw4Ljg3MTkwMzA3IEM3LjQ0MTA0ODA0LDguODcxOTAzMDcgNy43NjI0NDU0Miw5LjE5MjQyNzEgNy43NjI0NDU0Miw5LjU4NTQ0MDIgQzcuNzYyNDQ1NDIsOS45Nzg0NTMzIDcuNDQxOTIxMzksMTAuMjk5ODUwNyA3LjA0ODAzNDk0LDEwLjI5OTg1MDcgTDEuNzE1MjgzODQsMTAuMjk5ODUwNyBaIE0xLjcxNTI4Mzg0LDYuNzk4NzM5MSBDMS4zMjEyNjU1Niw2Ljc5ODI1MDU2IDEuMDAxODM1MjcsNi40NzkyMTA3NyAxLjAwMDg3MzM2LDYuMDg1MTkzMzcgQzEuMDAwODczMzYsNS42OTIxODAyNiAxLjMyMTM5NzM5LDUuMzcwNzgyODkgMS43MTUyODM4NCw1LjM3MDc4Mjg5IEw3LjA0ODAzNDk0LDUuMzcwNzgyODkgQzcuNDQxMDQ4MDQsNS4zNzA3ODI4OSA3Ljc2MjQ5MTIzLDUuNjkxMzA2OTEgNy43NjI0OTEyMyw2LjA4NTE5MzM3IEM3Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNy42ODgwNzU1Myw2LjQ1NjgzMjA5IDcuNTUzOTE5OTUsNi41OTA4MjM2NyBDNy40MTk3NjQzNiw2LjcyNDgxNTI2IDcuMjM3NjQxMzYsNi43OTk2NjM1MSA3LjA0ODAzNDk0LDYuNzk4NzM5MSBMMS43MTUyODM4NCw2Ljc5ODczOTEgWiBNMS43MTUyODM4NCwzLjI5NzYxODkyIEMxLjMyMTI2NTU2LDMuMjk3MTM4OTkgMS4wMDE4MzUyNiwyLjk3ODA5OTE5IDEuMDAwODczMzYsMi41ODQwODE3OSBDMS4wMDA4NzMzNiwyLjE5MTA2ODY5IDEuMzIxMzk3MzksMS44Njk2NzEzMSAxLjcxNTI4Mzg0LDEuODY5NjcxMzEgTDcuMDQ4MDM0OTQsMS44Njk2NzEzMSBDNy40MjU1Nzc4OSwxLjg5MjU1MjY2IDcuNzIwMDQ3NzIsMi4yMDU0MDk0MyA3LjcyMDA0NzcyLDIuNTgzNjQ1MTEgQzcuNzIwMDQ3NzIsMi45NjE4ODA4IDcuNDI1NTc3ODksMy4yNzQ3Mzc1NiA3LjA0ODAzNDk0LDMuMjk3NjE4OTIgTDEuNzE1MjgzODQsMy4yOTc2MTg5MiBaJyBpZD0n5b2i54q2JyBzdHJva2U9JyNGRkZGRkYnIHN0cm9rZS13aWR0aD0nMC4yJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjwvcGF0aD48cmVjdCBpZD0n55+p5b2iJyB4PScwJyB5PScwJyB3aWR0aD0nMTQnIGhlaWdodD0nMTQnPjwvcmVjdD48L2c+PC9nPjwvZz48L2c+PC9zdmc+\" style=\"width: 15px; height: 14px; display: block;\" />\r\n        </span>\r\n      </button>\r\n      <!-- {{localizeService.getValue('ideCmp.schemaManager.columnOption.btnUp')}} -->\r\n      <button class=\"btn btn-link p-1 mr-1\" id=\"button-edit\" (click)=\"handleNodeUpAndDown('down')\">\r\n        <span id=\"btnDown\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTYgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxNzwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyMjEuMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE3JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg5MDkuMDAwMDAwLCAzLjAwMDAwMCknPjxwYXRoIGQ9J00xMC45MTcwMzA2LDMuNTI0MjgzMDQgTDkuNzAxMzEwMDQsNC43NDEwNTI5NCBDOS41NjYzNzYwNyw0Ljg3Njg0MDQyIDkuMzgyNjk1NTEsNC45NTI5NTQ2MyA5LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzkuMDAwODc4NzgsNC45NTM2MzQ1MiA4LjgxODg4NjM1LDQuODc3NDg4MzkgOC42ODczMzYyNSw0Ljc0MTA1Mjk0IEM4LjQxMDc2NDkyLDQuNDYzMDQyNiA4LjQxMDc2NDkyLDQuMDEzODIzMTEgOC42ODczMzYyNSwzLjczNTgxMjc2IEwxMS4yMTU3MjA2LDEuMjA3NDI4NDkgQzExLjQ5MzczMDksMC45MzA4NTcxNyAxMS45NDI5NTA0LDAuOTMwODU3MTcgMTIuMjIwOTYwNywxLjIwNzQyODQ5IEwxNC43NTYzMzE5LDMuNzM1ODEyNzYgQzE1LjAzMjMyNDUsNC4wMTM3MjExNSAxNS4wMzIzMjQ1LDQuNDYyMjcxMTkgMTQuNzU2MzMxOSw0Ljc0MDE3OTU4IEMxNC40NzgzMjE2LDUuMDE2NzUwOSAxNC4wMjkxMDIxLDUuMDE2NzUwOSAxMy43NTEwOTE3LDQuNzQwMTc5NTggTDEyLjM0NDk3ODIsMy4zMzUyNzgyIEwxMi4zNDQ5NzgyLDEwLjg0Mjg4MzcgQzEyLjM0MjEyNDEsMTEuMjM2MjUzNCAxMi4wMjM5Mzc1LDExLjU1NDQ0MDEgMTEuNjMwNTY3NywxMS41NTcyOTQxIEMxMS4yMzcwODI2LDExLjU1NjgxMjkgMTAuOTE3NTExOCwxMS4yMzcyNDIyIDEwLjkxNzAzMDYsMTAuODQyODgzNyBMMTAuOTE3MDMwNiwzLjUyNDI4MzA0IFogTTEuNzEzNTM3MTEsMTMuODAwOTYyMyBDMS4zMTk4NTk4NiwxMy44MDAwMDIxIDEuMDAwOTYwMTksMTMuNDgxMTAyNCAxLDEzLjA4NzQyNTEgQzEsMTIuNjk0NDEyIDEuMzIwNTI0MDIsMTIuMzczMDE0NyAxLjcxNDQxMDQ4LDEyLjM3MzAxNDcgTDE0LjI0NTQxNDksMTIuMzczMDE0NyBDMTQuNjM4NDI4LDEyLjM3MzAxNDcgMTQuOTU5ODI1NCwxMi42OTM1Mzg3IDE0Ljk1OTgyNTQsMTMuMDg3NDI1MSBDMTQuOTU5ODI1NCwxMy40ODA0MzgzIDE0LjY0NjI4ODIsMTMuODAwOTYyMyAxNC4yNDU0MTQ5LDEzLjgwMDk2MjMgTDEuNzEzNTM3MTEsMTMuODAwOTYyMyBaIE0xLjcxNTI4Mzg0LDEwLjI5OTg1MDcgQzEuMzIwOTI1MzMsMTAuMjk5MzY5NSAxLjAwMTM1NDU4LDkuOTc5Nzk4NzEgMS4wMDA4NzMzNiw5LjU4NTQ0MDIgQzEuMDAwODczMzYsOS4xOTI0MjcwOSAxLjMyMTM5NzM5LDguODcxOTAzMDcgMS43MTUyODM4NCw4Ljg3MTkwMzA3IEw3LjA0ODAzNDk0LDguODcxOTAzMDcgQzcuNDQxMDQ4MDQsOC44NzE5MDMwNyA3Ljc2MjQ0NTQxLDkuMTkyNDI3MDkgNy43NjI0NDU0MSw5LjU4NTQ0MDIgQzcuNzYyNDQ1NDEsOS45Nzg0NTMzIDcuNDQxOTIxMzksMTAuMjk5ODUwNyA3LjA0ODAzNDk0LDEwLjI5OTg1MDcgTDEuNzE1MjgzODQsMTAuMjk5ODUwNyBaIE0xLjcxNTI4Mzg0LDYuNzk4NzM5MSBDMS4zMjEyNjU1Niw2Ljc5ODI1MDU1IDEuMDAxODM1MjcsNi40NzkyMTA3NiAxLjAwMDg3MzM2LDYuMDg1MTkzMzYgQzEuMDAwODczMzYsNS42OTIxODAyNiAxLjMyMTM5NzM5LDUuMzcwNzgyODggMS43MTUyODM4NCw1LjM3MDc4Mjg4IEw3LjA0ODAzNDk0LDUuMzcwNzgyODggQzcuNDQxMDQ4MDQsNS4zNzA3ODI4OCA3Ljc2MjQ5MTIyLDUuNjkxMzA2OTEgNy43NjI0OTEyMiw2LjA4NTE5MzM2IEM3Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNy42ODgwNzU1Myw2LjQ1NjgzMjA5IDcuNTUzOTE5OTQsNi41OTA4MjM2NyBDNy40MTk3NjQzNSw2LjcyNDgxNTI2IDcuMjM3NjQxMzYsNi43OTk2NjM1MSA3LjA0ODAzNDk0LDYuNzk4NzM5MSBMMS43MTUyODM4NCw2Ljc5ODczOTEgWiBNMS43MTUyODM4NCwzLjI5NzYxODkxIEMxLjMyMTI2NTU2LDMuMjk3MTM4OTkgMS4wMDE4MzUyNiwyLjk3ODA5OTE5IDEuMDAwODczMzYsMi41ODQwODE3OSBDMS4wMDA4NzMzNiwyLjE5MTA2ODY4IDEuMzIxMzk3MzksMS44Njk2NzEzMSAxLjcxNTI4Mzg0LDEuODY5NjcxMzEgTDcuMDQ4MDM0OTQsMS44Njk2NzEzMSBDNy40MjU1Nzc4OCwxLjg5MjU1MjY2IDcuNzIwMDQ3NzEsMi4yMDU0MDk0MiA3LjcyMDA0NzcxLDIuNTgzNjQ1MTEgQzcuNzIwMDQ3NzEsMi45NjE4ODA4IDcuNDI1NTc3ODgsMy4yNzQ3Mzc1NiA3LjA0ODAzNDk0LDMuMjk3NjE4OTEgTDEuNzE1MjgzODQsMy4yOTc2MTg5MSBaJyBpZD0n5b2i54q2JyBzdHJva2U9JyNGRkZGRkYnIHN0cm9rZS13aWR0aD0nMC4yJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDcuOTgxNjYzLCA3LjQwMDQ4MSkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtNy45ODE2NjMsIC03LjQwMDQ4MSkgJz48L3BhdGg+PHJlY3QgaWQ9J+efqeW9oicgeD0nMCcgeT0nMCcgd2lkdGg9JzE0JyBoZWlnaHQ9JzE0Jz48L3JlY3Q+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==\" style=\"width: 15px; height: 14px; display: block;\" />\r\n        </span>\r\n      </button>\r\n      <!-- {{localizeService.getValue('ideCmp.schemaManager.columnOption.btnDown')}} -->\r\n      <button *ngIf=\"controlType!='crosstab'\" class=\"btn btn-link p-1 mr-1\" id=\"button-edit\" (click)=\"handleNodeLeft()\">\r\n        <span id=\"btnLeft\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTRweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTQgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxODwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyNDguMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg5MzYuMDAwMDAwLCAzLjAwMDAwMCknPjxyZWN0IGlkPSfnn6nlvaInIHg9JzAnIHk9JzAnIHdpZHRoPScxNCcgaGVpZ2h0PScxNCc+PC9yZWN0PjxwYXRoIGQ9J005LjkxNzAzMDU3LDMuNTI0MjgzMDEgTDguNzAxMzEwMDUsNC43NDEwNTI5NSBDOC41NjYzNzYwOCw0Ljg3Njg0MDQzIDguMzgyNjk1NTIsNC45NTI5NTQ2MyA4LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzguMDAwODc4NzgsNC45NTM2MzQ1MyA3LjgxODg4NjM1LDQuODc3NDg4MzkgNy42ODczMzYyNSw0Ljc0MTA1Mjk1IEM3LjQxMDc2NDkzLDQuNDYzMDQyNiA3LjQxMDc2NDkzLDQuMDEzODIzMTEgNy42ODczMzYyNSwzLjczNTgxMjc3IEwxMC4yMTU3MjA1LDEuMjA3NDI4NDkgQzEwLjQ5MzczMDksMC45MzA4NTcxNjkgMTAuOTQyOTUwNCwwLjkzMDg1NzE2OSAxMS4yMjA5NjA3LDEuMjA3NDI4NDkgTDEzLjc1NjMzMTksMy43MzU4MTI3NyBDMTQuMDMyMzI0NSw0LjAxMzcyMTE2IDE0LjAzMjMyNDUsNC40NjIyNzExOSAxMy43NTYzMzE5LDQuNzQwMTc5NTggQzEzLjQ3ODMyMTUsNS4wMTY3NTA5IDEzLjAyOTEwMiw1LjAxNjc1MDkgMTIuNzUxMDkxNyw0Ljc0MDE3OTU4IEwxMS4zNDQ5NzgyLDMuMzM1Mjc4MjYgTDExLjM0NDk3ODIsMTAuODQyODgzNiBDMTEuMzQyMTI0MSwxMS4yMzYyNTM0IDExLjAyMzkzNzQsMTEuNTU0NDQwMSAxMC42MzA1Njc3LDExLjU1NzI5NDEgQzEwLjIzNzA4MjUsMTEuNTU2ODEyOSA5LjkxNzUxMTc5LDExLjIzNzI0MjIgOS45MTcwMzA1NywxMC44NDI4ODM2IEw5LjkxNzAzMDU3LDMuNTI0MjgzMDEgWiBNMC43MTM1MzcxMTQsMTMuODAwOTYyMiBDMC4zMTk4NTk4NTksMTMuODAwMDAyIDAuMDAwOTYwMTk0NTgxLDEzLjQ4MTEwMjQgMCwxMy4wODc0MjUxIEMwLDEyLjY5NDQxMiAwLjMyMDUyNDAyMywxMi4zNzMwMTQ3IDAuNzE0NDEwNDc5LDEyLjM3MzAxNDcgTDEzLjI0NTQxNDgsMTIuMzczMDE0NyBDMTMuNjM4NDI3OSwxMi4zNzMwMTQ3IDEzLjk1OTgyNTMsMTIuNjkzNTM4NyAxMy45NTk4MjUzLDEzLjA4NzQyNTEgQzEzLjk1OTgyNTMsMTMuNDgwNDM4MiAxMy42NDYyODgyLDEzLjgwMDk2MjIgMTMuMjQ1NDE0OCwxMy44MDA5NjIyIEwwLjcxMzUzNzExNCwxMy44MDA5NjIyIFogTTAuNzE1MjgzODQzLDEwLjI5OTg1MDcgQzAuMzIwOTI1MzMsMTAuMjk5MzY5NSAwLjAwMTM1NDU4NDA3LDkuOTc5Nzk4NzEgMC4wMDA4NzMzNjQxNTEsOS41ODU0NDAyIEMwLjAwMDg3MzM2NDE1MSw5LjE5MjQyNzEgMC4zMjEzOTczODcsOC44NzE5MDMwNyAwLjcxNTI4Mzg0Myw4Ljg3MTkwMzA3IEw2LjA0ODAzNDk0LDguODcxOTAzMDcgQzYuNDQxMDQ4MDQsOC44NzE5MDMwNyA2Ljc2MjQ0NTQyLDkuMTkyNDI3MSA2Ljc2MjQ0NTQyLDkuNTg1NDQwMiBDNi43NjI0NDU0Miw5Ljk3ODQ1MzMgNi40NDE5MjEzOSwxMC4yOTk4NTA3IDYuMDQ4MDM0OTQsMTAuMjk5ODUwNyBMMC43MTUyODM4NDMsMTAuMjk5ODUwNyBaIE0wLjcxNTI4Mzg0Myw2Ljc5ODczOTEgQzAuMzIxMjY1NTYxLDYuNzk4MjUwNTYgMC4wMDE4MzUyNjgwNyw2LjQ3OTIxMDc3IDAuMDAwODczMzY0MTUxLDYuMDg1MTkzMzcgQzAuMDAwODczMzY0MTUxLDUuNjkyMTgwMjYgMC4zMjEzOTczODcsNS4zNzA3ODI4OSAwLjcxNTI4Mzg0Myw1LjM3MDc4Mjg5IEw2LjA0ODAzNDk0LDUuMzcwNzgyODkgQzYuNDQxMDQ4MDQsNS4zNzA3ODI4OSA2Ljc2MjQ5MTIzLDUuNjkxMzA2OTEgNi43NjI0OTEyMyw2LjA4NTE5MzM3IEM2Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNi42ODgwNzU1Myw2LjQ1NjgzMjA5IDYuNTUzOTE5OTUsNi41OTA4MjM2NyBDNi40MTk3NjQzNiw2LjcyNDgxNTI2IDYuMjM3NjQxMzYsNi43OTk2NjM1MSA2LjA0ODAzNDk0LDYuNzk4NzM5MSBMMC43MTUyODM4NDMsNi43OTg3MzkxIFogTTAuNzE1MjgzODQzLDMuMjk3NjE4OTIgQzAuMzIxMjY1NTU2LDMuMjk3MTM4OTkgMC4wMDE4MzUyNjE1MSwyLjk3ODA5OTE5IDAuMDAwODczMzY0MTUxLDIuNTg0MDgxNzkgQzAuMDAwODczMzY0MTUxLDIuMTkxMDY4NjkgMC4zMjEzOTczODcsMS44Njk2NzEzMSAwLjcxNTI4Mzg0MywxLjg2OTY3MTMxIEw2LjA0ODAzNDk0LDEuODY5NjcxMzEgQzYuNDI1NTc3ODksMS44OTI1NTI2NiA2LjcyMDA0NzcyLDIuMjA1NDA5NDMgNi43MjAwNDc3MiwyLjU4MzY0NTExIEM2LjcyMDA0NzcyLDIuOTYxODgwOCA2LjQyNTU3Nzg5LDMuMjc0NzM3NTYgNi4wNDgwMzQ5NCwzLjI5NzYxODkyIEwwLjcxNTI4Mzg0MywzLjI5NzYxODkyIFonIGlkPSflvaLnirYnIHN0cm9rZT0nI0ZGRkZGRicgc3Ryb2tlLXdpZHRoPScwLjInIGZpbGw9JyMxRTgwRkYnIGZpbGwtcnVsZT0nbm9uemVybycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi45ODE2NjMsIDcuNDAwNDgxKSByb3RhdGUoLTkwLjAwMDAwMCkgdHJhbnNsYXRlKC02Ljk4MTY2MywgLTcuNDAwNDgxKSAnPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9zdmc+\" style=\"width: 15px; height: 14px; display: block;\" />\r\n        </span>\r\n      </button>\r\n      <!-- {{localizeService.getValue('ideCmp.schemaManager.columnOption.btnLeft')}} -->\r\n      <button *ngIf=\"controlType!='crosstab'\" class=\"btn btn-link p-1 mr-1\" id=\"button-edit\"\r\n        (click)=\"handleNodeRight()\">\r\n        <span id=\"btnRight\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTRweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTQgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxOTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyNzQuMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE5JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg5NjIuMDAwMDAwLCAzLjAwMDAwMCknPjxwYXRoIGQ9J005LjkxNzAzMDU3LDMuNTI0MjgzMDEgTDguNzAxMzEwMDUsNC43NDEwNTI5NSBDOC41NjYzNzYwOCw0Ljg3Njg0MDQzIDguMzgyNjk1NTIsNC45NTI5NTQ2MyA4LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzguMDAwODc4NzgsNC45NTM2MzQ1MyA3LjgxODg4NjM1LDQuODc3NDg4MzkgNy42ODczMzYyNSw0Ljc0MTA1Mjk1IEM3LjQxMDc2NDkzLDQuNDYzMDQyNiA3LjQxMDc2NDkzLDQuMDEzODIzMTEgNy42ODczMzYyNSwzLjczNTgxMjc3IEwxMC4yMTU3MjA1LDEuMjA3NDI4NDkgQzEwLjQ5MzczMDksMC45MzA4NTcxNjkgMTAuOTQyOTUwNCwwLjkzMDg1NzE2OSAxMS4yMjA5NjA3LDEuMjA3NDI4NDkgTDEzLjc1NjMzMTksMy43MzU4MTI3NyBDMTQuMDMyMzI0NSw0LjAxMzcyMTE2IDE0LjAzMjMyNDUsNC40NjIyNzExOSAxMy43NTYzMzE5LDQuNzQwMTc5NTggQzEzLjQ3ODMyMTUsNS4wMTY3NTA5IDEzLjAyOTEwMiw1LjAxNjc1MDkgMTIuNzUxMDkxNyw0Ljc0MDE3OTU4IEwxMS4zNDQ5NzgyLDMuMzM1Mjc4MjYgTDExLjM0NDk3ODIsMTAuODQyODgzNiBDMTEuMzQyMTI0MSwxMS4yMzYyNTM0IDExLjAyMzkzNzQsMTEuNTU0NDQwMSAxMC42MzA1Njc3LDExLjU1NzI5NDEgQzEwLjIzNzA4MjUsMTEuNTU2ODEyOSA5LjkxNzUxMTc5LDExLjIzNzI0MjIgOS45MTcwMzA1NywxMC44NDI4ODM2IEw5LjkxNzAzMDU3LDMuNTI0MjgzMDEgWiBNMC43MTM1MzcxMTQsMTMuODAwOTYyMiBDMC4zMTk4NTk4NTksMTMuODAwMDAyIDAuMDAwOTYwMTk0NTgxLDEzLjQ4MTEwMjQgMCwxMy4wODc0MjUxIEMwLDEyLjY5NDQxMiAwLjMyMDUyNDAyMywxMi4zNzMwMTQ3IDAuNzE0NDEwNDc5LDEyLjM3MzAxNDcgTDEzLjI0NTQxNDgsMTIuMzczMDE0NyBDMTMuNjM4NDI3OSwxMi4zNzMwMTQ3IDEzLjk1OTgyNTMsMTIuNjkzNTM4NyAxMy45NTk4MjUzLDEzLjA4NzQyNTEgQzEzLjk1OTgyNTMsMTMuNDgwNDM4MiAxMy42NDYyODgyLDEzLjgwMDk2MjIgMTMuMjQ1NDE0OCwxMy44MDA5NjIyIEwwLjcxMzUzNzExNCwxMy44MDA5NjIyIFogTTAuNzE1MjgzODQzLDEwLjI5OTg1MDcgQzAuMzIwOTI1MzMsMTAuMjk5MzY5NSAwLjAwMTM1NDU4NDA3LDkuOTc5Nzk4NzEgMC4wMDA4NzMzNjQxNTEsOS41ODU0NDAyIEMwLjAwMDg3MzM2NDE1MSw5LjE5MjQyNzEgMC4zMjEzOTczODcsOC44NzE5MDMwNyAwLjcxNTI4Mzg0Myw4Ljg3MTkwMzA3IEw2LjA0ODAzNDk0LDguODcxOTAzMDcgQzYuNDQxMDQ4MDQsOC44NzE5MDMwNyA2Ljc2MjQ0NTQyLDkuMTkyNDI3MSA2Ljc2MjQ0NTQyLDkuNTg1NDQwMiBDNi43NjI0NDU0Miw5Ljk3ODQ1MzMgNi40NDE5MjEzOSwxMC4yOTk4NTA3IDYuMDQ4MDM0OTQsMTAuMjk5ODUwNyBMMC43MTUyODM4NDMsMTAuMjk5ODUwNyBaIE0wLjcxNTI4Mzg0Myw2Ljc5ODczOTEgQzAuMzIxMjY1NTYxLDYuNzk4MjUwNTYgMC4wMDE4MzUyNjgwNyw2LjQ3OTIxMDc3IDAuMDAwODczMzY0MTUxLDYuMDg1MTkzMzcgQzAuMDAwODczMzY0MTUxLDUuNjkyMTgwMjYgMC4zMjEzOTczODcsNS4zNzA3ODI4OSAwLjcxNTI4Mzg0Myw1LjM3MDc4Mjg5IEw2LjA0ODAzNDk0LDUuMzcwNzgyODkgQzYuNDQxMDQ4MDQsNS4zNzA3ODI4OSA2Ljc2MjQ5MTIzLDUuNjkxMzA2OTEgNi43NjI0OTEyMyw2LjA4NTE5MzM3IEM2Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNi42ODgwNzU1Myw2LjQ1NjgzMjA5IDYuNTUzOTE5OTUsNi41OTA4MjM2NyBDNi40MTk3NjQzNiw2LjcyNDgxNTI2IDYuMjM3NjQxMzYsNi43OTk2NjM1MSA2LjA0ODAzNDk0LDYuNzk4NzM5MSBMMC43MTUyODM4NDMsNi43OTg3MzkxIFogTTAuNzE1MjgzODQzLDMuMjk3NjE4OTIgQzAuMzIxMjY1NTU2LDMuMjk3MTM4OTkgMC4wMDE4MzUyNjE1MSwyLjk3ODA5OTE5IDAuMDAwODczMzY0MTUxLDIuNTg0MDgxNzkgQzAuMDAwODczMzY0MTUxLDIuMTkxMDY4NjkgMC4zMjEzOTczODcsMS44Njk2NzEzMSAwLjcxNTI4Mzg0MywxLjg2OTY3MTMxIEw2LjA0ODAzNDk0LDEuODY5NjcxMzEgQzYuNDI1NTc3ODksMS44OTI1NTI2NiA2LjcyMDA0NzcyLDIuMjA1NDA5NDMgNi43MjAwNDc3MiwyLjU4MzY0NTExIEM2LjcyMDA0NzcyLDIuOTYxODgwOCA2LjQyNTU3Nzg5LDMuMjc0NzM3NTYgNi4wNDgwMzQ5NCwzLjI5NzYxODkyIEwwLjcxNTI4Mzg0MywzLjI5NzYxODkyIFonIGlkPSflvaLnirYnIHN0cm9rZT0nI0ZGRkZGRicgc3Ryb2tlLXdpZHRoPScwLjInIGZpbGw9JyMxRTgwRkYnIGZpbGwtcnVsZT0nbm9uemVybycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi45ODE2NjMsIDcuNDAwNDgxKSBzY2FsZSgtMSwgMSkgcm90YXRlKC05MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi45ODE2NjMsIC03LjQwMDQ4MSkgJz48L3BhdGg+PHJlY3QgaWQ9J+efqeW9oicgeD0nMCcgeT0nMScgd2lkdGg9JzE0JyBoZWlnaHQ9JzE0Jz48L3JlY3Q+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==\" style=\"width: 15px; height: 14px; display: block;\" />\r\n        </span>\r\n      </button>\r\n      <button *ngIf=\"controlType!='crosstab'\" class=\"btn btn-link p-1 mr-1\" id=\"button-edit\"\r\n        (click)=\"handleNodeUpAndDown('top')\">\r\n        <span id=\"btnTop\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTNweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTMgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuW9oueKtjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0n5qC85byP5pa55qGI566h55CGLeWIl+mFjee9rjEnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMjQ4LjAwMDAwMCwgLTIwMi4wMDAwMDApJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjxnIGlkPSfliIbnu4QtMjAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEwMDkuMDAwMDAwLCAxOTguMDAwMDAwKSc+PGcgaWQ9J+WIhue7hC0xOScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjEzLjAwMDAwMCwgMy4wMDAwMDApJz48ZyBpZD0n572u6aG2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNi4wMDAwMDAsIDEuMDAwMDAwKSc+PHBhdGggZD0nTTExLjc3ODcyMzgsNy4xOTM2NjgyMiBMNi45MjYyNDQyMiwyLjMyNjIyMzk3IEM2LjgyMzM0MjU0LDIuMjIzMzYwMTQgNi42ODM0MzQ1NiwyLjE2NjM0OTY3IDYuNTM4MDg5MSwyLjE2ODA1NjQgQzYuNTE5NzA4NDksMi4xNjU4ODk3MyA2LjUwMzQ5MDMsMi4xNTcyMjMwMiA2LjQ4NDAyODUsMi4xNTcyMjMwMiBDNi40MDgyNTQzMywyLjE1Nzc4NTQ2IDYuMzMzNDU1NjEsMi4xNzQzOTkwOCA2LjI2NDU0MjQ2LDIuMjA1OTczMjkgQzYuMTk0MTYxNzYsMi4yMzE5ODg3OSA2LjEzMDA1NDEzLDIuMjcyNTk2MzQgNi4wNzY0MTE1NywyLjMyNTE0MDYzIEwxLjY5NzUwMjg3LDYuNjgxMjQ4NjUgQzEuNDg3MzEwNjgsNi44OTI3NTE4OSAxLjQ4ODAzNjgsNy4yMzQ5Mzg4NyAxLjY5OTEyNDcsNy40NDU1NDQ2NSBDMS45MTAyMTI1OSw3LjY1NjE1MDQyIDIuMjUxNzI3NTksNy42NTU0MjI4OCAyLjQ2MTkxOTc4LDcuNDQzOTE5NjMgTDUuOTQzNDIyNDksMy45Nzk0MDAwMSBMNS45NDM0MjI0OSwxMy40NjQwMzcxIEM1Ljk0MzQyMjQ5LDEzLjc2MTk1NTQgNi4xODU2MTM5OSwxNC4wMDI0NTY4IDYuNDg0MDI4NSwxNC4wMDI0NTY4IEM2Ljc4MjQ0MzAxLDE0LjAwMjQ1NjggNy4wMjQ2MzQ1MSwxMy43NjE5NTU0IDcuMDI0NjM0NTEsMTMuNDY0MDM3MSBMNy4wMjQ2MzQ1MSwzLjk1MjMxNjUyIEwxMS4wMTEwNjMyLDcuOTUzMDg5MTkgQzExLjIyMTU3MjMsOC4xNjUxNDY4MyAxMS41NjM3NzcxLDguMTY2MTE2NzggMTEuNzc1NDgwMSw3Ljk1NTI1NTg2IEMxMS44NzczODg5LDcuODU0OTk1NTMgMTEuOTM0OTc3Nyw3LjcxODAxNzA5IDExLjkzNTM4NjIsNy41NzQ5MTQ3NyBDMTEuOTM1NzkwMyw3LjQzMTgxMjQ2IDExLjg3ODk4MDMsNy4yOTQ1MDc5MiAxMS43Nzc2NDI2LDcuMTkzNjY4MjIgTDExLjc3ODcyMzgsNy4xOTM2NjgyMiBaIE0xMi40Mjc0NTEsMS4wODAzODM1OSBMMC41NDA2MDYwMTEsMS4wODAzODM1OSBDMC4yNDMwNTUzMywxLjA4MDk4MzQ0IDAuMDAxMTkxOTg1NDIsMC44NDAwOTgyMjkgMi44NDIxNzA5NGUtMTQsMC41NDE5NjM4NjEgQzIuODQyMTcwOTRlLTE0LDAuMjQ1MTI4ODQ4IDAuMjQyMTkxNDk5LDAuMDAzNTQ0MTM2OCAwLjU0MDYwNjAxMSwwLjAwMzU0NDE1MDU1IEwxMi40Mjc0NTEsMC4wMDM1NDQxNTA1NSBDMTIuNjI3NTY3NywtMC4wMDkxODE4ODE0MSAxMi44MTgxNjQ2LDAuMDkwNTY2NDk5MiAxMi45MjIwNzA1LDAuMjYyNDAxOTEgQzEzLjAyNTk3NjUsMC40MzQyMzczMjEgMTMuMDI1OTc2NSwwLjY0OTY5MDQxNSAxMi45MjIwNzA1LDAuODIxNTI1ODI2IEMxMi44MTgxNjQ2LDAuOTkzMzYxMjM2IDEyLjYyNzU2NzcsMS4wOTMxMDk2MiAxMi40Mjc0NTEsMS4wODAzODM1OSBaJyBpZD0n5b2i54q2Jz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\" style=\"width: 15px; height: 14px; display: block;\" />\r\n        </span>\r\n      </button>\r\n      <button *ngIf=\"controlType!='crosstab'\" class=\"btn btn-link p-1 mr-1\" id=\"button-edit\"\r\n        (click)=\"handleNodeUpAndDown('bottom')\">\r\n        <span id=\"btnBottom\" class=\"f-icon pt-1 pr-3\" role=\"presentation\">\r\n          <img src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTNweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTMgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuW9oueKtjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0n5qC85byP5pa55qGI566h55CGLeWIl+mFjee9rjEnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMjczLjAwMDAwMCwgLTIwMi4wMDAwMDApJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjxnIGlkPSfliIbnu4QtMjAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEwMDkuMDAwMDAwLCAxOTguMDAwMDAwKSc+PGcgaWQ9J+WIhue7hC0xOScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjEzLjAwMDAwMCwgMy4wMDAwMDApJz48ZyBpZD0n572u6aG2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNi4wMDAwMDAsIDEuMDAwMDAwKSc+PHBhdGggZD0nTTM2Ljc3ODcyMzgsNy4xOTM2NjgyMiBMMzEuOTI2MjQ0MiwyLjMyNjIyMzk3IEMzMS44MjMzNDI1LDIuMjIzMzYwMTQgMzEuNjgzNDM0NiwyLjE2NjM0OTY3IDMxLjUzODA4OTEsMi4xNjgwNTY0IEMzMS41MTk3MDg1LDIuMTY1ODg5NzMgMzEuNTAzNDkwMywyLjE1NzIyMzAyIDMxLjQ4NDAyODUsMi4xNTcyMjMwMiBDMzEuNDA4MjU0MywyLjE1Nzc4NTQ2IDMxLjMzMzQ1NTYsMi4xNzQzOTkwOCAzMS4yNjQ1NDI1LDIuMjA1OTczMjkgQzMxLjE5NDE2MTgsMi4yMzE5ODg3OSAzMS4xMzAwNTQxLDIuMjcyNTk2MzQgMzEuMDc2NDExNiwyLjMyNTE0MDYzIEwyNi42OTc1MDI5LDYuNjgxMjQ4NjUgQzI2LjQ4NzMxMDcsNi44OTI3NTE4OSAyNi40ODgwMzY4LDcuMjM0OTM4ODcgMjYuNjk5MTI0Nyw3LjQ0NTU0NDY1IEMyNi45MTAyMTI2LDcuNjU2MTUwNDIgMjcuMjUxNzI3Niw3LjY1NTQyMjg4IDI3LjQ2MTkxOTgsNy40NDM5MTk2MyBMMzAuOTQzNDIyNSwzLjk3OTQwMDAxIEwzMC45NDM0MjI1LDEzLjQ2NDAzNzEgQzMwLjk0MzQyMjUsMTMuNzYxOTU1NCAzMS4xODU2MTQsMTQuMDAyNDU2OCAzMS40ODQwMjg1LDE0LjAwMjQ1NjggQzMxLjc4MjQ0MywxNC4wMDI0NTY4IDMyLjAyNDYzNDUsMTMuNzYxOTU1NCAzMi4wMjQ2MzQ1LDEzLjQ2NDAzNzEgTDMyLjAyNDYzNDUsMy45NTIzMTY1MiBMMzYuMDExMDYzMiw3Ljk1MzA4OTE5IEMzNi4yMjE1NzIzLDguMTY1MTQ2ODMgMzYuNTYzNzc3MSw4LjE2NjExNjc4IDM2Ljc3NTQ4MDEsNy45NTUyNTU4NiBDMzYuODc3Mzg4OSw3Ljg1NDk5NTUzIDM2LjkzNDk3NzcsNy43MTgwMTcwOSAzNi45MzUzODYyLDcuNTc0OTE0NzcgQzM2LjkzNTc5MDMsNy40MzE4MTI0NiAzNi44Nzg5ODAzLDcuMjk0NTA3OTIgMzYuNzc3NjQyNiw3LjE5MzY2ODIyIEwzNi43Nzg3MjM4LDcuMTkzNjY4MjIgWiBNMzcuNDI3NDUxLDEuMDgwMzgzNTkgTDI1LjU0MDYwNiwxLjA4MDM4MzU5IEMyNS4yNDMwNTUzLDEuMDgwOTgzNDQgMjUuMDAxMTkyLDAuODQwMDk4MjI5IDI1LDAuNTQxOTYzODYxIEMyNSwwLjI0NTEyODg0OCAyNS4yNDIxOTE1LDAuMDAzNTQ0MTM2OCAyNS41NDA2MDYsMC4wMDM1NDQxNTA1NSBMMzcuNDI3NDUxLDAuMDAzNTQ0MTUwNTUgQzM3LjYyNzU2NzcsLTAuMDA5MTgxODgxNDEgMzcuODE4MTY0NiwwLjA5MDU2NjQ5OTIgMzcuOTIyMDcwNSwwLjI2MjQwMTkxIEMzOC4wMjU5NzY1LDAuNDM0MjM3MzIxIDM4LjAyNTk3NjUsMC42NDk2OTA0MTUgMzcuOTIyMDcwNSwwLjgyMTUyNTgyNiBDMzcuODE4MTY0NiwwLjk5MzM2MTIzNiAzNy42Mjc1Njc3LDEuMDkzMTA5NjIgMzcuNDI3NDUxLDEuMDgwMzgzNTkgWicgaWQ9J+W9oueKticgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMzEuNTAwMDAwLCA3LjAwMjQ1Nykgcm90YXRlKDE4MC4wMDAwMDApIHRyYW5zbGF0ZSgtMzEuNTAwMDAwLCAtNy4wMDI0NTcpICc+PC9wYXRoPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+\" style=\"width: 15px; height: 14px; display: block;\" />\r\n        </span>\r\n      </button>\r\n      <!-- {{localizeService.getValue('ideCmp.schemaManager.columnOption.btnRight')}} -->\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"f-utils-fill-flex-row\">\r\n  <div (resized)=\"onResized($event)\"\r\n    [class]=\"colInfoChanged == true ? 'colInfoDisplay1 d-flex flex-row flex-fill farris-overflow-hidden' : 'colInfoDisplay2 d-flex flex-row flex-fill farris-overflow-hidden'\">\r\n    <farris-treetable #schemaTree [columns]=\"cols\" class=\"w-100\" [data]=\"schemaTreeData\" [idField]=\"'id'\"\r\n      [keepSelect]=\"false\" [fit]=\"true\" [showCheckAll]=\"false\" [resizableColumns]=\"true\" [showHeader]=\"true\"\r\n      [striped]=\"false\" [fixedHeader]=\"true\" [width]=\"size.width\" [height]=\"size.height\"\r\n      (nodeSelected)=\"handleTreeNodeSelected($event)\" (nodeUnSelect)=\"handleTreeNodeUnSelected($event)\">\r\n      <!-- <tt-column [field]=\"'name'\" [width]=\"100\" [align]=\"'left'\" [hAlign]=\"'center'\"></tt-column> -->\r\n    </farris-treetable>\r\n    <ng-template #nameCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{ctx.node.data['name']}}</span>\r\n      <input-group *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" [(ngModel)]=\"ctx.node.data['name']\"></input-group>\r\n    </ng-template>\r\n    <ng-template #bindFieldCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{ctx.node.data['bindField']}}</span>\r\n      <farris-combo-list *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" [(ngModel)]=\"ctx.node.data['bindField']\" [textField]=\"'name'\" [idField]=\"'value'\" (ngModelChange)=\"handleNgModelChange(ctx.node)\"\r\n        [data]=\"colListData\" [enableClear]=\"false\"></farris-combo-list>\r\n    </ng-template>\r\n    <ng-template #colAlignCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{getAlignName(ctx.node.data['align'])}}</span>\r\n      <farris-combo-list *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" [(ngModel)]=\"ctx.node.data['align']\" [data]=\"alignData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n    </ng-template>\r\n    <ng-template #colWidthCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{ctx.node.data['colWidth']}}</span>\r\n      <farris-number-spinner *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" [(ngModel)]=\"ctx.node.data['colWidth']\" [min]=\"1\" (ngModelChange)=\"handleNgModelChange(ctx.node)\">\r\n      </farris-number-spinner>\r\n    </ng-template>\r\n    <ng-template #visibleCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{ctx.node.data['visible']}}</span>\r\n      <div *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" class=\"farris-input-wrap farris-checkradio-hor\">\r\n        <div class=\"custom-control custom-checkbox mb-0\">\r\n          <input type=\"checkbox\" [(ngModel)]=\"ctx.node.data['visible']\" class=\"custom-control-input\"\r\n            id=\"{{colVisibleId + ctx.node.id}}\" checked=\"\" (click)=\"handleIsGroupClick(ctx.node.data)\">\r\n          <label class=\"custom-control-label\" for=\"{{colVisibleId + ctx.node.id}}\"></label>\r\n          <!-- {{localizeService.getValue('ideCmp.schemaManager.columnOption.show')}} -->\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #isFixedCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{ctx.node.data['isFixed']}}</span>\r\n      <div *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" class=\"farris-input-wrap farris-checkradio-hor\">\r\n        <div class=\"custom-control custom-checkbox mb-0\">\r\n          <input type=\"checkbox\" [(ngModel)]=\"ctx.node.data['isFixed']\" class=\"custom-control-input\"\r\n            id=\"{{colFixedId + ctx.node.id}}\" checked=\"\">\r\n          <label class=\"custom-control-label\" for=\"{{colFixedId + ctx.node.id}}\"></label>\r\n          <!-- {{localizeService.getValue('ideCmp.schemaManager.columnOption.fixColumn')}} -->\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #autoFixCell let-ctx>\r\n      <span *ngIf=\"findEditable(ctx.node.data['id']) ? !findEditable(ctx.node.data['id']).editable : false\">{{getComboboxName(0, !ctx.node.data['autoFit'] && !ctx.node.data['wordWrap'] ? -1 : ctx.node.data['autoFit'] ? 1 : 2)}}</span>\r\n      <farris-combo-list *ngIf=\"findEditable(ctx.node.data['id']) ? findEditable(ctx.node.data['id']).editable : false\" (ngModelChange)=\"handleNgModelChange(ctx.node)\"\r\n        [ngModel]=\"!ctx.node.data['autoFit'] && !ctx.node.data['wordWrap'] ? -1 : ctx.node.data['autoFit'] ? 1 : 2\"\r\n        [textField]=\"'name'\" [idField]=\"'value'\" [data]=\"dataShowOption\" [enableClear]=\"false\"\r\n        (valueChange)=\"onValueChange($event)\"></farris-combo-list>\r\n    </ng-template>\r\n  </div>\r\n  <div [class]=\"colInfoChanged == false ? 'colInfoDisplay1 d-flex flex-row flex-fill' : 'colInfoDisplay2 d-flex flex-row flex-fill'\">\r\n    <perfect-scrollbar [config]=\"{}\">\r\n      <div class=\"flex-fill farris-split-section farris-overflow-hidden\">\r\n        <div class=\"col-12 farris-form farris-card-content-bg\">\r\n          <fieldSet farrisFold>\r\n            <legend class=\"ml-2 f-legend-icon f-legend-show\">\r\n              {{localizeService.getValue('ideCmp.schemaManager.columnOption.selection2')}}</legend>\r\n            <div class=\"d-flex flex-wrap mb-2\">\r\n              <!-- <div class=\"col-12 col-md-12 col-lg-12\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colAlign\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.align')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colAlign\" [(ngModel)]=\"alignSelectValue\" [data]=\"alignData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div> -->\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"controlType=='list' || controlType=='treelist'\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"  [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{colIsRedId}}\">\r\n                      <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.isRed')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"colIsRed\" class=\"custom-control-input\"\r\n                          id=\"{{colIsRedId}}\" checked=\"\">\r\n                        <label class=\"custom-control-label\" for=\"{{colIsRedId}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"type=='enum'\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"  [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colShowType\">\r\n                      <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.showType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colShowType\" [(ngModel)]=\"showTypeSelectValue\" [textField]=\"'name'\"\r\n                        [idField]=\"'value'\" [data]=\"enumType\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colFormatType\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.formatType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colFormatType\" [(ngModel)]=\"formatTypeSelectValue\" [data]=\"formatTypeData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"formatTypeSelectValue==1\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colNumFormat\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.numberFormat')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <input-group [(ngModel)]=\"formatText\" id=\"colNumFormat\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"formatTypeSelectValue==1 && controlType != 'crosstab'\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colNumFormat\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.numberField')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list [(ngModel)]=\"formatField\" [textField]=\"'name'\" [idField]=\"'value'\"\r\n                        [data]=\"colListData\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"formatTypeSelectValue==2\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colDateFormat\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.dateFormat')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <input-group [(ngModel)]=\"formatText\" id=\"colDateFormat\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"formatTypeSelectValue==3\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colLogicFormat\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.enumFormat')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <input-group [(ngModel)]=\"formatText\" id=\"colLogicFormat\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"controlType!='crosstab'\">\r\n                <!-- || (controlType=='crosstab' && (dimensionSelectValue ===1 || dimensionSelectValue ===3)) -->\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colSort\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.sort')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colSort\" [(ngModel)]=\"sortSelectValue\" [data]=\"sortData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"(controlType!='crosstab' && controlType!='treelist' && isOrNotPaging)\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colPageText\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.pageTotal')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <input-group [(ngModel)]=\"pageText\" id=\"colPageText\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"(controlType!='crosstab' && controlType!='treelist' && isOrNotPaging)\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colPageAggre\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.pageTotalType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colPageAggre\" [(ngModel)]=\"pageSelectValue\" [data]=\"aggreData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"controlType=='crosstab'\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colDimension\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.dimension')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colDimension\" [(ngModel)]=\"dimensionSelectValue\" [data]=\"dimensionData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\"\r\n                *ngIf=\"(controlType!='crosstab' && controlType!='treelist') || (controlType=='crosstab' && (dimensionSelectValue ===1 || dimensionSelectValue ===2))\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{colIsGroupId}}\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.group')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"colIsGroup\" class=\"custom-control-input\"\r\n                          id=\"{{colIsGroupId}}\" checked=\"\">\r\n                        <label class=\"custom-control-label\" for=\"{{colIsGroupId}}\"\r\n                          (click)=\"handleIsGroupClick('')\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"controlType=='crosstab' && dimensionSelectValue ===1 \">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"button-search\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupColor')}}:</span>\r\n                    </label>\r\n                    <button class=\"k-button k-button-icon k-flat\" id=\"button-search\" [(colorPicker)]=\"rowColor\"\r\n                      [cpOKButton]=\"true\" [cpCancelButton]=\"true\">\r\n                      <span [style.border-bottom-color]=\"rowColor\" class=\"k-icon k-i-foreground-color\"\r\n                        style=\"border-bottom-width: 2px; border-bottom-style: solid; margin-top: -2px;\"\r\n                        role=\"presentation\"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\"\r\n                *ngIf=\"(controlType!='crosstab' && controlType!='treelist') || (controlType=='crosstab' && dimensionSelectValue ===3 )\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colGroupText\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupTotal')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <input-group [(ngModel)]=\"groupText\" id=\"colGroupText\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\"\r\n                *ngIf=\"(controlType!='crosstab' && controlType!='treelist')\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colGroupAggre\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupSubTotalType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colGroupAggre\" [disabled]=\"colIsGroup\" [(ngModel)]=\"groupSubSelectValue\"\r\n                        [data]=\"aggreData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\"\r\n                *ngIf=\"(controlType!='crosstab' && controlType!='treelist') || (controlType=='crosstab' && dimensionSelectValue ===3)\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colGroupAggre\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.groupTotalType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colGroupAggre\" [disabled]=\"colIsGroup\" [(ngModel)]=\"groupSelectValue\"\r\n                        [data]=\"aggreData\" [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\"\r\n                *ngIf=\"(controlType!='crosstab' && !isOrNotPaging) || (controlType=='crosstab' && dimensionSelectValue ===3) \">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colTotalText\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.aggregateTotal')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <input-group [(ngModel)]=\"totalText\" id=\"colTotalText\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-12 col-md-12 col-lg-12\"\r\n                *ngIf=\"(controlType!='crosstab' && !isOrNotPaging) || (controlType=='crosstab' && dimensionSelectValue ===3)\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"colTotalAggre\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.columnOption.totalType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"colTotalAggre\" [(ngModel)]=\"totalSelectValue\" [data]=\"aggreData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldSet>\r\n        </div>\r\n      </div>\r\n    </perfect-scrollbar>\r\n  </div>\r\n</div>\r\n",
                styles: [".column-editor-header{height:2.875rem;min-height:2.875rem;background:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.06)}.parentContent{position:absolute;top:46px;bottom:0;left:0;right:0}.colInfoDisplay1{display:block!important}.colInfoDisplay2{display:none!important}"]
            }] }
];
/** @nocollapse */
ColumnEditorComponent.ctorParameters = () => [
    { type: Injector }
];
ColumnEditorComponent.propDecorators = {
    currSchema: [{ type: Input }],
    colList: [{ type: Input }],
    controlType: [{ type: Input }],
    colToolbar: [{ type: ViewChild, args: ['colToolbar',] }],
    schemaTree: [{ type: ViewChild, args: ['schemaTree',] }],
    nameCell: [{ type: ViewChild, args: ['nameCell',] }],
    bindFieldCell: [{ type: ViewChild, args: ['bindFieldCell',] }],
    colWidthCell: [{ type: ViewChild, args: ['colWidthCell',] }],
    colAlignCell: [{ type: ViewChild, args: ['colAlignCell',] }],
    visibleCell: [{ type: ViewChild, args: ['visibleCell',] }],
    isFixedCell: [{ type: ViewChild, args: ['isFixedCell',] }],
    autoFixCell: [{ type: ViewChild, args: ['autoFixCell',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class StyleEditorComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.rowHeight = 35;
        this.fontFamilyData = [
            { name: '宋体', value: 0 },
            { name: '新宋体', value: 1 },
            { name: '仿宋', value: 2 },
            { name: '楷体', value: 3 },
            { name: '黑体', value: 4 },
            { name: 'ARIAL', value: 5 },
            { name: 'ROMAN', value: 6 },
            { name: 'TIMES NEW ROMAN', value: 7 },
            { name: 'VERDANA', value: 8 },
            { name: 'Microsoft YaHei', value: 9 }
        ];
        this.fontFamily = 9;
        this.fontSizeData = [
            { name: 8, value: 8 }, { name: 9, value: 9 }, { name: 10, value: 10 }, { name: 11, value: 11 }, { name: 12, value: 12 },
            { name: 13, value: 13 }, { name: 14, value: 14 }, { name: 15, value: 15 }, { name: 16, value: 16 }, { name: 17, value: 17 },
            { name: 18, value: 18 }, { name: 19, value: 19 }, { name: 20, value: 20 }, { name: 21, value: 21 }, { name: 22, value: 22 },
            { name: 23, value: 23 }, { name: 24, value: 24 }, { name: 25, value: 25 }, { name: 26, value: 26 }, { name: 27, value: 27 },
            { name: 28, value: 28 }, { name: 29, value: 29 }, { name: 30, value: 30 }, { name: 31, value: 31 }, { name: 32, value: 32 },
            { name: 33, value: 33 }, { name: 34, value: 34 }, { name: 35, value: 35 }, { name: 36, value: 36 }, { name: 37, value: 37 },
            { name: 38, value: 38 }, { name: 39, value: 39 }, { name: 40, value: 40 }
        ];
        // fontSizeData: any = [
        //   8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
        //   18, 19, 20, 21, 22, 23, 24, 25, 26,
        //   27, 28, 29, 30, 31, 32, 33, 34, 35,
        //   36, 37, 38, 39, 40
        // ];
        this.fontSize = 14;
        this.fontColor = 'black';
        this.isWeight = false;
        this.isStyle = false;
        this.isUnderLine = false;
        this.fontWeight = 'normal';
        this.fontStyle = 'normal';
        this.fontUnderLine = 'none';
        this.titleActive = true;
        this.subTitleActive = false;
        this.headerActive = false;
        this.dataAreaActive = false;
        this.footerActive = false;
        this.localizeService = this.injector.get(LocalizeService);
        this.fontFamilyData = this.localizeService.getValue('ideCmp.schemaManager.styleOption.fontFamilyData');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.styleOption) {
                            /** @type {?} */
                            const str = JSON.stringify(newValue.schemaValue.styleOption);
                            this.styleOption = JSON.parse(str);
                            if (this.styleOption) {
                                if (this.titleActive) {
                                    this.initStyleOption('Title');
                                }
                                if (this.subTitleActive) {
                                    this.initStyleOption('SubTitle');
                                }
                                if (this.headerActive) {
                                    this.initStyleOption('Header');
                                }
                                if (this.dataAreaActive) {
                                    this.initStyleOption('DataArea');
                                }
                                if (this.footerActive) {
                                    this.initStyleOption('Footer');
                                }
                            }
                        }
                        break;
                }
            }
        }
    }
    /**
     * @return {?}
     */
    handleTitleBtn() {
        this.updateStyleOption();
        this.initStyleOption('Title');
        this.titleActive = true;
        this.subTitleActive = this.headerActive = this.dataAreaActive = this.footerActive = false;
    }
    /**
     * @return {?}
     */
    handleSubTitleBtn() {
        this.updateStyleOption();
        this.initStyleOption('SubTitle');
        this.subTitleActive = true;
        this.titleActive = this.headerActive = this.dataAreaActive = this.footerActive = false;
    }
    /**
     * @return {?}
     */
    handleHeaderBtn() {
        this.updateStyleOption();
        this.initStyleOption('Header');
        this.headerActive = true;
        this.titleActive = this.subTitleActive = this.dataAreaActive = this.footerActive = false;
    }
    /**
     * @return {?}
     */
    handleDataAreaBtn() {
        this.updateStyleOption();
        this.initStyleOption('DataArea');
        this.dataAreaActive = true;
        this.titleActive = this.subTitleActive = this.headerActive = this.footerActive = false;
    }
    /**
     * @return {?}
     */
    handleFooterBtn() {
        this.updateStyleOption();
        this.initStyleOption('Footer');
        this.footerActive = true;
        this.titleActive = this.subTitleActive = this.headerActive = this.dataAreaActive = false;
    }
    /**
     * @return {?}
     */
    handleWeight() {
        this.isWeight = !this.isWeight;
        if (this.isWeight) {
            this.fontWeight = 'bold';
        }
        else {
            this.fontWeight = 'normal';
        }
    }
    /**
     * @return {?}
     */
    handleStyle() {
        this.isStyle = !this.isStyle;
        if (this.isStyle) {
            this.fontStyle = 'italic';
        }
        else {
            this.fontStyle = 'normal';
        }
    }
    /**
     * @return {?}
     */
    handleUnderLine() {
        this.isUnderLine = !this.isUnderLine;
        if (this.isUnderLine) {
            this.fontUnderLine = 'underline';
        }
        else {
            this.fontUnderLine = 'none';
        }
    }
    /**
     * @return {?}
     */
    getStyleOption() {
        this.updateStyleOption();
        return this.styleOption;
    }
    /**
     * @private
     * @param {?} key
     * @return {?}
     */
    initStyleOption(key) {
        if (this.styleOption && this.styleOption[key]) {
            this.rowHeight = this.styleOption[key].rowHeight - 0;
            this.fontFamily = this.styleOption[key].fontFamily - 0;
            this.fontSize = this.styleOption[key].size;
            this.fontWeight = this.styleOption[key].fontWeight === 0 ? 'normal' : 'bold';
            this.fontStyle = this.styleOption[key].fontStyle === 0 ? 'normal' : 'italic';
            this.fontUnderLine = this.styleOption[key].textDecoration === 0 ? 'none' : 'underline';
            this.fontColor = this.styleOption[key].fontColor;
        }
    }
    /**
     * @private
     * @return {?}
     */
    updateStyleOption() {
        /** @type {?} */
        let key = '';
        if (this.titleActive) {
            key = 'Title';
        }
        else if (this.subTitleActive) {
            key = 'SubTitle';
        }
        else if (this.headerActive) {
            key = 'Header';
        }
        else if (this.dataAreaActive) {
            key = 'DataArea';
        }
        else {
            key = 'Footer';
        }
        if (this.styleOption && this.styleOption[key]) {
            this.styleOption[key].rowHeight = this.rowHeight;
            this.styleOption[key].fontFamily = this.fontFamily;
            this.styleOption[key].size = this.fontSize - 0;
            this.styleOption[key].fontWeight = this.fontWeight === 'normal' ? 0 : 1;
            this.styleOption[key].fontStyle = this.fontStyle === 'normal' ? 0 : 1;
            this.styleOption[key].textDecoration = this.fontUnderLine === 'none' ? 0 : 1;
            this.styleOption[key].fontColor = this.fontColor;
        }
    }
    /**
     * @param {?} key
     * @return {?}
     */
    getFontFamily(key) {
        switch (key - 0) {
            case 0:
                return 'SimSun';
            case 1:
                return 'NSimSun';
            case 2:
                return 'FangSong';
            case 3:
                return 'KaiTi';
            case 4:
                return 'SimHei';
            case 5:
                return 'ARIAL';
            case 6:
                return 'ROMAN';
            case 7:
                return '\'TIMES NEW ROMAN\'';
            case 8:
                return 'VERDANA';
            case 9:
                return '\'Microsoft YaHei\'';
        }
    }
}
StyleEditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'style-editor',
                template: "<div class=\"d-flex flex-column flex-fill h-100\">\r\n  <div class=\"f-utils-fill-flex-column\">\r\n    <div class=\"f-utils-fill-flex-column\">\r\n      <div class=\"mx-2 row no-gutters\">\r\n        <div class=\"col-9 col-md-9 col-lg-9\">\r\n          <div class=\"farris-group-wrap\">\r\n            <div class=\"form-group farris-form-group d-flex flex-column h-100\">\r\n              <label class=\"col-form-label\" for=\"fontBanner\" style=\"width: 5rem; min-width: 5rem;\">\r\n                <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.styleOption.column')}}:</span>\r\n              </label>\r\n              <div class=\"farris-input-wrap\">\r\n                <button class=\"btn mr-1\" [class.btn-primary]=\"titleActive\" [class.btn-secondary]=\"!titleActive\" (click)=\"handleTitleBtn()\"\r\n                  id=\"button-edit\">\r\n                  {{localizeService.getValue('ideCmp.schemaManager.styleOption.styleTitle')}}</button>\r\n                <button class=\"btn mr-1\" [class.btn-primary]=\"subTitleActive\" [class.btn-secondary]=\"!subTitleActive\"\r\n                  (click)=\"handleSubTitleBtn()\" id=\"button-edit\">\r\n                  {{localizeService.getValue('ideCmp.schemaManager.styleOption.styleSubTitle')}}</button>\r\n                <button class=\"btn mr-1\" [class.btn-primary]=\"headerActive\" [class.btn-secondary]=\"!headerActive\"\r\n                  (click)=\"handleHeaderBtn()\" id=\"button-edit\">\r\n                  {{localizeService.getValue('ideCmp.schemaManager.styleOption.styleHeader')}}</button>\r\n                <button class=\"btn mr-1\" [class.btn-primary]=\"dataAreaActive\" [class.btn-secondary]=\"!dataAreaActive\"\r\n                  (click)=\"handleDataAreaBtn()\" id=\"button-edit\">\r\n                  {{localizeService.getValue('ideCmp.schemaManager.styleOption.styleBody')}}</button>\r\n                <button class=\"btn\" [class.btn-primary]=\"footerActive\" [class.btn-secondary]=\"!footerActive\" (click)=\"handleFooterBtn()\"\r\n                  id=\"button-edit\">\r\n                  {{localizeService.getValue('ideCmp.schemaManager.styleOption.styleFooter')}}</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-3 col-md-3 col-lg-3\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" for=\"rowHeight\">\r\n              <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.styleOption.rowHeight')}}:</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <farris-number-spinner id=\"rowHeight\" [(ngModel)]=\"rowHeight\" [min]=\"1\">\r\n              </farris-number-spinner>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"mx-2 row no-gutters\">\r\n        <div class=\"col-4 col-md-4 col-lg-4\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" for=\"rowHeight\">\r\n              <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.styleOption.textStyle')}}:</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n                <farris-combo-list [editable]=\"true\" [autoWidth]=\"false\" [(ngModel)]=\"fontFamily\" [data]=\"fontFamilyData\"\r\n                  [textField]=\"'name'\" [idField]=\"'value'\"></farris-combo-list>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4 col-md-4 col-lg-4\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" for=\"rowHeight\">\r\n              <span class=\"farris-label-text\">&nbsp;</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n                <farris-combo-list style=\"width: 20%\" [editable]=\"true\" [autoWidth]=\"false\" [(ngModel)]=\"fontSize\"\r\n                  [data]=\"fontSizeData\" [textField]=\"'name'\" [idField]=\"'value'\"></farris-combo-list>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4 col-md-4 col-lg-4\">\r\n          <div class=\"form-group farris-form-group\">\r\n            <label class=\"col-form-label\" for=\"rowHeight\">\r\n              <span class=\"farris-label-text\">&nbsp;</span>\r\n            </label>\r\n            <div class=\"farris-input-wrap\">\r\n              <button class=\"k-button k-button-icon k-flat\" id=\"button-search\" (click)=\"handleWeight()\">\r\n                <span class=\"k-icon k-i-bold\" role=\"presentation\"></span>\r\n              </button>\r\n              <button class=\"k-button k-button-icon k-flat\" id=\"button-search\" (click)=\"handleStyle()\">\r\n                <span class=\"k-icon k-i-italic\" role=\"presentation\"></span>\r\n              </button>\r\n              <button class=\"k-button k-button-icon k-flat\" id=\"button-search\" (click)=\"handleUnderLine()\">\r\n                <span class=\"k-icon k-i-underline\" role=\"presentation\"></span>\r\n              </button>\r\n              <button class=\"k-button k-button-icon k-flat\" id=\"button-search\" [(colorPicker)]=\"fontColor\"\r\n                [cpOKButton]=\"true\" [cpCancelButton]=\"true\">\r\n                <span [style.border-bottom-color]=\"fontColor\" class=\"k-icon k-i-foreground-color\"\r\n                  style=\"border-bottom-width: 2px; border-bottom-style: solid; margin-top: -2px;\"\r\n                  role=\"presentation\"></span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-fill position-relative\">\r\n        <div class=\"d-flex flex-row\"\r\n          style=\"margin-bottom: .375rem; position: absolute; top: 0; bottom: 0; left: 10px; right: 10px;\">\r\n          <fieldSet style=\"border: 1px solid #aaa !important; width: 100% !important;\">\r\n            <legend class=\"ml-2 p-0\">{{localizeService.getValue('ideCmp.schemaManager.styleOption.preview')}}</legend>\r\n            <div class=\"d-flex flex-wrap mb-2\" style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0;\">\r\n              <span class=\"preview-span\" [style.text-decoration]=\"fontUnderLine\" [style.font-style]=\"fontStyle\"\r\n                [style.font-weight]=\"fontWeight\" [style.font-family]=\"getFontFamily(fontFamily)\"\r\n                [style.color]=\"fontColor\" [style.font-size.pt]=\"fontSize\">AaBbYyZz</span>\r\n            </div>\r\n          </fieldSet>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n",
                styles: [".preview-span{width:100%!important;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;position:absolute}"]
            }] }
];
/** @nocollapse */
StyleEditorComponent.ctorParameters = () => [
    { type: Injector }
];
StyleEditorComponent.propDecorators = {
    currSchema: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class OtherEditorComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.isCache = 'isCache' + EventBus.guid();
        this.firstLoadId = 'firstLoadId' + EventBus.guid();
        this.size = {};
        this.dataCache = true;
        this.firstLoad = true;
        this.pageTypeData = [
            { name: '全部加载', value: 0 },
            { name: '分页加载', value: 1 },
        ];
        this.rangeData = [
            { name: '全部', value: 0 },
            { name: '当前页', value: 1 },
            { name: '自定义', value: 2 }
        ];
        this.pageTypeSelectValue = this.pageTypeData[1].value;
        this.pageSizeData = 20;
        this.rowGroup = true;
        this.colGroup = true;
        this.colSum = true;
        this.rowSum = true;
        this.rangeSelectValue = this.rangeData[0].value;
        this.rangeValue = '';
        this.delay = 0;
        this.interval = 0;
        this.treeInfoData = [
            { name: '请选择', value: 2 },
            { name: '分级码', value: 0 },
            { name: '自关联', value: 1 }
        ];
        this.treeInfoSelectValue = this.treeInfoData[2].value;
        this.formInline = true;
        this.showZero = true;
        this.expand = true;
        this.showHeaderSort = true;
        this.showFilterRow = true;
        this.mergeCell = true;
        this.isRowGroup = 'isRowGroup' + EventBus.guid();
        this.isColGroup = 'isColGroup' + EventBus.guid();
        this.isRowSum = 'isRowSum' + EventBus.guid();
        this.isColSum = 'isColSum' + EventBus.guid();
        this.isExpand = 'isExpand' + EventBus.guid();
        this.isShowZero = 'isShowZero' + EventBus.guid();
        this.filterRowId = 'filterRowId' + EventBus.guid();
        this.showHeaderSortId = 'showHeaderSortId' + EventBus.guid();
        this.mergeCellId = 'mergeCellId' + EventBus.guid();
        this.localizeService = this.injector.get(LocalizeService);
        this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;
        this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;
        this.pageTypeData = this.localizeService.getValue('ideCmp.schemaManager.otherOption.pageTypeData');
        this.rangeData = this.localizeService.getValue('ideCmp.schemaManager.otherOption.rangeData');
        this.treeInfoData = this.localizeService.getValue('ideCmp.schemaManager.otherOption.treeInfoData');
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'currSchema':
                        if (newValue.schemaValue && newValue.schemaValue.otherOption) {
                            /** @type {?} */
                            const str = JSON.stringify(newValue.schemaValue.otherOption);
                            this.otherOption = JSON.parse(str);
                            this.dataCache = this.otherOption.dataCache;
                            this.firstLoad = this.otherOption.firstLoad === undefined || this.otherOption.firstLoad == null ? true : this.otherOption.firstLoad;
                            this.pageSizeData = this.otherOption.pageSize;
                            this.pageTypeSelectValue = this.pageTypeData[this.otherOption.loadDataType].value;
                            this.rowGroup = this.otherOption.rowGroup;
                            this.colGroup = this.otherOption.colGroup;
                            this.rowSum = this.otherOption.rowSum;
                            this.colSum = this.otherOption.colSum;
                            this.showZero = this.otherOption['showZero'] == null || this.otherOption['showZero'] === undefined ? true : this.otherOption['showZero'];
                            this.expand = this.otherOption['expand'] == null || this.otherOption['expand'] === undefined ? true : this.otherOption['expand'];
                            this.delay = this.otherOption.delay ? this.otherOption.delay : 0;
                            this.showHeaderSort = this.otherOption['showHeaderSort'] == null || this.otherOption['showHeaderSort'] == undefined ? true : this.otherOption['showHeaderSort'];
                            this.showFilterRow = this.otherOption['showFilterRow'] == null || this.otherOption['showFilterRow'] == undefined ? true : this.otherOption['showFilterRow'];
                            this.mergeCell = this.otherOption['mergeCell'] == null || this.otherOption['mergeCell'] == undefined ? true : this.otherOption['mergeCell'];
                            this.interval = this.otherOption.interval ? this.otherOption.interval : 0;
                            if (this.otherOption.rangeData) {
                                this.rangeSelectValue = this.rangeData[this.otherOption.rangeData.selectType].value;
                                this.rangeValue = this.otherOption.rangeData.rangeValue;
                            }
                            this.treeInfoSelectValue = this.otherOption.treeInfoType != null || this.otherOption.treeInfoType !== undefined ? this.otherOption.treeInfoType : 2;
                            this.pathField = this.otherOption.pathField ? this.otherOption.pathField : '';
                            this.pathStep = this.otherOption.pathStep ? this.otherOption.pathStep : 0;
                            this.idField = this.otherOption.idField ? this.otherOption.idField : '';
                            this.parentField = this.otherOption.parentField ? this.otherOption.parentField : '';
                        }
                        if (newValue.schemaValue && newValue.schemaValue.columnOption && newValue.schemaValue.columnOption.colList && newValue.schemaValue.columnOption.colList.length) {
                            /** @type {?} */
                            const str = JSON.stringify(newValue.schemaValue.columnOption.colList);
                            this.colList = JSON.parse(str);
                        }
                        break;
                }
            }
        }
    }
    /**
     * @return {?}
     */
    getOtherOption() {
        if (this.otherOption) {
            this.otherOption.dataCache = this.dataCache;
            this.otherOption.firstLoad = this.firstLoad;
            this.otherOption.pageSize = this.pageSizeData;
            this.otherOption.loadDataType = this.pageTypeSelectValue - 0;
            this.otherOption.rowGroup = this.rowGroup;
            this.otherOption.colGroup = this.colGroup;
            this.otherOption.rowSum = this.rowSum;
            this.otherOption.colSum = this.colSum;
            this.otherOption['showZero'] = this.showZero;
            this.otherOption['expand'] = this.expand;
            this.otherOption['showHeaderSort'] = this.showHeaderSort;
            this.otherOption['showFilterRow'] = this.showFilterRow;
            this.otherOption['mergeCell'] = this.mergeCell;
            this.otherOption.rangeData = { selectType: this.rangeSelectValue, rangeValue: this.rangeValue };
            this.otherOption.delay = this.delay;
            this.otherOption.interval = this.interval;
            this.otherOption['treeInfoType'] = this.treeInfoSelectValue;
            this.otherOption['pathField'] = this.pathField;
            this.otherOption['pathStep'] = this.pathStep;
            this.otherOption['idField'] = this.idField;
            this.otherOption['parentField'] = this.parentField;
        }
        return this.otherOption;
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    handlePagingChanged($event) {
        EventBus.dispatch('pagingModeChanges', $event);
    }
}
OtherEditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'other-editor',
                template: "<perfect-scrollbar [config]=\"{}\" [style.height.px]=\"size.height\">\r\n  <div class=\"flex-fill farris-split-section farris-overflow-hidden\">\r\n    <div class=\"farris-form farris-card-content-bg\">\r\n      <div class=\"d-flex flex-column flex-fill\" (resized)=\"onResized($event)\">\r\n        <div class=\"form-row m-0\">\r\n          <fieldSet farrisFold>\r\n            <legend class=\"ml-2 f-legend-icon f-legend-show\">\r\n              {{localizeService.getValue('ideCmp.schemaManager.otherOption.selection')}}</legend>\r\n            <div class=\"d-flex flex-wrap mb-2\">\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"true\">\r\n                <!-- controlType!='crosstab' -->\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{isCache}}\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.dataCache')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{isCache}}\" [(ngModel)]=\"dataCache\">\r\n                        <label class=\"custom-control-label\" for=\"{{isCache}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"true\">\r\n                <!-- controlType!='crosstab' -->\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{firstLoadId}}\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.firstLoad')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{firstLoadId}}\"\r\n                          [(ngModel)]=\"firstLoad\">\r\n                        <label class=\"custom-control-label\" for=\"{{firstLoadId}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"controlType!=='crosstab'\">\r\n                <!-- controlType!='crosstab' -->\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{filterRowId}}\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.filterRow')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{filterRowId}}\"\r\n                          [(ngModel)]=\"showFilterRow\">\r\n                        <label class=\"custom-control-label\" for=\"{{filterRowId}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"controlType!=='crosstab'\">\r\n                <!-- controlType!='crosstab' -->\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{showHeaderSortId}}\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.showHeaderSort')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{showHeaderSortId}}\"\r\n                          [(ngModel)]=\"showHeaderSort\">\r\n                        <label class=\"custom-control-label\" for=\"{{showHeaderSortId}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"controlType==='list'\">\r\n                <!-- controlType!='crosstab' -->\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{mergeCellId}}\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.mergeCell')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{mergeCellId}}\"\r\n                          [(ngModel)]=\"mergeCell\">\r\n                        <label class=\"custom-control-label\" for=\"{{mergeCellId}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"controlType!=='crosstab'\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"  [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"{{isShowZero}}\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.showZero')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                      <div class=\"custom-control custom-checkbox mb-0\">\r\n                        <input type=\"checkbox\" [(ngModel)]=\"showZero\" class=\"custom-control-input\" id=\"{{isShowZero}}\" checked=\"\">\r\n                          <label class=\"custom-control-label\" for=\"{{isShowZero}}\"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"controlType=='list'\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"pageType\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.pageType')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"pageType\" [(ngModel)]=\"pageTypeSelectValue\" [data]=\"pageTypeData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\" (valueChange)=\"handlePagingChanged($event)\"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"controlType=='list' && pageTypeSelectValue === 1\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"pageSize\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.pageSize')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-number-spinner [(ngModel)]=\"pageSizeData\" [min]=\"1\" [step]=\"1\" [max]=\"5000\"></farris-number-spinner>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-md-7 col-lg-7\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"delay\" style=\"width: 10rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.delay')}}(s):</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-number-spinner [(ngModel)]=\"delay\" [min]=\"0\"></farris-number-spinner>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-md-7 col-lg-7\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"interval\" style=\"width: 10rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.timing')}}(s):</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-number-spinner [(ngModel)]=\"interval\" [min]=\"0\"></farris-number-spinner>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-md-7 col-lg-7\">\r\n                <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"range\" style=\"width: 8rem; min-width: 8rem;\">\r\n                      <span\r\n                        class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.export')}}:</span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                      <farris-combo-list id=\"range\" [(ngModel)]=\"rangeSelectValue\" [data]=\"rangeData\"\r\n                        [textField]=\"'name'\" [idField]=\"'value'\"></farris-combo-list>\r\n                    </div>\r\n                    <div class=\"farris-input-wrap\" *ngIf=\"rangeSelectValue===2\">\r\n                      <input-group class=\"form-control\" [(ngModel)]=\"rangeValue\" id=\"rangeValue\"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </fieldSet>\r\n        </div>\r\n        <!-- || controlType=='crosstab' -->\r\n        <fieldSet farrisFold *ngIf=\"controlType=='treelist' || controlType=='crosstab'\">\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">\r\n            {{localizeService.getValue('ideCmp.schemaManager.otherOption.treeInfo')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <!-- <div class=\"col-7 col-md-7 col-lg-7\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\"  [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"{{isExpand}}\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.expand')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                    <div class=\"custom-control custom-checkbox mb-0\">\r\n                      <input type=\"checkbox\" [(ngModel)]=\"expand\" class=\"custom-control-input\" id=\"{{isExpand}}\" checked=\"\">\r\n                        <label class=\"custom-control-label\" for=\"{{colVisibleId}}\"></label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> -->\r\n            <div class=\"col-7 col-md-7 col-lg-7\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"treeInfoSelect\" style=\"width: 8rem; min-width: 8rem;\">\r\n                    <span\r\n                      class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.treeInfoType')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"treeInfoSelect\" [(ngModel)]=\"treeInfoSelectValue\" [data]=\"treeInfoData\"\r\n                      [textField]=\"'name'\" [idField]=\"'value'\" [enableClear]=\"false\"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"treeInfoSelectValue==0 || treeInfoSelectValue=='0'\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"pathField\" style=\"width: 8rem; min-width: 8rem;\">\r\n                    <span\r\n                      class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.pathField')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <input-group id=\"pathField\" [(ngModel)]=\"pathField\"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"treeInfoSelectValue==0 || treeInfoSelectValue=='0'\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"pathStep\" style=\"width: 8rem; min-width: 8rem;\">\r\n                    <span\r\n                      class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.pathStep')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"pathStep\" [(ngModel)]=\"pathStep\" [min]=\"0\">\r\n                    </farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"treeInfoSelectValue==1 || treeInfoSelectValue=='1'\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"idField\" style=\"width: 8rem; min-width: 8rem;\">\r\n                    <span\r\n                      class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.idField')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <input-group id=\"idField\" [(ngModel)]=\"idField\"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-7 col-md-7 col-lg-7\" *ngIf=\"treeInfoSelectValue==1 || treeInfoSelectValue=='1'\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"parentField\" style=\"width: 8rem; min-width: 8rem;\">\r\n                    <span\r\n                      class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.parentField')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <input-group id=\"parentField\" [(ngModel)]=\"parentField\"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n        <fieldSet *ngIf=\"controlType=='crosstab'\" farrisFold>\r\n          <legend class=\"ml-2 f-legend-icon f-legend-show\">\r\n            {{localizeService.getValue('ideCmp.schemaManager.otherOption.groupOption')}}</legend>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap\" [class.form-inline]=\"formInline\" [class.farris-form-inline]=\"formInline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <div class=\"custom-control custom-checkbox mb-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"rowGroup\" class=\"custom-control-input\" id=\"{{isRowGroup}}\" checked=\"\">\r\n                    <label class=\"custom-control-label\"\r\n                      for=\"{{isRowGroup}}\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.rowSubtotal')}}</label>\r\n                  </div>\r\n                  <div class=\"custom-control custom-checkbox mb-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"colGroup\" class=\"custom-control-input\" id=\"{{isColGroup}}\" checked=\"\">\r\n                    <label class=\"custom-control-label\"\r\n                      for=\"{{isColGroup}}\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.colSubtotal')}}</label>\r\n                  </div>\r\n                  <div class=\"custom-control custom-checkbox mb-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"rowSum\" class=\"custom-control-input\" id=\"{{isRowSum}}\" checked=\"\">\r\n                    <label class=\"custom-control-label\"\r\n                      for=\"{{isRowSum}}\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.rowTotal')}}</label>\r\n                  </div>\r\n                  <div class=\"custom-control custom-checkbox mb-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"colSum\" class=\"custom-control-input\" id=\"{{isColSum}}\" checked=\"\">\r\n                    <label class=\"custom-control-label\"\r\n                      for=\"{{isColSum}}\">{{localizeService.getValue('ideCmp.schemaManager.otherOption.colTotal')}}</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</perfect-scrollbar>\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
OtherEditorComponent.ctorParameters = () => [
    { type: Injector }
];
OtherEditorComponent.propDecorators = {
    currSchema: [{ type: Input }],
    controlType: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class SchemaEditorComponent {
    /**
     * @param {?} injector
     */
    constructor(injector) {
        this.injector = injector;
        this.tabsSelectChange = new EventEmitter();
        this.localizeService = this.injector.get(LocalizeService);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
    }
    /**
     * @param {?} data
     * @return {?}
     */
    handleTabSelect(data) {
        /** @type {?} */
        const option = this.getOption();
        if (data.nextId === 'column') {
            this.columnOption.handleInfoChanged(0);
        }
        this.tabsSelectChange.emit(option);
    }
    /**
     * @return {?}
     */
    getOption() {
        /** @type {?} */
        const option = {};
        if (this.titleOption) {
            option['titleOption'] = this.titleOption.getTitleOption();
        }
        if (this.columnOption) {
            option['columnOption'] = this.columnOption.getColumnOption();
        }
        if (this.styleOption) {
            option['styleOption'] = this.styleOption.getStyleOption();
        }
        if (this.otherOption) {
            option['otherOption'] = this.otherOption.getOtherOption();
        }
        return option;
    }
}
SchemaEditorComponent.decorators = [
    { type: Component, args: [{
                selector: 'schema-editor',
                template: "<farris-tabs [value]=\"'title'\"  [contentFill]=\"true\" [autoTitleWidth]=\"true\"  (tabChange)=\"handleTabSelect($event)\">\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.schemaManager.titleOption.tab')\" [id]=\"'title'\">\r\n    <ng-template #content>\r\n      <title-editor [currSchema]=\"currSchema\" class=\"schema-editor-tab d-flex flex-column flex-fill\"></title-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.schemaManager.columnOption.tab')\" [id]=\"'column'\">\r\n    <ng-template #content>\r\n      <column-editor [currSchema]=\"currSchema\" [colList]=\"colList\" [controlType]=\"controlType\"  class=\"schema-editor-tab d-flex flex-column flex-fill\"></column-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.schemaManager.styleOption.tab')\" [id]=\"'style'\">\r\n    <ng-template #content>\r\n      <style-editor [currSchema]=\"currSchema\" class=\"schema-editor-tab d-flex flex-column flex-fill\"></style-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]=\"localizeService.getValue('ideCmp.schemaManager.otherOption.tab')\" [id]=\"'other'\">\r\n    <ng-template #content>\r\n      <other-editor [currSchema]=\"currSchema\"  [controlType]=\"controlType\"  class=\"schema-editor-tab d-flex flex-column flex-fill\"></other-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n</farris-tabs>\r\n",
                encapsulation: ViewEncapsulation.None,
                styles: [".schema-editor-tab{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}"]
            }] }
];
/** @nocollapse */
SchemaEditorComponent.ctorParameters = () => [
    { type: Injector }
];
SchemaEditorComponent.propDecorators = {
    currSchema: [{ type: Input }],
    colList: [{ type: Input }],
    controlType: [{ type: Input }],
    tabsSelectChange: [{ type: Output }],
    titleOption: [{ type: ViewChild, args: [TitleEditorComponent,] }],
    columnOption: [{ type: ViewChild, args: [ColumnEditorComponent,] }],
    styleOption: [{ type: ViewChild, args: [StyleEditorComponent,] }],
    otherOption: [{ type: ViewChild, args: [OtherEditorComponent,] }],
    tabs: [{ type: ViewChild, args: [FarrisTabsComponent,] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class SchemaManagerComponent {
    /**
     * @param {?} schemaService
     * @param {?} msgService
     * @param {?} notifyService
     * @param {?} injector
     */
    constructor(schemaService, msgService, notifyService, injector) {
        this.schemaService = schemaService;
        this.msgService = msgService;
        this.notifyService = notifyService;
        this.injector = injector;
        this.editorParams = {};
        this.schemaSelected = new EventEmitter();
        this.saveSchema = new EventEmitter();
        this.saveAsSchema = new EventEmitter();
        this.removeSchema = new EventEmitter();
        this.saveAndCloseSchema = new EventEmitter();
        this.dialogBeforeClose = new EventEmitter();
        this.closeModal = new EventEmitter();
        // 模态框确定后关闭，并传递参数
        this.submitModal = new EventEmitter();
        this.defaultExpand = true;
        this.inputCollapse = '收起';
        this.inputExpand = '展开';
        this.size = {};
        this.isShow = false;
        this.personSchema = 'personSchema' + EventBus.guid();
        this.orgSchema = 'orgSchema' + EventBus.guid();
        this.publicSchema = 'publicSchema' + EventBus.guid();
        this.defaultSchema = 'defaultSchema' + EventBus.guid();
        this.schemaTreeData = [
            {
                data: {
                    id: 'public_schema',
                    isDefault: 0,
                    isPrefab: 1,
                    schemaName: '公共',
                    schemaType: 0,
                },
                expanded: true,
                children: []
            }, {
                data: {
                    id: 'org_schema',
                    isDefault: 0,
                    isPrefab: 1,
                    schemaName: '单位',
                    schemaType: 2
                },
                expanded: true,
                children: []
            }, {
                data: {
                    id: 'person_schema',
                    isDefault: 0,
                    isPrefab: 1,
                    schemaName: '个人',
                    schemaType: 1
                },
                expanded: true,
                children: []
            }
        ];
        this.schemaDropDownData = [];
        this.isSchemaType = 0;
        this.isDefault = false;
        this.currentmode = false;
        this.qoManagerCode = '';
        this.modalConfig = {
            title: '格式方案',
            width: 900,
            height: 500,
            showButtons: true
        };
        this.chartsOption = {
            chartsType: {
                series: {
                    type: null
                }
            },
            chartsStyle: {
                title: {
                    text: null,
                    x: null,
                    y: null,
                    textStyle: {
                        lineHeight: 25,
                        fontSize: 25,
                        fontStyle: 'normal',
                        fontWight: 'normal',
                        fontFamily: 'Microsoft YaHei',
                        color: 'black'
                    }
                },
                legend: {
                    itemGap: 10,
                    itemWidth: 25,
                    itemHeight: 14,
                    align: 'auto',
                    orient: 'horizontal'
                },
                visualMap: [{
                        type: 'continuous',
                        top: 'top',
                        bottom: null,
                        left: 'right',
                        right: null,
                        pieces: [],
                        categories: [],
                        calculable: true,
                        inRange: {
                            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                        },
                        outOfRange: {
                            color: ['rgba(255,255,255,.2)']
                        },
                        controller: {
                            inRange: {
                                color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                            },
                            outOfRange: {
                                color: ['#444']
                            }
                        },
                        textStyle: {
                            color: '#837' // 值域控件的文本颜色
                        },
                    }]
            },
            chartsData: {
                xAxis: {
                    type: 'category',
                    position: 'bottom'
                },
                yAxis: {
                    type: 'value',
                    position: 'left'
                },
                series: {
                    type: null,
                    encode: {
                        x: [],
                        y: []
                    }
                },
                legend: {
                    data: []
                }
            }
        };
        this.cacheSchemaData = {};
        this.operations = {};
        this.subscriptions = [];
        this.svgSchema = true;
        this.handlebeforeClose = (/**
         * @return {?}
         */
        () => {
            /** @type {?} */
            let id = '';
            if (this.schemaId) {
                id = this.schemaId === 'prefab' ? '1' : this.schemaId;
            }
            if (!id && this.schemaInfo && this.schemaInfo.isDefaultSchema) {
                id = this.schemaInfo.isDefaultSchema.id;
            }
            this.dialogBeforeClose.emit(id);
            return of(true);
        });
        this.personSchema = this.personSchema + EventBus.guid();
        this.publicSchema = this.publicSchema + EventBus.guid();
        this.defaultSchema = this.defaultSchema + EventBus.guid();
        if (this.injector) {
            this.localizeService = this.injector.get(LocalizeService);
            this.modalConfig.title = this.localizeService.getValue('ideCmp.schemaManager.dailogName');
            this.schemaTreeData[0].data.schemaName = this.localizeService.getValue('ideCmp.schemaManager.schemeTypePublic');
            this.schemaTreeData[1].data.schemaName = this.localizeService.getValue('ideCmp.schemaManager.schemeTypeOrg');
            this.schemaTreeData[2].data.schemaName = this.localizeService.getValue('ideCmp.schemaManager.schemeTypePersonal');
            this.formErrorService = this.injector.get(FormErrorService);
            this.cache = this.injector.get(CacheService);
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /** @type {?} */
        const self = this;
        this.tabId = RtfServices.getTabId(this.queryId);
        EventBus.register('openAdvanceTemplateDialog', this.initSelectedSchemaId.bind(this), this.tabId);
        this.subscriptions.push(self.schemaService.operationChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        (value) => {
            if (value) {
                self.operations = value;
            }
            // console.log(value);
        })));
    }
    /**
     * @return {?}
     */
    initSelectedSchemaId() {
        this.selectedSchemaId = '';
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'schemaInfo':
                        if (newValue) {
                            this.schemaInfoChange(newValue);
                        }
                        break;
                    case 'colList':
                        if (newValue) {
                            this.colListChange(newValue);
                        }
                        break;
                    case 'editorParams':
                        this.schemaManagerInitForIDE();
                        break;
                }
            }
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        if (this.subscriptions && this.subscriptions.length) {
            for (const subscription of this.subscriptions) {
                subscription.unsubscribe();
            }
        }
    }
    /**
     * @private
     * @param {?} newValue
     * @return {?}
     */
    colListChange(newValue) {
        if (this.controlType !== 'charts') {
            if (this.schemaTreeData[0].data['schemaValue'] && this.schemaTreeData[1].data['schemaValue'] && this.schemaTreeData[2].data['schemaValue'] && newValue && newValue.length) {
                /** @type {?} */
                const cols = this.initColumns(this.objectCopy(newValue));
                this.schemaTreeData[0].data['schemaValue'].columnOption.colList = cols;
                this.schemaTreeData[1].data['schemaValue'].columnOption.colList = cols;
                this.schemaTreeData[2].data['schemaValue'].columnOption.colList = cols;
            }
            if (this.cacheSchemaData['public_schema'] && this.cacheSchemaData['public_schema'].schemaValue
                && this.cacheSchemaData['public_schema'].schemaValue.columnOption && this.cacheSchemaData['public_schema'].schemaValue.columnOption.colList) {
                if (this.colList && this.colList.length) {
                    /** @type {?} */
                    const cols = this.initColumns(this.objectCopy(this.colList));
                    this.cacheSchemaData['public_schema'].schemaValue.columnOption.colList = cols;
                }
                if (this.currTreeNode.id === 'public_schema') {
                    this.currTreeNodeChanged({
                        node: {
                            data: this.cacheSchemaData['public_schema']
                        }
                    });
                }
            }
        }
    }
    /**
     * @private
     * @param {?} columns
     * @return {?}
     */
    initColumns(columns) {
        if (columns && columns.length) {
            columns.forEach((/**
             * @param {?} col
             * @return {?}
             */
            (col) => {
                col.colWidth = 150, col.visible = true, col.isFixed = false, col.align = 1,
                    col.formatType = 0, col.formattor = '', col.sort = 0, col.pageAggre = 0, col.pageAggreText = '',
                    col.isGroup = false, col.groupAggre = 0, col.groupAggreText = '', col.totalAggre = 0,
                    col.totalAggreText = '', col.dimension = 0, col.rowColor = '', col.showType = '0';
            }));
        }
        return columns;
    }
    /**
     * @private
     * @param {?} newValue
     * @return {?}
     */
    schemaInfoChange(newValue) {
        this.controlInit();
        if (this.controlType !== 'charts') {
            this.schemaTreeData[0].data['schemaValue'] = this.schemaTreeData[1].data['schemaValue'] = this.schemaTreeData[2].data['schemaValue'] = newValue && newValue.preSchema ? newValue.preSchema.schemaValue : null;
        }
        else {
            this.schemaTreeData[0].data['schemaValue'] = this.schemaTreeData[1].data['schemaValue'] = this.schemaTreeData[2].data['schemaValue'] = this.chartsOption;
        }
        if (newValue && newValue.schemaList) {
            // 初始化格式方案管理的方案导航树控件以及方案管理的下拉控件
            Object.keys(newValue.schemaList).forEach((/**
             * @param {?} key
             * @return {?}
             */
            key => {
                this.cacheSchemaData[newValue.schemaList[key].id] = JSON.parse(JSON.stringify(newValue.schemaList[key]));
                this.schemaDropDownData.push(newValue.schemaList[key]);
                if ((newValue.schemaList[key].schemaType - 0) === 0) {
                    this.schemaTreeData[0].children.push({ data: newValue.schemaList[key], expanded: true, children: [] });
                }
                else if ((newValue.schemaList[key].schemaType - 0) === 2) {
                    this.schemaTreeData[1].children.push({ data: newValue.schemaList[key], expanded: true, children: [] });
                }
                else {
                    this.schemaTreeData[2].children.push({ data: newValue.schemaList[key], expanded: true, children: [] });
                }
            }));
        }
        this.schemaTree.updateSerializedValue();
        if (newValue && newValue.isDefaultSchema && newValue.isDefaultSchema.id && this.selectedSchemaId !== 'selected_prefab') {
            if (!this.schemaId || (this.schemaId && '1,public_schema'.indexOf(this.schemaId) >= 0) || ('1,public_schema'.indexOf(this.schemaId) >= 0 && !this.validateSchemaId(this.schemaId, newValue)) || ('1,public_schema'.indexOf(this.schemaId) < 0 && !this.validateSchemaId(this.schemaId, newValue))) {
                this.schemaId = newValue.isDefaultSchema.id;
            }
            this.isDefault = newValue.isDefaultSchema.isDefault === 1 ? true : false;
            this.isSchemaType = newValue.isDefaultSchema.schemaType - 0;
            this.schemaName = newValue.isDefaultSchema.schemaName;
        }
        else {
            if (!this.schemaId || !this.validateSchemaId(this.schemaId, newValue)) {
                this.schemaId = 'prefab';
            }
        }
        if (this.schemaId === 'prefab' || this.schemaId === '1' || !this.schemaId) {
            this.treeNodeSelected('public_schema');
            this.isDefault = false;
            this.isSchemaType = 0;
            this.schemaName = '';
        }
        else {
            this.treeNodeSelected(this.schemaId);
        }
    }
    /**
     * @private
     * @return {?}
     */
    schemaManagerInitForIDE() {
        /** @type {?} */
        const self = this;
        if (this.editorParams && this.editorParams.queryId) {
            this.subscriptions = [];
            // 订阅格式信息的变化
            this.subscriptions.push(self.schemaService.schemaInfo.subscribe((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                if (value) {
                    /** @type {?} */
                    const schemaInfoAll = Object.assign({}, value);
                    self.schemaInfo = schemaInfoAll;
                    if (self.schemaInfo.schemaList) {
                        self.schemaInfo.schemaList = self.schemaInfo.schemaList[self.editorParams.queryId];
                    }
                    self.schemaInfoChange(self.schemaInfo);
                }
            })));
            this.subscriptions.push(
            // 订阅数据列信息的变化
            self.schemaService.colList.subscribe((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                self.colList = value;
                self.colListChange(self.colList);
            })));
            if (this.schemaEditor && this.schemaEditor.tabs) {
                this.schemaEditor.tabs.selectTab('title');
            }
            this.queryId = this.editorParams.queryId;
            this.controlType = this.editorParams.controlType;
            this.qoManagerCode = this.editorParams.qoManagerCode;
            this.queryRelativeUrl = this.editorParams.queryRelativeUrl;
            this.currentmode = true;
            /** @type {?} */
            const organizationId = this.cache.get(this.tabId + 'organizationId') || '';
            this.schemaService.getSchemaList(self.queryId, '', organizationId, self.queryRelativeUrl, self.groupType).subscribe((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                /** @type {?} */
                const schemaData = value ? value : [];
                /** @type {?} */
                const schemaId = schemaData && schemaData.length && schemaData[0] && schemaData[0].id ? schemaData[0].id : '1';
                /** @type {?} */
                const params = {};
                params['qoManagerCode'] = self.qoManagerCode;
                params['pageIndex'] = 0;
                params['schemaId'] = schemaId;
                params['entityData'] = '';
                params['extendCond'] = '';
                if (self.editorParams && self.editorParams.dynamicCols && self.editorParams.dynamicCols.length) {
                    self.schemaService.getSpreadTemplate(schemaId, self.queryId, self.editorParams.dynamicCols, self.queryRelativeUrl, null, self.editorParams.dynamicCols).subscribe();
                }
                else {
                    self.schemaService.getCol(params, self.queryRelativeUrl).subscribe((/**
                     * @param {?} result
                     * @return {?}
                     */
                    result => {
                        if (result && result.dynamicCols) {
                            self.schemaService.getSpreadTemplate(schemaId, self.queryId, result.dynamicCols, self.queryRelativeUrl, null, result.dynamicCols).subscribe();
                        }
                    }));
                }
            }));
        }
    }
    /**
     * @private
     * @return {?}
     */
    controlInit() {
        this.currTreeNode = undefined;
        this.cacheSchemaData = {};
        this.schemaTreeData[0].children = [];
        this.schemaTreeData[1].children = [];
        this.schemaTreeData[2].children = [];
        this.schemaDropDownData = [];
    }
    /**
     * @private
     * @param {?} id
     * @param {?} newValue
     * @return {?}
     */
    validateSchemaId(id, newValue) {
        /** @type {?} */
        let result = false;
        if (!id) {
            return result;
        }
        if (newValue && newValue.schemaList) {
            for (const key in newValue.schemaList) {
                if (id === key) {
                    result = true;
                }
            }
        }
        return result;
    }
    /**
     * @return {?}
     */
    handleDialogShow() {
        this.personSchema = 'personSchema' + EventBus.guid();
        this.publicSchema = 'publicSchema' + EventBus.guid();
        this.defaultSchema = 'defaultSchema' + EventBus.guid();
        if (this.controlType !== 'charts') {
            if (this.schemaEditor && this.schemaEditor.tabs) {
                this.schemaEditor.tabs.selectTab('title');
            }
        }
        else {
            if (this.chartsSchemaEditor && this.chartsSchemaEditor.tabs) {
                this.chartsSchemaEditor.tabs.selectTab('type');
            }
        }
        this.isShow = true;
        this.farrisDialog.show();
    }
    /**
     * @param {?} id
     * @return {?}
     */
    handleDropDownItemClick(id) {
        this.schemaId = id;
        if (this.schemaId === 'prefab') {
            this.selectedSchemaId = 'selected_prefab';
            this.treeNodeSelected('public_schema');
        }
        else {
            this.selectedSchemaId = id;
            this.treeNodeSelected(this.schemaId);
        }
        this.schemaSelected.emit(id === 'prefab' ? '1' : id);
    }
    /**
     * @param {?} option
     * @return {?}
     */
    handleTabsSelectChange(option) {
        if (this.farrisPanelComponent && this.farrisPanelComponent.modelValue.length) {
            this.farrisPanelComponent.updateModel('schemaInfo');
        }
        this.updateCurrSchema(option, 'tabChanged');
    }
    /**
     * @param {?} value
     * @return {?}
     */
    handleSchemaTypeSelect(value) {
        this.isSchemaType = value;
    }
    /**
     * @param {?} data
     * @return {?}
     */
    handleTreeNodeSelected(data) {
        if (!this.currTreeNode) {
            this.currTreeNodeChanged(data);
        }
        else {
            if (data.node.data.id !== this.currTreeNode.id) {
                if (this.schemaEditor || this.chartsSchemaEditor) {
                    if (this.currTreeNode.id === 'public_schema' || this.currTreeNode.id === 'person_schema' || this.currTreeNode.id === 'org_schema') {
                        this.currTreeNodeChanged(data);
                    }
                    else {
                        /** @type {?} */
                        let compare = true;
                        this.updateCurrSchema(null);
                        if (this.controlType === 'charts' && this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData) {
                            this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData.series.type = this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData.series.type.replace('1', '');
                        }
                        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
                            if (this.controlType === 'charts') {
                                this.currTreeNode.schemaValue.chartsData.series.type = this.currTreeNode.schemaValue.chartsType.series.type;
                                this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData.series.type = this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsType.series.type;
                            }
                            compare = (JSON.stringify(this.currTreeNode.schemaValue) ===
                                JSON.stringify(this.cacheSchemaData[this.currTreeNode.id].schemaValue)
                                && this.currTreeNode.schemaName === this.cacheSchemaData[this.currTreeNode.id].schemaName
                                && this.currTreeNode.schemaType === this.cacheSchemaData[this.currTreeNode.id].schemaType
                                && this.currTreeNode.isDefault === this.cacheSchemaData[this.currTreeNode.id].isDefault);
                            {
                                this.currTreeNodeChanged(data);
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * @private
     * @param {?} data
     * @return {?}
     */
    currTreeNodeChanged(data) {
        if (this.currTreeNode && (this.currTreeNode.id === 'public_schema' || this.currTreeNode.id === 'person_schema' || this.currTreeNode.id === 'org_schema')) {
            delete this.cacheSchemaData[this.currTreeNode.id];
        }
        this.currTreeNode = data.node.data;
        if (this.currTreeNode.id === 'public_schema') {
            if (this.controlType !== 'charts' && this.colList && this.colList.length) {
                this.currTreeNode.schemaValue.columnOption.colList = this.colList;
            }
            this.isDefault = false;
            this.isSchemaType = 0;
            this.schemaName = this.localizeService.getValue('ideCmp.schemaManager.schemePublic');
            this.schemaId = 'prefab';
        }
        else if (this.currTreeNode.id === 'person_schema') {
            if (this.controlType !== 'charts') {
                this.currTreeNode.schemaValue.columnOption.colList = this.colList;
            }
            this.isDefault = false;
            this.isSchemaType = 1;
            this.schemaName = this.localizeService.getValue('ideCmp.schemaManager.schemePersonal');
            this.schemaId = 'prefab';
        }
        else if (this.currTreeNode.id === 'org_schema') {
            if (this.controlType !== 'charts') {
                this.currTreeNode.schemaValue.columnOption.colList = this.colList;
            }
            this.isDefault = false;
            this.isSchemaType = 2;
            this.schemaName = this.localizeService.getValue('ideCmp.schemaManager.schemeOrg');
            this.schemaId = 'prefab';
        }
        else {
            this.isDefault = this.currTreeNode.isDefault === 1 ? true : false;
            this.isSchemaType = this.currTreeNode.schemaType - 0;
            this.schemaName = this.currTreeNode.schemaName;
            this.schemaId = this.currTreeNode.id;
        }
        this.cacheSchemaData[this.currTreeNode.id] = JSON.parse(JSON.stringify(this.currTreeNode));
    }
    /**
     * @private
     * @param {?} id
     * @return {?}
     */
    treeNodeSelected(id) {
        this.schemaTree.clearSelections();
        if (id) {
            this.schemaTree.selectNode(id);
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight || 300;
        this.size.width = event.newWidth;
        if (this.schemaTree) {
            this.schemaTree.resize(this.size);
        }
    }
    /**
     * @return {?}
     */
    handleSaveAsClick() {
        /** @type {?} */
        const self = this;
        this.updateCurrSchema(null, 'save_as');
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData['public_schema']) {
            if (this.operations['QdpModifyPublicSchema'] === false && this.cacheSchemaData['public_schema'].schemaType === 0) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'));
                return;
            }
            /** @type {?} */
            const str = JSON.stringify(this.cacheSchemaData['public_schema']);
            /** @type {?} */
            const schema = JSON.parse(str);
            schema.queryId = this.queryId;
            schema.schemaValue = JSON.stringify(schema.schemaValue);
            if (!schema.schemaName) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.notNull'));
                return;
            }
            else {
                for (const key in this.cacheSchemaData) {
                    if (key !== 'public_schema' && key !== 'person_schema' && key !== 'org_schema' && key !== schema.id && schema.schemaName === this.cacheSchemaData[key].schemaName) {
                        this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.exists'));
                        if (this.farrisPanelComponent && !this.farrisPanelComponent.modelValue.length) {
                            this.farrisPanelComponent.updateModel('schemaInfo');
                        }
                        return;
                    }
                }
            }
            if (this.controlType !== 'charts') {
                if (this.crosstabColumnValidate(this.cacheSchemaData['public_schema'].schemaValue.columnOption.colList)) {
                    this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.crosstabValueDimension'));
                    return;
                }
            }
            if (schema.schemaName && schema.schemaName.length > 100) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.tooLong'));
                return;
            }
            /** @type {?} */
            const textSortColumn = { isText: [] };
            this.getTextColumnSort(schema, textSortColumn);
            if (textSortColumn.isText.length) {
                this.msgService.warning(textSortColumn.isText[0] + ' ' + this.localizeService.getValue('ideCmp.schemaManager.message.validate.textColumnSort'));
                return;
            }
            schema.id = '';
            /** @type {?} */
            const organizationId = this.cache.get(this.tabId + 'organizationId') || '';
            schema.orgId = organizationId;
            this.schemaService.saveSchema({ schema: JSON.stringify(schema), groupType: this.groupType }, this.queryRelativeUrl).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            (data) => {
                this.schemaId = '';
                if (data && data.isDefaultSchema && data.isDefaultSchema.id) {
                    this.schemaId = data.isDefaultSchema.id;
                }
                this.notifyService['success']((/** @type {?} */ ({
                    title: this.localizeService.getValue('ideCmp.schemaManager.message.info.title'), msg: this.localizeService.getValue('ideCmp.schemaManager.message.save.success'), timeout: 3000
                })));
                this.saveAsSchema.emit();
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
                self.formErrorService.exception(error.Message, error);
            }));
        }
    }
    /**
     * @return {?}
     */
    handleRemoveClick() {
        /** @type {?} */
        const self = this;
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            if (this.operations['QdpModifyPublicSchema'] === false && this.cacheSchemaData[this.currTreeNode.id].schemaType === 0) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'));
                return;
            }
            if (this.cacheSchemaData[this.currTreeNode.id].isProtected && (this.cacheSchemaData[this.currTreeNode.id].isProtected === 1 || this.cacheSchemaData[this.currTreeNode.id].isProtected === '1')) {
                this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));
                return;
            }
            if (this.cacheSchemaData[this.currTreeNode.id].id !== 'public_schema' &&
                this.cacheSchemaData[this.currTreeNode.id].id !== 'person_schema' &&
                this.cacheSchemaData[this.currTreeNode.id].id !== 'org_schema') {
                /** @type {?} */
                const organizationId = this.cache.get(this.tabId + 'organizationId') || '';
                this.schemaService.deleteSchema(this.cacheSchemaData[this.currTreeNode.id].id, this.queryId, this.queryRelativeUrl, this.groupType, organizationId).subscribe((/**
                 * @param {?} data
                 * @return {?}
                 */
                (data) => {
                    data.subscribe((/**
                     * @param {?} value
                     * @return {?}
                     */
                    (value) => {
                        this.schemaId = '';
                        this.notifyService['success']((/** @type {?} */ ({
                            title: this.localizeService.getValue('ideCmp.schemaManager.message.info.title'), msg: this.localizeService.getValue('ideCmp.schemaManager.message.delete.success'), timeout: 3000
                        })));
                        this.removeSchema.emit();
                    }));
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                (error) => {
                    self.formErrorService.exception(error.Message, error);
                }));
            }
            else {
                this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.info.delete'));
            }
        }
        else {
            this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.info.delete'));
        }
    }
    /**
     * @return {?}
     */
    handleSaveClick() {
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            if (this.operations['QdpModifyPublicSchema'] === false && this.cacheSchemaData[this.currTreeNode.id].schemaType === 0 && this.cacheSchemaData[this.currTreeNode.id].id !== 'public_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'person_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'org_schema') {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'));
                return;
            }
        }
        this.updateCurrSchema(null);
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            if (this.operations['QdpModifyPublicSchema'] === false && this.cacheSchemaData[this.currTreeNode.id].schemaType === 0 && this.cacheSchemaData[this.currTreeNode.id].id !== 'public_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'person_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'org_schema') {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'));
                return;
            }
            if (this.cacheSchemaData[this.currTreeNode.id].isProtected && (this.cacheSchemaData[this.currTreeNode.id].isProtected === 1 || this.cacheSchemaData[this.currTreeNode.id].isProtected === '1')) {
                this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));
                return;
            }
            /** @type {?} */
            const str = JSON.stringify(this.cacheSchemaData[this.currTreeNode.id]);
            /** @type {?} */
            const schema = JSON.parse(str);
            if (schema.id === 'public_schema' || schema.id === 'person_schema' || schema.id === 'org_schema') {
                schema.id = '';
            }
            schema.queryId = this.queryId;
            schema.schemaValue = JSON.stringify(schema.schemaValue);
            if (!schema.schemaName) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.notNull'));
                return;
            }
            else {
                for (const key in this.cacheSchemaData) {
                    if (key !== 'public_schema' && key !== 'person_schema' && key !== 'org_schema' && key !== schema.id && schema.schemaName === this.cacheSchemaData[key].schemaName) {
                        this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.exists'));
                        if (this.farrisPanelComponent && !this.farrisPanelComponent.modelValue.length) {
                            this.farrisPanelComponent.updateModel('schemaInfo');
                        }
                        return;
                    }
                }
            }
            if (this.controlType !== 'charts') {
                if (this.crosstabColumnValidate(this.cacheSchemaData[this.currTreeNode.id].schemaValue.columnOption.colList)) {
                    this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.crosstabValueDimension'));
                    return;
                }
            }
            if (schema.schemaName && schema.schemaName.length > 100) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.tooLong'));
                return;
            }
            /** @type {?} */
            const textSortColumn = { isText: [] };
            this.getTextColumnSort(schema, textSortColumn);
            if (textSortColumn.isText.length) {
                this.msgService.warning(textSortColumn.isText[0] + ' ' + this.localizeService.getValue('ideCmp.schemaManager.message.validate.textColumnSort'));
                return;
            }
            /** @type {?} */
            const organizationId = this.cache.get(this.tabId + 'organizationId') || '';
            schema.orgId = organizationId;
            this.schemaService.saveSchema({ schema: JSON.stringify(schema), groupType: this.groupType }, this.queryRelativeUrl).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            (data) => {
                if (data && data.isDefaultSchema && data.isDefaultSchema.id) {
                    this.schemaId = data.isDefaultSchema.id;
                }
                this.schemaId = this.schemaId === 'prefab' ? '' : this.schemaId;
                this.notifyService['success']((/** @type {?} */ ({
                    title: this.localizeService.getValue('ideCmp.schemaManager.message.info.title'), msg: this.localizeService.getValue('ideCmp.schemaManager.message.save.success'), timeout: 3000
                })));
                this.treeNodeSelected(this.schemaId);
                this.saveSchema.emit();
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
                this.formErrorService.exception(error.Message, error);
            }));
        }
    }
    /**
     * @return {?}
     */
    handleSaveAndCloseClick() {
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            if (this.operations['QdpModifyPublicSchema'] === false && this.cacheSchemaData[this.currTreeNode.id].schemaType === 0 && this.cacheSchemaData[this.currTreeNode.id].id !== 'public_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'person_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'org_schema') {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'));
                return;
            }
        }
        this.updateCurrSchema(null);
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            if (this.operations['QdpModifyPublicSchema'] === false && this.cacheSchemaData[this.currTreeNode.id].schemaType === 0 && this.cacheSchemaData[this.currTreeNode.id].id !== 'public_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'person_schema' && this.cacheSchemaData[this.currTreeNode.id].id !== 'org_schema') {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'));
                return;
            }
            if (this.cacheSchemaData[this.currTreeNode.id].isProtected && (this.cacheSchemaData[this.currTreeNode.id].isProtected === 1 || this.cacheSchemaData[this.currTreeNode.id].isProtected === '1')) {
                this.msgService.info(this.localizeService.getValue('ideCmp.schemaManager.message.validate.isProtected'));
                return;
            }
            /** @type {?} */
            const str = JSON.stringify(this.cacheSchemaData[this.currTreeNode.id]);
            /** @type {?} */
            const schema = JSON.parse(str);
            if (schema.id === 'public_schema' || schema.id === 'person_schema' || schema.id === 'org_schema') {
                schema.id = '';
            }
            schema.queryId = this.queryId;
            schema.schemaValue = JSON.stringify(schema.schemaValue);
            if (!schema.schemaName) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.notNull'));
                return;
            }
            else {
                for (const key in this.cacheSchemaData) {
                    if (key !== 'public_schema' && key !== 'person_schema' && key !== 'org_schema' && key !== schema.id && schema.schemaName === this.cacheSchemaData[key].schemaName) {
                        this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.exists'));
                        if (this.farrisPanelComponent && !this.farrisPanelComponent.modelValue.length) {
                            this.farrisPanelComponent.updateModel('schemaInfo');
                        }
                        return;
                    }
                }
            }
            if (this.controlType !== 'charts') {
                if (this.crosstabColumnValidate(this.cacheSchemaData[this.currTreeNode.id].schemaValue.columnOption.colList)) {
                    this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.crosstabValueDimension'));
                    return;
                }
            }
            if (schema.schemaName && schema.schemaName.length > 100) {
                this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.tooLong'));
                return;
            }
            /** @type {?} */
            const textSortColumn = { isText: [] };
            this.getTextColumnSort(schema, textSortColumn);
            if (textSortColumn.isText.length) {
                this.msgService.warning(textSortColumn.isText[0] + ' ' + this.localizeService.getValue('ideCmp.schemaManager.message.validate.textColumnSort'));
                return;
            }
            /** @type {?} */
            const organizationId = this.cache.get(this.tabId + 'organizationId') || '';
            schema.orgId = organizationId;
            this.schemaService.saveSchema({ schema: JSON.stringify(schema), groupType: this.groupType }, this.queryRelativeUrl).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            (data) => {
                if (data && data.isDefaultSchema && data.isDefaultSchema.id) {
                    this.schemaId = data.isDefaultSchema.id;
                }
                this.schemaId = this.schemaId === 'prefab' ? '' : this.schemaId;
                this.notifyService['success']((/** @type {?} */ ({
                    title: this.localizeService.getValue('ideCmp.schemaManager.message.info.title'), msg: this.localizeService.getValue('ideCmp.schemaManager.message.save.success'), timeout: 3000
                })));
                this.treeNodeSelected(this.schemaId);
                this.saveAndCloseSchema.emit();
                if (!this.currentmode) {
                    this.farrisDialog.close();
                }
                else {
                    this.closeModal.emit();
                }
            }), (/**
             * @param {?} error
             * @return {?}
             */
            (error) => {
                this.formErrorService.exception(error.Message, error);
            }));
        }
    }
    /**
     * @private
     * @param {?} options
     * @param {?=} type
     * @return {?}
     */
    updateCurrSchema(options, type) {
        if (this.controlType !== 'charts') {
            this.updateListSchema(options, type);
        }
        else {
            this.updateChartsSchema(options, type);
        }
    }
    /**
     * @private
     * @param {?} options
     * @param {?=} type
     * @return {?}
     */
    updateListSchema(options, type) {
        /** @type {?} */
        let option = options;
        if (!option) {
            if (this.schemaEditor) {
                option = this.schemaEditor.getOption();
            }
        }
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            /** @type {?} */
            let sId = this.currTreeNode.id;
            if (type === 'save_as') {
                sId = 'public_schema';
                this.cacheSchemaData[sId] = JSON.parse(JSON.stringify(this.cacheSchemaData[this.currTreeNode.id]));
                this.cacheSchemaData[sId].id = sId;
            }
            if (option && option.titleOption) {
                this.cacheSchemaData[sId].schemaValue.titleOption = option.titleOption;
            }
            if (option && option.columnOption && option.columnOption.length) {
                this.cacheSchemaData[sId].schemaValue.columnOption.colList = option.columnOption;
            }
            if (option && option.styleOption) {
                this.cacheSchemaData[sId].schemaValue.styleOption = option.styleOption;
            }
            if (option && option.otherOption) {
                this.cacheSchemaData[sId].schemaValue.otherOption = option.otherOption;
            }
            if (type !== 'tabChanged') {
                this.cacheSchemaData[sId].schemaName = this.schemaName;
                this.cacheSchemaData[sId].schemaType = this.isSchemaType;
                this.cacheSchemaData[sId].isDefault = this.isDefault ? 1 : 0;
            }
        }
    }
    /**
     * @private
     * @param {?} options
     * @param {?=} type
     * @return {?}
     */
    updateChartsSchema(options, type) {
        /** @type {?} */
        let option = options;
        if (!option) {
            if (this.chartsSchemaEditor) {
                option = this.chartsSchemaEditor.getOption();
            }
        }
        if (this.currTreeNode && this.cacheSchemaData && this.cacheSchemaData[this.currTreeNode.id]) {
            /** @type {?} */
            let sId = this.currTreeNode.id;
            if (type === 'save_as') {
                sId = 'public_schema';
                this.cacheSchemaData[sId] = JSON.parse(JSON.stringify(this.cacheSchemaData[this.currTreeNode.id]));
                this.cacheSchemaData[sId].id = sId;
            }
            if (option && option.chartsType) {
                this.cacheSchemaData[sId].schemaValue.chartsType = option.chartsType;
            }
            if (option && option.chartsData) {
                this.cacheSchemaData[sId].schemaValue.chartsData = option.chartsData;
                if (option && option.groupSummarySet) {
                    this.cacheSchemaData[sId].schemaValue['groupSummarySet'] = option.groupSummarySet;
                }
            }
            if (option && option.chartsStyle) {
                this.cacheSchemaData[sId].schemaValue.chartsStyle = option.chartsStyle;
                if (option && option.customOption) {
                    if (option.customOption === 'error') {
                        this.msgService.warning(this.localizeService.getValue('ideCmp.schemaManager.message.validate.crosstabValueDimension'));
                        return;
                    }
                }
                this.cacheSchemaData[sId].schemaValue['customOption'] = option.customOption;
            }
            this.cacheSchemaData[sId].schemaValue.chartsData.series.type = this.cacheSchemaData[sId].schemaValue.chartsType.series.type;
            if (this.cacheSchemaData[sId].schemaValue.chartsData.legend) {
                this.cacheSchemaData[sId].schemaValue.chartsStyle.legend.show = this.cacheSchemaData[sId].schemaValue.chartsData.legend.show;
                this.cacheSchemaData[sId].schemaValue.chartsStyle.legend.data = this.cacheSchemaData[sId].schemaValue.chartsData.legend.data;
            }
            if (type !== 'tabChanged') {
                this.cacheSchemaData[sId].schemaName = this.schemaName;
                this.cacheSchemaData[sId].schemaType = this.isSchemaType;
                this.cacheSchemaData[sId].isDefault = this.isDefault ? 1 : 0;
            }
        }
    }
    /**
     * @private
     * @param {?} columns
     * @return {?}
     */
    crosstabColumnValidate(columns) {
        /** @type {?} */
        let flag = false;
        if (this.controlType === 'crosstab') {
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < columns.length; i++) {
                if (columns[i].groupAggre !== 4 && columns[i].totalAggre !== 4) {
                    if ((columns[i].dimension - 0) === 3 && !'int,integer,float,double,decimal,number'.includes(columns[i].type ? columns[i].type.toLowerCase() : '')) {
                        flag = true;
                        break;
                    }
                }
            }
        }
        return flag;
    }
    /**
     * @private
     * @param {?} obj
     * @return {?}
     */
    objectCopy(obj) {
        /** @type {?} */
        const str = JSON.stringify(obj);
        return JSON.parse(str);
    }
    /**
     * @return {?}
     */
    clickCancel() {
        this.closeModal.emit();
    }
    /**
     * @param {?} type
     * @param {?} state
     * @return {?}
     */
    handleHover(type, state) {
        this.svgSchema = state === 1;
    }
    /**
     * @param {?} schema
     * @param {?} params
     * @return {?}
     */
    getTextColumnSort(schema, params) {
        /** @type {?} */
        let schemaValue;
        if (schema && typeof schema.schemaValue === 'string') {
            schemaValue = JSON.parse(schema.schemaValue);
        }
        else {
            schemaValue = schema.schemaValue;
        }
        if (schemaValue.columnOption && schemaValue.columnOption.colList && schemaValue.columnOption.colList.length) {
            schemaValue.columnOption.colList.forEach((/**
             * @param {?} col
             * @return {?}
             */
            (col) => {
                this.recursiveTextColumnSort(col, null, params);
            }));
        }
    }
    /**
     * @private
     * @param {?} col
     * @param {?} colList
     * @param {?} params
     * @return {?}
     */
    recursiveTextColumnSort(col, colList, params) {
        if (colList == null) {
            if (col.childList && col.childList.length) {
                this.recursiveTextColumnSort(null, col.childList, params);
            }
            else {
                if (col.type && col.type.toLowerCase() === 'text' && col.sort > 0) {
                    params.isText.push(col.bindField);
                }
                params.colIndex++;
            }
        }
        else {
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < colList.length; i++) {
                if (colList[i].childList && colList[i].childList.length) {
                    this.recursiveTextColumnSort(null, colList[i].childList, params);
                }
                else {
                    if (colList[i].type && colList[i].type.toLowerCase() === 'text' && colList[i].sort > 0) {
                        params.isText.push(colList[i].bindField);
                    }
                    params.colIndex++;
                }
            }
        }
    }
}
SchemaManagerComponent.decorators = [
    { type: Component, args: [{
                selector: 'schema-manager',
                template: "<div class=\"btn-group\" fDropdown *ngIf=\"!currentmode\">\r\n  <button class=\"btn btn-secondary btn-outline-link btn-icontext f-rt-btn border-0 dropdown-toggle\" type=\"button\"\r\n    id=\"dropdownMenuButtonSchema\" fDropdownToggle (mouseenter)=\"handleHover(0, 0)\" (mouseleave)=\"handleHover(0, 1)\">\r\n    <span class=\"f-icon\" role=\"presentation\">\r\n      <img *ngIf=\"svgSchema\" src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTggMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmdlc2hpPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBpZD0n6aG16Z2iLTEnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnPjxnIGlkPSfkuqTkupLmlrnmoYgxLeW4uOinhOaAgeWkh+S7vScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTE5LjAwMDAwMCwgLTE5NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTE1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgMTgyLjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEzLjAwMDAwMCwgMTIuMDAwMDAwKSc+PGcgaWQ9J2ZhbmdhbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDEuMDAwMDAwKSc+PHBhdGggZD0nTTIuMzQyODU3MTQsMy4yMTUzODQ2MiBMMTYuMDU3MTQyOSwzLjIxNTM4NDYyIEMxNi4xNDgwNzQyLDMuMjE1Mzg0NjIgMTYuMjM1MjgxMywzLjI1MTA0Mzg1IDE2LjI5OTU3OTUsMy4zMTQ1MTc3IEMxNi4zNjM4Nzc3LDMuMzc3OTkxNTUgMTYuNCwzLjQ2NDA4MDU3IDE2LjQsMy41NTM4NDYxNSBMMTYuNCwxNS4wNjE1Mzg1IEMxNi40LDE1LjI0ODQ2NTYgMTYuMjQ2NDk3NiwxNS40IDE2LjA1NzE0MjksMTUuNCBMMi4zNDI4NTcxNCwxNS40IEMyLjE1MzUwMjM3LDE1LjQgMiwxNS4yNDg0NjU2IDIsMTUuMDYxNTM4NSBMMiwzLjU1Mzg0NjE1IEMyLDMuNDY0MDgwNTcgMi4wMzYxMjIzNCwzLjM3Nzk5MTU1IDIuMTAwNDIwNTMsMy4zMTQ1MTc3IEMyLjE2NDcxODcyLDMuMjUxMDQzODUgMi4yNTE5MjU3NywzLjIxNTM4NDYyIDIuMzQyODU3MTQsMy4yMTUzODQ2MiBaJyBpZD0n6Lev5b6EJyBmaWxsPScjN0E4OUIyJyBvcGFjaXR5PScwLjUnPjwvcGF0aD48cGF0aCBkPSdNMi4zNDI5MDc3MSwxIEw4Ljk4MTYwMSwxIEM5LjEwOTg5ODU2LDEgOS4yMjc0NTAwNywxLjA3MTY1NjYzIDkuMjg2Mjc0NDksMS4xODU2NTcxNCBMMTYuMzYxODMyMiwxNC44OTk5NDI4IEMxNi40MTY2ODUxLDE1LjAwNjI0NjUgMTYuNDEyMTYxLDE1LjEzMzQ0OTEgMTYuMzQ5ODk0NywxNS4yMzU1ODg2IEMxNi4yODc2Mjg0LDE1LjMzNzcyODEgMTYuMTc2NjIyNywxNS40IDE2LjA1Njk4NzMsMTUuNCBMMi4zNDI5MDc3MSwxNS40IEMyLjE1MzUyNTAxLDE1LjQgMiwxNS4yNDY0OTc2IDIsMTUuMDU3MTQyOCBMMiwxLjM0Mjg1NzE0IEMyLDEuMTUzNTAyMzcgMi4xNTM1MjUwMSwxIDIuMzQyOTA3NzEsMSBaJyBpZD0n6Lev5b6EJyBmaWxsPScjOEZBMUNCJz48L3BhdGg+PHBhdGggZD0nTTQuMzY2NDMzNTYsMy4yMTUzODQ2MiBMNy4zODc0MTI2LDMuMjE1Mzg0NjIgQzcuNDg4MTExOSwzLjIxNTM4NDYyIDcuNTM4NDYxNTQsMy4yODkyMzA3NyA3LjUzODQ2MTU0LDMuNDM2OTIzMDYgTDcuNTM4NDYxNTQsNS4yMDkyMzA3OCBDNy41Mzg0NjE1NCw1LjM1NjkyMzA5IDcuNDg4MTExODksNS40MzA3NjkyMyA3LjM4NzQxMjYsNS40MzA3NjkyMyBMNC4zNjY0MzM1Niw1LjQzMDc2OTIzIEM0LjI2NTczNDI1LDUuNDMwNzY5MjMgNC4yMTUzODQ2Miw1LjM1NjkyMzA4IDQuMjE1Mzg0NjIsNS4yMDkyMzA3OCBMNC4yMTUzODQ2MiwzLjQzNjkyMzA2IEM0LjIxNTM4NDYyLDMuMjg5MjMwNzUgNC4yNjU3MzQyNiwzLjIxNTM4NDYyIDQuMzY2NDMzNTYsMy4yMTUzODQ2MiBaJyBpZD0n6Lev5b6EJyBmaWxsPScjRkZGRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==\" style=\"width: 16px; height: 16px; display: block;\" />\r\n      <img *ngIf=\"!svgSchema\" src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxN3B4JyB2aWV3Qm94PScwIDAgMTggMTcnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmdlc2hpMjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0n5Zu+5qCH6YCJ5Lit6aKc6Imy5YiH5Zu+5aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTkuMDAwMDAwLCAtMTk1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCAxODIuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0xNicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTMuMDAwMDAwLCAxMi4wMDAwMDApJz48ZyBpZD0nZmFuZ2FuJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgMS4wMDAwMDApJz48cGF0aCBkPSdNMi4zNDI4NTcxNCwzLjIxNTM4NDYyIEwxNi4wNTcxNDI5LDMuMjE1Mzg0NjIgQzE2LjE0ODA3NDIsMy4yMTUzODQ2MiAxNi4yMzUyODEzLDMuMjUxMDQzODUgMTYuMjk5NTc5NSwzLjMxNDUxNzcgQzE2LjM2Mzg3NzcsMy4zNzc5OTE1NSAxNi40LDMuNDY0MDgwNTcgMTYuNCwzLjU1Mzg0NjE1IEwxNi40LDE1LjA2MTUzODUgQzE2LjQsMTUuMjQ4NDY1NiAxNi4yNDY0OTc2LDE1LjQgMTYuMDU3MTQyOSwxNS40IEwyLjM0Mjg1NzE0LDE1LjQgQzIuMTUzNTAyMzcsMTUuNCAyLDE1LjI0ODQ2NTYgMiwxNS4wNjE1Mzg1IEwyLDMuNTUzODQ2MTUgQzIsMy40NjQwODA1NyAyLjAzNjEyMjM0LDMuMzc3OTkxNTUgMi4xMDA0MjA1MywzLjMxNDUxNzcgQzIuMTY0NzE4NzIsMy4yNTEwNDM4NSAyLjI1MTkyNTc3LDMuMjE1Mzg0NjIgMi4zNDI4NTcxNCwzLjIxNTM4NDYyIFonIGlkPSfot6/lvoQnIGZpbGw9JyM0Qjk5RkYnIG9wYWNpdHk9JzAuNic+PC9wYXRoPjxwYXRoIGQ9J00yLjM0MjkwNzcxLDEgTDguOTgxNjAxLDEgQzkuMTA5ODk4NTYsMSA5LjIyNzQ1MDA3LDEuMDcxNjU2NjMgOS4yODYyNzQ0OSwxLjE4NTY1NzE0IEwxNi4zNjE4MzIyLDE0Ljg5OTk0MjggQzE2LjQxNjY4NTEsMTUuMDA2MjQ2NSAxNi40MTIxNjEsMTUuMTMzNDQ5MSAxNi4zNDk4OTQ3LDE1LjIzNTU4ODYgQzE2LjI4NzYyODQsMTUuMzM3NzI4MSAxNi4xNzY2MjI3LDE1LjQgMTYuMDU2OTg3MywxNS40IEwyLjM0MjkwNzcxLDE1LjQgQzIuMTUzNTI1MDEsMTUuNCAyLDE1LjI0NjQ5NzYgMiwxNS4wNTcxNDI4IEwyLDEuMzQyODU3MTQgQzIsMS4xNTM1MDIzNyAyLjE1MzUyNTAxLDEgMi4zNDI5MDc3MSwxIFonIGlkPSfot6/lvoQnIGZpbGw9JyM0Qjk5RkYnIG9wYWNpdHk9JzAuOCc+PC9wYXRoPjxwYXRoIGQ9J000LjM2NjQzMzU2LDMuMjE1Mzg0NjIgTDcuMzg3NDEyNiwzLjIxNTM4NDYyIEM3LjQ4ODExMTksMy4yMTUzODQ2MiA3LjUzODQ2MTU0LDMuMjg5MjMwNzcgNy41Mzg0NjE1NCwzLjQzNjkyMzA2IEw3LjUzODQ2MTU0LDUuMjA5MjMwNzggQzcuNTM4NDYxNTQsNS4zNTY5MjMwOSA3LjQ4ODExMTg5LDUuNDMwNzY5MjMgNy4zODc0MTI2LDUuNDMwNzY5MjMgTDQuMzY2NDMzNTYsNS40MzA3NjkyMyBDNC4yNjU3MzQyNSw1LjQzMDc2OTIzIDQuMjE1Mzg0NjIsNS4zNTY5MjMwOCA0LjIxNTM4NDYyLDUuMjA5MjMwNzggTDQuMjE1Mzg0NjIsMy40MzY5MjMwNiBDNC4yMTUzODQ2MiwzLjI4OTIzMDc1IDQuMjY1NzM0MjYsMy4yMTUzODQ2MiA0LjM2NjQzMzU2LDMuMjE1Mzg0NjIgWicgaWQ9J+i3r+W+hCcgZmlsbD0nI0ZGRkZGRicgZmlsbC1ydWxlPSdub256ZXJvJz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\" style=\"width: 16px; height: 16px; display: block;\" />\r\n    </span>\r\n    <!-- <span *ngIf=\"isMultiForm\" class=\"f-icon f-icon-indent\" role=\"presentation\"></span> -->\r\n    <span *ngIf=\"!isMultiForm\">&nbsp;{{localizeService.getValue('ideCmp.schemaManager.formatSchemaManagerName')}}</span>\r\n  </button>\r\n  <div class=\"dropdown-menu\" fDropdownMenu>\r\n    <a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"handleDialogShow()\">\r\n      <span class=\"k-icon\"></span>{{localizeService.getValue('ideCmp.schemaManager.formatManager')}}</a>\r\n    <div class=\"dropdown-divider\"></div>\r\n    <a *ngIf=\"controlType!='charts' && showPreSchema\" class=\"dropdown-item\" href=\"javascript:void(0);\"\r\n      (click)=\"handleDropDownItemClick('prefab')\">\r\n      <span [class.k-i-check]=\"schemaId=='prefab'\"\r\n        class=\"k-icon\"></span>&nbsp;{{localizeService.getValue('ideCmp.schemaManager.preFormat')}}</a>\r\n    <a *ngFor=\"let item of schemaDropDownData\" class=\"dropdown-item\" href=\"javascript:void(0);\"\r\n      (click)=\"handleDropDownItemClick(item.id)\">\r\n      <span [class.k-i-check]=\"schemaId==item.id\" class=\"k-icon\"></span>&nbsp;{{item.schemaName}}</a>\r\n  </div>\r\n</div>\r\n\r\n<farris-dialog #farrisDialog [title]=\"localizeService.getValue('ideCmp.schemaManager.formatSchemaManagerName')\"\r\n  [showButtons]=\"false\" [width]=\"1258\" [height]=\"630\" [beforeClose]=\"handlebeforeClose\" *ngIf=\"!currentmode\">\r\n  <div class=\"farris-main-area flex-column bg-white\">\r\n    <div class=\"d-flex flex-row flex-fill farris-overflow-hidden\">\r\n      <div class=\"col-3 p-0 m-1 farris-overflow-hidden\" (resized)=\"onResized($event)\">\r\n        <farris-treetable #schemaTree [data]=\"schemaTreeData\" [idField]=\"'id'\" [showCheckAll]=\"false\"\r\n          [resizableColumns]=\"true\" [showHeader]=\"false\" [striped]=\"false\" [fixedHeader]=\"true\" [width]=\"size.width\"\r\n          [height]=\"size.height\" (nodeSelected)=\"handleTreeNodeSelected($event)\">\r\n          <tt-column [field]=\"'schemaName'\" [width]=\"100\" [align]=\"'left'\" [hAlign]=\"'center'\"></tt-column>\r\n        </farris-treetable>\r\n      </div>\r\n      <div class=\"d-flex flex-column flex-fill mt-1 mb-1 mr-1\">\r\n        <farris-panel class=\"w-100\" defaultExpand=\"defaultExpand\">\r\n          <farris-panel-item [title]=\"localizeService.getValue('ideCmp.schemaManager.basicInfoName')\"\r\n            [value]=\"'schemaInfo'\">\r\n            <ng-template #contentTempl>\r\n              <div class=\"farris-header p-1\">\r\n                <div class=\"form-row\">\r\n                  <div class=\"col-8 col-md-8 col-lg-8\">\r\n                    <div class=\"farris-group-wrap form-inline farris-form-inline m-1\">\r\n                      <div class=\"form-group farris-group-wrap\">\r\n                        <label class=\"col-form-label\" style=\"min-width: 0;\" for=\"schema_name_id\">\r\n                          <span\r\n                            class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.schemeName')}}:</span>\r\n                        </label>\r\n                        <div class=\"farris-input-wrap\">\r\n                          <input-group id=\"schema_name_id\" [(ngModel)]=\"schemaName\"></input-group>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-row\">\r\n                  <div class=\"col-12 col-md-12 col-lg-12\">\r\n                    <div class=\"farris-group-wrap form-inline farris-form-inline m-1\">\r\n                      <div class=\"form-group farris-group-wrap\">\r\n                        <label class=\"col-form-label\" style=\"min-width: 0;\" for=\"range_type_id\">\r\n                          <span\r\n                            class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.schemeType')}}:</span>\r\n                        </label>\r\n                        <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                          <div class=\"custom-control custom-radio mb-0\">\r\n                            <input type=\"radio\" id=\"{{publicSchema}}\" name=\"custom-radio1\" class=\"custom-control-input\"\r\n                              [checked]=\"isSchemaType==0\">\r\n                            <label class=\"custom-control-label\" for=\"{{publicSchema}}\"\r\n                              (click)=\"handleSchemaTypeSelect(0)\">{{localizeService.getValue('ideCmp.schemaManager.schemeTypePublic')}}</label>\r\n                          </div>\r\n                          <div class=\"custom-control custom-radio mb-0\">\r\n                            <input type=\"radio\" id=\"{{orgSchema}}\" name=\"custom-radio1\" class=\"custom-control-input\"\r\n                              [checked]=\"isSchemaType==2\">\r\n                            <label class=\"custom-control-label\" for=\"{{orgSchema}}\"\r\n                              (click)=\"handleSchemaTypeSelect(2)\">{{localizeService.getValue('ideCmp.schemaManager.schemeTypeOrg')}}</label>\r\n                          </div>\r\n                          <div class=\"custom-control custom-radio mb-0\">\r\n                            <input type=\"radio\" id=\"{{personSchema}}\" name=\"custom-radio1\" class=\"custom-control-input\"\r\n                              [checked]=\"isSchemaType==1\">\r\n                            <label class=\"custom-control-label\" for=\"{{personSchema}}\"\r\n                              (click)=\"handleSchemaTypeSelect(1)\">{{localizeService.getValue('ideCmp.schemaManager.schemeTypePersonal')}}</label>\r\n                          </div>\r\n                          <div class=\"custom-control custom-checkbox mb-0\">\r\n                            <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{defaultSchema}}\"\r\n                              [(ngModel)]=\"isDefault\">\r\n                            <label class=\"custom-control-label\"\r\n                              for=\"{{defaultSchema}}\">{{localizeService.getValue('ideCmp.schemaManager.schemeDefault')}}</label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </farris-panel-item>\r\n        </farris-panel>\r\n        <div class=\"farris-form d-flex flex-fill flex-column farris-overflow-hidden\">\r\n          <schema-editor *ngIf=\"controlType!='charts'\" class=\"d-flex flex-fill flex-column mt-1\"\r\n            [currSchema]=\"currTreeNode\" [colList]=\"colList\" [controlType]=\"controlType\"\r\n            (tabsSelectChange)=\"handleTabsSelectChange($event)\">\r\n          </schema-editor>\r\n          <charts-schema-editor *ngIf=\"controlType=='charts'\" class=\"d-flex flex-fill flex-column mt-1\"\r\n            [currSchema]=\"currTreeNode\" [colList]=\"colList\" [controlType]=\"controlType\"\r\n            (tabsSelectChange)=\"handleTabsSelectChange($event)\"></charts-schema-editor>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <div class=\"btn-toolbar btn-group-lg\" id=\"page-header-toolbar\">\r\n        <button class=\"btn btn-primary mr-1\" id=\"button-edit\" (click)=\"handleSaveClick()\">\r\n          {{localizeService.getValue('ideCmp.schemaManager.btnSave')}}</button>\r\n        <button class=\"btn btn-secondary mr-1\" id=\"button-edit\" (click)=\"handleSaveAsClick()\">\r\n          {{localizeService.getValue('ideCmp.schemaManager.btnSaveAs')}}</button>\r\n        <button class=\"btn btn-secondary mr-1\" id=\"button-edit\" (click)=\"handleRemoveClick()\">\r\n          {{localizeService.getValue('ideCmp.schemaManager.btnDelete')}}</button>\r\n        <button class=\"btn btn-secondary\" id=\"button-edit\" (click)=\"handleSaveAndCloseClick()\">\r\n          {{localizeService.getValue('ideCmp.schemaManager.btnSaveAsClose')}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<div class=\"farris-main-area flex-column bg-white\" *ngIf=\"currentmode\">\r\n  <div class=\"d-flex flex-row flex-fill farris-overflow-hidden\">\r\n    <div class=\"col-3 p-0 m-1 farris-overflow-hidden\" (resized)=\"onResized($event)\">\r\n      <farris-treetable #schemaTree [data]=\"schemaTreeData\" [idField]=\"'id'\" [showCheckAll]=\"false\"\r\n        [resizableColumns]=\"true\" [fit]=\"true\" [showHeader]=\"false\" [striped]=\"false\" [fixedHeader]=\"true\"\r\n        [width]=\"size.width\" [height]=\"size.height\" (nodeSelected)=\"handleTreeNodeSelected($event)\">\r\n        <tt-column [field]=\"'schemaName'\" [width]=\"100\" [align]=\"'left'\" [hAlign]=\"'center'\"></tt-column>\r\n      </farris-treetable>\r\n    </div>\r\n    <div class=\"d-flex flex-column flex-fill mt-1 mb-1 mr-1\">\r\n      <farris-panel class=\"w-100\" defaultExpand=\"defaultExpand\">\r\n        <farris-panel-item [title]=\"localizeService.getValue('ideCmp.schemaManager.basicInfoName')\"\r\n          [value]=\"'schemaInfo'\">\r\n          <ng-template #contentTempl>\r\n            <div class=\"farris-header p-1\">\r\n              <div class=\"form-row\">\r\n                <div class=\"col-8 col-md-8 col-lg-8\">\r\n                  <div class=\"farris-group-wrap form-inline farris-form-inline m-1\">\r\n                    <div class=\"form-group farris-group-wrap\">\r\n                      <label class=\"col-form-label\" style=\"min-width: 0;\" for=\"schema_name_id\">\r\n                        <span\r\n                          class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.schemeName')}}:</span>\r\n                      </label>\r\n                      <div class=\"farris-input-wrap\">\r\n                        <input-group id=\"schema_name_id\" [(ngModel)]=\"schemaName\"></input-group>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-row\">\r\n                <div class=\"col-12 col-md-12 col-lg-12\">\r\n                  <div class=\"farris-group-wrap form-inline farris-form-inline m-1\">\r\n                    <div class=\"form-group farris-group-wrap\">\r\n                      <label class=\"col-form-label\" style=\"min-width: 0;\" for=\"range_type_id\">\r\n                        <span\r\n                          class=\"farris-label-text\">{{localizeService.getValue('ideCmp.schemaManager.schemeType')}}:</span>\r\n                      </label>\r\n                      <div class=\"farris-input-wrap farris-checkradio-hor\">\r\n                        <div class=\"custom-control custom-radio mb-0\">\r\n                          <input type=\"radio\" id=\"{{publicSchema}}\" name=\"custom-radio1\" class=\"custom-control-input\"\r\n                            [checked]=\"isSchemaType==0\">\r\n                          <label class=\"custom-control-label\" for=\"{{publicSchema}}\"\r\n                            (click)=\"handleSchemaTypeSelect(0)\">{{localizeService.getValue('ideCmp.schemaManager.schemeTypePublic')}}</label>\r\n                        </div>\r\n                        <div class=\"custom-control custom-radio mb-0\">\r\n                          <input type=\"radio\" id=\"{{orgSchema}}\" name=\"custom-radio1\" class=\"custom-control-input\"\r\n                            [checked]=\"isSchemaType==2\">\r\n                          <label class=\"custom-control-label\" for=\"{{orgSchema}}\"\r\n                            (click)=\"handleSchemaTypeSelect(2)\">{{localizeService.getValue('ideCmp.schemaManager.schemeTypeOrg')}}</label>\r\n                        </div>\r\n                        <div class=\"custom-control custom-radio mb-0\">\r\n                          <input type=\"radio\" id=\"{{personSchema}}\" name=\"custom-radio1\" class=\"custom-control-input\"\r\n                            [checked]=\"isSchemaType==1\">\r\n                          <label class=\"custom-control-label\" for=\"{{personSchema}}\"\r\n                            (click)=\"handleSchemaTypeSelect(1)\">{{localizeService.getValue('ideCmp.schemaManager.schemeTypePersonal')}}</label>\r\n                        </div>\r\n                        <div class=\"custom-control custom-checkbox mb-0\">\r\n                          <input type=\"checkbox\" class=\"custom-control-input\" id=\"{{defaultSchema}}\"\r\n                            [(ngModel)]=\"isDefault\">\r\n                          <label class=\"custom-control-label\"\r\n                            for=\"{{defaultSchema}}\">{{localizeService.getValue('ideCmp.schemaManager.schemeDefault')}}</label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ng-template>\r\n        </farris-panel-item>\r\n      </farris-panel>\r\n      <div class=\"farris-form d-flex flex-fill flex-column farris-overflow-hidden\">\r\n        <schema-editor *ngIf=\"controlType!='charts'\" class=\"d-flex flex-fill flex-column mt-1\"\r\n          [currSchema]=\"currTreeNode\" [colList]=\"colList\" [controlType]=\"controlType\"\r\n          (tabsSelectChange)=\"handleTabsSelectChange($event)\">\r\n        </schema-editor>\r\n        <charts-schema-editor *ngIf=\"controlType=='charts'\" class=\"d-flex flex-fill flex-column mt-1\"\r\n          [currSchema]=\"currTreeNode\" [colList]=\"colList\" [controlType]=\"controlType\"\r\n          (tabsSelectChange)=\"handleTabsSelectChange($event)\"></charts-schema-editor>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <div class=\"btn-toolbar btn-group-lg\" id=\"page-header-toolbar\">\r\n      <button class=\"btn btn-primary mr-1\" id=\"button-edit\" (click)=\"handleSaveClick()\">\r\n        {{localizeService.getValue('ideCmp.schemaManager.btnSave')}}</button>\r\n      <button class=\"btn btn-secondary mr-1\" id=\"button-edit\" (click)=\"handleSaveAsClick()\">\r\n        {{localizeService.getValue('ideCmp.schemaManager.btnSaveAs')}}</button>\r\n      <button class=\"btn btn-secondary mr-1\" id=\"button-edit\" (click)=\"handleRemoveClick()\">\r\n        {{localizeService.getValue('ideCmp.schemaManager.btnDelete')}}</button>\r\n      <button class=\"btn btn-secondary\" id=\"button-edit\" (click)=\"handleSaveAndCloseClick()\" *ngIf=\"!currentmode\">\r\n        {{localizeService.getValue('ideCmp.schemaManager.btnSaveAsClose')}}</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #enumFooter>\r\n  <button type=\"button\" class=\"btn btn-secondary\"\r\n    (click)=\"clickCancel()\">{{localizeService.getValue('ideCmp.schemaManager.btnCancel')}}</button>\r\n  <button type=\"button\" class=\"btn btn-primary\"\r\n    (click)=\"handleSaveAndCloseClick()\">{{localizeService.getValue('ideCmp.schemaManager.btnOK')}}</button>\r\n</ng-template>\r\n",
                styles: [".schema-position{position:absolute;top:0;left:0;right:0}"]
            }] }
];
/** @nocollapse */
SchemaManagerComponent.ctorParameters = () => [
    { type: SchemaService },
    { type: MessagerService },
    { type: NotifyService },
    { type: Injector, decorators: [{ type: Optional }] }
];
SchemaManagerComponent.propDecorators = {
    queryId: [{ type: Input }],
    groupType: [{ type: Input }],
    schemaInfo: [{ type: Input }],
    colList: [{ type: Input }],
    controlType: [{ type: Input }],
    showPreSchema: [{ type: Input }],
    editorParams: [{ type: Input }],
    isMultiForm: [{ type: Input }],
    schemaTree: [{ type: ViewChild, args: ['schemaTree',] }],
    modalFooter: [{ type: ViewChild, args: ['enumFooter',] }],
    schemaEditor: [{ type: ViewChild, args: [SchemaEditorComponent,] }],
    chartsSchemaEditor: [{ type: ViewChild, args: [ChartsSchemaEditorComponent,] }],
    farrisPanelComponent: [{ type: ViewChild, args: [FarrisPanelComponent,] }],
    farrisDialog: [{ type: ViewChild, args: ['farrisDialog',] }],
    schemaSelected: [{ type: Output }],
    saveSchema: [{ type: Output }],
    saveAsSchema: [{ type: Output }],
    removeSchema: [{ type: Output }],
    saveAndCloseSchema: [{ type: Output }],
    dialogBeforeClose: [{ type: Output }],
    closeModal: [{ type: Output }],
    submitModal: [{ type: Output }],
    queryRelativeUrl: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class PrintIntegrationService {
    /**
     * @param {?} printIntegrationManager
     */
    constructor(printIntegrationManager) {
        this.printIntegrationManager = printIntegrationManager;
        this.printIntegrationInfo = new Subject();
        this.printIntegrationManager.printIntegrationInfoChange.subscribe((/**
         * @param {?} value
         * @return {?}
         */
        value => {
            this.printIntegrationInfo.next(value);
        }));
    }
    /**
     * @param {?} schemaId
     * @param {?} queryId
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    getPrintIntegration(schemaId, queryId, queryRelativeUrl) {
        return this.printIntegrationManager.getPrintIntegration(schemaId, queryId, queryRelativeUrl);
    }
    /**
     * @param {?} printIntegrationInfo
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    savePrintIntegration(printIntegrationInfo, queryRelativeUrl) {
        return this.printIntegrationManager.savePrintIntegration(printIntegrationInfo, queryRelativeUrl);
    }
    /**
     * @param {?} schemaId
     * @param {?} queryID
     * @param {?} queryRelativeUrl
     * @return {?}
     */
    deletPrintIntegration(schemaId, queryID, queryRelativeUrl) {
        return this.printIntegrationManager.deletePrintIntegration(schemaId, queryID, queryRelativeUrl);
    }
}
PrintIntegrationService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
PrintIntegrationService.ctorParameters = () => [
    { type: PrintIntegrationManagerService }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class PrintIntegrationComponent {
    /**
     * @param {?} printIntegrationService
     * @param {?} cache
     * @param {?} injector
     */
    constructor(printIntegrationService, cache, injector) {
        this.printIntegrationService = printIntegrationService;
        this.cache = cache;
        this.injector = injector;
        // 是否嵌入式表单
        this.printIntegration = new EventEmitter();
        this.printPreview = new EventEmitter();
        this.dialogBeforeClose = new EventEmitter();
        this.printIntegrationData = {
            distributionSelectValue: 0,
            pageSizeSelectValue: 0,
            marginSelectValue: 0,
            zoomSize: 0
        };
        this.zoomSize = 100; // 缩放
        this.distributionData = [
            { name: '横向', value: 1 },
            { name: '纵向', value: 0 }
        ];
        this.pageSizeData = [
            { name: '信纸', value: 1 },
            { name: 'Tabloid', value: 3 },
            { name: '法律专用纸', value: 5 },
            { name: 'Statement', value: 6 },
            { name: 'A3', value: 8 },
            { name: 'A4', value: 9 },
            { name: 'A5', value: 11 },
            { name: 'B4 (JIS)', value: 12 },
            { name: 'B5 (JIS)', value: 13 }
        ];
        this.marginData = [
            { name: '默认', value: 0, margin: { marginTop: 1, marginLeft: 1, marginBottom: 1, marginRight: 1 } },
            { name: '无', value: 1, margin: { marginTop: 0, marginLeft: 0, marginBottom: 0, marginRight: 0 } },
            { name: '最小值', value: 2, margin: { marginTop: 0, marginLeft: 0, marginBottom: 0, marginRight: 0 } },
            { name: '自定义', value: 3, margin: { marginTop: 1, marginLeft: 1, marginBottom: 1, marginRight: 1 } }
        ];
        this.size = {};
        this.marginTop = 1;
        this.marginLeft = 1;
        this.marginBottom = 1;
        this.marginRight = 1;
        // 纸张尺寸
        this.marginSelectValue = 0; // 边距
        // 边距
        this.currentMarginData = this.marginData[0];
        this.isShowCustom = false;
        this.svgPrint = true;
        this.handlebeforeClose = (/**
         * @return {?}
         */
        () => {
            /** @type {?} */
            const self = this;
            self.currentMarginData.margin.marginTop = this.marginTop;
            self.currentMarginData.margin.marginLeft = this.marginLeft;
            self.currentMarginData.margin.marginBottom = this.marginBottom;
            self.currentMarginData.margin.marginRight = this.marginRight;
            self.printIntegrationData = {
                distributionSelectValue: self.findItem(self.distributionData, self.distributionSelectValue),
                pageSizeSelectValue: self.findItem(self.pageSizeData, self.pageSizeSelectValue),
                marginSelectValue: self.currentMarginData,
                // self.findItem(self.marginData, self.marginSelectValue),
                zoomSize: self.zoomSize
            };
            if (self.printIntegrationData) {
                // tslint:disable-next-line:max-line-length
                self.saveDatas = { Id: EventBus.guid(), printintegration: JSON.stringify(self.printIntegrationData), queryid: self.queryId, schemaId: self.schemaId };
                self.printIntegrationService.savePrintIntegration(self.saveDatas, self.queryRelativeUrl)
                    .subscribe();
            }
            return of(true);
        });
        if (this.injector) {
            this.localizeService = this.injector.get(LocalizeService);
            this.msgService = this.injector.get(MessagerService);
            this.distributionData = this.localizeService.getValue('ideCmp.printOption.distributionData');
            this.pageSizeData = this.localizeService.getValue('ideCmp.printOption.pageSizeData');
            this.marginData = this.localizeService.getValue('ideCmp.printOption.marginData');
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    handleDialogShow() {
        if (this.queryId) {
            this.schemaId = this.cache.get('schema_schemaid' + this.queryId);
            this.printIntegrationService.getPrintIntegration(this.schemaId, this.queryId, this.queryRelativeUrl).subscribe((/**
             * @param {?} value
             * @return {?}
             */
            value => {
                if (value) {
                    // this.printIntegrationData = value ? value : [];
                    this.distributionSelectValue = value.printintegration.distributionSelectValue.value;
                    this.pageSizeSelectValue = value.printintegration.pageSizeSelectValue.value;
                    this.marginSelectValue = value.printintegration.marginSelectValue.value;
                    this.currentMarginData = value.printintegration.marginSelectValue;
                    this.marginTop = value.printintegration.marginSelectValue.margin.marginTop;
                    this.marginLeft = value.printintegration.marginSelectValue.margin.marginLeft;
                    this.marginBottom = value.printintegration.marginSelectValue.margin.marginBottom;
                    this.marginRight = value.printintegration.marginSelectValue.margin.marginRight;
                    this.zoomSize = value.printintegration.zoomSize;
                }
                else {
                    this.distributionSelectValue = this.distributionData[0].value;
                    this.pageSizeSelectValue = this.pageSizeData[5].value;
                    this.marginSelectValue = this.marginData[0].value;
                    this.currentMarginData = this.marginData[0];
                }
                this.farrisDialog.show();
            }));
        }
        this.farrisDialog.show();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onResized(event) {
        this.size.height = event.newHeight;
        this.size.width = event.newWidth;
    }
    /**
     * @param {?} type
     * @return {?}
     */
    clickConfirm(type) {
        /** @type {?} */
        const self = this;
        if (!self.currentMarginData) {
            self.msgService.warning(self.localizeService.getValue('ideCmp.printOption.message.validate.margin'));
            return;
        }
        self.currentMarginData.margin.marginTop = this.marginTop;
        self.currentMarginData.margin.marginLeft = this.marginLeft;
        self.currentMarginData.margin.marginBottom = this.marginBottom;
        self.currentMarginData.margin.marginRight = this.marginRight;
        self.printIntegrationData = {
            distributionSelectValue: self.findItem(self.distributionData, self.distributionSelectValue),
            pageSizeSelectValue: self.findItem(self.pageSizeData, self.pageSizeSelectValue),
            marginSelectValue: self.currentMarginData,
            // self.findItem(self.marginData, self.marginSelectValue),
            zoomSize: self.zoomSize
        };
        if (!self.printIntegrationData.distributionSelectValue) {
            self.msgService.warning(self.localizeService.getValue('ideCmp.printOption.message.validate.distribution'));
            return;
        }
        if (!self.printIntegrationData.pageSizeSelectValue) {
            self.msgService.warning(self.localizeService.getValue('ideCmp.printOption.message.validate.pageSize'));
            return;
        }
        if (type === 'preview') {
            self.printPreview.emit(self.printIntegrationData);
        }
        else {
            self.printIntegration.emit(self.printIntegrationData);
        }
        self.farrisDialog.close();
    }
    /**
     * @param {?} value
     * @return {?}
     */
    onValueChange(value) {
        this.currentMarginData = this.marginData[value.value];
        if (value.value === 3) {
            this.farrisDialog.height = 350;
        }
        else {
            this.farrisDialog.height = 220;
        }
    }
    /**
     * @private
     * @param {?} list
     * @param {?} id
     * @return {?}
     */
    findItem(list, id) {
        /** @type {?} */
        let item = null;
        if (list && list.length) {
            // tslint:disable-next-line:prefer-for-of
            for (let i = 0; i < list.length; i++) {
                if (list[i].value === id) {
                    item = list[i];
                    break;
                }
            }
        }
        return item;
    }
    /**
     * @param {?} type
     * @param {?} state
     * @return {?}
     */
    handleHover(type, state) {
        this.svgPrint = state === 1;
    }
}
PrintIntegrationComponent.decorators = [
    { type: Component, args: [{
                selector: 'print-integration',
                template: "<div class=\"btn-group\" fDropdown>\r\n  <button id=\"printBtn\" class=\"btn btn-secondary btn-outline-link btn-icontext f-rt-btn f-btn-ml border-0\" type=\"button\" (click)=\"handleDialogShow()\" (mouseenter)=\"handleHover(0, 0)\" (mouseleave)=\"handleHover(0, 1)\">\r\n    <span class=\"f-icon\" role=\"presentation\">\r\n      <img *ngIf=\"svgPrint\" src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTggMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmRheWluPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZGVmcz48cGF0aCBkPSdNMTQuNjI1LDEzLjgyMTU1IEwxNC42MjUsMTcuMSBMMy4zNzUsMTcuMSBMMy4zNzUsMTMuODIxNTUgTDAsMTMuODIxNTUgTDAsNi43MTgwOTk5OSBDMCw2LjU3MzYgMC4wNTk0LDYuNDM0MTk5OTkgMC4xNjQ3LDYuMzMxMzUgQzAuMjY4OTQyOTk5LDYuMjI5NDQxNTEgMC40MTI0Njc5MzksNi4xNzE3ODYxOSAwLjU2MjUwMDAwNyw2LjE3MTU1MDAxIEwxNy40Mzc1LDYuMTcxNTUwMDEgQzE3LjU4NjksNi4xNzE1NTAwMSAxNy43Myw2LjIyOTM1IDE3LjgzNTMsNi4zMzEzNSBDMTcuOTQwNiw2LjQzMzM1IDE4LDYuNTcyNzQ5OTkgMTgsNi43MTgwOTk5OSBMMTgsMTMuODIxNTUgTDE0LjYyNSwxMy44MjE1NSBaIE01LjYyNSwxMS42MzUzNSBMNS42MjUsMTQuOTE0NjUgTDEyLjM3NSwxNC45MTQ2NSBMMTIuMzc1LDExLjYzNDUgTDUuNjI1LDExLjYzNDUgTDUuNjI1LDExLjYzNTM1IFogTTE1LjE4NzUsMTAuMDA5MyBDMTUuNDg1NCwxMC4wMDkzIDE1Ljc3MjUsOS44OTQ1NTAwMSAxNS45ODMxLDkuNjg5NyBDMTYuMTkzNyw5LjQ4NDg0OTk5IDE2LjMxMjUsOS4yMDY4OTk5OSAxNi4zMTI1LDguOTE2MTk5OTkgQzE2LjMxMjUsOC42MjcxOTk5OSAxNi4xOTM3LDguMzQ5MjQ5OTkgMTUuOTgzMSw4LjE0MzU0OTk5IEMxNS43NzQ1NTQ0LDcuOTM5ODE0ODIgMTUuNDg3NTQzLDcuODI0NTE5NjQgMTUuMTg3NSw3LjgyMzk1MDAxIEMxNC44ODk2LDcuODIzOTUwMDEgMTQuNjAyNSw3LjkzODcwMDAxIDE0LjM5MTksOC4xNDM1NDk5OSBDMTQuMTc5NzgwMSw4LjM1MTEyMDg2IDE0LjA2MTYyNTUsOC42Mjg1NzI0NSAxNC4wNjI0OTUyLDguOTE3MDUgQzE0LjA2MjQ5NTIsOS4yMDYwNTAwMSAxNC4xODEzLDkuNDg0ODQ5OTkgMTQuMzkxOSw5LjY4OTcgQzE0LjYwMzQsOS44OTM3IDE0Ljg4OTYsMTAuMDA5MyAxNS4xODc1LDEwLjAwOTMgTDE1LjE4NzUsMTAuMDA5MyBaJyBpZD0ncGF0aC0xJz48L3BhdGg+PC9kZWZzPjxnIGlkPSfpobXpnaItMScgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9J+S6pOS6kuaWueahiDEt5bi46KeE5oCB5aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTYxLjAwMDAwMCwgLTE5NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTE1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgMTgyLjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDE1NS4wMDAwMDAsIDEyLjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTblpIfku70nPjxtYXNrIGlkPSdtYXNrLTInIGZpbGw9J3doaXRlJz48dXNlIHhsaW5rOmhyZWY9JyNwYXRoLTEnPjwvdXNlPjwvbWFzaz48dXNlIGlkPSflvaLnirYnIGZpbGw9JyM4QTk4QkUnIHhsaW5rOmhyZWY9JyNwYXRoLTEnPjwvdXNlPjwvZz48cGF0aCBkPSdNMy44MjUsMS44IEwxNC4xNzUsMS44IEMxNC40MjM1MjgxLDEuOCAxNC42MjUsMi4wMDE0NzE4NiAxNC42MjUsMi4yNSBMMTQuNjI1LDUuMDc4NDQ5OTkgTDE0LjYyNSw1LjA3ODQ0OTk5IEwzLjM3NSw1LjA3ODQ0OTk5IEwzLjM3NSwyLjI1IEMzLjM3NSwyLjAwMTQ3MTg2IDMuNTc2NDcxODYsMS44IDMuODI1LDEuOCBaJyBpZD0n55+p5b2iJyBmaWxsPScjN0E4OUIyJyBvcGFjaXR5PScwLjUnPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9zdmc+\" style=\"width: 16px; height: 16px; display: block;\" />\r\n      <img *ngIf=\"!svgPrint\" src=\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxN3B4JyB2aWV3Qm94PScwIDAgMTggMTcnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmRheWluMjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHBhdGggZD0nTTE0LjYyNSwxMy44MjE1NSBMMTQuNjI1LDE3LjEgTDMuMzc1LDE3LjEgTDMuMzc1LDEzLjgyMTU1IEwwLDEzLjgyMTU1IEwwLDYuNzE4MDk5OTkgQzAsNi41NzM2IDAuMDU5NCw2LjQzNDE5OTk5IDAuMTY0Nyw2LjMzMTM1IEMwLjI2ODk0Mjk5OSw2LjIyOTQ0MTUxIDAuNDEyNDY3OTM5LDYuMTcxNzg2MTkgMC41NjI1MDAwMDcsNi4xNzE1NTAwMSBMMTcuNDM3NSw2LjE3MTU1MDAxIEMxNy41ODY5LDYuMTcxNTUwMDEgMTcuNzMsNi4yMjkzNSAxNy44MzUzLDYuMzMxMzUgQzE3Ljk0MDYsNi40MzMzNSAxOCw2LjU3Mjc0OTk5IDE4LDYuNzE4MDk5OTkgTDE4LDEzLjgyMTU1IEwxNC42MjUsMTMuODIxNTUgWiBNNS42MjUsMTEuNjM1MzUgTDUuNjI1LDE0LjkxNDY1IEwxMi4zNzUsMTQuOTE0NjUgTDEyLjM3NSwxMS42MzQ1IEw1LjYyNSwxMS42MzQ1IEw1LjYyNSwxMS42MzUzNSBaIE0xNS4xODc1LDEwLjAwOTMgQzE1LjQ4NTQsMTAuMDA5MyAxNS43NzI1LDkuODk0NTUwMDEgMTUuOTgzMSw5LjY4OTcgQzE2LjE5MzcsOS40ODQ4NDk5OSAxNi4zMTI1LDkuMjA2ODk5OTkgMTYuMzEyNSw4LjkxNjE5OTk5IEMxNi4zMTI1LDguNjI3MTk5OTkgMTYuMTkzNyw4LjM0OTI0OTk5IDE1Ljk4MzEsOC4xNDM1NDk5OSBDMTUuNzc0NTU0NCw3LjkzOTgxNDgyIDE1LjQ4NzU0Myw3LjgyNDUxOTY0IDE1LjE4NzUsNy44MjM5NTAwMSBDMTQuODg5Niw3LjgyMzk1MDAxIDE0LjYwMjUsNy45Mzg3MDAwMSAxNC4zOTE5LDguMTQzNTQ5OTkgQzE0LjE3OTc4MDEsOC4zNTExMjA4NiAxNC4wNjE2MjU1LDguNjI4NTcyNDUgMTQuMDYyNDk1Miw4LjkxNzA1IEMxNC4wNjI0OTUyLDkuMjA2MDUwMDEgMTQuMTgxMyw5LjQ4NDg0OTk5IDE0LjM5MTksOS42ODk3IEMxNC42MDM0LDkuODkzNyAxNC44ODk2LDEwLjAwOTMgMTUuMTg3NSwxMC4wMDkzIEwxNS4xODc1LDEwLjAwOTMgWicgaWQ9J3BhdGgtMSc+PC9wYXRoPjwvZGVmcz48ZyBpZD0n6aG16Z2iLTEnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnPjxnIGlkPSflm77moIfpgInkuK3popzoibLliIflm77lpIfku70nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xNjEuMDAwMDAwLCAtMTk1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCAxODIuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0xNCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTU1LjAwMDAwMCwgMTIuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0xNuWkh+S7vSc+PG1hc2sgaWQ9J21hc2stMicgZmlsbD0nd2hpdGUnPjx1c2UgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PC9tYXNrPjx1c2UgaWQ9J+W9oueKticgZmlsbD0nIzU4QTFGRScgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PC9nPjxwYXRoIGQ9J00zLjgyNSwxLjggTDE0LjE3NSwxLjggQzE0LjQyMzUyODEsMS44IDE0LjYyNSwyLjAwMTQ3MTg2IDE0LjYyNSwyLjI1IEwxNC42MjUsNS4wNzg0NDk5OSBMMTQuNjI1LDUuMDc4NDQ5OTkgTDMuMzc1LDUuMDc4NDQ5OTkgTDMuMzc1LDIuMjUgQzMuMzc1LDIuMDAxNDcxODYgMy41NzY0NzE4NiwxLjggMy44MjUsMS44IFonIGlkPSfnn6nlvaInIGZpbGw9JyM1OEExRkUnIG9wYWNpdHk9JzAuNSc+PC9wYXRoPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=\" style=\"width: 16px; height: 16px; display: block;\" />\r\n    </span>\r\n    <!-- <span *ngIf=\"isMultiForm\" class=\"f-icon f-icon-print\" role=\"presentation\"></span> -->\r\n    <span *ngIf=\"!isMultiForm\">&nbsp;{{localizeService.getValue('ideCmp.printOption.print')}}</span>\r\n  </button>\r\n</div>\r\n<farris-dialog #farrisDialog [title]=\"localizeService.getValue('ideCmp.printOption.dailogName')\" [showButtons]=\"false\" [width]=\"450\" [height]=\"220\"\r\n  [beforeClose]=\"handlebeforeClose\" (resized)=\"onResized($event)\">\r\n  <div class=\"flex-fill farris-split-section m-1 farris-overflow-hidden\">\r\n    <div class=\"farris-form farris-card-content-bg\">\r\n      <div class=\"form-row m-0\">\r\n        <fieldSet farrisFold>\r\n          <div class=\"d-flex flex-wrap mb-2\">\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"distributionSelectValue\" style=\"width: 5rem; min-width: 5rem;\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.printOption.layout')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"distributionSelectValue\" [(ngModel)]=\"distributionSelectValue\"\r\n                    [data]=\"distributionData\" [textField]=\"'name'\" [idField]=\"'value'\"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"pageSizeSelectValue\" style=\"width: 5rem; min-width: 5rem;\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.printOption.paperSize')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"pageSizeSelectValue\" [(ngModel)]=\"pageSizeSelectValue\" [data]=\"pageSizeData\"\r\n                    [textField]=\"'name'\" [idField]=\"'value'\"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"marginSelectValue\" style=\"width: 5rem; min-width: 5rem;\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.printOption.margin')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-combo-list id=\"marginSelectValue\" [(ngModel)]=\"marginSelectValue\" [data]=\"marginData\"\r\n                    [textField]=\"'name'\" [idField]=\"'value'\" (valueChange)=\"onValueChange($event)\"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\" *ngIf=\"marginSelectValue==3\">\r\n                <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                  <div class=\"form-group farris-form-group\">\r\n                    <label class=\"col-form-label\" for=\"marginSelectValue\" style=\"width: 5rem; min-width: 5rem;\">\r\n                      <span class=\"farris-label-text\"></span>\r\n                    </label>\r\n                    <div class=\"farris-input-wrap\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-4 offset-4\">\r\n                              <farris-number-spinner id=\"marginTop\" [(ngModel)]=\"marginTop\" [min]=\"0\"></farris-number-spinner>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"row p-3\">\r\n                            <div class=\"col-4\">\r\n                              <farris-number-spinner id=\"marginLeft\" [(ngModel)]=\"marginLeft\" [min]=\"0\"></farris-number-spinner>\r\n                            </div>\r\n                            <div class=\"col-4  offset-4\">\r\n                              <farris-number-spinner id=\"marginRight\" [(ngModel)]=\"marginRight\" [min]=\"0\"></farris-number-spinner>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"row\">\r\n                            <div class=\"col-4 offset-4\">\r\n                              <farris-number-spinner id=\"marginBottom\" [(ngModel)]=\"marginBottom\" [min]=\"0\"></farris-number-spinner>\r\n                            </div>\r\n                          </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12\">\r\n              <div class=\"farris-group-wrap form-inline farris-form-inline\">\r\n                <div class=\"form-group farris-form-group\">\r\n                  <label class=\"col-form-label\" for=\"zoomSize\" style=\"width: 5rem; min-width: 5rem;\">\r\n                    <span class=\"farris-label-text\">{{localizeService.getValue('ideCmp.printOption.zoom')}}:</span>\r\n                  </label>\r\n                  <div class=\"farris-input-wrap\">\r\n                    <farris-number-spinner id=\"zoomSize\" [(ngModel)]=\"zoomSize\" [min]=\"1\"></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-12 col-lg-12 text-right\">\r\n              <button type=\"button\" class=\"btn btn-primary mr-2\" (click)=\"clickConfirm('print')\">{{localizeService.getValue('ideCmp.printOption.pdfDownload')}}</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"clickConfirm('preview')\">{{localizeService.getValue('ideCmp.printOption.printPreview')}}</button>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
PrintIntegrationComponent.ctorParameters = () => [
    { type: PrintIntegrationService },
    { type: CacheService },
    { type: Injector, decorators: [{ type: Optional }] }
];
PrintIntegrationComponent.propDecorators = {
    queryId: [{ type: Input }],
    controlType: [{ type: Input }],
    isMultiForm: [{ type: Input }],
    printIntegration: [{ type: Output }],
    printPreview: [{ type: Output }],
    queryRelativeUrl: [{ type: Input }],
    dialogBeforeClose: [{ type: Output }],
    farrisDialog: [{ type: ViewChild, args: ['farrisDialog',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class ResizedEvent {
    /**
     * @param {?} element
     * @param {?} newWidth
     * @param {?} newHeight
     * @param {?} oldWidth
     * @param {?} oldHeight
     */
    constructor(element, newWidth, newHeight, oldWidth, oldHeight) {
        this.element = element;
        this.newWidth = newWidth;
        this.newHeight = newHeight;
        this.oldWidth = oldWidth;
        this.oldHeight = oldHeight;
    }
}
class ResizedDirective {
    /**
     * @param {?} element
     */
    constructor(element) {
        this.element = element;
        // tslint:disable-next-line:no-output-rename
        this.resized = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        // tslint:disable-next-line:no-unused-expression
        new ResizeSensor(this.element.nativeElement, (/**
         * @param {?} x
         * @return {?}
         */
        x => this.onResized()));
        this.onResized();
    }
    /**
     * @private
     * @return {?}
     */
    onResized() {
        /** @type {?} */
        const newWidth = this.element.nativeElement.clientWidth;
        /** @type {?} */
        const newHeight = this.element.nativeElement.clientHeight;
        if (newWidth === this.oldWidth && newHeight === this.oldHeight) {
            return;
        }
        /** @type {?} */
        const event = new ResizedEvent(this.element, newWidth, newHeight, this.oldWidth, this.oldHeight);
        this.oldWidth = this.element.nativeElement.clientWidth;
        this.oldHeight = this.element.nativeElement.clientHeight;
        this.resized.next(event);
    }
}
ResizedDirective.decorators = [
    { type: Directive, args: [{
                selector: '[resized]'
            },] }
];
/** @nocollapse */
ResizedDirective.ctorParameters = () => [
    { type: ElementRef }
];
ResizedDirective.propDecorators = {
    resized: [{ type: Output, args: ['resized',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
class IdeCmpModule {
}
IdeCmpModule.decorators = [
    { type: NgModule, args: [{
                declarations: [
                    JointSearchComponent,
                    ParasMappingComponent,
                    PopupAnchorDirective,
                    ChartsSchemaEditorComponent,
                    ChartsTypeComponent,
                    ChartsDataComponent,
                    ChartsStyleComponent,
                    SchemaManagerComponent,
                    SchemaEditorComponent,
                    ColumnEditorComponent,
                    TitleEditorComponent,
                    StyleEditorComponent,
                    OtherEditorComponent,
                    PrintIntegrationComponent,
                    ResizedDirective
                ],
                imports: [
                    CommonModule,
                    FormsModule,
                    ReactiveFormsModule,
                    ComboListModule,
                    InputGroupModule,
                    NumberSpinnerModule,
                    FarrisDialogModule,
                    NotifyModule,
                    FDropdownDirectiveTypeModule,
                    FlexLayoutModule,
                    TreeTableModule,
                    PerfectScrollbarModule,
                    RtfAppHelpModule,
                    ColorPickerModule,
                    ScrollbarModule,
                    DatagridEditorsModule,
                    DatagridModule.forRoot([
                        ...EditorProviders
                    ]),
                    FarrisTabsModule,
                    RtfAppHelpModule$1,
                    // LocalizeModule.forRoot(),
                    LanguageTextboxModule,
                    FarrisSectionModule,
                    ExpressionModule,
                    FarrisPanelModule
                ],
                providers: [
                    ParasMappingService,
                    JointSearchService,
                    SchemaService,
                    PrintIntegrationService,
                    ExpressionService,
                ],
                exports: [
                    JointSearchComponent,
                    PopupAnchorDirective,
                    ParasMappingComponent,
                    ChartsSchemaEditorComponent,
                    ChartsTypeComponent,
                    ChartsDataComponent,
                    ChartsStyleComponent,
                    SchemaManagerComponent,
                    SchemaEditorComponent,
                    ColumnEditorComponent,
                    TitleEditorComponent,
                    StyleEditorComponent,
                    OtherEditorComponent,
                    PrintIntegrationComponent,
                    ResizedDirective
                ]
            },] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

export { JointSearchComponent, ParasMappingComponent, PopupAnchorDirective, ChartsSchemaEditorComponent, ChartsTypeComponent, ChartsDataComponent, ChartsStyleComponent, SchemaManagerComponent, SchemaEditorComponent, ColumnEditorComponent, TitleEditorComponent, StyleEditorComponent, OtherEditorComponent, PrintIntegrationComponent, ParasMappingService, JointSearchService, SchemaService, PrintIntegrationService, ResizedEvent, ResizedDirective, IdeCmpModule };

//# sourceMappingURL=qdp-ide-cmp.js.map