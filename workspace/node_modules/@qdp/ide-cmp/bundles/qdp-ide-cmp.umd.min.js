!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("rxjs/Subject"),require("lodash-es"),require("@farris/command-services"),require("@ecp-caf/caf-common"),require("rxjs"),require("@qdp/common"),require("@qdp/localize"),require("@farris/ui-messager"),require("css-element-queries"),require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@farris/ui-input-group"),require("@farris/ui-flex-layout"),require("@farris/ui-dropdown"),require("@farris/ui-combo-list"),require("@farris/ui-dialog"),require("@farris/ui-notify"),require("@farris/ui-number-spinner"),require("@farris/ui-perfect-scrollbar"),require("@farris/ui-treetable"),require("@farris/ui-datagrid-editors"),require("@farris/ui-datagrid"),require("@farris/ui-tabs"),require("@farris/ui-language-textbox"),require("@farris/ui-section"),require("ngx-color-picker"),require("@gsp-sys/rtf-ui"),require("@gsp-sys/rtf-apphelp"),require("@farris/ui-panel"),require("@gsp-svc/expression")):"function"==typeof define&&define.amd?define("@qdp/ide-cmp",["exports","rxjs/Subject","lodash-es","@farris/command-services","@ecp-caf/caf-common","rxjs","@qdp/common","@qdp/localize","@farris/ui-messager","css-element-queries","@angular/core","@angular/common","@angular/forms","@farris/ui-input-group","@farris/ui-flex-layout","@farris/ui-dropdown","@farris/ui-combo-list","@farris/ui-dialog","@farris/ui-notify","@farris/ui-number-spinner","@farris/ui-perfect-scrollbar","@farris/ui-treetable","@farris/ui-datagrid-editors","@farris/ui-datagrid","@farris/ui-tabs","@farris/ui-language-textbox","@farris/ui-section","ngx-color-picker","@gsp-sys/rtf-ui","@gsp-sys/rtf-apphelp","@farris/ui-panel","@gsp-svc/expression"],i):i((e.qdp=e.qdp||{},e.qdp["ide-cmp"]={}),e.rxjs.Subject,e.lodashEs,e.commandServices,e.cafCommon,e.rxjs,e.common,e.localize,e.uiMessager,e.cssElementQueries,e.ng.core,e.ng.common,e.ng.forms,e.uiInputGroup,e.uiFlexLayout,e.uiDropdown,e.uiComboList,e.uiDialog,e.uiNotify,e.uiNumberSpinner,e.uiPerfectScrollbar,e.uiTreetable,e.uiDatagridEditors,e.uiDatagrid,e.uiTabs,e.uiLanguageTextbox,e.uiSection,e.ngxColorPicker,e.rtfUi,e.rtfApphelp,e.uiPanel,e.expression)}(this,function(e,a,d,n,s,l,o,c,r,t,u,i,h,p,m,g,M,f,D,v,y,N,b,T,S,z,w,x,I,L,j,O){"use strict";var C=function(){return(C=Object.assign||function(e){for(var i,t=1,a=arguments.length;t<a;t++)for(var r in i=arguments[t])Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);return e}).apply(this,arguments)};function A(e){var i="function"==typeof Symbol&&e[Symbol.iterator],t=0;return i?i.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function E(e,i){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,n=t.call(e),s=[];try{for(;(void 0===i||0<i--)&&!(a=n.next()).done;)s.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(t=n["return"])&&t.call(n)}finally{if(r)throw r.error}}return s}function k(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(E(arguments[i]));return e}var Q=function(){function e(e,i){var t=this;this.jointSearchManager=e,this.lcpService=i,this.jointSearchInfo=new l.Subject,this.jointSearchManager.jointsearchInfoChange.subscribe(function(e){t.jointSearchInfo.next(e)})}return e.prototype.getjointsearch=function(e,i,t){return this.jointSearchManager.getjointsearch(e,i,t)},e.prototype.savejointsearch=function(e,i){return this.jointSearchManager.savejointsearch(e,i)},e.prototype.deletejointsearch=function(e,i,t){return this.jointSearchManager.deletejointsearch(e,i,t)},e.prototype.getLanguageList=function(){return this.jointSearchManager.getLanguageList()},e.prototype.getCol=function(e,i){return this.lcpService.getCol(e,i)},e.decorators=[{type:u.Injectable}],e.ctorParameters=function(){return[{type:o.JointSearchManagerService},{type:o.LcpService}]},e}(),V=function(){function e(e,i,t,a){var r=this;this.renderer=e,this.resolver=i,this.jointSearchService=t,this.injector=a,this.closeModal=new u.EventEmitter,this.submitModal=new u.EventEmitter,this.editorParams={},this.formId="formff3ea474-cc65-23b0-cdb1-73c9146cea3b",this.modalConfig={title:"联查映射",width:900,height:800,showButtons:!0},this.functionSubDatas=[],this.functionParaDatas=[],this.size={},this.paraColumns=[],this.SubColumns=[],this.displaystyle=[{name:"右键联查",value:1},{name:"超链联查",value:2}],this.QueryInfoDatas=[],this.languages=[],this._currentConditionInput=null,this.functionParaDatasOfSub=[],this.handlebeforeClose=function(){return r.dg.endRowEdit(),r.dg1.endRowEdit(),l.of(!0)},this.injector&&(this.localizeService=this.injector.get(c.LocalizeService),this.language=this.localizeService.language,this.expressionService=this.injector.get(O.ExpressionService),this.modalConfig.title=this.localizeService.getValue("ideCmp.drillDown.drillDownName"),this.displaystyle=this.localizeService.getValue("ideCmp.drillDown.displayStyle"))}return e.prototype.ngOnDestroy=function(){},e.prototype.ngOnInit=function(){this.dropDownInitForIDE(),this.gridInit()},e.prototype.ngOnChanges=function(e){for(var i in e){var t=e[i].currentValue;if(null!=t)switch(i){case"editorParams":this.dropDownInitForIDE()}}},e.prototype.dropDownInitForIDE=function(){var t=this;t.formId="formff3ea474-cc65-23b0-cdb1-73c9146cea3b",t.editorParams&&t.editorParams.queryId&&(t.queryId=t.editorParams.queryId,t.sessionId=t.editorParams.sessionId,t.queryRelativeUrl=t.editorParams.queryRelativeUrl,t.qoManagerCode=t.editorParams.qoManagerCode,t.domJson=t.editorParams.domJson,t.viewModelFields=[],t.getViewModelFields(),t.jointSearchService.getLanguageList().subscribe(function(e){e&&e.length&&e.forEach(function(e){t.languages.push({code:e.code.toLowerCase(),name:e.description})}),t.jointSearchService.getjointsearch(t.formId,t.queryId,t.queryRelativeUrl).subscribe(function(e){if(null!=e){t.functionSubDatas=JSON.parse(e.joinSearch),t.functionParaDatas=JSON.parse(e.jointparam);for(var i=0;i<t.functionSubDatas.length;i++)if(2===t.functionSubDatas[i].jointserachdisplaystyle){t.dg.showColumn("linkfield");break}}});var i={};i.qoManagerCode=t.qoManagerCode,i.pageIndex=0,i.schemaId="",i.entityData="",i.extendCond="",t.jointSearchService.getCol(i,t.queryRelativeUrl).subscribe(function(e){e&&e.dynamicCols&&(t.dynamicCols=e.dynamicCols)})}))},e.prototype.gridInit=function(){var i=this,e=this,t={valueField:"value",textField:"name",data:this.displaystyle};this.SubColumns=[{field:"functioncode",width:160,title:e.localizeService.getValue("ideCmp.drillDown.columnHeader")[0],template:this.functioncodeTemp},{field:"functionname",width:100,title:e.localizeService.getValue("ideCmp.drillDown.columnHeader")[1],template:this.functionNameTemp},{field:"jointserachdisplaystyle",width:100,title:e.localizeService.getValue("ideCmp.drillDown.columnHeader")[3],formatter:{type:"enum",options:t},editor:{type:b.EditorTypes.COMBOLIST,options:{data:this.displaystyle,idField:"value",textField:"name",selectChange:this.selectChange.bind(this)}}},{field:"linkfield",width:100,title:e.localizeService.getValue("ideCmp.drillDown.columnHeader")[6],visible:!1,editor:{type:b.EditorTypes.TEXTBOX,options:{}}},{field:"visibleformula",width:100,title:e.localizeService.getValue("ideCmp.drillDown.columnHeader")[4],editor:{type:b.EditorTypes.INPUTGROUP,options:{groupText:'<i class="f-icon f-icon-lookup"></i>',clickHandle:function(e){i._currentConditionInput=e,i.inputCondExp()}}}}],this.paraColumns=[{field:"para",width:100,title:e.localizeService.getValue("ideCmp.drillDown.paramColumnHeader")[0],editor:{type:b.EditorTypes.TEXTBOX,options:{}}},{field:"paraname",width:100,title:e.localizeService.getValue("ideCmp.drillDown.paramColumnHeader")[1],editor:{type:b.EditorTypes.TEXTBOX,options:{}}},{field:"paravalue",width:100,title:e.localizeService.getValue("ideCmp.drillDown.paramColumnHeader")[2],editor:{type:b.EditorTypes.TEXTBOX,options:{}}},{field:"paravaluetype",width:100,title:e.localizeService.getValue("ideCmp.drillDown.paramColumnHeader")[3],editor:{type:b.EditorTypes.CHECKBOX,options:{}},formatter:{type:"boolean",options:{trueText:e.localizeService.getValue("ideCmp.drillDown.enumExpress")[0],falseText:e.localizeService.getValue("ideCmp.drillDown.enumExpress")[1]}}}]},e.prototype.selectChange=function(e){var i=this;if(e.value.data.value-0==2?this.dg.showColumn("linkfield"):this.dg.hideColumn("linkfield"),this.dg.selectedRow){var t=d.findIndex(this.functionSubDatas,function(e){return e.id===i.dg.selectedRow.id});i.functionSubDatas[t].jointserachdisplaystyle=e.value.data.value,i.functionSubDatas=k(i.functionSubDatas)}},e.prototype.getViewModelFields=function(){if(this.domJson){var e=this.domJson.module.components.find(function(e){return"Frame"===e.componentType});this.recursiveGetViewModelFields(e,null)}},e.prototype.recursiveGetViewModelFields=function(e,i){var t,a,r,n;if(e)if("QdpFramework"===e.type){if(e&&e.params&&e.params.length)try{for(var s=A(e.params),l=s.next();!l.done;l=s.next()){var o=l.value;this.viewModelFields.push(o.ParamCode)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(a=s["return"])&&a.call(s)}finally{if(t)throw t.error}}}else e.contents&&e.contents.length&&this.recursiveGetViewModelFields(null,e.contents);else for(var c=0;c<i.length;c++)if("QdpFramework"===i[c].type){if(i[c]&&i[c].params&&i[c].params.length)try{for(var d=A(i[c].params),u=d.next();!u.done;u=d.next()){o=u.value;this.viewModelFields.push(o.ParamCode)}}catch(p){r={error:p}}finally{try{u&&!u.done&&(n=d["return"])&&n.call(d)}finally{if(r)throw r.error}}}else i[c].contents&&i[c].contents.length&&this.recursiveGetViewModelFields(null,i[c].contents)},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth},e.prototype.clickCancel=function(){this.closeModal.emit()},e.prototype.clickConfirm=function(){var e=this;e.dg.endRowEdit(),e.dg1.endRowEdit(),0<e.functionSubDatas.length?e.jointSearchService.savejointsearch({Id:o.EventBus.guid(),joinsearch:JSON.stringify(e.functionSubDatas),jointparam:JSON.stringify(e.functionParaDatas),queryid:e.queryId,FormId:e.formId},this.queryRelativeUrl).subscribe():(e.jointSearchService.deletejointsearch(e.formId,e.queryId,this.queryRelativeUrl).subscribe(),e.functionSubDatas=[],e.functionParaDatas=[],e.functionParaDatasOfSub=[]),this.selectedIndex=-1,this.submitModal.emit({value:this.functionSubDatas})},e.prototype.handleDialogShow=function(){this.farrisDialog.show()},e.prototype.addSubHandler=function(){this.functionSubDatas.push({id:o.EventBus.guid(),queryParaID:this.queryId,searchtype:"",functioncode:"",functionname:null,appEntrance:"",jointsearchid:"",jointserachdisplaystyle:1,linkfield:"",visibleformula:"",doubleclikjoinsearch:!0,destinationqueryId:""}),this.dg.refresh()},e.prototype.removeSubHandler=function(){var e,i=this;if(i.dg.selectedRow){var t=i.dg.selectedRow.id,a=d.findIndex(i.functionSubDatas,function(e){return e.id===t});if(i.functionSubDatas.splice(a,1),i.functionSubDatas=k(i.functionSubDatas),0===i.functionSubDatas.length)i.functionParaDatas=[],i.functionParaDatasOfSub=[];else{for(var r=[],n=0;n<this.functionParaDatas.length;n++)i.functionParaDatas[n].functionid!==t&&r.push(i.functionParaDatas[n]);(e=i.functionParaDatas).push.apply(e,k(r))}this.dg.refresh(),this.dg1.refresh()}},e.prototype.cancelSubHandler=function(e){this.dg.endRowEdit()},e.prototype.getFunctionName=function(e){var i="zh-chs";return gsp||gsp.cache||!gspframeworkService||(i=gspframeworkService.rtf.language.getLanguageCode().toLowerCase()),i||(i="zh-chs"),e[i]?e[i]:e},e.prototype.openFunc=function(){this.appHelp.showHelp(this.sessionId)},e.prototype.openApp=function(){this.rtfappHelp.showHelp(this.sessionId)},e.prototype.selectedFunc=function(e){var i,t,a=this;if(a.dg.selectedRow){var r=d.findIndex(a.functionSubDatas,function(e){return e.id===a.dg.selectedRow.id});a.functionSubDatas[r].functioncode=e[0].Id,a.functionSubDatas[r].functionname={"zh-chs":e[0].Name},a.functionSubDatas[r].searchtype="func";var n=e[0].InvokingConfig.staticParams;if(n){n=JSON.parse(n);try{for(var s=A(n),l=s.next();!l.done;l=s.next()){var o=l.value;"queryId"===o.name&&(a.functionSubDatas[r].destinationqueryId=o.value)}}catch(c){i={error:c}}finally{try{l&&!l.done&&(t=s["return"])&&t.call(s)}finally{if(i)throw i.error}}}a.functionSubDatas=k(a.functionSubDatas)}},e.prototype.selectedApp=function(e){var i,t,a=this;if(a.dg.selectedRow){var r=d.findIndex(this.functionSubDatas,function(e){return e.id===a.dg.selectedRow.id});a.functionSubDatas[r].functioncode=e.selectedInvok[0].appId,a.functionSubDatas[r].functionname={"zh-chs":e.selectedInvok[0].name},a.functionSubDatas[r].appEntrance=e.selectedInvok[0].appEntrance,a.functionSubDatas[r].searchtype="app";var n=e.selectedInvok[0].staticParams;if(n){n=JSON.parse(n);try{for(var s=A(n),l=s.next();!l.done;l=s.next()){var o=l.value;"queryId"===o.name&&(a.functionSubDatas[r].destinationqueryId=o.value)}}catch(c){i={error:c}}finally{try{l&&!l.done&&(t=s["return"])&&t.call(s)}finally{if(i)throw i.error}}}a.functionSubDatas=k(a.functionSubDatas)}},e.prototype.findIndex=function(e){var i=this;this.selectedIndex=e.data.id,this.functionParaDatasOfSub=this.functionParaDatas.filter(function(e){return e.functionid===i.selectedIndex}),this.dg.endRowEdit(),this.dg1.endRowEdit()},e.prototype.cancelEditedPara=function(e){this.dg1.endRowEdit()},e.prototype.inputCondExp=function(){var e,i,t=this,a=this;if(a.dg.selectedRow){var r=a.dg.selectedRow.id,n=d.findIndex(a.functionSubDatas,function(e){return e.id===r});if(this.viewModelFields)try{for(var s=A(this.viewModelFields),l=s.next();!l.done;l=s.next()){var o=l.value;this.expressionService.addContext({key:"@P_"+o,name:o,description:""})}}catch(c){e={error:c}}finally{try{l&&!l.done&&(i=s["return"])&&i.call(s)}finally{if(e)throw e.error}}this.dynamicCols&&this.dynamicCols.forEach(function(e){t.expressionService.addContext({key:"@R_"+e.bindField,name:e.name,description:""})}),a.expressionService.addExpressionText(a.functionSubDatas[n].visibleformula),a.expressionService.buildExpression().then(function(e){a.functionSubDatas[n].visibleformula=e,a.functionSubDatas=k(a.functionSubDatas),a._currentConditionInput&&a._currentConditionInput.formControl.setValue(e)})}},e.prototype.addParaHandler=function(){var i=this,e=this.selectedIndex;-1!==e&&(this.functionParaDatas.push({id:o.EventBus.guid(),functionid:e,para:"",paraname:"",paravalue:"",paravaluetype:!1}),this.functionParaDatasOfSub=this.functionParaDatas.filter(function(e){return e.functionid===i.selectedIndex})),this.dg1.refresh()},e.prototype.removeParaHandler=function(){var i=this,t=this;if(t.dg1.selectedRow){var e=d.findIndex(t.functionParaDatas,function(e){return e.id===t.dg1.selectedRow.id});t.functionParaDatas.splice(e,1),t.functionParaDatasOfSub=t.functionParaDatas.filter(function(e){return e.functionid===i.selectedIndex}),t.functionParaDatasOfSub=k(t.functionParaDatasOfSub)}},e.decorators=[{type:u.Component,args:[{selector:"joint-search",template:'<div class="f-utils-flex-column h-100">\r\n  <div class="f-utils-flex-column" style=" flex: 1 1 0">\r\n    <div class="f-utils-fill-flex-column farris-split-section m-1 farris-overflow-hidden">\r\n      <div class="farris-form farris-card-content-bg h-100" (resized)="onResized($event)">\r\n        <fieldSet style="height: 11% !important;">\r\n          <button id="addSubFilterRow" class="btn btn-primary mr-1 mb-1" (click)="addSubHandler()">{{localizeService.getValue(\'ideCmp.drillDown.btnAdd\')}}</button>\r\n          <button id="addSubFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="removeSubHandler()">{{localizeService.getValue(\'ideCmp.drillDown.btnDelete\')}}</button>\r\n          <button id="addSubFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="cancelSubHandler($event)">{{localizeService.getValue(\'ideCmp.drillDown.btnCancel\')}}</button>\r\n        </fieldSet>\r\n        <div class="f-utils-fill" style="height: 89% !important;">\r\n          <farris-datagrid id="gridFunctionSub2" [data]="functionSubDatas"\r\n                           [columns]="SubColumns" #dg="datagrid"\r\n                           [fit]="true" [editable]="true" [editMode]="\'cell\'"\r\n                           [showCheckbox]="false" [fitColumns]="true"\r\n                           [showLineNumber]="true" [striped]="true"\r\n                           [virtualized]="true" [pagination]="false"\r\n                           (selectChanged)=findIndex($event)>\r\n\r\n          </farris-datagrid>\r\n          <ng-template #functioncodeTemp let-ctx>\r\n            <div class="f-datagrid-cell-formgroup farris-group-auto">\r\n              <input [disabled]="true" type="text" class="form-control" name="name"\r\n                     [(ngModel)]="ctx.rowData[\'functioncode\']">\r\n              <button id="functionSelect" class="btn f-rt-btn f-btn-ml btn-secondary" (click)="openFunc()">\r\n                {{localizeService.getValue(\'ideCmp.drillDown.menuBtn\')}}\r\n              </button>\r\n              <button id="appSelect" class="btn f-rt-btn f-btn-ml btn-secondary" (click)="openApp()">\r\n                {{localizeService.getValue(\'ideCmp.drillDown.appBtn\')}}\r\n              </button>\r\n              <app-rtf-app-help #appHelp (afterHelpConfirm)="selectedFunc($event)" [languageCode]="language"></app-rtf-app-help>\r\n              <app-rtf-application-help #rtfappHelp [initSelectKeys]="" (afterHelpConfirm)="selectedApp($event)" [languageCode]="language"></app-rtf-application-help>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template #functionNameTemp let-ctx>\r\n            <language-textbox [languages]="languages" [(ngModel)]="ctx.rowData[\'functionname\']"></language-textbox>\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class="f-utils-flex-column" style=" flex: 1 1 0">\r\n    <div class="f-utils-fill-flex-column farris-split-section m-1 farris-overflow-hidden">\r\n      <div class="farris-form farris-card-content-bg h-100" (resized)="onResized($event)">\r\n        <fieldSet style="height: 11% !important;">\r\n          <button id="addFilterRow" class="btn btn-primary mr-1 mb-1" (click)="addParaHandler()">{{localizeService.getValue(\'ideCmp.drillDown.btnAdd\')}}</button>\r\n          <button id="addFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="removeParaHandler()">{{localizeService.getValue(\'ideCmp.drillDown.btnDelete\')}}</button>\r\n          <button id="addFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="cancelEditedPara($event)">{{localizeService.getValue(\'ideCmp.drillDown.btnCancel\')}}</button>\r\n        </fieldSet>\r\n        <div class="f-utils-fill" style="height: 89% !important;">\r\n          <farris-datagrid id="gridFunctionPara2" [data]="functionParaDatasOfSub"\r\n                           [columns]="paraColumns" #dg1="datagrid"\r\n                           [fit]="true"\r\n                           [editable]="true" [editMode]="\'cell\'" [showCheckbox]="false" [fitColumns]="true"\r\n                           [showLineNumber]="true" [striped]="true" [total]="0" [pageSize]="100"\r\n                           [virtualized]="true" [pagination]="false">\r\n          </farris-datagrid>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <ng-template #enumFooter>\r\n    <button type="button" class="btn btn-secondary" (click)="clickCancel()">{{localizeService.getValue(\'ideCmp.drillDown.btnCancel\')}}</button>\r\n    <button type="button" class="btn btn-primary" (click)="clickConfirm()">{{localizeService.getValue(\'ideCmp.drillDown.btnOK\')}}</button>\r\n  </ng-template>\r\n',encapsulation:u.ViewEncapsulation.None,styles:["tr .center{text-align:center}"]}]}],e.ctorParameters=function(){return[{type:u.Renderer2},{type:u.ComponentFactoryResolver},{type:Q},{type:u.Injector,decorators:[{type:u.Optional}]}]},e.propDecorators={closeModal:[{type:u.Output}],submitModal:[{type:u.Output}],editorParams:[{type:u.Input}],modalFooter:[{type:u.ViewChild,args:["enumFooter"]}],dg:[{type:u.ViewChild,args:["dg"]}],dg1:[{type:u.ViewChild,args:["dg1"]}],farrisDialog:[{type:u.ViewChild,args:["farrisDialog"]}],appHelp:[{type:u.ViewChild,args:["appHelp"]}],rtfappHelp:[{type:u.ViewChild,args:["rtfappHelp"]}],functioncodeTemp:[{type:u.ViewChild,args:["functioncodeTemp"]}],functionNameTemp:[{type:u.ViewChild,args:["functionNameTemp"]}]},e}(),Y=function(){function e(e){var i=this;this.parasMappingManager=e,this.paramMappingInfo=new l.Subject,this.parasMappingManager.parasmappingInfoChange.subscribe(function(e){i.paramMappingInfo.next(e)})}return e.prototype.getParasMapping=function(e,i,t){return this.parasMappingManager.getParasMapping(e,i,t)},e.prototype.saveParasMapping=function(e,i){return this.parasMappingManager.saveParasMapping(e,i)},e.prototype.deleteParasMapping=function(e,i,t){return this.parasMappingManager.deleteParasMapping(e,i,t)},e.decorators=[{type:u.Injectable}],e.ctorParameters=function(){return[{type:o.ParasMappingManagerService}]},e}(),F=function(){function e(e,i,t,a){var r=this;this.renderer=e,this.parasMappingService=i,this.msgService=t,this.injector=a,this.closeModal=new u.EventEmitter,this.submitModal=new u.EventEmitter,this.editorParams={},this.modalConfig={title:"参数设置",width:900,height:500,showButtons:!0},this.colName="",this.size={},this.mappingTypeData=[{name:"字段",value:0},{name:"常量",value:1},{name:"表达式",value:2}],this.QueryInfoDatas=[],this.saveDatas={},this.currentmode=!0,this.columns=[],this.total=0,this.editMode="row",this.pageSize=200,this.pageIndex=1,this.handlebeforeClose=function(){return r.dg1&&r.dg1.endRowEdit(),r.updateParasMapping(),l.of(!0)},this.injector&&(this.localizeService=this.injector.get(c.LocalizeService),this.mappingTypeData=this.localizeService.getValue("ideCmp.paramsMapping.mappingTypeData"),this.modalConfig.title=this.localizeService.getValue("ideCmp.paramsMapping.paramOption"))}return e.prototype.ngOnInit=function(){var i=this;this.editorParams&&this.editorParams.queryId?(this.currentmode=!0,this.queryId=this.editorParams.queryId,this.queryparaData=this.editorParams.queryparaData,this.sourceparaData=this.editorParams.sourceparaData,this.qoManagerCode=this.editorParams.datasourceid,this.queryRelativeUrl=this.editorParams.queryRelativeUrl,this.parasMappingService.getParasMapping(this.qoManagerCode,this.queryId,this.queryRelativeUrl).subscribe(function(e){null!=e?i.QueryInfoDatas=JSON.parse(e.parasmapping.value):i.editorParams.QueryInfoDatas&&(i.QueryInfoDatas=i.editorParams.QueryInfoDatas)})):(this.currentmode=!1,this.parasMappingService.getParasMapping(this.qoManagerCode,this.queryId,this.queryRelativeUrl).subscribe(function(e){null!=e&&(i.queryparaData=JSON.parse(e.parasmapping.queryparaData),i.sourceparaData=JSON.parse(e.parasmapping.sourceparaData),i.QueryInfoDatas=JSON.parse(e.parasmapping.value))})),this.gridInit()},e.prototype.gridInit=function(){var e=this,i={valueField:"value",textField:"name",data:this.queryparaData},t={valueField:"value",textField:"name",data:this.mappingTypeData},a={valueField:"value",textField:"name",data:this.sourceparaData};this.columns=[{field:"parameter",width:100,title:e.localizeService.getValue("ideCmp.paramsMapping.columnHeader")[0],formatter:{type:"enum",options:i},editor:{type:b.EditorTypes.COMBOLIST,options:C({},i,{idField:"value"}),validators:[{type:"required",messager:"该字段不能为空！"}]}},{field:"mappingType",width:100,title:e.localizeService.getValue("ideCmp.paramsMapping.columnHeader")[1],formatter:{type:"enum",options:t},editor:{type:b.EditorTypes.COMBOLIST,options:C({},t,{idField:"value"})}},{field:"sourceParameter",width:100,title:e.localizeService.getValue("ideCmp.paramsMapping.columnHeader")[2],formatter:{type:"enum",options:a},editor:{type:b.EditorTypes.COMBOLIST,options:C({},a,{idField:"value"})}},{field:"constant",width:100,title:e.localizeService.getValue("ideCmp.paramsMapping.columnHeader")[3],editor:{type:b.EditorTypes.TEXTBOX}},{field:"expression",width:100,title:e.localizeService.getValue("ideCmp.paramsMapping.columnHeader")[4],editor:{type:b.EditorTypes.TEXTBOX}},{field:"paraisused",width:100,title:e.localizeService.getValue("ideCmp.paramsMapping.columnHeader")[5],editor:{type:b.EditorTypes.CHECKBOX}}]},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth},e.prototype.clickCancel=function(){this.dg2&&this.dg2.endRowEdit(),this.closeModal.emit()},e.prototype.clickConfirm=function(){this.updateParasMapping(),this.submitModal.emit({value:this.QueryInfoDatas})},e.prototype.updateParasMapping=function(){var e=this;e.QueryInfoDatas&&e.QueryInfoDatas.length?(e.saveDatas={Id:o.EventBus.guid(),parasmapping:JSON.stringify({value:JSON.stringify(e.QueryInfoDatas),queryparaData:JSON.stringify(e.queryparaData),sourceparaData:JSON.stringify(e.sourceparaData)}),queryid:e.queryId,datasourceid:e.qoManagerCode},e.parasMappingService.saveParasMapping(e.saveDatas,e.queryRelativeUrl).subscribe()):(e.parasMappingService.deleteParasMapping(e.qoManagerCode,e.queryId,e.queryRelativeUrl).subscribe(),e.QueryInfoDatas=[])},e.prototype.handleDialogShow=function(){this.farrisDialog.show()},e.prototype.addFilterRow=function(e){this.QueryInfoDatas.push({id:o.EventBus.guid(),parameter:"",sourceParameter:"",mappingType:0,constant:"",expression:"",paraisused:!0}),this.dg1&&this.dg1.refresh()},e.prototype.addFilterRowForIde=function(e){this.QueryInfoDatas.push({id:o.EventBus.guid(),parameter:"",sourceParameter:"",mappingType:0,constant:"",expression:"",paraisused:!0}),this.dg2&&this.dg2.refresh()},e.prototype.deleteFilterRow=function(e){var i=this;if(this.dg1.selectedRow){var t=d.findIndex(this.QueryInfoDatas,function(e){return e.id===i.dg1.selectedRow.id});this.QueryInfoDatas.splice(t,1),this.dg1.refresh()}else this.msgService.info(i.localizeService.getValue("ideCmp.paramsMapping.message.validate.select"))},e.prototype.deleteFilterRowForIde=function(e){var i=this;if(this.dg2.selectedRow){var t=d.findIndex(this.QueryInfoDatas,function(e){return e.id===i.dg2.selectedRow.id});this.QueryInfoDatas.splice(t,1),this.dg2.refresh()}else this.msgService.info(i.localizeService.getValue("ideCmp.paramsMapping.message.validate.select"))},e.prototype.cancelEdit=function(e){this.dg1&&this.dg1.endRowEdit()},e.prototype.cancelEditForIde=function(e){this.dg2&&this.dg2.endRowEdit()},e.decorators=[{type:u.Component,args:[{selector:"paras-mapping",template:'<div class="btn-group mr-3" fDropdown *ngIf="!currentmode">\r\n  <button class="btn f-rt-btn f-btn-ml btn-secondary dropdown-toggle" type="button" id="menuButton" (click)="handleDialogShow()" >\r\n    <span class="f-icon f-icon-grid-layout" role="presentation"></span>\r\n    <span *ngIf="!isMultiForm">&nbsp;{{localizeService.getValue(\'ideCmp.paramsMapping.paramOption\')}}</span>\r\n  </button>\r\n</div>\r\n\r\n<farris-dialog #farrisDialog [title]="localizeService.getValue(\'ideCmp.paramsMapping.paramOption\')" [showButtons]="false" [width]="700" [height]="500" *ngIf="!currentmode" [beforeClose]="handlebeforeClose">\r\n  <div class="d-flex flex-column flex-fill position-relative h-100 m-0">\r\n    <div class="flex-fill farris-split-section m-1 farris-overflow-hidden" (resized)="onResized($event)">\r\n      <div class="farris-form farris-card-content-bg">\r\n          <fieldSet farrisFold [style.height.px]="size.height">\r\n            <button id="addFilterRow" class="btn btn-primary mr-1 mb-1" (click)="addFilterRow($event)">{{localizeService.getValue(\'ideCmp.paramsMapping.btnAdd\')}}</button>\r\n            <button id="addFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="deleteFilterRow($event)">{{localizeService.getValue(\'ideCmp.paramsMapping.btnDelete\')}}</button>\r\n            <button id="addFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="cancelEdit($event)">{{localizeService.getValue(\'ideCmp.paramsMapping.btnCancel\')}}</button>\r\n            <farris-datagrid [data]="QueryInfoDatas" [columns]="columns" #dg1="datagrid" [fit]="true"\r\n              [editable]="true" [editMode]="editMode" [showCheckbox]="false" [fitColumns]="true"\r\n              [showLineNumber] ="true" [striped]="true"  [total]="total" [pageSize]="100"\r\n              [virtualized]="true" [pagination]="false">\r\n            </farris-datagrid>\r\n          </fieldSet>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</farris-dialog>\r\n<div class="d-flex flex-column flex-fill position-relative h-100 m-0" *ngIf="currentmode">\r\n  <div class="flex-fill farris-split-section m-1 farris-overflow-hidden" (resized)="onResized($event)">\r\n    <div class="farris-form farris-card-content-bg">\r\n        <fieldSet farrisFold [style.height.px]="size.height">\r\n          <button id="addFilterRow" class="btn btn-primary mr-1 mb-1" (click)="addFilterRowForIde($event)">{{localizeService.getValue(\'ideCmp.paramsMapping.btnAdd\')}}</button>\r\n            <button id="addFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="deleteFilterRowForIde($event)">{{localizeService.getValue(\'ideCmp.paramsMapping.btnDelete\')}}</button>\r\n            <button id="addFilterRow" class="btn btn-secondary mr-1 mb-1" (click)="cancelEditForIde($event)">{{localizeService.getValue(\'ideCmp.paramsMapping.btnCancel\')}}</button>\r\n            <farris-datagrid [data]="QueryInfoDatas" [columns]="columns" #dg2="datagrid" [fit]="true"\r\n              [editable]="true" [editMode]="editMode" [showCheckbox]="false" [fitColumns]="true"\r\n              [showLineNumber] ="true" [striped]="true"  [total]="total" [pageSize]="100"\r\n              [virtualized]="true" [pagination]="false">\r\n            </farris-datagrid>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n</div>\r\n<ng-template #enumFooter>\r\n  <button type="button" class="btn btn-secondary" (click)="clickCancel()">{{localizeService.getValue(\'ideCmp.paramsMapping.btnCancel\')}}</button>\r\n  <button type="button" class="btn btn-primary" (click)="clickConfirm()">{{localizeService.getValue(\'ideCmp.paramsMapping.btnOK\')}}</button>\r\n</ng-template>\r\n',encapsulation:u.ViewEncapsulation.None,styles:["tr .center{text-align:center}"]}]}],e.ctorParameters=function(){return[{type:u.Renderer2},{type:Y},{type:r.MessagerService,decorators:[{type:u.Optional}]},{type:u.Injector,decorators:[{type:u.Optional}]}]},e.propDecorators={closeModal:[{type:u.Output}],submitModal:[{type:u.Output}],editorParams:[{type:u.Input}],queryId:[{type:u.Input}],qoManagerCode:[{type:u.Input}],queryRelativeUrl:[{type:u.Input}],isMultiForm:[{type:u.Input}],modalFooter:[{type:u.ViewChild,args:["enumFooter"]}],farrisDialog:[{type:u.ViewChild,args:["farrisDialog"]}],dg1:[{type:u.ViewChild,args:["dg1"]}],dg2:[{type:u.ViewChild,args:["dg2"]}]},e}(),U=function(){function e(e){this.element=e}return e.decorators=[{type:u.Directive,args:[{selector:"[popupAnchor]",exportAs:"popupAnchor"}]}],e.ctorParameters=function(){return[{type:u.ElementRef}]},e}(),P=function(){function e(e){this.injector=e,this.chartsType={series:{type:null}},this.chartsTypeData=[{name:"请选择",value:-1},{name:"折线图",value:"line"},{name:"柱状图",value:"bar"},{name:"饼状图",value:"pie"},{name:"面积图",value:"line1"},{name:"散点图",value:"scatter"},{name:"地图散点",value:"effectScatter"}],this.chartsTypeSelectValue=-1,this.chartTypeChange=new u.EventEmitter,this.localizeService=this.injector.get(c.LocalizeService),this.chartsTypeData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsType.chartsTypeData")}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){var i=this;for(var t in e){var a=e[t].currentValue;if(null!=a)switch(t){case"currSchema":if(a.schemaValue&&a.schemaValue.chartsType){var r=JSON.stringify(a.schemaValue.chartsType);this.chartsType=JSON.parse(r);var n=d.findIndex(this.chartsTypeData,function(e){return e.value===(i.chartsType.series.type||-1)});0<=n&&(this.chartsTypeSelectValue=this.chartsTypeData[n].value,this.valueChange(this.chartsTypeSelectValue))}}}},e.prototype.valueChange=function(e){this.chartsType.series.type=e.value||-1,this.chartTypeChange.emit(e.value)},e.prototype.getChartsTypeOption=function(){return-1!==this.chartsTypeSelectValue&&(this.chartsType.series.type=this.chartsTypeSelectValue,0<=this.chartsType.series.type.indexOf("1")?this.chartsType.series.areaStyle={}:delete this.chartsType.series.areaStyle),this.chartsType},e.decorators=[{type:u.Component,args:[{selector:"charts-type",template:'<div class="flex-fill farris-split-section m-1 farris-overflow-hidden">\r\n  <div class="farris-form farris-card-content-bg">\r\n    <div class="form-row m-0">\r\n      <div class="col-12 col-md-12 col-lg-12">\r\n        <div class="farris-group-wrap form-inline farris-form-inline">\r\n          <div class="form-group farris-form-group">\r\n            <label class="col-form-label" for="chartsType" style="width: 5rem; min-width: 5rem;">\r\n              <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsType.chartsType\')}}:</span>\r\n            </label>\r\n            <div class="farris-input-wrap">\r\n              <farris-combo-list id="chartsType" [(ngModel)]="chartsTypeSelectValue" [data]="chartsTypeData"\r\n                [textField]="\'name\'" [idField]="\'value\'" (valueChange)="valueChange($event)" [enableClear]="false"></farris-combo-list>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="col-12 col-md-12 col-lg-12">\r\n        <div class="farris-group-wrap form-inline farris-form-inline">\r\n          <div class="form-group farris-form-group">\r\n            <label class="col-form-label" for="colName" style="width: 5rem; min-width: 5rem;">\r\n              <span class="farris-label-text"></span>\r\n            </label>\r\n            <div class="farris-input-wrap">\r\n              <img *ngIf="chartsTypeSelectValue==\'line\'"\r\n                src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik05OTAsOTA5LjhIMjkuMkgxMHYtMTYuOVY5MC4yaDM4LjNWODc2SDk5MFY5MDkuOHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNODIuMiw3NjQuOGwxMDcuNi0yMDguMWwxNS40LTI5LjhsMjYuOCwyMC4zTDM5OSw2NzQuMmwyMjguMi00MzcuNmwzMy02My4ybDE5LjMsNjguNmw4MS4yLDI4OS41bDE0MC41LTU4LjJsMjEuNiw1MmwtMTY5LjksNzAuNGwtMjkuNCwxMi4ybC04LjYtMzAuNmwtNzAuNS0yNTEuNGwtMjEwLjcsNDA0bC0xNS41LDI5LjdsLTI2LjctMjAuM0wyMjQuNCw2MTIuNGwtOTIuMSwxNzguMkw4Mi4yLDc2NC44eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjwvZz48L3N2Zz4gIA=="\r\n                width="128" height="128">\r\n              <img *ngIf="chartsTypeSelectValue==\'bar\'"\r\n                src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDUxMS4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiPjxwYXRoIGQ9Ik0xMDAsMTEwdi00MDMwLjZoNDkwMGg0OTAwdjE0OC4ydjE0OC4yaC0zNjUuNUg5MTY5bC00LDIxNzkuM2MtNS45LDI0MzQuMiw1LjksMjI0Mi41LTE0OC4yLDIzNTkuMWwtNzEuMSw1NS4zbC02MjAuNCw1LjljLTYxNC41LDUuOS02MjAuNCw1LjktNjk5LjQtMzkuNWMtNDUuNS0yNS43LTEwMC44LTgxLTEyOC40LTEyNi41bC00Ny40LTgxdi0yMTc1LjR2LTIxNzcuM2gtMTk3LjZoLTE5Ny42Vi0yNTA2YzAsNzgwLjQtNS45LDExNDQtMjMuNywxMjA3LjJjLTMxLjYsMTI4LjQtMTQwLjMsMjMzLjEtMjcwLjcsMjYwLjhjLTEzNC4zLDI3LjYtMTAxNS41LDI3LjYtMTE0OS45LDBjLTEzOC4zLTI5LjYtMjQzLTEzNC40LTI3Mi43LTI3Mi43Yy0xMy44LTY5LjItMjEuNy00NzYuMi0yMS43LTEyMDcuMnYtMTEwNi41aC0xOTcuNkg0OTIxdjE3NjguM2MwLDE5MzQuMyw1LjksMTg0OS4zLTExNi42LDE5NTIuMWMtMTA2LjcsODguOS0xNjYsOTQuOC03ODQuNCw4OC45bC01NzUtNS45bC03OS01My4zYy00My41LTI3LjctOTQuOC04NS0xMTYuNi0xMjguNGMtMzUuNi03MS4xLTM3LjUtMTUwLjEtNDMuNS0xODQ3LjRsLTQtMTc3NC4zaC0xOTcuNmgtMTk1LjZsLTUuOSw3OTYuMmwtNS45LDc5Ni4zbC01My40LDgxYy05OC44LDE1MC4yLTEyNC41LDE1NC4xLTc5Ni4yLDE1NC4xYy01ODIuOSwwLTU5NC43LDAtNjcxLjgtNDUuNGMtNDMuNS0yNS43LTEwMi43LTc3LjEtMTI4LjQtMTE2LjZsLTQ5LjQtNzMuMWwtNS45LTc5Ni4zbC01LjktNzk2LjJINzQyLjFIMzk2LjRWMjU4LjJ2Mzg4Mi41SDI0OC4ySDEwMFYxMTB6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTc4OTQuNiwzMzg3LjljLTM2OS41LTUxLjQtNjgzLjYtOTQuOC02OTcuNS05NC44Yy0xNS44LTIsNzktMTEyLjYsMjA3LjUtMjQ5czIzMy4xLTI1Ni45LDIzMy4xLTI2NC44YzAtOS45LTMzMy45LTMzMy45LTc0MC45LTcyMy4xcy03OTguMi03NjIuNy04NjkuNC04MzEuOEw1ODk5LDEwOTcuOWwtOTY2LjIsNTUzLjJjLTUzMS41LDMwNi4zLTk3NC4xLDU1MS4zLTk4Miw1NDkuM2MtOS45LTMuOS00NjYuMy00MjYuOC0xMDE1LjYtOTQwLjVsLTk5Ny44LTkzNC42bDkyLjktMTA2LjdjNTMuMy01OS4zLDk4LjgtMTA4LjcsMTA0LjctMTA4LjdjNS45LDIsNDI2LjgsMzkxLjIsOTM2LjUsODY5LjRsOTI2LjcsODY5LjRsNjEuMy0zNy41YzQ1MC41LTI3MC43LDE4NzUtMTA3MC45LDE4OTQuOC0xMDYxYzExLjksNS45LDQ0Ni41LDQxNC45LDk2Mi4yLDkxMC44bDkzOC41LDkwMWwyMzcuMS0yNDlsMjM1LjEtMjQ5bDEzNC40LDY3Ny43YzEzNi4zLDY4OS42LDE0Ni4yLDc0OC44LDEyMC41LDc0NC45Qzg1NzIuMywzNDg0LjcsODI2NCwzNDQxLjIsNzg5NC42LDMzODcuOXoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPiAg"\r\n                width="128" height="128">\r\n              <img *ngIf="chartsTypeSelectValue==\'pie\'"\r\n                src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik01NjEuMyw0MzguOFYxMEM4MTQuOSwxMCw5OTAsMTg1LjEsOTkwLDQzOC44SDU2MS4zeiBNNDY5LjQsOTkwQzIxNS43LDk5MCwxMCw3ODQuMywxMCw1MzAuNkMxMCwyNTQsMjExLjgsNzEuMyw1MDAsNzEuM1Y1MDBoNDI4LjhDOTI4LjgsNzUzLjcsNzIzLjEsOTkwLDQ2OS40LDk5MHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48L2c+PC9zdmc+ICA="\r\n                width="128" height="128">\r\n              <img *ngIf="chartsTypeSelectValue==\'line1\'"\r\n                src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDUxMS4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiPjxwYXRoIGQ9Ik0xMDAsMTEwdi00ODU5LjdoNDc5OS4yaDQ4MDEuMmwtNiwxMzUuMWwtNiwxMzcuMWwtNDY0MS45LDYuMWwtNDY0My45LDR2MTQxOS42djE0MjEuNmwxMTQuOSwxMjlDNzExLTEyODEuNCwyMDIzLjcsNjkuNywyMDQxLjgsNjkuN2MxMC4xLDAsMzc1LjEtMzA0LjUsODEyLjYtNjc3LjVjNTc2LjctNDkwLDgwMi41LTY3MS41LDgyMC43LTY1Ny40YzE0LjEsMTIuMSw0NzcuOSw1OTguOSwxMDMyLjQsMTMwMi42YzU1NC41LDcwMy43LDEwMTQuMywxMjgwLjQsMTAyMC4zLDEyODIuNWM4LjEsMCwzOTcuMi0zOTkuMyw4NjUuMS04ODcuMmM0NjkuOC00ODgsODU1LTg4NS4yLDg1OS04ODMuMmMyLDQsNDYzLjgsODk5LjMsMTAyNi40LDE5OTIuM0M5MDM5LDI2MzQuNiw5NTA2LjgsMzUzNiw5NTE0LjksMzU0NGMxMC4xLDEwLjEsOTAuNy0yMC4yLDE4MS41LTY0LjVjODguNy00Ni40LDE3MS40LTgyLjcsMTgzLjUtODIuN3MyMC4yLDUwLjQsMjAuMiwxMTdjMCwxMzMuMS0zOC4zLDcyNy45LTU2LjUsODkzLjNsLTE0LjEsMTE0LjlsLTQ2My44LTI5OC40Yy0yNTQuMS0xNjUuNC00NjUuOC0zMDYuNS00NjcuOC0zMTYuNmMtNC04LjEsNzQuNi01OC41LDE3MS40LTEwOC45Yzk2LjgtNTAuNCwxNzMuNC0xMDAuOCwxNzEuNC0xMTIuOWMtMi0xMC4xLTM4OS4yLTc2OC4zLTg1OS0xNjgxLjdDNzkxMS44LDEwOTAsNzQ5NC40LDI3OS40LDc0NTYsMjA0LjhsLTY4LjUtMTM5LjFsLTg1Myw4NDIuOWMtNzA5LjgsNzAxLjctODU3LDgzOC45LTg3Ny4yLDgxMi42QzU1MTIuMiwxNTI5LjYsMzYyMi44LTg1Ny45LDM2MTYuNy04NTcuOWMtOC4xLDAtMTAwMC4yLDgzOC44LTE0ODIuMSwxMjUyLjJsLTExMi45LDk2LjhsLTgwNC42LTgzMC44bC04MDQuNi04MzIuOGwtNiwzMDcxLjFsLTQsMzA3MS4xSDI1MS4ySDEwMFYxMTB6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTg2MDEuNCwxMTI2LjNDODAxNC42LDEzLjIsNzUyOC43LTg5OC4yLDc1MTguNi04OTQuMmMtMTAuMSw0LTQxNy40LDM5OS4zLTkwNy40LDg4MS4yYy00ODgsNDgxLjktODk1LjMsODY3LjEtOTAzLjQsODU3Yy0yNC4yLTI2LjItMTk4Ni4yLTI1MTIuNS0yMDAwLjMtMjUzNC43Yy04LjEtMTAuMS0zNzUuMSwyODguNC04MTguNyw2NjUuNGMtNDQxLjYsMzc3LjEtODE0LjYsNjg5LjYtODI2LjcsNjk3LjdjLTI2LjIsMTYuMS0xMjg4LjUtMTI4Ni41LTEzNDAuOS0xMzgzLjNjLTM0LjMtNTguNS0zNi4zLTE1OS4zLTM2LjMtMTI2MC4zdi0xMTkzLjhsNTQuNC0yMi4yYzM2LjMtMTQuMSwxNDM3LjctMTYuMiw0MzI5LjQtOC4xYzIzNTMuMiw2LjEsNDM1NS41LDEwLjEsNDQ1NC4zLDEwLjFoMTc1LjR2MzY3MGMwLDIwMTguNS02LDM2NzAtMTQuMSwzNjcwQzk2NzQuMSwzMTU0LjgsOTE4OC4yLDIyNDEuNCw4NjAxLjQsMTEyNi4zeiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjwvZz48L2c+PC9zdmc+ICA="\r\n                width="128" height="128">\r\n              <img *ngIf="chartsTypeSelectValue==\'scatter\'"\r\n                src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik04MCw1NzB2MjA5LjhjMCwzOC41LDY5LjksNjkuOSw2OS45LDY5LjloNzY5LjFjMCwwLDcwLjktMTEuNCw3MC45LDIwLjRjMCwzMS43LTMzLjcsNDguNy0zMy43LDQ4LjdsLTg0NS45LTEuMkM5LDkxNy42LDEwLDgwNS40LDEwLDgwNS40VjEyMS4xYzAtMzQsNDkuNy0zOS43LDQ5LjctMzkuN2MzMS43LDAsMjAuMyw2OSwyMC4zLDY5djM0OS42TDgwLDU3MHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNNjU3LjcsNTgxLjRjMCw0Ni45LDM4LDg0LjksODQuOSw4NC45YzQ2LjksMCw4NC45LTM4LDg0LjktODQuOXMtMzgtODQuOS04NC45LTg0LjlDNjk1LjcsNDk2LjQsNjU3LjcsNTM0LjUsNjU3LjcsNTgxLjRMNjU3LjcsNTgxLjR6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTYwMS4xLDQ1OC43YzQxLjcsMCw3NS41LTMzLjgsNzUuNS03NS41YzAtNDEuNy0zMy44LTc1LjUtNzUuNS03NS41cy03NS41LDMzLjgtNzUuNSw3NS41QzUyNS42LDQyNC45LDU1OS40LDQ1OC43LDYwMS4xLDQ1OC43eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjxwYXRoIGQ9Ik02NTcuNywyNzBjNDEuNywwLDc1LjUtMzMuOCw3NS41LTc1LjVjMC00MS43LTMzLjgtNzUuNS03NS41LTc1LjVzLTc1LjUsMzMuOC03NS41LDc1LjVDNTgyLjIsMjM2LjIsNjE2LDI3MCw2NTcuNywyNzB6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTg5My42LDIxMy40YzM2LjUsMCw2Ni0yOS42LDY2LTY2YzAtMzYuNS0yOS42LTY2LTY2LTY2Yy0zNi41LDAtNjYsMjkuNi02Niw2NkM4MjcuNSwxODMuOCw4NTcuMSwyMTMuNCw4OTMuNiwyMTMuNHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNODQ2LjQsNDM5LjhjNDEuNywwLDc1LjUtMzMuOCw3NS41LTc1LjVjMC00MS43LTMzLjgtNzUuNS03NS41LTc1LjVjLTQxLjcsMC03NS41LDMzLjgtNzUuNSw3NS41Qzc3MC45LDQwNiw4MDQuNyw0MzkuOCw4NDYuNCw0MzkuOHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNMTQ4LjIsNjM4YzAsMzYuNSwyOS42LDY2LDY2LDY2YzM2LjUsMCw2Ni0yOS42LDY2LTY2cy0yOS42LTY2LTY2LTY2QzE3Ny43LDU3MS45LDE0OC4yLDYwMS41LDE0OC4yLDYzOCIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzYuOSw1MzQuMmM1Mi4xLDAsOTQuNC00Mi4yLDk0LjQtOTQuNGMwLTUyLjEtNDIuMi05NC40LTk0LjQtOTQuNHMtOTQuNCw0Mi4yLTk0LjQsOTQuNEMyNDIuNSw0OTIsMjg0LjgsNTM0LjIsMzM2LjksNTM0LjJ6IiBzdHlsZT0iZmlsbDojNTZhYmU0Ij48L3BhdGg+PHBhdGggZD0iTTM1NS43LDcxMy41YzAsMzYuNSwyOS42LDY2LDY2LjEsNjZjMzYuNSwwLDY2LjEtMjkuNiw2Ni4xLTY2YzAtMzYuNS0yOS42LTY2LjEtNjYuMS02Ni4xQzM4NS4zLDY0Ny40LDM1NS43LDY3NywzNTUuNyw3MTMuNXoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48cGF0aCBkPSJNNTM1LDY0Ny40YzM2LjUsMCw2Ni0yOS42LDY2LTY2YzAtMzYuNS0yOS42LTY2LTY2LTY2Yy0zNi41LDAtNjYsMjkuNi02Niw2NkM0NjksNjE3LjgsNDk4LjYsNjQ3LjQsNTM1LDY0Ny40eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjwvZz48L3N2Zz4gIA=="\r\n                width="128" height="128">\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}],chartTypeChange:[{type:u.Output}]},e}(),B=function(){function e(e){this.injector=e,this.live1=[1,1,0,0,0,0,0],this.live2=[0,0,1,1,1,1,1],this.live3=[0,0,1,1,0,0,0],this.live=[],this.axisTypeData=[{name:"分类",value:"category"},{name:"值",value:"value"}],this.xAxisTypeSelectValue=this.axisTypeData[0].value,this.yAxisTypeSelectValue=this.axisTypeData[1].value,this.xAxisDisableItemIndex=-1,this.yAxisDisableItemIndex=-1,this.xPositionData=[{name:"下",value:"bottom"},{name:"上",value:"top"}],this.xPositionValue=this.xPositionData[0].value,this.yPositionData=[{name:"左",value:"left"},{name:"右",value:"right"}],this.yPositionValue=this.yPositionData[0].value,this.bindingData=[],this.barTypeData=[{name:"单列",value:1},{name:"多列",value:2},{name:"叠加",value:3}],this.barTypeSelectValue=this.barTypeData[0],this.dimensionFieldList=[],this.indicatorFieldList=[],this.xAxisBindingFeildList=[],this.yAxisBindingFeildList=[],this.firstBindingFeildList=[],this.secondBindingFeildList=[],this.thirdBindingFeildList=[],this.fourthBindingFeildList=[],this.fifthBindingFeildList=[],this.aggreData=[{name:"请选择",value:0},{name:"合计",value:1},{name:"最小值",value:2},{name:"最大值",value:3},{name:"计数",value:4},{name:"平均值",value:5}],this.aggreSelectValue=this.aggreData[0].value,this.size={},this.localizeService=this.injector.get(c.LocalizeService),this.axisTypeData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsData.axisTypeData"),this.xPositionData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsData.xPositionData"),this.yPositionData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsData.yPositionData"),this.barTypeData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsData.barTypeData"),this.aggreData=this.localizeService.getValue("ideCmp.schemaManager.columnOption.aggregateData")}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){var i=this;for(var t in i.live=i.live1,"effectScatter"===i.chartsType&&(i.live=i.live2),"pie"!==i.chartsType&&"map"!==i.chartsType||(i.live=i.live3),e){var a=e[t].currentValue;if(null!=a)switch(t){case"currSchema":if(a.schemaValue&&a.schemaValue.groupSummarySet&&(this.groupSummarySet=JSON.parse(JSON.stringify(a.schemaValue.groupSummarySet)),this.dimensionFieldList=this.groupSummarySet&&this.groupSummarySet.dimensions||[],this.indicatorFieldList=this.groupSummarySet&&this.groupSummarySet.indicators||[]),"effectScatter"!==this.chartsType&&"pie"!==this.chartsType&&"map"!==this.chartsType){if(a.schemaValue&&a.schemaValue.chartsData){var r=JSON.stringify(a.schemaValue.chartsData);this.chartsData=JSON.parse(r);var n=d.findIndex(this.axisTypeData,function(e){return e.value===(i.chartsData.xAxis&&i.chartsData.xAxis.type||"category")});this.xAxisTypeSelectValue=this.axisTypeData[n].value,n=d.findIndex(this.axisTypeData,function(e){return e.value===(i.chartsData.xAxis&&i.chartsData.yAxis.type||"value")}),this.yAxisTypeSelectValue=this.axisTypeData[n].value,n=d.findIndex(this.xPositionData,function(e){return e.value===(i.chartsData.xAxis&&i.chartsData.xAxis.position||"bottom")}),this.xPositionValue=this.xPositionData[n].value,n=d.findIndex(this.yPositionData,function(e){return e.value===(i.chartsData.xAxis&&i.chartsData.yAxis.position||"left")}),this.yPositionValue=this.yPositionData[n].value,this.chartsData&&this.chartsData.series&&this.chartsData.series.type&&(this.chartsType=this.chartsData.series.type),this.xAxisBindingFeildList=this.chartsData.series.encode.x||this.chartsData.series.encode.name||[],this.yAxisBindingFeildList=this.chartsData.series.encode.y||this.chartsData.series.encode.value1||[]}}else if(a.schemaValue&&a.schemaValue.chartsData){r=JSON.stringify(a.schemaValue.chartsData);this.chartsData=JSON.parse(r),this.firstBindingFeildList=this.chartsData.series.encode.name||this.chartsData.series.encode.x||[],this.secondBindingFeildList=this.chartsData.series.encode.value1||this.chartsData.series.encode.y||[],this.thirdBindingFeildList=this.chartsData.series.encode.lng||[],this.fourthBindingFeildList=this.chartsData.series.encode.lat||[],this.fifthBindingFeildList=this.chartsData.series.encode.value2||[]}break;case"colList":this.bindingData=a;break;case"chartsType":this.chartsType=a}}},e.prototype.barValueChange=function(e){},e.prototype.xItemDisabled=function(e){return e.index===this.xAxisDisableItemIndex},e.prototype.yItemDisabled=function(e){return e.index===this.yAxisDisableItemIndex},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth},e.prototype.handleBinding=function(e){var i=this;if("dimension"===e){if(!this.dimensionField)return;d.findIndex(this.dimensionFieldList,function(e){return e===i.dimensionField})<0&&this.dimensionFieldList.push(this.dimensionField)}else if("indicator"===e){if(!this.indicatorField||!this.aggreSelectValue||0===this.aggreSelectValue||"0"===this.aggreSelectValue)return;d.findIndex(this.indicatorFieldList,function(e){return e===i.indicatorField})<0&&this.indicatorFieldList.push(this.aggreSelectValue+";"+this.indicatorField)}else if("x"===e){if(!this.xAxisFeild)return;d.findIndex(this.xAxisBindingFeildList,function(e){return e===i.xAxisFeild})<0&&this.xAxisBindingFeildList.push(this.xAxisFeild)}else if("y"===e){if(!this.yAxisFeild)return;d.findIndex(this.yAxisBindingFeildList,function(e){return e===i.yAxisFeild})<0&&this.yAxisBindingFeildList.push(this.yAxisFeild)}else if("f"===e){if(!this.firstFeild)return;d.findIndex(this.firstBindingFeildList,function(e){return e===i.firstFeild})<0&&this.firstBindingFeildList.push(this.firstFeild)}else if("s"===e){if(!this.secondFeild||!this.secondFeild)return;d.findIndex(this.secondBindingFeildList,function(e){return e===i.secondFeild})<0&&this.secondBindingFeildList.push(this.secondFeild)}else if("t"===e){if(!this.thirdFeild)return;d.findIndex(this.thirdBindingFeildList,function(e){return e===i.thirdFeild})<0&&this.thirdBindingFeildList.push(this.thirdFeild)}else if("4"===e){if(!this.fourthFeild)return;d.findIndex(this.fourthBindingFeildList,function(e){return e===i.fourthFeild})<0&&this.fourthBindingFeildList.push(this.fourthFeild)}else if("5"===e){if(!this.fifthFeild)return;d.findIndex(this.fifthBindingFeildList,function(e){return e===i.fifthFeild})<0&&this.fifthBindingFeildList.push(this.fifthFeild)}},e.prototype.handleRemoveFeild=function(e,i){var t=-1;"dimension"===e?(t=d.findIndex(this.dimensionFieldList,function(e){return e===i}),this.dimensionFieldList.splice(t,1)):"indicator"===e?(t=d.findIndex(this.indicatorFieldList,function(e){return 0<=e.indexOf(i)}),this.indicatorFieldList.splice(t,1)):"x"===e?(t=d.findIndex(this.xAxisBindingFeildList,function(e){return e===i}),this.xAxisBindingFeildList.splice(t,1)):"y"===e?(t=d.findIndex(this.yAxisBindingFeildList,function(e){return e===i}),this.yAxisBindingFeildList.splice(t,1)):"f"===e?(t=d.findIndex(this.firstBindingFeildList,function(e){return e===i}),this.firstBindingFeildList.splice(t,1)):"s"===e?(t=d.findIndex(this.secondBindingFeildList,function(e){return e===i}),this.secondBindingFeildList.splice(t,1)):"t"===e?(t=d.findIndex(this.thirdBindingFeildList,function(e){return e===i}),this.thirdBindingFeildList.splice(t,1)):"4"===e?(t=d.findIndex(this.fourthBindingFeildList,function(e){return e===i}),this.fourthBindingFeildList.splice(t,1)):"5"===e&&(t=d.findIndex(this.fifthBindingFeildList,function(e){return e===i}),this.fifthBindingFeildList.splice(t,1))},e.prototype.getChartsDataOption=function(){var e={series:{type:null,encode:{}}};if("effectScatter"!==this.chartsType&&"pie"!==this.chartsType&&"map"!==this.chartsType&&(e.xAxis={type:null,position:"bottom",axisLine:{show:!0}},e.yAxis={type:null,position:"left",axisLine:{show:!0}},e.series.encode={x:[this.xAxisBindingFeildList[0]],y:this.yAxisBindingFeildList},e.tooltip={padding:10,backgroundColor:"#222",borderColor:"#f21",borderWidth:1},this.xAxisTypeSelectValue&&(e.xAxis.type=this.xAxisTypeSelectValue),this.xPositionValue&&(e.xAxis.position=this.xPositionValue),this.yAxisTypeSelectValue&&(e.yAxis.type=this.yAxisTypeSelectValue),this.yPositionValue&&(e.yAxis.position=this.yPositionValue)),"effectScatter"!==this.chartsType&&"pie"!==this.chartsType&&"map"!==this.chartsType&&1<this.yAxisBindingFeildList.length){e.legend={},e.legend.show=!0,e.legend.data=[];for(var i=0;i<this.yAxisBindingFeildList.length;i++)for(var t=0;t<this.colList.length;t++)if(this.colList[t].bindField===this.yAxisBindingFeildList[i]){e.legend.data.push(this.colList[t].name);break}}return"pie"===this.chartsType&&(e.xAxis={type:null,position:"bottom",axisLine:{show:!1}},e.yAxis={type:null,position:"left",axisLine:{show:!1}},e.tooltip={formatter:"{b}:{c}</br>{d}%"},e.series.encode={x:[this.firstBindingFeildList[0]],y:[this.secondBindingFeildList[0]]},e.legend={itemGap:10,itemWidth:25,itemHeight:14,align:"auto",orient:"horizontal"}),"map"===this.chartsType&&(e.xAxis={type:null,position:"bottom",axisLine:{show:!1}},e.yAxis={type:null,position:"left",axisLine:{show:!1}},e.series={roam:"scale",map:"china",itemStyle:{emphasis:{label:{show:!0}}},textFixed:{Alaska:[20,-20]}},e.toolbox={show:!0,left:"left",top:"top",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},e.visualMap={left:"right",min:0,max:9,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],calculable:!0},e.series.encode={x:[this.firstBindingFeildList[0]],y:[this.secondBindingFeildList[0]]}),"effectScatter"===this.chartsType&&(e.geo={map:"china",center:[115,30],zoom:1,roam:"scale",itemStyle:{normal:{areaColor:"#323c48",borderColor:"#111"},emphasis:{areaColor:"#2a333d"}}},e.tooltip={padding:10,backgroundColor:"#333",borderColor:"#777",borderWidth:1},e.series={name:"map",coordinateSystem:"geo"},e.series.encode={name:[this.firstBindingFeildList[0]],lng:[this.thirdBindingFeildList[0]],lat:[this.fourthBindingFeildList[0]],value1:[this.secondBindingFeildList[0]],value2:this.fifthBindingFeildList,tooltip:[this.firstBindingFeildList[0],this.secondBindingFeildList[0]]},e.visualMap=[{type:"continuous",top:"top",left:"right",dimension:1,calculable:!0,min:0,max:1e3,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},outOfRange:{color:["rgba(255,255,255,.2)"]},controller:{inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},outOfRange:{color:["#444"]}},textStyle:{color:"#837"}},{right:"right",top:"bottom",dimension:2,type:"continuous",min:0,max:1e3,calculable:!0,itemWidth:30,itemHeight:120,textGap:30,inRange:{symbolSize:[5,30]},outOfRange:{symbolSize:[5,30],color:["rgba(255,255,255,.2)"]},textStyle:{color:"#837"},controller:{inRange:{color:["#c23531"]},outOfRange:{color:["#444"]}}}],this.fifthBindingFeildList!==[]&&e.series.encode.tooltip.push(this.fifthBindingFeildList[0])),e},e.prototype.getGroupSummarySetOption=function(){var e={dimensions:null,indicators:null};try{return this.dimensionFieldList&&this.dimensionFieldList.length&&(e.dimensions=this.dimensionFieldList),this.indicatorFieldList&&this.indicatorFieldList.length&&(e.indicators=this.indicatorFieldList),e}catch(i){return e}},e.prototype.myIsNaN=function(e){return!isNaN(e)},e.decorators=[{type:u.Component,args:[{selector:"charts-data",template:'<div class="d-flex flex-row flex-fill h-100" (resized)="onResized($event)">\r\n  <perfect-scrollbar [config]="{}">\r\n    <div class="flex-fill farris-split-section m-1 farris-overflow-hidden">\r\n      <div class="farris-form farris-card-content-bg">\r\n        <fieldset farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.dimensionSetting\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="dimensionList">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.dimension\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                    <div class="farris-input-wrap" style="width: 91%">\r\n                      <farris-combo-list id="dimensionList" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [(ngModel)]="dimensionField"\r\n                                         [data]="bindingData" [textField]="\'name\'" [idField]="\'bindField\'" \r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'dimension\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of dimensionFieldList" class="k-button k-outline mr-2"\r\n                            id="buttonadd">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'dimension\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="indicatorList">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.indicator\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                    <div class="farris-input-wrap" style="width: 51%">\r\n                      <farris-combo-list id="indicatorList" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [(ngModel)]="indicatorField"\r\n                                         [data]="bindingData" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <div class="farris-input-wrap" style="width: 40%">\r\n                      <farris-combo-list id="indicatorList" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [(ngModel)]="aggreSelectValue"\r\n                                         [data]="aggreData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"\r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'indicator\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of indicatorFieldList" class="k-button k-outline mr-2"\r\n                            id="buttonadd">\r\n                      {{feild && myIsNaN(feild.substring(0, 1)) ? feild.replace(feild.substring(0, 1), aggreData[feild.substring(0, 1)].name).replace(\';\', \'(\') + \')\' : feild }}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'indicator\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldset>\r\n\r\n        <fieldSet *ngIf="live[0]" farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.xAxis\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="xAxisType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.type\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    \x3c!--                    <farris-combo-list id="chartsType" [(ngModel)]="chartsTypeSelectValue" [data]="chartsTypeData"--\x3e\r\n                    \x3c!--                                       [textField]="\'name\'" [idField]="\'value\'" (valueChange)="valueChange($event)" ></farris-combo-list>--\x3e\r\n                    <farris-combo-list id="xAxisType" [(ngModel)]="xAxisTypeSelectValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')"\r\n                                       [data]="axisTypeData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="xAxisPosition">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.position\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="xAxisPosition" [(ngModel)]="xPositionValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')"\r\n                                       [data]="xPositionData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="xAxisBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n\r\n                    <div class="farris-input-wrap" style="width: 91%">\r\n                      <farris-combo-list id="xAxisBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [(ngModel)]="xAxisFeild"\r\n                                         [data]="bindingData" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                      >\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'x\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of xAxisBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'x\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet *ngIf="live[1]" farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.yAxis\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="yAxisType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.type\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="yAxisType" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [(ngModel)]="yAxisTypeSelectValue"\r\n                                       [data]="axisTypeData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="yAxisPosition">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.position\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="yAxisPosition" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [(ngModel)]="yPositionValue"\r\n                                       [data]="yPositionData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="xAxisBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="xAxisBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [data]="bindingData"\r\n                                         [(ngModel)]="yAxisFeild" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                                         style=" width: 91%">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'y\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd1">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of yAxisBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd1">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'y\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf="live[2]" farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.name\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="legendBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [data]="bindingData"\r\n                                         [(ngModel)]="firstFeild" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                                         style="width: 91%">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'f\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd2">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of firstBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd2">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'f\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf="live[3]" farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.numerical1\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="legendBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [data]="bindingData"\r\n                                       [(ngModel)]="secondFeild" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                                       style="width: 91%">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'s\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd2">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of secondBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd2">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'s\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf="live[4]" arrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.longitude\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="legendBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [data]="bindingData"\r\n                                       [(ngModel)]="thirdFeild" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                                       style="width: 91%">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'t\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd2">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of thirdBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd2">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'t\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf="live[5]" farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.latitude\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="legendBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [data]="bindingData"\r\n                                       [(ngModel)]="fourthFeild" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                                       style="width: 91%">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'4\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd2">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of fourthBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd2">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'4\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n\r\n        <fieldSet *ngIf="live[6]" farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.numerical2\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendBinding">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.binding\')}}:</span>\r\n                  </label>\r\n                  <div class="form-group farris-form-group flex-fill">\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="legendBinding" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.select\')" [data]="bindingData"\r\n                                       [(ngModel)]="fifthFeild" [textField]="\'name\'" [idField]="\'bindField\'"\r\n                                       style="width: 91%">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                    <button class="k-button k-button-icon" id="button-print" (click)="handleBinding(\'5\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd2">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of fifthBindingFeildList" class="k-button k-outline mr-2"\r\n                            id="buttonadd2">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemoveFeild(\'5\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </perfect-scrollbar>\r\n</div>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}],chartsType:[{type:u.Input}],colList:[{type:u.Input}]},e}(),R=function(){function e(e){this.injector=e,this.title="",this.xAxisAlignData=[{name:"左",value:"left"},{name:"中",value:"center"},{name:"右",value:"right"}],this.xAxisAlignValue=this.xAxisAlignData[1].value,this.yAxisAlignData=[{name:"上",value:"top"},{name:"中",value:"middle"},{name:"下",value:"bottom"}],this.yAxisAlignValue=this.yAxisAlignData[0].value,this.fontFamilyData=[{name:"Microsoft YaHei",value:"Microsoft YaHei"},{name:"sans-serif",value:"sans-serif"},{name:"serif",value:"serif"},{name:"monospace",value:"monospace"},{name:"Arial",value:"Arial"},{name:"Courier New",value:"Courier New"}],this.fontFamily=this.fontFamilyData[0].value,this.fontSizeData=[{name:"10",value:"10"},{name:"15",value:"15"},{name:"20",value:"20"},{name:"25",value:"25"},{name:"30",value:"30"},{name:"35",value:"35"},{name:"40",value:"40"}],this.fontSize=this.fontSizeData[3].value,this.textStyle={lineHeight:25,fontSize:25,fontStyle:"normal",fontWight:"normal",fontFamily:this.fontFamily||"Microsoft YaHei",color:"black"},this.legendAlignData=[{name:"自适应",value:"auto"},{name:"左",value:"left"},{name:"右",value:"right"}],this.legendAlignValue=this.legendAlignData[0].value,this.orientData=[{name:"水平",value:"horizontal"},{name:"垂直",value:"vertical"}],this.legendOrientValue=this.orientData[0].value,this.visualMapOrientValue=this.orientData[1].value,this.itemGap=10,this.itemWidth=25,this.itemHeight=14,this.visualMapTypeData=[{name:"continuous",value:"continuous"},{name:"piecewise",value:"piecewise"}],this.visualMapTypeValue=this.visualMapTypeData[0].value,this.dataMultiple=[{name:"并排",value:"side"},{name:"堆叠",value:"pile"}],this.dataMultipleValue=this.dataMultiple[0].value,this.vmTopValue=this.yAxisAlignData[0].value,this.vmLeftValue=this.xAxisAlignData[2].value,this.vmBottom=0,this.vmRight=0,this.visualMapPieces=[],this.visualMapCategories=[],this.isWeight=!1,this.isStyle=!1,this.cBtn=!1,this.pBtn=!1,this.tBtn=!1,this.size={},this.localizeService=this.injector.get(c.LocalizeService),this.xAxisAlignData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.xAxisAlignData"),this.yAxisAlignData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.yAxisAlignData"),this.fontFamilyData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.fontFamilyData"),this.legendAlignData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.legendAlignData"),this.orientData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.orientData"),this.visualMapTypeData=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.visualMapTypeData"),this.dataMultiple=this.localizeService.getValue("ideCmp.chartsSchemaManager.chartsStyle.dataMultiple")}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){var i=this;for(var t in e){var a=e[t].currentValue;if(null!=a)switch(t){case"currSchema":if(a.schemaValue&&a.schemaValue.customOption?this.customOption=JSON.stringify(a.schemaValue.customOption):this.customOption="",a.schemaValue&&a.schemaValue.chartsStyle){var r=JSON.stringify(a.schemaValue.chartsStyle);this.chartsStyle=JSON.parse(r),this.title=this.chartsStyle.title.text||"";var n=d.findIndex(this.xAxisAlignData,function(e){return e.value===(i.chartsStyle.title.x||"center")});this.xAxisAlignValue=this.xAxisAlignData[n].value,n=d.findIndex(this.yAxisAlignData,function(e){return e.value===(i.chartsStyle.title.y||"top")}),this.yAxisAlignValue=this.yAxisAlignData[n].value,this.textStyle.lineHeight=this.chartsStyle.title.textStyle.lineHeight||25,this.textStyle.fontSize=this.chartsStyle.title.textStyle.fontSize||25,this.textStyle.fontStyle=this.chartsStyle.title.textStyle.fontStyle||"normal",this.textStyle.fontWight=this.chartsStyle.title.textStyle.fontWight||"normal",this.textStyle.fontFamily=this.chartsStyle.title.textStyle.fontFamily||"Microsoft YaHei",n=d.findIndex(this.fontFamilyData,function(e){return e.value===(i.textStyle.fontFamily||"Microsoft YaHei")}),this.fontFamily=this.fontFamilyData[n].value,this.textStyle.color=this.chartsStyle.title.textStyle.color||"black",n=d.findIndex(this.legendAlignData,function(e){return e.value===(i.chartsStyle.legend.align||"auto")}),this.legendAlignValue=this.legendAlignData[n].value,n=d.findIndex(this.orientData,function(e){return e.value===(i.chartsStyle.legend.orient||"horizontal")}),this.legendOrientValue=this.orientData[n].value,this.itemGap=this.chartsStyle.legend.itemGap,this.itemWidth=this.chartsStyle.legend.itemWidth,this.itemHeight=this.chartsStyle.legend.itemHeight,n=d.findIndex(this.visualMapTypeData,function(e){return e.value===(i.chartsStyle.visualMap.type||"continuous")}),this.visualMapTypeValue=this.visualMapTypeData[n].value,n=d.findIndex(this.dataMultiple,function(e){return e.value===(i.chartsStyle.title.id||"side")}),this.dataMultipleValue=this.dataMultiple[n].value,n=d.findIndex(this.yAxisAlignData,function(e){return e.value===(i.chartsStyle.visualMap.top||"top")}),this.vmTopValue=this.yAxisAlignData[n].value,this.vmBottom=this.chartsStyle.visualMap.bottom||null,n=d.findIndex(this.xAxisAlignData,function(e){return e.value===(i.chartsStyle.visualMap.left||"right")}),this.vmLeftValue=this.xAxisAlignData[n].value,this.vmRight=this.chartsStyle.visualMap.right||null,this.visualMapPieces=this.chartsStyle.visualMap.pieces||[],this.vmMin=this.chartsStyle.visualMap.min||0,this.vmMax=this.chartsStyle.visualMap.max||1e3,this.visualMapCategories=this.chartsStyle.visualMap.categories||[]}}}},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth},e.prototype.handleWeight=function(){this.isWeight=!this.isWeight,this.isWeight?this.textStyle.fontWeight="bold":this.textStyle.fontWeight="normal"},e.prototype.handleStyle=function(){this.isStyle=!this.isStyle,this.isStyle?this.textStyle.fontStyle="italic":this.textStyle.fontStyle="normal"},e.prototype.handleBinding=function(e){var i=this;if("c"===e){if(!this.vmCategories)return;d.findIndex(this.visualMapCategories,function(e){return e===i.vmCategories})<0&&this.visualMapCategories.push(this.vmCategories),this.vmCategories=null}else if("v"===e){if(!this.vmCategories)return;d.findIndex(this.visualMapCategories,function(e){return e===i.vmCategories})<0&&this.visualMapCategories.push(this.vmCategories),this.vmCategories=null}else if("t"===e){if(!this.vmMin||!this.vmMax)return;this.vmPiecesMin&&this.vmPiecesMax}else{if(!this.vmPiecesMin&&!this.vmPiecesMax)return;this.vmPiecesMin&&!this.vmPiecesMax?d.findIndex(this.visualMapPieces,function(e){return e.min===i.vmPiecesMin})<0&&this.visualMapPieces.push({min:this.vmPiecesMin}):!this.vmPiecesMin&&this.vmPiecesMax?d.findIndex(this.visualMapPieces,function(e){return e.max===i.vmPiecesMax})<0&&this.visualMapPieces.push({max:this.vmPiecesMax}):d.findIndex(this.visualMapPieces,function(e){return e.min===i.vmPiecesMin&&e.max===i.vmPiecesMax})<0&&this.visualMapPieces.push({min:this.vmPiecesMin,max:this.vmPiecesMax}),this.vmPiecesMin=this.vmPiecesMax=null}this.handleAddBtnDisabled()},e.prototype.handleRemove=function(e,i){var t=-1;"c"===e?(t=d.findIndex(this.visualMapCategories,function(e){return e===i}),this.visualMapCategories.splice(t,1)):(t=i.min&&!i.max?d.findIndex(this.visualMapPieces,function(e){return e.min===i.min}):!i.min&&i.max?d.findIndex(this.visualMapPieces,function(e){return e.max===i.max}):d.findIndex(this.visualMapPieces,function(e){return e.min===i.min&&e.max===i.max}),this.visualMapPieces.splice(t,1)),this.handleAddBtnDisabled()},e.prototype.handleAddBtnDisabled=function(){this.visualMapCategories.length?this.pBtn=!0:this.pBtn=!1,this.visualMapPieces.length?this.cBtn=!0:this.cBtn=!1},e.prototype.getChartsStyleOption=function(){var e={title:{id:this.dataMultipleValue||"side",text:this.title,x:this.xAxisAlignValue||"right",y:this.yAxisAlignValue||"top",textStyle:this.textStyle},legend:{itemGap:this.itemGap,itemWidth:this.itemWidth,itemHeight:this.itemHeight,align:this.legendAlignValue||"auto",orient:this.legendOrientValue||"horizontal"},visualMap:[{type:this.visualMapTypeValue||"continuous",top:this.vmTopValue||"top",bottom:this.vmBottom,left:this.vmLeftValue||"right",right:this.vmRight,dimension:1,calculable:!0,min:this.vmMin,max:this.vmMax,pieces:this.visualMapPieces,categories:this.visualMapCategories,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},outOfRange:{color:["rgba(255,255,255,.2)"]},controller:{inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},outOfRange:{color:["#444"]}},textStyle:{color:"#837"}}]};return this.visualMapTypeValue&&"continuous"===this.visualMapTypeValue?e.visualMap.calculable=!0:delete e.visualMap.calculable,"effectScatter"===this.chartsType&&(e.visualMap.push({right:"right",top:"bottom",dimension:2,type:"continuous",min:this.vmMin,max:this.vmMax,calculable:!0,itemWidth:30,itemHeight:120,textGap:30,inRange:{symbolSize:[5,30]},outOfRange:{symbolSize:[5,30],color:["rgba(255,255,255,.2)"]},textStyle:{color:"#837"},controller:{inRange:{color:["#c23531"]},outOfRange:{color:["#444"]}}}),"bottom"===e.visualMap[0].top&&"right"===e.visualMap.left?e.visualMap[1].top="top":e.visualMap[1].top="bottom"),e},e.prototype.getCustomOption=function(){if(!this.customOption)return null;try{return JSON.parse(this.customOption)}catch(e){return"error"}},e.decorators=[{type:u.Component,args:[{selector:"charts-style",template:'<div class="d-flex flex-row flex-fill h-100" (resized)="onResized($event)">\r\n  <perfect-scrollbar [config]="{}">\r\n    <div class="flex-fill farris-split-section m-1 farris-overflow-hidden">\r\n      <div class="farris-form farris-card-content-bg">\r\n        <fieldSet farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.titleOption\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="title">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.title\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <input-group [(ngModel)]="title" id="title"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="xAxisType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.xAxisOption\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    \x3c!--                  <farris-combo-list id="chartsType" [(ngModel)]="chartsTypeSelectValue" [data]="chartsTypeData"--\x3e\r\n                    \x3c!--                   [textField]="\'name\'" [idField]="\'value\'" (valueChange)="valueChange($event)" ></farris-combo-list>--\x3e\r\n                    <farris-combo-list id="xAxisType" [(ngModel)]="xAxisAlignValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.select\')"\r\n                                       [data]="xAxisAlignData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="yAxisType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.yAxisOption\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="yAxisType" [(ngModel)]="yAxisAlignValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.select\')"\r\n                                       [data]="yAxisAlignData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="lineHeight">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.rowHeight\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="lineHeight" [(ngModel)]="textStyle.lineHeight" [min]="0"\r\n                    ></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="colName">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.contentStyle\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list style="width: 50%"\r\n                                       [(ngModel)]="fontFamily" [data]="fontFamilyData" [textField]="\'name\'"\r\n                                       [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="colName">\r\n                    <span class="farris-label-text">字号:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="lineHeight" [(ngModel)]="textStyle.fontSize" [min]="0"\r\n                    ></farris-number-spinner>\r\n                  </div>\r\n                  <button class="k-button k-button-icon k-flat" [class.k-state-focused]="isWeight" id="button-search"\r\n                          (click)="handleWeight()">\r\n                    <span class="k-icon k-i-bold" role="presentation"></span>\r\n                  </button>\r\n                  <button class="k-button k-button-icon k-flat" [class.k-state-focused]="isStyle" id="button-search"\r\n                          (click)="handleStyle()">\r\n                    <span class="k-icon k-i-italic" role="presentation"></span>\r\n                  </button>\r\n                  <button class="k-button k-button-icon k-flat" id="button-search" [(colorPicker)]="textStyle.color"\r\n                          [cpOKButton]="true" [cpCancelButton]="true">\r\n                      <span [style.border-bottom-color]="textStyle.color" class="k-icon k-i-foreground-color"\r\n                            style="border-bottom-width: 2px; border-bottom-style: solid; margin-top: -2px;"\r\n                            role="presentation"></span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </fieldSet>\r\n        <fieldSet farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.multiDataOption\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="visualMapType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.multiDataType\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="visualMapType" [(ngModel)]="dataMultipleValue" [data]="dataMultiple"\r\n                                       [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.legend\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendAlignValue">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.legendAlgin\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="legendAlignValue" [(ngModel)]="legendAlignValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.select\')"\r\n                                       [data]="legendAlignData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="legendOrientValue">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.legendOrient\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="legendOrientValue" [(ngModel)]="legendOrientValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.select\')"\r\n                                       [data]="orientData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="itemGap">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.legendGap\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="itemGap" [(ngModel)]="itemGap" [min]="0"></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="itemWidth">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.itemWidth\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="itemWidth" [(ngModel)]="itemWidth" [min]="0"></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="itemHeight">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.itemHeight\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="itemHeight" [(ngModel)]="itemHeight" [min]="0"\r\n                    ></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMap\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="visualMapType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapType\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="visualMapType" [(ngModel)]="visualMapTypeValue" [data]="visualMapTypeData"\r\n                                       [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="visualMapOrientValue">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapOrient\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="visualMapOrientValue" [(ngModel)]="visualMapOrientValue" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.select\')"\r\n                                       [data]="orientData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                    </farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group form-inline farris-form-inline">\r\n                  <label class="col-form-label" for="colName">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapPosition\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <div class="col-12 col-md-12 col-lg-12">\r\n                      <div class="form-group farris-form-group flex-fill">\r\n                        <label style="width: 3.2rem; text-align: right;">\r\n                          <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapTop\')}}</span>\r\n                        </label>\r\n                        <farris-combo-list class="m-1" style="width: 30%"\r\n                                           [(ngModel)]="vmTopValue" [data]="yAxisAlignData" [textField]="\'name\'"\r\n                                           [idField]="\'value\'" [enableClear]="false">\r\n                        </farris-combo-list>\r\n\r\n\r\n                        <label style="width: 3.2rem; text-align: right;">\r\n                          <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapBottom\')}}</span>\r\n                        </label>\r\n                        <farris-number-spinner class="m-1" id="itemGap" style="width: 30%" [(ngModel)]="vmBottom"\r\n                                               [min]="0">\r\n                        </farris-number-spinner>\r\n                      </div>\r\n                    </div>\r\n                    <div class="col-12 col-md-12 col-lg-12">\r\n                      <div class="form-group farris-form-group flex-fill">\r\n                      <label style="width: 3.2rem; text-align: right;">\r\n                        <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapLeft\')}}</span>\r\n                      </label>\r\n                      <farris-combo-list class="m-1" style="width: 30%" [placeholder]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.select\')"\r\n                                         [(ngModel)]="vmLeftValue" [data]="xAxisAlignData" [textField]="\'name\'"\r\n                                         [idField]="\'value\'" [enableClear]="false">\r\n                      </farris-combo-list>\r\n                      <label style="width: 3.2rem; text-align: right;">\r\n                        <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.visualMapRight\')}}</span>\r\n                      </label>\r\n                      <farris-number-spinner class="m-1" id="itemGap" style="width: 30%" [(ngModel)]="vmRight"\r\n                                             [min]="0">\r\n                      </farris-number-spinner>\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div *ngIf="(visualMapTypeValue && visualMapTypeValue.value == \'piecewise\')"\r\n                 class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="piecewiseType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.continuous\')}}: </span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <input-group id="piecewiseType" [(ngModel)]="vmCategories"></input-group>\r\n                    <button [disabled]="cBtn" class="k-button k-button-icon" id="button-print"\r\n                            (click)="handleBinding(\'c\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf="(visualMapTypeValue && visualMapTypeValue.value == \'piecewise\')"\r\n                 class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd1">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of visualMapCategories" class="k-button k-outline mr-2"\r\n                            id="buttonadd1">\r\n                      {{feild}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                           (click)="handleRemove(\'c\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf="(visualMapTypeValue && visualMapTypeValue.value == \'piecewise\')"\r\n                 class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="piecewiseType1">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.piecewise\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    min:\r\n                    <farris-number-spinner id="itemGap" style="width: 37%" [(ngModel)]="vmPiecesMin" [min]="0">\r\n                    </farris-number-spinner>\r\n                    max:\r\n                    <farris-number-spinner id="itemGap" style="width: 37%" [(ngModel)]="vmPiecesMax" [min]="0">\r\n                    </farris-number-spinner>\r\n                    <button [disabled]="pBtn" class="k-button k-button-icon" id="button-print"\r\n                            (click)="handleBinding(\'p\')">\r\n                      <span class="k-icon k-i-plus-sm" role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div *ngIf="(visualMapTypeValue && visualMapTypeValue.value == \'piecewise\')"\r\n                 class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="buttonadd2">\r\n                    <span class="farris-label-text"></span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <button *ngFor="let feild of visualMapPieces" class="k-button k-outline mr-2"\r\n                            id="buttonadd2">\r\n                      min: {{feild.min}}, max: {{feild.max}}&nbsp;<span class="k-icon k-i-close" role="presentation"\r\n                                                                        (click)="handleRemove(\'p\', feild)"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n        <fieldSet farrisFold class="col-12">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.otherStyle\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="visualMapType">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.customStyle\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <textarea class="form-control" rows="4" [(ngModel)]="customOption"></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </perfect-scrollbar>\r\n</div>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}],chartsType:[{type:u.Input}]},e}(),G=function(){function e(e){this.injector=e,this.cls="f-utils-flex-column h-100",this.tabsSelectChange=new u.EventEmitter,this.localizeService=this.injector.get(c.LocalizeService)}return e.prototype.ngOnInit=function(){},e.prototype.handleTabSelect=function(e){var i=this.getOption();this.tabsSelectChange.emit(i)},e.prototype.chartTypeChange=function(e){this.chartsType=e},e.prototype.getOption=function(){var e={};return this.chartsTypeCmp&&(e.chartsType=this.chartsTypeCmp.getChartsTypeOption()),this.chartsDataCmp&&(e.chartsData=this.chartsDataCmp.getChartsDataOption(),e.groupSummarySet=this.chartsDataCmp.getGroupSummarySetOption()),this.chartsStyleCmp&&(e.chartsStyle=this.chartsStyleCmp.getChartsStyleOption(),e.customOption=this.chartsStyleCmp.getCustomOption()),e},e.decorators=[{type:u.Component,args:[{selector:"charts-schema-editor",template:'\x3c!--<kendo-tabstrip #tabStrip id="chartsSchemaEditor" class="schema-editor-tab h-100 pt-1" (tabSelect)="handleTabSelect($event)">--\x3e\r\n<farris-tabs  [value]="\'type\'" [contentFill]="true" [autoTitleWidth]="true"  (tabChange)="handleTabSelect($event)">\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsType.tab\')" [id] = "\'type\'">\r\n    <ng-template #content>\r\n      <charts-type [currSchema]="currSchema" class="schema-editor-tab" (chartTypeChange)="chartTypeChange($event)" ></charts-type>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsData.tab\')" [id] = "\'data\'">\r\n    <ng-template #content>\r\n      <charts-data [currSchema]="currSchema" class="schema-editor-tab" [colList]="colList" [chartsType]="chartsType" ></charts-data>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.chartsSchemaManager.chartsStyle.tab\')" [id] = "\'style\'">\r\n    <ng-template #content>\r\n      <charts-style [currSchema]="currSchema" class="schema-editor-tab" [chartsType]="chartsType" ></charts-style>\r\n    </ng-template>\r\n  </farris-tab>\r\n</farris-tabs>\r\n',encapsulation:u.ViewEncapsulation.None,styles:[".schema-editor-tab{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}"]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={cls:[{type:u.HostBinding,args:["class"]}],currSchema:[{type:u.Input}],colList:[{type:u.Input}],controlType:[{type:u.Input}],tabsSelectChange:[{type:u.Output}],chartsTypeCmp:[{type:u.ViewChild,args:[P]}],chartsDataCmp:[{type:u.ViewChild,args:[B]}],chartsStyleCmp:[{type:u.ViewChild,args:[R]}],tabs:[{type:u.ViewChild,args:[S.FarrisTabsComponent]}]},e}(),J=function(){function e(e,i){var t=this;this.schemaManager=e,this.lcpService=i,this.schemaInfo=new a.Subject,this.colList=new a.Subject,this.pageInfoChange=new a.Subject,this.operationChange=new a.Subject,this.schemaManager.schemaInfoChange.subscribe(function(e){t.schemaInfo.next(e)}),this.schemaManager.colList.subscribe(function(e){t.colList.next(e)}),this.lcpService.pageInfoChange.subscribe(function(e){t.pageInfoChange.next(e)}),this.schemaManager.operationChange.subscribe(function(e){t.operationChange.next(e)})}return e.prototype.getSchemaList=function(e,i,t,a,r){return r?this.schemaManager.getSchemaListByGroupType(e,i,t,r,a):this.schemaManager.getSchemaList(e,i,t,a)},e.prototype.getSchema=function(e,i,t,a,r){return this.schemaManager.getSchema(e,i,t,a,r)},e.prototype.saveSchema=function(e,i){return this.schemaManager.saveSchema(e,i)},e.prototype.deleteSchema=function(e,i,t,a,r){return this.schemaManager.deleteSchema(e,i,t,a,r)},e.prototype.getSpreadTemplate=function(e,i,t,a,r,n,s){return this.schemaManager.getSpreadTemplate(e,i,t,a,r,n,s)},e.prototype.getData=function(e,i){return this.lcpService.getData(e,i)},e.prototype.getCol=function(e,i){return this.lcpService.getCol(e,i)},e.prototype.getOperation=function(){return this.schemaManager.getOperation()},e.decorators=[{type:u.Injectable}],e.ctorParameters=function(){return[{type:o.SchemaManagerService},{type:o.LcpService}]},e}(),H=function(){function e(e){this.injector=e,this.columnSizeData=[60,90,160,80,80],this.subTitleType=[{label:"副标题",value:0},{label:"表尾",value:1}],this.subTitleAlign=[{label:"居左",value:0},{label:"居中",value:1},{label:"居右",value:2}],this.newSubTitle={type:0,text:"",level:1,align:0},this.alignData=[],this.currentSubTitle=null,this.localizeService=this.injector.get(c.LocalizeService),this.lcpService=this.injector.get(o.LcpService),this.subTitleType=this.localizeService.getValue("ideCmp.schemaManager.titleOption.subTitleData"),this.subTitleAlign=this.localizeService.getValue("ideCmp.schemaManager.titleOption.subTitleAlign")}return e.prototype.ngOnInit=function(){var a=this;this.subscriptions||(this.subscriptions=[]),this.subscriptions.push(a.lcpService.variablesChange.subscribe(function(e){if(e){var i=function(i){a.alignData.findIndex(function(e){return e.name.replace(e.name.substring(e.name.indexOf("[")),"").replace(/ /g,"")===i})<0&&a.alignData.push({name:i+"   ["+e[i]+"]",value:i})};for(var t in e)i(t)}}))},e.prototype.ngOnChanges=function(e){for(var i in e){var t=e[i].currentValue;if(null!=t)switch(i){case"currSchema":if(t.schemaValue&&t.schemaValue.titleOption){var a=JSON.stringify(t.schemaValue.titleOption);this.titleOption=JSON.parse(a),this.title=this.titleOption.title,this.subTitles=this.titleOption.subTitles||[]}}}},e.prototype.ngOnDestroy=function(){var e,i;if(this.subscriptions&&this.subscriptions.length)try{for(var t=A(this.subscriptions),a=t.next();!a.done;a=t.next()){a.value.unsubscribe()}}catch(r){e={error:r}}finally{try{a&&!a.done&&(i=t["return"])&&i.call(t)}finally{if(e)throw e.error}}},e.prototype.insertSubTitle=function(e){var i=Object.assign({},this.newSubTitle);this.subTitles.splice(e+1,0,i)},e.prototype.removeSubTitle=function(e){this.subTitles.splice(e,1),this.currentSubTitle&&e===this.currentSubTitle.index&&(this.currentSubTitle=null)},e.prototype.onAddSubTitle=function(){this.subTitles=k(this.subTitles),this.subTitles.push(Object.assign({},this.newSubTitle))},e.prototype.selected=function(e){this.currentSubTitle=e},e.prototype.isSelected=function(e){return!!this.currentSubTitle&&this.currentSubTitle.index===e},e.prototype.getTitleOption=function(){return this.titleOption&&(this.titleOption.title=this.title,this.titleOption.subTitles=this.subTitles),this.titleOption},e.decorators=[{type:u.Component,args:[{selector:"title-editor",template:'<div class="d-flex flex-column flex-fill position-relative h-100 m-0">\r\n  <div class="farris-group-wrap form-inline farris-form-inline m-2">\r\n    <div class="form-group farris-group-wrap mb-0">\r\n      <label class="mr-2" for="titleID">\r\n        <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.titleOption.title\')}}:</span>\r\n      </label>\r\n      <div class="farris-input-wrap">\r\n        <input-group  id="titleID" [(ngModel)]="title" ></input-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="table-header">\r\n    <table class="table table-bordered mb-0">\r\n      <colgroup>\r\n        <col *ngFor="let s of columnSizeData" [style.width]=" s + \'px\'">\r\n      </colgroup>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <button type="button" (click)="onAddSubTitle()" class="btn btn-link" style="color: black;"><span\r\n                class="f-icon f-icon-plus"></span></button>\r\n          </th>\r\n          <th><b>{{localizeService.getValue(\'ideCmp.schemaManager.titleOption.subTitleColumnName\')[0]}}</b></th>\r\n          <th><b>{{localizeService.getValue(\'ideCmp.schemaManager.titleOption.subTitleColumnName\')[1]}}</b></th>\r\n          <th><b>{{localizeService.getValue(\'ideCmp.schemaManager.titleOption.subTitleColumnName\')[2]}}</b></th>\r\n          <th><b>{{localizeService.getValue(\'ideCmp.schemaManager.titleOption.subTitleColumnName\')[3]}}</b></th>\r\n        </tr>\r\n      </thead>\r\n    </table>\r\n  </div>\r\n  <perfect-scrollbar [config]="{}" [style.height.px]="205">\r\n    <div class="table-body flex-fill" style="overflow: hidden" #tablebodybox>\r\n      <table class="table table-bordered">\r\n        <colgroup>\r\n          <col *ngFor="let s of columnSizeData" [style.width.px]="s">\r\n        </colgroup>\r\n        <tbody>\r\n          <tr *ngFor="let sub of subTitles; let index=index;" (click)="selected({\'index\':index, \'sub\': sub})"\r\n            [class.selected]="isSelected(index)">\r\n            <td>\r\n              <button type="button" (click)="insertSubTitle(index)" class="btn btn-link" style="color: black;"><span\r\n                  class="f-icon f-icon-plus"></span></button>\r\n              <button type="button" (click)="removeSubTitle(index)" class="btn btn-link" style="color: black;"><span\r\n                  class="f-icon f-icon-minus"></span></button>\r\n            </td>\r\n            <td>\r\n              <select class="form-control filter-select" [(ngModel)]="sub.type" name="subType">\r\n                <option *ngFor="let item of subTitleType" [value]="item.value">{{ item.label }}</option>\r\n              </select>\r\n            </td>\r\n            <td>\r\n              <farris-combo-list [(ngModel)]="sub.text" [data]="alignData" [textField]="\'name\'" [idField]="\'value\'" [nosearch]="true" [editable]="true"></farris-combo-list>\r\n              \x3c!-- <input-group type="text" style="width:100%" placeholder="" name="value"\r\n                [(ngModel)]="sub.text"></input-group> --\x3e\r\n            </td>\r\n            <td>\r\n              <farris-number-spinner [(ngModel)]="sub.level" [min]="1" [step]="1"></farris-number-spinner>\r\n            </td>\r\n            <td>\r\n              <select class="form-control filter-select" [(ngModel)]="sub.align" name="subAlign">\r\n                <option *ngFor="let item of subTitleAlign" [value]="item.value">{{ item.label }}</option>\r\n              </select>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </perfect-scrollbar>\r\n</div>\r\n',styles:[".filter-select{width:100%;padding-left:0;padding-right:0}.selected{background:#c2e4ff}:host{position:absolute;top:0;left:0;right:0;bottom:0}"]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}]},e}(),Z=function(){function e(e){this.injector=e,this.size={},this.colName="",this.colWidth=150,this.colVisible=!0,this.colFixed=!1,this.colWrap=!1,this.colAutoFit=!1,this.schemaTreeData=[],this.colListData=[],this.alignData=[{name:"居左",value:0},{name:"居中",value:1},{name:"居右",value:2}],this.alignSelectValue=this.alignData[1].value,this.formatTypeData=[{name:"请选择",value:0},{name:"数字",value:1},{name:"日期",value:2},{name:"逻辑",value:3}],this.formatTypeSelectValue=this.formatTypeData[0].value,this.formatText="",this.sortData=[{name:"请选择",value:0},{name:"正序",value:1},{name:"反序",value:2}],this.sortSelectValue=this.sortData[0].value,this.aggreData=[{name:"请选择",value:0},{name:"合计",value:1},{name:"最小值",value:2},{name:"最大值",value:3},{name:"计数",value:4},{name:"平均值",value:5}],this.pageSelectValue=this.aggreData[0].value,this.pageText="",this.colIsGroup=!1,this.colIsRed=!1,this.groupSelectValue=this.aggreData[0].value,this.groupSubSelectValue=this.aggreData[0].value,this.groupText="",this.totalSelectValue=this.aggreData[0].value,this.totalText="",this.formatField="",this.dimensionData=[{name:"请选择",value:0},{name:"行维度",value:1},{name:"列维度",value:2},{name:"值维度",value:3}],this.enumType=[{name:"索引",value:"0"},{name:"编号",value:"1"},{name:"名称",value:"2"}],this.dataShowOption=[{name:"默认",value:-1},{name:"自适应",value:1},{name:"折行",value:2}],this.type="String",this.dimensionSelectValue=this.dimensionData[0].value,this.showTypeSelectValue=this.enumType[0].value,this.newNodeData={data:{name:"",bindField:"",colWidth:150,visible:!0,isFixed:!1,wordWrap:!1,autoFit:!1,align:1,formatType:0,formattor:"",formatField:"",sort:0,pageAggre:0,pageAggreText:"",isGroup:!1,groupAggre:0,groupSubAggre:0,groupAggreText:"",totalAggre:0,totalAggreText:"",dimension:"",rowColor:"",type:"string",showType:"0"},expanded:!0,children:[]},this.cols=[],this.colIsGroupId="colIsGroupId"+o.EventBus.guid(),this.colVisibleId="colVisibleId"+o.EventBus.guid(),this.colFixedId="colFixedId"+o.EventBus.guid(),this.colWrapId="colWrapId"+o.EventBus.guid(),this.colAutoFitId="colAutoFitId"+o.EventBus.guid(),this.colIsRedId="colIsRedId"+o.EventBus.guid(),this.formInline=!0,this.colInfoChanged=!0,this.editable=[],this.isOrNotPaging=!0,this.localizeService=this.injector.get(c.LocalizeService),this.localId=this.injector.get(u.LOCALE_ID)||c.DEFAULT_LANGUAGE,this.formInline=this.localId.toLowerCase()===c.DEFAULT_LANGUAGE||"zh-cht"===this.localId.toLowerCase(),this.alignData=this.localizeService.getValue("ideCmp.schemaManager.columnOption.alignData"),this.formatTypeData=this.localizeService.getValue("ideCmp.schemaManager.columnOption.formatTypeData"),this.sortData=this.localizeService.getValue("ideCmp.schemaManager.columnOption.sortData"),this.aggreData=this.localizeService.getValue("ideCmp.schemaManager.columnOption.aggregateData"),this.dimensionData=this.localizeService.getValue("ideCmp.schemaManager.columnOption.dimensionData"),this.enumType=this.localizeService.getValue("ideCmp.schemaManager.columnOption.enumType"),this.dataShowOption=this.localizeService.getValue("ideCmp.schemaManager.columnOption.dataShowOption")}return e.prototype.ngOnInit=function(){this.cols=[{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.name"),width:200,template:this.nameCell},{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.binding"),width:100,template:this.bindFieldCell},{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.colWidth"),width:80,template:this.colWidthCell},{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.align"),width:80,template:this.colAlignCell},{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.show"),width:80,template:this.visibleCell},{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.fixColumn"),width:80,template:this.isFixedCell},{field:"",title:this.localizeService.getValue("ideCmp.schemaManager.columnOption.dataShow"),width:80,template:this.autoFixCell}];var e=this.currSchema&&this.currSchema.queryId?this.currSchema.queryId:"",i=o.RtfServices.getTabId(e);o.EventBus.register("pagingModeChanges",this.handlePagingModeChanged.bind(this),i)},e.prototype.ngOnChanges=function(e){var t=this,i=this;for(var a in e){var r=e[a].currentValue;if(null!=r)switch(a){case"currSchema":r.schemaValue&&r.schemaValue.otherOption&&(this.isOrNotPaging=1==r.schemaValue.otherOption.loadDataType),r.schemaValue&&r.schemaValue.columnOption&&(this.columnOption=this.objectCopy(r.schemaValue.columnOption),this.columnOption&&this.columnOption.colList&&this.columnOption.colList.length&&(r.id&&"1"!==r.id&&"prefab"!==r.id&&this.initColListData(this.columnOption.colList),this.editable=[],this.schemaTreeData=[],this.columnOption.colList.forEach(function(e){if(e.id=o.EventBus.guid(),t.editable.push({id:e.id,editable:!1}),t.schemaTreeData.push({data:e,expanded:!0,children:[]}),e.childList&&e.childList.length){var i=t.objectCopy(e.childList);e.childList=[],t.recursiveInitTreeData(i,t.schemaTreeData[t.schemaTreeData.length-1])}}),this.schemaTree.updateSerializedValue(),this.currTreeNode=this.schemaTreeData[0],this.currTreeNodeId=this.currTreeNode.data.id,this.initColInfo(),setTimeout(function(){i.schemaTree.selectNode(i.currTreeNodeId)},200)));break;case"colList":r&&r.length&&this.currSchema&&(this.initColListData(r),this.currTreeNode&&this.currTreeNode.data&&(this.currTreeNode.data.bindField&&(this.colSelectValue=d.find(this.colListData,function(e){return e.value===i.currTreeNode.data.bindField}).value),this.currTreeNode.data.formatField&&(this.formatField=d.find(this.colListData,function(e){return e.value===i.currTreeNode.data.formatField}).value)))}}},e.prototype.ngAfterViewInit=function(){},e.prototype.handleAddTreeNode=function(){var e=JSON.parse(JSON.stringify(this.newNodeData));e.data.id=o.EventBus.guid(),this.currTreeNode?this.currTreeNode.children.push(e):this.schemaTreeData.push(e),this.editable.push({id:e.data.id,editable:!0}),this.schemaTree.updateSerializedValue(),this.schemaTree.selectNode(e.data.id)},e.prototype.handleRemoveTreeNode=function(){var i=this;if(this.currTreeNode)if(this.currTreeNode.parent){var e=d.findIndex(this.currTreeNode.parent.children,function(e){return e.data.id===i.currTreeNode.data.id});this.currTreeNode.parent.children.splice(e,1)}else{e=d.findIndex(this.schemaTreeData,function(e){return e.data.id===i.currTreeNode.data.id});this.schemaTreeData.splice(e,1)}this.schemaTree.updateSerializedValue(),this.currTreeNode=undefined,this.currTreeNodeId=undefined},e.prototype.handleTreeNodeSelected=function(e){var i=this;this.currTreeNode=e.node,this.currTreeNodeId=this.currTreeNode.data.id,this.editable.forEach(function(e){e.editable=e.id===i.currTreeNodeId}),this.initColInfo()},e.prototype.handleTreeNodeUnSelected=function(e){var i=this.findTreeNodeById(e.node.data.id,[]);this.updateColInfo(i),this.currTreeNode=undefined},e.prototype.handleNodeUpAndDown=function(i){var t=this,a=this,e=d.findIndex(this.schemaTreeData,function(e){return e.data.id===a.currTreeNodeId});0<=e?(0!==e&&("up"===i||"top"===i)||e+1!==this.schemaTreeData.length&&"up"!==i&&"top"!==i)&&(this.updateColInfo(this.schemaTreeData[e]),"up"===i?this.schemaTreeData[e]=this.schemaTreeData.splice(e-1,1,this.schemaTreeData[e])[0]:"down"===i?this.schemaTreeData[e]=this.schemaTreeData.splice(e+1,1,this.schemaTreeData[e])[0]:"top"===i?this.schemaTreeData[e]=this.schemaTreeData.splice(0,1,this.schemaTreeData[e])[0]:"bottom"===i&&(this.schemaTreeData[e]=this.schemaTreeData.splice(this.schemaTreeData.length-1,1,this.schemaTreeData[e])[0]),this.schemaTree.updateSerializedValue()):this.schemaTreeData.forEach(function(e){e.children&&e.children.length&&t.recursiveNodeUpAndDown(e.children,i)})},e.prototype.handleNodeLeft=function(){var i=this;if(this.currTreeNode&&this.currTreeNode.parent){var t=this,e=d.findIndex(this.schemaTreeData,function(e){return e.data.id===t.currTreeNode.parent.data.id});if(0<=e){var a=d.findIndex(t.currTreeNode.parent.children,function(e){return e.data.id===t.currTreeNode.data.id});this.updateColInfo(t.currTreeNode.parent.children[a]),this.schemaTreeData.splice(e+1,0,t.currTreeNode.parent.children.splice(a,1)[0]),this.schemaTree.updateSerializedValue()}else this.schemaTreeData.forEach(function(e){e.children&&e.children.length&&i.recursiveNodeLeft(e.children)})}},e.prototype.handleNodeRight=function(){var i=this;if(this.currTreeNodeId){var t=this,e=d.findIndex(this.schemaTreeData,function(e){return e.data.id===t.currTreeNodeId});0<e?(this.updateColInfo(this.schemaTreeData[e]),this.schemaTreeData[e-1].children.push(this.schemaTreeData.splice(e,1)[0]),this.schemaTree.updateSerializedValue()):this.schemaTreeData.forEach(function(e){e.children&&e.children.length&&i.recursiveNodeRight(e.children)})}},e.prototype.handleIsGroupClick=function(e){this.colIsGroup&&(this.groupSelectValue=this.aggreData[0].value,this.groupText="",this.groupSubSelectValue=this.aggreData[0].value,this.currTreeNode&&this.currTreeNode.data&&(this.currTreeNode.data.visible=!1)),e&&1==e.isGroup&&(e.visible=!1)},e.prototype.handleVisible=function(e){e.isGroup&&(e.visible=!1)},e.prototype.recursiveNodeUpAndDown=function(e,i){var t=this,a=this,r=d.findIndex(e,function(e){return e.data.id===a.currTreeNodeId});0<=r?(0!==r&&("up"===i||"top"===i)||r+1!==e.length&&"up"!==i&&"top"!==i)&&(this.updateColInfo(e[r]),"up"===i?e[r]=e.splice(r-1,1,e[r])[0]:"down"===i?e[r]=e.splice(r+1,1,e[r])[0]:"top"===i?e[r]=e.splice(0,1,e[r])[0]:"bottom"===i&&(e[r]=e.splice(e.length-1,1,e[r])[0]),this.schemaTree.updateSerializedValue()):e.forEach(function(e){e.children&&e.children.length&&t.recursiveNodeUpAndDown(e.children,i)})},e.prototype.recursiveNodeLeft=function(e){var i=this;if(this.currTreeNode&&this.currTreeNode.parent){var t=this,a=d.findIndex(e,function(e){return e.data.id===t.currTreeNode.parent.data.id});if(0<=a){var r=d.findIndex(t.currTreeNode.parent.children,function(e){return e.data.id===t.currTreeNodeId});this.updateColInfo(t.currTreeNode.parent.children[r]),e.splice(a+1,0,t.currTreeNode.parent.children.splice(r,1)[0]),this.schemaTree.updateSerializedValue()}else e.forEach(function(e){e.children&&e.children.length&&i.recursiveNodeLeft(e.children)})}},e.prototype.recursiveNodeRight=function(e){var i=this,t=this,a=d.findIndex(e,function(e){return e.data.id===t.currTreeNodeId});0<a?(this.updateColInfo(e[a]),e[a-1].children.push(e.splice(a,1)[0]),this.schemaTree.updateSerializedValue()):e.forEach(function(e){e.children&&e.children.length&&i.recursiveNodeRight(e.children)})},e.prototype.initColInfo=function(){var i=this;this.colName=this.currTreeNode.data.name,this.colWidth=this.currTreeNode.data.colWidth,this.colVisible=this.currTreeNode.data.visible,this.colFixed=this.currTreeNode.data.isFixed,this.colWrap=null!=this.currTreeNode.data.wordWrap&&this.currTreeNode.data.wordWrap!==undefined&&this.currTreeNode.data.wordWrap,this.colAutoFit=null!=this.currTreeNode.data.autoFit&&this.currTreeNode.data.autoFit!==undefined&&this.currTreeNode.data.autoFit,this.alignSelectValue=this.alignData[this.currTreeNode.data.align].value;var e=0;if(this.currTreeNode.data.formatType&&(e=this.currTreeNode.data.formatType),this.formatTypeSelectValue=this.formatTypeData[e].value,this.formatText=this.formatTypeSelectValue&&0!==this.formatTypeSelectValue?this.currTreeNode.data.formattor:"",this.sortSelectValue=this.sortData[this.currTreeNode.data.sort].value,this.pageSelectValue=this.currTreeNode.data.pageAggre?this.aggreData[this.currTreeNode.data.pageAggre].value:this.aggreData[0].value,this.pageText=this.currTreeNode.data.pageAggreText?this.currTreeNode.data.pageAggreText:"",this.colIsGroup=null!==this.currTreeNode.data.isGroup&&this.currTreeNode.data.isGroup!==undefined&&this.currTreeNode.data.isGroup,this.colIsRed=null!==this.currTreeNode.data.isRed&&this.currTreeNode.data.isRed!==undefined&&this.currTreeNode.data.isRed,this.groupSelectValue=this.aggreData[this.currTreeNode.data.groupAggre].value,this.groupSubSelectValue=this.aggreData[null==this.currTreeNode.data.groupSubAggre||this.currTreeNode.data.groupSubAggre===undefined?0:this.currTreeNode.data.groupSubAggre].value,this.groupText=this.currTreeNode.data.groupAggreText,this.totalSelectValue=this.aggreData[this.currTreeNode.data.totalAggre].value,this.totalText=this.currTreeNode.data.totalAggreText,this.colListData&&this.colListData.length){var t=d.find(this.colListData,function(e){return e.value===i.currTreeNode.data.bindField});this.colSelectValue=t&&t.value,t=d.find(this.colListData,function(e){return e.value===i.currTreeNode.data.formatField}),this.formatField=t&&t.value}this.dimensionSelectValue=this.dimensionData[this.currTreeNode.data.dimension]&&this.dimensionData[this.currTreeNode.data.dimension].value,this.rowColor=this.currTreeNode.data.rowColor,this.type=this.currTreeNode.data.type,this.showTypeSelectValue=this.enumType[this.currTreeNode.data.showType||0].value},e.prototype.handleWrap=function(e){"wrap"===e?this.colAutoFit=!this.colWrap:this.colWrap=!this.colAutoFit},e.prototype.updateColInfo=function(e){if(e){var i=0;this.formatTypeSelectValue&&(i=this.formatTypeSelectValue),e.data.formatType=i,e.data.formattor=i&&0!==i?this.formatText:"",e.data.formatField=i&&1===i&&this.formatField?this.formatField:"",e.data.sort=this.sortSelectValue,e.data.pageAggre=this.pageSelectValue,e.data.pageAggreText=this.pageText,e.data.isGroup=this.colIsGroup,e.data.isRed=this.colIsRed,e.data.groupAggre=this.groupSelectValue,e.data.groupSubAggre=this.groupSubSelectValue,e.data.groupAggreText=this.groupText,e.data.totalAggre=this.totalSelectValue,e.data.totalAggreText=this.totalText,1==this.colIsGroup&&(e.data.visible=!1),this.dimensionSelectValue?e.data.dimension=this.dimensionSelectValue:e.data.dimension=this.dimensionData[0].value,this.rowColor&&(e.data.rowColor=this.rowColor),this.showTypeSelectValue&&(e.data.showType=this.showTypeSelectValue)}},e.prototype.findTreeNodeById=function(e,i){if(i&&i.length)for(t=0;t<i.length;t++){if(i[t].data.id===e)return i[t];if(i[t].children&&i[t].children.length)if(a=this.findTreeNodeById(e,i[t].children))return a}else for(var t=0;t<this.schemaTreeData.length;t++){if(this.schemaTreeData[t].data.id===e)return this.schemaTreeData[t];var a;if(this.schemaTreeData[t].children&&this.schemaTreeData[t].children.length)if(a=this.findTreeNodeById(e,this.schemaTreeData[t].children))return a}},e.prototype.recursiveInitTreeData=function(e,t){var a=this;e.forEach(function(e){if(e.id=o.EventBus.guid(),a.editable.push({id:e.id,editable:!1}),t.children.push({data:e,expanded:!0,children:[]}),e.childList&&e.childList.length){var i=a.objectCopy(e.childList);e.childList=[],a.recursiveInitTreeData(i,t.children[t.children.length-1])}})},e.prototype.initColListData=function(e){var i=this;e.forEach(function(e){i.recursiveInitColListData(null,e)})},e.prototype.recursiveInitColListData=function(e,i){var t=this;i?(this.colListData.findIndex(function(e){return e.value===i.bindField})<0&&this.colListData.push({name:i.name+"("+i.bindField+")",value:i.bindField}),i.childList&&i.childList.length&&this.recursiveInitColListData(i.childList,null)):e.forEach(function(i){t.colListData.findIndex(function(e){return e.value===i.bindField})<0&&t.colListData.push({name:i.name+"("+i.bindField+")",value:i.bindField}),i.childList&&i.childList.length&&t.recursiveInitColListData(i.childList,null)})},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth,this.schemaTree&&this.schemaTree.resize(this.size)},e.prototype.getColumnOption=function(){var t=this,a=[];return this.currTreeNode&&this.updateColInfo(this.currTreeNode),this.schemaTreeData&&this.schemaTreeData.length&&this.schemaTreeData.forEach(function(e){var i=t.objectCopy(e.data);delete i.id,i.childList=[],a.push(i),e.children&&e.children.length&&t.recursiveGetTreeNodes(e.children,i)}),a},e.prototype.onValueChange=function(e){1===e.value?(this.currTreeNode.data.autoFit=!0,this.currTreeNode.data.wordWrap=!1):(2===e.value?this.currTreeNode.data.wordWrap=!0:this.currTreeNode.data.wordWrap=!1,this.currTreeNode.data.autoFit=!1)},e.prototype.handleInfoChanged=function(e){this.colInfoChanged=0===e},e.prototype.handleNgModelChange=function(e){this.schemaTree.selectedRow&&e.id===this.schemaTree.selectedRow.id||this.schemaTree.selectNode(e.id)},e.prototype.getComboboxName=function(e,i){var t="";switch(e){case 0:i=-1===i?0:i,t=this.dataShowOption[i].name}return t},e.prototype.getAlignName=function(e){return this.alignData[e].name?this.alignData[e].name:""},e.prototype.findEditable=function(i){return d.find(this.editable,function(e){return e.id===i})},e.prototype.recursiveGetTreeNodes=function(e,t){var a=this;e.forEach(function(e){t.childList||(t.childList=[]);var i=a.objectCopy(e.data);delete i.id,i.childList=[],t.childList.push(i),e.children&&e.children.length&&a.recursiveGetTreeNodes(e.children,i)})},e.prototype.objectCopy=function(e){var i=JSON.stringify(e),t=JSON.parse(i);return 1==t.isGroup&&(t.visible=!1),t},e.prototype.handlePagingModeChanged=function(e){this.isOrNotPaging=1===e.value,this.isOrNotPaging?(this.totalText="",this.totalSelectValue=0):(this.pageText="",this.pageSelectValue=0)},e.decorators=[{type:u.Component,args:[{selector:"column-editor",template:'<div #colToolbar class="flex-roww">\r\n  <div class="navbar p-0">\r\n    <div>\r\n      <button [class]="colInfoChanged == true ? \'btn btn-primary\' : \'btn btn-secondary\'" id="button-edit1" (click)="handleInfoChanged(0)">\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.selection1\')}}</button>\r\n      <button [class]="colInfoChanged == false ? \'btn btn-primary\' : \'btn btn-secondary\'" id="button-edit2"\r\n        (click)="handleInfoChanged(1)">\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.selection2\')}}</button>\r\n    </div>\r\n    \x3c!-- <label class="farris-form-title mr-auto" for="page-header-title">\r\n      <span></span>\r\n    </label> --\x3e\r\n    <div class="btn-toolbar btn-group-lg" id="page-header-toolbar">\r\n      <button *ngIf="controlType!=\'crosstab\'" class="btn btn-link p-1 mr-1" id="button-edit"\r\n        (click)="handleAddTreeNode()">\r\n        <span id="btnAdd" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTVweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTUgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWKoOWPtzwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEwNjEuMDAwMDAwLCAtMTk3LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YigLemZpC0oMyknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDc0OS4wMDAwMDAsIDIuMDAwMDAwKSc+PGcgaWQ9J+WKoOWPtyc+PGNpcmNsZSBpZD0n5qSt5ZyG5b2iJyBzdHJva2U9JyMxRTgwRkYnIGN4PSc3LjUnIGN5PSc3LjUnIHI9JzYuNSc+PC9jaXJjbGU+PHBhdGggZD0nTTgsOCBMOCwxMC4xMTIyNzc5IEM4LDEwLjIxNTEwOTggNy45NDczMjA1MiwxMC4zMTM3MyA3Ljg1MzU1MDc5LDEwLjM4NjQ0MjIgQzcuNzU5NzgxMDcsMTAuNDU5MTU0NSA3LjYzMjYwMjQ5LDEwLjUwMDAwMjYgNy40OTk5OTM3NCwxMC41IEw3LjUwMDAwNjI1LDEwLjQ5OTk5MDMgQzcuMzY3Mzk1MzMsMTAuNDk5OTkyOSA3LjI0MDIxNDg2LDEwLjQ1OTE0MzUgNy4xNDY0NDQ3OCwxMC4zODY0MjkxIEM3LjA1MjY3NDcsMTAuMzEzNzE0NyA2Ljk5OTk5NjY4LDEwLjIxNTA5MjEgNywxMC4xMTIyNTg1IEw3LDggTDQuODg3NjY5NjgsOCBDNC42NzM1NTU3MSw3Ljk5OTk1NjMyIDQuNSw3Ljc3NjExMTQ5IDQuNSw3LjUgQzQuNSw3LjIyMzg4ODUxIDQuNjczNTU1NzEsNy4wMDAwNDM2OCA0Ljg4NzY2OTY4LDcgTDcsNyBMNyw0Ljg4NzcyNyBDNyw0LjY3MzU5MTI5IDcuMjIzODU3NjMsNC41IDcuNSw0LjUgQzcuNzc2MTQyMzcsNC41IDgsNC42NzM1OTEyOSA4LDQuODg3NzI3IEw4LDcgTDEwLjExMjMzMDMsNyBDMTAuMzI2NDQ0Myw3LjAwMDA0MzY4IDEwLjUsNy4yMjM4ODg1MSAxMC41LDcuNSBDMTAuNSw3Ljc3NjExMTQ5IDEwLjMyNjQ0NDMsNy45OTk5NTYzMiAxMC4xMTIzMzAzLDggTDgsOCBaJyBpZD0n5ZCI5bm25b2i54q2JyBmaWxsPScjMUU4MEZGJz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=" style="width: 15px; height: 15px; display: block;" />\r\n        </span>\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.btnAdd\')}}</button>\r\n      <button *ngIf="controlType!=\'crosstab\'" class="btn btn-link p-1 mr-1" id="button-edit"\r\n        (click)="handleRemoveTreeNode()">\r\n        <span id="btnDel" class="f-icon f-icon-yxs_delete pt-1 pr-3" role="presentation">\r\n        </span>\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.btnDelete\')}}</button>\r\n      <span *ngIf="controlType!=\'crosstab\'" class="d-inline-block m-2"\r\n        style="width:1px; background-color: #1890ff"></span>\r\n      <button class="btn btn-link p-1 mr-1" id="button-edit" (click)="handleNodeUpAndDown(\'up\')">\r\n        <span id="btnUp" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTYgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxNTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTExOTQuMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg4ODIuMDAwMDAwLCAzLjAwMDAwMCknPjxwYXRoIGQ9J00xMC45MTcwMzA2LDMuNTI0MjgzMDEgTDkuNzAxMzEwMDUsNC43NDEwNTI5NSBDOS41NjYzNzYwOCw0Ljg3Njg0MDQzIDkuMzgyNjk1NTIsNC45NTI5NTQ2MyA5LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzkuMDAwODc4NzgsNC45NTM2MzQ1MyA4LjgxODg4NjM1LDQuODc3NDg4MzkgOC42ODczMzYyNSw0Ljc0MTA1Mjk1IEM4LjQxMDc2NDkzLDQuNDYzMDQyNiA4LjQxMDc2NDkzLDQuMDEzODIzMTEgOC42ODczMzYyNSwzLjczNTgxMjc3IEwxMS4yMTU3MjA1LDEuMjA3NDI4NDkgQzExLjQ5MzczMDksMC45MzA4NTcxNjkgMTEuOTQyOTUwNCwwLjkzMDg1NzE2OSAxMi4yMjA5NjA3LDEuMjA3NDI4NDkgTDE0Ljc1NjMzMTksMy43MzU4MTI3NyBDMTUuMDMyMzI0NSw0LjAxMzcyMTE2IDE1LjAzMjMyNDUsNC40NjIyNzExOSAxNC43NTYzMzE5LDQuNzQwMTc5NTggQzE0LjQ3ODMyMTUsNS4wMTY3NTA5IDE0LjAyOTEwMiw1LjAxNjc1MDkgMTMuNzUxMDkxNyw0Ljc0MDE3OTU4IEwxMi4zNDQ5NzgyLDMuMzM1Mjc4MjYgTDEyLjM0NDk3ODIsMTAuODQyODgzNiBDMTIuMzQyMTI0MSwxMS4yMzYyNTM0IDEyLjAyMzkzNzQsMTEuNTU0NDQwMSAxMS42MzA1Njc3LDExLjU1NzI5NDEgQzExLjIzNzA4MjUsMTEuNTU2ODEyOSAxMC45MTc1MTE4LDExLjIzNzI0MjIgMTAuOTE3MDMwNiwxMC44NDI4ODM2IEwxMC45MTcwMzA2LDMuNTI0MjgzMDEgWiBNMS43MTM1MzcxMSwxMy44MDA5NjIyIEMxLjMxOTg1OTg2LDEzLjgwMDAwMiAxLjAwMDk2MDE5LDEzLjQ4MTEwMjQgMSwxMy4wODc0MjUxIEMxLDEyLjY5NDQxMiAxLjMyMDUyNDAyLDEyLjM3MzAxNDcgMS43MTQ0MTA0OCwxMi4zNzMwMTQ3IEwxNC4yNDU0MTQ4LDEyLjM3MzAxNDcgQzE0LjYzODQyNzksMTIuMzczMDE0NyAxNC45NTk4MjUzLDEyLjY5MzUzODcgMTQuOTU5ODI1MywxMy4wODc0MjUxIEMxNC45NTk4MjUzLDEzLjQ4MDQzODIgMTQuNjQ2Mjg4MiwxMy44MDA5NjIyIDE0LjI0NTQxNDgsMTMuODAwOTYyMiBMMS43MTM1MzcxMSwxMy44MDA5NjIyIFogTTEuNzE1MjgzODQsMTAuMjk5ODUwNyBDMS4zMjA5MjUzMywxMC4yOTkzNjk1IDEuMDAxMzU0NTgsOS45Nzk3OTg3MSAxLjAwMDg3MzM2LDkuNTg1NDQwMiBDMS4wMDA4NzMzNiw5LjE5MjQyNzEgMS4zMjEzOTczOSw4Ljg3MTkwMzA3IDEuNzE1MjgzODQsOC44NzE5MDMwNyBMNy4wNDgwMzQ5NCw4Ljg3MTkwMzA3IEM3LjQ0MTA0ODA0LDguODcxOTAzMDcgNy43NjI0NDU0Miw5LjE5MjQyNzEgNy43NjI0NDU0Miw5LjU4NTQ0MDIgQzcuNzYyNDQ1NDIsOS45Nzg0NTMzIDcuNDQxOTIxMzksMTAuMjk5ODUwNyA3LjA0ODAzNDk0LDEwLjI5OTg1MDcgTDEuNzE1MjgzODQsMTAuMjk5ODUwNyBaIE0xLjcxNTI4Mzg0LDYuNzk4NzM5MSBDMS4zMjEyNjU1Niw2Ljc5ODI1MDU2IDEuMDAxODM1MjcsNi40NzkyMTA3NyAxLjAwMDg3MzM2LDYuMDg1MTkzMzcgQzEuMDAwODczMzYsNS42OTIxODAyNiAxLjMyMTM5NzM5LDUuMzcwNzgyODkgMS43MTUyODM4NCw1LjM3MDc4Mjg5IEw3LjA0ODAzNDk0LDUuMzcwNzgyODkgQzcuNDQxMDQ4MDQsNS4zNzA3ODI4OSA3Ljc2MjQ5MTIzLDUuNjkxMzA2OTEgNy43NjI0OTEyMyw2LjA4NTE5MzM3IEM3Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNy42ODgwNzU1Myw2LjQ1NjgzMjA5IDcuNTUzOTE5OTUsNi41OTA4MjM2NyBDNy40MTk3NjQzNiw2LjcyNDgxNTI2IDcuMjM3NjQxMzYsNi43OTk2NjM1MSA3LjA0ODAzNDk0LDYuNzk4NzM5MSBMMS43MTUyODM4NCw2Ljc5ODczOTEgWiBNMS43MTUyODM4NCwzLjI5NzYxODkyIEMxLjMyMTI2NTU2LDMuMjk3MTM4OTkgMS4wMDE4MzUyNiwyLjk3ODA5OTE5IDEuMDAwODczMzYsMi41ODQwODE3OSBDMS4wMDA4NzMzNiwyLjE5MTA2ODY5IDEuMzIxMzk3MzksMS44Njk2NzEzMSAxLjcxNTI4Mzg0LDEuODY5NjcxMzEgTDcuMDQ4MDM0OTQsMS44Njk2NzEzMSBDNy40MjU1Nzc4OSwxLjg5MjU1MjY2IDcuNzIwMDQ3NzIsMi4yMDU0MDk0MyA3LjcyMDA0NzcyLDIuNTgzNjQ1MTEgQzcuNzIwMDQ3NzIsMi45NjE4ODA4IDcuNDI1NTc3ODksMy4yNzQ3Mzc1NiA3LjA0ODAzNDk0LDMuMjk3NjE4OTIgTDEuNzE1MjgzODQsMy4yOTc2MTg5MiBaJyBpZD0n5b2i54q2JyBzdHJva2U9JyNGRkZGRkYnIHN0cm9rZS13aWR0aD0nMC4yJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjwvcGF0aD48cmVjdCBpZD0n55+p5b2iJyB4PScwJyB5PScwJyB3aWR0aD0nMTQnIGhlaWdodD0nMTQnPjwvcmVjdD48L2c+PC9nPjwvZz48L2c+PC9zdmc+" style="width: 15px; height: 14px; display: block;" />\r\n        </span>\r\n      </button>\r\n      \x3c!-- {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.btnUp\')}} --\x3e\r\n      <button class="btn btn-link p-1 mr-1" id="button-edit" (click)="handleNodeUpAndDown(\'down\')">\r\n        <span id="btnDown" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTZweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTYgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxNzwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyMjEuMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE3JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg5MDkuMDAwMDAwLCAzLjAwMDAwMCknPjxwYXRoIGQ9J00xMC45MTcwMzA2LDMuNTI0MjgzMDQgTDkuNzAxMzEwMDQsNC43NDEwNTI5NCBDOS41NjYzNzYwNyw0Ljg3Njg0MDQyIDkuMzgyNjk1NTEsNC45NTI5NTQ2MyA5LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzkuMDAwODc4NzgsNC45NTM2MzQ1MiA4LjgxODg4NjM1LDQuODc3NDg4MzkgOC42ODczMzYyNSw0Ljc0MTA1Mjk0IEM4LjQxMDc2NDkyLDQuNDYzMDQyNiA4LjQxMDc2NDkyLDQuMDEzODIzMTEgOC42ODczMzYyNSwzLjczNTgxMjc2IEwxMS4yMTU3MjA2LDEuMjA3NDI4NDkgQzExLjQ5MzczMDksMC45MzA4NTcxNyAxMS45NDI5NTA0LDAuOTMwODU3MTcgMTIuMjIwOTYwNywxLjIwNzQyODQ5IEwxNC43NTYzMzE5LDMuNzM1ODEyNzYgQzE1LjAzMjMyNDUsNC4wMTM3MjExNSAxNS4wMzIzMjQ1LDQuNDYyMjcxMTkgMTQuNzU2MzMxOSw0Ljc0MDE3OTU4IEMxNC40NzgzMjE2LDUuMDE2NzUwOSAxNC4wMjkxMDIxLDUuMDE2NzUwOSAxMy43NTEwOTE3LDQuNzQwMTc5NTggTDEyLjM0NDk3ODIsMy4zMzUyNzgyIEwxMi4zNDQ5NzgyLDEwLjg0Mjg4MzcgQzEyLjM0MjEyNDEsMTEuMjM2MjUzNCAxMi4wMjM5Mzc1LDExLjU1NDQ0MDEgMTEuNjMwNTY3NywxMS41NTcyOTQxIEMxMS4yMzcwODI2LDExLjU1NjgxMjkgMTAuOTE3NTExOCwxMS4yMzcyNDIyIDEwLjkxNzAzMDYsMTAuODQyODgzNyBMMTAuOTE3MDMwNiwzLjUyNDI4MzA0IFogTTEuNzEzNTM3MTEsMTMuODAwOTYyMyBDMS4zMTk4NTk4NiwxMy44MDAwMDIxIDEuMDAwOTYwMTksMTMuNDgxMTAyNCAxLDEzLjA4NzQyNTEgQzEsMTIuNjk0NDEyIDEuMzIwNTI0MDIsMTIuMzczMDE0NyAxLjcxNDQxMDQ4LDEyLjM3MzAxNDcgTDE0LjI0NTQxNDksMTIuMzczMDE0NyBDMTQuNjM4NDI4LDEyLjM3MzAxNDcgMTQuOTU5ODI1NCwxMi42OTM1Mzg3IDE0Ljk1OTgyNTQsMTMuMDg3NDI1MSBDMTQuOTU5ODI1NCwxMy40ODA0MzgzIDE0LjY0NjI4ODIsMTMuODAwOTYyMyAxNC4yNDU0MTQ5LDEzLjgwMDk2MjMgTDEuNzEzNTM3MTEsMTMuODAwOTYyMyBaIE0xLjcxNTI4Mzg0LDEwLjI5OTg1MDcgQzEuMzIwOTI1MzMsMTAuMjk5MzY5NSAxLjAwMTM1NDU4LDkuOTc5Nzk4NzEgMS4wMDA4NzMzNiw5LjU4NTQ0MDIgQzEuMDAwODczMzYsOS4xOTI0MjcwOSAxLjMyMTM5NzM5LDguODcxOTAzMDcgMS43MTUyODM4NCw4Ljg3MTkwMzA3IEw3LjA0ODAzNDk0LDguODcxOTAzMDcgQzcuNDQxMDQ4MDQsOC44NzE5MDMwNyA3Ljc2MjQ0NTQxLDkuMTkyNDI3MDkgNy43NjI0NDU0MSw5LjU4NTQ0MDIgQzcuNzYyNDQ1NDEsOS45Nzg0NTMzIDcuNDQxOTIxMzksMTAuMjk5ODUwNyA3LjA0ODAzNDk0LDEwLjI5OTg1MDcgTDEuNzE1MjgzODQsMTAuMjk5ODUwNyBaIE0xLjcxNTI4Mzg0LDYuNzk4NzM5MSBDMS4zMjEyNjU1Niw2Ljc5ODI1MDU1IDEuMDAxODM1MjcsNi40NzkyMTA3NiAxLjAwMDg3MzM2LDYuMDg1MTkzMzYgQzEuMDAwODczMzYsNS42OTIxODAyNiAxLjMyMTM5NzM5LDUuMzcwNzgyODggMS43MTUyODM4NCw1LjM3MDc4Mjg4IEw3LjA0ODAzNDk0LDUuMzcwNzgyODggQzcuNDQxMDQ4MDQsNS4zNzA3ODI4OCA3Ljc2MjQ5MTIyLDUuNjkxMzA2OTEgNy43NjI0OTEyMiw2LjA4NTE5MzM2IEM3Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNy42ODgwNzU1Myw2LjQ1NjgzMjA5IDcuNTUzOTE5OTQsNi41OTA4MjM2NyBDNy40MTk3NjQzNSw2LjcyNDgxNTI2IDcuMjM3NjQxMzYsNi43OTk2NjM1MSA3LjA0ODAzNDk0LDYuNzk4NzM5MSBMMS43MTUyODM4NCw2Ljc5ODczOTEgWiBNMS43MTUyODM4NCwzLjI5NzYxODkxIEMxLjMyMTI2NTU2LDMuMjk3MTM4OTkgMS4wMDE4MzUyNiwyLjk3ODA5OTE5IDEuMDAwODczMzYsMi41ODQwODE3OSBDMS4wMDA4NzMzNiwyLjE5MTA2ODY4IDEuMzIxMzk3MzksMS44Njk2NzEzMSAxLjcxNTI4Mzg0LDEuODY5NjcxMzEgTDcuMDQ4MDM0OTQsMS44Njk2NzEzMSBDNy40MjU1Nzc4OCwxLjg5MjU1MjY2IDcuNzIwMDQ3NzEsMi4yMDU0MDk0MiA3LjcyMDA0NzcxLDIuNTgzNjQ1MTEgQzcuNzIwMDQ3NzEsMi45NjE4ODA4IDcuNDI1NTc3ODgsMy4yNzQ3Mzc1NiA3LjA0ODAzNDk0LDMuMjk3NjE4OTEgTDEuNzE1MjgzODQsMy4yOTc2MTg5MSBaJyBpZD0n5b2i54q2JyBzdHJva2U9JyNGRkZGRkYnIHN0cm9rZS13aWR0aD0nMC4yJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDcuOTgxNjYzLCA3LjQwMDQ4MSkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtNy45ODE2NjMsIC03LjQwMDQ4MSkgJz48L3BhdGg+PHJlY3QgaWQ9J+efqeW9oicgeD0nMCcgeT0nMCcgd2lkdGg9JzE0JyBoZWlnaHQ9JzE0Jz48L3JlY3Q+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==" style="width: 15px; height: 14px; display: block;" />\r\n        </span>\r\n      </button>\r\n      \x3c!-- {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.btnDown\')}} --\x3e\r\n      <button *ngIf="controlType!=\'crosstab\'" class="btn btn-link p-1 mr-1" id="button-edit" (click)="handleNodeLeft()">\r\n        <span id="btnLeft" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTRweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTQgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxODwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyNDguMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE4JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg5MzYuMDAwMDAwLCAzLjAwMDAwMCknPjxyZWN0IGlkPSfnn6nlvaInIHg9JzAnIHk9JzAnIHdpZHRoPScxNCcgaGVpZ2h0PScxNCc+PC9yZWN0PjxwYXRoIGQ9J005LjkxNzAzMDU3LDMuNTI0MjgzMDEgTDguNzAxMzEwMDUsNC43NDEwNTI5NSBDOC41NjYzNzYwOCw0Ljg3Njg0MDQzIDguMzgyNjk1NTIsNC45NTI5NTQ2MyA4LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzguMDAwODc4NzgsNC45NTM2MzQ1MyA3LjgxODg4NjM1LDQuODc3NDg4MzkgNy42ODczMzYyNSw0Ljc0MTA1Mjk1IEM3LjQxMDc2NDkzLDQuNDYzMDQyNiA3LjQxMDc2NDkzLDQuMDEzODIzMTEgNy42ODczMzYyNSwzLjczNTgxMjc3IEwxMC4yMTU3MjA1LDEuMjA3NDI4NDkgQzEwLjQ5MzczMDksMC45MzA4NTcxNjkgMTAuOTQyOTUwNCwwLjkzMDg1NzE2OSAxMS4yMjA5NjA3LDEuMjA3NDI4NDkgTDEzLjc1NjMzMTksMy43MzU4MTI3NyBDMTQuMDMyMzI0NSw0LjAxMzcyMTE2IDE0LjAzMjMyNDUsNC40NjIyNzExOSAxMy43NTYzMzE5LDQuNzQwMTc5NTggQzEzLjQ3ODMyMTUsNS4wMTY3NTA5IDEzLjAyOTEwMiw1LjAxNjc1MDkgMTIuNzUxMDkxNyw0Ljc0MDE3OTU4IEwxMS4zNDQ5NzgyLDMuMzM1Mjc4MjYgTDExLjM0NDk3ODIsMTAuODQyODgzNiBDMTEuMzQyMTI0MSwxMS4yMzYyNTM0IDExLjAyMzkzNzQsMTEuNTU0NDQwMSAxMC42MzA1Njc3LDExLjU1NzI5NDEgQzEwLjIzNzA4MjUsMTEuNTU2ODEyOSA5LjkxNzUxMTc5LDExLjIzNzI0MjIgOS45MTcwMzA1NywxMC44NDI4ODM2IEw5LjkxNzAzMDU3LDMuNTI0MjgzMDEgWiBNMC43MTM1MzcxMTQsMTMuODAwOTYyMiBDMC4zMTk4NTk4NTksMTMuODAwMDAyIDAuMDAwOTYwMTk0NTgxLDEzLjQ4MTEwMjQgMCwxMy4wODc0MjUxIEMwLDEyLjY5NDQxMiAwLjMyMDUyNDAyMywxMi4zNzMwMTQ3IDAuNzE0NDEwNDc5LDEyLjM3MzAxNDcgTDEzLjI0NTQxNDgsMTIuMzczMDE0NyBDMTMuNjM4NDI3OSwxMi4zNzMwMTQ3IDEzLjk1OTgyNTMsMTIuNjkzNTM4NyAxMy45NTk4MjUzLDEzLjA4NzQyNTEgQzEzLjk1OTgyNTMsMTMuNDgwNDM4MiAxMy42NDYyODgyLDEzLjgwMDk2MjIgMTMuMjQ1NDE0OCwxMy44MDA5NjIyIEwwLjcxMzUzNzExNCwxMy44MDA5NjIyIFogTTAuNzE1MjgzODQzLDEwLjI5OTg1MDcgQzAuMzIwOTI1MzMsMTAuMjk5MzY5NSAwLjAwMTM1NDU4NDA3LDkuOTc5Nzk4NzEgMC4wMDA4NzMzNjQxNTEsOS41ODU0NDAyIEMwLjAwMDg3MzM2NDE1MSw5LjE5MjQyNzEgMC4zMjEzOTczODcsOC44NzE5MDMwNyAwLjcxNTI4Mzg0Myw4Ljg3MTkwMzA3IEw2LjA0ODAzNDk0LDguODcxOTAzMDcgQzYuNDQxMDQ4MDQsOC44NzE5MDMwNyA2Ljc2MjQ0NTQyLDkuMTkyNDI3MSA2Ljc2MjQ0NTQyLDkuNTg1NDQwMiBDNi43NjI0NDU0Miw5Ljk3ODQ1MzMgNi40NDE5MjEzOSwxMC4yOTk4NTA3IDYuMDQ4MDM0OTQsMTAuMjk5ODUwNyBMMC43MTUyODM4NDMsMTAuMjk5ODUwNyBaIE0wLjcxNTI4Mzg0Myw2Ljc5ODczOTEgQzAuMzIxMjY1NTYxLDYuNzk4MjUwNTYgMC4wMDE4MzUyNjgwNyw2LjQ3OTIxMDc3IDAuMDAwODczMzY0MTUxLDYuMDg1MTkzMzcgQzAuMDAwODczMzY0MTUxLDUuNjkyMTgwMjYgMC4zMjEzOTczODcsNS4zNzA3ODI4OSAwLjcxNTI4Mzg0Myw1LjM3MDc4Mjg5IEw2LjA0ODAzNDk0LDUuMzcwNzgyODkgQzYuNDQxMDQ4MDQsNS4zNzA3ODI4OSA2Ljc2MjQ5MTIzLDUuNjkxMzA2OTEgNi43NjI0OTEyMyw2LjA4NTE5MzM3IEM2Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNi42ODgwNzU1Myw2LjQ1NjgzMjA5IDYuNTUzOTE5OTUsNi41OTA4MjM2NyBDNi40MTk3NjQzNiw2LjcyNDgxNTI2IDYuMjM3NjQxMzYsNi43OTk2NjM1MSA2LjA0ODAzNDk0LDYuNzk4NzM5MSBMMC43MTUyODM4NDMsNi43OTg3MzkxIFogTTAuNzE1MjgzODQzLDMuMjk3NjE4OTIgQzAuMzIxMjY1NTU2LDMuMjk3MTM4OTkgMC4wMDE4MzUyNjE1MSwyLjk3ODA5OTE5IDAuMDAwODczMzY0MTUxLDIuNTg0MDgxNzkgQzAuMDAwODczMzY0MTUxLDIuMTkxMDY4NjkgMC4zMjEzOTczODcsMS44Njk2NzEzMSAwLjcxNTI4Mzg0MywxLjg2OTY3MTMxIEw2LjA0ODAzNDk0LDEuODY5NjcxMzEgQzYuNDI1NTc3ODksMS44OTI1NTI2NiA2LjcyMDA0NzcyLDIuMjA1NDA5NDMgNi43MjAwNDc3MiwyLjU4MzY0NTExIEM2LjcyMDA0NzcyLDIuOTYxODgwOCA2LjQyNTU3Nzg5LDMuMjc0NzM3NTYgNi4wNDgwMzQ5NCwzLjI5NzYxODkyIEwwLjcxNTI4Mzg0MywzLjI5NzYxODkyIFonIGlkPSflvaLnirYnIHN0cm9rZT0nI0ZGRkZGRicgc3Ryb2tlLXdpZHRoPScwLjInIGZpbGw9JyMxRTgwRkYnIGZpbGwtcnVsZT0nbm9uemVybycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi45ODE2NjMsIDcuNDAwNDgxKSByb3RhdGUoLTkwLjAwMDAwMCkgdHJhbnNsYXRlKC02Ljk4MTY2MywgLTcuNDAwNDgxKSAnPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9zdmc+" style="width: 15px; height: 14px; display: block;" />\r\n        </span>\r\n      </button>\r\n      \x3c!-- {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.btnLeft\')}} --\x3e\r\n      <button *ngIf="controlType!=\'crosstab\'" class="btn btn-link p-1 mr-1" id="button-edit"\r\n        (click)="handleNodeRight()">\r\n        <span id="btnRight" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTRweCcgaGVpZ2h0PScxNXB4JyB2aWV3Qm94PScwIDAgMTQgMTUnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuWIhue7hCAxOTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0nMDHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6YWN572uMycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTEyNzQuMDAwMDAwLCAtMTk4LjAwMDAwMCknPjxnIGlkPSfliIbnu4QtMTMnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMxMi4wMDAwMDAsIDE5NS4wMDAwMDApJz48ZyBpZD0n5YiG57uELTE5JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg5NjIuMDAwMDAwLCAzLjAwMDAwMCknPjxwYXRoIGQ9J005LjkxNzAzMDU3LDMuNTI0MjgzMDEgTDguNzAxMzEwMDUsNC43NDEwNTI5NSBDOC41NjYzNzYwOCw0Ljg3Njg0MDQzIDguMzgyNjk1NTIsNC45NTI5NTQ2MyA4LjE5MTI2NjM3LDQuOTUyNDM1NTUgQzguMDAwODc4NzgsNC45NTM2MzQ1MyA3LjgxODg4NjM1LDQuODc3NDg4MzkgNy42ODczMzYyNSw0Ljc0MTA1Mjk1IEM3LjQxMDc2NDkzLDQuNDYzMDQyNiA3LjQxMDc2NDkzLDQuMDEzODIzMTEgNy42ODczMzYyNSwzLjczNTgxMjc3IEwxMC4yMTU3MjA1LDEuMjA3NDI4NDkgQzEwLjQ5MzczMDksMC45MzA4NTcxNjkgMTAuOTQyOTUwNCwwLjkzMDg1NzE2OSAxMS4yMjA5NjA3LDEuMjA3NDI4NDkgTDEzLjc1NjMzMTksMy43MzU4MTI3NyBDMTQuMDMyMzI0NSw0LjAxMzcyMTE2IDE0LjAzMjMyNDUsNC40NjIyNzExOSAxMy43NTYzMzE5LDQuNzQwMTc5NTggQzEzLjQ3ODMyMTUsNS4wMTY3NTA5IDEzLjAyOTEwMiw1LjAxNjc1MDkgMTIuNzUxMDkxNyw0Ljc0MDE3OTU4IEwxMS4zNDQ5NzgyLDMuMzM1Mjc4MjYgTDExLjM0NDk3ODIsMTAuODQyODgzNiBDMTEuMzQyMTI0MSwxMS4yMzYyNTM0IDExLjAyMzkzNzQsMTEuNTU0NDQwMSAxMC42MzA1Njc3LDExLjU1NzI5NDEgQzEwLjIzNzA4MjUsMTEuNTU2ODEyOSA5LjkxNzUxMTc5LDExLjIzNzI0MjIgOS45MTcwMzA1NywxMC44NDI4ODM2IEw5LjkxNzAzMDU3LDMuNTI0MjgzMDEgWiBNMC43MTM1MzcxMTQsMTMuODAwOTYyMiBDMC4zMTk4NTk4NTksMTMuODAwMDAyIDAuMDAwOTYwMTk0NTgxLDEzLjQ4MTEwMjQgMCwxMy4wODc0MjUxIEMwLDEyLjY5NDQxMiAwLjMyMDUyNDAyMywxMi4zNzMwMTQ3IDAuNzE0NDEwNDc5LDEyLjM3MzAxNDcgTDEzLjI0NTQxNDgsMTIuMzczMDE0NyBDMTMuNjM4NDI3OSwxMi4zNzMwMTQ3IDEzLjk1OTgyNTMsMTIuNjkzNTM4NyAxMy45NTk4MjUzLDEzLjA4NzQyNTEgQzEzLjk1OTgyNTMsMTMuNDgwNDM4MiAxMy42NDYyODgyLDEzLjgwMDk2MjIgMTMuMjQ1NDE0OCwxMy44MDA5NjIyIEwwLjcxMzUzNzExNCwxMy44MDA5NjIyIFogTTAuNzE1MjgzODQzLDEwLjI5OTg1MDcgQzAuMzIwOTI1MzMsMTAuMjk5MzY5NSAwLjAwMTM1NDU4NDA3LDkuOTc5Nzk4NzEgMC4wMDA4NzMzNjQxNTEsOS41ODU0NDAyIEMwLjAwMDg3MzM2NDE1MSw5LjE5MjQyNzEgMC4zMjEzOTczODcsOC44NzE5MDMwNyAwLjcxNTI4Mzg0Myw4Ljg3MTkwMzA3IEw2LjA0ODAzNDk0LDguODcxOTAzMDcgQzYuNDQxMDQ4MDQsOC44NzE5MDMwNyA2Ljc2MjQ0NTQyLDkuMTkyNDI3MSA2Ljc2MjQ0NTQyLDkuNTg1NDQwMiBDNi43NjI0NDU0Miw5Ljk3ODQ1MzMgNi40NDE5MjEzOSwxMC4yOTk4NTA3IDYuMDQ4MDM0OTQsMTAuMjk5ODUwNyBMMC43MTUyODM4NDMsMTAuMjk5ODUwNyBaIE0wLjcxNTI4Mzg0Myw2Ljc5ODczOTEgQzAuMzIxMjY1NTYxLDYuNzk4MjUwNTYgMC4wMDE4MzUyNjgwNyw2LjQ3OTIxMDc3IDAuMDAwODczMzY0MTUxLDYuMDg1MTkzMzcgQzAuMDAwODczMzY0MTUxLDUuNjkyMTgwMjYgMC4zMjEzOTczODcsNS4zNzA3ODI4OSAwLjcxNTI4Mzg0Myw1LjM3MDc4Mjg5IEw2LjA0ODAzNDk0LDUuMzcwNzgyODkgQzYuNDQxMDQ4MDQsNS4zNzA3ODI4OSA2Ljc2MjQ5MTIzLDUuNjkxMzA2OTEgNi43NjI0OTEyMyw2LjA4NTE5MzM3IEM2Ljc2MzE0NjUxLDYuMjc0ODAwNzkgNi42ODgwNzU1Myw2LjQ1NjgzMjA5IDYuNTUzOTE5OTUsNi41OTA4MjM2NyBDNi40MTk3NjQzNiw2LjcyNDgxNTI2IDYuMjM3NjQxMzYsNi43OTk2NjM1MSA2LjA0ODAzNDk0LDYuNzk4NzM5MSBMMC43MTUyODM4NDMsNi43OTg3MzkxIFogTTAuNzE1MjgzODQzLDMuMjk3NjE4OTIgQzAuMzIxMjY1NTU2LDMuMjk3MTM4OTkgMC4wMDE4MzUyNjE1MSwyLjk3ODA5OTE5IDAuMDAwODczMzY0MTUxLDIuNTg0MDgxNzkgQzAuMDAwODczMzY0MTUxLDIuMTkxMDY4NjkgMC4zMjEzOTczODcsMS44Njk2NzEzMSAwLjcxNTI4Mzg0MywxLjg2OTY3MTMxIEw2LjA0ODAzNDk0LDEuODY5NjcxMzEgQzYuNDI1NTc3ODksMS44OTI1NTI2NiA2LjcyMDA0NzcyLDIuMjA1NDA5NDMgNi43MjAwNDc3MiwyLjU4MzY0NTExIEM2LjcyMDA0NzcyLDIuOTYxODgwOCA2LjQyNTU3Nzg5LDMuMjc0NzM3NTYgNi4wNDgwMzQ5NCwzLjI5NzYxODkyIEwwLjcxNTI4Mzg0MywzLjI5NzYxODkyIFonIGlkPSflvaLnirYnIHN0cm9rZT0nI0ZGRkZGRicgc3Ryb2tlLXdpZHRoPScwLjInIGZpbGw9JyMxRTgwRkYnIGZpbGwtcnVsZT0nbm9uemVybycgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNi45ODE2NjMsIDcuNDAwNDgxKSBzY2FsZSgtMSwgMSkgcm90YXRlKC05MC4wMDAwMDApIHRyYW5zbGF0ZSgtNi45ODE2NjMsIC03LjQwMDQ4MSkgJz48L3BhdGg+PHJlY3QgaWQ9J+efqeW9oicgeD0nMCcgeT0nMScgd2lkdGg9JzE0JyBoZWlnaHQ9JzE0Jz48L3JlY3Q+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==" style="width: 15px; height: 14px; display: block;" />\r\n        </span>\r\n      </button>\r\n      <button *ngIf="controlType!=\'crosstab\'" class="btn btn-link p-1 mr-1" id="button-edit"\r\n        (click)="handleNodeUpAndDown(\'top\')">\r\n        <span id="btnTop" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTNweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTMgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuW9oueKtjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0n5qC85byP5pa55qGI566h55CGLeWIl+mFjee9rjEnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMjQ4LjAwMDAwMCwgLTIwMi4wMDAwMDApJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjxnIGlkPSfliIbnu4QtMjAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEwMDkuMDAwMDAwLCAxOTguMDAwMDAwKSc+PGcgaWQ9J+WIhue7hC0xOScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjEzLjAwMDAwMCwgMy4wMDAwMDApJz48ZyBpZD0n572u6aG2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNi4wMDAwMDAsIDEuMDAwMDAwKSc+PHBhdGggZD0nTTExLjc3ODcyMzgsNy4xOTM2NjgyMiBMNi45MjYyNDQyMiwyLjMyNjIyMzk3IEM2LjgyMzM0MjU0LDIuMjIzMzYwMTQgNi42ODM0MzQ1NiwyLjE2NjM0OTY3IDYuNTM4MDg5MSwyLjE2ODA1NjQgQzYuNTE5NzA4NDksMi4xNjU4ODk3MyA2LjUwMzQ5MDMsMi4xNTcyMjMwMiA2LjQ4NDAyODUsMi4xNTcyMjMwMiBDNi40MDgyNTQzMywyLjE1Nzc4NTQ2IDYuMzMzNDU1NjEsMi4xNzQzOTkwOCA2LjI2NDU0MjQ2LDIuMjA1OTczMjkgQzYuMTk0MTYxNzYsMi4yMzE5ODg3OSA2LjEzMDA1NDEzLDIuMjcyNTk2MzQgNi4wNzY0MTE1NywyLjMyNTE0MDYzIEwxLjY5NzUwMjg3LDYuNjgxMjQ4NjUgQzEuNDg3MzEwNjgsNi44OTI3NTE4OSAxLjQ4ODAzNjgsNy4yMzQ5Mzg4NyAxLjY5OTEyNDcsNy40NDU1NDQ2NSBDMS45MTAyMTI1OSw3LjY1NjE1MDQyIDIuMjUxNzI3NTksNy42NTU0MjI4OCAyLjQ2MTkxOTc4LDcuNDQzOTE5NjMgTDUuOTQzNDIyNDksMy45Nzk0MDAwMSBMNS45NDM0MjI0OSwxMy40NjQwMzcxIEM1Ljk0MzQyMjQ5LDEzLjc2MTk1NTQgNi4xODU2MTM5OSwxNC4wMDI0NTY4IDYuNDg0MDI4NSwxNC4wMDI0NTY4IEM2Ljc4MjQ0MzAxLDE0LjAwMjQ1NjggNy4wMjQ2MzQ1MSwxMy43NjE5NTU0IDcuMDI0NjM0NTEsMTMuNDY0MDM3MSBMNy4wMjQ2MzQ1MSwzLjk1MjMxNjUyIEwxMS4wMTEwNjMyLDcuOTUzMDg5MTkgQzExLjIyMTU3MjMsOC4xNjUxNDY4MyAxMS41NjM3NzcxLDguMTY2MTE2NzggMTEuNzc1NDgwMSw3Ljk1NTI1NTg2IEMxMS44NzczODg5LDcuODU0OTk1NTMgMTEuOTM0OTc3Nyw3LjcxODAxNzA5IDExLjkzNTM4NjIsNy41NzQ5MTQ3NyBDMTEuOTM1NzkwMyw3LjQzMTgxMjQ2IDExLjg3ODk4MDMsNy4yOTQ1MDc5MiAxMS43Nzc2NDI2LDcuMTkzNjY4MjIgTDExLjc3ODcyMzgsNy4xOTM2NjgyMiBaIE0xMi40Mjc0NTEsMS4wODAzODM1OSBMMC41NDA2MDYwMTEsMS4wODAzODM1OSBDMC4yNDMwNTUzMywxLjA4MDk4MzQ0IDAuMDAxMTkxOTg1NDIsMC44NDAwOTgyMjkgMi44NDIxNzA5NGUtMTQsMC41NDE5NjM4NjEgQzIuODQyMTcwOTRlLTE0LDAuMjQ1MTI4ODQ4IDAuMjQyMTkxNDk5LDAuMDAzNTQ0MTM2OCAwLjU0MDYwNjAxMSwwLjAwMzU0NDE1MDU1IEwxMi40Mjc0NTEsMC4wMDM1NDQxNTA1NSBDMTIuNjI3NTY3NywtMC4wMDkxODE4ODE0MSAxMi44MTgxNjQ2LDAuMDkwNTY2NDk5MiAxMi45MjIwNzA1LDAuMjYyNDAxOTEgQzEzLjAyNTk3NjUsMC40MzQyMzczMjEgMTMuMDI1OTc2NSwwLjY0OTY5MDQxNSAxMi45MjIwNzA1LDAuODIxNTI1ODI2IEMxMi44MTgxNjQ2LDAuOTkzMzYxMjM2IDEyLjYyNzU2NzcsMS4wOTMxMDk2MiAxMi40Mjc0NTEsMS4wODAzODM1OSBaJyBpZD0n5b2i54q2Jz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=" style="width: 15px; height: 14px; display: block;" />\r\n        </span>\r\n      </button>\r\n      <button *ngIf="controlType!=\'crosstab\'" class="btn btn-link p-1 mr-1" id="button-edit"\r\n        (click)="handleNodeUpAndDown(\'bottom\')">\r\n        <span id="btnBottom" class="f-icon pt-1 pr-3" role="presentation">\r\n          <img src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMTNweCcgaGVpZ2h0PScxNHB4JyB2aWV3Qm94PScwIDAgMTMgMTQnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPuW9oueKtjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9JzLjgIHmoLzlvI/mlrnmoYjnrqHnkIYt5YiX6K6+572uJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0n5qC85byP5pa55qGI566h55CGLeWIl+mFjee9rjEnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xMjczLjAwMDAwMCwgLTIwMi4wMDAwMDApJyBmaWxsPScjMUU4MEZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjxnIGlkPSfliIbnu4QtMjAnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEwMDkuMDAwMDAwLCAxOTguMDAwMDAwKSc+PGcgaWQ9J+WIhue7hC0xOScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMjEzLjAwMDAwMCwgMy4wMDAwMDApJz48ZyBpZD0n572u6aG2JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyNi4wMDAwMDAsIDEuMDAwMDAwKSc+PHBhdGggZD0nTTM2Ljc3ODcyMzgsNy4xOTM2NjgyMiBMMzEuOTI2MjQ0MiwyLjMyNjIyMzk3IEMzMS44MjMzNDI1LDIuMjIzMzYwMTQgMzEuNjgzNDM0NiwyLjE2NjM0OTY3IDMxLjUzODA4OTEsMi4xNjgwNTY0IEMzMS41MTk3MDg1LDIuMTY1ODg5NzMgMzEuNTAzNDkwMywyLjE1NzIyMzAyIDMxLjQ4NDAyODUsMi4xNTcyMjMwMiBDMzEuNDA4MjU0MywyLjE1Nzc4NTQ2IDMxLjMzMzQ1NTYsMi4xNzQzOTkwOCAzMS4yNjQ1NDI1LDIuMjA1OTczMjkgQzMxLjE5NDE2MTgsMi4yMzE5ODg3OSAzMS4xMzAwNTQxLDIuMjcyNTk2MzQgMzEuMDc2NDExNiwyLjMyNTE0MDYzIEwyNi42OTc1MDI5LDYuNjgxMjQ4NjUgQzI2LjQ4NzMxMDcsNi44OTI3NTE4OSAyNi40ODgwMzY4LDcuMjM0OTM4ODcgMjYuNjk5MTI0Nyw3LjQ0NTU0NDY1IEMyNi45MTAyMTI2LDcuNjU2MTUwNDIgMjcuMjUxNzI3Niw3LjY1NTQyMjg4IDI3LjQ2MTkxOTgsNy40NDM5MTk2MyBMMzAuOTQzNDIyNSwzLjk3OTQwMDAxIEwzMC45NDM0MjI1LDEzLjQ2NDAzNzEgQzMwLjk0MzQyMjUsMTMuNzYxOTU1NCAzMS4xODU2MTQsMTQuMDAyNDU2OCAzMS40ODQwMjg1LDE0LjAwMjQ1NjggQzMxLjc4MjQ0MywxNC4wMDI0NTY4IDMyLjAyNDYzNDUsMTMuNzYxOTU1NCAzMi4wMjQ2MzQ1LDEzLjQ2NDAzNzEgTDMyLjAyNDYzNDUsMy45NTIzMTY1MiBMMzYuMDExMDYzMiw3Ljk1MzA4OTE5IEMzNi4yMjE1NzIzLDguMTY1MTQ2ODMgMzYuNTYzNzc3MSw4LjE2NjExNjc4IDM2Ljc3NTQ4MDEsNy45NTUyNTU4NiBDMzYuODc3Mzg4OSw3Ljg1NDk5NTUzIDM2LjkzNDk3NzcsNy43MTgwMTcwOSAzNi45MzUzODYyLDcuNTc0OTE0NzcgQzM2LjkzNTc5MDMsNy40MzE4MTI0NiAzNi44Nzg5ODAzLDcuMjk0NTA3OTIgMzYuNzc3NjQyNiw3LjE5MzY2ODIyIEwzNi43Nzg3MjM4LDcuMTkzNjY4MjIgWiBNMzcuNDI3NDUxLDEuMDgwMzgzNTkgTDI1LjU0MDYwNiwxLjA4MDM4MzU5IEMyNS4yNDMwNTUzLDEuMDgwOTgzNDQgMjUuMDAxMTkyLDAuODQwMDk4MjI5IDI1LDAuNTQxOTYzODYxIEMyNSwwLjI0NTEyODg0OCAyNS4yNDIxOTE1LDAuMDAzNTQ0MTM2OCAyNS41NDA2MDYsMC4wMDM1NDQxNTA1NSBMMzcuNDI3NDUxLDAuMDAzNTQ0MTUwNTUgQzM3LjYyNzU2NzcsLTAuMDA5MTgxODgxNDEgMzcuODE4MTY0NiwwLjA5MDU2NjQ5OTIgMzcuOTIyMDcwNSwwLjI2MjQwMTkxIEMzOC4wMjU5NzY1LDAuNDM0MjM3MzIxIDM4LjAyNTk3NjUsMC42NDk2OTA0MTUgMzcuOTIyMDcwNSwwLjgyMTUyNTgyNiBDMzcuODE4MTY0NiwwLjk5MzM2MTIzNiAzNy42Mjc1Njc3LDEuMDkzMTA5NjIgMzcuNDI3NDUxLDEuMDgwMzgzNTkgWicgaWQ9J+W9oueKticgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMzEuNTAwMDAwLCA3LjAwMjQ1Nykgcm90YXRlKDE4MC4wMDAwMDApIHRyYW5zbGF0ZSgtMzEuNTAwMDAwLCAtNy4wMDI0NTcpICc+PC9wYXRoPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+" style="width: 15px; height: 14px; display: block;" />\r\n        </span>\r\n      </button>\r\n      \x3c!-- {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.btnRight\')}} --\x3e\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="f-utils-fill-flex-row">\r\n  <div (resized)="onResized($event)"\r\n    [class]="colInfoChanged == true ? \'colInfoDisplay1 d-flex flex-row flex-fill farris-overflow-hidden\' : \'colInfoDisplay2 d-flex flex-row flex-fill farris-overflow-hidden\'">\r\n    <farris-treetable #schemaTree [columns]="cols" class="w-100" [data]="schemaTreeData" [idField]="\'id\'"\r\n      [keepSelect]="false" [fit]="true" [showCheckAll]="false" [resizableColumns]="true" [showHeader]="true"\r\n      [striped]="false" [fixedHeader]="true" [width]="size.width" [height]="size.height"\r\n      (nodeSelected)="handleTreeNodeSelected($event)" (nodeUnSelect)="handleTreeNodeUnSelected($event)">\r\n      \x3c!-- <tt-column [field]="\'name\'" [width]="100" [align]="\'left\'" [hAlign]="\'center\'"></tt-column> --\x3e\r\n    </farris-treetable>\r\n    <ng-template #nameCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{ctx.node.data[\'name\']}}</span>\r\n      <input-group *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" [(ngModel)]="ctx.node.data[\'name\']"></input-group>\r\n    </ng-template>\r\n    <ng-template #bindFieldCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{ctx.node.data[\'bindField\']}}</span>\r\n      <farris-combo-list *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" [(ngModel)]="ctx.node.data[\'bindField\']" [textField]="\'name\'" [idField]="\'value\'" (ngModelChange)="handleNgModelChange(ctx.node)"\r\n        [data]="colListData" [enableClear]="false"></farris-combo-list>\r\n    </ng-template>\r\n    <ng-template #colAlignCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{getAlignName(ctx.node.data[\'align\'])}}</span>\r\n      <farris-combo-list *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" [(ngModel)]="ctx.node.data[\'align\']" [data]="alignData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n    </ng-template>\r\n    <ng-template #colWidthCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{ctx.node.data[\'colWidth\']}}</span>\r\n      <farris-number-spinner *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" [(ngModel)]="ctx.node.data[\'colWidth\']" [min]="1" (ngModelChange)="handleNgModelChange(ctx.node)">\r\n      </farris-number-spinner>\r\n    </ng-template>\r\n    <ng-template #visibleCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{ctx.node.data[\'visible\']}}</span>\r\n      <div *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" class="farris-input-wrap farris-checkradio-hor">\r\n        <div class="custom-control custom-checkbox mb-0">\r\n          <input type="checkbox" [(ngModel)]="ctx.node.data[\'visible\']" class="custom-control-input"\r\n            id="{{colVisibleId + ctx.node.id}}" checked="" (click)="handleIsGroupClick(ctx.node.data)">\r\n          <label class="custom-control-label" for="{{colVisibleId + ctx.node.id}}"></label>\r\n          \x3c!-- {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.show\')}} --\x3e\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #isFixedCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{ctx.node.data[\'isFixed\']}}</span>\r\n      <div *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" class="farris-input-wrap farris-checkradio-hor">\r\n        <div class="custom-control custom-checkbox mb-0">\r\n          <input type="checkbox" [(ngModel)]="ctx.node.data[\'isFixed\']" class="custom-control-input"\r\n            id="{{colFixedId + ctx.node.id}}" checked="">\r\n          <label class="custom-control-label" for="{{colFixedId + ctx.node.id}}"></label>\r\n          \x3c!-- {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.fixColumn\')}} --\x3e\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #autoFixCell let-ctx>\r\n      <span *ngIf="findEditable(ctx.node.data[\'id\']) ? !findEditable(ctx.node.data[\'id\']).editable : false">{{getComboboxName(0, !ctx.node.data[\'autoFit\'] && !ctx.node.data[\'wordWrap\'] ? -1 : ctx.node.data[\'autoFit\'] ? 1 : 2)}}</span>\r\n      <farris-combo-list *ngIf="findEditable(ctx.node.data[\'id\']) ? findEditable(ctx.node.data[\'id\']).editable : false" (ngModelChange)="handleNgModelChange(ctx.node)"\r\n        [ngModel]="!ctx.node.data[\'autoFit\'] && !ctx.node.data[\'wordWrap\'] ? -1 : ctx.node.data[\'autoFit\'] ? 1 : 2"\r\n        [textField]="\'name\'" [idField]="\'value\'" [data]="dataShowOption" [enableClear]="false"\r\n        (valueChange)="onValueChange($event)"></farris-combo-list>\r\n    </ng-template>\r\n  </div>\r\n  <div [class]="colInfoChanged == false ? \'colInfoDisplay1 d-flex flex-row flex-fill\' : \'colInfoDisplay2 d-flex flex-row flex-fill\'">\r\n    <perfect-scrollbar [config]="{}">\r\n      <div class="flex-fill farris-split-section farris-overflow-hidden">\r\n        <div class="col-12 farris-form farris-card-content-bg">\r\n          <fieldSet farrisFold>\r\n            <legend class="ml-2 f-legend-icon f-legend-show">\r\n              {{localizeService.getValue(\'ideCmp.schemaManager.columnOption.selection2\')}}</legend>\r\n            <div class="d-flex flex-wrap mb-2">\r\n              \x3c!-- <div class="col-12 col-md-12 col-lg-12">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colAlign">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.align\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colAlign" [(ngModel)]="alignSelectValue" [data]="alignData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div> --\x3e\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="controlType==\'list\' || controlType==\'treelist\'">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline"  [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{colIsRedId}}">\r\n                      <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.isRed\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" [(ngModel)]="colIsRed" class="custom-control-input"\r\n                          id="{{colIsRedId}}" checked="">\r\n                        <label class="custom-control-label" for="{{colIsRedId}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="type==\'enum\'">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline"  [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colShowType">\r\n                      <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.showType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colShowType" [(ngModel)]="showTypeSelectValue" [textField]="\'name\'"\r\n                        [idField]="\'value\'" [data]="enumType" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colFormatType">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.formatType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colFormatType" [(ngModel)]="formatTypeSelectValue" [data]="formatTypeData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="formatTypeSelectValue==1">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colNumFormat">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.numberFormat\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <input-group [(ngModel)]="formatText" id="colNumFormat"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="formatTypeSelectValue==1 && controlType != \'crosstab\'">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colNumFormat">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.numberField\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list [(ngModel)]="formatField" [textField]="\'name\'" [idField]="\'value\'"\r\n                        [data]="colListData" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="formatTypeSelectValue==2">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colDateFormat">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.dateFormat\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <input-group [(ngModel)]="formatText" id="colDateFormat"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="formatTypeSelectValue==3">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colLogicFormat">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.enumFormat\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <input-group [(ngModel)]="formatText" id="colLogicFormat"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="controlType!=\'crosstab\'">\r\n                \x3c!-- || (controlType==\'crosstab\' && (dimensionSelectValue ===1 || dimensionSelectValue ===3)) --\x3e\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colSort">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.sort\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colSort" [(ngModel)]="sortSelectValue" [data]="sortData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="(controlType!=\'crosstab\' && controlType!=\'treelist\' && isOrNotPaging)">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colPageText">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.pageTotal\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <input-group [(ngModel)]="pageText" id="colPageText"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="(controlType!=\'crosstab\' && controlType!=\'treelist\' && isOrNotPaging)">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colPageAggre">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.pageTotalType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colPageAggre" [(ngModel)]="pageSelectValue" [data]="aggreData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="controlType==\'crosstab\'">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colDimension">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.dimension\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colDimension" [(ngModel)]="dimensionSelectValue" [data]="dimensionData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12"\r\n                *ngIf="(controlType!=\'crosstab\' && controlType!=\'treelist\') || (controlType==\'crosstab\' && (dimensionSelectValue ===1 || dimensionSelectValue ===2))">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{colIsGroupId}}">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.group\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" [(ngModel)]="colIsGroup" class="custom-control-input"\r\n                          id="{{colIsGroupId}}" checked="">\r\n                        <label class="custom-control-label" for="{{colIsGroupId}}"\r\n                          (click)="handleIsGroupClick(\'\')"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12" *ngIf="controlType==\'crosstab\' && dimensionSelectValue ===1 ">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="button-search">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.groupColor\')}}:</span>\r\n                    </label>\r\n                    <button class="k-button k-button-icon k-flat" id="button-search" [(colorPicker)]="rowColor"\r\n                      [cpOKButton]="true" [cpCancelButton]="true">\r\n                      <span [style.border-bottom-color]="rowColor" class="k-icon k-i-foreground-color"\r\n                        style="border-bottom-width: 2px; border-bottom-style: solid; margin-top: -2px;"\r\n                        role="presentation"></span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12"\r\n                *ngIf="(controlType!=\'crosstab\' && controlType!=\'treelist\') || (controlType==\'crosstab\' && dimensionSelectValue ===3 )">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colGroupText">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.groupTotal\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <input-group [(ngModel)]="groupText" id="colGroupText"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12"\r\n                *ngIf="(controlType!=\'crosstab\' && controlType!=\'treelist\')">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colGroupAggre">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.groupSubTotalType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colGroupAggre" [disabled]="colIsGroup" [(ngModel)]="groupSubSelectValue"\r\n                        [data]="aggreData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12"\r\n                *ngIf="(controlType!=\'crosstab\' && controlType!=\'treelist\') || (controlType==\'crosstab\' && dimensionSelectValue ===3)">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colGroupAggre">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.groupTotalType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colGroupAggre" [disabled]="colIsGroup" [(ngModel)]="groupSelectValue"\r\n                        [data]="aggreData" [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false">\r\n                      </farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12"\r\n                *ngIf="(controlType!=\'crosstab\' && !isOrNotPaging) || (controlType==\'crosstab\' && dimensionSelectValue ===3) ">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colTotalText">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.aggregateTotal\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <input-group [(ngModel)]="totalText" id="colTotalText"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-12 col-md-12 col-lg-12"\r\n                *ngIf="(controlType!=\'crosstab\' && !isOrNotPaging) || (controlType==\'crosstab\' && dimensionSelectValue ===3)">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="colTotalAggre">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.columnOption.totalType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="colTotalAggre" [(ngModel)]="totalSelectValue" [data]="aggreData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldSet>\r\n        </div>\r\n      </div>\r\n    </perfect-scrollbar>\r\n  </div>\r\n</div>\r\n',styles:[".column-editor-header{height:2.875rem;min-height:2.875rem;background:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.06)}.parentContent{position:absolute;top:46px;bottom:0;left:0;right:0}.colInfoDisplay1{display:block!important}.colInfoDisplay2{display:none!important}"]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}],colList:[{type:u.Input}],controlType:[{type:u.Input}],colToolbar:[{type:u.ViewChild,args:["colToolbar"]}],schemaTree:[{type:u.ViewChild,args:["schemaTree"]}],nameCell:[{type:u.ViewChild,args:["nameCell"]}],bindFieldCell:[{type:u.ViewChild,args:["bindFieldCell"]}],colWidthCell:[{type:u.ViewChild,args:["colWidthCell"]}],colAlignCell:[{type:u.ViewChild,args:["colAlignCell"]}],visibleCell:[{type:u.ViewChild,args:["visibleCell"]}],isFixedCell:[{type:u.ViewChild,args:["isFixedCell"]}],autoFixCell:[{type:u.ViewChild,args:["autoFixCell"]}]},e}(),W=function(){function e(e){this.injector=e,this.rowHeight=35,this.fontFamilyData=[{name:"宋体",value:0},{name:"新宋体",value:1},{name:"仿宋",value:2},{name:"楷体",value:3},{name:"黑体",value:4},{name:"ARIAL",value:5},{name:"ROMAN",value:6},{name:"TIMES NEW ROMAN",value:7},{name:"VERDANA",value:8},{name:"Microsoft YaHei",value:9}],this.fontFamily=9,this.fontSizeData=[{name:8,value:8},{name:9,value:9},{name:10,value:10},{name:11,value:11},{name:12,value:12},{name:13,value:13},{name:14,value:14},{name:15,value:15},{name:16,value:16},{name:17,value:17},{name:18,value:18},{name:19,value:19},{name:20,value:20},{name:21,value:21},{name:22,value:22},{name:23,value:23},{name:24,value:24},{name:25,value:25},{name:26,value:26},{name:27,value:27},{name:28,value:28},{name:29,value:29},{name:30,value:30},{name:31,value:31},{name:32,value:32},{name:33,value:33},{name:34,value:34},{name:35,value:35},{name:36,value:36},{name:37,value:37},{name:38,value:38},{name:39,value:39},{name:40,value:40}],this.fontSize=14,this.fontColor="black",this.isWeight=!1,this.isStyle=!1,this.isUnderLine=!1,this.fontWeight="normal",this.fontStyle="normal",this.fontUnderLine="none",this.titleActive=!0,this.subTitleActive=!1,this.headerActive=!1,this.dataAreaActive=!1,this.footerActive=!1,this.localizeService=this.injector.get(c.LocalizeService),this.fontFamilyData=this.localizeService.getValue("ideCmp.schemaManager.styleOption.fontFamilyData")}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){for(var i in e){var t=e[i].currentValue;if(null!=t)switch(i){case"currSchema":if(t.schemaValue&&t.schemaValue.styleOption){var a=JSON.stringify(t.schemaValue.styleOption);this.styleOption=JSON.parse(a),this.styleOption&&(this.titleActive&&this.initStyleOption("Title"),this.subTitleActive&&this.initStyleOption("SubTitle"),this.headerActive&&this.initStyleOption("Header"),this.dataAreaActive&&this.initStyleOption("DataArea"),this.footerActive&&this.initStyleOption("Footer"))}}}},e.prototype.handleTitleBtn=function(){this.updateStyleOption(),this.initStyleOption("Title"),this.titleActive=!0,this.subTitleActive=this.headerActive=this.dataAreaActive=this.footerActive=!1},e.prototype.handleSubTitleBtn=function(){this.updateStyleOption(),this.initStyleOption("SubTitle"),this.subTitleActive=!0,this.titleActive=this.headerActive=this.dataAreaActive=this.footerActive=!1},e.prototype.handleHeaderBtn=function(){this.updateStyleOption(),this.initStyleOption("Header"),this.headerActive=!0,this.titleActive=this.subTitleActive=this.dataAreaActive=this.footerActive=!1},e.prototype.handleDataAreaBtn=function(){this.updateStyleOption(),this.initStyleOption("DataArea"),this.dataAreaActive=!0,this.titleActive=this.subTitleActive=this.headerActive=this.footerActive=!1},e.prototype.handleFooterBtn=function(){this.updateStyleOption(),this.initStyleOption("Footer"),this.footerActive=!0,this.titleActive=this.subTitleActive=this.headerActive=this.dataAreaActive=!1},e.prototype.handleWeight=function(){this.isWeight=!this.isWeight,this.isWeight?this.fontWeight="bold":this.fontWeight="normal"},e.prototype.handleStyle=function(){this.isStyle=!this.isStyle,this.isStyle?this.fontStyle="italic":this.fontStyle="normal"},e.prototype.handleUnderLine=function(){this.isUnderLine=!this.isUnderLine,this.isUnderLine?this.fontUnderLine="underline":this.fontUnderLine="none"},e.prototype.getStyleOption=function(){return this.updateStyleOption(),this.styleOption},e.prototype.initStyleOption=function(e){this.styleOption&&this.styleOption[e]&&(this.rowHeight=this.styleOption[e].rowHeight-0,this.fontFamily=this.styleOption[e].fontFamily-0,this.fontSize=this.styleOption[e].size,this.fontWeight=0===this.styleOption[e].fontWeight?"normal":"bold",this.fontStyle=0===this.styleOption[e].fontStyle?"normal":"italic",this.fontUnderLine=0===this.styleOption[e].textDecoration?"none":"underline",this.fontColor=this.styleOption[e].fontColor)},e.prototype.updateStyleOption=function(){var e="";e=this.titleActive?"Title":this.subTitleActive?"SubTitle":this.headerActive?"Header":this.dataAreaActive?"DataArea":"Footer",this.styleOption&&this.styleOption[e]&&(this.styleOption[e].rowHeight=this.rowHeight,this.styleOption[e].fontFamily=this.fontFamily,this.styleOption[e].size=this.fontSize-0,this.styleOption[e].fontWeight="normal"===this.fontWeight?0:1,this.styleOption[e].fontStyle="normal"===this.fontStyle?0:1,this.styleOption[e].textDecoration="none"===this.fontUnderLine?0:1,this.styleOption[e].fontColor=this.fontColor)},e.prototype.getFontFamily=function(e){switch(e-0){case 0:return"SimSun";case 1:return"NSimSun";case 2:return"FangSong";case 3:return"KaiTi";case 4:return"SimHei";case 5:return"ARIAL";case 6:return"ROMAN";case 7:return"'TIMES NEW ROMAN'";case 8:return"VERDANA";case 9:return"'Microsoft YaHei'"}},e.decorators=[{type:u.Component,args:[{selector:"style-editor",template:'<div class="d-flex flex-column flex-fill h-100">\r\n  <div class="f-utils-fill-flex-column">\r\n    <div class="f-utils-fill-flex-column">\r\n      <div class="mx-2 row no-gutters">\r\n        <div class="col-9 col-md-9 col-lg-9">\r\n          <div class="farris-group-wrap">\r\n            <div class="form-group farris-form-group d-flex flex-column h-100">\r\n              <label class="col-form-label" for="fontBanner" style="width: 5rem; min-width: 5rem;">\r\n                <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.styleOption.column\')}}:</span>\r\n              </label>\r\n              <div class="farris-input-wrap">\r\n                <button class="btn mr-1" [class.btn-primary]="titleActive" [class.btn-secondary]="!titleActive" (click)="handleTitleBtn()"\r\n                  id="button-edit">\r\n                  {{localizeService.getValue(\'ideCmp.schemaManager.styleOption.styleTitle\')}}</button>\r\n                <button class="btn mr-1" [class.btn-primary]="subTitleActive" [class.btn-secondary]="!subTitleActive"\r\n                  (click)="handleSubTitleBtn()" id="button-edit">\r\n                  {{localizeService.getValue(\'ideCmp.schemaManager.styleOption.styleSubTitle\')}}</button>\r\n                <button class="btn mr-1" [class.btn-primary]="headerActive" [class.btn-secondary]="!headerActive"\r\n                  (click)="handleHeaderBtn()" id="button-edit">\r\n                  {{localizeService.getValue(\'ideCmp.schemaManager.styleOption.styleHeader\')}}</button>\r\n                <button class="btn mr-1" [class.btn-primary]="dataAreaActive" [class.btn-secondary]="!dataAreaActive"\r\n                  (click)="handleDataAreaBtn()" id="button-edit">\r\n                  {{localizeService.getValue(\'ideCmp.schemaManager.styleOption.styleBody\')}}</button>\r\n                <button class="btn" [class.btn-primary]="footerActive" [class.btn-secondary]="!footerActive" (click)="handleFooterBtn()"\r\n                  id="button-edit">\r\n                  {{localizeService.getValue(\'ideCmp.schemaManager.styleOption.styleFooter\')}}</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-3 col-md-3 col-lg-3">\r\n          <div class="form-group farris-form-group">\r\n            <label class="col-form-label" for="rowHeight">\r\n              <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.styleOption.rowHeight\')}}:</span>\r\n            </label>\r\n            <div class="farris-input-wrap">\r\n              <farris-number-spinner id="rowHeight" [(ngModel)]="rowHeight" [min]="1">\r\n              </farris-number-spinner>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="mx-2 row no-gutters">\r\n        <div class="col-4 col-md-4 col-lg-4">\r\n          <div class="form-group farris-form-group">\r\n            <label class="col-form-label" for="rowHeight">\r\n              <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.styleOption.textStyle\')}}:</span>\r\n            </label>\r\n            <div class="farris-input-wrap">\r\n                <farris-combo-list [editable]="true" [autoWidth]="false" [(ngModel)]="fontFamily" [data]="fontFamilyData"\r\n                  [textField]="\'name\'" [idField]="\'value\'"></farris-combo-list>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-4 col-md-4 col-lg-4">\r\n          <div class="form-group farris-form-group">\r\n            <label class="col-form-label" for="rowHeight">\r\n              <span class="farris-label-text">&nbsp;</span>\r\n            </label>\r\n            <div class="farris-input-wrap">\r\n                <farris-combo-list style="width: 20%" [editable]="true" [autoWidth]="false" [(ngModel)]="fontSize"\r\n                  [data]="fontSizeData" [textField]="\'name\'" [idField]="\'value\'"></farris-combo-list>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-4 col-md-4 col-lg-4">\r\n          <div class="form-group farris-form-group">\r\n            <label class="col-form-label" for="rowHeight">\r\n              <span class="farris-label-text">&nbsp;</span>\r\n            </label>\r\n            <div class="farris-input-wrap">\r\n              <button class="k-button k-button-icon k-flat" id="button-search" (click)="handleWeight()">\r\n                <span class="k-icon k-i-bold" role="presentation"></span>\r\n              </button>\r\n              <button class="k-button k-button-icon k-flat" id="button-search" (click)="handleStyle()">\r\n                <span class="k-icon k-i-italic" role="presentation"></span>\r\n              </button>\r\n              <button class="k-button k-button-icon k-flat" id="button-search" (click)="handleUnderLine()">\r\n                <span class="k-icon k-i-underline" role="presentation"></span>\r\n              </button>\r\n              <button class="k-button k-button-icon k-flat" id="button-search" [(colorPicker)]="fontColor"\r\n                [cpOKButton]="true" [cpCancelButton]="true">\r\n                <span [style.border-bottom-color]="fontColor" class="k-icon k-i-foreground-color"\r\n                  style="border-bottom-width: 2px; border-bottom-style: solid; margin-top: -2px;"\r\n                  role="presentation"></span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="flex-fill position-relative">\r\n        <div class="d-flex flex-row"\r\n          style="margin-bottom: .375rem; position: absolute; top: 0; bottom: 0; left: 10px; right: 10px;">\r\n          <fieldSet style="border: 1px solid #aaa !important; width: 100% !important;">\r\n            <legend class="ml-2 p-0">{{localizeService.getValue(\'ideCmp.schemaManager.styleOption.preview\')}}</legend>\r\n            <div class="d-flex flex-wrap mb-2" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0;">\r\n              <span class="preview-span" [style.text-decoration]="fontUnderLine" [style.font-style]="fontStyle"\r\n                [style.font-weight]="fontWeight" [style.font-family]="getFontFamily(fontFamily)"\r\n                [style.color]="fontColor" [style.font-size.pt]="fontSize">AaBbYyZz</span>\r\n            </div>\r\n          </fieldSet>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n',styles:[".preview-span{width:100%!important;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;position:absolute}"]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}]},e}(),q=function(){function e(e){this.injector=e,this.isCache="isCache"+o.EventBus.guid(),this.firstLoadId="firstLoadId"+o.EventBus.guid(),this.size={},this.dataCache=!0,this.firstLoad=!0,this.pageTypeData=[{name:"全部加载",value:0},{name:"分页加载",value:1}],this.rangeData=[{name:"全部",value:0},{name:"当前页",value:1},{name:"自定义",value:2}],this.pageTypeSelectValue=this.pageTypeData[1].value,this.pageSizeData=20,this.rowGroup=!0,this.colGroup=!0,this.colSum=!0,this.rowSum=!0,this.rangeSelectValue=this.rangeData[0].value,this.rangeValue="",this.delay=0,this.interval=0,this.treeInfoData=[{name:"请选择",value:2},{name:"分级码",value:0},{name:"自关联",value:1}],this.treeInfoSelectValue=this.treeInfoData[2].value,this.formInline=!0,this.showZero=!0,this.expand=!0,this.showHeaderSort=!0,this.showFilterRow=!0,this.mergeCell=!0,this.isRowGroup="isRowGroup"+o.EventBus.guid(),this.isColGroup="isColGroup"+o.EventBus.guid(),this.isRowSum="isRowSum"+o.EventBus.guid(),this.isColSum="isColSum"+o.EventBus.guid(),this.isExpand="isExpand"+o.EventBus.guid(),this.isShowZero="isShowZero"+o.EventBus.guid(),this.filterRowId="filterRowId"+o.EventBus.guid(),this.showHeaderSortId="showHeaderSortId"+o.EventBus.guid(),this.mergeCellId="mergeCellId"+o.EventBus.guid(),this.localizeService=this.injector.get(c.LocalizeService),this.localId=this.injector.get(u.LOCALE_ID)||c.DEFAULT_LANGUAGE,this.formInline=this.localId.toLowerCase()===c.DEFAULT_LANGUAGE,this.pageTypeData=this.localizeService.getValue("ideCmp.schemaManager.otherOption.pageTypeData"),this.rangeData=this.localizeService.getValue("ideCmp.schemaManager.otherOption.rangeData"),this.treeInfoData=this.localizeService.getValue("ideCmp.schemaManager.otherOption.treeInfoData")}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){for(var i in e){var t=e[i].currentValue;if(null!=t)switch(i){case"currSchema":if(t.schemaValue&&t.schemaValue.otherOption){var a=JSON.stringify(t.schemaValue.otherOption);this.otherOption=JSON.parse(a),this.dataCache=this.otherOption.dataCache,this.firstLoad=this.otherOption.firstLoad===undefined||null==this.otherOption.firstLoad||this.otherOption.firstLoad,this.pageSizeData=this.otherOption.pageSize,this.pageTypeSelectValue=this.pageTypeData[this.otherOption.loadDataType].value,this.rowGroup=this.otherOption.rowGroup,this.colGroup=this.otherOption.colGroup,this.rowSum=this.otherOption.rowSum,this.colSum=this.otherOption.colSum,this.showZero=null==this.otherOption.showZero||this.otherOption.showZero===undefined||this.otherOption.showZero,this.expand=null==this.otherOption.expand||this.otherOption.expand===undefined||this.otherOption.expand,this.delay=this.otherOption.delay?this.otherOption.delay:0,this.showHeaderSort=null==this.otherOption.showHeaderSort||this.otherOption.showHeaderSort==undefined||this.otherOption.showHeaderSort,this.showFilterRow=null==this.otherOption.showFilterRow||this.otherOption.showFilterRow==undefined||this.otherOption.showFilterRow,this.mergeCell=null==this.otherOption.mergeCell||this.otherOption.mergeCell==undefined||this.otherOption.mergeCell,this.interval=this.otherOption.interval?this.otherOption.interval:0,this.otherOption.rangeData&&(this.rangeSelectValue=this.rangeData[this.otherOption.rangeData.selectType].value,this.rangeValue=this.otherOption.rangeData.rangeValue),this.treeInfoSelectValue=null!=this.otherOption.treeInfoType||this.otherOption.treeInfoType!==undefined?this.otherOption.treeInfoType:2,this.pathField=this.otherOption.pathField?this.otherOption.pathField:"",this.pathStep=this.otherOption.pathStep?this.otherOption.pathStep:0,this.idField=this.otherOption.idField?this.otherOption.idField:"",this.parentField=this.otherOption.parentField?this.otherOption.parentField:""}if(t.schemaValue&&t.schemaValue.columnOption&&t.schemaValue.columnOption.colList&&t.schemaValue.columnOption.colList.length){a=JSON.stringify(t.schemaValue.columnOption.colList);this.colList=JSON.parse(a)}}}},e.prototype.getOtherOption=function(){return this.otherOption&&(this.otherOption.dataCache=this.dataCache,this.otherOption.firstLoad=this.firstLoad,this.otherOption.pageSize=this.pageSizeData,this.otherOption.loadDataType=this.pageTypeSelectValue-0,this.otherOption.rowGroup=this.rowGroup,this.otherOption.colGroup=this.colGroup,this.otherOption.rowSum=this.rowSum,this.otherOption.colSum=this.colSum,this.otherOption.showZero=this.showZero,this.otherOption.expand=this.expand,this.otherOption.showHeaderSort=this.showHeaderSort,this.otherOption.showFilterRow=this.showFilterRow,this.otherOption.mergeCell=this.mergeCell,this.otherOption.rangeData={selectType:this.rangeSelectValue,rangeValue:this.rangeValue},this.otherOption.delay=this.delay,this.otherOption.interval=this.interval,this.otherOption.treeInfoType=this.treeInfoSelectValue,this.otherOption.pathField=this.pathField,this.otherOption.pathStep=this.pathStep,this.otherOption.idField=this.idField,this.otherOption.parentField=this.parentField),this.otherOption},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth},e.prototype.handlePagingChanged=function(e){o.EventBus.dispatch("pagingModeChanges",e)},e.decorators=[{type:u.Component,args:[{selector:"other-editor",template:'<perfect-scrollbar [config]="{}" [style.height.px]="size.height">\r\n  <div class="flex-fill farris-split-section farris-overflow-hidden">\r\n    <div class="farris-form farris-card-content-bg">\r\n      <div class="d-flex flex-column flex-fill" (resized)="onResized($event)">\r\n        <div class="form-row m-0">\r\n          <fieldSet farrisFold>\r\n            <legend class="ml-2 f-legend-icon f-legend-show">\r\n              {{localizeService.getValue(\'ideCmp.schemaManager.otherOption.selection\')}}</legend>\r\n            <div class="d-flex flex-wrap mb-2">\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="true">\r\n                \x3c!-- controlType!=\'crosstab\' --\x3e\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{isCache}}" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.dataCache\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" class="custom-control-input" id="{{isCache}}" [(ngModel)]="dataCache">\r\n                        <label class="custom-control-label" for="{{isCache}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="true">\r\n                \x3c!-- controlType!=\'crosstab\' --\x3e\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{firstLoadId}}" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.firstLoad\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" class="custom-control-input" id="{{firstLoadId}}"\r\n                          [(ngModel)]="firstLoad">\r\n                        <label class="custom-control-label" for="{{firstLoadId}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="controlType!==\'crosstab\'">\r\n                \x3c!-- controlType!=\'crosstab\' --\x3e\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{filterRowId}}" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.filterRow\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" class="custom-control-input" id="{{filterRowId}}"\r\n                          [(ngModel)]="showFilterRow">\r\n                        <label class="custom-control-label" for="{{filterRowId}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="controlType!==\'crosstab\'">\r\n                \x3c!-- controlType!=\'crosstab\' --\x3e\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{showHeaderSortId}}" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.showHeaderSort\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" class="custom-control-input" id="{{showHeaderSortId}}"\r\n                          [(ngModel)]="showHeaderSort">\r\n                        <label class="custom-control-label" for="{{showHeaderSortId}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="controlType===\'list\'">\r\n                \x3c!-- controlType!=\'crosstab\' --\x3e\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{mergeCellId}}" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.mergeCell\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" class="custom-control-input" id="{{mergeCellId}}"\r\n                          [(ngModel)]="mergeCell">\r\n                        <label class="custom-control-label" for="{{mergeCellId}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="controlType!==\'crosstab\'">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline"  [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="{{isShowZero}}" style="width: 8rem; min-width: 8rem;">\r\n                      <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.showZero\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap farris-checkradio-hor">\r\n                      <div class="custom-control custom-checkbox mb-0">\r\n                        <input type="checkbox" [(ngModel)]="showZero" class="custom-control-input" id="{{isShowZero}}" checked="">\r\n                          <label class="custom-control-label" for="{{isShowZero}}"></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="controlType==\'list\'">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="pageType" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.pageType\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="pageType" [(ngModel)]="pageTypeSelectValue" [data]="pageTypeData"\r\n                        [textField]="\'name\'" [idField]="\'value\'" (valueChange)="handlePagingChanged($event)"></farris-combo-list>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-7 col-md-7 col-lg-7" *ngIf="controlType==\'list\' && pageTypeSelectValue === 1">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="pageSize" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.pageSize\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-number-spinner [(ngModel)]="pageSizeData" [min]="1" [step]="1" [max]="5000"></farris-number-spinner>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-7 col-md-7 col-lg-7">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="delay" style="width: 10rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.delay\')}}(s):</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-number-spinner [(ngModel)]="delay" [min]="0"></farris-number-spinner>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-7 col-md-7 col-lg-7">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="interval" style="width: 10rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.timing\')}}(s):</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-number-spinner [(ngModel)]="interval" [min]="0"></farris-number-spinner>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-7 col-md-7 col-lg-7">\r\n                <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="range" style="width: 8rem; min-width: 8rem;">\r\n                      <span\r\n                        class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.export\')}}:</span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                      <farris-combo-list id="range" [(ngModel)]="rangeSelectValue" [data]="rangeData"\r\n                        [textField]="\'name\'" [idField]="\'value\'"></farris-combo-list>\r\n                    </div>\r\n                    <div class="farris-input-wrap" *ngIf="rangeSelectValue===2">\r\n                      <input-group class="form-control" [(ngModel)]="rangeValue" id="rangeValue"></input-group>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </fieldSet>\r\n        </div>\r\n        \x3c!-- || controlType==\'crosstab\' --\x3e\r\n        <fieldSet farrisFold *ngIf="controlType==\'treelist\' || controlType==\'crosstab\'">\r\n          <legend class="ml-2 f-legend-icon f-legend-show">\r\n            {{localizeService.getValue(\'ideCmp.schemaManager.otherOption.treeInfo\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            \x3c!-- <div class="col-7 col-md-7 col-lg-7">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline"  [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="{{isExpand}}">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.expand\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap farris-checkradio-hor">\r\n                    <div class="custom-control custom-checkbox mb-0">\r\n                      <input type="checkbox" [(ngModel)]="expand" class="custom-control-input" id="{{isExpand}}" checked="">\r\n                        <label class="custom-control-label" for="{{colVisibleId}}"></label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div> --\x3e\r\n            <div class="col-7 col-md-7 col-lg-7">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="treeInfoSelect" style="width: 8rem; min-width: 8rem;">\r\n                    <span\r\n                      class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.treeInfoType\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="treeInfoSelect" [(ngModel)]="treeInfoSelectValue" [data]="treeInfoData"\r\n                      [textField]="\'name\'" [idField]="\'value\'" [enableClear]="false"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-7 col-md-7 col-lg-7" *ngIf="treeInfoSelectValue==0 || treeInfoSelectValue==\'0\'">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="pathField" style="width: 8rem; min-width: 8rem;">\r\n                    <span\r\n                      class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.pathField\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <input-group id="pathField" [(ngModel)]="pathField"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-7 col-md-7 col-lg-7" *ngIf="treeInfoSelectValue==0 || treeInfoSelectValue==\'0\'">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="pathStep" style="width: 8rem; min-width: 8rem;">\r\n                    <span\r\n                      class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.pathStep\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="pathStep" [(ngModel)]="pathStep" [min]="0">\r\n                    </farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-7 col-md-7 col-lg-7" *ngIf="treeInfoSelectValue==1 || treeInfoSelectValue==\'1\'">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="idField" style="width: 8rem; min-width: 8rem;">\r\n                    <span\r\n                      class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.idField\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <input-group id="idField" [(ngModel)]="idField"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-7 col-md-7 col-lg-7" *ngIf="treeInfoSelectValue==1 || treeInfoSelectValue==\'1\'">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="parentField" style="width: 8rem; min-width: 8rem;">\r\n                    <span\r\n                      class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.parentField\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <input-group id="parentField" [(ngModel)]="parentField"></input-group>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n\r\n        <fieldSet *ngIf="controlType==\'crosstab\'" farrisFold>\r\n          <legend class="ml-2 f-legend-icon f-legend-show">\r\n            {{localizeService.getValue(\'ideCmp.schemaManager.otherOption.groupOption\')}}</legend>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap" [class.form-inline]="formInline" [class.farris-form-inline]="formInline">\r\n                <div class="form-group farris-form-group">\r\n                  <div class="custom-control custom-checkbox mb-0">\r\n                    <input type="checkbox" [(ngModel)]="rowGroup" class="custom-control-input" id="{{isRowGroup}}" checked="">\r\n                    <label class="custom-control-label"\r\n                      for="{{isRowGroup}}">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.rowSubtotal\')}}</label>\r\n                  </div>\r\n                  <div class="custom-control custom-checkbox mb-0">\r\n                    <input type="checkbox" [(ngModel)]="colGroup" class="custom-control-input" id="{{isColGroup}}" checked="">\r\n                    <label class="custom-control-label"\r\n                      for="{{isColGroup}}">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.colSubtotal\')}}</label>\r\n                  </div>\r\n                  <div class="custom-control custom-checkbox mb-0">\r\n                    <input type="checkbox" [(ngModel)]="rowSum" class="custom-control-input" id="{{isRowSum}}" checked="">\r\n                    <label class="custom-control-label"\r\n                      for="{{isRowSum}}">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.rowTotal\')}}</label>\r\n                  </div>\r\n                  <div class="custom-control custom-checkbox mb-0">\r\n                    <input type="checkbox" [(ngModel)]="colSum" class="custom-control-input" id="{{isColSum}}" checked="">\r\n                    <label class="custom-control-label"\r\n                      for="{{isColSum}}">{{localizeService.getValue(\'ideCmp.schemaManager.otherOption.colTotal\')}}</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</perfect-scrollbar>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}],controlType:[{type:u.Input}]},e}(),X=function(){function e(e){this.injector=e,this.tabsSelectChange=new u.EventEmitter,this.localizeService=this.injector.get(c.LocalizeService)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){},e.prototype.handleTabSelect=function(e){var i=this.getOption();"column"===e.nextId&&this.columnOption.handleInfoChanged(0),this.tabsSelectChange.emit(i)},e.prototype.getOption=function(){var e={};return this.titleOption&&(e.titleOption=this.titleOption.getTitleOption()),this.columnOption&&(e.columnOption=this.columnOption.getColumnOption()),this.styleOption&&(e.styleOption=this.styleOption.getStyleOption()),this.otherOption&&(e.otherOption=this.otherOption.getOtherOption()),e},e.decorators=[{type:u.Component,args:[{selector:"schema-editor",template:'<farris-tabs [value]="\'title\'"  [contentFill]="true" [autoTitleWidth]="true"  (tabChange)="handleTabSelect($event)">\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.schemaManager.titleOption.tab\')" [id]="\'title\'">\r\n    <ng-template #content>\r\n      <title-editor [currSchema]="currSchema" class="schema-editor-tab d-flex flex-column flex-fill"></title-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.schemaManager.columnOption.tab\')" [id]="\'column\'">\r\n    <ng-template #content>\r\n      <column-editor [currSchema]="currSchema" [colList]="colList" [controlType]="controlType"  class="schema-editor-tab d-flex flex-column flex-fill"></column-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.schemaManager.styleOption.tab\')" [id]="\'style\'">\r\n    <ng-template #content>\r\n      <style-editor [currSchema]="currSchema" class="schema-editor-tab d-flex flex-column flex-fill"></style-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n  <farris-tab [title]="localizeService.getValue(\'ideCmp.schemaManager.otherOption.tab\')" [id]="\'other\'">\r\n    <ng-template #content>\r\n      <other-editor [currSchema]="currSchema"  [controlType]="controlType"  class="schema-editor-tab d-flex flex-column flex-fill"></other-editor>\r\n    </ng-template>\r\n  </farris-tab>\r\n</farris-tabs>\r\n',encapsulation:u.ViewEncapsulation.None,styles:[".schema-editor-tab{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}"]}]}],e.ctorParameters=function(){return[{type:u.Injector}]},e.propDecorators={currSchema:[{type:u.Input}],colList:[{type:u.Input}],controlType:[{type:u.Input}],tabsSelectChange:[{type:u.Output}],titleOption:[{type:u.ViewChild,args:[H]}],columnOption:[{type:u.ViewChild,args:[Z]}],styleOption:[{type:u.ViewChild,args:[W]}],otherOption:[{type:u.ViewChild,args:[q]}],tabs:[{type:u.ViewChild,args:[S.FarrisTabsComponent]}]},e}(),_=function(){function e(e,i,t,a){var r=this;this.schemaService=e,this.msgService=i,this.notifyService=t,this.injector=a,this.editorParams={},this.schemaSelected=new u.EventEmitter,this.saveSchema=new u.EventEmitter,this.saveAsSchema=new u.EventEmitter,this.removeSchema=new u.EventEmitter,this.saveAndCloseSchema=new u.EventEmitter,this.dialogBeforeClose=new u.EventEmitter,this.closeModal=new u.EventEmitter,this.submitModal=new u.EventEmitter,this.defaultExpand=!0,this.inputCollapse="收起",this.inputExpand="展开",this.size={},this.isShow=!1,this.personSchema="personSchema"+o.EventBus.guid(),this.orgSchema="orgSchema"+o.EventBus.guid(),this.publicSchema="publicSchema"+o.EventBus.guid(),this.defaultSchema="defaultSchema"+o.EventBus.guid(),this.schemaTreeData=[{data:{id:"public_schema",isDefault:0,isPrefab:1,schemaName:"公共",schemaType:0},expanded:!0,children:[]},{data:{id:"org_schema",isDefault:0,isPrefab:1,schemaName:"单位",schemaType:2},expanded:!0,children:[]},{data:{id:"person_schema",isDefault:0,isPrefab:1,schemaName:"个人",schemaType:1},expanded:!0,children:[]}],this.schemaDropDownData=[],this.isSchemaType=0,this.isDefault=!1,this.currentmode=!1,this.qoManagerCode="",this.modalConfig={title:"格式方案",width:900,height:500,showButtons:!0},this.chartsOption={chartsType:{series:{type:null}},chartsStyle:{title:{text:null,x:null,y:null,textStyle:{lineHeight:25,fontSize:25,fontStyle:"normal",fontWight:"normal",fontFamily:"Microsoft YaHei",color:"black"}},legend:{itemGap:10,itemWidth:25,itemHeight:14,align:"auto",orient:"horizontal"},visualMap:[{type:"continuous",top:"top",bottom:null,left:"right",right:null,pieces:[],categories:[],calculable:!0,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},outOfRange:{color:["rgba(255,255,255,.2)"]},controller:{inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},outOfRange:{color:["#444"]}},textStyle:{color:"#837"}}]},chartsData:{xAxis:{type:"category",position:"bottom"},yAxis:{type:"value",position:"left"},series:{type:null,encode:{x:[],y:[]}},legend:{data:[]}}},this.cacheSchemaData={},this.operations={},this.subscriptions=[],this.svgSchema=!0,this.handlebeforeClose=function(){var e="";return r.schemaId&&(e="prefab"===r.schemaId?"1":r.schemaId),!e&&r.schemaInfo&&r.schemaInfo.isDefaultSchema&&(e=r.schemaInfo.isDefaultSchema.id),r.dialogBeforeClose.emit(e),l.of(!0)},this.personSchema=this.personSchema+o.EventBus.guid(),this.publicSchema=this.publicSchema+o.EventBus.guid(),this.defaultSchema=this.defaultSchema+o.EventBus.guid(),this.injector&&(this.localizeService=this.injector.get(c.LocalizeService),this.modalConfig.title=this.localizeService.getValue("ideCmp.schemaManager.dailogName"),this.schemaTreeData[0].data.schemaName=this.localizeService.getValue("ideCmp.schemaManager.schemeTypePublic"),this.schemaTreeData[1].data.schemaName=this.localizeService.getValue("ideCmp.schemaManager.schemeTypeOrg"),this.schemaTreeData[2].data.schemaName=this.localizeService.getValue("ideCmp.schemaManager.schemeTypePersonal"),this.formErrorService=this.injector.get(n.FormErrorService),this.cache=this.injector.get(s.CacheService))}return e.prototype.ngOnInit=function(){var i=this;this.tabId=o.RtfServices.getTabId(this.queryId),o.EventBus.register("openAdvanceTemplateDialog",this.initSelectedSchemaId.bind(this),this.tabId),this.subscriptions.push(i.schemaService.operationChange.subscribe(function(e){e&&(i.operations=e)}))},e.prototype.initSelectedSchemaId=function(){this.selectedSchemaId=""},e.prototype.ngOnChanges=function(e){for(var i in e){var t=e[i].currentValue;if(null!=t)switch(i){case"schemaInfo":t&&this.schemaInfoChange(t);break;case"colList":t&&this.colListChange(t);break;case"editorParams":this.schemaManagerInitForIDE()}}},e.prototype.ngOnDestroy=function(){var e,i;if(this.subscriptions&&this.subscriptions.length)try{for(var t=A(this.subscriptions),a=t.next();!a.done;a=t.next()){a.value.unsubscribe()}}catch(r){e={error:r}}finally{try{a&&!a.done&&(i=t["return"])&&i.call(t)}finally{if(e)throw e.error}}},e.prototype.colListChange=function(e){if("charts"!==this.controlType){if(this.schemaTreeData[0].data.schemaValue&&this.schemaTreeData[1].data.schemaValue&&this.schemaTreeData[2].data.schemaValue&&e&&e.length){var i=this.initColumns(this.objectCopy(e));this.schemaTreeData[0].data.schemaValue.columnOption.colList=i,this.schemaTreeData[1].data.schemaValue.columnOption.colList=i,this.schemaTreeData[2].data.schemaValue.columnOption.colList=i}if(this.cacheSchemaData.public_schema&&this.cacheSchemaData.public_schema.schemaValue&&this.cacheSchemaData.public_schema.schemaValue.columnOption&&this.cacheSchemaData.public_schema.schemaValue.columnOption.colList){if(this.colList&&this.colList.length){i=this.initColumns(this.objectCopy(this.colList));this.cacheSchemaData.public_schema.schemaValue.columnOption.colList=i}"public_schema"===this.currTreeNode.id&&this.currTreeNodeChanged({node:{data:this.cacheSchemaData.public_schema}})}}},e.prototype.initColumns=function(e){return e&&e.length&&e.forEach(function(e){e.colWidth=150,e.visible=!0,e.isFixed=!1,e.align=1,e.formatType=0,e.formattor="",e.sort=0,e.pageAggre=0,e.pageAggreText="",e.isGroup=!1,e.groupAggre=0,e.groupAggreText="",e.totalAggre=0,e.totalAggreText="",e.dimension=0,e.rowColor="",e.showType="0"}),e},e.prototype.schemaInfoChange=function(i){var t=this;this.controlInit(),"charts"!==this.controlType?this.schemaTreeData[0].data.schemaValue=this.schemaTreeData[1].data.schemaValue=this.schemaTreeData[2].data.schemaValue=i&&i.preSchema?i.preSchema.schemaValue:null:this.schemaTreeData[0].data.schemaValue=this.schemaTreeData[1].data.schemaValue=this.schemaTreeData[2].data.schemaValue=this.chartsOption,i&&i.schemaList&&Object.keys(i.schemaList).forEach(function(e){t.cacheSchemaData[i.schemaList[e].id]=JSON.parse(JSON.stringify(i.schemaList[e])),t.schemaDropDownData.push(i.schemaList[e]),i.schemaList[e].schemaType-0==0?t.schemaTreeData[0].children.push({data:i.schemaList[e],expanded:!0,children:[]}):i.schemaList[e].schemaType-0==2?t.schemaTreeData[1].children.push({data:i.schemaList[e],expanded:!0,children:[]}):t.schemaTreeData[2].children.push({data:i.schemaList[e],expanded:!0,children:[]})}),this.schemaTree.updateSerializedValue(),i&&i.isDefaultSchema&&i.isDefaultSchema.id&&"selected_prefab"!==this.selectedSchemaId?((!this.schemaId||this.schemaId&&0<="1,public_schema".indexOf(this.schemaId)||0<="1,public_schema".indexOf(this.schemaId)&&!this.validateSchemaId(this.schemaId,i)||"1,public_schema".indexOf(this.schemaId)<0&&!this.validateSchemaId(this.schemaId,i))&&(this.schemaId=i.isDefaultSchema.id),this.isDefault=1===i.isDefaultSchema.isDefault,this.isSchemaType=i.isDefaultSchema.schemaType-0,this.schemaName=i.isDefaultSchema.schemaName):this.schemaId&&this.validateSchemaId(this.schemaId,i)||(this.schemaId="prefab"),"prefab"!==this.schemaId&&"1"!==this.schemaId&&this.schemaId?this.treeNodeSelected(this.schemaId):(this.treeNodeSelected("public_schema"),this.isDefault=!1,this.isSchemaType=0,this.schemaName="")},e.prototype.schemaManagerInitForIDE=function(){var r=this;if(this.editorParams&&this.editorParams.queryId){this.subscriptions=[],this.subscriptions.push(r.schemaService.schemaInfo.subscribe(function(e){if(e){var i=Object.assign({},e);r.schemaInfo=i,r.schemaInfo.schemaList&&(r.schemaInfo.schemaList=r.schemaInfo.schemaList[r.editorParams.queryId]),r.schemaInfoChange(r.schemaInfo)}})),this.subscriptions.push(r.schemaService.colList.subscribe(function(e){r.colList=e,r.colListChange(r.colList)})),this.schemaEditor&&this.schemaEditor.tabs&&this.schemaEditor.tabs.selectTab("title"),this.queryId=this.editorParams.queryId,this.controlType=this.editorParams.controlType,this.qoManagerCode=this.editorParams.qoManagerCode,this.queryRelativeUrl=this.editorParams.queryRelativeUrl,this.currentmode=!0;var e=this.cache.get(this.tabId+"organizationId")||"";this.schemaService.getSchemaList(r.queryId,"",e,r.queryRelativeUrl,r.groupType).subscribe(function(e){var i=e||[],t=i&&i.length&&i[0]&&i[0].id?i[0].id:"1",a={};a.qoManagerCode=r.qoManagerCode,a.pageIndex=0,a.schemaId=t,a.entityData="",a.extendCond="",r.editorParams&&r.editorParams.dynamicCols&&r.editorParams.dynamicCols.length?r.schemaService.getSpreadTemplate(t,r.queryId,r.editorParams.dynamicCols,r.queryRelativeUrl,null,r.editorParams.dynamicCols).subscribe():r.schemaService.getCol(a,r.queryRelativeUrl).subscribe(function(e){e&&e.dynamicCols&&r.schemaService.getSpreadTemplate(t,r.queryId,e.dynamicCols,r.queryRelativeUrl,null,e.dynamicCols).subscribe()})})}},e.prototype.controlInit=function(){this.currTreeNode=undefined,this.cacheSchemaData={},this.schemaTreeData[0].children=[],this.schemaTreeData[1].children=[],this.schemaTreeData[2].children=[],this.schemaDropDownData=[]},e.prototype.validateSchemaId=function(e,i){var t=!1;if(!e)return t;if(i&&i.schemaList)for(var a in i.schemaList)e===a&&(t=!0);return t},e.prototype.handleDialogShow=function(){this.personSchema="personSchema"+o.EventBus.guid(),this.publicSchema="publicSchema"+o.EventBus.guid(),this.defaultSchema="defaultSchema"+o.EventBus.guid(),"charts"!==this.controlType?this.schemaEditor&&this.schemaEditor.tabs&&this.schemaEditor.tabs.selectTab("title"):this.chartsSchemaEditor&&this.chartsSchemaEditor.tabs&&this.chartsSchemaEditor.tabs.selectTab("type"),this.isShow=!0,this.farrisDialog.show()},e.prototype.handleDropDownItemClick=function(e){this.schemaId=e,"prefab"===this.schemaId?(this.selectedSchemaId="selected_prefab",this.treeNodeSelected("public_schema")):(this.selectedSchemaId=e,this.treeNodeSelected(this.schemaId)),this.schemaSelected.emit("prefab"===e?"1":e)},e.prototype.handleTabsSelectChange=function(e){this.farrisPanelComponent&&this.farrisPanelComponent.modelValue.length&&this.farrisPanelComponent.updateModel("schemaInfo"),this.updateCurrSchema(e,"tabChanged")},e.prototype.handleSchemaTypeSelect=function(e){this.isSchemaType=e},e.prototype.handleTreeNodeSelected=function(e){if(this.currTreeNode){if(e.node.data.id!==this.currTreeNode.id&&(this.schemaEditor||this.chartsSchemaEditor))if("public_schema"===this.currTreeNode.id||"person_schema"===this.currTreeNode.id||"org_schema"===this.currTreeNode.id)this.currTreeNodeChanged(e);else{this.updateCurrSchema(null),"charts"===this.controlType&&this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData&&(this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData.series.type=this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData.series.type.replace("1","")),this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]&&("charts"===this.controlType&&(this.currTreeNode.schemaValue.chartsData.series.type=this.currTreeNode.schemaValue.chartsType.series.type,this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsData.series.type=this.cacheSchemaData[this.currTreeNode.id].schemaValue.chartsType.series.type),JSON.stringify(this.currTreeNode.schemaValue)===JSON.stringify(this.cacheSchemaData[this.currTreeNode.id].schemaValue)&&this.currTreeNode.schemaName===this.cacheSchemaData[this.currTreeNode.id].schemaName&&this.currTreeNode.schemaType===this.cacheSchemaData[this.currTreeNode.id].schemaType&&this.currTreeNode.isDefault===this.cacheSchemaData[this.currTreeNode.id].isDefault,this.currTreeNodeChanged(e))}}else this.currTreeNodeChanged(e)},e.prototype.currTreeNodeChanged=function(e){!this.currTreeNode||"public_schema"!==this.currTreeNode.id&&"person_schema"!==this.currTreeNode.id&&"org_schema"!==this.currTreeNode.id||delete this.cacheSchemaData[this.currTreeNode.id],this.currTreeNode=e.node.data,"public_schema"===this.currTreeNode.id?("charts"!==this.controlType&&this.colList&&this.colList.length&&(this.currTreeNode.schemaValue.columnOption.colList=this.colList),this.isDefault=!1,this.isSchemaType=0,this.schemaName=this.localizeService.getValue("ideCmp.schemaManager.schemePublic"),this.schemaId="prefab"):"person_schema"===this.currTreeNode.id?("charts"!==this.controlType&&(this.currTreeNode.schemaValue.columnOption.colList=this.colList),this.isDefault=!1,this.isSchemaType=1,this.schemaName=this.localizeService.getValue("ideCmp.schemaManager.schemePersonal"),this.schemaId="prefab"):"org_schema"===this.currTreeNode.id?("charts"!==this.controlType&&(this.currTreeNode.schemaValue.columnOption.colList=this.colList),this.isDefault=!1,this.isSchemaType=2,this.schemaName=this.localizeService.getValue("ideCmp.schemaManager.schemeOrg"),this.schemaId="prefab"):(this.isDefault=1===this.currTreeNode.isDefault,this.isSchemaType=this.currTreeNode.schemaType-0,this.schemaName=this.currTreeNode.schemaName,this.schemaId=this.currTreeNode.id),this.cacheSchemaData[this.currTreeNode.id]=JSON.parse(JSON.stringify(this.currTreeNode))},e.prototype.treeNodeSelected=function(e){this.schemaTree.clearSelections(),e&&this.schemaTree.selectNode(e)},e.prototype.onResized=function(e){this.size.height=e.newHeight||300,this.size.width=e.newWidth,this.schemaTree&&this.schemaTree.resize(this.size)},e.prototype.handleSaveAsClick=function(){var i=this,t=this;if(this.updateCurrSchema(null,"save_as"),this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData.public_schema){if(!1===this.operations.QdpModifyPublicSchema&&0===this.cacheSchemaData.public_schema.schemaType)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.qdpModifyPublicSchema"));var e=JSON.stringify(this.cacheSchemaData.public_schema),a=JSON.parse(e);if(a.queryId=this.queryId,a.schemaValue=JSON.stringify(a.schemaValue),!a.schemaName)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.notNull"));for(var r in this.cacheSchemaData)if("public_schema"!==r&&"person_schema"!==r&&"org_schema"!==r&&r!==a.id&&a.schemaName===this.cacheSchemaData[r].schemaName)return this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.exists")),void(this.farrisPanelComponent&&!this.farrisPanelComponent.modelValue.length&&this.farrisPanelComponent.updateModel("schemaInfo"));if("charts"!==this.controlType&&this.crosstabColumnValidate(this.cacheSchemaData.public_schema.schemaValue.columnOption.colList))return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.crosstabValueDimension"));if(a.schemaName&&100<a.schemaName.length)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.tooLong"));var n={isText:[]};if(this.getTextColumnSort(a,n),n.isText.length)return void this.msgService.warning(n.isText[0]+" "+this.localizeService.getValue("ideCmp.schemaManager.message.validate.textColumnSort"));a.id="";var s=this.cache.get(this.tabId+"organizationId")||"";a.orgId=s,this.schemaService.saveSchema({schema:JSON.stringify(a),groupType:this.groupType},this.queryRelativeUrl).subscribe(function(e){i.schemaId="",e&&e.isDefaultSchema&&e.isDefaultSchema.id&&(i.schemaId=e.isDefaultSchema.id),i.notifyService.success({title:i.localizeService.getValue("ideCmp.schemaManager.message.info.title"),msg:i.localizeService.getValue("ideCmp.schemaManager.message.save.success"),timeout:3e3}),i.saveAsSchema.emit()},function(e){t.formErrorService.exception(e.Message,e)})}},e.prototype.handleRemoveClick=function(){var i=this,t=this;if(this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]){if(!1===this.operations.QdpModifyPublicSchema&&0===this.cacheSchemaData[this.currTreeNode.id].schemaType)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.qdpModifyPublicSchema"));if(this.cacheSchemaData[this.currTreeNode.id].isProtected&&(1===this.cacheSchemaData[this.currTreeNode.id].isProtected||"1"===this.cacheSchemaData[this.currTreeNode.id].isProtected))return void this.msgService.info(this.localizeService.getValue("ideCmp.schemaManager.message.validate.isProtected"));if("public_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"person_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"org_schema"!==this.cacheSchemaData[this.currTreeNode.id].id){var e=this.cache.get(this.tabId+"organizationId")||"";this.schemaService.deleteSchema(this.cacheSchemaData[this.currTreeNode.id].id,this.queryId,this.queryRelativeUrl,this.groupType,e).subscribe(function(e){e.subscribe(function(e){i.schemaId="",i.notifyService.success({title:i.localizeService.getValue("ideCmp.schemaManager.message.info.title"),msg:i.localizeService.getValue("ideCmp.schemaManager.message.delete.success"),timeout:3e3}),i.removeSchema.emit()})},function(e){t.formErrorService.exception(e.Message,e)})}else this.msgService.info(this.localizeService.getValue("ideCmp.schemaManager.message.info.delete"))}else this.msgService.info(this.localizeService.getValue("ideCmp.schemaManager.message.info.delete"))},e.prototype.handleSaveClick=function(){var i=this;if(this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]&&!1===this.operations.QdpModifyPublicSchema&&0===this.cacheSchemaData[this.currTreeNode.id].schemaType&&"public_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"person_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"org_schema"!==this.cacheSchemaData[this.currTreeNode.id].id)this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.qdpModifyPublicSchema"));else if(this.updateCurrSchema(null),this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]){if(!1===this.operations.QdpModifyPublicSchema&&0===this.cacheSchemaData[this.currTreeNode.id].schemaType&&"public_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"person_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"org_schema"!==this.cacheSchemaData[this.currTreeNode.id].id)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.qdpModifyPublicSchema"));if(this.cacheSchemaData[this.currTreeNode.id].isProtected&&(1===this.cacheSchemaData[this.currTreeNode.id].isProtected||"1"===this.cacheSchemaData[this.currTreeNode.id].isProtected))return void this.msgService.info(this.localizeService.getValue("ideCmp.schemaManager.message.validate.isProtected"));var e=JSON.stringify(this.cacheSchemaData[this.currTreeNode.id]),t=JSON.parse(e);if("public_schema"!==t.id&&"person_schema"!==t.id&&"org_schema"!==t.id||(t.id=""),t.queryId=this.queryId,t.schemaValue=JSON.stringify(t.schemaValue),!t.schemaName)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.notNull"));for(var a in this.cacheSchemaData)if("public_schema"!==a&&"person_schema"!==a&&"org_schema"!==a&&a!==t.id&&t.schemaName===this.cacheSchemaData[a].schemaName)return this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.exists")),void(this.farrisPanelComponent&&!this.farrisPanelComponent.modelValue.length&&this.farrisPanelComponent.updateModel("schemaInfo"));if("charts"!==this.controlType&&this.crosstabColumnValidate(this.cacheSchemaData[this.currTreeNode.id].schemaValue.columnOption.colList))return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.crosstabValueDimension"));if(t.schemaName&&100<t.schemaName.length)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.tooLong"));var r={isText:[]};if(this.getTextColumnSort(t,r),r.isText.length)return void this.msgService.warning(r.isText[0]+" "+this.localizeService.getValue("ideCmp.schemaManager.message.validate.textColumnSort"));var n=this.cache.get(this.tabId+"organizationId")||"";t.orgId=n,this.schemaService.saveSchema({schema:JSON.stringify(t),groupType:this.groupType},this.queryRelativeUrl).subscribe(function(e){e&&e.isDefaultSchema&&e.isDefaultSchema.id&&(i.schemaId=e.isDefaultSchema.id),i.schemaId="prefab"===i.schemaId?"":i.schemaId,i.notifyService.success({title:i.localizeService.getValue("ideCmp.schemaManager.message.info.title"),msg:i.localizeService.getValue("ideCmp.schemaManager.message.save.success"),timeout:3e3}),i.treeNodeSelected(i.schemaId),i.saveSchema.emit()},function(e){i.formErrorService.exception(e.Message,e)})}},e.prototype.handleSaveAndCloseClick=function(){var i=this;if(this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]&&!1===this.operations.QdpModifyPublicSchema&&0===this.cacheSchemaData[this.currTreeNode.id].schemaType&&"public_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"person_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"org_schema"!==this.cacheSchemaData[this.currTreeNode.id].id)this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.qdpModifyPublicSchema"));else if(this.updateCurrSchema(null),this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]){if(!1===this.operations.QdpModifyPublicSchema&&0===this.cacheSchemaData[this.currTreeNode.id].schemaType&&"public_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"person_schema"!==this.cacheSchemaData[this.currTreeNode.id].id&&"org_schema"!==this.cacheSchemaData[this.currTreeNode.id].id)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.qdpModifyPublicSchema"));if(this.cacheSchemaData[this.currTreeNode.id].isProtected&&(1===this.cacheSchemaData[this.currTreeNode.id].isProtected||"1"===this.cacheSchemaData[this.currTreeNode.id].isProtected))return void this.msgService.info(this.localizeService.getValue("ideCmp.schemaManager.message.validate.isProtected"));var e=JSON.stringify(this.cacheSchemaData[this.currTreeNode.id]),t=JSON.parse(e);if("public_schema"!==t.id&&"person_schema"!==t.id&&"org_schema"!==t.id||(t.id=""),t.queryId=this.queryId,t.schemaValue=JSON.stringify(t.schemaValue),!t.schemaName)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.notNull"));for(var a in this.cacheSchemaData)if("public_schema"!==a&&"person_schema"!==a&&"org_schema"!==a&&a!==t.id&&t.schemaName===this.cacheSchemaData[a].schemaName)return this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.exists")),void(this.farrisPanelComponent&&!this.farrisPanelComponent.modelValue.length&&this.farrisPanelComponent.updateModel("schemaInfo"));if("charts"!==this.controlType&&this.crosstabColumnValidate(this.cacheSchemaData[this.currTreeNode.id].schemaValue.columnOption.colList))return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.crosstabValueDimension"));if(t.schemaName&&100<t.schemaName.length)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.tooLong"));var r={isText:[]};if(this.getTextColumnSort(t,r),r.isText.length)return void this.msgService.warning(r.isText[0]+" "+this.localizeService.getValue("ideCmp.schemaManager.message.validate.textColumnSort"));var n=this.cache.get(this.tabId+"organizationId")||"";t.orgId=n,this.schemaService.saveSchema({schema:JSON.stringify(t),groupType:this.groupType},this.queryRelativeUrl).subscribe(function(e){e&&e.isDefaultSchema&&e.isDefaultSchema.id&&(i.schemaId=e.isDefaultSchema.id),i.schemaId="prefab"===i.schemaId?"":i.schemaId,i.notifyService.success({title:i.localizeService.getValue("ideCmp.schemaManager.message.info.title"),msg:i.localizeService.getValue("ideCmp.schemaManager.message.save.success"),timeout:3e3}),i.treeNodeSelected(i.schemaId),i.saveAndCloseSchema.emit(),i.currentmode?i.closeModal.emit():i.farrisDialog.close()},function(e){i.formErrorService.exception(e.Message,e)})}},e.prototype.updateCurrSchema=function(e,i){"charts"!==this.controlType?this.updateListSchema(e,i):this.updateChartsSchema(e,i)},e.prototype.updateListSchema=function(e,i){var t=e;if(t||this.schemaEditor&&(t=this.schemaEditor.getOption()),this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]){var a=this.currTreeNode.id;"save_as"===i&&(a="public_schema",this.cacheSchemaData[a]=JSON.parse(JSON.stringify(this.cacheSchemaData[this.currTreeNode.id])),this.cacheSchemaData[a].id=a),t&&t.titleOption&&(this.cacheSchemaData[a].schemaValue.titleOption=t.titleOption),t&&t.columnOption&&t.columnOption.length&&(this.cacheSchemaData[a].schemaValue.columnOption.colList=t.columnOption),t&&t.styleOption&&(this.cacheSchemaData[a].schemaValue.styleOption=t.styleOption),t&&t.otherOption&&(this.cacheSchemaData[a].schemaValue.otherOption=t.otherOption),"tabChanged"!==i&&(this.cacheSchemaData[a].schemaName=this.schemaName,this.cacheSchemaData[a].schemaType=this.isSchemaType,this.cacheSchemaData[a].isDefault=this.isDefault?1:0)}},e.prototype.updateChartsSchema=function(e,i){var t=e;if(t||this.chartsSchemaEditor&&(t=this.chartsSchemaEditor.getOption()),this.currTreeNode&&this.cacheSchemaData&&this.cacheSchemaData[this.currTreeNode.id]){var a=this.currTreeNode.id;if("save_as"===i&&(a="public_schema",this.cacheSchemaData[a]=JSON.parse(JSON.stringify(this.cacheSchemaData[this.currTreeNode.id])),this.cacheSchemaData[a].id=a),t&&t.chartsType&&(this.cacheSchemaData[a].schemaValue.chartsType=t.chartsType),t&&t.chartsData&&(this.cacheSchemaData[a].schemaValue.chartsData=t.chartsData,t&&t.groupSummarySet&&(this.cacheSchemaData[a].schemaValue.groupSummarySet=t.groupSummarySet)),t&&t.chartsStyle){if(this.cacheSchemaData[a].schemaValue.chartsStyle=t.chartsStyle,t&&t.customOption&&"error"===t.customOption)return void this.msgService.warning(this.localizeService.getValue("ideCmp.schemaManager.message.validate.crosstabValueDimension"));this.cacheSchemaData[a].schemaValue.customOption=t.customOption}this.cacheSchemaData[a].schemaValue.chartsData.series.type=this.cacheSchemaData[a].schemaValue.chartsType.series.type,this.cacheSchemaData[a].schemaValue.chartsData.legend&&(this.cacheSchemaData[a].schemaValue.chartsStyle.legend.show=this.cacheSchemaData[a].schemaValue.chartsData.legend.show,this.cacheSchemaData[a].schemaValue.chartsStyle.legend.data=this.cacheSchemaData[a].schemaValue.chartsData.legend.data),"tabChanged"!==i&&(this.cacheSchemaData[a].schemaName=this.schemaName,this.cacheSchemaData[a].schemaType=this.isSchemaType,this.cacheSchemaData[a].isDefault=this.isDefault?1:0)}},e.prototype.crosstabColumnValidate=function(e){var i=!1;if("crosstab"===this.controlType)for(var t=0;t<e.length;t++)if(4!==e[t].groupAggre&&4!==e[t].totalAggre&&e[t].dimension-0==3&&!"int,integer,float,double,decimal,number".includes(e[t].type?e[t].type.toLowerCase():"")){i=!0;break}return i},e.prototype.objectCopy=function(e){var i=JSON.stringify(e);return JSON.parse(i)},e.prototype.clickCancel=function(){this.closeModal.emit()},e.prototype.handleHover=function(e,i){this.svgSchema=1===i},e.prototype.getTextColumnSort=function(e,i){var t,a=this;(t=e&&"string"==typeof e.schemaValue?JSON.parse(e.schemaValue):e.schemaValue).columnOption&&t.columnOption.colList&&t.columnOption.colList.length&&t.columnOption.colList.forEach(function(e){a.recursiveTextColumnSort(e,null,i)})},e.prototype.recursiveTextColumnSort=function(e,i,t){if(null==i)e.childList&&e.childList.length?this.recursiveTextColumnSort(null,e.childList,t):(e.type&&"text"===e.type.toLowerCase()&&0<e.sort&&t.isText.push(e.bindField),t.colIndex++);else for(var a=0;a<i.length;a++)i[a].childList&&i[a].childList.length?this.recursiveTextColumnSort(null,i[a].childList,t):(i[a].type&&"text"===i[a].type.toLowerCase()&&0<i[a].sort&&t.isText.push(i[a].bindField),t.colIndex++)},e.decorators=[{type:u.Component,args:[{selector:"schema-manager",template:'<div class="btn-group" fDropdown *ngIf="!currentmode">\r\n  <button class="btn btn-secondary btn-outline-link btn-icontext f-rt-btn border-0 dropdown-toggle" type="button"\r\n    id="dropdownMenuButtonSchema" fDropdownToggle (mouseenter)="handleHover(0, 0)" (mouseleave)="handleHover(0, 1)">\r\n    <span class="f-icon" role="presentation">\r\n      <img *ngIf="svgSchema" src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTggMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmdlc2hpPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBpZD0n6aG16Z2iLTEnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnPjxnIGlkPSfkuqTkupLmlrnmoYgxLeW4uOinhOaAgeWkh+S7vScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTE5LjAwMDAwMCwgLTE5NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTE1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgMTgyLjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTYnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEzLjAwMDAwMCwgMTIuMDAwMDAwKSc+PGcgaWQ9J2ZhbmdhbicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC4wMDAwMDAsIDEuMDAwMDAwKSc+PHBhdGggZD0nTTIuMzQyODU3MTQsMy4yMTUzODQ2MiBMMTYuMDU3MTQyOSwzLjIxNTM4NDYyIEMxNi4xNDgwNzQyLDMuMjE1Mzg0NjIgMTYuMjM1MjgxMywzLjI1MTA0Mzg1IDE2LjI5OTU3OTUsMy4zMTQ1MTc3IEMxNi4zNjM4Nzc3LDMuMzc3OTkxNTUgMTYuNCwzLjQ2NDA4MDU3IDE2LjQsMy41NTM4NDYxNSBMMTYuNCwxNS4wNjE1Mzg1IEMxNi40LDE1LjI0ODQ2NTYgMTYuMjQ2NDk3NiwxNS40IDE2LjA1NzE0MjksMTUuNCBMMi4zNDI4NTcxNCwxNS40IEMyLjE1MzUwMjM3LDE1LjQgMiwxNS4yNDg0NjU2IDIsMTUuMDYxNTM4NSBMMiwzLjU1Mzg0NjE1IEMyLDMuNDY0MDgwNTcgMi4wMzYxMjIzNCwzLjM3Nzk5MTU1IDIuMTAwNDIwNTMsMy4zMTQ1MTc3IEMyLjE2NDcxODcyLDMuMjUxMDQzODUgMi4yNTE5MjU3NywzLjIxNTM4NDYyIDIuMzQyODU3MTQsMy4yMTUzODQ2MiBaJyBpZD0n6Lev5b6EJyBmaWxsPScjN0E4OUIyJyBvcGFjaXR5PScwLjUnPjwvcGF0aD48cGF0aCBkPSdNMi4zNDI5MDc3MSwxIEw4Ljk4MTYwMSwxIEM5LjEwOTg5ODU2LDEgOS4yMjc0NTAwNywxLjA3MTY1NjYzIDkuMjg2Mjc0NDksMS4xODU2NTcxNCBMMTYuMzYxODMyMiwxNC44OTk5NDI4IEMxNi40MTY2ODUxLDE1LjAwNjI0NjUgMTYuNDEyMTYxLDE1LjEzMzQ0OTEgMTYuMzQ5ODk0NywxNS4yMzU1ODg2IEMxNi4yODc2Mjg0LDE1LjMzNzcyODEgMTYuMTc2NjIyNywxNS40IDE2LjA1Njk4NzMsMTUuNCBMMi4zNDI5MDc3MSwxNS40IEMyLjE1MzUyNTAxLDE1LjQgMiwxNS4yNDY0OTc2IDIsMTUuMDU3MTQyOCBMMiwxLjM0Mjg1NzE0IEMyLDEuMTUzNTAyMzcgMi4xNTM1MjUwMSwxIDIuMzQyOTA3NzEsMSBaJyBpZD0n6Lev5b6EJyBmaWxsPScjOEZBMUNCJz48L3BhdGg+PHBhdGggZD0nTTQuMzY2NDMzNTYsMy4yMTUzODQ2MiBMNy4zODc0MTI2LDMuMjE1Mzg0NjIgQzcuNDg4MTExOSwzLjIxNTM4NDYyIDcuNTM4NDYxNTQsMy4yODkyMzA3NyA3LjUzODQ2MTU0LDMuNDM2OTIzMDYgTDcuNTM4NDYxNTQsNS4yMDkyMzA3OCBDNy41Mzg0NjE1NCw1LjM1NjkyMzA5IDcuNDg4MTExODksNS40MzA3NjkyMyA3LjM4NzQxMjYsNS40MzA3NjkyMyBMNC4zNjY0MzM1Niw1LjQzMDc2OTIzIEM0LjI2NTczNDI1LDUuNDMwNzY5MjMgNC4yMTUzODQ2Miw1LjM1NjkyMzA4IDQuMjE1Mzg0NjIsNS4yMDkyMzA3OCBMNC4yMTUzODQ2MiwzLjQzNjkyMzA2IEM0LjIxNTM4NDYyLDMuMjg5MjMwNzUgNC4yNjU3MzQyNiwzLjIxNTM4NDYyIDQuMzY2NDMzNTYsMy4yMTUzODQ2MiBaJyBpZD0n6Lev5b6EJyBmaWxsPScjRkZGRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==" style="width: 16px; height: 16px; display: block;" />\r\n      <img *ngIf="!svgSchema" src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxN3B4JyB2aWV3Qm94PScwIDAgMTggMTcnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmdlc2hpMjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9J+mhtemdoi0xJyBzdHJva2U9J25vbmUnIHN0cm9rZS13aWR0aD0nMScgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48ZyBpZD0n5Zu+5qCH6YCJ5Lit6aKc6Imy5YiH5Zu+5aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTkuMDAwMDAwLCAtMTk1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCAxODIuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0xNicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTMuMDAwMDAwLCAxMi4wMDAwMDApJz48ZyBpZD0nZmFuZ2FuJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgMS4wMDAwMDApJz48cGF0aCBkPSdNMi4zNDI4NTcxNCwzLjIxNTM4NDYyIEwxNi4wNTcxNDI5LDMuMjE1Mzg0NjIgQzE2LjE0ODA3NDIsMy4yMTUzODQ2MiAxNi4yMzUyODEzLDMuMjUxMDQzODUgMTYuMjk5NTc5NSwzLjMxNDUxNzcgQzE2LjM2Mzg3NzcsMy4zNzc5OTE1NSAxNi40LDMuNDY0MDgwNTcgMTYuNCwzLjU1Mzg0NjE1IEwxNi40LDE1LjA2MTUzODUgQzE2LjQsMTUuMjQ4NDY1NiAxNi4yNDY0OTc2LDE1LjQgMTYuMDU3MTQyOSwxNS40IEwyLjM0Mjg1NzE0LDE1LjQgQzIuMTUzNTAyMzcsMTUuNCAyLDE1LjI0ODQ2NTYgMiwxNS4wNjE1Mzg1IEwyLDMuNTUzODQ2MTUgQzIsMy40NjQwODA1NyAyLjAzNjEyMjM0LDMuMzc3OTkxNTUgMi4xMDA0MjA1MywzLjMxNDUxNzcgQzIuMTY0NzE4NzIsMy4yNTEwNDM4NSAyLjI1MTkyNTc3LDMuMjE1Mzg0NjIgMi4zNDI4NTcxNCwzLjIxNTM4NDYyIFonIGlkPSfot6/lvoQnIGZpbGw9JyM0Qjk5RkYnIG9wYWNpdHk9JzAuNic+PC9wYXRoPjxwYXRoIGQ9J00yLjM0MjkwNzcxLDEgTDguOTgxNjAxLDEgQzkuMTA5ODk4NTYsMSA5LjIyNzQ1MDA3LDEuMDcxNjU2NjMgOS4yODYyNzQ0OSwxLjE4NTY1NzE0IEwxNi4zNjE4MzIyLDE0Ljg5OTk0MjggQzE2LjQxNjY4NTEsMTUuMDA2MjQ2NSAxNi40MTIxNjEsMTUuMTMzNDQ5MSAxNi4zNDk4OTQ3LDE1LjIzNTU4ODYgQzE2LjI4NzYyODQsMTUuMzM3NzI4MSAxNi4xNzY2MjI3LDE1LjQgMTYuMDU2OTg3MywxNS40IEwyLjM0MjkwNzcxLDE1LjQgQzIuMTUzNTI1MDEsMTUuNCAyLDE1LjI0NjQ5NzYgMiwxNS4wNTcxNDI4IEwyLDEuMzQyODU3MTQgQzIsMS4xNTM1MDIzNyAyLjE1MzUyNTAxLDEgMi4zNDI5MDc3MSwxIFonIGlkPSfot6/lvoQnIGZpbGw9JyM0Qjk5RkYnIG9wYWNpdHk9JzAuOCc+PC9wYXRoPjxwYXRoIGQ9J000LjM2NjQzMzU2LDMuMjE1Mzg0NjIgTDcuMzg3NDEyNiwzLjIxNTM4NDYyIEM3LjQ4ODExMTksMy4yMTUzODQ2MiA3LjUzODQ2MTU0LDMuMjg5MjMwNzcgNy41Mzg0NjE1NCwzLjQzNjkyMzA2IEw3LjUzODQ2MTU0LDUuMjA5MjMwNzggQzcuNTM4NDYxNTQsNS4zNTY5MjMwOSA3LjQ4ODExMTg5LDUuNDMwNzY5MjMgNy4zODc0MTI2LDUuNDMwNzY5MjMgTDQuMzY2NDMzNTYsNS40MzA3NjkyMyBDNC4yNjU3MzQyNSw1LjQzMDc2OTIzIDQuMjE1Mzg0NjIsNS4zNTY5MjMwOCA0LjIxNTM4NDYyLDUuMjA5MjMwNzggTDQuMjE1Mzg0NjIsMy40MzY5MjMwNiBDNC4yMTUzODQ2MiwzLjI4OTIzMDc1IDQuMjY1NzM0MjYsMy4yMTUzODQ2MiA0LjM2NjQzMzU2LDMuMjE1Mzg0NjIgWicgaWQ9J+i3r+W+hCcgZmlsbD0nI0ZGRkZGRicgZmlsbC1ydWxlPSdub256ZXJvJz48L3BhdGg+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=" style="width: 16px; height: 16px; display: block;" />\r\n    </span>\r\n    \x3c!-- <span *ngIf="isMultiForm" class="f-icon f-icon-indent" role="presentation"></span> --\x3e\r\n    <span *ngIf="!isMultiForm">&nbsp;{{localizeService.getValue(\'ideCmp.schemaManager.formatSchemaManagerName\')}}</span>\r\n  </button>\r\n  <div class="dropdown-menu" fDropdownMenu>\r\n    <a class="dropdown-item" href="javascript:void(0);" (click)="handleDialogShow()">\r\n      <span class="k-icon"></span>{{localizeService.getValue(\'ideCmp.schemaManager.formatManager\')}}</a>\r\n    <div class="dropdown-divider"></div>\r\n    <a *ngIf="controlType!=\'charts\' && showPreSchema" class="dropdown-item" href="javascript:void(0);"\r\n      (click)="handleDropDownItemClick(\'prefab\')">\r\n      <span [class.k-i-check]="schemaId==\'prefab\'"\r\n        class="k-icon"></span>&nbsp;{{localizeService.getValue(\'ideCmp.schemaManager.preFormat\')}}</a>\r\n    <a *ngFor="let item of schemaDropDownData" class="dropdown-item" href="javascript:void(0);"\r\n      (click)="handleDropDownItemClick(item.id)">\r\n      <span [class.k-i-check]="schemaId==item.id" class="k-icon"></span>&nbsp;{{item.schemaName}}</a>\r\n  </div>\r\n</div>\r\n\r\n<farris-dialog #farrisDialog [title]="localizeService.getValue(\'ideCmp.schemaManager.formatSchemaManagerName\')"\r\n  [showButtons]="false" [width]="1258" [height]="630" [beforeClose]="handlebeforeClose" *ngIf="!currentmode">\r\n  <div class="farris-main-area flex-column bg-white">\r\n    <div class="d-flex flex-row flex-fill farris-overflow-hidden">\r\n      <div class="col-3 p-0 m-1 farris-overflow-hidden" (resized)="onResized($event)">\r\n        <farris-treetable #schemaTree [data]="schemaTreeData" [idField]="\'id\'" [showCheckAll]="false"\r\n          [resizableColumns]="true" [showHeader]="false" [striped]="false" [fixedHeader]="true" [width]="size.width"\r\n          [height]="size.height" (nodeSelected)="handleTreeNodeSelected($event)">\r\n          <tt-column [field]="\'schemaName\'" [width]="100" [align]="\'left\'" [hAlign]="\'center\'"></tt-column>\r\n        </farris-treetable>\r\n      </div>\r\n      <div class="d-flex flex-column flex-fill mt-1 mb-1 mr-1">\r\n        <farris-panel class="w-100" defaultExpand="defaultExpand">\r\n          <farris-panel-item [title]="localizeService.getValue(\'ideCmp.schemaManager.basicInfoName\')"\r\n            [value]="\'schemaInfo\'">\r\n            <ng-template #contentTempl>\r\n              <div class="farris-header p-1">\r\n                <div class="form-row">\r\n                  <div class="col-8 col-md-8 col-lg-8">\r\n                    <div class="farris-group-wrap form-inline farris-form-inline m-1">\r\n                      <div class="form-group farris-group-wrap">\r\n                        <label class="col-form-label" style="min-width: 0;" for="schema_name_id">\r\n                          <span\r\n                            class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.schemeName\')}}:</span>\r\n                        </label>\r\n                        <div class="farris-input-wrap">\r\n                          <input-group id="schema_name_id" [(ngModel)]="schemaName"></input-group>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="form-row">\r\n                  <div class="col-12 col-md-12 col-lg-12">\r\n                    <div class="farris-group-wrap form-inline farris-form-inline m-1">\r\n                      <div class="form-group farris-group-wrap">\r\n                        <label class="col-form-label" style="min-width: 0;" for="range_type_id">\r\n                          <span\r\n                            class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.schemeType\')}}:</span>\r\n                        </label>\r\n                        <div class="farris-input-wrap farris-checkradio-hor">\r\n                          <div class="custom-control custom-radio mb-0">\r\n                            <input type="radio" id="{{publicSchema}}" name="custom-radio1" class="custom-control-input"\r\n                              [checked]="isSchemaType==0">\r\n                            <label class="custom-control-label" for="{{publicSchema}}"\r\n                              (click)="handleSchemaTypeSelect(0)">{{localizeService.getValue(\'ideCmp.schemaManager.schemeTypePublic\')}}</label>\r\n                          </div>\r\n                          <div class="custom-control custom-radio mb-0">\r\n                            <input type="radio" id="{{orgSchema}}" name="custom-radio1" class="custom-control-input"\r\n                              [checked]="isSchemaType==2">\r\n                            <label class="custom-control-label" for="{{orgSchema}}"\r\n                              (click)="handleSchemaTypeSelect(2)">{{localizeService.getValue(\'ideCmp.schemaManager.schemeTypeOrg\')}}</label>\r\n                          </div>\r\n                          <div class="custom-control custom-radio mb-0">\r\n                            <input type="radio" id="{{personSchema}}" name="custom-radio1" class="custom-control-input"\r\n                              [checked]="isSchemaType==1">\r\n                            <label class="custom-control-label" for="{{personSchema}}"\r\n                              (click)="handleSchemaTypeSelect(1)">{{localizeService.getValue(\'ideCmp.schemaManager.schemeTypePersonal\')}}</label>\r\n                          </div>\r\n                          <div class="custom-control custom-checkbox mb-0">\r\n                            <input type="checkbox" class="custom-control-input" id="{{defaultSchema}}"\r\n                              [(ngModel)]="isDefault">\r\n                            <label class="custom-control-label"\r\n                              for="{{defaultSchema}}">{{localizeService.getValue(\'ideCmp.schemaManager.schemeDefault\')}}</label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </farris-panel-item>\r\n        </farris-panel>\r\n        <div class="farris-form d-flex flex-fill flex-column farris-overflow-hidden">\r\n          <schema-editor *ngIf="controlType!=\'charts\'" class="d-flex flex-fill flex-column mt-1"\r\n            [currSchema]="currTreeNode" [colList]="colList" [controlType]="controlType"\r\n            (tabsSelectChange)="handleTabsSelectChange($event)">\r\n          </schema-editor>\r\n          <charts-schema-editor *ngIf="controlType==\'charts\'" class="d-flex flex-fill flex-column mt-1"\r\n            [currSchema]="currTreeNode" [colList]="colList" [controlType]="controlType"\r\n            (tabsSelectChange)="handleTabsSelectChange($event)"></charts-schema-editor>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n      <div class="btn-toolbar btn-group-lg" id="page-header-toolbar">\r\n        <button class="btn btn-primary mr-1" id="button-edit" (click)="handleSaveClick()">\r\n          {{localizeService.getValue(\'ideCmp.schemaManager.btnSave\')}}</button>\r\n        <button class="btn btn-secondary mr-1" id="button-edit" (click)="handleSaveAsClick()">\r\n          {{localizeService.getValue(\'ideCmp.schemaManager.btnSaveAs\')}}</button>\r\n        <button class="btn btn-secondary mr-1" id="button-edit" (click)="handleRemoveClick()">\r\n          {{localizeService.getValue(\'ideCmp.schemaManager.btnDelete\')}}</button>\r\n        <button class="btn btn-secondary" id="button-edit" (click)="handleSaveAndCloseClick()">\r\n          {{localizeService.getValue(\'ideCmp.schemaManager.btnSaveAsClose\')}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<div class="farris-main-area flex-column bg-white" *ngIf="currentmode">\r\n  <div class="d-flex flex-row flex-fill farris-overflow-hidden">\r\n    <div class="col-3 p-0 m-1 farris-overflow-hidden" (resized)="onResized($event)">\r\n      <farris-treetable #schemaTree [data]="schemaTreeData" [idField]="\'id\'" [showCheckAll]="false"\r\n        [resizableColumns]="true" [fit]="true" [showHeader]="false" [striped]="false" [fixedHeader]="true"\r\n        [width]="size.width" [height]="size.height" (nodeSelected)="handleTreeNodeSelected($event)">\r\n        <tt-column [field]="\'schemaName\'" [width]="100" [align]="\'left\'" [hAlign]="\'center\'"></tt-column>\r\n      </farris-treetable>\r\n    </div>\r\n    <div class="d-flex flex-column flex-fill mt-1 mb-1 mr-1">\r\n      <farris-panel class="w-100" defaultExpand="defaultExpand">\r\n        <farris-panel-item [title]="localizeService.getValue(\'ideCmp.schemaManager.basicInfoName\')"\r\n          [value]="\'schemaInfo\'">\r\n          <ng-template #contentTempl>\r\n            <div class="farris-header p-1">\r\n              <div class="form-row">\r\n                <div class="col-8 col-md-8 col-lg-8">\r\n                  <div class="farris-group-wrap form-inline farris-form-inline m-1">\r\n                    <div class="form-group farris-group-wrap">\r\n                      <label class="col-form-label" style="min-width: 0;" for="schema_name_id">\r\n                        <span\r\n                          class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.schemeName\')}}:</span>\r\n                      </label>\r\n                      <div class="farris-input-wrap">\r\n                        <input-group id="schema_name_id" [(ngModel)]="schemaName"></input-group>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="form-row">\r\n                <div class="col-12 col-md-12 col-lg-12">\r\n                  <div class="farris-group-wrap form-inline farris-form-inline m-1">\r\n                    <div class="form-group farris-group-wrap">\r\n                      <label class="col-form-label" style="min-width: 0;" for="range_type_id">\r\n                        <span\r\n                          class="farris-label-text">{{localizeService.getValue(\'ideCmp.schemaManager.schemeType\')}}:</span>\r\n                      </label>\r\n                      <div class="farris-input-wrap farris-checkradio-hor">\r\n                        <div class="custom-control custom-radio mb-0">\r\n                          <input type="radio" id="{{publicSchema}}" name="custom-radio1" class="custom-control-input"\r\n                            [checked]="isSchemaType==0">\r\n                          <label class="custom-control-label" for="{{publicSchema}}"\r\n                            (click)="handleSchemaTypeSelect(0)">{{localizeService.getValue(\'ideCmp.schemaManager.schemeTypePublic\')}}</label>\r\n                        </div>\r\n                        <div class="custom-control custom-radio mb-0">\r\n                          <input type="radio" id="{{orgSchema}}" name="custom-radio1" class="custom-control-input"\r\n                            [checked]="isSchemaType==2">\r\n                          <label class="custom-control-label" for="{{orgSchema}}"\r\n                            (click)="handleSchemaTypeSelect(2)">{{localizeService.getValue(\'ideCmp.schemaManager.schemeTypeOrg\')}}</label>\r\n                        </div>\r\n                        <div class="custom-control custom-radio mb-0">\r\n                          <input type="radio" id="{{personSchema}}" name="custom-radio1" class="custom-control-input"\r\n                            [checked]="isSchemaType==1">\r\n                          <label class="custom-control-label" for="{{personSchema}}"\r\n                            (click)="handleSchemaTypeSelect(1)">{{localizeService.getValue(\'ideCmp.schemaManager.schemeTypePersonal\')}}</label>\r\n                        </div>\r\n                        <div class="custom-control custom-checkbox mb-0">\r\n                          <input type="checkbox" class="custom-control-input" id="{{defaultSchema}}"\r\n                            [(ngModel)]="isDefault">\r\n                          <label class="custom-control-label"\r\n                            for="{{defaultSchema}}">{{localizeService.getValue(\'ideCmp.schemaManager.schemeDefault\')}}</label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ng-template>\r\n        </farris-panel-item>\r\n      </farris-panel>\r\n      <div class="farris-form d-flex flex-fill flex-column farris-overflow-hidden">\r\n        <schema-editor *ngIf="controlType!=\'charts\'" class="d-flex flex-fill flex-column mt-1"\r\n          [currSchema]="currTreeNode" [colList]="colList" [controlType]="controlType"\r\n          (tabsSelectChange)="handleTabsSelectChange($event)">\r\n        </schema-editor>\r\n        <charts-schema-editor *ngIf="controlType==\'charts\'" class="d-flex flex-fill flex-column mt-1"\r\n          [currSchema]="currTreeNode" [colList]="colList" [controlType]="controlType"\r\n          (tabsSelectChange)="handleTabsSelectChange($event)"></charts-schema-editor>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <div class="btn-toolbar btn-group-lg" id="page-header-toolbar">\r\n      <button class="btn btn-primary mr-1" id="button-edit" (click)="handleSaveClick()">\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.btnSave\')}}</button>\r\n      <button class="btn btn-secondary mr-1" id="button-edit" (click)="handleSaveAsClick()">\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.btnSaveAs\')}}</button>\r\n      <button class="btn btn-secondary mr-1" id="button-edit" (click)="handleRemoveClick()">\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.btnDelete\')}}</button>\r\n      <button class="btn btn-secondary" id="button-edit" (click)="handleSaveAndCloseClick()" *ngIf="!currentmode">\r\n        {{localizeService.getValue(\'ideCmp.schemaManager.btnSaveAsClose\')}}</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #enumFooter>\r\n  <button type="button" class="btn btn-secondary"\r\n    (click)="clickCancel()">{{localizeService.getValue(\'ideCmp.schemaManager.btnCancel\')}}</button>\r\n  <button type="button" class="btn btn-primary"\r\n    (click)="handleSaveAndCloseClick()">{{localizeService.getValue(\'ideCmp.schemaManager.btnOK\')}}</button>\r\n</ng-template>\r\n',styles:[".schema-position{position:absolute;top:0;left:0;right:0}"]}]}],e.ctorParameters=function(){return[{type:J},{type:r.MessagerService},{type:D.NotifyService},{type:u.Injector,decorators:[{type:u.Optional}]}]},e.propDecorators={queryId:[{type:u.Input}],groupType:[{type:u.Input}],schemaInfo:[{type:u.Input}],colList:[{type:u.Input}],controlType:[{type:u.Input}],showPreSchema:[{type:u.Input}],editorParams:[{type:u.Input}],isMultiForm:[{type:u.Input}],schemaTree:[{type:u.ViewChild,args:["schemaTree"]}],modalFooter:[{type:u.ViewChild,args:["enumFooter"]}],schemaEditor:[{type:u.ViewChild,args:[X]}],chartsSchemaEditor:[{type:u.ViewChild,args:[G]}],farrisPanelComponent:[{type:u.ViewChild,args:[j.FarrisPanelComponent]}],farrisDialog:[{type:u.ViewChild,args:["farrisDialog"]}],schemaSelected:[{type:u.Output}],saveSchema:[{type:u.Output}],saveAsSchema:[{type:u.Output}],removeSchema:[{type:u.Output}],saveAndCloseSchema:[{type:u.Output}],dialogBeforeClose:[{type:u.Output}],closeModal:[{type:u.Output}],submitModal:[{type:u.Output}],queryRelativeUrl:[{type:u.Input}]},e}(),K=function(){function e(e){var i=this;this.printIntegrationManager=e,this.printIntegrationInfo=new l.Subject,this.printIntegrationManager.printIntegrationInfoChange.subscribe(function(e){i.printIntegrationInfo.next(e)})}return e.prototype.getPrintIntegration=function(e,i,t){return this.printIntegrationManager.getPrintIntegration(e,i,t)},e.prototype.savePrintIntegration=function(e,i){return this.printIntegrationManager.savePrintIntegration(e,i)},e.prototype.deletPrintIntegration=function(e,i,t){return this.printIntegrationManager.deletePrintIntegration(e,i,t)},e.decorators=[{type:u.Injectable}],e.ctorParameters=function(){return[{type:o.PrintIntegrationManagerService}]},e}(),$=function(){function e(e,i,t){var a=this;this.printIntegrationService=e,this.cache=i,this.injector=t,this.printIntegration=new u.EventEmitter,this.printPreview=new u.EventEmitter,this.dialogBeforeClose=new u.EventEmitter,this.printIntegrationData={distributionSelectValue:0,pageSizeSelectValue:0,marginSelectValue:0,zoomSize:0},this.zoomSize=100,this.distributionData=[{name:"横向",value:1},{name:"纵向",value:0}],this.pageSizeData=[{name:"信纸",value:1},{name:"Tabloid",value:3},{name:"法律专用纸",value:5},{name:"Statement",value:6},{name:"A3",value:8},{name:"A4",value:9},{name:"A5",value:11},{name:"B4 (JIS)",value:12},{name:"B5 (JIS)",value:13}],this.marginData=[{name:"默认",value:0,margin:{marginTop:1,marginLeft:1,marginBottom:1,marginRight:1}},{name:"无",value:1,margin:{marginTop:0,marginLeft:0,marginBottom:0,marginRight:0}},{name:"最小值",value:2,margin:{marginTop:0,marginLeft:0,marginBottom:0,marginRight:0}},{name:"自定义",value:3,margin:{marginTop:1,marginLeft:1,marginBottom:1,marginRight:1}}],this.size={},this.marginTop=1,this.marginLeft=1,this.marginBottom=1,this.marginRight=1,this.marginSelectValue=0,this.currentMarginData=this.marginData[0],this.isShowCustom=!1,this.svgPrint=!0,this.handlebeforeClose=function(){var e=a;return e.currentMarginData.margin.marginTop=a.marginTop,e.currentMarginData.margin.marginLeft=a.marginLeft,e.currentMarginData.margin.marginBottom=a.marginBottom,e.currentMarginData.margin.marginRight=a.marginRight,e.printIntegrationData={distributionSelectValue:e.findItem(e.distributionData,e.distributionSelectValue),pageSizeSelectValue:e.findItem(e.pageSizeData,e.pageSizeSelectValue),marginSelectValue:e.currentMarginData,zoomSize:e.zoomSize},e.printIntegrationData&&(e.saveDatas={Id:o.EventBus.guid(),printintegration:JSON.stringify(e.printIntegrationData),queryid:e.queryId,schemaId:e.schemaId},e.printIntegrationService.savePrintIntegration(e.saveDatas,e.queryRelativeUrl).subscribe()),l.of(!0)},this.injector&&(this.localizeService=this.injector.get(c.LocalizeService),this.msgService=this.injector.get(r.MessagerService),this.distributionData=this.localizeService.getValue("ideCmp.printOption.distributionData"),this.pageSizeData=this.localizeService.getValue("ideCmp.printOption.pageSizeData"),this.marginData=this.localizeService.getValue("ideCmp.printOption.marginData"))}return e.prototype.ngOnInit=function(){},e.prototype.handleDialogShow=function(){var i=this;this.queryId&&(this.schemaId=this.cache.get("schema_schemaid"+this.queryId),this.printIntegrationService.getPrintIntegration(this.schemaId,this.queryId,this.queryRelativeUrl).subscribe(function(e){e?(i.distributionSelectValue=e.printintegration.distributionSelectValue.value,i.pageSizeSelectValue=e.printintegration.pageSizeSelectValue.value,i.marginSelectValue=e.printintegration.marginSelectValue.value,i.currentMarginData=e.printintegration.marginSelectValue,i.marginTop=e.printintegration.marginSelectValue.margin.marginTop,i.marginLeft=e.printintegration.marginSelectValue.margin.marginLeft,i.marginBottom=e.printintegration.marginSelectValue.margin.marginBottom,i.marginRight=e.printintegration.marginSelectValue.margin.marginRight,i.zoomSize=e.printintegration.zoomSize):(i.distributionSelectValue=i.distributionData[0].value,i.pageSizeSelectValue=i.pageSizeData[5].value,i.marginSelectValue=i.marginData[0].value,i.currentMarginData=i.marginData[0]),i.farrisDialog.show()})),this.farrisDialog.show()},e.prototype.onResized=function(e){this.size.height=e.newHeight,this.size.width=e.newWidth},e.prototype.clickConfirm=function(e){var i=this;i.currentMarginData?(i.currentMarginData.margin.marginTop=this.marginTop,i.currentMarginData.margin.marginLeft=this.marginLeft,i.currentMarginData.margin.marginBottom=this.marginBottom,i.currentMarginData.margin.marginRight=this.marginRight,i.printIntegrationData={distributionSelectValue:i.findItem(i.distributionData,i.distributionSelectValue),pageSizeSelectValue:i.findItem(i.pageSizeData,i.pageSizeSelectValue),marginSelectValue:i.currentMarginData,zoomSize:i.zoomSize},i.printIntegrationData.distributionSelectValue?i.printIntegrationData.pageSizeSelectValue?("preview"===e?i.printPreview.emit(i.printIntegrationData):i.printIntegration.emit(i.printIntegrationData),i.farrisDialog.close()):i.msgService.warning(i.localizeService.getValue("ideCmp.printOption.message.validate.pageSize")):i.msgService.warning(i.localizeService.getValue("ideCmp.printOption.message.validate.distribution"))):i.msgService.warning(i.localizeService.getValue("ideCmp.printOption.message.validate.margin"))},e.prototype.onValueChange=function(e){this.currentMarginData=this.marginData[e.value],3===e.value?this.farrisDialog.height=350:this.farrisDialog.height=220},e.prototype.findItem=function(e,i){var t=null;if(e&&e.length)for(var a=0;a<e.length;a++)if(e[a].value===i){t=e[a];break}return t},e.prototype.handleHover=function(e,i){this.svgPrint=1===i},e.decorators=[{type:u.Component,args:[{selector:"print-integration",template:'<div class="btn-group" fDropdown>\r\n  <button id="printBtn" class="btn btn-secondary btn-outline-link btn-icontext f-rt-btn f-btn-ml border-0" type="button" (click)="handleDialogShow()" (mouseenter)="handleHover(0, 0)" (mouseleave)="handleHover(0, 1)">\r\n    <span class="f-icon" role="presentation">\r\n      <img *ngIf="svgPrint" src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxNnB4JyB2aWV3Qm94PScwIDAgMTggMTYnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmRheWluPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZGVmcz48cGF0aCBkPSdNMTQuNjI1LDEzLjgyMTU1IEwxNC42MjUsMTcuMSBMMy4zNzUsMTcuMSBMMy4zNzUsMTMuODIxNTUgTDAsMTMuODIxNTUgTDAsNi43MTgwOTk5OSBDMCw2LjU3MzYgMC4wNTk0LDYuNDM0MTk5OTkgMC4xNjQ3LDYuMzMxMzUgQzAuMjY4OTQyOTk5LDYuMjI5NDQxNTEgMC40MTI0Njc5MzksNi4xNzE3ODYxOSAwLjU2MjUwMDAwNyw2LjE3MTU1MDAxIEwxNy40Mzc1LDYuMTcxNTUwMDEgQzE3LjU4NjksNi4xNzE1NTAwMSAxNy43Myw2LjIyOTM1IDE3LjgzNTMsNi4zMzEzNSBDMTcuOTQwNiw2LjQzMzM1IDE4LDYuNTcyNzQ5OTkgMTgsNi43MTgwOTk5OSBMMTgsMTMuODIxNTUgTDE0LjYyNSwxMy44MjE1NSBaIE01LjYyNSwxMS42MzUzNSBMNS42MjUsMTQuOTE0NjUgTDEyLjM3NSwxNC45MTQ2NSBMMTIuMzc1LDExLjYzNDUgTDUuNjI1LDExLjYzNDUgTDUuNjI1LDExLjYzNTM1IFogTTE1LjE4NzUsMTAuMDA5MyBDMTUuNDg1NCwxMC4wMDkzIDE1Ljc3MjUsOS44OTQ1NTAwMSAxNS45ODMxLDkuNjg5NyBDMTYuMTkzNyw5LjQ4NDg0OTk5IDE2LjMxMjUsOS4yMDY4OTk5OSAxNi4zMTI1LDguOTE2MTk5OTkgQzE2LjMxMjUsOC42MjcxOTk5OSAxNi4xOTM3LDguMzQ5MjQ5OTkgMTUuOTgzMSw4LjE0MzU0OTk5IEMxNS43NzQ1NTQ0LDcuOTM5ODE0ODIgMTUuNDg3NTQzLDcuODI0NTE5NjQgMTUuMTg3NSw3LjgyMzk1MDAxIEMxNC44ODk2LDcuODIzOTUwMDEgMTQuNjAyNSw3LjkzODcwMDAxIDE0LjM5MTksOC4xNDM1NDk5OSBDMTQuMTc5NzgwMSw4LjM1MTEyMDg2IDE0LjA2MTYyNTUsOC42Mjg1NzI0NSAxNC4wNjI0OTUyLDguOTE3MDUgQzE0LjA2MjQ5NTIsOS4yMDYwNTAwMSAxNC4xODEzLDkuNDg0ODQ5OTkgMTQuMzkxOSw5LjY4OTcgQzE0LjYwMzQsOS44OTM3IDE0Ljg4OTYsMTAuMDA5MyAxNS4xODc1LDEwLjAwOTMgTDE1LjE4NzUsMTAuMDA5MyBaJyBpZD0ncGF0aC0xJz48L3BhdGg+PC9kZWZzPjxnIGlkPSfpobXpnaItMScgc3Ryb2tlPSdub25lJyBzdHJva2Utd2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PGcgaWQ9J+S6pOS6kuaWueahiDEt5bi46KeE5oCB5aSH5Lu9JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgtMTYxLjAwMDAwMCwgLTE5NS4wMDAwMDApJz48ZyBpZD0n57yW57uELTE1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSg2LjAwMDAwMCwgMTgyLjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTQnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDE1NS4wMDAwMDAsIDEyLjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTblpIfku70nPjxtYXNrIGlkPSdtYXNrLTInIGZpbGw9J3doaXRlJz48dXNlIHhsaW5rOmhyZWY9JyNwYXRoLTEnPjwvdXNlPjwvbWFzaz48dXNlIGlkPSflvaLnirYnIGZpbGw9JyM4QTk4QkUnIHhsaW5rOmhyZWY9JyNwYXRoLTEnPjwvdXNlPjwvZz48cGF0aCBkPSdNMy44MjUsMS44IEwxNC4xNzUsMS44IEMxNC40MjM1MjgxLDEuOCAxNC42MjUsMi4wMDE0NzE4NiAxNC42MjUsMi4yNSBMMTQuNjI1LDUuMDc4NDQ5OTkgTDE0LjYyNSw1LjA3ODQ0OTk5IEwzLjM3NSw1LjA3ODQ0OTk5IEwzLjM3NSwyLjI1IEMzLjM3NSwyLjAwMTQ3MTg2IDMuNTc2NDcxODYsMS44IDMuODI1LDEuOCBaJyBpZD0n55+p5b2iJyBmaWxsPScjN0E4OUIyJyBvcGFjaXR5PScwLjUnPjwvcGF0aD48L2c+PC9nPjwvZz48L2c+PC9zdmc+" style="width: 16px; height: 16px; display: block;" />\r\n      <img *ngIf="!svgPrint" src="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0nMThweCcgaGVpZ2h0PScxN3B4JyB2aWV3Qm94PScwIDAgMTggMTcnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc+PHRpdGxlPmRheWluMjwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGRlZnM+PHBhdGggZD0nTTE0LjYyNSwxMy44MjE1NSBMMTQuNjI1LDE3LjEgTDMuMzc1LDE3LjEgTDMuMzc1LDEzLjgyMTU1IEwwLDEzLjgyMTU1IEwwLDYuNzE4MDk5OTkgQzAsNi41NzM2IDAuMDU5NCw2LjQzNDE5OTk5IDAuMTY0Nyw2LjMzMTM1IEMwLjI2ODk0Mjk5OSw2LjIyOTQ0MTUxIDAuNDEyNDY3OTM5LDYuMTcxNzg2MTkgMC41NjI1MDAwMDcsNi4xNzE1NTAwMSBMMTcuNDM3NSw2LjE3MTU1MDAxIEMxNy41ODY5LDYuMTcxNTUwMDEgMTcuNzMsNi4yMjkzNSAxNy44MzUzLDYuMzMxMzUgQzE3Ljk0MDYsNi40MzMzNSAxOCw2LjU3Mjc0OTk5IDE4LDYuNzE4MDk5OTkgTDE4LDEzLjgyMTU1IEwxNC42MjUsMTMuODIxNTUgWiBNNS42MjUsMTEuNjM1MzUgTDUuNjI1LDE0LjkxNDY1IEwxMi4zNzUsMTQuOTE0NjUgTDEyLjM3NSwxMS42MzQ1IEw1LjYyNSwxMS42MzQ1IEw1LjYyNSwxMS42MzUzNSBaIE0xNS4xODc1LDEwLjAwOTMgQzE1LjQ4NTQsMTAuMDA5MyAxNS43NzI1LDkuODk0NTUwMDEgMTUuOTgzMSw5LjY4OTcgQzE2LjE5MzcsOS40ODQ4NDk5OSAxNi4zMTI1LDkuMjA2ODk5OTkgMTYuMzEyNSw4LjkxNjE5OTk5IEMxNi4zMTI1LDguNjI3MTk5OTkgMTYuMTkzNyw4LjM0OTI0OTk5IDE1Ljk4MzEsOC4xNDM1NDk5OSBDMTUuNzc0NTU0NCw3LjkzOTgxNDgyIDE1LjQ4NzU0Myw3LjgyNDUxOTY0IDE1LjE4NzUsNy44MjM5NTAwMSBDMTQuODg5Niw3LjgyMzk1MDAxIDE0LjYwMjUsNy45Mzg3MDAwMSAxNC4zOTE5LDguMTQzNTQ5OTkgQzE0LjE3OTc4MDEsOC4zNTExMjA4NiAxNC4wNjE2MjU1LDguNjI4NTcyNDUgMTQuMDYyNDk1Miw4LjkxNzA1IEMxNC4wNjI0OTUyLDkuMjA2MDUwMDEgMTQuMTgxMyw5LjQ4NDg0OTk5IDE0LjM5MTksOS42ODk3IEMxNC42MDM0LDkuODkzNyAxNC44ODk2LDEwLjAwOTMgMTUuMTg3NSwxMC4wMDkzIEwxNS4xODc1LDEwLjAwOTMgWicgaWQ9J3BhdGgtMSc+PC9wYXRoPjwvZGVmcz48ZyBpZD0n6aG16Z2iLTEnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLXdpZHRoPScxJyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnPjxnIGlkPSflm77moIfpgInkuK3popzoibLliIflm77lpIfku70nIHRyYW5zZm9ybT0ndHJhbnNsYXRlKC0xNjEuMDAwMDAwLCAtMTk1LjAwMDAwMCknPjxnIGlkPSfnvJbnu4QtMTUnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYuMDAwMDAwLCAxODIuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0xNCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTU1LjAwMDAwMCwgMTIuMDAwMDAwKSc+PGcgaWQ9J+e8lue7hC0xNuWkh+S7vSc+PG1hc2sgaWQ9J21hc2stMicgZmlsbD0nd2hpdGUnPjx1c2UgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PC9tYXNrPjx1c2UgaWQ9J+W9oueKticgZmlsbD0nIzU4QTFGRScgeGxpbms6aHJlZj0nI3BhdGgtMSc+PC91c2U+PC9nPjxwYXRoIGQ9J00zLjgyNSwxLjggTDE0LjE3NSwxLjggQzE0LjQyMzUyODEsMS44IDE0LjYyNSwyLjAwMTQ3MTg2IDE0LjYyNSwyLjI1IEwxNC42MjUsNS4wNzg0NDk5OSBMMTQuNjI1LDUuMDc4NDQ5OTkgTDMuMzc1LDUuMDc4NDQ5OTkgTDMuMzc1LDIuMjUgQzMuMzc1LDIuMDAxNDcxODYgMy41NzY0NzE4NiwxLjggMy44MjUsMS44IFonIGlkPSfnn6nlvaInIGZpbGw9JyM1OEExRkUnIG9wYWNpdHk9JzAuNSc+PC9wYXRoPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=" style="width: 16px; height: 16px; display: block;" />\r\n    </span>\r\n    \x3c!-- <span *ngIf="isMultiForm" class="f-icon f-icon-print" role="presentation"></span> --\x3e\r\n    <span *ngIf="!isMultiForm">&nbsp;{{localizeService.getValue(\'ideCmp.printOption.print\')}}</span>\r\n  </button>\r\n</div>\r\n<farris-dialog #farrisDialog [title]="localizeService.getValue(\'ideCmp.printOption.dailogName\')" [showButtons]="false" [width]="450" [height]="220"\r\n  [beforeClose]="handlebeforeClose" (resized)="onResized($event)">\r\n  <div class="flex-fill farris-split-section m-1 farris-overflow-hidden">\r\n    <div class="farris-form farris-card-content-bg">\r\n      <div class="form-row m-0">\r\n        <fieldSet farrisFold>\r\n          <div class="d-flex flex-wrap mb-2">\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="distributionSelectValue" style="width: 5rem; min-width: 5rem;">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.printOption.layout\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="distributionSelectValue" [(ngModel)]="distributionSelectValue"\r\n                    [data]="distributionData" [textField]="\'name\'" [idField]="\'value\'"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="pageSizeSelectValue" style="width: 5rem; min-width: 5rem;">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.printOption.paperSize\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="pageSizeSelectValue" [(ngModel)]="pageSizeSelectValue" [data]="pageSizeData"\r\n                    [textField]="\'name\'" [idField]="\'value\'"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="marginSelectValue" style="width: 5rem; min-width: 5rem;">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.printOption.margin\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-combo-list id="marginSelectValue" [(ngModel)]="marginSelectValue" [data]="marginData"\r\n                    [textField]="\'name\'" [idField]="\'value\'" (valueChange)="onValueChange($event)"></farris-combo-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12" *ngIf="marginSelectValue==3">\r\n                <div class="farris-group-wrap form-inline farris-form-inline">\r\n                  <div class="form-group farris-form-group">\r\n                    <label class="col-form-label" for="marginSelectValue" style="width: 5rem; min-width: 5rem;">\r\n                      <span class="farris-label-text"></span>\r\n                    </label>\r\n                    <div class="farris-input-wrap">\r\n                        <div class="row">\r\n                            <div class="col-4 offset-4">\r\n                              <farris-number-spinner id="marginTop" [(ngModel)]="marginTop" [min]="0"></farris-number-spinner>\r\n                            </div>\r\n                          </div>\r\n                          <div class="row p-3">\r\n                            <div class="col-4">\r\n                              <farris-number-spinner id="marginLeft" [(ngModel)]="marginLeft" [min]="0"></farris-number-spinner>\r\n                            </div>\r\n                            <div class="col-4  offset-4">\r\n                              <farris-number-spinner id="marginRight" [(ngModel)]="marginRight" [min]="0"></farris-number-spinner>\r\n                            </div>\r\n                          </div>\r\n                          <div class="row">\r\n                            <div class="col-4 offset-4">\r\n                              <farris-number-spinner id="marginBottom" [(ngModel)]="marginBottom" [min]="0"></farris-number-spinner>\r\n                            </div>\r\n                          </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            <div class="col-12 col-md-12 col-lg-12">\r\n              <div class="farris-group-wrap form-inline farris-form-inline">\r\n                <div class="form-group farris-form-group">\r\n                  <label class="col-form-label" for="zoomSize" style="width: 5rem; min-width: 5rem;">\r\n                    <span class="farris-label-text">{{localizeService.getValue(\'ideCmp.printOption.zoom\')}}:</span>\r\n                  </label>\r\n                  <div class="farris-input-wrap">\r\n                    <farris-number-spinner id="zoomSize" [(ngModel)]="zoomSize" [min]="1"></farris-number-spinner>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-12 col-md-12 col-lg-12 text-right">\r\n              <button type="button" class="btn btn-primary mr-2" (click)="clickConfirm(\'print\')">{{localizeService.getValue(\'ideCmp.printOption.pdfDownload\')}}</button>\r\n              <button type="button" class="btn btn-primary" (click)="clickConfirm(\'preview\')">{{localizeService.getValue(\'ideCmp.printOption.printPreview\')}}</button>\r\n            </div>\r\n          </div>\r\n        </fieldSet>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:K},{type:s.CacheService},{type:u.Injector,decorators:[{type:u.Optional}]}]},e.propDecorators={queryId:[{type:u.Input}],controlType:[{type:u.Input}],isMultiForm:[{type:u.Input}],printIntegration:[{type:u.Output}],printPreview:[{type:u.Output}],queryRelativeUrl:[{type:u.Input}],dialogBeforeClose:[{type:u.Output}],farrisDialog:[{type:u.ViewChild,args:["farrisDialog"]}]},e}(),ee=function ae(e,i,t,a,r){this.element=e,this.newWidth=i,this.newHeight=t,this.oldWidth=a,this.oldHeight=r},ie=function(){function e(e){this.element=e,this.resized=new u.EventEmitter}return e.prototype.ngOnInit=function(){var i=this;new t.ResizeSensor(this.element.nativeElement,function(e){return i.onResized()}),this.onResized()},e.prototype.onResized=function(){var e=this.element.nativeElement.clientWidth,i=this.element.nativeElement.clientHeight;if(e!==this.oldWidth||i!==this.oldHeight){var t=new ee(this.element,e,i,this.oldWidth,this.oldHeight);this.oldWidth=this.element.nativeElement.clientWidth,this.oldHeight=this.element.nativeElement.clientHeight,this.resized.next(t)}},e.decorators=[{type:u.Directive,args:[{selector:"[resized]"}]}],e.ctorParameters=function(){return[{type:u.ElementRef}]},e.propDecorators={resized:[{type:u.Output,args:["resized"]}]},e}(),te=function(){function e(){}return e.decorators=[{type:u.NgModule,args:[{declarations:[V,F,U,G,P,B,R,_,X,Z,H,W,q,$,ie],imports:[i.CommonModule,h.FormsModule,h.ReactiveFormsModule,M.ComboListModule,p.InputGroupModule,v.NumberSpinnerModule,f.FarrisDialogModule,D.NotifyModule,g.FDropdownDirectiveTypeModule,m.FlexLayoutModule,N.TreeTableModule,y.PerfectScrollbarModule,I.RtfAppHelpModule,x.ColorPickerModule,T.ScrollbarModule,b.DatagridEditorsModule,T.DatagridModule.forRoot(k(b.EditorProviders)),S.FarrisTabsModule,L.RtfAppHelpModule,z.LanguageTextboxModule,w.FarrisSectionModule,O.ExpressionModule,j.FarrisPanelModule],providers:[Y,Q,J,K,O.ExpressionService],exports:[V,U,F,G,P,B,R,_,X,Z,H,W,q,$,ie]}]}],e}();e.JointSearchComponent=V,e.ParasMappingComponent=F,e.PopupAnchorDirective=U,e.ChartsSchemaEditorComponent=G,e.ChartsTypeComponent=P,e.ChartsDataComponent=B,e.ChartsStyleComponent=R,e.SchemaManagerComponent=_,e.SchemaEditorComponent=X,e.ColumnEditorComponent=Z,e.TitleEditorComponent=H,e.StyleEditorComponent=W,e.OtherEditorComponent=q,e.PrintIntegrationComponent=$,e.ParasMappingService=Y,e.JointSearchService=Q,e.SchemaService=J,e.PrintIntegrationService=K,e.ResizedEvent=ee,e.ResizedDirective=ie,e.IdeCmpModule=te,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=qdp-ide-cmp.umd.min.js.map