{"version":3,"file":"qdp-query-framework.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@qdp/query-framework/lib/component/qf-pagination/qf-pagination.component.ts","ng://@qdp/query-framework/lib/component/qf-toolbar/qf-toolbar.component.ts","ng://@qdp/query-framework/lib/component/qf-layout/qf-layout.component.ts","ng://@qdp/query-framework/lib/component/export-data/export-data.component.ts","ng://@qdp/query-framework/lib/component/condition-manager-dialog/condition-manager-dialog.component.ts","ng://@qdp/query-framework/lib/component/saveas-schema-dialog/saveas-schema-dialog.component.ts","ng://@qdp/query-framework/lib/component/condition-dialog-tab/condition-dialog-tab.component.ts","ng://@qdp/query-framework/lib/component/condition-dialog/condition-dialog.component.ts","ng://@qdp/query-framework/lib/query-framework.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'query-framework-pagination',\r\n  templateUrl: './qf-pagination.component.html',\r\n  styleUrls: ['./qf-pagination.component.css']\r\n})\r\nexport class QueryFrameworkPaginationComponent implements OnInit, OnChanges {\r\n  pagination: any = {\r\n    pageIndex: 1,\r\n    pageSize: 10,\r\n    totalPage: 0\r\n  };\r\n  isDisablePreBtn = false;\r\n  isDisableNextBtn = false;\r\n  isEnable = true;\r\n  // @Input() schemaInfo: any;\r\n  // @Input() colList: any;\r\n  @Input() pageInfo: any;\r\n  @Input() localizePageInfo: any;\r\n  totalCount = 21;\r\n  pageSize = 10;\r\n  pageIndex = 1;\r\n  @Output() pageChange = new EventEmitter<any>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.initPageInfo();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'schemaInfo':\r\n            break;\r\n          case 'pageInfo':\r\n            if (newValue.pageSize === 0) {\r\n              this.isEnable = false;\r\n              return;\r\n            } else {\r\n              this.isEnable = true;\r\n            }\r\n            this.pagination.pageIndex = this.pageIndex = newValue.pageIndex;\r\n            this.pagination.pageSize = this.pageSize = newValue.pageSize;\r\n            this.pagination.totalPage = newValue.pageCount;\r\n            this.totalCount = newValue.totalCount;\r\n            this.initPageInfo();\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  initPageInfo() {\r\n    let totalPageCount = 0;\r\n    if (this.totalCount <= this.pageSize) {\r\n      totalPageCount = 1;\r\n    } else {\r\n      totalPageCount = (this.totalCount % this.pageSize) > 0\r\n        ? Math.ceil(this.totalCount / this.pageSize)\r\n        : (this.totalCount / this.pageSize);\r\n    }\r\n    this.pagination = {\r\n      pageIndex: this.pageIndex,\r\n      totalPage: totalPageCount\r\n    };\r\n    this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;\r\n    this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;\r\n\r\n    if (!this.isEnable) {\r\n      this.isDisablePreBtn = this.isDisableNextBtn = !this.isEnable;\r\n    }\r\n  }\r\n\r\n  handlePreBtnClick(type: any) {\r\n    switch (type) {\r\n      case '0':\r\n        this.pagination.pageIndex = 1;\r\n        break;\r\n      case '1':\r\n        this.pagination.pageIndex -= 1;\r\n        break;\r\n    }\r\n    this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;\r\n    this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;\r\n    this.pageChange.emit(this.pagination);\r\n\r\n  }\r\n\r\n  handleNextBtnClick(type: any) {\r\n    switch (type) {\r\n      case '0':\r\n        this.pagination.pageIndex = this.pagination.totalPage;\r\n        break;\r\n      case '1':\r\n        this.pagination.pageIndex += 1;\r\n        break;\r\n    }\r\n    this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;\r\n    this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;\r\n    this.pageChange.emit(this.pagination);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, TemplateRef, Optional, Injector, ViewChild, AfterViewInit, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { CloudprintService, OutputType, FileType, RetrieveParam } from '@gsp-svc/cloudprint';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { IntegrationPrintService, QDPCacheUtil, RtfServices } from '@qdp/common';\r\nimport { LocalizeService, QDP_EN_US } from '@qdp/localize';\r\nimport { QueryFrameworkPaginationComponent } from '../qf-pagination/qf-pagination.component';\r\nimport { ConditionDialogComponent } from '../condition-dialog/condition-dialog.component';\r\nimport { ParameterUtils } from '@qdp/spread';\r\n\r\n@Component({\r\n  selector: 'query-framework-toolbar',\r\n  templateUrl: './qf-toolbar.component.html',\r\n  styleUrls: ['./qf-toolbar.component.css']\r\n})\r\nexport class QueryFrameworkToolbarComponent implements OnInit, AfterViewInit, OnChanges {\r\n  @Input() queryId: any;\r\n  @Input() groupType: any;\r\n  @Input() queryName: any;\r\n  @Input() controlType: any;\r\n  @Input() isMultiForm: boolean; // æ¯å¦åµå¥å¼è¡¨å\r\n  editorParams: any;\r\n  @Input() schemaId: any;\r\n  @Input() schemaInfo: any;\r\n  @Input() colList: any;\r\n  @Input() pageInfo: any;\r\n  @Input() isShowToolbar: any = true;\r\n  @Input() queryRelativeUrl: any;\r\n  @Input() qoManagerCode: any;\r\n  @Input() conditionExpression: any;\r\n  @Output() schemaSelected = new EventEmitter<any>();\r\n  @Output() dialogBeforeClose = new EventEmitter<any>();\r\n  @Output() pageChange = new EventEmitter<any>();\r\n  @Output() exportExcel = new EventEmitter<any>();\r\n  @Output() printIntegration = new EventEmitter<any>();\r\n  @Output() printPreview = new EventEmitter<any>();\r\n  @Output() refreshEvent = new EventEmitter<any>();\r\n  @Output() filterCondition = new EventEmitter<any>();\r\n  @Output() clearCache = new EventEmitter<any>();\r\n  @Output() expendCollapseLevel = new EventEmitter<any>();\r\n  @Output() clearSort = new EventEmitter<any>();\r\n  @Input() inputTemplate: TemplateRef<any>;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() qdpView: any;\r\n  @Input() templateType: any;\r\n  @Input() showSchemaManager: any = true;\r\n  @Input() showExport: any = true;\r\n  @Input() showReFresh: any = true;\r\n  @Input() showFilter: any = true;\r\n  @Input() showPrint: any = true;\r\n  @Input() showClearSort: any = true;\r\n  @Input() showClearCache: any = true;\r\n  @Input() showPreSchema: any = true;\r\n  // @Input() showFormPrint: any = true;\r\n  // @Input() showPagination: any = true;\r\n  @Input() formPrintOption = {\r\n    isShowFormPrint: false,\r\n    printBEId: '',\r\n    printFormIdField: '',\r\n    dim1: '',\r\n    dim2: ''\r\n  };\r\n  isShowMore = false; // æ¯å¦æ¾ç¤ºæ´å¤\r\n  isClickShowMore = false; // ç¹å»åæ¯å¦æ¾ç¤ºæ´å¤\r\n  localizeService: any;\r\n  localizePageInfo: any;\r\n  cprintService: any;\r\n  @ViewChild(QueryFrameworkPaginationComponent) paginationComponent: QueryFrameworkPaginationComponent;\r\n  @Input() conditionDialog: ConditionDialogComponent;\r\n  getConditionDialog() {\r\n    if (this.conditionDialog) {\r\n      return this.conditionDialog;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog')) {\r\n      return QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog');\r\n    }\r\n  }\r\n\r\n  svgShuaxin = true;\r\n  svgFilter = true;\r\n  svgDimesion = true;\r\n  svgClearCache = true;\r\n  svgPrint = true;\r\n  isExpand = false;\r\n  printShow = false;\r\n  integrationPrintService: IntegrationPrintService;\r\n  msgService: MessagerService;\r\n  cache: CacheService;\r\n  tabId: any;\r\n\r\n  constructor(private cloudprintService: CloudprintService, private cacheservice: CacheService, @Optional() private injector: Injector) {\r\n    this.cprintService = this.cloudprintService;\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.integrationPrintService = new IntegrationPrintService(this.cloudprintService);\r\n      this.msgService = this.injector.get(MessagerService);\r\n      this.cache = this.injector.get(CacheService);\r\n      this.localizePageInfo = this.localizeService.getValue('queryFramework.pageInfo');\r\n      this.tabId = RtfServices.getTabId(this.queryId);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.controlType === 'list' || this.controlType === 'treelist') {\r\n      this.printShow = true;\r\n    } else {\r\n      this.printShow = false;\r\n    }\r\n    if (this.inputTemplate) {\r\n      this.isShowMore = true;\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'queryId':\r\n            this.tabId = RtfServices.getTabId(newValue);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  handleBeforeClose(id: any) {\r\n    this.dialogBeforeClose.emit(id);\r\n  }\r\n\r\n  refresh() {\r\n    this.refreshEvent.emit();\r\n  }\r\n\r\n  filter() {\r\n    this.filterCondition.emit();\r\n  }\r\n\r\n  handleClearSort() {\r\n    this.clearSort.emit();\r\n  }\r\n\r\n  condition() {\r\n    if (this.getConditionDialog()) {\r\n      this.getConditionDialog().handleDialogShow();\r\n      this.getConditionDialog().handleInfoChanged(0);\r\n      this.getConditionDialog().Id = this.getConditionDialog().schemaId;\r\n    }\r\n  }\r\n\r\n  handleDimesionSetting() {\r\n    this.qdpView.toggle();\r\n  }\r\n\r\n  handlePrintIntegration($event: any) {\r\n    this.printIntegration.emit($event);\r\n  }\r\n\r\n  handlePrintPreview($event: any) {\r\n    this.printPreview.emit($event);\r\n  }\r\n\r\n  handleClearCache() {\r\n    this.clearCache.emit();\r\n  }\r\n\r\n  print() {\r\n    if (this.controlType !== 'crosstab' && this.controlType !== 'charts') {\r\n      const params = this.createParameters(Object.assign({}, {\r\n        queryId: this.queryId,\r\n        controlType: this.controlType,\r\n        schemaId: this.schemaId,\r\n        filtercondition: this.conditionExpression,\r\n        qoManagerCode: this.qoManagerCode,\r\n        voId: this.voId\r\n      }, { pageIndex: 0, pageSize: 0 }))\r\n\r\n      const sheet = this.qdpView.spread.getActiveSheet();\r\n      const selection = sheet.getSelections();\r\n      let formIdField = '';\r\n      let beId = '';\r\n      let dim1 = '';\r\n      let dim2 = '';\r\n      if (this.formPrintOption && this.formPrintOption.printBEId) {\r\n        beId = this.formPrintOption.printBEId;\r\n        params['beId'] = beId;\r\n      } else {\r\n        this.msgService.warning(this.localizeService.getValue('queryFramework.message.validate.beMetadataIdEmpty'));\r\n        return;\r\n      }\r\n      if (this.formPrintOption && this.formPrintOption.printFormIdField) {\r\n        formIdField = this.formPrintOption.printFormIdField;\r\n        params['formIdField'] = formIdField;\r\n      } else {\r\n        this.msgService.warning(this.localizeService.getValue('queryFramework.message.validate.formIdFieldEmpty'));\r\n        return;\r\n      }\r\n      if (this.formPrintOption && this.formPrintOption.dim1) {\r\n        dim1 = this.formPrintOption.dim1;\r\n      }\r\n      if (this.formPrintOption && this.formPrintOption.dim2) {\r\n        dim2 = this.formPrintOption.dim2;\r\n      }\r\n      let ids = '';\r\n      if (selection && selection.length) {\r\n        for (let s = 0; s < selection.length; s++) {\r\n          for (let i = selection[s].row; i < (selection[s].rowCount + selection[s].row); i++) {\r\n            const dataItem = sheet.getDataItem(i);\r\n            if (dataItem && dataItem.hasOwnProperty(formIdField)) {\r\n              ids += ',' + dataItem[formIdField];\r\n            }\r\n          }\r\n        }\r\n        ids = ids.substring(1);\r\n        this.integrationPrintService.printByIdsWithDimension(beId, ids, dim1, dim2);\r\n      } else {\r\n        ids = '1';\r\n        this.integrationPrintService.printWithDimensionCustomDataSource(beId, ids, dim1, dim2, 'InternalService', 'com.inspur.edp.qdp.lcp.print.FormPrintDataManager', params);\r\n      }\r\n      sheet.clearSelection();\r\n    }\r\n  }\r\n\r\n  handleHover(type: any, state: any) {\r\n    switch (type) {\r\n      case 0:\r\n        this.svgShuaxin = state === 1;\r\n        break;\r\n      case 1:\r\n        this.svgFilter = state === 1;\r\n        break;\r\n      case 2:\r\n        this.svgDimesion = state === 1;\r\n        break;\r\n      case 3:\r\n        this.svgClearCache = state === 1;\r\n        break;\r\n      case 4:\r\n        this.svgPrint = state == 1;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleExpand($event) {\r\n    this.isExpand = $event;\r\n    this.expendCollapseLevel.emit(this.isExpand);\r\n  }\r\n\r\n  private createParameters(option: any) {\r\n    const tabId = RtfServices.getTabId(option.queryId);\r\n    let entityData: any;\r\n    if (this.cache.get(tabId)) {\r\n      entityData = JSON.stringify(this.cache.get(tabId));\r\n    } else if (this.cache.get(option.queryId)) {\r\n      entityData = JSON.stringify(this.cache.get(option.queryId));\r\n    } else {\r\n      entityData = JSON.stringify({ 'id': 'undefined_null' });\r\n    }\r\n    const params = {\r\n      entityData: entityData,\r\n      extendCond: this.cache.get(tabId + 'extendCond') ? this.cache.get(tabId + 'extendCond') : option.extendCond,\r\n      pageIndex: option.pageIndex,\r\n      pageSize: option.pageSize,\r\n      schemaId: option.schemaId && option.schemaId !== 'prefab' ? option.schemaId : '1',\r\n      filterCond: option.filterCondition ? option.filterCondition : (this.cache.get(tabId + 'filtercondition') ? this.cache.get(tabId + 'filtercondition') : ''),\r\n      qoManagerCode: option.qoManagerCode ? option.qoManagerCode : '',\r\n      voCode: option.voId ? option.voId : '',\r\n    };\r\n    try {\r\n      const parameterEntityData = JSON.parse(entityData);\r\n      if (parameterEntityData.hasOwnProperty('@filterExpressionString@')) {\r\n\r\n        const filterExpression = params && params.filterCond ? JSON.parse(params.filterCond) : null;\r\n        if (!filterExpression) {\r\n          params.filterCond = parameterEntityData['@filterExpressionString@'];\r\n        } else {\r\n          const advanceFilterExpression = JSON.parse(parameterEntityData['@filterExpressionString@']);\r\n          advanceFilterExpression.expressItems = advanceFilterExpression.expressItems.concat(filterExpression.expressItems);\r\n          params.filterCond = JSON.stringify(advanceFilterExpression);\r\n        }\r\n      }\r\n    } catch (e) {\r\n    }\r\n    if (option.controlType) {\r\n      params['controlType'] = option.controlType;\r\n    }\r\n    if (option.excelExportName) {\r\n      params['excelExportName'] = option.excelExportName;\r\n    }\r\n    if (option.printIntegration) {\r\n      params['printIntegration'] = option.printIntegration ? JSON.stringify(option.printIntegration) : '';\r\n    }\r\n\r\n    return params;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ContentChild, TemplateRef, AfterViewInit, ViewChild, OnDestroy, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { QdpViewComponent, RenderService } from '@qdp/spread';\r\nimport { NgxEchartsDirective, LcpBindingDataDirective, FormBindingDataDirective } from '@qdp/echarts';\r\nimport { SchemaService } from '@qdp/ide-cmp';\r\nimport { FilterService } from '@gsp-svc/filtercondition';\r\nimport { FilterManagerService, ParasMappingManagerService, RtfServices, QDPCacheUtil } from '@qdp/common';\r\nimport { EventBus } from '@qdp/common';\r\nimport { QueryFrameworkToolbarComponent } from '../qf-toolbar/qf-toolbar.component';\r\nimport { ConditionDialogComponent } from '../condition-dialog/condition-dialog.component';\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\n@Component({\r\n  selector: 'query-framework-layout',\r\n  templateUrl: './qf-layout.component.html',\r\n  styleUrls: ['./qf-layout.component.css']\r\n})\r\nexport class QueryFrameworkLayoutComponent implements OnInit, OnDestroy, AfterViewInit, OnChanges {\r\n  @Input() queryId: any;\r\n  @Input() groupType: any;\r\n  @Input() qoManagerCode: any;\r\n  @Input() controlType: any;\r\n  @Input() queryName: any;\r\n  @Input() isShowToolbar = true;\r\n  @Input() isMultiForm = false; // æ¯å¦åµå¥å¼è¡¨å\r\n  @Input() queryRelativeUrl: any;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() templateType: any;\r\n  @Input() isInit = true;\r\n  @Input() toolbarOption = {\r\n    showPreSchema: true,\r\n    showSchemaManager: true,\r\n    showExport: true,\r\n    showReFresh: true,\r\n    showFilter: true,\r\n    showPrint: true,\r\n    showClearSort: true,\r\n    showClearCache: true\r\n  }\r\n  @ContentChild('qdp-view') qdpView: QdpViewComponent;\r\n  toolBarEvent = 'toolBarEvent' + EventBus.guid();\r\n  tabId: any;\r\n\r\n  getQdpView() {\r\n    if (this.qdpView) {\r\n      return this.qdpView;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + this.queryId + this.controlType + 'qdpview')) {\r\n      return QDPCacheUtil.getCache(this.tabId + this.queryId + this.controlType + 'qdpview');\r\n    }\r\n  }\r\n\r\n  @ContentChild('lcpBindingData') charts: LcpBindingDataDirective;\r\n  getCharts() {\r\n    if (this.charts) {\r\n      return this.charts;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + this.queryId + 'lcp-charts')) {\r\n      return QDPCacheUtil.getCache(this.tabId + this.queryId + 'lcp-charts');\r\n    }\r\n  }\r\n\r\n  @ContentChild('formBindingData') formdatasource: FormBindingDataDirective;\r\n  getFormDatasource() {\r\n    if (this.formdatasource) {\r\n      return this.formdatasource;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + this.queryId + 'form-charts')) {\r\n      return QDPCacheUtil.getCache(this.tabId + this.queryId + 'form-charts');\r\n    }\r\n  }\r\n\r\n  @Input() conditionDialog: ConditionDialogComponent;\r\n  getConditionDialog() {\r\n    if (this.conditionDialog) {\r\n      return this.conditionDialog;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog')) {\r\n      return QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog');\r\n    }\r\n  }\r\n  @ViewChild(QueryFrameworkToolbarComponent) toolbarComponent: QueryFrameworkToolbarComponent;\r\n  @Output() contentSizeChange = new EventEmitter<any>();\r\n  @Input() formPrintOption = {\r\n    isShowFormPrint: false,\r\n    printBEId: '',\r\n    printFormIdField: ''\r\n  };\r\n  /**\r\n   * æ¨¡æ¿ä½ä¸ºåæ°\r\n   */\r\n  @Input() inputTemplate: TemplateRef<any>;\r\n  size = {\r\n    height: '500px',\r\n    width: '300px'\r\n  };\r\n  schemaInfo: any;\r\n  colList: any;\r\n  pageInfo: any = {};\r\n  schemaId: any;\r\n  pageIndex: any = 1;\r\n  conditionExpression: any;\r\n  co: any = {\r\n    NodeType: 'QueryNode',\r\n    IsBe: true,\r\n    ContainElements: [],\r\n    Code: 'QueryNode',\r\n    Name: 'QueryNdoe',\r\n    BizEntityID: EventBus.guid()\r\n  };\r\n  subscriptions: any = [];\r\n\r\n  constructor(private schemaService: SchemaService, private renderService: RenderService, private filter: FilterService, private filterService: FilterManagerService, private parasMappingManagerService: ParasMappingManagerService) {\r\n    const self = this;\r\n    this.tabId = RtfServices.getTabId(this.queryId);\r\n\r\n    this.subscriptions = [];\r\n    this.subscriptions.push(self.schemaService.schemaInfo.subscribe(value => {\r\n      try {\r\n        if (value) {\r\n          const schemaInfoAll = Object.assign({}, value);\r\n          if (schemaInfoAll.schemaList && schemaInfoAll.schemaList[this.queryId]) {\r\n            schemaInfoAll.schemaList = schemaInfoAll.schemaList[this.queryId];\r\n            if (!self.schemaId) {\r\n              if (schemaInfoAll.isDefaultSchema && schemaInfoAll.isDefaultSchema.id) {\r\n                self.initColListData(schemaInfoAll.isDefaultSchema.schemaValue.columnOption.colList);\r\n              }\r\n            } else if (self.schemaId !== '1' && self.schemaId !== 'prefab' && self.schemaId !== 'public_schema' && self.schemaId !== 'person_schema') {\r\n              self.initColListData(schemaInfoAll.schemaList[self.schemaId].schemaValue.columnOption.colList);\r\n            }\r\n          } else {\r\n            schemaInfoAll.schemaList = null;\r\n            self.initColListData(schemaInfoAll.preSchema.schemaValue.columnOption.colList);\r\n          }\r\n          self.schemaInfo = schemaInfoAll;\r\n        }\r\n      } catch (e) {\r\n        // console.log(e); \r\n      }\r\n    }));\r\n    this.subscriptions.push(self.schemaService.colList.subscribe(value => {\r\n      self.colList = value;\r\n      if (value && value.length) {\r\n        this.initColListData(value, 'col');\r\n      }\r\n    }));\r\n    // å¦ææç­éæ¹æ¡\r\n    if (this.filterService && this.filterService.isFilterQDP) {\r\n      // this.filterService.isFilterQDP.observers = [];\r\n      this.subscriptions.push(self.filterService.isFilterQDP.subscribe(data => {\r\n        setTimeout(function () {\r\n          if (data) {\r\n            if (self.toolbarComponent && self.toolbarComponent.paginationComponent) {\r\n              self.toolbarComponent.paginationComponent.initPageInfo();\r\n              self.pageIndex = self.toolbarComponent.paginationComponent.pagination.pageIndex = 1;\r\n              self.pageInfo = self.toolbarComponent.paginationComponent.pagination;\r\n            }\r\n            self.refresh();\r\n          }\r\n        });\r\n      }));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscriptions && this.subscriptions.length) {\r\n      for (const subscription of this.subscriptions) {\r\n        subscription.unsubscribe();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n\r\n    if (this.controlType !== 'crosstab') {\r\n      this.subscriptions.push(self.schemaService.pageInfoChange.subscribe(value => {\r\n        self.pageInfo = value;\r\n      }));\r\n    }\r\n    // if (this.qoId) {\r\n    if (this.isInit == true) {\r\n      this.subscriptions.push(self.filterService.getFilter(self.qoManagerCode ? self.qoManagerCode : self.queryId, self.queryId, self.queryRelativeUrl, 1, this.groupType).subscribe(data => {\r\n        if (data) {\r\n          self.conditionExpression = JSON.stringify(data.filter);\r\n        }\r\n      }));\r\n    }\r\n    // this.subscriptions.push(self.parasMappingManagerService.getMetaDataInfoById(self.qoId).subscribe(voInfo => {\r\n    //   if (voInfo) {\r\n    //     self.co = JSON.parse(voInfo.content).QueryNode;\r\n    //   }\r\n    // }));\r\n    // }\r\n\r\n    if (this.isMultiForm) {\r\n      const divShowToolBarDom = document.getElementById(this.toolBarEvent) as HTMLElement;\r\n      divShowToolBarDom.addEventListener('mouseover', () => {\r\n        this.isShowToolbar = true;\r\n      });\r\n      divShowToolBarDom.addEventListener('mouseout', () => {\r\n        this.isShowToolbar = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private initColListData(newValue: any, type?: any) {\r\n    newValue.forEach(col => {\r\n      this.recursiveInitColListData(null, col, type);\r\n    });\r\n  }\r\n\r\n  private recursiveInitColListData(children: any, col: any, type?: any) {\r\n    if (col) {\r\n      const index = this.co.ContainElements.findIndex((item: any) => item.Code === col.bindField);\r\n      if (index < 0) {\r\n        const node = {};\r\n        node['ID'] = EventBus.guid();\r\n        node['Code'] = col.bindField;\r\n        node['LabelID'] = col.bindField;\r\n        node['MDataType'] = this.getDataType(col.type);\r\n        node['NodeType'] = 'QueryProperty';\r\n        node['Name'] = col.name;\r\n        this.co.ContainElements.push(node);\r\n      } else if (type !== 'col') {\r\n        this.co.ContainElements[index]['Name'] = col.name;\r\n      }\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveInitColListData(col.childList, null);\r\n      }\r\n    } else {\r\n      children.forEach((c: any) => {\r\n        const index = this.co.ContainElements.findIndex((item: any) => item.Code === c.bindField);\r\n        if (index < 0) {\r\n          const node = {};\r\n          node['ID'] = EventBus.guid();\r\n          node['Code'] = c.bindField;\r\n          node['LabelID'] = c.bindField;\r\n          node['MDataType'] = this.getDataType(c.type);\r\n          node['NodeType'] = 'QueryProperty';\r\n          node['Name'] = c.name;\r\n          this.co.ContainElements.push(node);\r\n        } else if (type !== 'col') {\r\n          this.co.ContainElements[index]['Name'] = c.name;\r\n        }\r\n        if (c.childList && c.childList.length) {\r\n          this.recursiveInitColListData(c.childList, null);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        this.tabId = RtfServices.getTabId(newValue);\r\n        switch (changeName) {\r\n          case 'queryId':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'queryId', newValue);\r\n            }\r\n            break;\r\n          case 'qoManagerCode':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'qoManagerCode', newValue);\r\n            }\r\n            break;\r\n          case 'controlType':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'controlType', newValue);\r\n            }\r\n            break;\r\n          case 'queryRelativeUrl':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'queryRelativeUrl', newValue);\r\n            }\r\n            break;\r\n          case 'voId':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'voId', newValue);\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const self = this;\r\n    this.subscriptions.push(self.getQdpView().sheetChanged.subscribe(value => {\r\n      self.groupType = value;\r\n    }));\r\n    if (this.getConditionDialog()) { // çæåé«çº§æ¥è¯¢è¡¨ååæ¯\r\n      this.subscriptions.push(self.getConditionDialog().queryEvent.subscribe((data) => {\r\n        if (data === 1) {\r\n          self.getQdpView().initQdpView();\r\n        } else if (data > 1) {\r\n          self.refresh();\r\n        }\r\n      }));\r\n      this.subscriptions.push(self.getConditionDialog().dialogInitEvent.subscribe((data) => {\r\n        if (self.templateType === 'qdpAdvancedTemplate') {\r\n          self.getConditionDialog().handleDialogShow();\r\n        }\r\n      }));\r\n    } else { // è§£æåé«çº§æ¥è¯¢è¡¨ååæ¯\r\n      EventBus.register(this.tabId + 'advanceTemplate-condition-dialog-queryEvent', (data) => {\r\n        if (data === 1) {\r\n          self.getQdpView().initQdpView();\r\n        } else if (data > 1) {\r\n          self.refresh();\r\n        }\r\n      }, this.tabId);\r\n      EventBus.register(this.tabId + 'advanceTemplate-condition-dialog-dialogInitEvent', (data) => {\r\n        if (self.templateType === 'qdpAdvancedTemplate') {\r\n          self.getConditionDialog().handleDialogShow();\r\n        }\r\n      }, this.tabId);\r\n    }\r\n  }\r\n\r\n  handleSchemaSelected(id: string) {\r\n    this.schemaId = id;\r\n    if (this.controlType !== 'charts') {\r\n      if (this.getQdpView()) {\r\n        this.getQdpView().initSpread(this.queryId, id, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId, null, true);\r\n      }\r\n    } else {\r\n      if (this.getCharts()) {\r\n        this.getCharts().render(id, this.getChartsOption(id), '', this.conditionExpression);\r\n      } else if (this.getFormDatasource()) {\r\n        this.getFormDatasource().charts.setOption(this.getChartsOption(this.schemaId));\r\n      }\r\n    }\r\n    this.pageIndex = 1;\r\n  }\r\n\r\n  handleBeforeClose(id: any) {\r\n    this.schemaId = id;\r\n    if (this.controlType !== 'charts') {\r\n      if (this.getQdpView()) {\r\n        this.getQdpView().initSpread(this.queryId, id, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId, null, true);\r\n      }\r\n    } else {\r\n      if (this.getCharts()) {\r\n        this.getCharts().render(id, this.getChartsOption(id), '', this.conditionExpression);\r\n      } else if (this.getFormDatasource()) {\r\n        this.getFormDatasource().charts.setOption(this.getChartsOption(id));\r\n      }\r\n    }\r\n    this.pageIndex = this.pageIndex ? this.pageIndex : 1;\r\n  }\r\n\r\n  refresh() {\r\n    if (this.controlType !== 'charts') {\r\n      if (this.getQdpView()) {\r\n        this.getQdpView().pageIndex = this.pageIndex;\r\n        this.getQdpView().initSpread(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId);\r\n      }\r\n    } else {\r\n      if (this.getCharts()) {\r\n        this.getCharts().render(this.schemaId, this.getChartsOption(this.schemaId), '', this.conditionExpression);\r\n      } else if (this.getFormDatasource()) {\r\n        this.getFormDatasource().charts.setOption(this.getChartsOption(this.schemaId));\r\n      }\r\n    }\r\n    this.pageIndex = this.pageIndex ? this.pageIndex : 1;\r\n  }\r\n\r\n  clearCache() {\r\n    this.renderService.clearCache(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId);\r\n  }\r\n\r\n  clearSort() {\r\n    this.getQdpView().handleClearSort();\r\n  }\r\n\r\n  handlePageChange(pageInfo: any) {\r\n    this.pageIndex = pageInfo.pageIndex;\r\n    if (this.controlType !== 'crosstab') {\r\n      this.getQdpView().pageIndex = this.pageIndex;\r\n      this.getQdpView().initSpread(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId);\r\n    } else {\r\n      this.getQdpView().handleCrosstabPageChange(this.pageIndex, pageInfo.pageSize);\r\n    }\r\n  }\r\n\r\n  handleExportExcel(eventData: any) {\r\n    this.getQdpView().exportExcel(this.queryId, this.schemaId, this.controlType, this.pageIndex, this.qoManagerCode, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId, this.pageInfo.totalCount, eventData);\r\n  }\r\n\r\n  pdfExportEvent(eventData: any) {\r\n    this.getQdpView().pdfExportEvent(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, eventData, this.queryRelativeUrl, this.conditionExpression, this.pageIndex, this.groupType, this.voId);\r\n  }\r\n\r\n  printPreview(eventData: any) {\r\n    this.getQdpView().printPreView(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, eventData, this.queryRelativeUrl, this.conditionExpression, this.pageIndex, this.groupType, this.voId);\r\n  }\r\n\r\n  onResized(event: any): void {\r\n    this.size.height = event.newHeight + 'px';\r\n    this.size.width = (event.newWidth ? (event.newWidth - 15) : 0) + 'px';\r\n    this.contentSizeChange.emit(Object.assign({}, this.size));\r\n  }\r\n\r\n  private getChartsOption(schemaId: any) {\r\n    let chartsOption: any = {};\r\n    if (schemaId === 'prefab') {\r\n\r\n    } else if (this.schemaInfo && this.schemaInfo.schemaList && this.schemaInfo.schemaList[schemaId]) {\r\n      chartsOption = Object.assign({}, this.schemaInfo.schemaList[schemaId].schemaValue.chartsStyle, this.schemaInfo.schemaList[schemaId].schemaValue.chartsData);\r\n    }\r\n    if (chartsOption.series && this.schemaInfo.schemaList[schemaId].schemaValue.chartsType.series.type) {\r\n      chartsOption.series.type = this.schemaInfo.schemaList[schemaId].schemaValue.chartsType.series.type;\r\n      if (chartsOption.series.type !== 'line1') {\r\n        delete chartsOption.series.areaStyle;\r\n      } else {\r\n        chartsOption.series.areaStyle = {};\r\n      }\r\n    }\r\n    return chartsOption;\r\n  }\r\n\r\n  filterCondition() {\r\n    const self = this;\r\n    if (this.co && this.co.ContainElements && this.co.ContainElements.length) {\r\n      this.filter.addCommonObject(this.co);\r\n      this.filter.addInjectedEntity(this.co.Code, 'CommonObject');\r\n      // if (this.conditionExpression) {\r\n      this.filter.addFilterCondition(this.conditionExpression);\r\n      // }\r\n      this.filter.buildExpression().then(buildedExpression => {\r\n        this.conditionExpression = buildedExpression;\r\n        if (buildedExpression) {\r\n          // tslint:disable-next-line:max-line-length\r\n          const filter = { Id: EventBus.guid(), filter: buildedExpression, queryid: this.queryId, datasourceid: this.qoManagerCode ? this.qoManagerCode : this.queryId, queryType: 1 };\r\n          this.subscriptions.push(self.filterService.saveFilter(filter, self.queryRelativeUrl)\r\n            .subscribe(data => self.refresh()));\r\n        } else {\r\n          this.subscriptions.push(self.filterService.deleteFilter(self.qoManagerCode ? self.qoManagerCode : self.queryId, self.queryId, self.queryRelativeUrl, 1).subscribe(data => self.refresh()));\r\n          this.conditionExpression = null;\r\n          if (self.controlType !== 'charts') {\r\n            self.getQdpView().conditionExpression = null;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  expendCollapseLevel($event) {\r\n    const maxLevel = this.getQdpView().spread.getActiveSheet().rowOutlines.getMaxLevel();\r\n    for (let index = 1; index <= maxLevel; index++) {\r\n      this.getQdpView().spread.getActiveSheet().rowOutlines.expand(index, $event);\r\n    }\r\n    this.getQdpView().spread.getActiveSheet().resumePaint();\r\n  }\r\n\r\n  private getDataType(type: any) {\r\n    let result = 'String';\r\n    switch (type) {\r\n      case 'string':\r\n        result = 'String';\r\n        break;\r\n      case 'text':\r\n        result = 'Text';\r\n        break;\r\n      case 'integer':\r\n      case 'int':\r\n        result = 'Integer';\r\n        break;\r\n      case 'decimal':\r\n        result = 'Decimal';\r\n        break;\r\n      case 'boolean':\r\n        result = 'Boolean';\r\n        break;\r\n      case 'date':\r\n        result = 'Date';\r\n        break;\r\n      case 'dateTime':\r\n        result = 'DateTime';\r\n        break;\r\n      case 'binary':\r\n        result = 'Binary';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, Injector } from '@angular/core';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Component({\r\n  selector: 'export-data',\r\n  templateUrl: './export-data.component.html',\r\n  styleUrls: ['./export-data.component.css']\r\n})\r\nexport class ExportDataComponent implements OnInit {\r\n  exportTitle: any;\r\n  exportType1: any;\r\n  exportType2: any;\r\n  localizeService: LocalizeService;\r\n  @Input() isMultiForm: boolean; // æ¯å¦åµå¥å¼è¡¨å\r\n  @Output() exportExcel = new EventEmitter<any>();\r\n  svgExport = true;\r\n\r\n  constructor(private injector: Injector) {\r\n    this.localizeService = this.injector.get(LocalizeService);\r\n    this.exportTitle = this.localizeService.getValue('queryFramework.exportName');\r\n    this.exportType1 = this.localizeService.getValue('queryFramework.btnExportText');\r\n    this.exportType2 = this.localizeService.getValue('queryFramework.btnExportValue');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleHover(type: any, state: any) {\r\n    this.svgExport = state === 1;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, Injector, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalizeService } from '@qdp/localize';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { Subject } from 'rxjs';\r\nimport { FormErrorService } from '@farris/command-services';\r\n\r\n@Component({\r\n  selector: 'condition-manager-dialog',\r\n  templateUrl: './condition-manager-dialog.component.html',\r\n  styleUrls: ['./condition-manager-dialog.component.css']\r\n})\r\nexport class ConditionManagerDialogComponent implements OnInit, OnChanges {\r\n  @ViewChild('farrisDialog') farrisDialog: DialogComponent;\r\n  @Input() currentSchema: any;\r\n  localizeService: any;\r\n  expandPublic = true;\r\n  expandPersonal = true;\r\n  @Input() queryId: any;\r\n  @Input() publicList = [];\r\n  @Input() personalList = [];\r\n  removeList = [];\r\n  motifyList = [];\r\n  removeListEvent = new Subject<any>();\r\n  formErrorService: any;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private msgService: MessagerService,\r\n    private conditionService: ConditionSchemaService,\r\n    private notifyService: NotifyService\r\n  ) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n  }\r\n\r\n  handleDialogShow() {\r\n    this.farrisDialog.show();\r\n  }\r\n\r\n  handleExpandType($event: any) {\r\n    this.expandPublic = $event === 0 ? !this.expandPublic : this.expandPublic;\r\n    this.expandPersonal = $event === 1 ? !this.expandPersonal : this.expandPersonal;\r\n  }\r\n\r\n  handleNgModelChange(change: any, item: any) {\r\n    item.isDefault = change ? 1 : 0;\r\n  }\r\n\r\n  handleDeleteSchame($event: any) {\r\n    if (this.removeList.findIndex((item: any) => item.id === $event.id) < 0) {\r\n      this.removeList.push($event);\r\n      this.motifyList.push({ type: 'delete', id: $event.id });\r\n    }\r\n    const index = $event.schemaType === 0\r\n      ? this.publicList.findIndex((item: any) => item.id === $event.id)\r\n      : this.personalList.findIndex((item: any) => item.id === $event.id);\r\n    if ($event.schemaType === 0) {\r\n      this.publicList.splice(index, 1);\r\n    } else {\r\n      this.personalList.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  handleSettingDefault($event: any) {\r\n    const self = this;\r\n    this.publicList.forEach((item: any) => {\r\n      item.isDefault = item.id === $event.id ? 1 : 0;\r\n      if (item.id === $event.id) {\r\n        self.motifyList.push({ type: 'edit', id: $event.id });\r\n      }\r\n    });\r\n    this.personalList.forEach((item: any) => {\r\n      item.isDefault = item.id === $event.id ? 1 : 0;\r\n      if (item.id === $event.id) {\r\n        self.motifyList.push({ type: 'edit', id: $event.id });\r\n      }\r\n    });\r\n  }\r\n\r\n  handleOKClick() {\r\n    const self = this;\r\n    if (this.motifyList.length) {\r\n      const deleteSchemas = [];\r\n      let saveSchema: any;\r\n      this.motifyList.forEach((item: any) => {\r\n        if (item.type === 'delete') {\r\n          deleteSchemas.push(item.id);\r\n        } else {\r\n          saveSchema = self.publicList.find((el: any) => el.id === item.id);\r\n          if (!saveSchema || !saveSchema.id) {\r\n            saveSchema = self.personalList.find((el: any) => el.id === item.id);\r\n          }\r\n        }\r\n      });\r\n      if (saveSchema && saveSchema.schemaValue) {\r\n        saveSchema.schemaValue = saveSchema && saveSchema.schemaValue ? JSON.stringify(saveSchema.schemaValue) : null;\r\n      }\r\n      if (deleteSchemas.length && saveSchema && saveSchema.id) {\r\n        this.conditionService.deleteSchemaList(deleteSchemas.join(','), self.queryId).subscribe(() => {\r\n          this.conditionService.saveSchema(saveSchema).subscribe(() => {\r\n            self.clearChanges();\r\n            self.notifyService['success']({\r\n              title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.success'), timeout: 3000\r\n            } as NotifyOptions);\r\n            self.farrisDialog.close();\r\n          }, (error: any) => {\r\n            self.formErrorService.exception(error.Message, error);\r\n            // self.notifyService['success']({\r\n            //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n            // } as NotifyOptions);\r\n            self.farrisDialog.close();\r\n          });\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n          // console.log(error);\r\n          // self.notifyService['success']({\r\n          //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n          // } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        });\r\n      } else if (deleteSchemas.length) {\r\n        this.conditionService.deleteSchemaList(deleteSchemas.join(','), self.queryId).subscribe(() => {\r\n          self.clearChanges();\r\n          self.notifyService['success']({\r\n            title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.success'), timeout: 3000\r\n          } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n          // console.log(error);\r\n          // self.notifyService['success']({\r\n          //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n          // } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        });\r\n      } else if (saveSchema && saveSchema.id) {\r\n        this.conditionService.saveSchema(saveSchema).subscribe(() => {\r\n          self.clearChanges();\r\n          self.notifyService['success']({\r\n            title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.success'), timeout: 3000\r\n          } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n          // console.log(error);\r\n          // self.notifyService['success']({\r\n          //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n          // } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  clearChanges() {\r\n    this.motifyList = [];\r\n    this.removeList = [];\r\n  }\r\n\r\n  handleCancelClick() {\r\n    const self = this;\r\n    if (this.motifyList.length) {\r\n      this.motifyList.forEach((item: any) => {\r\n        if (item.type === 'delete') {\r\n          const result = self.removeList.find((el: any) => el.id === item.id);\r\n          if (result.schemaType === 0) {\r\n            self.publicList.push(item);\r\n          } else {\r\n            self.personalList.push(item);\r\n          }\r\n        } else {\r\n          this.publicList.forEach((el: any) => {\r\n            el.isDefault = el.id === item.id ? 1 : 0;\r\n          });\r\n          this.personalList.forEach((el1: any) => {\r\n            el1.isDefault = el1.id === item.id ? 1 : 0;\r\n          });\r\n        }\r\n      });\r\n      this.removeList = [];\r\n      this.motifyList = [];\r\n    }\r\n    this.farrisDialog.close();\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, Injector, LOCALE_ID, OnChanges, SimpleChanges, Input, OnDestroy } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';\r\nimport { EventBus } from '@qdp/common';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { Repository } from '@farris/devkit';\r\nimport { FormErrorService } from '@farris/command-services';\r\n\r\n@Component({\r\n  selector: 'saveas-schema-dialog',\r\n  templateUrl: './saveas-schema-dialog.component.html',\r\n  styleUrls: ['./saveas-schema-dialog.component.css']\r\n})\r\nexport class SaveasSchemaDialogComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input() currentSchema: any;\r\n  @Input() queryId: any;\r\n  @ViewChild('farrisDialog') farrisDialog: DialogComponent;\r\n  localizeService: any;\r\n  formInline = true;\r\n  localId: any;\r\n  conditionSchemaName = 'conditionSchemaName' + EventBus.guid();\r\n  schemaName: any = '';\r\n  isDefault = false;\r\n  isSchemaType = 0;\r\n  publicSchema = 'publicSchema' + EventBus.guid();\r\n  personSchema = 'personSchema' + EventBus.guid();\r\n  defaultSchema = 'defaultSchema' + EventBus.guid();\r\n  private repository: any;\r\n  formErrorService: any;\r\n  filterInstance: any;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private msgService: MessagerService,\r\n    private conditionService: ConditionSchemaService,\r\n    private notifyService: NotifyService) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;\r\n      this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;\r\n      this.repository = this.injector.get(Repository);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const self = this;\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'currentSchema':\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n\r\n  }\r\n\r\n  handleDialogShow() {\r\n    this.farrisDialog.show();\r\n  }\r\n\r\n  handleOKClick() {\r\n    const self = this;\r\n    const data = this.conditionService.schemaList;\r\n    if (!this.schemaName) {\r\n      this.msgService.warning(this.localizeService.getValue('queryFramework.message.validate.notNull'));\r\n      return;\r\n    }\r\n    if (this.schemaName && this.schemaName.length > 15) {\r\n      this.msgService.warning(this.localizeService.getValue('queryFramework.message.lengthValidate'));\r\n      return;\r\n    }\r\n    if (data && data[this.queryId]) {\r\n      for (const key in data[self.queryId]) {\r\n        if (data[self.queryId][key].schemaName === self.schemaName) {\r\n          this.msgService.warning(this.localizeService.getValue('queryFramework.message.saveas'));\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    const params = this.handlerGetEntity();\r\n    if (this.currentSchema && this.currentSchema.id) {\r\n      for (const key in data[self.queryId]) {\r\n        if (data[self.queryId][key].schemaName === self.schemaName) {\r\n          this.msgService.warning(this.localizeService.getValue('queryFramework.message.saveas'));\r\n          return;\r\n        }\r\n      }\r\n      const newValue = JSON.parse(JSON.stringify(this.currentSchema));\r\n      newValue.schemaValue = params;\r\n      newValue.id = '';\r\n      newValue.queryId = self.queryId;\r\n      if (this.filterInstance) {\r\n        if (!newValue.schemaValue) { newValue.schemaValue = {}; }\r\n        newValue.schemaValue['@filterExpressionString@'] = this.filterInstance.getFilterExpression();\r\n      }\r\n      newValue.schemaValue = newValue.schemaValue ? JSON.stringify(newValue.schemaValue) : null;\r\n      newValue.schemaName = self.schemaName;\r\n      newValue.isDefault = self.isDefault ? 1 : 0;\r\n      newValue.schemaType = self.isSchemaType;\r\n      this.conditionService.saveSchema(newValue).subscribe(() => {\r\n        self.notifyService['success']({\r\n          title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.save.success'), timeout: 3000\r\n        } as NotifyOptions);\r\n        self.farrisDialog.close();\r\n      }, (error: any) => {\r\n        self.formErrorService.exception(error.Message, error);\r\n      });\r\n    } else {\r\n      const newValue = {\r\n        schemaName: self.schemaName,\r\n        schemaType: self.isSchemaType,\r\n        schemaValue: null,\r\n        isDefault: self.isDefault ? 1 : 0,\r\n        isProtected: 0,\r\n        queryId: self.queryId\r\n      };\r\n      newValue.schemaValue = params;\r\n      if (this.filterInstance) {\r\n        if (!newValue.schemaValue) { newValue.schemaValue = {}; }\r\n        newValue.schemaValue['@filterExpressionString@'] = this.filterInstance.getFilterExpression();\r\n      }\r\n      newValue.schemaValue = newValue.schemaValue ? JSON.stringify(newValue.schemaValue) : null;\r\n      this.conditionService.saveSchema(newValue).subscribe(() => {\r\n        self.notifyService['success']({\r\n          title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.save.success'), timeout: 3000\r\n        } as NotifyOptions);\r\n        self.farrisDialog.close();\r\n      }, (error: any) => {\r\n        self.formErrorService.exception(error.Message, error);\r\n      });\r\n    }\r\n  }\r\n\r\n  handleCancelClick() {\r\n    this.schemaName = '';\r\n    this.isDefault = false;\r\n    this.isSchemaType = 0;\r\n    this.farrisDialog.close();\r\n  }\r\n\r\n  handleSchemaTypeSelect(value: any) {\r\n    this.isSchemaType = value;\r\n  }\r\n\r\n  handlerGetEntity() {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      params = entitys[0].toJSON();\r\n    }\r\n    return params;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, HostBinding, SimpleChanges, ComponentFactoryResolver, ViewChild, OnChanges, ViewContainerRef, Injector } from '@angular/core';\r\nimport { FilterExpressionComponent } from '@gsp-svc/filtercondition';\r\nimport { QDPCacheUtil, RtfServices } from '@qdp/common';\r\n\r\n@Component({\r\n  selector: 'condition-dialog-tab',\r\n  templateUrl: './condition-dialog-tab.component.html',\r\n  styleUrls: ['./condition-dialog-tab.component.css']\r\n})\r\nexport class ConditionDialogTabComponent implements OnInit, OnChanges {\r\n  @HostBinding('class')\r\n  cls = '';\r\n\r\n  @Input() tabIndex = 0;\r\n  controlIndexChanged = 0;\r\n  @ViewChild(FilterExpressionComponent) filterInstance: FilterExpressionComponent;\r\n  // injector: Injector;\r\n  // @ViewChild('adHost', { read: ViewContainerRef }) adHost: ViewContainerRef;\r\n  // componentFactoryResolver: ComponentFactoryResolver;\r\n  // filterInstance: any;\r\n  @Input() propertyList = [];\r\n  @Input() filterExpressionString = '';\r\n  @Input() showFilterExpression = true;\r\n  @Input() showForm = false;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'propertyList':\r\n            if (newValue) {\r\n              this.propertyList = [...newValue];\r\n            }\r\n            break;\r\n          case 'filterExpressionString':\r\n            if (newValue) {\r\n              this.filterExpressionString = newValue;\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  changeCss() {\r\n    this.cls = this.tabIndex === this.controlIndexChanged ? 'f-utils-fill' : '';\r\n  }\r\n\r\n  createFilterComponent() {\r\n    // if (this.injector) {\r\n    //   this.componentFactoryResolver = this.injector.get(ComponentFactoryResolver);\r\n    //   const componentFactory = this.componentFactoryResolver.resolveComponentFactory(FilterExpressionComponent);\r\n    //   this.adHost.clear();\r\n    //   const componentRef = this.adHost.createComponent(componentFactory);\r\n    //   this.filterInstance = componentRef.instance;\r\n    //   this.filterInstance.propertyList = this.propertyList;\r\n    //   this.filterInstance.filterExpressionString = this.filterExpressionString;\r\n    // }\r\n  }\r\n\r\n  ngOnInit() {\r\n    try {\r\n      if (QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs')) {\r\n        QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs').push(this);\r\n      } else {\r\n        QDPCacheUtil.setCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs', [this]);\r\n      }\r\n    } catch (e) {\r\n    }\r\n    this.changeCss();\r\n  }\r\n\r\n}\r\n","import { Component, Injector, OnInit, ViewChild, OnChanges, SimpleChanges, Input, Output, EventEmitter, OnDestroy, QueryList, ContentChildren, AfterViewInit } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalizeService } from '@qdp/localize';\r\nimport { Entity, Repository } from '@farris/devkit';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { SchemaService } from '@qdp/ide-cmp';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { ConditionManagerDialogComponent } from '../condition-manager-dialog/condition-manager-dialog.component';\r\nimport { SaveasSchemaDialogComponent } from '../saveas-schema-dialog/saveas-schema-dialog.component';\r\nimport { Observable, of, Subject, Subscription } from 'rxjs';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { LcpService, QDPCacheUtil, RtfServices, EventBus } from '@qdp/common';\r\nimport { FinishLoadService } from '@qdp/condition-schema';\r\nimport { ConditionDialogTabComponent } from '../condition-dialog-tab/condition-dialog-tab.component';\r\nimport { BefRepository } from '@farris/bef';\r\nimport { FormErrorService } from '@farris/command-services';\r\n\r\n@Component({\r\n  selector: 'condition-dialog',\r\n  templateUrl: './condition-dialog.component.html',\r\n  styleUrls: ['./condition-dialog.component.css']\r\n})\r\nexport class ConditionDialogComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit { // OnChanges,\r\n  schemaId = '';\r\n  @Input() showFilterExpression = true;\r\n  @Input() queryId;\r\n  @Input() tabIndex = 0;\r\n  @Input() beforeQuery: (emptyObj?: {}) => Observable<any>;\r\n  @Output() queryEvent = new EventEmitter<any>();\r\n  dialogInitEvent = new EventEmitter<any>();\r\n  idChanged = new Subject<any>();\r\n  @ViewChild('farrisDialog') farrisDialog: DialogComponent;\r\n  @ContentChildren(ConditionDialogTabComponent) conditionTabs: QueryList<ConditionDialogTabComponent>;\r\n  getConditionTabs() {\r\n    try {\r\n      if (this.conditionTabs && this.conditionTabs.length) {\r\n        return this.conditionTabs;\r\n      } else if (QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs') && QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs').length) {\r\n        return QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs');\r\n      }\r\n    } catch (e) {\r\n      return this.conditionTabs;\r\n    }\r\n  }\r\n\r\n  @ViewChild(ConditionManagerDialogComponent) conditionManagerDialog: ConditionManagerDialogComponent;\r\n  @ViewChild(SaveasSchemaDialogComponent) saveasSchemaDialogComponent: SaveasSchemaDialogComponent;\r\n  localizeService: any;\r\n  menuShow = false;\r\n  defaultSchemaName = 'æ¡ä»¶æ¹æ¡';\r\n  currentSchema: any;\r\n  publicList = [];\r\n  personalList = [];\r\n  controlIndexChanged = 0;\r\n  queryCount: any;\r\n  notifyService: NotifyService;\r\n  private subscriptions: Subscription[] = [];\r\n  private closeType = '';\r\n  formErrorService: any;\r\n\r\n  public get Id() {\r\n    return this.schemaId;\r\n  }\r\n  public set Id(value: any) {\r\n    this.schemaId = value;\r\n    this.idChanged.next(value);\r\n  }\r\n\r\n  propertyList = [];\r\n  filterExpressionString = '';\r\n  advanceFilterTab: any;\r\n  schemaService: SchemaService;\r\n  lcpService: LcpService;\r\n  tabId: any;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private conditionService: ConditionSchemaService,\r\n    private repository: Repository<any>,\r\n    private cacheService: CacheService,\r\n    private finishLoasService: FinishLoadService) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.notifyService = this.injector.get(NotifyService);\r\n      this.defaultSchemaName = this.localizeService.getValue('queryFramework.ispreName');\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n      this.schemaService = this.injector.get(SchemaService);\r\n      this.lcpService = this.injector.get(LcpService);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.tabId = RtfServices.getTabId(this.queryId);\r\n    this.queryCount = 1;\r\n    this.conditionDialogInit();\r\n    if (!this.beforeQuery) {\r\n      this.beforeQuery = (params: any) => of(true);\r\n    }\r\n    QDPCacheUtil.setCache(this.tabId + 'advanceTemplate-condition-dialog', this);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    EventBus.dispatch(this.tabId + 'advanceTemplate-condition-dialog-dialogInitEvent', {});\r\n    this.dialogInitEvent.emit(true);\r\n  }\r\n\r\n  conditionDialogInit() {\r\n    const self = this;\r\n    this.subscriptions.push(self.conditionService.getSchemaList(self.queryId, '', '').subscribe());\r\n    this.subscriptions.push(self.conditionService.schemaListChange.subscribe((result: any) => {\r\n      const data = result.schemaInfo;\r\n      if (data && data[self.queryId]) {\r\n        self.publicList = [];\r\n        self.personalList = [];\r\n        for (const key in data[self.queryId]) {\r\n          if (data[self.queryId][key].schemaType === 0) {\r\n            self.publicList.push(data[self.queryId][key]);\r\n          } else {\r\n            self.personalList.push(data[self.queryId][key]);\r\n          }\r\n        }\r\n        let flag = false;\r\n        if (self.schemaId) {\r\n          let index = self.publicList.findIndex((item: any) => item.id === self.schemaId);\r\n          if (index >= 0) {\r\n            flag = true;\r\n            self.currentSchema = self.publicList[index];\r\n            self.initCondition(self.currentSchema);\r\n          }\r\n          index = self.personalList.findIndex((item: any) => item.id === self.schemaId);\r\n          if (index >= 0) {\r\n            flag = true;\r\n            self.currentSchema = self.personalList[index];\r\n            self.initCondition(self.currentSchema);\r\n          }\r\n        }\r\n        if (!flag && self.conditionService.isDefaultSchema && self.conditionService.isDefaultSchema[self.queryId] && self.conditionService.isDefaultSchema[self.queryId].id) {\r\n          self.currentSchema = self.conditionService.isDefaultSchema[self.queryId];\r\n          self.schemaId = self.conditionService.isDefaultSchema[self.queryId].id;\r\n          self.defaultSchemaName = self.currentSchema.schemaName;\r\n        }\r\n        this.subscriptions.push(this.finishLoasService.finish.subscribe((data) => {\r\n          self.initCondition(self.currentSchema);\r\n        }));\r\n      } else {\r\n        self.defaultSchemaName = self.localizeService.getValue('queryFramework.ispreName');\r\n      }\r\n    }));\r\n    this.subscriptions.push(self.idChanged.subscribe((schemaId: any) => {\r\n      if (schemaId) {\r\n        self.subscriptions.push(self.conditionService.getSchema(schemaId, self.queryId, true).subscribe((data: any) => {\r\n          if (data) {\r\n            self.currentSchema = data;\r\n            self.defaultSchemaName = self.currentSchema.schemaName;\r\n            self.initCondition(self.currentSchema);\r\n            if (self.controlIndexChanged === 1) {\r\n              self.handleInfoChanged(self.controlIndexChanged);\r\n            }\r\n          }\r\n        }));\r\n      }\r\n    }));\r\n  }\r\n\r\n  private initCondition(schema: any) {\r\n    const self = this;\r\n    if (schema) { // é¢å¶é»è®¤å¯¹è±¡\r\n      if (schema.schemaValue && typeof (schema.schemaValue) === 'object') {\r\n        if (schema && schema.schemaValue && this.repository.entityCollection.getAllEntities() && this.repository.entityCollection.getAllEntities().length) {\r\n          schema.schemaValue.id = this.repository.entityCollection.getAllEntities()[0]['id'];\r\n        }\r\n        self.repository.entityCollection.getAllEntities()[0].load(schema.schemaValue);\r\n        self.filterExpressionString = '';\r\n        if (schema.schemaValue.hasOwnProperty('@filterExpressionString@')) {\r\n          self.filterExpressionString = schema.schemaValue['@filterExpressionString@'];\r\n        }\r\n      } else {\r\n        if (self.repository.entityCollection.getAllEntities() && self.repository.entityCollection.getAllEntities()[0]) {\r\n          const obj = {\r\n            id: self.repository.entityCollection.getAllEntities()[0]['id']\r\n          };\r\n          self.repository.entityCollection.getAllEntities()[0].load(obj);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getPropertyList(item: any) {\r\n    this.subscriptions.push(this.lcpService.getCol({\r\n      schemaId: '1',\r\n      entityData: JSON.stringify({ 'id': 'undefined_null' }),\r\n      pageIndex: 1,\r\n      pageSize: 0,\r\n      qoManagerCode: QDPCacheUtil.getCache(this.tabId + 'qoManagerCode'),\r\n      controlType: QDPCacheUtil.getCache(this.tabId + 'controlType'),\r\n      voCode: QDPCacheUtil.getCache(this.tabId + 'voId')\r\n    }, QDPCacheUtil.getCache(this.tabId + 'queryRelativeUrl')).subscribe(value => {\r\n      if (value && value.dynamicCols && value.dynamicCols.length) {\r\n        this.analysisColListData(value.dynamicCols, 'col');\r\n        if (this.advanceFilterTab) {\r\n          this.advanceFilterTab.propertyList = [...this.propertyList];\r\n          this.advanceFilterTab.filterExpressionString = this.filterExpressionString;\r\n        }\r\n        item.createFilterComponent();\r\n      }\r\n    }));\r\n  }\r\n\r\n  private analysisColListData(newValue: any, type?: any) {\r\n    this.propertyList = [];\r\n    newValue.forEach(col => {\r\n      this.recursiveAnalysisColListData(null, col, type);\r\n    });\r\n  }\r\n\r\n  private recursiveAnalysisColListData(children: any, col: any, type?: any) {\r\n    if (col) {\r\n      const index = this.propertyList.findIndex((item: any) => item.Code === col.bindField);\r\n      if (index < 0) {\r\n        const node = {};\r\n        node['value'] = col.bindField;\r\n        node['propertyFieldType'] = this.getDataType(col.type);\r\n        node['text'] = col.name;\r\n        this.propertyList.push(node);\r\n      } else if (type !== 'col') {\r\n        this.propertyList[index]['text'] = col.name;\r\n      }\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveAnalysisColListData(col.childList, null);\r\n      }\r\n    } else {\r\n      children.forEach((c: any) => {\r\n        const index = this.propertyList.findIndex((item: any) => item.Code === c.bindField);\r\n        if (index < 0) {\r\n          const node = {};\r\n          node['value'] = c.bindField;\r\n          node['propertyFieldType'] = this.getDataType(c.type);\r\n          node['text'] = c.name;\r\n          this.propertyList.push(node);\r\n        } else if (type !== 'col') {\r\n          this.propertyList[index]['text'] = c.name;\r\n        }\r\n        if (c.childList && c.childList.length) {\r\n          this.recursiveAnalysisColListData(c.childList, null);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private getDataType(type: any) {\r\n    let result = 0;\r\n    switch (type) {\r\n      case 'string':\r\n      case 'text':\r\n        result = 0;\r\n        break;\r\n      case 'integer':\r\n        result = 2;\r\n        break;\r\n      case 'decimal':\r\n        result = 4;\r\n        break;\r\n      case 'boolean':\r\n        result = 8;\r\n        break;\r\n      case 'date':\r\n      case 'dateTime':\r\n        result = 9;\r\n        break;\r\n      case 'byte':\r\n        result = 6;\r\n        break;\r\n      case 'char':\r\n        result = 7;\r\n        break;\r\n      case 'array':\r\n        result = 10;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscriptions && this.subscriptions.length) {\r\n      for (const subscription of this.subscriptions) {\r\n        subscription.unsubscribe();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n  }\r\n\r\n  handleDialogShow() {\r\n    this.farrisDialog.show();\r\n  }\r\n\r\n  handleDialogClose() {\r\n    this.farrisDialog.close();\r\n  }\r\n\r\n  handleSchemaManagerDialog() {\r\n    this.conditionManagerDialog.handleDialogShow();\r\n    this.menuShow = !this.menuShow;\r\n  }\r\n\r\n  handleSaveasSchemaDialog() {\r\n    this.saveasSchemaDialogComponent.schemaName = '';\r\n    this.saveasSchemaDialogComponent.isDefault = false;\r\n    this.saveasSchemaDialogComponent.isSchemaType = 0;\r\n    this.menuShow = false;\r\n    this.saveasSchemaDialogComponent.handleDialogShow();\r\n    if (this.advanceFilterTab && this.advanceFilterTab.filterInstance) {\r\n      this.saveasSchemaDialogComponent.filterInstance = this.advanceFilterTab.filterInstance;\r\n    }\r\n  }\r\n\r\n  handleSchemaMenu() {\r\n    this.menuShow = !this.menuShow;\r\n  }\r\n\r\n  handleInfoChanged($event: any) {\r\n    const self = this;\r\n    this.controlIndexChanged = $event;\r\n    if (this.getConditionTabs() && this.getConditionTabs().length) {\r\n      this.getConditionTabs().forEach((item: any) => {\r\n        item.controlIndexChanged = $event;\r\n        item.changeCss();\r\n        if (item.tabIndex === 1 && self.showFilterExpression) {\r\n          self.advanceFilterTab = item;\r\n          self.getPropertyList(item);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSchemaSelected($event: any) {\r\n    this.defaultSchemaName = $event.schemaName;\r\n    this.menuShow = !this.menuShow;\r\n    this.currentSchema = $event;\r\n    this.Id = this.currentSchema.id;\r\n  }\r\n\r\n  handleQueryClick() {\r\n    const params = this.handlerGetEntity();\r\n    this.beforeQuery().subscribe((result) => {\r\n      if (result == true) {\r\n        EventBus.dispatch('openAdvanceTemplateDialog', {});\r\n        this.cacheService.set(this.tabId, params);\r\n        EventBus.dispatch(this.tabId + 'advanceTemplate-condition-dialog-queryEvent', this.queryCount++);\r\n        this.queryEvent.emit(this.queryCount++);\r\n        this.closeType = 'query';\r\n        this.handleDialogClose();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSaveClick() {\r\n    const self = this;\r\n    const params = this.handlerGetEntity();\r\n    if (this.currentSchema) {\r\n      this.currentSchema.schemaValue = params;\r\n      const newSchema = JSON.parse(JSON.stringify(this.currentSchema));\r\n      if (this.advanceFilterTab && this.advanceFilterTab.filterInstance) {\r\n        if (!newSchema.schemaValue) { newSchema.schemaValue = {}; }\r\n        newSchema.schemaValue['@filterExpressionString@'] = this.advanceFilterTab.filterInstance.getFilterExpression();\r\n      }\r\n      newSchema.schemaValue = newSchema.schemaValue ? JSON.stringify(newSchema.schemaValue) : null;\r\n      this.conditionService.saveSchema(newSchema).subscribe(() => {\r\n        self.notifyService['success']({\r\n          title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.save.success'), timeout: 3000\r\n        } as NotifyOptions);\r\n      }, (error: any) => {\r\n        self.formErrorService.exception(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'), error);\r\n      });\r\n    }\r\n  }\r\n\r\n  handlerGetEntity() {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      params = entitys[0].toJSON();\r\n      if (this.advanceFilterTab && this.advanceFilterTab.filterInstance) {\r\n        if (!params) { params = { id: 'undefined_null' }; }\r\n        params['@filterExpressionString@'] = this.advanceFilterTab.filterInstance.getFilterExpression();\r\n      } else if (this.filterExpressionString) {\r\n        if (!params) { params = { id: 'undefined_null' }; }\r\n        params['@filterExpressionString@'] = this.filterExpressionString;\r\n      }\r\n    }\r\n    return params;\r\n  }\r\n\r\n  beforeOpen = () => true;\r\n\r\n  handlebeforeClose = () => {\r\n    // const self = this;\r\n    // if (this.closeType !== 'query') {\r\n    //   if (self.repository.entityCollection.getAllEntities() && self.repository.entityCollection.getAllEntities()[0]) {\r\n    //     const obj = {\r\n    //       id: self.repository.entityCollection.getAllEntities()[0]['id']\r\n    //     };\r\n    //     self.repository.entityCollection.getAllEntities()[0].load(obj);\r\n    //     (self.repository as BefRepository<Entity>).entityManager.clearAllEntityChanges();\r\n    //     if (this.advanceFilterTab) {\r\n    //       this.advanceFilterTab.filterExpressionString = '';\r\n    //     }\r\n    //   }\r\n    // }\r\n    // this.closeType = '';\r\n    return of(true);\r\n  }\r\n}\r\n","import { NgModule, ElementRef } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@farris/ui-flex-layout';\r\nimport { FDropdownDirectiveTypeModule, FDropdownDirective } from '@farris/ui-dropdown';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { IdeCmpModule } from '@qdp/ide-cmp';\r\nimport { QueryFrameworkLayoutComponent } from './component/qf-layout/qf-layout.component';\r\nimport { QueryFrameworkToolbarComponent } from './component/qf-toolbar/qf-toolbar.component';\r\nimport { QueryFrameworkPaginationComponent } from './component/qf-pagination/qf-pagination.component';\r\nimport { ExportDataComponent } from './component/export-data/export-data.component';\r\nimport { FilterConditionModule, FilterService} from '@gsp-svc/filtercondition';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { FilterManagerService} from '@qdp/common';\r\nimport { LocalizeModule } from '@qdp/localize';\r\nimport { CloudPrintModule } from '@gsp-svc/cloudprint';\r\nimport { ConditionDialogComponent } from './component/condition-dialog/condition-dialog.component';\r\nimport { ConditionManagerDialogComponent } from './component/condition-manager-dialog/condition-manager-dialog.component';\r\nimport { SaveasSchemaDialogComponent } from './component/saveas-schema-dialog/saveas-schema-dialog.component';\r\nimport { ConditionDialogTabComponent } from './component/condition-dialog-tab/condition-dialog-tab.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NotifyModule,\r\n    FDropdownDirectiveTypeModule,\r\n    FlexLayoutModule,\r\n    TreeTableModule,\r\n    PerfectScrollbarModule,\r\n    IdeCmpModule,\r\n    FilterConditionModule,\r\n    // LocalizeModule,\r\n    CloudPrintModule,\r\n    FarrisDialogModule,\r\n    InputGroupModule\r\n  ],\r\n  declarations: [\r\n    QueryFrameworkLayoutComponent,\r\n    QueryFrameworkToolbarComponent,\r\n    QueryFrameworkPaginationComponent,\r\n    ExportDataComponent,\r\n    ConditionDialogComponent,\r\n    ConditionManagerDialogComponent,\r\n    SaveasSchemaDialogComponent,\r\n    ConditionDialogTabComponent\r\n  ],\r\n  providers: [\r\n    FDropdownDirective,\r\n    FilterService,\r\n    FilterManagerService,\r\n    ConditionSchemaService\r\n  ],\r\n  exports: [\r\n    QueryFrameworkLayoutComponent,\r\n    QueryFrameworkToolbarComponent,\r\n    QueryFrameworkPaginationComponent,\r\n    ExportDataComponent,\r\n    ConditionDialogComponent,\r\n    ConditionManagerDialogComponent,\r\n    SaveasSchemaDialogComponent,\r\n    ConditionDialogTabComponent\r\n  ]\r\n})\r\nexport class QueryFrameworkModule { }\r\n"],"names":["EventEmitter","Component","Input","Output","LocalizeService","IntegrationPrintService","MessagerService","CacheService","RtfServices","QDPCacheUtil","CloudprintService","Injector","Optional","ViewChild","EventBus","tslib_1.__values","SchemaService","RenderService","FilterService","FilterManagerService","ParasMappingManagerService","ContentChild","Subject","FormErrorService","ConditionSchemaService","NotifyService","LOCALE_ID","DEFAULT_LANGUAGE","Repository","HostBinding","FilterExpressionComponent","of","LcpService","FinishLoadService","ContentChildren","NgModule","CommonModule","FormsModule","ReactiveFormsModule","NotifyModule","FDropdownDirectiveTypeModule","FlexLayoutModule","TreeTableModule","PerfectScrollbarModule","IdeCmpModule","FilterConditionModule","CloudPrintModule","FarrisDialogModule","InputGroupModule","FDropdownDirective"],"mappings":"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"}
