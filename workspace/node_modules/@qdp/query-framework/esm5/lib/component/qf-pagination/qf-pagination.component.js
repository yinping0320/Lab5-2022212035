/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
var QueryFrameworkPaginationComponent = /** @class */ (function () {
    function QueryFrameworkPaginationComponent() {
        this.pagination = {
            pageIndex: 1,
            pageSize: 10,
            totalPage: 0
        };
        this.isDisablePreBtn = false;
        this.isDisableNextBtn = false;
        this.isEnable = true;
        this.totalCount = 21;
        this.pageSize = 10;
        this.pageIndex = 1;
        this.pageChange = new EventEmitter();
    }
    /**
     * @return {?}
     */
    QueryFrameworkPaginationComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initPageInfo();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    QueryFrameworkPaginationComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        for (var changeName in changes) {
            /** @type {?} */
            var newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'schemaInfo':
                        break;
                    case 'pageInfo':
                        if (newValue.pageSize === 0) {
                            this.isEnable = false;
                            return;
                        }
                        else {
                            this.isEnable = true;
                        }
                        this.pagination.pageIndex = this.pageIndex = newValue.pageIndex;
                        this.pagination.pageSize = this.pageSize = newValue.pageSize;
                        this.pagination.totalPage = newValue.pageCount;
                        this.totalCount = newValue.totalCount;
                        this.initPageInfo();
                        break;
                }
            }
        }
    };
    /**
     * @return {?}
     */
    QueryFrameworkPaginationComponent.prototype.initPageInfo = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var totalPageCount = 0;
        if (this.totalCount <= this.pageSize) {
            totalPageCount = 1;
        }
        else {
            totalPageCount = (this.totalCount % this.pageSize) > 0
                ? Math.ceil(this.totalCount / this.pageSize)
                : (this.totalCount / this.pageSize);
        }
        this.pagination = {
            pageIndex: this.pageIndex,
            totalPage: totalPageCount
        };
        this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;
        this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;
        if (!this.isEnable) {
            this.isDisablePreBtn = this.isDisableNextBtn = !this.isEnable;
        }
    };
    /**
     * @param {?} type
     * @return {?}
     */
    QueryFrameworkPaginationComponent.prototype.handlePreBtnClick = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case '0':
                this.pagination.pageIndex = 1;
                break;
            case '1':
                this.pagination.pageIndex -= 1;
                break;
        }
        this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;
        this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;
        this.pageChange.emit(this.pagination);
    };
    /**
     * @param {?} type
     * @return {?}
     */
    QueryFrameworkPaginationComponent.prototype.handleNextBtnClick = /**
     * @param {?} type
     * @return {?}
     */
    function (type) {
        switch (type) {
            case '0':
                this.pagination.pageIndex = this.pagination.totalPage;
                break;
            case '1':
                this.pagination.pageIndex += 1;
                break;
        }
        this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;
        this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;
        this.pageChange.emit(this.pagination);
    };
    QueryFrameworkPaginationComponent.decorators = [
        { type: Component, args: [{
                    selector: 'query-framework-pagination',
                    template: "<nav *ngIf=\"isEnable\" aria-label=\"Page navigation\">\r\n  <ul class=\"pagination p-0 pr-1\">\r\n    <li class=\"page-item\">\r\n      <span class=\"page-link border-0 w-100\">{{localizePageInfo?.totalPreInfo}}{{totalCount}}{{localizePageInfo?.totalEndInfo}}</span>\r\n    </li>\r\n    <li class=\"page-item ml-0\" [class.disabled]=\"isDisablePreBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handlePreBtnClick('0')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-seek-w\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"isDisablePreBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handlePreBtnClick('1')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-arrow-w\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\">\r\n      <span class=\"page-link border-0 w-100\">{{pagination.pageIndex}}/{{pagination.totalPage?pagination.totalPage:0}}</span>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"isDisableNextBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handleNextBtnClick('1')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-arrow-e\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"isDisableNextBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handleNextBtnClick('0')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-seek-e\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    QueryFrameworkPaginationComponent.ctorParameters = function () { return []; };
    QueryFrameworkPaginationComponent.propDecorators = {
        pageInfo: [{ type: Input }],
        localizePageInfo: [{ type: Input }],
        pageChange: [{ type: Output }]
    };
    return QueryFrameworkPaginationComponent;
}());
export { QueryFrameworkPaginationComponent };
if (false) {
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pagination;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.isDisablePreBtn;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.isDisableNextBtn;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.isEnable;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageInfo;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.localizePageInfo;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.totalCount;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageSize;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageIndex;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageChange;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWYtcGFnaW5hdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcWRwL3F1ZXJ5LWZyYW1ld29yay8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnQvcWYtcGFnaW5hdGlvbi9xZi1wYWdpbmF0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFFekc7SUF1QkU7UUFqQkEsZUFBVSxHQUFRO1lBQ2hCLFNBQVMsRUFBRSxDQUFDO1lBQ1osUUFBUSxFQUFFLEVBQUU7WUFDWixTQUFTLEVBQUUsQ0FBQztTQUNiLENBQUM7UUFDRixvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUN4QixxQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDekIsYUFBUSxHQUFHLElBQUksQ0FBQztRQUtoQixlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFDZCxjQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ0osZUFBVSxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7SUFFL0IsQ0FBQzs7OztJQUVqQixvREFBUTs7O0lBQVI7UUFDRSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEIsQ0FBQzs7Ozs7SUFFRCx1REFBVzs7OztJQUFYLFVBQVksT0FBc0I7UUFDaEMsS0FBSyxJQUFNLFVBQVUsSUFBSSxPQUFPLEVBQUU7O2dCQUMxQixRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVk7WUFDakQsSUFBSSxRQUFRLEtBQUssSUFBSSxJQUFJLFFBQVEsS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDNUMsUUFBUSxVQUFVLEVBQUU7b0JBQ2xCLEtBQUssWUFBWTt3QkFDZixNQUFNO29CQUNSLEtBQUssVUFBVTt3QkFDYixJQUFJLFFBQVEsQ0FBQyxRQUFRLEtBQUssQ0FBQyxF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O1lBQ1osS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDO2dCQUN0RCxNQUFNO1lBQ1IsS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsTUFBTTtTQUNUO1FBQ0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDL0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7O2dCQXRHRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLDRCQUE0QjtvQkFDdEMsK3FEQUE2Qzs7aUJBRTlDOzs7OzsyQkFZRSxLQUFLO21DQUNMLEtBQUs7NkJBSUwsTUFBTTs7SUFtRlQsd0NBQUM7Q0FBQSxBQXhHRCxJQXdHQztTQW5HWSxpQ0FBaUM7OztJQUM1Qyx1REFJRTs7SUFDRiw0REFBd0I7O0lBQ3hCLDZEQUF5Qjs7SUFDekIscURBQWdCOztJQUdoQixxREFBdUI7O0lBQ3ZCLDZEQUErQjs7SUFDL0IsdURBQWdCOztJQUNoQixxREFBYzs7SUFDZCxzREFBYzs7SUFDZCx1REFBK0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncXVlcnktZnJhbWV3b3JrLXBhZ2luYXRpb24nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9xZi1wYWdpbmF0aW9uLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9xZi1wYWdpbmF0aW9uLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUXVlcnlGcmFtZXdvcmtQYWdpbmF0aW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG4gIHBhZ2luYXRpb246IGFueSA9IHtcclxuICAgIHBhZ2VJbmRleDogMSxcclxuICAgIHBhZ2VTaXplOiAxMCxcclxuICAgIHRvdGFsUGFnZTogMFxyXG4gIH07XHJcbiAgaXNEaXNhYmxlUHJlQnRuID0gZmFsc2U7XHJcbiAgaXNEaXNhYmxlTmV4dEJ0biA9IGZhbHNlO1xyXG4gIGlzRW5hYmxlID0gdHJ1ZTtcclxuICAvLyBASW5wdXQoKSBzY2hlbWFJbmZvOiBhbnk7XHJcbiAgLy8gQElucHV0KCkgY29sTGlzdDogYW55O1xyXG4gIEBJbnB1dCgpIHBhZ2VJbmZvOiBhbnk7XHJcbiAgQElucHV0KCkgbG9jYWxpemVQYWdlSW5mbzogYW55O1xyXG4gIHRvdGFsQ291bnQgPSAyMTtcclxuICBwYWdlU2l6ZSA9IDEwO1xyXG4gIHBhZ2VJbmRleCA9IDE7XHJcbiAgQE91dHB1dCgpIHBhZ2VDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmluaXRQYWdlSW5mbygpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgZm9yIChjb25zdCBjaGFuZ2VOYW1lIGluIGNoYW5nZXMpIHtcclxuICAgICAgY29uc3QgbmV3VmFsdWUgPSBjaGFuZ2VzW2NoYW5nZU5hbWVdLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBudWxsICYmIG5ld1ZhbHVlICE9PSB2b2lkIDApIHtcclxuICAgICAgICBzd2l0Y2ggKGNoYW5nZU5hbWUpIHtcclxuICAgICAgICAgIGNhc2UgJ3NjaGVtYUluZm8nOlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ3BhZ2VJbmZvJzpcclxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlLnBhZ2VTaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5pc0VuYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmlzRW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4ID0gdGhpcy5wYWdlSW5kZXggPSBuZXdWYWx1ZS5wYWdlSW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IHRoaXMucGFnZVNpemUgPSBuZXdWYWx1ZS5wYWdlU2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsUGFnZSA9IG5ld1ZhbHVlLnBhZ2VDb3VudDtcclxuICAgICAgICAgICAgdGhpcy50b3RhbENvdW50ID0gbmV3VmFsdWUudG90YWxDb3VudDtcclxuICAgICAgICAgICAgdGhpcy5pbml0UGFnZUluZm8oKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0UGFnZUluZm8oKSB7XHJcbiAgICBsZXQgdG90YWxQYWdlQ291bnQgPSAwO1xyXG4gICAgaWYgKHRoaXMudG90YWxDb3VudCA8PSB0aGlzLnBhZ2VTaXplKSB7XHJcbiAgICAgIHRvdGFsUGFnZUNvdW50ID0gMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRvdGFsUGFnZUNvdW50ID0gKHRoaXMudG90YWxDb3VudCAlIHRoaXMucGFnZVNpemUpID4gMFxyXG4gICAgICAgID8gTWF0aC5jZWlsKHRoaXMudG90YWxDb3VudCAvIHRoaXMucGFnZVNpemUpXHJcbiAgICAgICAgOiAodGhpcy50b3RhbENvdW50IC8gdGhpcy5wYWdlU2l6ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBhZ2luYXRpb24gPSB7XHJcbiAgICAgIHBhZ2VJbmRleDogdGhpcy5wYWdlSW5kZXgsXHJcbiAgICAgIHRvdGFsUGFnZTogdG90YWxQYWdlQ291bnRcclxuICAgIH07XHJcbiAgICB0aGlzLmlzRGlzYWJsZVByZUJ0biA9IHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggPT09IDEgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLmlzRGlzYWJsZU5leHRCdG4gPSB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4ID09PSB0aGlzLnBhZ2luYXRpb24udG90YWxQYWdlID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgIGlmICghdGhpcy5pc0VuYWJsZSkge1xyXG4gICAgICB0aGlzLmlzRGlzYWJsZVByZUJ0biA9IHRoaXMuaXNEaXNhYmxlTmV4dEJ0biA9ICF0aGlzLmlzRW5hYmxlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUHJlQnRuQ2xpY2sodHlwZTogYW55KSB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnMCc6XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9IDE7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJzEnOlxyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggLT0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHRoaXMuaXNEaXNhYmxlUHJlQnRuID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9PT0gMSA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuaXNEaXNhYmxlTmV4dEJ0biA9IHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggPT09IHRoaXMucGFnaW5hdGlvbi50b3RhbFBhZ2UgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLnBhZ2VDaGFuZ2UuZW1pdCh0aGlzLnBhZ2luYXRpb24pO1xyXG5cclxuICB9XHJcblxyXG4gIGhhbmRsZU5leHRCdG5DbGljayh0eXBlOiBhbnkpIHtcclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlICcwJzpcclxuICAgICAgICB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4ID0gdGhpcy5wYWdpbmF0aW9uLnRvdGFsUGFnZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnMSc6XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCArPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pc0Rpc2FibGVQcmVCdG4gPSB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4ID09PSAxID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5pc0Rpc2FibGVOZXh0QnRuID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9PT0gdGhpcy5wYWdpbmF0aW9uLnRvdGFsUGFnZSA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMucGFnZUNoYW5nZS5lbWl0KHRoaXMucGFnaW5hdGlvbik7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=