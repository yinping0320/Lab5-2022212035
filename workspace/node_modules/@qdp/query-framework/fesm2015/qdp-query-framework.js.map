{"version":3,"file":"qdp-query-framework.js.map","sources":["ng://@qdp/query-framework/lib/component/qf-pagination/qf-pagination.component.ts","ng://@qdp/query-framework/lib/component/condition-manager-dialog/condition-manager-dialog.component.ts","ng://@qdp/query-framework/lib/component/saveas-schema-dialog/saveas-schema-dialog.component.ts","ng://@qdp/query-framework/lib/component/condition-dialog-tab/condition-dialog-tab.component.ts","ng://@qdp/query-framework/lib/component/condition-dialog/condition-dialog.component.ts","ng://@qdp/query-framework/lib/component/qf-toolbar/qf-toolbar.component.ts","ng://@qdp/query-framework/lib/component/qf-layout/qf-layout.component.ts","ng://@qdp/query-framework/lib/component/export-data/export-data.component.ts","ng://@qdp/query-framework/lib/query-framework.module.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'query-framework-pagination',\r\n  templateUrl: './qf-pagination.component.html',\r\n  styleUrls: ['./qf-pagination.component.css']\r\n})\r\nexport class QueryFrameworkPaginationComponent implements OnInit, OnChanges {\r\n  pagination: any = {\r\n    pageIndex: 1,\r\n    pageSize: 10,\r\n    totalPage: 0\r\n  };\r\n  isDisablePreBtn = false;\r\n  isDisableNextBtn = false;\r\n  isEnable = true;\r\n  // @Input() schemaInfo: any;\r\n  // @Input() colList: any;\r\n  @Input() pageInfo: any;\r\n  @Input() localizePageInfo: any;\r\n  totalCount = 21;\r\n  pageSize = 10;\r\n  pageIndex = 1;\r\n  @Output() pageChange = new EventEmitter<any>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.initPageInfo();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'schemaInfo':\r\n            break;\r\n          case 'pageInfo':\r\n            if (newValue.pageSize === 0) {\r\n              this.isEnable = false;\r\n              return;\r\n            } else {\r\n              this.isEnable = true;\r\n            }\r\n            this.pagination.pageIndex = this.pageIndex = newValue.pageIndex;\r\n            this.pagination.pageSize = this.pageSize = newValue.pageSize;\r\n            this.pagination.totalPage = newValue.pageCount;\r\n            this.totalCount = newValue.totalCount;\r\n            this.initPageInfo();\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  initPageInfo() {\r\n    let totalPageCount = 0;\r\n    if (this.totalCount <= this.pageSize) {\r\n      totalPageCount = 1;\r\n    } else {\r\n      totalPageCount = (this.totalCount % this.pageSize) > 0\r\n        ? Math.ceil(this.totalCount / this.pageSize)\r\n        : (this.totalCount / this.pageSize);\r\n    }\r\n    this.pagination = {\r\n      pageIndex: this.pageIndex,\r\n      totalPage: totalPageCount\r\n    };\r\n    this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;\r\n    this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;\r\n\r\n    if (!this.isEnable) {\r\n      this.isDisablePreBtn = this.isDisableNextBtn = !this.isEnable;\r\n    }\r\n  }\r\n\r\n  handlePreBtnClick(type: any) {\r\n    switch (type) {\r\n      case '0':\r\n        this.pagination.pageIndex = 1;\r\n        break;\r\n      case '1':\r\n        this.pagination.pageIndex -= 1;\r\n        break;\r\n    }\r\n    this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;\r\n    this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;\r\n    this.pageChange.emit(this.pagination);\r\n\r\n  }\r\n\r\n  handleNextBtnClick(type: any) {\r\n    switch (type) {\r\n      case '0':\r\n        this.pagination.pageIndex = this.pagination.totalPage;\r\n        break;\r\n      case '1':\r\n        this.pagination.pageIndex += 1;\r\n        break;\r\n    }\r\n    this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;\r\n    this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;\r\n    this.pageChange.emit(this.pagination);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, Injector, Input, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalizeService } from '@qdp/localize';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { Subject } from 'rxjs';\r\nimport { FormErrorService } from '@farris/command-services';\r\n\r\n@Component({\r\n  selector: 'condition-manager-dialog',\r\n  templateUrl: './condition-manager-dialog.component.html',\r\n  styleUrls: ['./condition-manager-dialog.component.css']\r\n})\r\nexport class ConditionManagerDialogComponent implements OnInit, OnChanges {\r\n  @ViewChild('farrisDialog') farrisDialog: DialogComponent;\r\n  @Input() currentSchema: any;\r\n  localizeService: any;\r\n  expandPublic = true;\r\n  expandPersonal = true;\r\n  @Input() queryId: any;\r\n  @Input() publicList = [];\r\n  @Input() personalList = [];\r\n  removeList = [];\r\n  motifyList = [];\r\n  removeListEvent = new Subject<any>();\r\n  formErrorService: any;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private msgService: MessagerService,\r\n    private conditionService: ConditionSchemaService,\r\n    private notifyService: NotifyService\r\n  ) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n  }\r\n\r\n  handleDialogShow() {\r\n    this.farrisDialog.show();\r\n  }\r\n\r\n  handleExpandType($event: any) {\r\n    this.expandPublic = $event === 0 ? !this.expandPublic : this.expandPublic;\r\n    this.expandPersonal = $event === 1 ? !this.expandPersonal : this.expandPersonal;\r\n  }\r\n\r\n  handleNgModelChange(change: any, item: any) {\r\n    item.isDefault = change ? 1 : 0;\r\n  }\r\n\r\n  handleDeleteSchame($event: any) {\r\n    if (this.removeList.findIndex((item: any) => item.id === $event.id) < 0) {\r\n      this.removeList.push($event);\r\n      this.motifyList.push({ type: 'delete', id: $event.id });\r\n    }\r\n    const index = $event.schemaType === 0\r\n      ? this.publicList.findIndex((item: any) => item.id === $event.id)\r\n      : this.personalList.findIndex((item: any) => item.id === $event.id);\r\n    if ($event.schemaType === 0) {\r\n      this.publicList.splice(index, 1);\r\n    } else {\r\n      this.personalList.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  handleSettingDefault($event: any) {\r\n    const self = this;\r\n    this.publicList.forEach((item: any) => {\r\n      item.isDefault = item.id === $event.id ? 1 : 0;\r\n      if (item.id === $event.id) {\r\n        self.motifyList.push({ type: 'edit', id: $event.id });\r\n      }\r\n    });\r\n    this.personalList.forEach((item: any) => {\r\n      item.isDefault = item.id === $event.id ? 1 : 0;\r\n      if (item.id === $event.id) {\r\n        self.motifyList.push({ type: 'edit', id: $event.id });\r\n      }\r\n    });\r\n  }\r\n\r\n  handleOKClick() {\r\n    const self = this;\r\n    if (this.motifyList.length) {\r\n      const deleteSchemas = [];\r\n      let saveSchema: any;\r\n      this.motifyList.forEach((item: any) => {\r\n        if (item.type === 'delete') {\r\n          deleteSchemas.push(item.id);\r\n        } else {\r\n          saveSchema = self.publicList.find((el: any) => el.id === item.id);\r\n          if (!saveSchema || !saveSchema.id) {\r\n            saveSchema = self.personalList.find((el: any) => el.id === item.id);\r\n          }\r\n        }\r\n      });\r\n      if (saveSchema && saveSchema.schemaValue) {\r\n        saveSchema.schemaValue = saveSchema && saveSchema.schemaValue ? JSON.stringify(saveSchema.schemaValue) : null;\r\n      }\r\n      if (deleteSchemas.length && saveSchema && saveSchema.id) {\r\n        this.conditionService.deleteSchemaList(deleteSchemas.join(','), self.queryId).subscribe(() => {\r\n          this.conditionService.saveSchema(saveSchema).subscribe(() => {\r\n            self.clearChanges();\r\n            self.notifyService['success']({\r\n              title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.success'), timeout: 3000\r\n            } as NotifyOptions);\r\n            self.farrisDialog.close();\r\n          }, (error: any) => {\r\n            self.formErrorService.exception(error.Message, error);\r\n            // self.notifyService['success']({\r\n            //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n            // } as NotifyOptions);\r\n            self.farrisDialog.close();\r\n          });\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n          // console.log(error);\r\n          // self.notifyService['success']({\r\n          //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n          // } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        });\r\n      } else if (deleteSchemas.length) {\r\n        this.conditionService.deleteSchemaList(deleteSchemas.join(','), self.queryId).subscribe(() => {\r\n          self.clearChanges();\r\n          self.notifyService['success']({\r\n            title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.success'), timeout: 3000\r\n          } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n          // console.log(error);\r\n          // self.notifyService['success']({\r\n          //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n          // } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        });\r\n      } else if (saveSchema && saveSchema.id) {\r\n        this.conditionService.saveSchema(saveSchema).subscribe(() => {\r\n          self.clearChanges();\r\n          self.notifyService['success']({\r\n            title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.success'), timeout: 3000\r\n          } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        }, (error: any) => {\r\n          self.formErrorService.exception(error.Message, error);\r\n          // console.log(error);\r\n          // self.notifyService['success']({\r\n          //   title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.operate.error'), timeout: 3000\r\n          // } as NotifyOptions);\r\n          self.farrisDialog.close();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  clearChanges() {\r\n    this.motifyList = [];\r\n    this.removeList = [];\r\n  }\r\n\r\n  handleCancelClick() {\r\n    const self = this;\r\n    if (this.motifyList.length) {\r\n      this.motifyList.forEach((item: any) => {\r\n        if (item.type === 'delete') {\r\n          const result = self.removeList.find((el: any) => el.id === item.id);\r\n          if (result.schemaType === 0) {\r\n            self.publicList.push(item);\r\n          } else {\r\n            self.personalList.push(item);\r\n          }\r\n        } else {\r\n          this.publicList.forEach((el: any) => {\r\n            el.isDefault = el.id === item.id ? 1 : 0;\r\n          });\r\n          this.personalList.forEach((el1: any) => {\r\n            el1.isDefault = el1.id === item.id ? 1 : 0;\r\n          });\r\n        }\r\n      });\r\n      this.removeList = [];\r\n      this.motifyList = [];\r\n    }\r\n    this.farrisDialog.close();\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, Injector, LOCALE_ID, OnChanges, SimpleChanges, Input, OnDestroy } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalizeService, DEFAULT_LANGUAGE } from '@qdp/localize';\r\nimport { EventBus } from '@qdp/common';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { Repository } from '@farris/devkit';\r\nimport { FormErrorService } from '@farris/command-services';\r\n\r\n@Component({\r\n  selector: 'saveas-schema-dialog',\r\n  templateUrl: './saveas-schema-dialog.component.html',\r\n  styleUrls: ['./saveas-schema-dialog.component.css']\r\n})\r\nexport class SaveasSchemaDialogComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input() currentSchema: any;\r\n  @Input() queryId: any;\r\n  @ViewChild('farrisDialog') farrisDialog: DialogComponent;\r\n  localizeService: any;\r\n  formInline = true;\r\n  localId: any;\r\n  conditionSchemaName = 'conditionSchemaName' + EventBus.guid();\r\n  schemaName: any = '';\r\n  isDefault = false;\r\n  isSchemaType = 0;\r\n  publicSchema = 'publicSchema' + EventBus.guid();\r\n  personSchema = 'personSchema' + EventBus.guid();\r\n  defaultSchema = 'defaultSchema' + EventBus.guid();\r\n  private repository: any;\r\n  formErrorService: any;\r\n  filterInstance: any;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private msgService: MessagerService,\r\n    private conditionService: ConditionSchemaService,\r\n    private notifyService: NotifyService) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.localId = this.injector.get(LOCALE_ID) || DEFAULT_LANGUAGE;\r\n      this.formInline = this.localId.toLowerCase() === DEFAULT_LANGUAGE;\r\n      this.repository = this.injector.get(Repository);\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const self = this;\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'currentSchema':\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n\r\n  }\r\n\r\n  handleDialogShow() {\r\n    this.farrisDialog.show();\r\n  }\r\n\r\n  handleOKClick() {\r\n    const self = this;\r\n    const data = this.conditionService.schemaList;\r\n    if (!this.schemaName) {\r\n      this.msgService.warning(this.localizeService.getValue('queryFramework.message.validate.notNull'));\r\n      return;\r\n    }\r\n    if (this.schemaName && this.schemaName.length > 15) {\r\n      this.msgService.warning(this.localizeService.getValue('queryFramework.message.lengthValidate'));\r\n      return;\r\n    }\r\n    if (data && data[this.queryId]) {\r\n      for (const key in data[self.queryId]) {\r\n        if (data[self.queryId][key].schemaName === self.schemaName) {\r\n          this.msgService.warning(this.localizeService.getValue('queryFramework.message.saveas'));\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    const params = this.handlerGetEntity();\r\n    if (this.currentSchema && this.currentSchema.id) {\r\n      for (const key in data[self.queryId]) {\r\n        if (data[self.queryId][key].schemaName === self.schemaName) {\r\n          this.msgService.warning(this.localizeService.getValue('queryFramework.message.saveas'));\r\n          return;\r\n        }\r\n      }\r\n      const newValue = JSON.parse(JSON.stringify(this.currentSchema));\r\n      newValue.schemaValue = params;\r\n      newValue.id = '';\r\n      newValue.queryId = self.queryId;\r\n      if (this.filterInstance) {\r\n        if (!newValue.schemaValue) { newValue.schemaValue = {}; }\r\n        newValue.schemaValue['@filterExpressionString@'] = this.filterInstance.getFilterExpression();\r\n      }\r\n      newValue.schemaValue = newValue.schemaValue ? JSON.stringify(newValue.schemaValue) : null;\r\n      newValue.schemaName = self.schemaName;\r\n      newValue.isDefault = self.isDefault ? 1 : 0;\r\n      newValue.schemaType = self.isSchemaType;\r\n      this.conditionService.saveSchema(newValue).subscribe(() => {\r\n        self.notifyService['success']({\r\n          title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.save.success'), timeout: 3000\r\n        } as NotifyOptions);\r\n        self.farrisDialog.close();\r\n      }, (error: any) => {\r\n        self.formErrorService.exception(error.Message, error);\r\n      });\r\n    } else {\r\n      const newValue = {\r\n        schemaName: self.schemaName,\r\n        schemaType: self.isSchemaType,\r\n        schemaValue: null,\r\n        isDefault: self.isDefault ? 1 : 0,\r\n        isProtected: 0,\r\n        queryId: self.queryId\r\n      };\r\n      newValue.schemaValue = params;\r\n      if (this.filterInstance) {\r\n        if (!newValue.schemaValue) { newValue.schemaValue = {}; }\r\n        newValue.schemaValue['@filterExpressionString@'] = this.filterInstance.getFilterExpression();\r\n      }\r\n      newValue.schemaValue = newValue.schemaValue ? JSON.stringify(newValue.schemaValue) : null;\r\n      this.conditionService.saveSchema(newValue).subscribe(() => {\r\n        self.notifyService['success']({\r\n          title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.save.success'), timeout: 3000\r\n        } as NotifyOptions);\r\n        self.farrisDialog.close();\r\n      }, (error: any) => {\r\n        self.formErrorService.exception(error.Message, error);\r\n      });\r\n    }\r\n  }\r\n\r\n  handleCancelClick() {\r\n    this.schemaName = '';\r\n    this.isDefault = false;\r\n    this.isSchemaType = 0;\r\n    this.farrisDialog.close();\r\n  }\r\n\r\n  handleSchemaTypeSelect(value: any) {\r\n    this.isSchemaType = value;\r\n  }\r\n\r\n  handlerGetEntity() {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      params = entitys[0].toJSON();\r\n    }\r\n    return params;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, HostBinding, SimpleChanges, ComponentFactoryResolver, ViewChild, OnChanges, ViewContainerRef, Injector } from '@angular/core';\r\nimport { FilterExpressionComponent } from '@gsp-svc/filtercondition';\r\nimport { QDPCacheUtil, RtfServices } from '@qdp/common';\r\n\r\n@Component({\r\n  selector: 'condition-dialog-tab',\r\n  templateUrl: './condition-dialog-tab.component.html',\r\n  styleUrls: ['./condition-dialog-tab.component.css']\r\n})\r\nexport class ConditionDialogTabComponent implements OnInit, OnChanges {\r\n  @HostBinding('class')\r\n  cls = '';\r\n\r\n  @Input() tabIndex = 0;\r\n  controlIndexChanged = 0;\r\n  @ViewChild(FilterExpressionComponent) filterInstance: FilterExpressionComponent;\r\n  // injector: Injector;\r\n  // @ViewChild('adHost', { read: ViewContainerRef }) adHost: ViewContainerRef;\r\n  // componentFactoryResolver: ComponentFactoryResolver;\r\n  // filterInstance: any;\r\n  @Input() propertyList = [];\r\n  @Input() filterExpressionString = '';\r\n  @Input() showFilterExpression = true;\r\n  @Input() showForm = false;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'propertyList':\r\n            if (newValue) {\r\n              this.propertyList = [...newValue];\r\n            }\r\n            break;\r\n          case 'filterExpressionString':\r\n            if (newValue) {\r\n              this.filterExpressionString = newValue;\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  changeCss() {\r\n    this.cls = this.tabIndex === this.controlIndexChanged ? 'f-utils-fill' : '';\r\n  }\r\n\r\n  createFilterComponent() {\r\n    // if (this.injector) {\r\n    //   this.componentFactoryResolver = this.injector.get(ComponentFactoryResolver);\r\n    //   const componentFactory = this.componentFactoryResolver.resolveComponentFactory(FilterExpressionComponent);\r\n    //   this.adHost.clear();\r\n    //   const componentRef = this.adHost.createComponent(componentFactory);\r\n    //   this.filterInstance = componentRef.instance;\r\n    //   this.filterInstance.propertyList = this.propertyList;\r\n    //   this.filterInstance.filterExpressionString = this.filterExpressionString;\r\n    // }\r\n  }\r\n\r\n  ngOnInit() {\r\n    try {\r\n      if (QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs')) {\r\n        QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs').push(this);\r\n      } else {\r\n        QDPCacheUtil.setCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs', [this]);\r\n      }\r\n    } catch (e) {\r\n    }\r\n    this.changeCss();\r\n  }\r\n\r\n}\r\n","import { Component, Injector, OnInit, ViewChild, OnChanges, SimpleChanges, Input, Output, EventEmitter, OnDestroy, QueryList, ContentChildren, AfterViewInit } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { LocalizeService } from '@qdp/localize';\r\nimport { Entity, Repository } from '@farris/devkit';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { SchemaService } from '@qdp/ide-cmp';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { ConditionManagerDialogComponent } from '../condition-manager-dialog/condition-manager-dialog.component';\r\nimport { SaveasSchemaDialogComponent } from '../saveas-schema-dialog/saveas-schema-dialog.component';\r\nimport { Observable, of, Subject, Subscription } from 'rxjs';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { LcpService, QDPCacheUtil, RtfServices, EventBus } from '@qdp/common';\r\nimport { FinishLoadService } from '@qdp/condition-schema';\r\nimport { ConditionDialogTabComponent } from '../condition-dialog-tab/condition-dialog-tab.component';\r\nimport { BefRepository } from '@farris/bef';\r\nimport { FormErrorService } from '@farris/command-services';\r\n\r\n@Component({\r\n  selector: 'condition-dialog',\r\n  templateUrl: './condition-dialog.component.html',\r\n  styleUrls: ['./condition-dialog.component.css']\r\n})\r\nexport class ConditionDialogComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit { // OnChanges,\r\n  schemaId = '';\r\n  @Input() showFilterExpression = true;\r\n  @Input() queryId;\r\n  @Input() tabIndex = 0;\r\n  @Input() beforeQuery: (emptyObj?: {}) => Observable<any>;\r\n  @Output() queryEvent = new EventEmitter<any>();\r\n  dialogInitEvent = new EventEmitter<any>();\r\n  idChanged = new Subject<any>();\r\n  @ViewChild('farrisDialog') farrisDialog: DialogComponent;\r\n  @ContentChildren(ConditionDialogTabComponent) conditionTabs: QueryList<ConditionDialogTabComponent>;\r\n  getConditionTabs() {\r\n    try {\r\n      if (this.conditionTabs && this.conditionTabs.length) {\r\n        return this.conditionTabs;\r\n      } else if (QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs') && QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs').length) {\r\n        return QDPCacheUtil.getCache(RtfServices.getTabId('condition-dialog-tabs') + 'condition-dialog-tabs');\r\n      }\r\n    } catch (e) {\r\n      return this.conditionTabs;\r\n    }\r\n  }\r\n\r\n  @ViewChild(ConditionManagerDialogComponent) conditionManagerDialog: ConditionManagerDialogComponent;\r\n  @ViewChild(SaveasSchemaDialogComponent) saveasSchemaDialogComponent: SaveasSchemaDialogComponent;\r\n  localizeService: any;\r\n  menuShow = false;\r\n  defaultSchemaName = 'æ¡ä»¶æ¹æ¡';\r\n  currentSchema: any;\r\n  publicList = [];\r\n  personalList = [];\r\n  controlIndexChanged = 0;\r\n  queryCount: any;\r\n  notifyService: NotifyService;\r\n  private subscriptions: Subscription[] = [];\r\n  private closeType = '';\r\n  formErrorService: any;\r\n\r\n  public get Id() {\r\n    return this.schemaId;\r\n  }\r\n  public set Id(value: any) {\r\n    this.schemaId = value;\r\n    this.idChanged.next(value);\r\n  }\r\n\r\n  propertyList = [];\r\n  filterExpressionString = '';\r\n  advanceFilterTab: any;\r\n  schemaService: SchemaService;\r\n  lcpService: LcpService;\r\n  tabId: any;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private conditionService: ConditionSchemaService,\r\n    private repository: Repository<any>,\r\n    private cacheService: CacheService,\r\n    private finishLoasService: FinishLoadService) {\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.notifyService = this.injector.get(NotifyService);\r\n      this.defaultSchemaName = this.localizeService.getValue('queryFramework.ispreName');\r\n      this.formErrorService = this.injector.get(FormErrorService);\r\n      this.schemaService = this.injector.get(SchemaService);\r\n      this.lcpService = this.injector.get(LcpService);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.tabId = RtfServices.getTabId(this.queryId);\r\n    this.queryCount = 1;\r\n    this.conditionDialogInit();\r\n    if (!this.beforeQuery) {\r\n      this.beforeQuery = (params: any) => of(true);\r\n    }\r\n    QDPCacheUtil.setCache(this.tabId + 'advanceTemplate-condition-dialog', this);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    EventBus.dispatch(this.tabId + 'advanceTemplate-condition-dialog-dialogInitEvent', {});\r\n    this.dialogInitEvent.emit(true);\r\n  }\r\n\r\n  conditionDialogInit() {\r\n    const self = this;\r\n    this.subscriptions.push(self.conditionService.getSchemaList(self.queryId, '', '').subscribe());\r\n    this.subscriptions.push(self.conditionService.schemaListChange.subscribe((result: any) => {\r\n      const data = result.schemaInfo;\r\n      if (data && data[self.queryId]) {\r\n        self.publicList = [];\r\n        self.personalList = [];\r\n        for (const key in data[self.queryId]) {\r\n          if (data[self.queryId][key].schemaType === 0) {\r\n            self.publicList.push(data[self.queryId][key]);\r\n          } else {\r\n            self.personalList.push(data[self.queryId][key]);\r\n          }\r\n        }\r\n        let flag = false;\r\n        if (self.schemaId) {\r\n          let index = self.publicList.findIndex((item: any) => item.id === self.schemaId);\r\n          if (index >= 0) {\r\n            flag = true;\r\n            self.currentSchema = self.publicList[index];\r\n            self.initCondition(self.currentSchema);\r\n          }\r\n          index = self.personalList.findIndex((item: any) => item.id === self.schemaId);\r\n          if (index >= 0) {\r\n            flag = true;\r\n            self.currentSchema = self.personalList[index];\r\n            self.initCondition(self.currentSchema);\r\n          }\r\n        }\r\n        if (!flag && self.conditionService.isDefaultSchema && self.conditionService.isDefaultSchema[self.queryId] && self.conditionService.isDefaultSchema[self.queryId].id) {\r\n          self.currentSchema = self.conditionService.isDefaultSchema[self.queryId];\r\n          self.schemaId = self.conditionService.isDefaultSchema[self.queryId].id;\r\n          self.defaultSchemaName = self.currentSchema.schemaName;\r\n        }\r\n        this.subscriptions.push(this.finishLoasService.finish.subscribe((data) => {\r\n          self.initCondition(self.currentSchema);\r\n        }));\r\n      } else {\r\n        self.defaultSchemaName = self.localizeService.getValue('queryFramework.ispreName');\r\n      }\r\n    }));\r\n    this.subscriptions.push(self.idChanged.subscribe((schemaId: any) => {\r\n      if (schemaId) {\r\n        self.subscriptions.push(self.conditionService.getSchema(schemaId, self.queryId, true).subscribe((data: any) => {\r\n          if (data) {\r\n            self.currentSchema = data;\r\n            self.defaultSchemaName = self.currentSchema.schemaName;\r\n            self.initCondition(self.currentSchema);\r\n            if (self.controlIndexChanged === 1) {\r\n              self.handleInfoChanged(self.controlIndexChanged);\r\n            }\r\n          }\r\n        }));\r\n      }\r\n    }));\r\n  }\r\n\r\n  private initCondition(schema: any) {\r\n    const self = this;\r\n    if (schema) { // é¢å¶é»è®¤å¯¹è±¡\r\n      if (schema.schemaValue && typeof (schema.schemaValue) === 'object') {\r\n        if (schema && schema.schemaValue && this.repository.entityCollection.getAllEntities() && this.repository.entityCollection.getAllEntities().length) {\r\n          schema.schemaValue.id = this.repository.entityCollection.getAllEntities()[0]['id'];\r\n        }\r\n        self.repository.entityCollection.getAllEntities()[0].load(schema.schemaValue);\r\n        self.filterExpressionString = '';\r\n        if (schema.schemaValue.hasOwnProperty('@filterExpressionString@')) {\r\n          self.filterExpressionString = schema.schemaValue['@filterExpressionString@'];\r\n        }\r\n      } else {\r\n        if (self.repository.entityCollection.getAllEntities() && self.repository.entityCollection.getAllEntities()[0]) {\r\n          const obj = {\r\n            id: self.repository.entityCollection.getAllEntities()[0]['id']\r\n          };\r\n          self.repository.entityCollection.getAllEntities()[0].load(obj);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getPropertyList(item: any) {\r\n    this.subscriptions.push(this.lcpService.getCol({\r\n      schemaId: '1',\r\n      entityData: JSON.stringify({ 'id': 'undefined_null' }),\r\n      pageIndex: 1,\r\n      pageSize: 0,\r\n      qoManagerCode: QDPCacheUtil.getCache(this.tabId + 'qoManagerCode'),\r\n      controlType: QDPCacheUtil.getCache(this.tabId + 'controlType'),\r\n      voCode: QDPCacheUtil.getCache(this.tabId + 'voId')\r\n    }, QDPCacheUtil.getCache(this.tabId + 'queryRelativeUrl')).subscribe(value => {\r\n      if (value && value.dynamicCols && value.dynamicCols.length) {\r\n        this.analysisColListData(value.dynamicCols, 'col');\r\n        if (this.advanceFilterTab) {\r\n          this.advanceFilterTab.propertyList = [...this.propertyList];\r\n          this.advanceFilterTab.filterExpressionString = this.filterExpressionString;\r\n        }\r\n        item.createFilterComponent();\r\n      }\r\n    }));\r\n  }\r\n\r\n  private analysisColListData(newValue: any, type?: any) {\r\n    this.propertyList = [];\r\n    newValue.forEach(col => {\r\n      this.recursiveAnalysisColListData(null, col, type);\r\n    });\r\n  }\r\n\r\n  private recursiveAnalysisColListData(children: any, col: any, type?: any) {\r\n    if (col) {\r\n      const index = this.propertyList.findIndex((item: any) => item.Code === col.bindField);\r\n      if (index < 0) {\r\n        const node = {};\r\n        node['value'] = col.bindField;\r\n        node['propertyFieldType'] = this.getDataType(col.type);\r\n        node['text'] = col.name;\r\n        this.propertyList.push(node);\r\n      } else if (type !== 'col') {\r\n        this.propertyList[index]['text'] = col.name;\r\n      }\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveAnalysisColListData(col.childList, null);\r\n      }\r\n    } else {\r\n      children.forEach((c: any) => {\r\n        const index = this.propertyList.findIndex((item: any) => item.Code === c.bindField);\r\n        if (index < 0) {\r\n          const node = {};\r\n          node['value'] = c.bindField;\r\n          node['propertyFieldType'] = this.getDataType(c.type);\r\n          node['text'] = c.name;\r\n          this.propertyList.push(node);\r\n        } else if (type !== 'col') {\r\n          this.propertyList[index]['text'] = c.name;\r\n        }\r\n        if (c.childList && c.childList.length) {\r\n          this.recursiveAnalysisColListData(c.childList, null);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private getDataType(type: any) {\r\n    let result = 0;\r\n    switch (type) {\r\n      case 'string':\r\n      case 'text':\r\n        result = 0;\r\n        break;\r\n      case 'integer':\r\n        result = 2;\r\n        break;\r\n      case 'decimal':\r\n        result = 4;\r\n        break;\r\n      case 'boolean':\r\n        result = 8;\r\n        break;\r\n      case 'date':\r\n      case 'dateTime':\r\n        result = 9;\r\n        break;\r\n      case 'byte':\r\n        result = 6;\r\n        break;\r\n      case 'char':\r\n        result = 7;\r\n        break;\r\n      case 'array':\r\n        result = 10;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscriptions && this.subscriptions.length) {\r\n      for (const subscription of this.subscriptions) {\r\n        subscription.unsubscribe();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n  }\r\n\r\n  handleDialogShow() {\r\n    this.farrisDialog.show();\r\n  }\r\n\r\n  handleDialogClose() {\r\n    this.farrisDialog.close();\r\n  }\r\n\r\n  handleSchemaManagerDialog() {\r\n    this.conditionManagerDialog.handleDialogShow();\r\n    this.menuShow = !this.menuShow;\r\n  }\r\n\r\n  handleSaveasSchemaDialog() {\r\n    this.saveasSchemaDialogComponent.schemaName = '';\r\n    this.saveasSchemaDialogComponent.isDefault = false;\r\n    this.saveasSchemaDialogComponent.isSchemaType = 0;\r\n    this.menuShow = false;\r\n    this.saveasSchemaDialogComponent.handleDialogShow();\r\n    if (this.advanceFilterTab && this.advanceFilterTab.filterInstance) {\r\n      this.saveasSchemaDialogComponent.filterInstance = this.advanceFilterTab.filterInstance;\r\n    }\r\n  }\r\n\r\n  handleSchemaMenu() {\r\n    this.menuShow = !this.menuShow;\r\n  }\r\n\r\n  handleInfoChanged($event: any) {\r\n    const self = this;\r\n    this.controlIndexChanged = $event;\r\n    if (this.getConditionTabs() && this.getConditionTabs().length) {\r\n      this.getConditionTabs().forEach((item: any) => {\r\n        item.controlIndexChanged = $event;\r\n        item.changeCss();\r\n        if (item.tabIndex === 1 && self.showFilterExpression) {\r\n          self.advanceFilterTab = item;\r\n          self.getPropertyList(item);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSchemaSelected($event: any) {\r\n    this.defaultSchemaName = $event.schemaName;\r\n    this.menuShow = !this.menuShow;\r\n    this.currentSchema = $event;\r\n    this.Id = this.currentSchema.id;\r\n  }\r\n\r\n  handleQueryClick() {\r\n    const params = this.handlerGetEntity();\r\n    this.beforeQuery().subscribe((result) => {\r\n      if (result == true) {\r\n        EventBus.dispatch('openAdvanceTemplateDialog', {});\r\n        this.cacheService.set(this.tabId, params);\r\n        EventBus.dispatch(this.tabId + 'advanceTemplate-condition-dialog-queryEvent', this.queryCount++);\r\n        this.queryEvent.emit(this.queryCount++);\r\n        this.closeType = 'query';\r\n        this.handleDialogClose();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSaveClick() {\r\n    const self = this;\r\n    const params = this.handlerGetEntity();\r\n    if (this.currentSchema) {\r\n      this.currentSchema.schemaValue = params;\r\n      const newSchema = JSON.parse(JSON.stringify(this.currentSchema));\r\n      if (this.advanceFilterTab && this.advanceFilterTab.filterInstance) {\r\n        if (!newSchema.schemaValue) { newSchema.schemaValue = {}; }\r\n        newSchema.schemaValue['@filterExpressionString@'] = this.advanceFilterTab.filterInstance.getFilterExpression();\r\n      }\r\n      newSchema.schemaValue = newSchema.schemaValue ? JSON.stringify(newSchema.schemaValue) : null;\r\n      this.conditionService.saveSchema(newSchema).subscribe(() => {\r\n        self.notifyService['success']({\r\n          title: self.localizeService.getValue('queryFramework.message.info.title'), msg: self.localizeService.getValue('queryFramework.message.save.success'), timeout: 3000\r\n        } as NotifyOptions);\r\n      }, (error: any) => {\r\n        self.formErrorService.exception(this.localizeService.getValue('ideCmp.schemaManager.message.validate.qdpModifyPublicSchema'), error);\r\n      });\r\n    }\r\n  }\r\n\r\n  handlerGetEntity() {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      params = entitys[0].toJSON();\r\n      if (this.advanceFilterTab && this.advanceFilterTab.filterInstance) {\r\n        if (!params) { params = { id: 'undefined_null' }; }\r\n        params['@filterExpressionString@'] = this.advanceFilterTab.filterInstance.getFilterExpression();\r\n      } else if (this.filterExpressionString) {\r\n        if (!params) { params = { id: 'undefined_null' }; }\r\n        params['@filterExpressionString@'] = this.filterExpressionString;\r\n      }\r\n    }\r\n    return params;\r\n  }\r\n\r\n  beforeOpen = () => true;\r\n\r\n  handlebeforeClose = () => {\r\n    // const self = this;\r\n    // if (this.closeType !== 'query') {\r\n    //   if (self.repository.entityCollection.getAllEntities() && self.repository.entityCollection.getAllEntities()[0]) {\r\n    //     const obj = {\r\n    //       id: self.repository.entityCollection.getAllEntities()[0]['id']\r\n    //     };\r\n    //     self.repository.entityCollection.getAllEntities()[0].load(obj);\r\n    //     (self.repository as BefRepository<Entity>).entityManager.clearAllEntityChanges();\r\n    //     if (this.advanceFilterTab) {\r\n    //       this.advanceFilterTab.filterExpressionString = '';\r\n    //     }\r\n    //   }\r\n    // }\r\n    // this.closeType = '';\r\n    return of(true);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, TemplateRef, Optional, Injector, ViewChild, AfterViewInit, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { CloudprintService, OutputType, FileType, RetrieveParam } from '@gsp-svc/cloudprint';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { IntegrationPrintService, QDPCacheUtil, RtfServices } from '@qdp/common';\r\nimport { LocalizeService, QDP_EN_US } from '@qdp/localize';\r\nimport { QueryFrameworkPaginationComponent } from '../qf-pagination/qf-pagination.component';\r\nimport { ConditionDialogComponent } from '../condition-dialog/condition-dialog.component';\r\nimport { ParameterUtils } from '@qdp/spread';\r\n\r\n@Component({\r\n  selector: 'query-framework-toolbar',\r\n  templateUrl: './qf-toolbar.component.html',\r\n  styleUrls: ['./qf-toolbar.component.css']\r\n})\r\nexport class QueryFrameworkToolbarComponent implements OnInit, AfterViewInit, OnChanges {\r\n  @Input() queryId: any;\r\n  @Input() groupType: any;\r\n  @Input() queryName: any;\r\n  @Input() controlType: any;\r\n  @Input() isMultiForm: boolean; // æ¯å¦åµå¥å¼è¡¨å\r\n  editorParams: any;\r\n  @Input() schemaId: any;\r\n  @Input() schemaInfo: any;\r\n  @Input() colList: any;\r\n  @Input() pageInfo: any;\r\n  @Input() isShowToolbar: any = true;\r\n  @Input() queryRelativeUrl: any;\r\n  @Input() qoManagerCode: any;\r\n  @Input() conditionExpression: any;\r\n  @Output() schemaSelected = new EventEmitter<any>();\r\n  @Output() dialogBeforeClose = new EventEmitter<any>();\r\n  @Output() pageChange = new EventEmitter<any>();\r\n  @Output() exportExcel = new EventEmitter<any>();\r\n  @Output() printIntegration = new EventEmitter<any>();\r\n  @Output() printPreview = new EventEmitter<any>();\r\n  @Output() refreshEvent = new EventEmitter<any>();\r\n  @Output() filterCondition = new EventEmitter<any>();\r\n  @Output() clearCache = new EventEmitter<any>();\r\n  @Output() expendCollapseLevel = new EventEmitter<any>();\r\n  @Output() clearSort = new EventEmitter<any>();\r\n  @Input() inputTemplate: TemplateRef<any>;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() qdpView: any;\r\n  @Input() templateType: any;\r\n  @Input() showSchemaManager: any = true;\r\n  @Input() showExport: any = true;\r\n  @Input() showReFresh: any = true;\r\n  @Input() showFilter: any = true;\r\n  @Input() showPrint: any = true;\r\n  @Input() showClearSort: any = true;\r\n  @Input() showClearCache: any = true;\r\n  @Input() showPreSchema: any = true;\r\n  // @Input() showFormPrint: any = true;\r\n  // @Input() showPagination: any = true;\r\n  @Input() formPrintOption = {\r\n    isShowFormPrint: false,\r\n    printBEId: '',\r\n    printFormIdField: '',\r\n    dim1: '',\r\n    dim2: ''\r\n  };\r\n  isShowMore = false; // æ¯å¦æ¾ç¤ºæ´å¤\r\n  isClickShowMore = false; // ç¹å»åæ¯å¦æ¾ç¤ºæ´å¤\r\n  localizeService: any;\r\n  localizePageInfo: any;\r\n  cprintService: any;\r\n  @ViewChild(QueryFrameworkPaginationComponent) paginationComponent: QueryFrameworkPaginationComponent;\r\n  @Input() conditionDialog: ConditionDialogComponent;\r\n  getConditionDialog() {\r\n    if (this.conditionDialog) {\r\n      return this.conditionDialog;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog')) {\r\n      return QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog');\r\n    }\r\n  }\r\n\r\n  svgShuaxin = true;\r\n  svgFilter = true;\r\n  svgDimesion = true;\r\n  svgClearCache = true;\r\n  svgPrint = true;\r\n  isExpand = false;\r\n  printShow = false;\r\n  integrationPrintService: IntegrationPrintService;\r\n  msgService: MessagerService;\r\n  cache: CacheService;\r\n  tabId: any;\r\n\r\n  constructor(private cloudprintService: CloudprintService, private cacheservice: CacheService, @Optional() private injector: Injector) {\r\n    this.cprintService = this.cloudprintService;\r\n    if (this.injector) {\r\n      this.localizeService = this.injector.get(LocalizeService);\r\n      this.integrationPrintService = new IntegrationPrintService(this.cloudprintService);\r\n      this.msgService = this.injector.get(MessagerService);\r\n      this.cache = this.injector.get(CacheService);\r\n      this.localizePageInfo = this.localizeService.getValue('queryFramework.pageInfo');\r\n      this.tabId = RtfServices.getTabId(this.queryId);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.controlType === 'list' || this.controlType === 'treelist') {\r\n      this.printShow = true;\r\n    } else {\r\n      this.printShow = false;\r\n    }\r\n    if (this.inputTemplate) {\r\n      this.isShowMore = true;\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        switch (changeName) {\r\n          case 'queryId':\r\n            this.tabId = RtfServices.getTabId(newValue);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  handleBeforeClose(id: any) {\r\n    this.dialogBeforeClose.emit(id);\r\n  }\r\n\r\n  refresh() {\r\n    this.refreshEvent.emit();\r\n  }\r\n\r\n  filter() {\r\n    this.filterCondition.emit();\r\n  }\r\n\r\n  handleClearSort() {\r\n    this.clearSort.emit();\r\n  }\r\n\r\n  condition() {\r\n    if (this.getConditionDialog()) {\r\n      this.getConditionDialog().handleDialogShow();\r\n      this.getConditionDialog().handleInfoChanged(0);\r\n      this.getConditionDialog().Id = this.getConditionDialog().schemaId;\r\n    }\r\n  }\r\n\r\n  handleDimesionSetting() {\r\n    this.qdpView.toggle();\r\n  }\r\n\r\n  handlePrintIntegration($event: any) {\r\n    this.printIntegration.emit($event);\r\n  }\r\n\r\n  handlePrintPreview($event: any) {\r\n    this.printPreview.emit($event);\r\n  }\r\n\r\n  handleClearCache() {\r\n    this.clearCache.emit();\r\n  }\r\n\r\n  print() {\r\n    if (this.controlType !== 'crosstab' && this.controlType !== 'charts') {\r\n      const params = this.createParameters(Object.assign({}, {\r\n        queryId: this.queryId,\r\n        controlType: this.controlType,\r\n        schemaId: this.schemaId,\r\n        filtercondition: this.conditionExpression,\r\n        qoManagerCode: this.qoManagerCode,\r\n        voId: this.voId\r\n      }, { pageIndex: 0, pageSize: 0 }))\r\n\r\n      const sheet = this.qdpView.spread.getActiveSheet();\r\n      const selection = sheet.getSelections();\r\n      let formIdField = '';\r\n      let beId = '';\r\n      let dim1 = '';\r\n      let dim2 = '';\r\n      if (this.formPrintOption && this.formPrintOption.printBEId) {\r\n        beId = this.formPrintOption.printBEId;\r\n        params['beId'] = beId;\r\n      } else {\r\n        this.msgService.warning(this.localizeService.getValue('queryFramework.message.validate.beMetadataIdEmpty'));\r\n        return;\r\n      }\r\n      if (this.formPrintOption && this.formPrintOption.printFormIdField) {\r\n        formIdField = this.formPrintOption.printFormIdField;\r\n        params['formIdField'] = formIdField;\r\n      } else {\r\n        this.msgService.warning(this.localizeService.getValue('queryFramework.message.validate.formIdFieldEmpty'));\r\n        return;\r\n      }\r\n      if (this.formPrintOption && this.formPrintOption.dim1) {\r\n        dim1 = this.formPrintOption.dim1;\r\n      }\r\n      if (this.formPrintOption && this.formPrintOption.dim2) {\r\n        dim2 = this.formPrintOption.dim2;\r\n      }\r\n      let ids = '';\r\n      if (selection && selection.length) {\r\n        for (let s = 0; s < selection.length; s++) {\r\n          for (let i = selection[s].row; i < (selection[s].rowCount + selection[s].row); i++) {\r\n            const dataItem = sheet.getDataItem(i);\r\n            if (dataItem && dataItem.hasOwnProperty(formIdField)) {\r\n              ids += ',' + dataItem[formIdField];\r\n            }\r\n          }\r\n        }\r\n        ids = ids.substring(1);\r\n        this.integrationPrintService.printByIdsWithDimension(beId, ids, dim1, dim2);\r\n      } else {\r\n        ids = '1';\r\n        this.integrationPrintService.printWithDimensionCustomDataSource(beId, ids, dim1, dim2, 'InternalService', 'com.inspur.edp.qdp.lcp.print.FormPrintDataManager', params);\r\n      }\r\n      sheet.clearSelection();\r\n    }\r\n  }\r\n\r\n  handleHover(type: any, state: any) {\r\n    switch (type) {\r\n      case 0:\r\n        this.svgShuaxin = state === 1;\r\n        break;\r\n      case 1:\r\n        this.svgFilter = state === 1;\r\n        break;\r\n      case 2:\r\n        this.svgDimesion = state === 1;\r\n        break;\r\n      case 3:\r\n        this.svgClearCache = state === 1;\r\n        break;\r\n      case 4:\r\n        this.svgPrint = state == 1;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleExpand($event) {\r\n    this.isExpand = $event;\r\n    this.expendCollapseLevel.emit(this.isExpand);\r\n  }\r\n\r\n  private createParameters(option: any) {\r\n    const tabId = RtfServices.getTabId(option.queryId);\r\n    let entityData: any;\r\n    if (this.cache.get(tabId)) {\r\n      entityData = JSON.stringify(this.cache.get(tabId));\r\n    } else if (this.cache.get(option.queryId)) {\r\n      entityData = JSON.stringify(this.cache.get(option.queryId));\r\n    } else {\r\n      entityData = JSON.stringify({ 'id': 'undefined_null' });\r\n    }\r\n    const params = {\r\n      entityData: entityData,\r\n      extendCond: this.cache.get(tabId + 'extendCond') ? this.cache.get(tabId + 'extendCond') : option.extendCond,\r\n      pageIndex: option.pageIndex,\r\n      pageSize: option.pageSize,\r\n      schemaId: option.schemaId && option.schemaId !== 'prefab' ? option.schemaId : '1',\r\n      filterCond: option.filterCondition ? option.filterCondition : (this.cache.get(tabId + 'filtercondition') ? this.cache.get(tabId + 'filtercondition') : ''),\r\n      qoManagerCode: option.qoManagerCode ? option.qoManagerCode : '',\r\n      voCode: option.voId ? option.voId : '',\r\n    };\r\n    try {\r\n      const parameterEntityData = JSON.parse(entityData);\r\n      if (parameterEntityData.hasOwnProperty('@filterExpressionString@')) {\r\n\r\n        const filterExpression = params && params.filterCond ? JSON.parse(params.filterCond) : null;\r\n        if (!filterExpression) {\r\n          params.filterCond = parameterEntityData['@filterExpressionString@'];\r\n        } else {\r\n          const advanceFilterExpression = JSON.parse(parameterEntityData['@filterExpressionString@']);\r\n          advanceFilterExpression.expressItems = advanceFilterExpression.expressItems.concat(filterExpression.expressItems);\r\n          params.filterCond = JSON.stringify(advanceFilterExpression);\r\n        }\r\n      }\r\n    } catch (e) {\r\n    }\r\n    if (option.controlType) {\r\n      params['controlType'] = option.controlType;\r\n    }\r\n    if (option.excelExportName) {\r\n      params['excelExportName'] = option.excelExportName;\r\n    }\r\n    if (option.printIntegration) {\r\n      params['printIntegration'] = option.printIntegration ? JSON.stringify(option.printIntegration) : '';\r\n    }\r\n\r\n    return params;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ContentChild, TemplateRef, AfterViewInit, ViewChild, OnDestroy, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { QdpViewComponent, RenderService } from '@qdp/spread';\r\nimport { NgxEchartsDirective, LcpBindingDataDirective, FormBindingDataDirective } from '@qdp/echarts';\r\nimport { SchemaService } from '@qdp/ide-cmp';\r\nimport { FilterService } from '@gsp-svc/filtercondition';\r\nimport { FilterManagerService, ParasMappingManagerService, RtfServices, QDPCacheUtil } from '@qdp/common';\r\nimport { EventBus } from '@qdp/common';\r\nimport { QueryFrameworkToolbarComponent } from '../qf-toolbar/qf-toolbar.component';\r\nimport { ConditionDialogComponent } from '../condition-dialog/condition-dialog.component';\r\n\r\ndeclare var gspframeworkService: any;\r\n\r\n@Component({\r\n  selector: 'query-framework-layout',\r\n  templateUrl: './qf-layout.component.html',\r\n  styleUrls: ['./qf-layout.component.css']\r\n})\r\nexport class QueryFrameworkLayoutComponent implements OnInit, OnDestroy, AfterViewInit, OnChanges {\r\n  @Input() queryId: any;\r\n  @Input() groupType: any;\r\n  @Input() qoManagerCode: any;\r\n  @Input() controlType: any;\r\n  @Input() queryName: any;\r\n  @Input() isShowToolbar = true;\r\n  @Input() isMultiForm = false; // æ¯å¦åµå¥å¼è¡¨å\r\n  @Input() queryRelativeUrl: any;\r\n  @Input() qoId: any;\r\n  @Input() voId: any;\r\n  @Input() templateType: any;\r\n  @Input() isInit = true;\r\n  @Input() toolbarOption = {\r\n    showPreSchema: true,\r\n    showSchemaManager: true,\r\n    showExport: true,\r\n    showReFresh: true,\r\n    showFilter: true,\r\n    showPrint: true,\r\n    showClearSort: true,\r\n    showClearCache: true\r\n  }\r\n  @ContentChild('qdp-view') qdpView: QdpViewComponent;\r\n  toolBarEvent = 'toolBarEvent' + EventBus.guid();\r\n  tabId: any;\r\n\r\n  getQdpView() {\r\n    if (this.qdpView) {\r\n      return this.qdpView;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + this.queryId + this.controlType + 'qdpview')) {\r\n      return QDPCacheUtil.getCache(this.tabId + this.queryId + this.controlType + 'qdpview');\r\n    }\r\n  }\r\n\r\n  @ContentChild('lcpBindingData') charts: LcpBindingDataDirective;\r\n  getCharts() {\r\n    if (this.charts) {\r\n      return this.charts;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + this.queryId + 'lcp-charts')) {\r\n      return QDPCacheUtil.getCache(this.tabId + this.queryId + 'lcp-charts');\r\n    }\r\n  }\r\n\r\n  @ContentChild('formBindingData') formdatasource: FormBindingDataDirective;\r\n  getFormDatasource() {\r\n    if (this.formdatasource) {\r\n      return this.formdatasource;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + this.queryId + 'form-charts')) {\r\n      return QDPCacheUtil.getCache(this.tabId + this.queryId + 'form-charts');\r\n    }\r\n  }\r\n\r\n  @Input() conditionDialog: ConditionDialogComponent;\r\n  getConditionDialog() {\r\n    if (this.conditionDialog) {\r\n      return this.conditionDialog;\r\n    } else if (QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog')) {\r\n      return QDPCacheUtil.getCache(this.tabId + 'advanceTemplate-condition-dialog');\r\n    }\r\n  }\r\n  @ViewChild(QueryFrameworkToolbarComponent) toolbarComponent: QueryFrameworkToolbarComponent;\r\n  @Output() contentSizeChange = new EventEmitter<any>();\r\n  @Input() formPrintOption = {\r\n    isShowFormPrint: false,\r\n    printBEId: '',\r\n    printFormIdField: ''\r\n  };\r\n  /**\r\n   * æ¨¡æ¿ä½ä¸ºåæ°\r\n   */\r\n  @Input() inputTemplate: TemplateRef<any>;\r\n  size = {\r\n    height: '500px',\r\n    width: '300px'\r\n  };\r\n  schemaInfo: any;\r\n  colList: any;\r\n  pageInfo: any = {};\r\n  schemaId: any;\r\n  pageIndex: any = 1;\r\n  conditionExpression: any;\r\n  co: any = {\r\n    NodeType: 'QueryNode',\r\n    IsBe: true,\r\n    ContainElements: [],\r\n    Code: 'QueryNode',\r\n    Name: 'QueryNdoe',\r\n    BizEntityID: EventBus.guid()\r\n  };\r\n  subscriptions: any = [];\r\n\r\n  constructor(private schemaService: SchemaService, private renderService: RenderService, private filter: FilterService, private filterService: FilterManagerService, private parasMappingManagerService: ParasMappingManagerService) {\r\n    const self = this;\r\n    this.tabId = RtfServices.getTabId(this.queryId);\r\n\r\n    this.subscriptions = [];\r\n    this.subscriptions.push(self.schemaService.schemaInfo.subscribe(value => {\r\n      try {\r\n        if (value) {\r\n          const schemaInfoAll = Object.assign({}, value);\r\n          if (schemaInfoAll.schemaList && schemaInfoAll.schemaList[this.queryId]) {\r\n            schemaInfoAll.schemaList = schemaInfoAll.schemaList[this.queryId];\r\n            if (!self.schemaId) {\r\n              if (schemaInfoAll.isDefaultSchema && schemaInfoAll.isDefaultSchema.id) {\r\n                self.initColListData(schemaInfoAll.isDefaultSchema.schemaValue.columnOption.colList);\r\n              }\r\n            } else if (self.schemaId !== '1' && self.schemaId !== 'prefab' && self.schemaId !== 'public_schema' && self.schemaId !== 'person_schema') {\r\n              self.initColListData(schemaInfoAll.schemaList[self.schemaId].schemaValue.columnOption.colList);\r\n            }\r\n          } else {\r\n            schemaInfoAll.schemaList = null;\r\n            self.initColListData(schemaInfoAll.preSchema.schemaValue.columnOption.colList);\r\n          }\r\n          self.schemaInfo = schemaInfoAll;\r\n        }\r\n      } catch (e) {\r\n        // console.log(e); \r\n      }\r\n    }));\r\n    this.subscriptions.push(self.schemaService.colList.subscribe(value => {\r\n      self.colList = value;\r\n      if (value && value.length) {\r\n        this.initColListData(value, 'col');\r\n      }\r\n    }));\r\n    // å¦ææç­éæ¹æ¡\r\n    if (this.filterService && this.filterService.isFilterQDP) {\r\n      // this.filterService.isFilterQDP.observers = [];\r\n      this.subscriptions.push(self.filterService.isFilterQDP.subscribe(data => {\r\n        setTimeout(function () {\r\n          if (data) {\r\n            if (self.toolbarComponent && self.toolbarComponent.paginationComponent) {\r\n              self.toolbarComponent.paginationComponent.initPageInfo();\r\n              self.pageIndex = self.toolbarComponent.paginationComponent.pagination.pageIndex = 1;\r\n              self.pageInfo = self.toolbarComponent.paginationComponent.pagination;\r\n            }\r\n            self.refresh();\r\n          }\r\n        });\r\n      }));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscriptions && this.subscriptions.length) {\r\n      for (const subscription of this.subscriptions) {\r\n        subscription.unsubscribe();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n\r\n    if (this.controlType !== 'crosstab') {\r\n      this.subscriptions.push(self.schemaService.pageInfoChange.subscribe(value => {\r\n        self.pageInfo = value;\r\n      }));\r\n    }\r\n    // if (this.qoId) {\r\n    if (this.isInit == true) {\r\n      this.subscriptions.push(self.filterService.getFilter(self.qoManagerCode ? self.qoManagerCode : self.queryId, self.queryId, self.queryRelativeUrl, 1, this.groupType).subscribe(data => {\r\n        if (data) {\r\n          self.conditionExpression = JSON.stringify(data.filter);\r\n        }\r\n      }));\r\n    }\r\n    // this.subscriptions.push(self.parasMappingManagerService.getMetaDataInfoById(self.qoId).subscribe(voInfo => {\r\n    //   if (voInfo) {\r\n    //     self.co = JSON.parse(voInfo.content).QueryNode;\r\n    //   }\r\n    // }));\r\n    // }\r\n\r\n    if (this.isMultiForm) {\r\n      const divShowToolBarDom = document.getElementById(this.toolBarEvent) as HTMLElement;\r\n      divShowToolBarDom.addEventListener('mouseover', () => {\r\n        this.isShowToolbar = true;\r\n      });\r\n      divShowToolBarDom.addEventListener('mouseout', () => {\r\n        this.isShowToolbar = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  private initColListData(newValue: any, type?: any) {\r\n    newValue.forEach(col => {\r\n      this.recursiveInitColListData(null, col, type);\r\n    });\r\n  }\r\n\r\n  private recursiveInitColListData(children: any, col: any, type?: any) {\r\n    if (col) {\r\n      const index = this.co.ContainElements.findIndex((item: any) => item.Code === col.bindField);\r\n      if (index < 0) {\r\n        const node = {};\r\n        node['ID'] = EventBus.guid();\r\n        node['Code'] = col.bindField;\r\n        node['LabelID'] = col.bindField;\r\n        node['MDataType'] = this.getDataType(col.type);\r\n        node['NodeType'] = 'QueryProperty';\r\n        node['Name'] = col.name;\r\n        this.co.ContainElements.push(node);\r\n      } else if (type !== 'col') {\r\n        this.co.ContainElements[index]['Name'] = col.name;\r\n      }\r\n      if (col.childList && col.childList.length) {\r\n        this.recursiveInitColListData(col.childList, null);\r\n      }\r\n    } else {\r\n      children.forEach((c: any) => {\r\n        const index = this.co.ContainElements.findIndex((item: any) => item.Code === c.bindField);\r\n        if (index < 0) {\r\n          const node = {};\r\n          node['ID'] = EventBus.guid();\r\n          node['Code'] = c.bindField;\r\n          node['LabelID'] = c.bindField;\r\n          node['MDataType'] = this.getDataType(c.type);\r\n          node['NodeType'] = 'QueryProperty';\r\n          node['Name'] = c.name;\r\n          this.co.ContainElements.push(node);\r\n        } else if (type !== 'col') {\r\n          this.co.ContainElements[index]['Name'] = c.name;\r\n        }\r\n        if (c.childList && c.childList.length) {\r\n          this.recursiveInitColListData(c.childList, null);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    for (const changeName in changes) {\r\n      const newValue = changes[changeName].currentValue;\r\n      if (newValue !== null && newValue !== void 0) {\r\n        this.tabId = RtfServices.getTabId(newValue);\r\n        switch (changeName) {\r\n          case 'queryId':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'queryId', newValue);\r\n            }\r\n            break;\r\n          case 'qoManagerCode':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'qoManagerCode', newValue);\r\n            }\r\n            break;\r\n          case 'controlType':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'controlType', newValue);\r\n            }\r\n            break;\r\n          case 'queryRelativeUrl':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'queryRelativeUrl', newValue);\r\n            }\r\n            break;\r\n          case 'voId':\r\n            if (newValue) {\r\n              QDPCacheUtil.setCache(this.tabId + 'voId', newValue);\r\n            }\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const self = this;\r\n    this.subscriptions.push(self.getQdpView().sheetChanged.subscribe(value => {\r\n      self.groupType = value;\r\n    }));\r\n    if (this.getConditionDialog()) { // çæåé«çº§æ¥è¯¢è¡¨ååæ¯\r\n      this.subscriptions.push(self.getConditionDialog().queryEvent.subscribe((data) => {\r\n        if (data === 1) {\r\n          self.getQdpView().initQdpView();\r\n        } else if (data > 1) {\r\n          self.refresh();\r\n        }\r\n      }));\r\n      this.subscriptions.push(self.getConditionDialog().dialogInitEvent.subscribe((data) => {\r\n        if (self.templateType === 'qdpAdvancedTemplate') {\r\n          self.getConditionDialog().handleDialogShow();\r\n        }\r\n      }));\r\n    } else { // è§£æåé«çº§æ¥è¯¢è¡¨ååæ¯\r\n      EventBus.register(this.tabId + 'advanceTemplate-condition-dialog-queryEvent', (data) => {\r\n        if (data === 1) {\r\n          self.getQdpView().initQdpView();\r\n        } else if (data > 1) {\r\n          self.refresh();\r\n        }\r\n      }, this.tabId);\r\n      EventBus.register(this.tabId + 'advanceTemplate-condition-dialog-dialogInitEvent', (data) => {\r\n        if (self.templateType === 'qdpAdvancedTemplate') {\r\n          self.getConditionDialog().handleDialogShow();\r\n        }\r\n      }, this.tabId);\r\n    }\r\n  }\r\n\r\n  handleSchemaSelected(id: string) {\r\n    this.schemaId = id;\r\n    if (this.controlType !== 'charts') {\r\n      if (this.getQdpView()) {\r\n        this.getQdpView().initSpread(this.queryId, id, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId, null, true);\r\n      }\r\n    } else {\r\n      if (this.getCharts()) {\r\n        this.getCharts().render(id, this.getChartsOption(id), '', this.conditionExpression);\r\n      } else if (this.getFormDatasource()) {\r\n        this.getFormDatasource().charts.setOption(this.getChartsOption(this.schemaId));\r\n      }\r\n    }\r\n    this.pageIndex = 1;\r\n  }\r\n\r\n  handleBeforeClose(id: any) {\r\n    this.schemaId = id;\r\n    if (this.controlType !== 'charts') {\r\n      if (this.getQdpView()) {\r\n        this.getQdpView().initSpread(this.queryId, id, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId, null, true);\r\n      }\r\n    } else {\r\n      if (this.getCharts()) {\r\n        this.getCharts().render(id, this.getChartsOption(id), '', this.conditionExpression);\r\n      } else if (this.getFormDatasource()) {\r\n        this.getFormDatasource().charts.setOption(this.getChartsOption(id));\r\n      }\r\n    }\r\n    this.pageIndex = this.pageIndex ? this.pageIndex : 1;\r\n  }\r\n\r\n  refresh() {\r\n    if (this.controlType !== 'charts') {\r\n      if (this.getQdpView()) {\r\n        this.getQdpView().pageIndex = this.pageIndex;\r\n        this.getQdpView().initSpread(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId);\r\n      }\r\n    } else {\r\n      if (this.getCharts()) {\r\n        this.getCharts().render(this.schemaId, this.getChartsOption(this.schemaId), '', this.conditionExpression);\r\n      } else if (this.getFormDatasource()) {\r\n        this.getFormDatasource().charts.setOption(this.getChartsOption(this.schemaId));\r\n      }\r\n    }\r\n    this.pageIndex = this.pageIndex ? this.pageIndex : 1;\r\n  }\r\n\r\n  clearCache() {\r\n    this.renderService.clearCache(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId);\r\n  }\r\n\r\n  clearSort() {\r\n    this.getQdpView().handleClearSort();\r\n  }\r\n\r\n  handlePageChange(pageInfo: any) {\r\n    this.pageIndex = pageInfo.pageIndex;\r\n    if (this.controlType !== 'crosstab') {\r\n      this.getQdpView().pageIndex = this.pageIndex;\r\n      this.getQdpView().initSpread(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, this.pageIndex, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId);\r\n    } else {\r\n      this.getQdpView().handleCrosstabPageChange(this.pageIndex, pageInfo.pageSize);\r\n    }\r\n  }\r\n\r\n  handleExportExcel(eventData: any) {\r\n    this.getQdpView().exportExcel(this.queryId, this.schemaId, this.controlType, this.pageIndex, this.qoManagerCode, this.queryRelativeUrl, this.conditionExpression, this.groupType, this.voId, this.pageInfo.totalCount, eventData);\r\n  }\r\n\r\n  pdfExportEvent(eventData: any) {\r\n    this.getQdpView().pdfExportEvent(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, eventData, this.queryRelativeUrl, this.conditionExpression, this.pageIndex, this.groupType, this.voId);\r\n  }\r\n\r\n  printPreview(eventData: any) {\r\n    this.getQdpView().printPreView(this.queryId, this.schemaId, this.controlType, this.qoManagerCode, eventData, this.queryRelativeUrl, this.conditionExpression, this.pageIndex, this.groupType, this.voId);\r\n  }\r\n\r\n  onResized(event: any): void {\r\n    this.size.height = event.newHeight + 'px';\r\n    this.size.width = (event.newWidth ? (event.newWidth - 15) : 0) + 'px';\r\n    this.contentSizeChange.emit(Object.assign({}, this.size));\r\n  }\r\n\r\n  private getChartsOption(schemaId: any) {\r\n    let chartsOption: any = {};\r\n    if (schemaId === 'prefab') {\r\n\r\n    } else if (this.schemaInfo && this.schemaInfo.schemaList && this.schemaInfo.schemaList[schemaId]) {\r\n      chartsOption = Object.assign({}, this.schemaInfo.schemaList[schemaId].schemaValue.chartsStyle, this.schemaInfo.schemaList[schemaId].schemaValue.chartsData);\r\n    }\r\n    if (chartsOption.series && this.schemaInfo.schemaList[schemaId].schemaValue.chartsType.series.type) {\r\n      chartsOption.series.type = this.schemaInfo.schemaList[schemaId].schemaValue.chartsType.series.type;\r\n      if (chartsOption.series.type !== 'line1') {\r\n        delete chartsOption.series.areaStyle;\r\n      } else {\r\n        chartsOption.series.areaStyle = {};\r\n      }\r\n    }\r\n    return chartsOption;\r\n  }\r\n\r\n  filterCondition() {\r\n    const self = this;\r\n    if (this.co && this.co.ContainElements && this.co.ContainElements.length) {\r\n      this.filter.addCommonObject(this.co);\r\n      this.filter.addInjectedEntity(this.co.Code, 'CommonObject');\r\n      // if (this.conditionExpression) {\r\n      this.filter.addFilterCondition(this.conditionExpression);\r\n      // }\r\n      this.filter.buildExpression().then(buildedExpression => {\r\n        this.conditionExpression = buildedExpression;\r\n        if (buildedExpression) {\r\n          // tslint:disable-next-line:max-line-length\r\n          const filter = { Id: EventBus.guid(), filter: buildedExpression, queryid: this.queryId, datasourceid: this.qoManagerCode ? this.qoManagerCode : this.queryId, queryType: 1 };\r\n          this.subscriptions.push(self.filterService.saveFilter(filter, self.queryRelativeUrl)\r\n            .subscribe(data => self.refresh()));\r\n        } else {\r\n          this.subscriptions.push(self.filterService.deleteFilter(self.qoManagerCode ? self.qoManagerCode : self.queryId, self.queryId, self.queryRelativeUrl, 1).subscribe(data => self.refresh()));\r\n          this.conditionExpression = null;\r\n          if (self.controlType !== 'charts') {\r\n            self.getQdpView().conditionExpression = null;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  expendCollapseLevel($event) {\r\n    const maxLevel = this.getQdpView().spread.getActiveSheet().rowOutlines.getMaxLevel();\r\n    for (let index = 1; index <= maxLevel; index++) {\r\n      this.getQdpView().spread.getActiveSheet().rowOutlines.expand(index, $event);\r\n    }\r\n    this.getQdpView().spread.getActiveSheet().resumePaint();\r\n  }\r\n\r\n  private getDataType(type: any) {\r\n    let result = 'String';\r\n    switch (type) {\r\n      case 'string':\r\n        result = 'String';\r\n        break;\r\n      case 'text':\r\n        result = 'Text';\r\n        break;\r\n      case 'integer':\r\n      case 'int':\r\n        result = 'Integer';\r\n        break;\r\n      case 'decimal':\r\n        result = 'Decimal';\r\n        break;\r\n      case 'boolean':\r\n        result = 'Boolean';\r\n        break;\r\n      case 'date':\r\n        result = 'Date';\r\n        break;\r\n      case 'dateTime':\r\n        result = 'DateTime';\r\n        break;\r\n      case 'binary':\r\n        result = 'Binary';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, Injector } from '@angular/core';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Component({\r\n  selector: 'export-data',\r\n  templateUrl: './export-data.component.html',\r\n  styleUrls: ['./export-data.component.css']\r\n})\r\nexport class ExportDataComponent implements OnInit {\r\n  exportTitle: any;\r\n  exportType1: any;\r\n  exportType2: any;\r\n  localizeService: LocalizeService;\r\n  @Input() isMultiForm: boolean; // æ¯å¦åµå¥å¼è¡¨å\r\n  @Output() exportExcel = new EventEmitter<any>();\r\n  svgExport = true;\r\n\r\n  constructor(private injector: Injector) {\r\n    this.localizeService = this.injector.get(LocalizeService);\r\n    this.exportTitle = this.localizeService.getValue('queryFramework.exportName');\r\n    this.exportType1 = this.localizeService.getValue('queryFramework.btnExportText');\r\n    this.exportType2 = this.localizeService.getValue('queryFramework.btnExportValue');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleHover(type: any, state: any) {\r\n    this.svgExport = state === 1;\r\n  }\r\n}\r\n","import { NgModule, ElementRef } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@farris/ui-flex-layout';\r\nimport { FDropdownDirectiveTypeModule, FDropdownDirective } from '@farris/ui-dropdown';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { IdeCmpModule } from '@qdp/ide-cmp';\r\nimport { QueryFrameworkLayoutComponent } from './component/qf-layout/qf-layout.component';\r\nimport { QueryFrameworkToolbarComponent } from './component/qf-toolbar/qf-toolbar.component';\r\nimport { QueryFrameworkPaginationComponent } from './component/qf-pagination/qf-pagination.component';\r\nimport { ExportDataComponent } from './component/export-data/export-data.component';\r\nimport { FilterConditionModule, FilterService} from '@gsp-svc/filtercondition';\r\nimport { ConditionSchemaService } from '@qdp/condition-schema';\r\nimport { FilterManagerService} from '@qdp/common';\r\nimport { LocalizeModule } from '@qdp/localize';\r\nimport { CloudPrintModule } from '@gsp-svc/cloudprint';\r\nimport { ConditionDialogComponent } from './component/condition-dialog/condition-dialog.component';\r\nimport { ConditionManagerDialogComponent } from './component/condition-manager-dialog/condition-manager-dialog.component';\r\nimport { SaveasSchemaDialogComponent } from './component/saveas-schema-dialog/saveas-schema-dialog.component';\r\nimport { ConditionDialogTabComponent } from './component/condition-dialog-tab/condition-dialog-tab.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NotifyModule,\r\n    FDropdownDirectiveTypeModule,\r\n    FlexLayoutModule,\r\n    TreeTableModule,\r\n    PerfectScrollbarModule,\r\n    IdeCmpModule,\r\n    FilterConditionModule,\r\n    // LocalizeModule,\r\n    CloudPrintModule,\r\n    FarrisDialogModule,\r\n    InputGroupModule\r\n  ],\r\n  declarations: [\r\n    QueryFrameworkLayoutComponent,\r\n    QueryFrameworkToolbarComponent,\r\n    QueryFrameworkPaginationComponent,\r\n    ExportDataComponent,\r\n    ConditionDialogComponent,\r\n    ConditionManagerDialogComponent,\r\n    SaveasSchemaDialogComponent,\r\n    ConditionDialogTabComponent\r\n  ],\r\n  providers: [\r\n    FDropdownDirective,\r\n    FilterService,\r\n    FilterManagerService,\r\n    ConditionSchemaService\r\n  ],\r\n  exports: [\r\n    QueryFrameworkLayoutComponent,\r\n    QueryFrameworkToolbarComponent,\r\n    QueryFrameworkPaginationComponent,\r\n    ExportDataComponent,\r\n    ConditionDialogComponent,\r\n    ConditionManagerDialogComponent,\r\n    SaveasSchemaDialogComponent,\r\n    ConditionDialogTabComponent\r\n  ]\r\n})\r\nexport class QueryFrameworkModule { }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAOa,iCAAiC;IAkB5C;QAjBA,eAAU,GAAQ;YAChB,SAAS,EAAE,CAAC;YACZ,QAAQ,EAAE,EAAE;YACZ,SAAS,EAAE,CAAC;SACb,CAAC;QACF,oBAAe,GAAG,KAAK,CAAC;QACxB,qBAAgB,GAAG,KAAK,CAAC;QACzB,aAAQ,GAAG,IAAI,CAAC;QAKhB,eAAU,GAAG,EAAE,CAAC;QAChB,aAAQ,GAAG,EAAE,CAAC;QACd,cAAS,GAAG,CAAC,CAAC;QACJ,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;KAE9B;;;;IAEjB,QAAQ;QACN,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;;IAED,WAAW,CAAC,OAAsB;QAChC,KAAK,MAAM,UAAU,IAAI,OAAO,EAAE;;kBAC1B,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY;YACjD,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,EAAE;gBAC5C,QAAQ,UAAU;oBAChB,KAAK,YAAY;wBACf,MAAM;oBACR,KAAK,UAAU;wBACb,IAAI,QAAQ,CAAC,QAAQ,KAAK,CAAC,EAAE;4BAC3B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACtB,OAAO;yBACR;6BAAM;4BACL,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;yBACtB;wBACD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;wBAChE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;wBAC7D,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;wBAC/C,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;wBACtC,IAAI,CAAC,YAAY,EAAE,CAAC;wBACpB,MAAM;iBACT;aACF;SACF;KACF;;;;IAED,YAAY;;YACN,cAAc,GAAG,CAAC;QACtB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE;YACpC,cAAc,GAAG,CAAC,CAAC;SACpB;aAAM;YACL,cAAc,GAAG,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC;kBAClD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;mBACzC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;SACvC;QACD,IAAI,CAAC,UAAU,GAAG;YAChB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,cAAc;SAC1B,CAAC;QACF,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;QACtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC;QAE/F,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;SAC/D;KACF;;;;;IAED,iBAAiB,CAAC,IAAS;QACzB,QAAQ,IAAI;YACV,KAAK,GAAG;gBACN,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;gBAC9B,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,CAAC,UAAU,CAAC,SAAS,IAAI,CAAC,CAAC;gBAC/B,MAAM;SACT;QACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;QACtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC;QAC/F,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAEvC;;;;;IAED,kBAAkB,CAAC,IAAS;QAC1B,QAAQ,IAAI;YACV,KAAK,GAAG;gBACN,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;gBACtD,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,CAAC,UAAU,CAAC,SAAS,IAAI,CAAC,CAAC;gBAC/B,MAAM;SACT;QACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,CAAC,GAAG,IAAI,GAAG,KAAK,CAAC;QACtE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,KAAK,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,GAAG,KAAK,CAAC;QAC/F,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACvC;;;YAtGF,SAAS,SAAC;gBACT,QAAQ,EAAE,4BAA4B;gBACtC,+qDAA6C;;aAE9C;;;;;uBAYE,KAAK;+BACL,KAAK;yBAIL,MAAM;;;;;;;ACvBT,MAca,+BAA+B;;;;;;;IAc1C,YACU,QAAkB,EAClB,UAA2B,EAC3B,gBAAwC,EACxC,aAA4B;QAH5B,aAAQ,GAAR,QAAQ,CAAU;QAClB,eAAU,GAAV,UAAU,CAAiB;QAC3B,qBAAgB,GAAhB,gBAAgB,CAAwB;QACxC,kBAAa,GAAb,aAAa,CAAe;QAdtC,iBAAY,GAAG,IAAI,CAAC;QACpB,mBAAc,GAAG,IAAI,CAAC;QAEb,eAAU,GAAG,EAAE,CAAC;QAChB,iBAAY,GAAG,EAAE,CAAC;QAC3B,eAAU,GAAG,EAAE,CAAC;QAChB,eAAU,GAAG,EAAE,CAAC;QAChB,oBAAe,GAAG,IAAI,OAAO,EAAO,CAAC;QASnC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC1D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;SAC7D;KACF;;;;IAED,QAAQ;KACP;;;;;IAED,WAAW,CAAC,OAAsB;KACjC;;;;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;;IAED,gBAAgB,CAAC,MAAW;QAC1B,IAAI,CAAC,YAAY,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAC1E,IAAI,CAAC,cAAc,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;KACjF;;;;;;IAED,mBAAmB,CAAC,MAAW,EAAE,IAAS;QACxC,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;KACjC;;;;;IAED,kBAAkB,CAAC,MAAW;QAC5B,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS;;;;QAAC,CAAC,IAAS,KAAK,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAC,GAAG,CAAC,EAAE;YACvE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;SACzD;;cACK,KAAK,GAAG,MAAM,CAAC,UAAU,KAAK,CAAC;cACjC,IAAI,CAAC,UAAU,CAAC,SAAS;;;;YAAC,CAAC,IAAS,KAAK,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAC;cAC/D,IAAI,CAAC,YAAY,CAAC,SAAS;;;;YAAC,CAAC,IAAS,KAAK,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAC;QACrE,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,EAAE;YAC3B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAClC;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SACpC;KACF;;;;;IAED,oBAAoB,CAAC,MAAW;;cACxB,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,UAAU,CAAC,OAAO;;;;QAAC,CAAC,IAAS;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAE;gBACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;aACvD;SACF,EAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,OAAO;;;;QAAC,CAAC,IAAS;YAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAE;gBACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;aACvD;SACF,EAAC,CAAC;KACJ;;;;IAED,aAAa;;cACL,IAAI,GAAG,IAAI;QACjB,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;;kBACpB,aAAa,GAAG,EAAE;;gBACpB,UAAe;YACnB,IAAI,CAAC,UAAU,CAAC,OAAO;;;;YAAC,CAAC,IAAS;gBAChC,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC1B,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBAC7B;qBAAM;oBACL,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI;;;;oBAAC,CAAC,EAAO,KAAK,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAC,CAAC;oBAClE,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE;wBACjC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI;;;;wBAAC,CAAC,EAAO,KAAK,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAC,CAAC;qBACrE;iBACF;aACF,EAAC,CAAC;YACH,IAAI,UAAU,IAAI,UAAU,CAAC,WAAW,EAAE;gBACxC,UAAU,CAAC,WAAW,GAAG,UAAU,IAAI,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;aAC/G;YACD,IAAI,aAAa,CAAC,MAAM,IAAI,UAAU,IAAI,UAAU,CAAC,EAAE,EAAE;gBACvD,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS;;;gBAAC;oBACtF,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;oBAAC;wBACrD,IAAI,CAAC,YAAY,EAAE,CAAC;wBACpB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,oBAAC;4BAC5B,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mCAAmC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,wCAAwC,CAAC,EAAE,OAAO,EAAE,IAAI;yBACvK,GAAkB,CAAC;wBACpB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;qBAC3B;;;;oBAAE,CAAC,KAAU;wBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;;;;wBAItD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;qBAC3B,EAAC,CAAC;iBACJ;;;;gBAAE,CAAC,KAAU;oBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;;;;;oBAKtD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;iBAC3B,EAAC,CAAC;aACJ;iBAAM,IAAI,aAAa,CAAC,MAAM,EAAE;gBAC/B,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS;;;gBAAC;oBACtF,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,oBAAC;wBAC5B,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mCAAmC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,wCAAwC,CAAC,EAAE,OAAO,EAAE,IAAI;qBACvK,GAAkB,CAAC;oBACpB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;iBAC3B;;;;gBAAE,CAAC,KAAU;oBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;;;;;oBAKtD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;iBAC3B,EAAC,CAAC;aACJ;iBAAM,IAAI,UAAU,IAAI,UAAU,CAAC,EAAE,EAAE;gBACtC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;;;gBAAC;oBACrD,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,oBAAC;wBAC5B,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mCAAmC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,wCAAwC,CAAC,EAAE,OAAO,EAAE,IAAI;qBACvK,GAAkB,CAAC;oBACpB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;iBAC3B;;;;gBAAE,CAAC,KAAU;oBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;;;;;oBAKtD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;iBAC3B,EAAC,CAAC;aACJ;SACF;KACF;;;;IAED,YAAY;QACV,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;KACtB;;;;IAED,iBAAiB;;cACT,IAAI,GAAG,IAAI;QACjB,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;YAC1B,IAAI,CAAC,UAAU,CAAC,OAAO;;;;YAAC,CAAC,IAAS;gBAChC,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;;0BACpB,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI;;;;oBAAC,CAAC,EAAO,KAAK,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAC;oBACnE,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,EAAE;wBAC3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAC5B;yBAAM;wBACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAC9B;iBACF;qBAAM;oBACL,IAAI,CAAC,UAAU,CAAC,OAAO;;;;oBAAC,CAAC,EAAO;wBAC9B,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;qBAC1C,EAAC,CAAC;oBACH,IAAI,CAAC,YAAY,CAAC,OAAO;;;;oBAAC,CAAC,GAAQ;wBACjC,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;qBAC5C,EAAC,CAAC;iBACJ;aACF,EAAC,CAAC;YACH,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;SACtB;QACD,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;KAC3B;;;YAzLF,SAAS,SAAC;gBACT,QAAQ,EAAE,0BAA0B;gBACpC,w5KAAwD;;aAEzD;;;;YAbsC,QAAQ;YAItC,eAAe;YADf,sBAAsB;YAEtB,aAAa;;;2BAUnB,SAAS,SAAC,cAAc;4BACxB,KAAK;sBAIL,KAAK;yBACL,KAAK;2BACL,KAAK;;;;;;;ACtBR,MAea,2BAA2B;;;;;;;IAkBtC,YACU,QAAkB,EAClB,UAA2B,EAC3B,gBAAwC,EACxC,aAA4B;QAH5B,aAAQ,GAAR,QAAQ,CAAU;QAClB,eAAU,GAAV,UAAU,CAAiB;QAC3B,qBAAgB,GAAhB,gBAAgB,CAAwB;QACxC,kBAAa,GAAb,aAAa,CAAe;QAjBtC,eAAU,GAAG,IAAI,CAAC;QAElB,wBAAmB,GAAG,qBAAqB,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC9D,eAAU,GAAQ,EAAE,CAAC;QACrB,cAAS,GAAG,KAAK,CAAC;QAClB,iBAAY,GAAG,CAAC,CAAC;QACjB,iBAAY,GAAG,cAAc,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAChD,iBAAY,GAAG,cAAc,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAChD,kBAAa,GAAG,eAAe,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAUhD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC1D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,gBAAgB,CAAC;YAChE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,gBAAgB,CAAC;YAClE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAChD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;SAC7D;KACF;;;;IAED,QAAQ;KACP;;;;;IAED,WAAW,CAAC,OAAsB;QAEhC,KAAK,MAAM,UAAU,IAAI,OAAO,EAAE;;kBAC1B,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY;SAOlD;KACF;;;;IAED,WAAW;KAEV;;;;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;IAED,aAAa;;cACL,IAAI,GAAG,IAAI;;cACX,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU;QAC7C,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,yCAAyC,CAAC,CAAC,CAAC;YAClG,OAAO;SACR;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,EAAE,EAAE;YAClD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,uCAAuC,CAAC,CAAC,CAAC;YAChG,OAAO;SACR;QACD,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC9B,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACpC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU,EAAE;oBAC1D,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC,CAAC;oBACxF,OAAO;iBACR;aACF;SACF;;cACK,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE;QACtC,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,EAAE,EAAE;YAC/C,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACpC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU,EAAE;oBAC1D,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC,CAAC;oBACxF,OAAO;iBACR;aACF;;kBACK,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC/D,QAAQ,CAAC,WAAW,GAAG,MAAM,CAAC;YAC9B,QAAQ,CAAC,EAAE,GAAG,EAAE,CAAC;YACjB,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAChC,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;oBAAE,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;iBAAE;gBACzD,QAAQ,CAAC,WAAW,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,EAAE,CAAC;aAC9F;YACD,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;YAC1F,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACtC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,CAAC,CAAC;YAC5C,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;YACxC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,SAAS;;;YAAC;gBACnD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,oBAAC;oBAC5B,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mCAAmC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,qCAAqC,CAAC,EAAE,OAAO,EAAE,IAAI;iBACpK,GAAkB,CAAC;gBACpB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;aAC3B;;;;YAAE,CAAC,KAAU;gBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aACvD,EAAC,CAAC;SACJ;aAAM;;kBACC,QAAQ,GAAG;gBACf,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,UAAU,EAAE,IAAI,CAAC,YAAY;gBAC7B,WAAW,EAAE,IAAI;gBACjB,SAAS,EAAE,IAAI,CAAC,SAAS,GAAG,CAAC,GAAG,CAAC;gBACjC,WAAW,EAAE,CAAC;gBACd,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB;YACD,QAAQ,CAAC,WAAW,GAAG,MAAM,CAAC;YAC9B,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;oBAAE,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;iBAAE;gBACzD,QAAQ,CAAC,WAAW,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,EAAE,CAAC;aAC9F;YACD,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;YAC1F,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,SAAS;;;YAAC;gBACnD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,oBAAC;oBAC5B,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mCAAmC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,qCAAqC,CAAC,EAAE,OAAO,EAAE,IAAI;iBACpK,GAAkB,CAAC;gBACpB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;aAC3B;;;;YAAE,CAAC,KAAU;gBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;aACvD,EAAC,CAAC;SACJ;KACF;;;;IAED,iBAAiB;QACf,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;KAC3B;;;;;IAED,sBAAsB,CAAC,KAAU;QAC/B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;KAC3B;;;;IAED,gBAAgB;;cACR,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE;;YAC7D,MAAM;QACV,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,EAAE;YAC7B,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;SAC9B;QACD,OAAO,MAAM,CAAC;KACf;;;YAxJF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,24IAAoD;;aAErD;;;;YAdsC,QAAQ;YAKtC,eAAe;YADf,sBAAsB;YAEtB,aAAa;;;4BAUnB,KAAK;sBACL,KAAK;2BACL,SAAS,SAAC,cAAc;;;;;;;AClB3B,MASa,2BAA2B;IAgBtC;QAdA,QAAG,GAAG,EAAE,CAAC;QAEA,aAAQ,GAAG,CAAC,CAAC;QACtB,wBAAmB,GAAG,CAAC,CAAC;;;;;QAMf,iBAAY,GAAG,EAAE,CAAC;QAClB,2BAAsB,GAAG,EAAE,CAAC;QAC5B,yBAAoB,GAAG,IAAI,CAAC;QAC5B,aAAQ,GAAG,KAAK,CAAC;KAGzB;;;;;IAED,WAAW,CAAC,OAAsB;QAChC,KAAK,MAAM,UAAU,IAAI,OAAO,EAAE;;kBAC1B,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY;YACjD,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,EAAE;gBAC5C,QAAQ,UAAU;oBAChB,KAAK,cAAc;wBACjB,IAAI,QAAQ,EAAE;4BACZ,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC;yBACnC;wBACD,MAAM;oBACR,KAAK,wBAAwB;wBAC3B,IAAI,QAAQ,EAAE;4BACZ,IAAI,CAAC,sBAAsB,GAAG,QAAQ,CAAC;yBACxC;wBACD,MAAM;iBACT;aACF;SACF;KACF;;;;IAED,SAAS;QACP,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,mBAAmB,GAAG,cAAc,GAAG,EAAE,CAAC;KAC7E;;;;IAED,qBAAqB;;;;;;;;;;KAUpB;;;;IAED,QAAQ;QACN,IAAI;YACF,IAAI,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,uBAAuB,CAAC,EAAE;gBAClG,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,uBAAuB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC3G;iBAAM;gBACL,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,uBAAuB,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;aACxG;SACF;QAAC,OAAO,CAAC,EAAE;SACX;QACD,IAAI,CAAC,SAAS,EAAE,CAAC;KAClB;;;YAtEF,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,8oBAAoD;;aAErD;;;;;kBAEE,WAAW,SAAC,OAAO;uBAGnB,KAAK;6BAEL,SAAS,SAAC,yBAAyB;2BAKnC,KAAK;qCACL,KAAK;mCACL,KAAK;uBACL,KAAK;;;;;;;ACvBR,MAuBa,wBAAwB;;;;;;;;IAqDnC,YACU,QAAkB,EAClB,gBAAwC,EACxC,UAA2B,EAC3B,YAA0B,EAC1B,iBAAoC;QAJpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,qBAAgB,GAAhB,gBAAgB,CAAwB;QACxC,eAAU,GAAV,UAAU,CAAiB;QAC3B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;;QAzD9C,aAAQ,GAAG,EAAE,CAAC;QACL,yBAAoB,GAAG,IAAI,CAAC;QAE5B,aAAQ,GAAG,CAAC,CAAC;QAEZ,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QAC/C,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAC1C,cAAS,GAAG,IAAI,OAAO,EAAO,CAAC;QAkB/B,aAAQ,GAAG,KAAK,CAAC;QACjB,sBAAiB,GAAG,MAAM,CAAC;QAE3B,eAAU,GAAG,EAAE,CAAC;QAChB,iBAAY,GAAG,EAAE,CAAC;QAClB,wBAAmB,GAAG,CAAC,CAAC;QAGhB,kBAAa,GAAmB,EAAE,CAAC;QACnC,cAAS,GAAG,EAAE,CAAC;QAWvB,iBAAY,GAAG,EAAE,CAAC;QAClB,2BAAsB,GAAG,EAAE,CAAC;QAuU5B,eAAU;;;QAAG,MAAM,IAAI,EAAC;QAExB,sBAAiB;;;QAAG;;;;;;;;;;;;;;;YAelB,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC;SACjB,EAAA;QA7UC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC1D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACtD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;YACnF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;SACjD;KACF;;;;IAxDD,gBAAgB;QACd,IAAI;YACF,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBACnD,OAAO,IAAI,CAAC,aAAa,CAAC;aAC3B;iBAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,uBAAuB,CAAC,IAAI,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,uBAAuB,CAAC,CAAC,MAAM,EAAE;gBAClN,OAAO,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,uBAAuB,CAAC,CAAC;aACvG;SACF;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,IAAI,CAAC,aAAa,CAAC;SAC3B;KACF;;;;IAiBD,IAAW,EAAE;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;;;IACD,IAAW,EAAE,CAAC,KAAU;QACtB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC5B;;;;IAyBD,QAAQ;QACN,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW;;;;YAAG,CAAC,MAAW,KAAK,EAAE,CAAC,IAAI,CAAC,CAAA,CAAC;SAC9C;QACD,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kCAAkC,EAAE,IAAI,CAAC,CAAC;KAC9E;;;;IAED,eAAe;QACb,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kDAAkD,EAAE,EAAE,CAAC,CAAC;QACvF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACjC;;;;IAED,mBAAmB;;cACX,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC;QAC/F,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,SAAS;;;;QAAC,CAAC,MAAW;;kBAC7E,IAAI,GAAG,MAAM,CAAC,UAAU;YAC9B,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBAC9B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACrB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;oBACpC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,KAAK,CAAC,EAAE;wBAC5C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC/C;yBAAM;wBACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBACjD;iBACF;;oBACG,IAAI,GAAG,KAAK;gBAChB,IAAI,IAAI,CAAC,QAAQ,EAAE;;wBACb,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS;;;;oBAAC,CAAC,IAAS,KAAK,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAC;oBAC/E,IAAI,KAAK,IAAI,CAAC,EAAE;wBACd,IAAI,GAAG,IAAI,CAAC;wBACZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;wBAC5C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBACxC;oBACD,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS;;;;oBAAC,CAAC,IAAS,KAAK,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAC,CAAC;oBAC9E,IAAI,KAAK,IAAI,CAAC,EAAE;wBACd,IAAI,GAAG,IAAI,CAAC;wBACZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;wBAC9C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;qBACxC;iBACF;gBACD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,eAAe,IAAI,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE;oBACnK,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACzE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;oBACvE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;iBACxD;gBACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,SAAS;;;;gBAAC,CAAC,IAAI;oBACnE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBACxC,EAAC,CAAC,CAAC;aACL;iBAAM;gBACL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;aACpF;SACF,EAAC,CAAC,CAAC;QACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS;;;;QAAC,CAAC,QAAa;YAC7D,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,SAAS;;;;gBAAC,CAAC,IAAS;oBACxG,IAAI,IAAI,EAAE;wBACR,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;wBAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;wBACvD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACvC,IAAI,IAAI,CAAC,mBAAmB,KAAK,CAAC,EAAE;4BAClC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;yBAClD;qBACF;iBACF,EAAC,CAAC,CAAC;aACL;SACF,EAAC,CAAC,CAAC;KACL;;;;;;IAEO,aAAa,CAAC,MAAW;;cACzB,IAAI,GAAG,IAAI;QACjB,IAAI,MAAM,EAAE;YACV,IAAI,MAAM,CAAC,WAAW,IAAI,QAAQ,MAAM,CAAC,WAAW,CAAC,KAAK,QAAQ,EAAE;gBAClE,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,MAAM,EAAE;oBACjJ,MAAM,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;iBACpF;gBACD,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;gBAC9E,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;gBACjC,IAAI,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,0BAA0B,CAAC,EAAE;oBACjE,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,WAAW,CAAC,0BAA0B,CAAC,CAAC;iBAC9E;aACF;iBAAM;gBACL,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE;;0BACvG,GAAG,GAAG;wBACV,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;qBAC/D;oBACD,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBAChE;aACF;SACF;KACF;;;;;IAED,eAAe,CAAC,IAAS;QACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YAC7C,QAAQ,EAAE,GAAG;YACb,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC;YACtD,SAAS,EAAE,CAAC;YACZ,QAAQ,EAAE,CAAC;YACX,aAAa,EAAE,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC;YAClE,WAAW,EAAE,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC;YAC9D,MAAM,EAAE,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;SACnD,EAAE,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kBAAkB,CAAC,CAAC,CAAC,SAAS;;;;QAAC,KAAK;YACxE,IAAI,KAAK,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE;gBAC1D,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;gBACnD,IAAI,IAAI,CAAC,gBAAgB,EAAE;oBACzB,IAAI,CAAC,gBAAgB,CAAC,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC5D,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;iBAC5E;gBACD,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAC9B;SACF,EAAC,CAAC,CAAC;KACL;;;;;;;IAEO,mBAAmB,CAAC,QAAa,EAAE,IAAU;QACnD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,QAAQ,CAAC,OAAO;;;;QAAC,GAAG;YAClB,IAAI,CAAC,4BAA4B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SACpD,EAAC,CAAC;KACJ;;;;;;;;IAEO,4BAA4B,CAAC,QAAa,EAAE,GAAQ,EAAE,IAAU;QACtE,IAAI,GAAG,EAAE;;kBACD,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS;;;;YAAC,CAAC,IAAS,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,SAAS,EAAC;YACrF,IAAI,KAAK,GAAG,CAAC,EAAE;;sBACP,IAAI,GAAG,EAAE;gBACf,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;gBAC9B,IAAI,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B;iBAAM,IAAI,IAAI,KAAK,KAAK,EAAE;gBACzB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;aAC7C;YACD,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE;gBACzC,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;aACxD;SACF;aAAM;YACL,QAAQ,CAAC,OAAO;;;;YAAC,CAAC,CAAM;;sBAChB,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS;;;;gBAAC,CAAC,IAAS,KAAK,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,SAAS,EAAC;gBACnF,IAAI,KAAK,GAAG,CAAC,EAAE;;0BACP,IAAI,GAAG,EAAE;oBACf,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC5B,IAAI,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACrD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACtB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC9B;qBAAM,IAAI,IAAI,KAAK,KAAK,EAAE;oBACzB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;iBAC3C;gBACD,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE;oBACrC,IAAI,CAAC,4BAA4B,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;iBACtD;aACF,EAAC,CAAC;SACJ;KACF;;;;;;IAEO,WAAW,CAAC,IAAS;;YACvB,MAAM,GAAG,CAAC;QACd,QAAQ,IAAI;YACV,KAAK,QAAQ,CAAC;YACd,KAAK,MAAM;gBACT,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,SAAS;gBACZ,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,SAAS;gBACZ,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,SAAS;gBACZ,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,MAAM,CAAC;YACZ,KAAK,UAAU;gBACb,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,MAAM;gBACT,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,MAAM;gBACT,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,KAAK,OAAO;gBACV,MAAM,GAAG,EAAE,CAAC;gBACZ,MAAM;YACR;gBACE,MAAM;SACT;QACD,OAAO,MAAM,CAAC;KACf;;;;IAED,WAAW;QACT,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YACnD,KAAK,MAAM,YAAY,IAAI,IAAI,CAAC,aAAa,EAAE;gBAC7C,YAAY,CAAC,WAAW,EAAE,CAAC;aAC5B;SACF;KACF;;;;;IAED,WAAW,CAAC,OAAsB;KACjC;;;;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;IAED,iBAAiB;QACf,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;KAC3B;;;;IAED,yBAAyB;QACvB,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,EAAE,CAAC;QAC/C,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;KAChC;;;;IAED,wBAAwB;QACtB,IAAI,CAAC,2BAA2B,CAAC,UAAU,GAAG,EAAE,CAAC;QACjD,IAAI,CAAC,2BAA2B,CAAC,SAAS,GAAG,KAAK,CAAC;QACnD,IAAI,CAAC,2BAA2B,CAAC,YAAY,GAAG,CAAC,CAAC;QAClD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,2BAA2B,CAAC,gBAAgB,EAAE,CAAC;QACpD,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE;YACjE,IAAI,CAAC,2BAA2B,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC;SACxF;KACF;;;;IAED,gBAAgB;QACd,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;KAChC;;;;;IAED,iBAAiB,CAAC,MAAW;;cACrB,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC;QAClC,IAAI,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC,MAAM,EAAE;YAC7D,IAAI,CAAC,gBAAgB,EAAE,CAAC,OAAO;;;;YAAC,CAAC,IAAS;gBACxC,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC;gBAClC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,IAAI,IAAI,CAAC,oBAAoB,EAAE;oBACpD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;oBAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;iBAC5B;aACF,EAAC,CAAC;SACJ;KACF;;;;;IAED,oBAAoB,CAAC,MAAW;QAC9B,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;QAC5B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;KACjC;;;;IAED,gBAAgB;;cACR,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE;QACtC,IAAI,CAAC,WAAW,EAAE,CAAC,SAAS;;;;QAAC,CAAC,MAAM;YAClC,IAAI,MAAM,IAAI,IAAI,EAAE;gBAClB,QAAQ,CAAC,QAAQ,CAAC,2BAA2B,EAAE,EAAE,CAAC,CAAC;gBACnD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC1C,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,6CAA6C,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;gBACjG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;gBACxC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;gBACzB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC1B;SACF,EAAC,CAAC;KACJ;;;;IAED,eAAe;;cACP,IAAI,GAAG,IAAI;;cACX,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE;QACtC,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,MAAM,CAAC;;kBAClC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAChE,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE;gBACjE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;oBAAE,SAAS,CAAC,WAAW,GAAG,EAAE,CAAC;iBAAE;gBAC3D,SAAS,CAAC,WAAW,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,mBAAmB,EAAE,CAAC;aAChH;YACD,SAAS,CAAC,WAAW,GAAG,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;YAC7F,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,SAAS;;;YAAC;gBACpD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,oBAAC;oBAC5B,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mCAAmC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,qCAAqC,CAAC,EAAE,OAAO,EAAE,IAAI;iBACpK,GAAkB,CAAC;aACrB;;;;YAAE,CAAC,KAAU;gBACZ,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,6DAA6D,CAAC,EAAE,KAAK,CAAC,CAAC;aACtI,EAAC,CAAC;SACJ;KACF;;;;IAED,gBAAgB;;cACR,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,cAAc,EAAE;;YAC7D,MAAM;QACV,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,EAAE;YAC7B,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;YAC7B,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE;gBACjE,IAAI,CAAC,MAAM,EAAE;oBAAE,MAAM,GAAG,EAAE,EAAE,EAAE,gBAAgB,EAAE,CAAC;iBAAE;gBACnD,MAAM,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,mBAAmB,EAAE,CAAC;aACjG;iBAAM,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBACtC,IAAI,CAAC,MAAM,EAAE;oBAAE,MAAM,GAAG,EAAE,EAAE,EAAE,gBAAgB,EAAE,CAAC;iBAAE;gBACnD,MAAM,CAAC,0BAA0B,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC;aAClE;SACF;QACD,OAAO,MAAM,CAAC;KACf;;;YAzXF,SAAS,SAAC;gBACT,QAAQ,EAAE,kBAAkB;gBAC5B,wgJAAgD;;aAEjD;;;;YAtBmB,QAAQ;YAOnB,sBAAsB;YAJd,UAAU;YAQlB,YAAY;YAEZ,iBAAiB;;;mCAYvB,KAAK;sBACL,KAAK;uBACL,KAAK;0BACL,KAAK;yBACL,MAAM;2BAGN,SAAS,SAAC,cAAc;4BACxB,eAAe,SAAC,2BAA2B;qCAa3C,SAAS,SAAC,+BAA+B;0CACzC,SAAS,SAAC,2BAA2B;;;;;;;AC/CxC,MAea,8BAA8B;;;;;;IA2EzC,YAAoB,iBAAoC,EAAU,YAA0B,EAAsB,QAAkB;QAAhH,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAAsB,aAAQ,GAAR,QAAQ,CAAU;QAhE3H,kBAAa,GAAQ,IAAI,CAAC;QAIzB,mBAAc,GAAG,IAAI,YAAY,EAAO,CAAC;QACzC,sBAAiB,GAAG,IAAI,YAAY,EAAO,CAAC;QAC5C,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QACtC,qBAAgB,GAAG,IAAI,YAAY,EAAO,CAAC;QAC3C,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,iBAAY,GAAG,IAAI,YAAY,EAAO,CAAC;QACvC,oBAAe,GAAG,IAAI,YAAY,EAAO,CAAC;QAC1C,eAAU,GAAG,IAAI,YAAY,EAAO,CAAC;QACrC,wBAAmB,GAAG,IAAI,YAAY,EAAO,CAAC;QAC9C,cAAS,GAAG,IAAI,YAAY,EAAO,CAAC;QAMrC,sBAAiB,GAAQ,IAAI,CAAC;QAC9B,eAAU,GAAQ,IAAI,CAAC;QACvB,gBAAW,GAAQ,IAAI,CAAC;QACxB,eAAU,GAAQ,IAAI,CAAC;QACvB,cAAS,GAAQ,IAAI,CAAC;QACtB,kBAAa,GAAQ,IAAI,CAAC;QAC1B,mBAAc,GAAQ,IAAI,CAAC;QAC3B,kBAAa,GAAQ,IAAI,CAAC;;;QAG1B,oBAAe,GAAG;YACzB,eAAe,EAAE,KAAK;YACtB,SAAS,EAAE,EAAE;YACb,gBAAgB,EAAE,EAAE;YACpB,IAAI,EAAE,EAAE;YACR,IAAI,EAAE,EAAE;SACT,CAAC;QACF,eAAU,GAAG,KAAK,CAAC;;QACnB,oBAAe,GAAG,KAAK,CAAC;QAcxB,eAAU,GAAG,IAAI,CAAC;QAClB,cAAS,GAAG,IAAI,CAAC;QACjB,gBAAW,GAAG,IAAI,CAAC;QACnB,kBAAa,GAAG,IAAI,CAAC;QACrB,aAAQ,GAAG,IAAI,CAAC;QAChB,aAAQ,GAAG,KAAK,CAAC;QACjB,cAAS,GAAG,KAAK,CAAC;QAOhB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC5C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC1D,IAAI,CAAC,uBAAuB,GAAG,IAAI,uBAAuB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACnF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACrD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC7C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;YACjF,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACjD;KACF;;;;IA9BD,kBAAkB;QAChB,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,OAAO,IAAI,CAAC,eAAe,CAAC;SAC7B;aAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kCAAkC,CAAC,EAAE;YACjF,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kCAAkC,CAAC,CAAC;SAC/E;KACF;;;;IA0BD,QAAQ;QACN,IAAI,IAAI,CAAC,WAAW,KAAK,MAAM,IAAI,IAAI,CAAC,WAAW,KAAK,UAAU,EAAE;YAClE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACvB;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB;QACD,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB;KACF;;;;;IAED,WAAW,CAAC,OAAsB;QAChC,KAAK,MAAM,UAAU,IAAI,OAAO,EAAE;;kBAC1B,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY;YACjD,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,EAAE;gBAC5C,QAAQ,UAAU;oBAChB,KAAK,SAAS;wBACZ,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;wBAC5C,MAAM;oBACR;wBACE,MAAM;iBACT;aACF;SACF;KACF;;;;IAED,eAAe;KACd;;;;;IAED,iBAAiB,CAAC,EAAO;QACvB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACjC;;;;IAED,OAAO;QACL,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;KAC1B;;;;IAED,MAAM;QACJ,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;KAC7B;;;;IAED,eAAe;QACb,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KACvB;;;;IAED,SAAS;QACP,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAE;YAC7B,IAAI,CAAC,kBAAkB,EAAE,CAAC,gBAAgB,EAAE,CAAC;YAC7C,IAAI,CAAC,kBAAkB,EAAE,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,kBAAkB,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC,QAAQ,CAAC;SACnE;KACF;;;;IAED,qBAAqB;QACnB,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACvB;;;;;IAED,sBAAsB,CAAC,MAAW;QAChC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACpC;;;;;IAED,kBAAkB,CAAC,MAAW;QAC5B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAChC;;;;IAED,gBAAgB;QACd,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;KACxB;;;;IAED,KAAK;QACH,IAAI,IAAI,CAAC,WAAW,KAAK,UAAU,IAAI,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;;kBAC9D,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE;gBACrD,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,eAAe,EAAE,IAAI,CAAC,mBAAmB;gBACzC,aAAa,EAAE,IAAI,CAAC,aAAa;gBACjC,IAAI,EAAE,IAAI,CAAC,IAAI;aAChB,EAAE,EAAE,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;;kBAE5B,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE;;kBAC5C,SAAS,GAAG,KAAK,CAAC,aAAa,EAAE;;gBACnC,WAAW,GAAG,EAAE;;gBAChB,IAAI,GAAG,EAAE;;gBACT,IAAI,GAAG,EAAE;;gBACT,IAAI,GAAG,EAAE;YACb,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE;gBAC1D,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;gBACtC,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;aACvB;iBAAM;gBACL,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mDAAmD,CAAC,CAAC,CAAC;gBAC5G,OAAO;aACR;YACD,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,gBAAgB,EAAE;gBACjE,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC;gBACpD,MAAM,CAAC,aAAa,CAAC,GAAG,WAAW,CAAC;aACrC;iBAAM;gBACL,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,kDAAkD,CAAC,CAAC,CAAC;gBAC3G,OAAO;aACR;YACD,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE;gBACrD,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;aAClC;YACD,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE;gBACrD,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;aAClC;;gBACG,GAAG,GAAG,EAAE;YACZ,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,EAAE;gBACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzC,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;;8BAC5E,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;wBACrC,IAAI,QAAQ,IAAI,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE;4BACpD,GAAG,IAAI,GAAG,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;yBACpC;qBACF;iBACF;gBACD,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,uBAAuB,CAAC,uBAAuB,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aAC7E;iBAAM;gBACL,GAAG,GAAG,GAAG,CAAC;gBACV,IAAI,CAAC,uBAAuB,CAAC,kCAAkC,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,iBAAiB,EAAE,mDAAmD,EAAE,MAAM,CAAC,CAAC;aACxK;YACD,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;KACF;;;;;;IAED,WAAW,CAAC,IAAS,EAAE,KAAU;QAC/B,QAAQ,IAAI;YACV,KAAK,CAAC;gBACJ,IAAI,CAAC,UAAU,GAAG,KAAK,KAAK,CAAC,CAAC;gBAC9B,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,SAAS,GAAG,KAAK,KAAK,CAAC,CAAC;gBAC7B,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,WAAW,GAAG,KAAK,KAAK,CAAC,CAAC;gBAC/B,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,aAAa,GAAG,KAAK,KAAK,CAAC,CAAC;gBACjC,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,QAAQ,GAAG,KAAK,IAAI,CAAC,CAAC;gBAC3B,MAAM;YACR;gBACE,MAAM;SACT;KACF;;;;;IAED,YAAY,CAAC,MAAM;QACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;QACvB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC9C;;;;;;IAEO,gBAAgB,CAAC,MAAW;;cAC5B,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC;;YAC9C,UAAe;QACnB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;YACzB,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;SACpD;aAAM,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;YACzC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;SAC7D;aAAM;YACL,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC;SACzD;;cACK,MAAM,GAAG;YACb,UAAU,EAAE,UAAU;YACtB,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,YAAY,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,YAAY,CAAC,GAAG,MAAM,CAAC,UAAU;YAC3G,SAAS,EAAE,MAAM,CAAC,SAAS;YAC3B,QAAQ,EAAE,MAAM,CAAC,QAAQ;YACzB,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,KAAK,QAAQ,GAAG,MAAM,CAAC,QAAQ,GAAG,GAAG;YACjF,UAAU,EAAE,MAAM,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,iBAAiB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,GAAG,iBAAiB,CAAC,GAAG,EAAE,CAAC;YAC1J,aAAa,EAAE,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,GAAG,EAAE;YAC/D,MAAM,EAAE,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,EAAE;SACvC;QACD,IAAI;;kBACI,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;YAClD,IAAI,mBAAmB,CAAC,cAAc,CAAC,0BAA0B,CAAC,EAAE;;sBAE5D,gBAAgB,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI;gBAC3F,IAAI,CAAC,gBAAgB,EAAE;oBACrB,MAAM,CAAC,UAAU,GAAG,mBAAmB,CAAC,0BAA0B,CAAC,CAAC;iBACrE;qBAAM;;0BACC,uBAAuB,GAAG,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,0BAA0B,CAAC,CAAC;oBAC3F,uBAAuB,CAAC,YAAY,GAAG,uBAAuB,CAAC,YAAY,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;oBAClH,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;iBAC7D;aACF;SACF;QAAC,OAAO,CAAC,EAAE;SACX;QACD,IAAI,MAAM,CAAC,WAAW,EAAE;YACtB,MAAM,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC;SAC5C;QACD,IAAI,MAAM,CAAC,eAAe,EAAE;YAC1B,MAAM,CAAC,iBAAiB,CAAC,GAAG,MAAM,CAAC,eAAe,CAAC;SACpD;QACD,IAAI,MAAM,CAAC,gBAAgB,EAAE;YAC3B,MAAM,CAAC,kBAAkB,CAAC,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;SACrG;QAED,OAAO,MAAM,CAAC;KACf;;;YAnSF,SAAS,SAAC;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,spsCAA0C;;aAE3C;;;;YAbQ,iBAAiB;YACjB,YAAY;YAF2D,QAAQ,uBA0FS,QAAQ;;;sBA1EtG,KAAK;wBACL,KAAK;wBACL,KAAK;0BACL,KAAK;0BACL,KAAK;uBAEL,KAAK;yBACL,KAAK;sBACL,KAAK;uBACL,KAAK;4BACL,KAAK;+BACL,KAAK;4BACL,KAAK;kCACL,KAAK;6BACL,MAAM;gCACN,MAAM;yBACN,MAAM;0BACN,MAAM;+BACN,MAAM;2BACN,MAAM;2BACN,MAAM;8BACN,MAAM;yBACN,MAAM;kCACN,MAAM;wBACN,MAAM;4BACN,KAAK;mBACL,KAAK;mBACL,KAAK;sBACL,KAAK;2BACL,KAAK;gCACL,KAAK;yBACL,KAAK;0BACL,KAAK;yBACL,KAAK;wBACL,KAAK;4BACL,KAAK;6BACL,KAAK;4BACL,KAAK;8BAGL,KAAK;kCAYL,SAAS,SAAC,iCAAiC;8BAC3C,KAAK;;;;;;;ACrER,MAiBa,6BAA6B;;;;;;;;IA4FxC,YAAoB,aAA4B,EAAU,aAA4B,EAAU,MAAqB,EAAU,aAAmC,EAAU,0BAAsD;QAA9M,kBAAa,GAAb,aAAa,CAAe;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,WAAM,GAAN,MAAM,CAAe;QAAU,kBAAa,GAAb,aAAa,CAAsB;QAAU,+BAA0B,GAA1B,0BAA0B,CAA4B;QAtFzN,kBAAa,GAAG,IAAI,CAAC;QACrB,gBAAW,GAAG,KAAK,CAAC;QAKpB,WAAM,GAAG,IAAI,CAAC;QACd,kBAAa,GAAG;YACvB,aAAa,EAAE,IAAI;YACnB,iBAAiB,EAAE,IAAI;YACvB,UAAU,EAAE,IAAI;YAChB,WAAW,EAAE,IAAI;YACjB,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI;YACf,aAAa,EAAE,IAAI;YACnB,cAAc,EAAE,IAAI;SACrB,CAAA;QAED,iBAAY,GAAG,cAAc,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;QAsCtC,sBAAiB,GAAG,IAAI,YAAY,EAAO,CAAC;QAC7C,oBAAe,GAAG;YACzB,eAAe,EAAE,KAAK;YACtB,SAAS,EAAE,EAAE;YACb,gBAAgB,EAAE,EAAE;SACrB,CAAC;QAKF,SAAI,GAAG;YACL,MAAM,EAAE,OAAO;YACf,KAAK,EAAE,OAAO;SACf,CAAC;QAGF,aAAQ,GAAQ,EAAE,CAAC;QAEnB,cAAS,GAAQ,CAAC,CAAC;QAEnB,OAAE,GAAQ;YACR,QAAQ,EAAE,WAAW;YACrB,IAAI,EAAE,IAAI;YACV,eAAe,EAAE,EAAE;YACnB,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,WAAW;YACjB,WAAW,EAAE,QAAQ,CAAC,IAAI,EAAE;SAC7B,CAAC;QACF,kBAAa,GAAQ,EAAE,CAAC;;cAGhB,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEhD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS;;;;QAAC,KAAK;YACnE,IAAI;gBACF,IAAI,KAAK,EAAE;;0BACH,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC;oBAC9C,IAAI,aAAa,CAAC,UAAU,IAAI,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;wBACtE,aAAa,CAAC,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBAClE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;4BAClB,IAAI,aAAa,CAAC,eAAe,IAAI,aAAa,CAAC,eAAe,CAAC,EAAE,EAAE;gCACrE,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;6BACtF;yBACF;6BAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,GAAG,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,IAAI,IAAI,CAAC,QAAQ,KAAK,eAAe,IAAI,IAAI,CAAC,QAAQ,KAAK,eAAe,EAAE;4BACxI,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;yBAChG;qBACF;yBAAM;wBACL,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC;wBAChC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;qBAChF;oBACD,IAAI,CAAC,UAAU,GAAG,aAAa,CAAC;iBACjC;aACF;YAAC,OAAO,CAAC,EAAE;;aAEX;SACF,EAAC,CAAC,CAAC;QACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS;;;;QAAC,KAAK;YAChE,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;gBACzB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;aACpC;SACF,EAAC,CAAC,CAAC;;QAEJ,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE;;YAExD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS;;;;YAAC,IAAI;gBACnE,UAAU;;;gBAAC;oBACT,IAAI,IAAI,EAAE;wBACR,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,EAAE;4BACtE,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC;4BACzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;4BACpF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,UAAU,CAAC;yBACtE;wBACD,IAAI,CAAC,OAAO,EAAE,CAAC;qBAChB;iBACF,EAAC,CAAC;aACJ,EAAC,CAAC,CAAC;SACL;KACF;;;;IAnHD,UAAU;QACR,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;aAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,EAAE;YAC1F,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,CAAC;SACxF;KACF;;;;IAGD,SAAS;QACP,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,OAAO,IAAI,CAAC,MAAM,CAAC;SACpB;aAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,EAAE;YAC1E,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,CAAC;SACxE;KACF;;;;IAGD,iBAAiB;QACf,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,OAAO,IAAI,CAAC,cAAc,CAAC;SAC5B;aAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,EAAE;YAC3E,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC,CAAC;SACzE;KACF;;;;IAGD,kBAAkB;QAChB,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,OAAO,IAAI,CAAC,eAAe,CAAC;SAC7B;aAAM,IAAI,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kCAAkC,CAAC,EAAE;YACjF,OAAO,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kCAAkC,CAAC,CAAC;SAC/E;KACF;;;;IAoFD,WAAW;QACT,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YACnD,KAAK,MAAM,YAAY,IAAI,IAAI,CAAC,aAAa,EAAE;gBAC7C,YAAY,CAAC,WAAW,EAAE,CAAC;aAC5B;SACF;KACF;;;;IAED,QAAQ;;cACA,IAAI,GAAG,IAAI;QAEjB,IAAI,IAAI,CAAC,WAAW,KAAK,UAAU,EAAE;YACnC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,SAAS;;;;YAAC,KAAK;gBACvE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB,EAAC,CAAC,CAAC;SACL;;QAED,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS;;;;YAAC,IAAI;gBACjL,IAAI,IAAI,EAAE;oBACR,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACxD;aACF,EAAC,CAAC,CAAC;SACL;;;;;;;QAQD,IAAI,IAAI,CAAC,WAAW,EAAE;;kBACd,iBAAiB,sBAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,EAAe;YACnF,iBAAiB,CAAC,gBAAgB,CAAC,WAAW;;;YAAE;gBAC9C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B,EAAC,CAAC;YACH,iBAAiB,CAAC,gBAAgB,CAAC,UAAU;;;YAAE;gBAC7C,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC5B,EAAC,CAAC;SACJ;KACF;;;;;;;IAEO,eAAe,CAAC,QAAa,EAAE,IAAU;QAC/C,QAAQ,CAAC,OAAO;;;;QAAC,GAAG;YAClB,IAAI,CAAC,wBAAwB,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAChD,EAAC,CAAC;KACJ;;;;;;;;IAEO,wBAAwB,CAAC,QAAa,EAAE,GAAQ,EAAE,IAAU;QAClE,IAAI,GAAG,EAAE;;kBACD,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS;;;;YAAC,CAAC,IAAS,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,CAAC,SAAS,EAAC;YAC3F,IAAI,KAAK,GAAG,CAAC,EAAE;;sBACP,IAAI,GAAG,EAAE;gBACf,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC;gBAChC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAC/C,IAAI,CAAC,UAAU,CAAC,GAAG,eAAe,CAAC;gBACnC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACpC;iBAAM,IAAI,IAAI,KAAK,KAAK,EAAE;gBACzB,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;aACnD;YACD,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE;gBACzC,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;aACpD;SACF;aAAM;YACL,QAAQ,CAAC,OAAO;;;;YAAC,CAAC,CAAM;;sBAChB,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS;;;;gBAAC,CAAC,IAAS,KAAK,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,SAAS,EAAC;gBACzF,IAAI,KAAK,GAAG,CAAC,EAAE;;0BACP,IAAI,GAAG,EAAE;oBACf,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;oBAC7B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;oBAC9B,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBAC7C,IAAI,CAAC,UAAU,CAAC,GAAG,eAAe,CAAC;oBACnC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;oBACtB,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACpC;qBAAM,IAAI,IAAI,KAAK,KAAK,EAAE;oBACzB,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;iBACjD;gBACD,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE;oBACrC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;iBAClD;aACF,EAAC,CAAC;SACJ;KACF;;;;;IAED,WAAW,CAAC,OAAsB;QAChC,KAAK,MAAM,UAAU,IAAI,OAAO,EAAE;;kBAC1B,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY;YACjD,IAAI,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,EAAE;gBAC5C,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBAC5C,QAAQ,UAAU;oBAChB,KAAK,SAAS;wBACZ,IAAI,QAAQ,EAAE;4BACZ,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,SAAS,EAAE,QAAQ,CAAC,CAAC;yBACzD;wBACD,MAAM;oBACR,KAAK,eAAe;wBAClB,IAAI,QAAQ,EAAE;4BACZ,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,eAAe,EAAE,QAAQ,CAAC,CAAC;yBAC/D;wBACD,MAAM;oBACR,KAAK,aAAa;wBAChB,IAAI,QAAQ,EAAE;4BACZ,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,aAAa,EAAE,QAAQ,CAAC,CAAC;yBAC7D;wBACD,MAAM;oBACR,KAAK,kBAAkB;wBACrB,IAAI,QAAQ,EAAE;4BACZ,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kBAAkB,EAAE,QAAQ,CAAC,CAAC;yBAClE;wBACD,MAAM;oBACR,KAAK,MAAM;wBACT,IAAI,QAAQ,EAAE;4BACZ,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,EAAE,QAAQ,CAAC,CAAC;yBACtD;wBACD,MAAM;iBACT;aACF;SACF;KACF;;;;IAED,eAAe;;cACP,IAAI,GAAG,IAAI;QACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,YAAY,CAAC,SAAS;;;;QAAC,KAAK;YACpE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB,EAAC,CAAC,CAAC;QACJ,IAAI,IAAI,CAAC,kBAAkB,EAAE,EAAE;YAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,UAAU,CAAC,SAAS;;;;YAAC,CAAC,IAAI;gBAC1E,IAAI,IAAI,KAAK,CAAC,EAAE;oBACd,IAAI,CAAC,UAAU,EAAE,CAAC,WAAW,EAAE,CAAC;iBACjC;qBAAM,IAAI,IAAI,GAAG,CAAC,EAAE;oBACnB,IAAI,CAAC,OAAO,EAAE,CAAC;iBAChB;aACF,EAAC,CAAC,CAAC;YACJ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,eAAe,CAAC,SAAS;;;;YAAC,CAAC,IAAI;gBAC/E,IAAI,IAAI,CAAC,YAAY,KAAK,qBAAqB,EAAE;oBAC/C,IAAI,CAAC,kBAAkB,EAAE,CAAC,gBAAgB,EAAE,CAAC;iBAC9C;aACF,EAAC,CAAC,CAAC;SACL;aAAM;YACL,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,6CAA6C;;;;YAAE,CAAC,IAAI;gBACjF,IAAI,IAAI,KAAK,CAAC,EAAE;oBACd,IAAI,CAAC,UAAU,EAAE,CAAC,WAAW,EAAE,CAAC;iBACjC;qBAAM,IAAI,IAAI,GAAG,CAAC,EAAE;oBACnB,IAAI,CAAC,OAAO,EAAE,CAAC;iBAChB;aACF,GAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACf,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,kDAAkD;;;;YAAE,CAAC,IAAI;gBACtF,IAAI,IAAI,CAAC,YAAY,KAAK,qBAAqB,EAAE;oBAC/C,IAAI,CAAC,kBAAkB,EAAE,CAAC,gBAAgB,EAAE,CAAC;iBAC9C;aACF,GAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAChB;KACF;;;;;IAED,oBAAoB,CAAC,EAAU;QAC7B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;YACjC,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gBACrB,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aAC9L;SACF;aAAM;YACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;gBACpB,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;aACrF;iBAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBACnC,IAAI,CAAC,iBAAiB,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChF;SACF;QACD,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KACpB;;;;;IAED,iBAAiB,CAAC,EAAO;QACvB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;YACjC,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gBACrB,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aAC9L;SACF;aAAM;YACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;gBACpB,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;aACrF;iBAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBACnC,IAAI,CAAC,iBAAiB,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;aACrE;SACF;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KACtD;;;;IAED,OAAO;QACL,IAAI,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;YACjC,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;gBACrB,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC7C,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7L;SACF;aAAM;YACL,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;gBACpB,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;aAC3G;iBAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE,EAAE;gBACnC,IAAI,CAAC,iBAAiB,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChF;SACF;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KACtD;;;;IAED,UAAU;QACR,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KAC9K;;;;IAED,SAAS;QACP,IAAI,CAAC,UAAU,EAAE,CAAC,eAAe,EAAE,CAAC;KACrC;;;;;IAED,gBAAgB,CAAC,QAAa;QAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;QACpC,IAAI,IAAI,CAAC,WAAW,KAAK,UAAU,EAAE;YACnC,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAC7C,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7L;aAAM;YACL,IAAI,CAAC,UAAU,EAAE,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;SAC/E;KACF;;;;;IAED,iBAAiB,CAAC,SAAc;QAC9B,IAAI,CAAC,UAAU,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;KACnO;;;;;IAED,cAAc,CAAC,SAAc;QAC3B,IAAI,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KAC5M;;;;;IAED,YAAY,CAAC,SAAc;QACzB,IAAI,CAAC,UAAU,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KAC1M;;;;;IAED,SAAS,CAAC,KAAU;QAClB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,GAAG,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;QACtE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KAC3D;;;;;;IAEO,eAAe,CAAC,QAAa;;YAC/B,YAAY,GAAQ,EAAE;QAC1B,IAAI,QAAQ,KAAK,QAAQ,EAAE,CAE1B;aAAM,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;YAChG,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;SAC7J;QACD,IAAI,YAAY,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,EAAE;YAClG,YAAY,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC;YACnG,IAAI,YAAY,CAAC,MAAM,CAAC,IAAI,KAAK,OAAO,EAAE;gBACxC,OAAO,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC;aACtC;iBAAM;gBACL,YAAY,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC;aACpC;SACF;QACD,OAAO,YAAY,CAAC;KACrB;;;;IAED,eAAe;;cACP,IAAI,GAAG,IAAI;QACjB,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC,eAAe,IAAI,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,MAAM,EAAE;YACxE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACrC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;;YAE5D,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;;YAEzD,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,IAAI;;;;YAAC,iBAAiB;gBAClD,IAAI,CAAC,mBAAmB,GAAG,iBAAiB,CAAC;gBAC7C,IAAI,iBAAiB,EAAE;;;0BAEf,MAAM,GAAG,EAAE,EAAE,EAAE,QAAQ,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE;oBAC5K,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC;yBACjF,SAAS;;;;oBAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,EAAC,CAAC,CAAC;iBACvC;qBAAM;oBACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,SAAS;;;;oBAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,EAAC,CAAC,CAAC;oBAC3L,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;wBACjC,IAAI,CAAC,UAAU,EAAE,CAAC,mBAAmB,GAAG,IAAI,CAAC;qBAC9C;iBACF;aACF,EAAC,CAAC;SACJ;KACF;;;;;IAED,mBAAmB,CAAC,MAAM;;cAClB,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE;QACpF,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,IAAI,QAAQ,EAAE,KAAK,EAAE,EAAE;YAC9C,IAAI,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;SAC7E;QACD,IAAI,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,WAAW,EAAE,CAAC;KACzD;;;;;;IAEO,WAAW,CAAC,IAAS;;YACvB,MAAM,GAAG,QAAQ;QACrB,QAAQ,IAAI;YACV,KAAK,QAAQ;gBACX,MAAM,GAAG,QAAQ,CAAC;gBAClB,MAAM;YACR,KAAK,MAAM;gBACT,MAAM,GAAG,MAAM,CAAC;gBAChB,MAAM;YACR,KAAK,SAAS,CAAC;YACf,KAAK,KAAK;gBACR,MAAM,GAAG,SAAS,CAAC;gBACnB,MAAM;YACR,KAAK,SAAS;gBACZ,MAAM,GAAG,SAAS,CAAC;gBACnB,MAAM;YACR,KAAK,SAAS;gBACZ,MAAM,GAAG,SAAS,CAAC;gBACnB,MAAM;YACR,KAAK,MAAM;gBACT,MAAM,GAAG,MAAM,CAAC;gBAChB,MAAM;YACR,KAAK,UAAU;gBACb,MAAM,GAAG,UAAU,CAAC;gBACpB,MAAM;YACR,KAAK,QAAQ;gBACX,MAAM,GAAG,QAAQ,CAAC;gBAClB,MAAM;YACR;gBACE,MAAM;SACT;QACD,OAAO,MAAM,CAAC;KACf;;;YA3dF,SAAS,SAAC;gBACT,QAAQ,EAAE,wBAAwB;gBAClC,qmEAAyC;;aAE1C;;;;YAbQ,aAAa;YAFK,aAAa;YAG/B,aAAa;YACb,oBAAoB;YAAE,0BAA0B;;;sBAatD,KAAK;wBACL,KAAK;4BACL,KAAK;0BACL,KAAK;wBACL,KAAK;4BACL,KAAK;0BACL,KAAK;+BACL,KAAK;mBACL,KAAK;mBACL,KAAK;2BACL,KAAK;qBACL,KAAK;4BACL,KAAK;sBAUL,YAAY,SAAC,UAAU;qBAYvB,YAAY,SAAC,gBAAgB;6BAS7B,YAAY,SAAC,iBAAiB;8BAS9B,KAAK;+BAQL,SAAS,SAAC,8BAA8B;gCACxC,MAAM;8BACN,KAAK;4BAQL,KAAK;;;;;;;ACxFR,MAQa,mBAAmB;;;;IAS9B,YAAoB,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;;QAH5B,gBAAW,GAAG,IAAI,YAAY,EAAO,CAAC;QAChD,cAAS,GAAG,IAAI,CAAC;QAGf,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC1D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;QAC9E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;QACjF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC;KACnF;;;;IAED,QAAQ;KACP;;;;;;IAED,WAAW,CAAC,IAAS,EAAE,KAAU;QAC/B,IAAI,CAAC,SAAS,GAAG,KAAK,KAAK,CAAC,CAAC;KAC9B;;;YA1BF,SAAS,SAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,4uIAA2C;;aAE5C;;;;YAPwD,QAAQ;;;0BAa9D,KAAK;0BACL,MAAM;;;;;;;ACdT,MAqEa,oBAAoB;;;YA5ChC,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;oBACZ,WAAW;oBACX,mBAAmB;oBACnB,YAAY;oBACZ,4BAA4B;oBAC5B,gBAAgB;oBAChB,eAAe;oBACf,sBAAsB;oBACtB,YAAY;oBACZ,qBAAqB;;oBAErB,gBAAgB;oBAChB,kBAAkB;oBAClB,gBAAgB;iBACjB;gBACD,YAAY,EAAE;oBACZ,6BAA6B;oBAC7B,8BAA8B;oBAC9B,iCAAiC;oBACjC,mBAAmB;oBACnB,wBAAwB;oBACxB,+BAA+B;oBAC/B,2BAA2B;oBAC3B,2BAA2B;iBAC5B;gBACD,SAAS,EAAE;oBACT,kBAAkB;oBAClB,aAAa;oBACb,oBAAoB;oBACpB,sBAAsB;iBACvB;gBACD,OAAO,EAAE;oBACP,6BAA6B;oBAC7B,8BAA8B;oBAC9B,iCAAiC;oBACjC,mBAAmB;oBACnB,wBAAwB;oBACxB,+BAA+B;oBAC/B,2BAA2B;oBAC3B,2BAA2B;iBAC5B;aACF;;;;;;;;;;;;;;;;;;;;"}
