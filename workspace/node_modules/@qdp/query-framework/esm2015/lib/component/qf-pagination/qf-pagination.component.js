/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
export class QueryFrameworkPaginationComponent {
    constructor() {
        this.pagination = {
            pageIndex: 1,
            pageSize: 10,
            totalPage: 0
        };
        this.isDisablePreBtn = false;
        this.isDisableNextBtn = false;
        this.isEnable = true;
        this.totalCount = 21;
        this.pageSize = 10;
        this.pageIndex = 1;
        this.pageChange = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.initPageInfo();
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        for (const changeName in changes) {
            /** @type {?} */
            const newValue = changes[changeName].currentValue;
            if (newValue !== null && newValue !== void 0) {
                switch (changeName) {
                    case 'schemaInfo':
                        break;
                    case 'pageInfo':
                        if (newValue.pageSize === 0) {
                            this.isEnable = false;
                            return;
                        }
                        else {
                            this.isEnable = true;
                        }
                        this.pagination.pageIndex = this.pageIndex = newValue.pageIndex;
                        this.pagination.pageSize = this.pageSize = newValue.pageSize;
                        this.pagination.totalPage = newValue.pageCount;
                        this.totalCount = newValue.totalCount;
                        this.initPageInfo();
                        break;
                }
            }
        }
    }
    /**
     * @return {?}
     */
    initPageInfo() {
        /** @type {?} */
        let totalPageCount = 0;
        if (this.totalCount <= this.pageSize) {
            totalPageCount = 1;
        }
        else {
            totalPageCount = (this.totalCount % this.pageSize) > 0
                ? Math.ceil(this.totalCount / this.pageSize)
                : (this.totalCount / this.pageSize);
        }
        this.pagination = {
            pageIndex: this.pageIndex,
            totalPage: totalPageCount
        };
        this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;
        this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;
        if (!this.isEnable) {
            this.isDisablePreBtn = this.isDisableNextBtn = !this.isEnable;
        }
    }
    /**
     * @param {?} type
     * @return {?}
     */
    handlePreBtnClick(type) {
        switch (type) {
            case '0':
                this.pagination.pageIndex = 1;
                break;
            case '1':
                this.pagination.pageIndex -= 1;
                break;
        }
        this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;
        this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;
        this.pageChange.emit(this.pagination);
    }
    /**
     * @param {?} type
     * @return {?}
     */
    handleNextBtnClick(type) {
        switch (type) {
            case '0':
                this.pagination.pageIndex = this.pagination.totalPage;
                break;
            case '1':
                this.pagination.pageIndex += 1;
                break;
        }
        this.isDisablePreBtn = this.pagination.pageIndex === 1 ? true : false;
        this.isDisableNextBtn = this.pagination.pageIndex === this.pagination.totalPage ? true : false;
        this.pageChange.emit(this.pagination);
    }
}
QueryFrameworkPaginationComponent.decorators = [
    { type: Component, args: [{
                selector: 'query-framework-pagination',
                template: "<nav *ngIf=\"isEnable\" aria-label=\"Page navigation\">\r\n  <ul class=\"pagination p-0 pr-1\">\r\n    <li class=\"page-item\">\r\n      <span class=\"page-link border-0 w-100\">{{localizePageInfo?.totalPreInfo}}{{totalCount}}{{localizePageInfo?.totalEndInfo}}</span>\r\n    </li>\r\n    <li class=\"page-item ml-0\" [class.disabled]=\"isDisablePreBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handlePreBtnClick('0')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-seek-w\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"isDisablePreBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handlePreBtnClick('1')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-arrow-w\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\">\r\n      <span class=\"page-link border-0 w-100\">{{pagination.pageIndex}}/{{pagination.totalPage?pagination.totalPage:0}}</span>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"isDisableNextBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handleNextBtnClick('1')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-arrow-e\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\" [class.disabled]=\"isDisableNextBtn\">\r\n      <a href=\"javascript:void(0);\" (click)=\"handleNextBtnClick('0')\" tabindex=\"-1\" class=\"page-link border-0\">\r\n        <span class=\"f-icon f-icon-seek-e\" aria-label=\"\">\r\n        </span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n",
                styles: [""]
            }] }
];
/** @nocollapse */
QueryFrameworkPaginationComponent.ctorParameters = () => [];
QueryFrameworkPaginationComponent.propDecorators = {
    pageInfo: [{ type: Input }],
    localizePageInfo: [{ type: Input }],
    pageChange: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pagination;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.isDisablePreBtn;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.isDisableNextBtn;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.isEnable;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageInfo;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.localizePageInfo;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.totalCount;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageSize;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageIndex;
    /** @type {?} */
    QueryFrameworkPaginationComponent.prototype.pageChange;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWYtcGFnaW5hdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AcWRwL3F1ZXJ5LWZyYW1ld29yay8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnQvcWYtcGFnaW5hdGlvbi9xZi1wYWdpbmF0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFPekcsTUFBTSxPQUFPLGlDQUFpQztJQWtCNUM7UUFqQkEsZUFBVSxHQUFRO1lBQ2hCLFNBQVMsRUFBRSxDQUFDO1lBQ1osUUFBUSxFQUFFLEVBQUU7WUFDWixTQUFTLEVBQUUsQ0FBQztTQUNiLENBQUM7UUFDRixvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUN4QixxQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDekIsYUFBUSxHQUFHLElBQUksQ0FBQztRQUtoQixlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFDZCxjQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ0osZUFBVSxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7SUFFL0IsQ0FBQzs7OztJQUVqQixRQUFRO1FBQ04sSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RCLENBQUM7Ozs7O0lBRUQsV0FBVyxDQUFDLE9BQXNCO1FBQ2hDLEtBQUssTUFBTSxVQUFVLElBQUksT0FBTyxFQUFFOztrQkFDMUIsUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZO1lBQ2pELElBQUksUUFBUSxLQUFLLElBQUksSUFBSSxRQUFRLEtBQUssS0FBSyxDQUFDLEVBQUU7Z0JBQzVDLFFBQVEsVUFBVSxFQUFFO29CQUNsQixLQUFLLFlBQVk7d0JBQ2YsTUFBTTtvQkFDUixLQUFLLFVBQVU7d0JBQ2IsSUFBSSxRQUFRLENBQUMsUUFBUSxLQUFLLENBQUMs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Q0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDO2dCQUN0RCxNQUFNO1lBQ1IsS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsTUFBTTtTQUNUO1FBQ0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDL0YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7OztZQXRHRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLDRCQUE0QjtnQkFDdEMsK3FEQUE2Qzs7YUFFOUM7Ozs7O3VCQVlFLEtBQUs7K0JBQ0wsS0FBSzt5QkFJTCxNQUFNOzs7O0lBZlAsdURBSUU7O0lBQ0YsNERBQXdCOztJQUN4Qiw2REFBeUI7O0lBQ3pCLHFEQUFnQjs7SUFHaEIscURBQXVCOztJQUN2Qiw2REFBK0I7O0lBQy9CLHVEQUFnQjs7SUFDaEIscURBQWM7O0lBQ2Qsc0RBQWM7O0lBQ2QsdURBQStDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3F1ZXJ5LWZyYW1ld29yay1wYWdpbmF0aW9uJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vcWYtcGFnaW5hdGlvbi5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vcWYtcGFnaW5hdGlvbi5jb21wb25lbnQuY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFF1ZXJ5RnJhbWV3b3JrUGFnaW5hdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcclxuICBwYWdpbmF0aW9uOiBhbnkgPSB7XHJcbiAgICBwYWdlSW5kZXg6IDEsXHJcbiAgICBwYWdlU2l6ZTogMTAsXHJcbiAgICB0b3RhbFBhZ2U6IDBcclxuICB9O1xyXG4gIGlzRGlzYWJsZVByZUJ0biA9IGZhbHNlO1xyXG4gIGlzRGlzYWJsZU5leHRCdG4gPSBmYWxzZTtcclxuICBpc0VuYWJsZSA9IHRydWU7XHJcbiAgLy8gQElucHV0KCkgc2NoZW1hSW5mbzogYW55O1xyXG4gIC8vIEBJbnB1dCgpIGNvbExpc3Q6IGFueTtcclxuICBASW5wdXQoKSBwYWdlSW5mbzogYW55O1xyXG4gIEBJbnB1dCgpIGxvY2FsaXplUGFnZUluZm86IGFueTtcclxuICB0b3RhbENvdW50ID0gMjE7XHJcbiAgcGFnZVNpemUgPSAxMDtcclxuICBwYWdlSW5kZXggPSAxO1xyXG4gIEBPdXRwdXQoKSBwYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy5pbml0UGFnZUluZm8oKTtcclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGZvciAoY29uc3QgY2hhbmdlTmFtZSBpbiBjaGFuZ2VzKSB7XHJcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gY2hhbmdlc1tjaGFuZ2VOYW1lXS5jdXJyZW50VmFsdWU7XHJcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gbnVsbCAmJiBuZXdWYWx1ZSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgc3dpdGNoIChjaGFuZ2VOYW1lKSB7XHJcbiAgICAgICAgICBjYXNlICdzY2hlbWFJbmZvJzpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdwYWdlSW5mbyc6XHJcbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5wYWdlU2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaXNFbmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5pc0VuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9IHRoaXMucGFnZUluZGV4ID0gbmV3VmFsdWUucGFnZUluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUgPSB0aGlzLnBhZ2VTaXplID0gbmV3VmFsdWUucGFnZVNpemU7XHJcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbFBhZ2UgPSBuZXdWYWx1ZS5wYWdlQ291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxDb3VudCA9IG5ld1ZhbHVlLnRvdGFsQ291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFBhZ2VJbmZvKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdFBhZ2VJbmZvKCkge1xyXG4gICAgbGV0IHRvdGFsUGFnZUNvdW50ID0gMDtcclxuICAgIGlmICh0aGlzLnRvdGFsQ291bnQgPD0gdGhpcy5wYWdlU2l6ZSkge1xyXG4gICAgICB0b3RhbFBhZ2VDb3VudCA9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0b3RhbFBhZ2VDb3VudCA9ICh0aGlzLnRvdGFsQ291bnQgJSB0aGlzLnBhZ2VTaXplKSA+IDBcclxuICAgICAgICA/IE1hdGguY2VpbCh0aGlzLnRvdGFsQ291bnQgLyB0aGlzLnBhZ2VTaXplKVxyXG4gICAgICAgIDogKHRoaXMudG90YWxDb3VudCAvIHRoaXMucGFnZVNpemUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wYWdpbmF0aW9uID0ge1xyXG4gICAgICBwYWdlSW5kZXg6IHRoaXMucGFnZUluZGV4LFxyXG4gICAgICB0b3RhbFBhZ2U6IHRvdGFsUGFnZUNvdW50XHJcbiAgICB9O1xyXG4gICAgdGhpcy5pc0Rpc2FibGVQcmVCdG4gPSB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4ID09PSAxID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5pc0Rpc2FibGVOZXh0QnRuID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9PT0gdGhpcy5wYWdpbmF0aW9uLnRvdGFsUGFnZSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNFbmFibGUpIHtcclxuICAgICAgdGhpcy5pc0Rpc2FibGVQcmVCdG4gPSB0aGlzLmlzRGlzYWJsZU5leHRCdG4gPSAhdGhpcy5pc0VuYWJsZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVByZUJ0bkNsaWNrKHR5cGU6IGFueSkge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJzAnOlxyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggPSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICcxJzpcclxuICAgICAgICB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4IC09IDE7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICB0aGlzLmlzRGlzYWJsZVByZUJ0biA9IHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggPT09IDEgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLmlzRGlzYWJsZU5leHRCdG4gPSB0aGlzLnBhZ2luYXRpb24ucGFnZUluZGV4ID09PSB0aGlzLnBhZ2luYXRpb24udG90YWxQYWdlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQodGhpcy5wYWdpbmF0aW9uKTtcclxuXHJcbiAgfVxyXG5cclxuICBoYW5kbGVOZXh0QnRuQ2xpY2sodHlwZTogYW55KSB7XHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnMCc6XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9IHRoaXMucGFnaW5hdGlvbi50b3RhbFBhZ2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJzEnOlxyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggKz0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHRoaXMuaXNEaXNhYmxlUHJlQnRuID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VJbmRleCA9PT0gMSA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuaXNEaXNhYmxlTmV4dEJ0biA9IHRoaXMucGFnaW5hdGlvbi5wYWdlSW5kZXggPT09IHRoaXMucGFnaW5hdGlvbi50b3RhbFBhZ2UgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLnBhZ2VDaGFuZ2UuZW1pdCh0aGlzLnBhZ2luYXRpb24pO1xyXG4gIH1cclxuXHJcbn1cclxuIl19