{"version":3,"file":"qdp-command-services.umd.js.map","sources":["ng://@qdp/command-services/lib/queryindex.service.ts","ng://@qdp/command-services/lib/condition-schema/finish-event.service.ts","ng://@qdp/command-services/lib/index.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Repository } from '@farris/devkit';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { Router } from '@angular/router';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { FilterManagerService, EventBus } from '@qdp/common';\r\nimport { RtfServices } from '@qdp/common';\r\n\r\n@Injectable()\r\nexport class QueryIndexService {\r\n  constructor(\r\n    private repository: Repository<any>,\r\n    private cacheService: CacheService,\r\n    private router: Router,\r\n    private frameworkService: FrameworkService,\r\n    private filterManagerService: FilterManagerService\r\n  ) {\r\n    window['excuteQDPQuery'] = this.filterManagerService.isFilterQDP;\r\n  }\r\n\r\n  route(queryId: any, path?: any) {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      params = entitys[0].toJSON();\r\n      // const queryIdArray = queryId.split(';'); // æ¯æä¸ä¸ªæ¥è¯¢ç´¢å¼è·³è½¬å¤ä¸ªæ¥è¯¢ç»æçæåµ\r\n      // queryIdArray.forEach(queryIdInfo => {\r\n      //   this.cacheService.set(queryIdInfo, params);\r\n      // });\r\n      this.cacheService.set(RtfServices.getTabId(queryId), params);\r\n      let p = 'qdpview';\r\n      if (path) {\r\n        p = path;\r\n      }\r\n      // const url = this.router.createUrlTree([this.router.url, p]).toString();\r\n      this.router.navigateByUrl(p);\r\n    }\r\n  }\r\n\r\n  routeEx(queryId: any, appType: any, appId?: any, appEntrance?: any, funcId?: any) {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      const tabId = EventBus.guid();\r\n      params = entitys[0].toJSON();\r\n      const options: any = { 'appType': appType, 'appId': appId, 'appEntrance': appEntrance, 'funcId': funcId, 'tabId': tabId };\r\n      const cacheKey = RtfServices.getFuncId(options);\r\n      this.cacheService.set(cacheKey + 'renderMode', 'queryIndex'); // ç´¢å¼é¡µçæ¥è¯¢åæ°ä»¥åè½IDä¸ºç¼å­keyè¿è¡ç¼å­ï¼è§£å³æå¼å¤ä¸ªç»æé¡µæ¥è¯¢è¦çé®é¢\r\n      this.cacheService.set(cacheKey, params);\r\n      const menuSwitchControl = Object.assign({}, RtfServices.getMenuSwitchControlParameter(cacheKey));\r\n      options['entityParams'] = menuSwitchControl;\r\n      this.frameworkService.openMenu(options);\r\n    }\r\n  }\r\n\r\n  queryRefresh() {\r\n    this.filterManagerService.isFilterQDP.next(true);\r\n  }\r\n\r\n  // æ¥è¯¢è¿æ»¤\r\n  filterQDP(queryId: any, filterCondition: any) {\r\n    const self = this;\r\n    filterCondition = this['context']['eventParam'];\r\n    const entityData: any = { 'id': 'undefined_null' };\r\n    if (filterCondition) {\r\n      filterCondition.forEach(condition => {\r\n        const tempDataField = condition.fieldCode;\r\n        let tempData = condition.value;\r\n        if (tempData && (tempData.dateValue || tempData.value || tempData.numValue || tempData.yearValue || tempData.startTime || tempData.endTime || tempData.startValue || tempData.endValue || tempData.monthValue || tempData.datetimeValue)) {\r\n          const tempDataType = condition.control.getControlType();\r\n          switch (tempDataType) {\r\n            case 0: // Text\r\n            case 14: // Radio\r\n            case 15: // åªè½è¾å¥æ¡\r\n              if (typeof tempData.value + '' === 'string') {\r\n                tempData = tempData.value;\r\n              }\r\n              break;\r\n            case 1: // SingleDate\r\n              tempData = tempData.dateValue;\r\n              break;\r\n            case 2: // SmartHelp\r\n              if (tempData && tempData.value && tempData.value.length) {\r\n                const helpValues: any = [];\r\n                tempData.value.forEach((el: any) => {\r\n                  if (tempData.isInputText) {\r\n                    helpValues.push(el);\r\n                  } else {\r\n                    helpValues.push(self.getValue(tempData.valueField, el));\r\n                  }\r\n                });\r\n                tempData = helpValues.join(',');\r\n              } else {\r\n                tempData = null;\r\n              }\r\n              break;\r\n            case 3: // DropDownList\r\n              if (tempData && tempData.value && tempData.value.length) {\r\n                const dropDownValues: any = [];\r\n                tempData.value.forEach((el: any) => {\r\n                  dropDownValues.push(el.value);\r\n                });\r\n                tempData = dropDownValues.join(',');\r\n              } else {\r\n                tempData = null;\r\n              }\r\n              break;\r\n            case 4: // DateRange\r\n            case 11: // MonthRange\r\n              tempData = {\r\n                beginValue: tempData.startTime ? tempData.startTime : null,\r\n                endValue: tempData.endTime ? tempData.endTime : null\r\n              }; // tempData.value;\r\n              break;\r\n            case 5: // NumberRange\r\n              tempData = {\r\n                beginValue: tempData.startValue ? tempData.startValue : null,\r\n                endValue: tempData.endValue ? tempData.endValue : null\r\n              }; // tempData.value;\r\n              break;\r\n            case 6: // SingleNumber\r\n              tempData = tempData.numValue;\r\n              break;\r\n            case 7: // SingleYear\r\n              tempData = tempData.yearValue;\r\n              break;\r\n            case 8: // BoolCheck\r\n              tempData = tempData.value && tempData.value.length ? tempData.value[0] : null;\r\n              break;\r\n            case 9: // DateTimeRange\r\n              tempData = {\r\n                beginValue: tempData.startTime ? tempData.startTime : null,\r\n                endValue: tempData.endTime ? tempData.endTime : null\r\n              }; // tempData.value;\r\n              break;\r\n            case 10: // SingleMonth\r\n              tempData = tempData.monthValue;\r\n              break;\r\n            case 12: // SingleDateTime\r\n              tempData = tempData.datetimeValue;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          const cacheObject = entityData;\r\n          if (tempDataField && tempDataField.indexOf(';') >= 0) {\r\n            const fields1 = tempDataField.split(';')[0].split('.');\r\n            const fields2 = tempDataField.split(';')[1].split('.');\r\n            if (tempData['beginValue'] != null && tempData['beginValue'] !== undefined) {\r\n              this.setEntityData(fields1, cacheObject, tempData['beginValue']);\r\n            }\r\n            if (tempData['endValue'] != null && tempData['endValue'] !== undefined) {\r\n              this.setEntityData(fields2, cacheObject, tempData['endValue']);\r\n            }\r\n          } else {\r\n            const fields = tempDataField.split('.');\r\n            if (tempData != null && tempData !== undefined) {\r\n              this.setEntityData(fields, cacheObject, tempData);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // const queryIdArray = queryId.split(';'); // æ¯æä¸ä¸ªæ¥è¯¢ç´¢å¼è·³è½¬å¤ä¸ªæ¥è¯¢ç»æçæåµ\r\n    // queryIdArray.forEach(queryIdInfo => {\r\n    //   this.cacheService.set(queryIdInfo, entityData);\r\n    // });\r\n    this.cacheService.set(RtfServices.getTabId(queryId), entityData);\r\n    this.filterManagerService.isFilterQDP.next(true);\r\n  }\r\n\r\n  private setEntityData(fields: any[], cacheObject: any, tempData: any) {\r\n    if (fields.length && fields.length > 1) {\r\n      for (let i = 0; i < fields.length; i++) {\r\n        if (i === 0) {\r\n          cacheObject = this.getEntityData(fields[i], cacheObject);\r\n        } else {\r\n          cacheObject = this.getEntityData(fields[i], cacheObject[fields[i - 1]]);\r\n        }\r\n        if ((i + 1) === fields.length) {\r\n          cacheObject[fields[i]] = tempData;\r\n        }\r\n      }\r\n    } else {\r\n      cacheObject[fields[0]] = tempData;\r\n    }\r\n  }\r\n\r\n  private getEntityData(key: string, entityData: any): any {\r\n    if (entityData.hasOwnProperty(key)) {\r\n      return entityData;\r\n    } else {\r\n      entityData[key] = {};\r\n      return entityData;\r\n    }\r\n  }\r\n\r\n  private getValue(field, data, safe = false) {\r\n    if (!data) {\r\n      return '';\r\n    }\r\n    let resultVal = '';\r\n    if (field.indexOf('.') === -1) {\r\n      resultVal = data[field];\r\n    } else {\r\n      resultVal = field.split('.').reduce((\r\n        (obj, key) => {\r\n          if (obj) {\r\n            return obj[key];\r\n          } else {\r\n            return null;\r\n          }\r\n        }), data);\r\n    }\r\n    if (safe) {\r\n      return this.formatterValue(resultVal);\r\n    } else {\r\n      return resultVal;\r\n    }\r\n  }\r\n\r\n  private formatterValue(val) {\r\n    if (val === null || val === undefined || val === '') {\r\n      return '';\r\n    }\r\n    if (typeof val === 'string') {\r\n      return this.escapeHtml(val);\r\n    }\r\n    return val;\r\n  }\r\n\r\n  private escapeHtml(str) {\r\n    if (str === null || str === undefined) {\r\n      return '';\r\n    }\r\n    return str\r\n      .replace(/&/g, '&amp;')\r\n      .replace(/</g, '&lt;')\r\n      .replace(/>/g, '&gt;')\r\n      .replace(/\\\"/g, '&quot;')\r\n      .replace(/\\'/g, '&#39;')\r\n      .replace(/\\//g, '&#x2F;');\r\n  }\r\n\r\n  // private unescapeHtml(str) {\r\n  //   if (str === null || str === undefined) {\r\n  //     return '';\r\n  //   }\r\n  //   return str\r\n  //     .replace(/&amp;/g, '&')\r\n  //     .replace(/&lt;/g, '<')\r\n  //     .replace(/&gt;/g, '>')\r\n  //     .replace(/&quot;/g, '\"')\r\n  //     .replace(/&#39;/g, '\\'')\r\n  //     .replace(/&#x2F;/g, '/');\r\n  // }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { FinishLoadService } from '@qdp/condition-schema';\r\n\r\n@Injectable()\r\nexport class FinishEventService {\r\n  constructor(private finishLoadService: FinishLoadService) { }\r\n\r\n  public SendEvent() {\r\n    this.finishLoadService.finish.next('finished');\r\n  }\r\n}\r\n","\r\nimport { Provider } from '@angular/core';\r\nimport { QueryIndexService } from './queryindex.service';\r\nimport { FinishEventService } from './condition-schema/finish-event.service';\r\n\r\nconst QDP_COMMAND_SERVICE_PROVIDERS: Provider[] = [\r\n  QueryIndexService,\r\n  FinishEventService\r\n];\r\n\r\nexport {\r\n  QueryIndexService,\r\n  FinishEventService,\r\n  QDP_COMMAND_SERVICE_PROVIDERS\r\n};\r\n"],"names":["router","RtfServices","EventBus","Injectable","Repository","CacheService","Router","FrameworkService","FilterManagerService","FinishLoadService"],"mappings":"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"}
