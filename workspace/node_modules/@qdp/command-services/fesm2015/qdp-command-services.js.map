{"version":3,"file":"qdp-command-services.js.map","sources":["ng://@qdp/command-services/lib/queryindex.service.ts","ng://@qdp/command-services/lib/condition-schema/finish-event.service.ts","ng://@qdp/command-services/lib/index.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Repository } from '@farris/devkit';\r\nimport { CacheService } from '@ecp-caf/caf-common';\r\nimport { Router } from '@angular/router';\r\nimport { FrameworkService } from '@gsp-sys/rtf-common';\r\nimport { FilterManagerService, EventBus } from '@qdp/common';\r\nimport { RtfServices } from '@qdp/common';\r\n\r\n@Injectable()\r\nexport class QueryIndexService {\r\n  constructor(\r\n    private repository: Repository<any>,\r\n    private cacheService: CacheService,\r\n    private router: Router,\r\n    private frameworkService: FrameworkService,\r\n    private filterManagerService: FilterManagerService\r\n  ) {\r\n    window['excuteQDPQuery'] = this.filterManagerService.isFilterQDP;\r\n  }\r\n\r\n  route(queryId: any, path?: any) {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      params = entitys[0].toJSON();\r\n      // const queryIdArray = queryId.split(';'); // æ¯æä¸ä¸ªæ¥è¯¢ç´¢å¼è·³è½¬å¤ä¸ªæ¥è¯¢ç»æçæåµ\r\n      // queryIdArray.forEach(queryIdInfo => {\r\n      //   this.cacheService.set(queryIdInfo, params);\r\n      // });\r\n      this.cacheService.set(RtfServices.getTabId(queryId), params);\r\n      let p = 'qdpview';\r\n      if (path) {\r\n        p = path;\r\n      }\r\n      // const url = this.router.createUrlTree([this.router.url, p]).toString();\r\n      this.router.navigateByUrl(p);\r\n    }\r\n  }\r\n\r\n  routeEx(queryId: any, appType: any, appId?: any, appEntrance?: any, funcId?: any) {\r\n    const entitys = this.repository.entityCollection.getAllEntities();\r\n    let params;\r\n    if (entitys && entitys.length) {\r\n      const tabId = EventBus.guid();\r\n      params = entitys[0].toJSON();\r\n      const options: any = { 'appType': appType, 'appId': appId, 'appEntrance': appEntrance, 'funcId': funcId, 'tabId': tabId };\r\n      const cacheKey = RtfServices.getFuncId(options);\r\n      this.cacheService.set(cacheKey + 'renderMode', 'queryIndex'); // ç´¢å¼é¡µçæ¥è¯¢åæ°ä»¥åè½IDä¸ºç¼å­keyè¿è¡ç¼å­ï¼è§£å³æå¼å¤ä¸ªç»æé¡µæ¥è¯¢è¦çé®é¢\r\n      this.cacheService.set(cacheKey, params);\r\n      const menuSwitchControl = Object.assign({}, RtfServices.getMenuSwitchControlParameter(cacheKey));\r\n      options['entityParams'] = menuSwitchControl;\r\n      this.frameworkService.openMenu(options);\r\n    }\r\n  }\r\n\r\n  queryRefresh() {\r\n    this.filterManagerService.isFilterQDP.next(true);\r\n  }\r\n\r\n  // æ¥è¯¢è¿æ»¤\r\n  filterQDP(queryId: any, filterCondition: any) {\r\n    const self = this;\r\n    filterCondition = this['context']['eventParam'];\r\n    const entityData: any = { 'id': 'undefined_null' };\r\n    if (filterCondition) {\r\n      filterCondition.forEach(condition => {\r\n        const tempDataField = condition.fieldCode;\r\n        let tempData = condition.value;\r\n        if (tempData && (tempData.dateValue || tempData.value || tempData.numValue || tempData.yearValue || tempData.startTime || tempData.endTime || tempData.startValue || tempData.endValue || tempData.monthValue || tempData.datetimeValue)) {\r\n          const tempDataType = condition.control.getControlType();\r\n          switch (tempDataType) {\r\n            case 0: // Text\r\n            case 14: // Radio\r\n            case 15: // åªè½è¾å¥æ¡\r\n              if (typeof tempData.value + '' === 'string') {\r\n                tempData = tempData.value;\r\n              }\r\n              break;\r\n            case 1: // SingleDate\r\n              tempData = tempData.dateValue;\r\n              break;\r\n            case 2: // SmartHelp\r\n              if (tempData && tempData.value && tempData.value.length) {\r\n                const helpValues: any = [];\r\n                tempData.value.forEach((el: any) => {\r\n                  if (tempData.isInputText) {\r\n                    helpValues.push(el);\r\n                  } else {\r\n                    helpValues.push(self.getValue(tempData.valueField, el));\r\n                  }\r\n                });\r\n                tempData = helpValues.join(',');\r\n              } else {\r\n                tempData = null;\r\n              }\r\n              break;\r\n            case 3: // DropDownList\r\n              if (tempData && tempData.value && tempData.value.length) {\r\n                const dropDownValues: any = [];\r\n                tempData.value.forEach((el: any) => {\r\n                  dropDownValues.push(el.value);\r\n                });\r\n                tempData = dropDownValues.join(',');\r\n              } else {\r\n                tempData = null;\r\n              }\r\n              break;\r\n            case 4: // DateRange\r\n            case 11: // MonthRange\r\n              tempData = {\r\n                beginValue: tempData.startTime ? tempData.startTime : null,\r\n                endValue: tempData.endTime ? tempData.endTime : null\r\n              }; // tempData.value;\r\n              break;\r\n            case 5: // NumberRange\r\n              tempData = {\r\n                beginValue: tempData.startValue ? tempData.startValue : null,\r\n                endValue: tempData.endValue ? tempData.endValue : null\r\n              }; // tempData.value;\r\n              break;\r\n            case 6: // SingleNumber\r\n              tempData = tempData.numValue;\r\n              break;\r\n            case 7: // SingleYear\r\n              tempData = tempData.yearValue;\r\n              break;\r\n            case 8: // BoolCheck\r\n              tempData = tempData.value && tempData.value.length ? tempData.value[0] : null;\r\n              break;\r\n            case 9: // DateTimeRange\r\n              tempData = {\r\n                beginValue: tempData.startTime ? tempData.startTime : null,\r\n                endValue: tempData.endTime ? tempData.endTime : null\r\n              }; // tempData.value;\r\n              break;\r\n            case 10: // SingleMonth\r\n              tempData = tempData.monthValue;\r\n              break;\r\n            case 12: // SingleDateTime\r\n              tempData = tempData.datetimeValue;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          const cacheObject = entityData;\r\n          if (tempDataField && tempDataField.indexOf(';') >= 0) {\r\n            const fields1 = tempDataField.split(';')[0].split('.');\r\n            const fields2 = tempDataField.split(';')[1].split('.');\r\n            if (tempData['beginValue'] != null && tempData['beginValue'] !== undefined) {\r\n              this.setEntityData(fields1, cacheObject, tempData['beginValue']);\r\n            }\r\n            if (tempData['endValue'] != null && tempData['endValue'] !== undefined) {\r\n              this.setEntityData(fields2, cacheObject, tempData['endValue']);\r\n            }\r\n          } else {\r\n            const fields = tempDataField.split('.');\r\n            if (tempData != null && tempData !== undefined) {\r\n              this.setEntityData(fields, cacheObject, tempData);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // const queryIdArray = queryId.split(';'); // æ¯æä¸ä¸ªæ¥è¯¢ç´¢å¼è·³è½¬å¤ä¸ªæ¥è¯¢ç»æçæåµ\r\n    // queryIdArray.forEach(queryIdInfo => {\r\n    //   this.cacheService.set(queryIdInfo, entityData);\r\n    // });\r\n    this.cacheService.set(RtfServices.getTabId(queryId), entityData);\r\n    this.filterManagerService.isFilterQDP.next(true);\r\n  }\r\n\r\n  private setEntityData(fields: any[], cacheObject: any, tempData: any) {\r\n    if (fields.length && fields.length > 1) {\r\n      for (let i = 0; i < fields.length; i++) {\r\n        if (i === 0) {\r\n          cacheObject = this.getEntityData(fields[i], cacheObject);\r\n        } else {\r\n          cacheObject = this.getEntityData(fields[i], cacheObject[fields[i - 1]]);\r\n        }\r\n        if ((i + 1) === fields.length) {\r\n          cacheObject[fields[i]] = tempData;\r\n        }\r\n      }\r\n    } else {\r\n      cacheObject[fields[0]] = tempData;\r\n    }\r\n  }\r\n\r\n  private getEntityData(key: string, entityData: any): any {\r\n    if (entityData.hasOwnProperty(key)) {\r\n      return entityData;\r\n    } else {\r\n      entityData[key] = {};\r\n      return entityData;\r\n    }\r\n  }\r\n\r\n  private getValue(field, data, safe = false) {\r\n    if (!data) {\r\n      return '';\r\n    }\r\n    let resultVal = '';\r\n    if (field.indexOf('.') === -1) {\r\n      resultVal = data[field];\r\n    } else {\r\n      resultVal = field.split('.').reduce((\r\n        (obj, key) => {\r\n          if (obj) {\r\n            return obj[key];\r\n          } else {\r\n            return null;\r\n          }\r\n        }), data);\r\n    }\r\n    if (safe) {\r\n      return this.formatterValue(resultVal);\r\n    } else {\r\n      return resultVal;\r\n    }\r\n  }\r\n\r\n  private formatterValue(val) {\r\n    if (val === null || val === undefined || val === '') {\r\n      return '';\r\n    }\r\n    if (typeof val === 'string') {\r\n      return this.escapeHtml(val);\r\n    }\r\n    return val;\r\n  }\r\n\r\n  private escapeHtml(str) {\r\n    if (str === null || str === undefined) {\r\n      return '';\r\n    }\r\n    return str\r\n      .replace(/&/g, '&amp;')\r\n      .replace(/</g, '&lt;')\r\n      .replace(/>/g, '&gt;')\r\n      .replace(/\\\"/g, '&quot;')\r\n      .replace(/\\'/g, '&#39;')\r\n      .replace(/\\//g, '&#x2F;');\r\n  }\r\n\r\n  // private unescapeHtml(str) {\r\n  //   if (str === null || str === undefined) {\r\n  //     return '';\r\n  //   }\r\n  //   return str\r\n  //     .replace(/&amp;/g, '&')\r\n  //     .replace(/&lt;/g, '<')\r\n  //     .replace(/&gt;/g, '>')\r\n  //     .replace(/&quot;/g, '\"')\r\n  //     .replace(/&#39;/g, '\\'')\r\n  //     .replace(/&#x2F;/g, '/');\r\n  // }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { FinishLoadService } from '@qdp/condition-schema';\r\n\r\n@Injectable()\r\nexport class FinishEventService {\r\n  constructor(private finishLoadService: FinishLoadService) { }\r\n\r\n  public SendEvent() {\r\n    this.finishLoadService.finish.next('finished');\r\n  }\r\n}\r\n","\r\nimport { Provider } from '@angular/core';\r\nimport { QueryIndexService } from './queryindex.service';\r\nimport { FinishEventService } from './condition-schema/finish-event.service';\r\n\r\nconst QDP_COMMAND_SERVICE_PROVIDERS: Provider[] = [\r\n  QueryIndexService,\r\n  FinishEventService\r\n];\r\n\r\nexport {\r\n  QueryIndexService,\r\n  FinishEventService,\r\n  QDP_COMMAND_SERVICE_PROVIDERS\r\n};\r\n"],"names":[],"mappings":"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"}
