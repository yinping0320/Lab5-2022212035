{"version":3,"file":"qdp-formular.js.map","sources":["ng://@qdp/formular/lib/service/restful.service.ts","ng://@qdp/formular/lib/service/entitydata.service.ts","ng://@qdp/formular/lib/component/formular-define/formular-define.component.ts","ng://@qdp/formular/lib/component/formular-select/formular-select.component.ts","ng://@qdp/formular/lib/component/step-component/step-component.component.ts","ng://@qdp/formular/lib/component/formular-define-wizard/formular-define-wizard.component.ts","ng://@qdp/formular/lib/service/formular.service.ts","ng://@qdp/formular/lib/directive/help-before-event.directive.ts","ng://@qdp/formular/lib/formular.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport type RestfulMethod = 'GET' | 'PUT' | 'POST' | 'DELETE';\r\n\r\n@Injectable()\r\nexport class RestfulService {\r\n  /**\r\n   * æé å½æ°\r\n   * @param httpClient httpå®¢æ·ç«¯\r\n   */\r\n  constructor(private httpClient: HttpClient) { }\r\n  /**\r\n   * åéGETè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  get(uri: string, params?: object, options?: any): Observable<any[]> {\r\n     return this.request(uri, 'GET', params, options); \r\n  }\r\n\r\n  /**\r\n   * åéPOSTè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  put(uri: string, body: any, params?: object, options?: any): Observable<any> {\r\n    const optionsWithBody = this.addBody(options, body);\r\n    return this.request(uri, 'PUT', params, optionsWithBody);\r\n  }\r\n\r\n  /**\r\n   * åéPUTè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  post(uri: string, body: any, params?: object, options?: any): Observable<any> {\r\n      const optionsWithBody = this.addBody(options, body);\r\n      return this.request(uri, 'POST', params, optionsWithBody);\r\n  }\r\n\r\n  /**\r\n   * åéDELETEè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  delete(uri: string, params?: object, options?: any): Observable<any> {\r\n    return this.request(uri, 'DELETE', params, options);\r\n  }\r\n\r\n  /**\r\n   * åéè¯·æ±\r\n   * @param uri è¯·æ±å°å\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  private request(uri: string, method: any, params: object, options: any = {}): Observable<any> {\r\n    options = options || {};\r\n    if (params) {\r\n      const httpParams = this.buildParams(params);\r\n      options.params = httpParams;\r\n    }\r\n    const methodName = method as string;\r\n    const result = this.httpClient.request(methodName, uri, options);\r\n    // if (result && result.returnValue) {result = result.returnValue};\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * æé Httpè¯·æ±åæ°\r\n   * @param params è¯·æ±åæ°\r\n   */\r\n  private buildParams(params: object): HttpParams {\r\n    const parameters: any = {};\r\n    for (const key in params) {\r\n      if (params.hasOwnProperty(key) && params[key]) {\r\n        const value = params[key].toString();\r\n        parameters[key] = value;\r\n      }\r\n    }\r\n    return parameters;\r\n  }\r\n\r\n  private addBody(options: any, body: any) {\r\n    options = options || {};\r\n    const mergedOptions = Object.assign(options, { body });\r\n    return mergedOptions;\r\n  }\r\n}\r\n","import { Injectable} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class EntityDataService {\r\n  private isFinish: any = false;\r\n  private formularInfo: any = {};\r\n  private stepType: string;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  setStepType(stepTye: string) {\r\n    this.stepType = stepTye;\r\n  }\r\n\r\n  getStepType() {\r\n    return this.stepType;\r\n  }\r\n\r\n  setFormularState(isFinish: any, formularInfo: any){\r\n      this.isFinish = isFinish;\r\n      this.formularInfo = formularInfo;\r\n  }\r\n\r\n  getFormularState() {\r\n    return {isFinish: this.isFinish , formularInfo: this.formularInfo};\r\n}\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, OnChanges, SimpleChanges, TemplateRef, OnDestroy, AfterViewInit } from '@angular/core';\r\nimport { Observable, of, Subscription, Subject } from 'rxjs';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { SessionService, CacheService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../../service/restful.service';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { FormularService } from '../../service/formular.service';\r\nimport { EntityDataService } from '../../service/entitydata.service';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Component({\r\n  selector: 'formular-define',\r\n  templateUrl: './formular-define.component.html',\r\n  styleUrls: ['./formular-define.component.scss']\r\n})\r\nexport class FormularDefineComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('resultColumnTemp') resultColumnTemp: TemplateRef<any>;\r\n  @ViewChild('resultSortColumnTemp') resultSortColumnTemp: TemplateRef<any>;\r\n  @ViewChild('resultColVisibleColumnTemp') resultColVisibleColumnTemp: TemplateRef<any>;\r\n  data: any = [];\r\n  funcData: any = [];\r\n  currentFormularId: any; // å½åå¬å¼id\r\n  currentFunctionId: any; // å½åä¸å¡å½æ°id\r\n  serverHost: any; // å½åç«ç¹host\r\n  size: any = {};\r\n  currentFuncDatas: any;\r\n  funcSelectValue: any;\r\n  inputTemplate: any = '';\r\n  sessionId: any;\r\n  dynamicInput: any = [];\r\n  columns: any = [\r\n  ];\r\n  formularText: any = ''; // å¬å¼ä¿¡æ¯\r\n  binding: any = 'selectFormular';\r\n  name: any = ''; // å¬å¼åç§°\r\n  isGroup: any = false; // æ¯å¦åç»\r\n  resultDatas: any = [];\r\n  @ViewChild('dg') dg: DatagridComponent;\r\n  resultColumns: any = [\r\n  ];\r\n  type: any;\r\n  metadataobjectid: any;\r\n  qomanagercode: any;\r\n  formularWizard: any = '0';\r\n  formularType = 0; // 0æ®éå¬å¼ 1ç»åå¬å¼\r\n  loading = this.loadService.show({ container: 'body' });\r\n\r\n  /**\r\n   * å½éå\r\n   */\r\n  labelSaveFormular = 'ä¿å­å¬å¼';\r\n  labelGeneraterFormular: 'å½¢æå¬å¼';\r\n  labelQueryFunc: 'ä¸å¡æ¥è¯¢å½æ°';\r\n  labelBasicInfo: 'åºæ¬ä¿¡æ¯';\r\n  labelFormularName: 'å¬å¼åç§°';\r\n  labelIsGroup: 'æ¯å¦åç»';\r\n  labelParamInfo: 'åæ°ä¿¡æ¯';\r\n  labelResultColInfo: 'ç»æåä¿¡æ¯';\r\n\r\n  resultSortColumns: any = [\r\n    {\r\n      id: '0',\r\n      label: 'æ '\r\n    },\r\n    {\r\n      id: '1',\r\n      label: 'ååº'\r\n    },\r\n    {\r\n      id: '2',\r\n      label: 'éåº'\r\n    }\r\n  ];\r\n\r\n  resultColVisibleColumns: any = [\r\n    {\r\n      id: '0',\r\n      label: 'å¦'\r\n    },\r\n    {\r\n      id: '1',\r\n      label: 'æ¯'\r\n    }\r\n  ];\r\n\r\n  /**\r\n   * å¸®å©éç½®å­æ®µ\r\n   */\r\n  helpData: any = [];\r\n  helpColumns: any = [];\r\n\r\n  constructor(private restfulService: RestfulService\r\n    , private msgService: MessagerService\r\n    , private cacheService: CacheService\r\n    , private loadService: LoadingService\r\n    , private entityDataService: EntityDataService\r\n    , private localizeService: LocalizeService) {\r\n    this.labelSaveFormular = this.localizeService.getValue('formular.define.labelSaveFormular');\r\n    this.labelGeneraterFormular = this.localizeService.getValue('formular.define.labelGeneraterFormular');\r\n    this.labelQueryFunc = this.localizeService.getValue('formular.define.labelQueryFunc');\r\n    this.labelBasicInfo = this.localizeService.getValue('formular.define.labelBasicInfo');\r\n    this.labelFormularName = this.localizeService.getValue('formular.define.labelFormularName');\r\n    this.labelIsGroup = this.localizeService.getValue('formular.define.labelIsGroup');\r\n    this.labelParamInfo = this.localizeService.getValue('formular.define.labelParamInfo');\r\n    this.labelResultColInfo = this.localizeService.getValue('formular.define.labelResultColInfo');\r\n    this.resultSortColumns = this.localizeService.getValue('formular.define.resultSortColumns');\r\n    this.resultColVisibleColumns = this.localizeService.getValue('formular.define.resultColVisibleColumns');\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.data = this.cacheService.get('formularParam');\r\n    this.formularWizard = this.data.formularWizard;\r\n    this.formularType = this.data.formularWizard === '2' ? 1 : 0;\r\n    this.currentFormularId = this.data.currentFormularId;\r\n    this.columns = [\r\n      // { field: 'id', width: 100, title: 'ID' },\r\n      { field: 'resultcolvisible', width: 60, title: this.localizeService.getValue('formular.define.columntitles.resultcolvisible'), template: this.resultColVisibleColumnTemp },\r\n      { field: 'resultcode', width: 60, title: this.localizeService.getValue('formular.define.columntitles.resultcode')},\r\n      { field: 'resultdescription', width: 60, title: this.getResultDescription()},\r\n      { field: 'resultsort', width: 60, title: this.localizeService.getValue('formular.define.columntitles.resultsort'), template: this.resultSortColumnTemp }\r\n    ];\r\n    if (this.data.sessionId) {\r\n      this.getFuncInfo();\r\n    } else {\r\n      this.createHeaderSessionId().subscribe(sessionId => {\r\n        console.log(sessionId);\r\n        if (sessionId) {\r\n          this.getFuncInfo();\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  guid() {\r\n    return ([1e7] as any + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\r\n      (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\r\n  }\r\n\r\n  getResultDescription() {\r\n    return this.getLanguage() === 'zh-chs' ? 'åæè¿°': 'description';\r\n  }\r\n\r\n  getLanguage() {\r\n    switch(this.localizeService.localeId) {\r\n      case 'zh-chs':\r\n      case 'zh-cn':\r\n      case 'zh':\r\n        return 'zh-chs';\r\n      case 'en-us':\r\n      case 'en':\r\n        return 'en-us';\r\n    }\r\n    \r\n    return 'zh-chs';\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.loading.close();\r\n  }\r\n\r\n  handlebeforeClose = (): Observable<any> => {\r\n    return of(true);\r\n  }\r\n\r\n  private createHeaderSessionId(): Observable<any> {\r\n    const sessionId = new Subject();\r\n    const options: any = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      responseType: 'text'\r\n    };\r\n    const createSessionUrl = this.data.serverHost + '/api/gsp/bcc/v1.0/queryfuncdetail_frm/service/createsession';\r\n    this.restfulService.post(createSessionUrl, {}, {}, options).subscribe(data => {\r\n      this.data.sessionId = data;\r\n      sessionId.next(data);\r\n    });\r\n    return sessionId;\r\n  }\r\n\r\n  private getFuncInfo() {\r\n    let uri = this.data.serverHost;\r\n    const options = {\r\n      headers: {\r\n        'SessionId': this.data.sessionId,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const entityFilter = {\r\n      FilterConditions: [{ 'FilterField': 'SrcSU', 'Value': this.data.currentSU, 'Lbracket': null, 'Rbracket': null, 'Relation': 0, 'Expresstype': 0, 'Compare': 6 }],\r\n      SortConditions: [],\r\n      IsUsePagination: false,\r\n      Pagination: {\r\n        PageIndex: 0,\r\n        PageSize: 0,\r\n        PageCount: 0,\r\n        TotalCount: 0\r\n      }\r\n    };\r\n    uri += '/api/gsp/bcc/v1.0/queryfuncdetail_frm/extension/query?entityFilter=' + JSON.stringify(entityFilter);\r\n    this.restfulService.put(uri, {}, {}, options).subscribe(data => {\r\n      const funcDatas = data.returnValue.result;\r\n      if (funcDatas && funcDatas.length > 0) {\r\n        funcDatas.forEach(x => {\r\n          this.funcData.push({ name: x.name, value: x.id });\r\n        });\r\n      }\r\n      this.currentFuncDatas = funcDatas;\r\n      // å¦æéæ©çæ¯éæ©å¬å¼ï¼æ ¹æ®å¬ç¤ºä¿¡æ¯åå§é»è®¤çæ°æ®\r\n      if (this.currentFormularId && this.data.formularData && this.data.formularData.num1 === 1) {\r\n        this.name = this.data.formularData.name;\r\n        this.formularText = this.data.formularData.str6;\r\n        this.formularType = 1;\r\n      } else {\r\n        this.getFormularInfo();\r\n      }\r\n    });\r\n  }\r\n\r\n  private getFormularInfo() {\r\n    // æ¸ç©ºåå²æ°æ®\r\n    this.dynamicInput = [];\r\n    this.resultColumns = [];\r\n    this.resultDatas = [];\r\n    this.formularText = '';\r\n    this.name = '';\r\n    this.isGroup = 0;\r\n\r\n    if (this.currentFormularId) {\r\n      const options = {\r\n        headers: {\r\n          'SessionId': this.data.sessionId,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      };\r\n      const retrieveUri = this.data.serverHost + '/api/gsp/bcc/v1.0/querygetdatadetail_frm/extension/retrieve/' + this.currentFormularId;\r\n      this.restfulService.put(retrieveUri, {}, {}, options).subscribe(data => {\r\n        const formularData = data.returnValue;\r\n        if (formularData) {\r\n          // åå§åºç¡æ°æ®\r\n          this.name = formularData.name;\r\n          this.data.currentFormularName = formularData.name;\r\n          this.isGroup = formularData.isGroup;\r\n          const queryFuncId = formularData.queryFunc;\r\n          this.type = formularData.str1;\r\n          this.metadataobjectid = formularData.str2;\r\n          this.funcSelectValue = this.funcData.find(x => x.value === queryFuncId);\r\n          this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: this.name });\r\n          if (queryFuncId) {\r\n            this.getDropDownInfo(queryFuncId, this.type, this.metadataobjectid, true, formularData.queryGetDataParamInfos);\r\n          }\r\n\r\n          // const currentQueryGetDataParams = formularData.queryGetDataParamInfos;\r\n          const queryFuncResults = formularData.queryGetDataResultInfos;\r\n          // if (currentQueryGetDataParams && currentQueryGetDataParams.length > 0) {\r\n          //   currentQueryGetDataParams.forEach(queryGetDataParam => {\r\n          //     const fieldConfig = JSON.parse(queryGetDataParam.fieldConfig);\r\n          //     if (fieldConfig.controltype === 'dropdown') {\r\n          //       fieldConfig.enumValues = JSON.parse(fieldConfig.enumValues);\r\n          //     }\r\n          //     this.dynamicInput.push({ paramcode: queryGetDataParam.paramCode, paramname: queryGetDataParam.paramName, paramvalue: queryGetDataParam.paramValue, fieldConfig: JSON.parse(queryGetDataParam.fieldConfig) });\r\n          //   });\r\n          // }\r\n          if (queryFuncResults && queryFuncResults.length > 0) {\r\n            const resultColumns = [];\r\n            const data = [];\r\n            queryFuncResults.forEach(queryFuncResult => {\r\n              resultColumns.push({ id: queryFuncResult.resultCode, label: queryFuncResult.resultName });\r\n              data.push({ \r\n                id: queryFuncResult.id,\r\n                resultcode: queryFuncResult.resultCode,\r\n                resultsort: queryFuncResult.resultSort,\r\n                resultname: queryFuncResult.resultName,\r\n                resultcolvisible: queryFuncResult.resultColVisible === true ? '1' : '0',\r\n                resultdescription: ''\r\n              });\r\n            });\r\n            this.resultColumns = [...resultColumns];\r\n            this.resultDatas = [...data];\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  generateFormular() {\r\n    if (!this.name) {\r\n      this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.nameVerify'));\r\n      return;\r\n    }\r\n    if (!this.funcSelectValue) {\r\n      this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.funcVerify'));\r\n      return;\r\n    }\r\n    const formularInfo: any = {\r\n      id: this.currentFormularId,\r\n      cursu: this.data.currentSU,\r\n      isgroup: this.isGroup ? 1 : 0,\r\n      name: this.name,\r\n      queryfunc: this.funcSelectValue.value,\r\n      str1: this.type,\r\n      str2: this.metadataobjectid,\r\n      str3: this.qomanagercode ? this.qomanagercode : '',\r\n      str4: this.funcSelectValue.name,\r\n      str5: '',\r\n      str6: '',\r\n      formularParamInfos: this.dynamicInput,\r\n      formularResultInfos: this.resultDatas\r\n    };\r\n    const options = {\r\n      headers: {\r\n        'SessionId': this.data.sessionId,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    if (formularInfo) {\r\n      const retrieveUri = this.data.serverHost + '/api/gsp/bcc/v1.0/querygetdatadetail_frm/service/saveqdpformular';\r\n      this.restfulService.put(retrieveUri, { formularInfo: JSON.stringify(formularInfo) }, {}, options).subscribe(data => {\r\n        const formularData = data.returnValue;\r\n        if (formularData) {\r\n          this.currentFormularId = formularData;\r\n          this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: this.name });\r\n          // this.entityDataService.isFinish = true;\r\n          this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.saveFormular'));\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  generateFormularInfo() {\r\n    if (!this.currentFunctionId) {\r\n      this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.pleaseSelectQueryFunc'));\r\n      return;\r\n    }\r\n    if (this.resultDatas && this.resultDatas.filter(x => x.resultcolvisible === '1').length !== 1) {\r\n      this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.resultVerify'));\r\n      return;\r\n    }\r\n    const paramInfo = [];\r\n    this.dynamicInput.forEach(x => {\r\n      paramInfo.push({ key: x.paramcode, value: x.paramvalue ? x.paramvalue : '' });\r\n    });\r\n    const formularcompile = {\r\n      funcId: this.currentFunctionId,\r\n      paramInfos: paramInfo,\r\n      resultColName: this.resultDatas[0].resultcode,\r\n      qomanagercode: this.qomanagercode,\r\n      isgroup: this.isGroup ? 1 : 0\r\n    };\r\n    this.formularText = this.formularText + 'QDPFormular.execute(' + JSON.stringify(formularcompile) + ') ';\r\n  }\r\n\r\n  operator($event) {\r\n    this.formularText = this.formularText + $event;\r\n  }\r\n\r\n  onResized(event) {\r\n    this.size.height = event.newHeight;\r\n    this.size.width = event.newWidth;\r\n  }\r\n\r\n  selectionChange($event) {\r\n    // æ¸ç©ºåå²æ°æ®\r\n    this.dynamicInput = [];\r\n    this.resultColumns = [];\r\n    this.resultDatas = [];\r\n    this.name = this.formularType === 1 ? this.name : '';\r\n    this.isGroup = 0;\r\n    if ($event && $event.value) {\r\n      this.currentFunctionId = $event.value;\r\n      const funcData = this.currentFuncDatas.find(x => x.id === this.currentFunctionId);\r\n      this.name = this.name === '' ? funcData.name : this.name;\r\n      // ä¿å­å¬å¼ç±»åååæ°æ®id\r\n      this.type = funcData.srcType;\r\n      this.metadataobjectid = funcData.metadataObject;\r\n      if (this.currentFunctionId) {\r\n        this.getDropDownInfo(this.currentFunctionId, this.type, this.metadataobjectid, true, '');\r\n      }\r\n    }\r\n  }\r\n\r\n  // åå§ä¸æä¿¡æ¯\r\n  getDropDownInfo(funcid: any, type: any, metadataobjectid: any, generateData: any, queryFormularParam: any) {\r\n    const self = this;\r\n    // è®¿é®æ°æ®æå¡\r\n    const options = {\r\n      headers: {\r\n        'SessionId': self.data.sessionId,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const url = self.data.serverHost + '/api/gsp/bcc/v1.0/queryfuncdetail_frm/extension/retrieve/' + funcid;\r\n    self.restfulService.put(url, {}, {}, options).toPromise().then(function (value) {\r\n      if (value) {\r\n        value = value.returnValue;\r\n        // æ¥è¯¢åæ°\r\n        if (generateData) {\r\n          let queryFuncParams = value.queryFuncParams;\r\n          if (queryFuncParams.length > 0) {\r\n            // if (currentQueryGetDataParams && currentQueryGetDataParams.length > 0) {\r\n            //   currentQueryGetDataParams.forEach(queryGetDataParam => {\r\n            //     const fieldConfig = JSON.parse(queryGetDataParam.fieldConfig);\r\n            //     if (fieldConfig.controltype === 'dropdown') {\r\n            //       fieldConfig.enumValues = JSON.parse(fieldConfig.enumValues);\r\n            //     }\r\n            //     this.dynamicInput.push({ paramcode: queryGetDataParam.paramCode, paramname: queryGetDataParam.paramName, paramvalue: queryGetDataParam.paramValue, fieldConfig: JSON.parse(queryGetDataParam.fieldConfig) });\r\n            //   });\r\n            // }\r\n            queryFuncParams = queryFuncParams.sort(self.sortData);\r\n            queryFuncParams.forEach(funcParam => {\r\n              if (funcParam) {\r\n                const fieldConfig = JSON.parse(funcParam.fieldConfig);\r\n                if (fieldConfig.controltype === 'dropdown') {\r\n                  fieldConfig.enumValues = fieldConfig.enumValues;\r\n                }\r\n                let findParamInfo;\r\n                if (queryFormularParam && queryFormularParam.length > 0) {\r\n                  findParamInfo = queryFormularParam.find(x => x.paramCode === funcParam.code);\r\n                }\r\n                let paramvalue = (findParamInfo && findParamInfo.paramValue) ? findParamInfo.paramValue : '';\r\n                fieldConfig.paramvaluename = '';\r\n                if (fieldConfig.controltype === 'help' && findParamInfo) {\r\n                  const paramvaluearray = paramvalue.split('|');\r\n                  paramvalue = paramvaluearray[0];\r\n                  fieldConfig.paramvaluename = paramvaluearray[1];\r\n                }\r\n                self.dynamicInput.push({ id: findParamInfo ? findParamInfo.id : '', paramcode: funcParam.code, paramname: funcParam.name, paramvalue: paramvalue, fieldConfig: fieldConfig });\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        if (generateData) { // æ°å»ºæèç»åå¬å¼è°ç¨æ­¤é»è¾\r\n          self.resultColumns = [];\r\n          if (type === 'BE') {\r\n            const queryFuncResults = value.queryFuncResults;\r\n            if (queryFuncResults.length > 0) {\r\n\r\n              const funcResultDatas = [];\r\n              queryFuncResults.forEach(funcResult => {\r\n                if (funcResult) {\r\n                  // self.resultColumns.push({ id: funcResult.srcCol, label: funcResult.colName });\r\n                  funcResultDatas.push({ id: self.guid(), resultcode: funcResult.srcCol, resultsort: '0', resultname: funcResult.colName,\r\n                   resultcolvisible: '1', resultdescription: funcResult.description });\r\n                }\r\n              });\r\n\r\n              if (funcResultDatas.length > 0) {\r\n                if (self.resultDatas && self.resultDatas.length > 0) {\r\n                  let newResultDatas = [];\r\n                  for (let funcResultData of funcResultDatas) {\r\n                    const resultData = self.resultDatas.find(x => x.resultcode === funcResultData.resultcode);\r\n                    if (resultData) {\r\n                      newResultDatas.push({\r\n                        ...resultData, resultdescription: funcResultData.resultdescription\r\n                      });\r\n                    }\r\n                    else {\r\n                      newResultDatas.push(funcResultData);\r\n                    }\r\n                  }\r\n\r\n                  let resultColumns1 = [];\r\n                  newResultDatas.forEach(m => {\r\n                    resultColumns1.push({ id: m.resultcode, label: m.resultname });\r\n                  });\r\n                  self.resultColumns = [...resultColumns1];\r\n\r\n                  self.resultDatas = [...newResultDatas];\r\n                }\r\n                else {\r\n                  let resultColumns1 = [];\r\n                  funcResultDatas.forEach(m => {\r\n                    resultColumns1.push({ id: m.resultcode, label: m.resultname });\r\n                  });\r\n                  self.resultColumns = [...resultColumns1];\r\n\r\n                  self.resultDatas = [...funcResultDatas];\r\n                }\r\n\r\n                // self.resultDatas = [...funcResultDatas];\r\n              }\r\n            }\r\n          } else {\r\n            const options = {\r\n              headers: {\r\n                'SessionId': self.data.sessionId,\r\n                'Content-Type': 'application/json'\r\n              }\r\n            };\r\n            // æ ¹æ®idè·ååæ°æ®ä¿¡æ¯\r\n            self.restfulService.get(self.data.serverHost + '/api/runtime/sys/v1.0/rt-metadatas/' + metadataobjectid, {}, options).subscribe(metadataContent => {\r\n              if (metadataContent) {\r\n                const currentMetadataContent = JSON.parse(metadataContent['content']);\r\n                let mainObject = currentMetadataContent.QueryNode;\r\n                if (!mainObject) { mainObject = currentMetadataContent.DataSources['0'].QueryNode; }\r\n                const datas = [];\r\n                mainObject.ContainElements.forEach(containElement => {\r\n                  self.resultColumns.push({ id: containElement.Code, label: containElement.Name });\r\n                  datas.push({ id: self.guid(), resultcode: containElement.Code, resultsort: '0', resultname: containElement.Name, resultcolvisible: '1', resultdescription: '' });\r\n                });\r\n                if (datas.length > 0) {\r\n                  self.resultDatas = [...datas];\r\n                }\r\n                self.qomanagercode = 'com.' + (currentMetadataContent.NamespacePrefix + '.' + currentMetadataContent.Code).toLowerCase(); // qoç¼å·\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  sortData(a, b) {\r\n    return  a.orderNumber - b.orderNumber;\r\n  }\r\n\r\n  clickLastStep = () => {\r\n    this.cacheService.set('formularParam', this.data);\r\n    return true;\r\n  }\r\n\r\n  beforeFinish = () => {\r\n    const flag$ = new Subject();\r\n    if (this.formularType === 1) { // ç»åå¬å¼ä¿å­\r\n      if (!this.name) {\r\n        this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.nameVerify'));\r\n      }\r\n      if (!this.formularText) {\r\n        this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.combineVerify'));\r\n      } else if (this.formularText && !this.formularCheck(this.formularText)) {\r\n        this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.formularIntegrityVerify'));\r\n      }\r\n      const formularInfo: any = {\r\n        id: this.currentFormularId,\r\n        isgroup: this.isGroup ? 1 : 0,\r\n        name: this.name,\r\n        queryfunc: '',\r\n        str1: '',\r\n        str2: '',\r\n        str3: '',\r\n        str4: '',\r\n        cursu: this.data.currentSU,\r\n        str5: this.data.formularRegion ? this.data.formularRegion : 'publish',\r\n        str6: this.formularText,\r\n        num1: 1, // ä»£è¡¨ç»åå¬å¼\r\n      };\r\n      const options = {\r\n        headers: {\r\n          'SessionId': this.data.sessionId,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      };\r\n      if (formularInfo) {\r\n        const retrieveUri = this.data.serverHost + '/api/gsp/bcc/v1.0/querygetdatadetail_frm/service/saveqdpformular';\r\n        this.restfulService.put(retrieveUri, { formularInfo: JSON.stringify(formularInfo) }, {}, options).subscribe(data => {\r\n          const formularData = data.returnValue;\r\n          if (formularData) {\r\n            this.currentFormularId = formularData;\r\n            this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: this.name });\r\n            //this.cacheService.set('formularResult', { id: this.currentFormularId, name: 'å¬å¼' });\r\n            flag$.next(true);\r\n          } else {\r\n            this.entityDataService.setFormularState(false, {});\r\n            this.msgService.error(this.localizeService.getValue('formular.define.messageAlert.saveFormularFailure'));\r\n          }\r\n        });\r\n      }\r\n    } else if (!this.currentFormularId) {\r\n      this.entityDataService.setFormularState(false, {});\r\n      this.msgService.info(this.localizeService.getValue('formular.define.messageAlert.formularSaveVerify'));\r\n      return false;\r\n    } else {\r\n      this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: this.name });\r\n      //this.cacheService.set('formularResult', { id: this.currentFormularId, name: this.name ? this.name : 'å¬å¼' });\r\n      return true;\r\n    }\r\n    return flag$;\r\n  }\r\n\r\n  formularCheck(string) {\r\n    // åé¤ç©ºç½ç¬¦\r\n    string = string.replace(/\\s/g, '');\r\n\r\n    // éè¯¯æåµï¼ç©ºå­ç¬¦ä¸²\r\n    if ('' === string) {\r\n      return false;\r\n    }\r\n\r\n    // éè¯¯æåµï¼è¿ç®ç¬¦è¿ç»­\r\n    if (/[\\+\\-\\*\\/]{2,}/.test(string)) {\r\n      return false;\r\n    }\r\n\r\n    // ç©ºæ¬å·\r\n    if (/\\(\\)/.test(string)) {\r\n      return false;\r\n    }\r\n\r\n    // éè¯¯æåµï¼æ¬å·ä¸éå¯¹\r\n    var stack = [];\r\n    for (var i = 0, item; i < string.length; i++) {\r\n      item = string.charAt(i);\r\n      if ('(' === item) {\r\n        stack.push('(');\r\n      } else if (')' === item) {\r\n        if (stack.length > 0) {\r\n          stack.pop();\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    if (0 !== stack.length) {\r\n      return false;\r\n    }\r\n\r\n    // éè¯¯æåµï¼(åé¢æ¯è¿ç®ç¬¦ \r\n    if (/\\([\\+\\-\\*\\/]/.test(string)) {\r\n      return false;\r\n    }\r\n\r\n    // éè¯¯æåµï¼)åé¢æ¯è¿ç®ç¬¦\r\n    if (/[\\+\\-\\*\\/]\\)/.test(string)) {\r\n      return false;\r\n    }\r\n\r\n    // // éè¯¯æåµï¼(åé¢ä¸æ¯è¿ç®ç¬¦\r\n    // if (/[^\\+\\-\\*\\/]\\(/.test(string)) {\r\n    //   return false;\r\n    // }\r\n\r\n    // // éè¯¯æåµï¼)åé¢ä¸æ¯è¿ç®ç¬¦\r\n    // if (/\\)[^\\+\\-\\*\\/]/.test(string)) {\r\n    //   return false;\r\n    // }\r\n\r\n    return true;\r\n  }\r\n\r\n}","import { Component, OnInit, Input, Output, EventEmitter, AfterViewInit, ViewChild, TemplateRef } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { NotifyService, NotifyOptions } from '@farris/ui-notify';\r\nimport { SessionService, CacheService } from '@ecp-caf/caf-common';\r\nimport { RestfulService } from '../../service/restful.service';\r\nimport { of, Subject } from 'rxjs';\r\nimport { EntityDataService } from '../../service/entitydata.service';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Component({\r\n  selector: 'lib-formular-select',\r\n  templateUrl: './formular-select.component.html',\r\n  styleUrls: ['./formular-select.component.css'],\r\n})\r\nexport class FormularSelectComponent implements OnInit, AfterViewInit {\r\n\r\n  data: any = [];\r\n  @Output() changeStep = new EventEmitter<any>();\r\n  constructor(private restfulService: RestfulService\r\n    , private cacheService: CacheService\r\n    , private msgService: MessagerService\r\n    , private entityDataService: EntityDataService\r\n    , private localizeService: LocalizeService) {\r\n      this.selectionFormular = JSON.parse(this.localizeService.getValue('formular.formularSelect.selectionFormular'));\r\n      this.lableQdpFormular = this.localizeService.getValue('formular.formularSelect.lableQdpFormular');\r\n     }\r\n  formularWizard: any = '0'; // å¬å¼åå¯¼ç±»å 0å¬å¼éæ© 1å¬å¼æ°å¢\r\n  ddlFormularData: any = []; // ä¸æå¬ç¤ºä¿¡æ¯\r\n  formularDatas: any = []; // ææçå¬å¼ä¿¡æ¯\r\n  currentFormularId: any = ''; // å½åéä¸­çå¬å¼Id\r\n  currentFormularName: any = ''; // å½åéä¸­çå¬å¼åç§°\r\n\r\n  selectionFormular: any ;\r\n  lableQdpFormular: any;\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n    self.data = self.cacheService.get('formularParam');\r\n    this.getFormularInfo(self);\r\n    // if (self.data && self.data.ddlFormularData && self.data.ddlFormularData.length >0) {\r\n    //   self.ddlFormularData = self.data.ddlFormularData;\r\n    // } \r\n    if (self.data) {\r\n      self.currentFormularId = self.data.currentFormularId ? self.data.currentFormularId : '';\r\n      self.currentFormularName = self.data.currentFormularName ? self.data.currentFormularName : '';\r\n      self.formularWizard = self.data.formularWizard ? self.data.formularWizard : '0';\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  private getFormularInfo(self: this) {\r\n    this.createHeaderSessionId().then(function success(value) {\r\n      let uri = self.data.serverHost;\r\n      // tslint:disable-next-line: align\r\n      const options = {\r\n        headers: {\r\n          'SessionId': value,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      };\r\n      self.data.sessionId = value;\r\n      const entityFilter = {\r\n        FilterConditions: [{ 'FilterField': 'CurSU', 'Value': self.data.currentSU, 'Lbracket': null, 'Rbracket': null, 'Relation': 0, 'Expresstype': 0, 'Compare': 6 }],\r\n        SortConditions: [],\r\n        IsUsePagination: false,\r\n        Pagination: {\r\n          PageIndex: 0,\r\n          PageSize: 0,\r\n          PageCount: 0,\r\n          TotalCount: 0\r\n        }\r\n      };\r\n      uri += '/api/gsp/bcc/v1.0/querygetdatadefine_frm/extension/query?entityFilter=' + JSON.stringify(entityFilter);\r\n      const ddlFormularData = [];\r\n      self.restfulService.put(uri, {}, {}, options).subscribe(data => {\r\n        const funcDatas = data.returnValue.result;\r\n        if (funcDatas && funcDatas.length > 0) {\r\n          funcDatas.forEach(x => {\r\n            ddlFormularData.push({ label: x.name, id: x.id });\r\n          });\r\n          self.ddlFormularData = [...ddlFormularData];\r\n        }\r\n        self.formularDatas = funcDatas;\r\n      });\r\n    });\r\n  }\r\n\r\n  private createHeaderSessionId() {\r\n    const options: any = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      responseType: 'text'\r\n    };\r\n    const createSessionUrl = this.data.serverHost + '/api/gsp/bcc/v1.0/queryfuncdetail_frm/service/createsession';\r\n    return this.restfulService.post(createSessionUrl, {}, {}, options).toPromise();\r\n  }\r\n\r\n  changeValue($event) {\r\n    this.entityDataService.setStepType($event);\r\n    if ($event !== '0') {\r\n      this.data.currentFormularId = '';\r\n      this.currentFormularId = '';\r\n      this.data.formularData = '';\r\n      this.entityDataService.setFormularState(false, {});\r\n    }\r\n  }\r\n\r\n  selectChange($event) {\r\n    if ($event) {\r\n      this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: $event.data.label });\r\n    } else {\r\n      this.entityDataService.setFormularState(false, {});\r\n    }\r\n  }\r\n\r\n  clear($event){\r\n    this.entityDataService.setFormularState(false, {});\r\n  }\r\n\r\n  /**\r\n   * ç¹å»ä¸ä¸æ­¥åæ±æ»æ°æ®\r\n   */\r\n  clickNextStep = () => {\r\n    if (this.formularWizard === '0' && this.currentFormularId) {\r\n      const formularData = this.formularDatas.find(x => x.id === this.currentFormularId);\r\n      if (formularData) {\r\n        this.data.formularData = formularData;\r\n        this.data.currentFormularName = formularData.name;\r\n      }\r\n      this.data.ddlFormularData = this.ddlFormularData;\r\n      this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: this.data.currentFormularName ? this.data.currentFormularName : 'å¬å¼' });\r\n    } else if (this.formularWizard === '0' && !this.currentFormularId) {\r\n      this.entityDataService.setFormularState(false, {});\r\n      this.msgService.info(this.localizeService.getValue('formular.formularSelect.messageAlert.formularSelectVerify'));\r\n      return false;\r\n    } else {\r\n      this.entityDataService.setFormularState(false, {});\r\n      this.data.ddlFormularData = '';\r\n      // this.data.formularSelectData = [];\r\n    }\r\n    this.data.currentFormularId = this.currentFormularId ? this.currentFormularId : this.data.currentFormularId;\r\n    this.data.formularWizard = this.formularWizard;\r\n    this.cacheService.set('formularParam', this.data);\r\n    return true;\r\n  }\r\n\r\n  beforeFinish = () => {\r\n    if (this.formularWizard === '0' && this.currentFormularId) {\r\n      const name = this.ddlFormularData.find(x => x.id === this.currentFormularId).label;\r\n      this.entityDataService.setFormularState(true, { id: this.currentFormularId, name: name });\r\n      // this.cacheService.set('formularResult', {id: this.currentFormularId, name: name});\r\n      return true;\r\n    } else if (this.formularWizard === '0' && !this.currentFormularId) {\r\n      this.entityDataService.setFormularState(false, {});\r\n      this.msgService.info(this.localizeService.getValue('formular.formularSelect.messageAlert.formularSelectVerify'));\r\n      return false;\r\n    } else {\r\n      this.entityDataService.setFormularState(false, {});\r\n      this.msgService.info(this.localizeService.getValue('formular.formularSelect.messageAlert.formularDefineVerify'));\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, ComponentRef, ViewContainerRef, ComponentFactoryResolver, Output, Input, ViewChild, EventEmitter } from '@angular/core';\r\nimport { find, findIndex, merge } from 'lodash-es';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Component({\r\n  selector: 'lib-step-component',\r\n  templateUrl: './step-component.component.html',\r\n  styleUrls: ['./step-component.component.css']\r\n})\r\nexport class StepComponentComponent implements OnInit {\r\n\r\n  @Output() clickCancelBtn = new EventEmitter<any>();\r\n  @Output() clickFinishBtn = new EventEmitter<any>();\r\n\r\n  @Input() title = '';\r\n  @Input() steps = [];\r\n  _copySteps = [];\r\n  curStep;\r\n  curStepIndex = 0;\r\n  curComponentRef: ComponentRef<any>;\r\n  // finishedSteps = [];\r\n  @ViewChild('stepContainer', { read: ViewContainerRef }) stepContainer: ViewContainerRef;\r\n\r\n  labelPre: any = 'ä¸ä¸æ­¥';\r\n  labelNext: any = 'ä¸ä¸æ­¥';\r\n  labelFinish: any = 'å®æ';\r\n  labelDelete: any = 'å é¤';\r\n\r\n  constructor(private viewContainerRef: ViewContainerRef,\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private localizeService: LocalizeService) {\r\n      this.labelPre = this.localizeService.getValue('formular.step.labelPre');\r\n      this.labelNext = this.localizeService.getValue('formular.step.labelNext');\r\n      this.labelFinish = this.localizeService.getValue('formular.step.labelFinish');\r\n      this.labelDelete = this.localizeService.getValue('formular.step.labelDelete');\r\n     }\r\n\r\n  ngOnInit() {\r\n    if (this.steps && this.steps.length > 0) {\r\n      this.curStep = this.steps[this.curStepIndex];\r\n      this.createStepComponent(this.steps[this.curStepIndex]);\r\n      // this.createStepComponent(this.steps[4]);\r\n    }\r\n    this._copySteps = this.steps;\r\n  }\r\n  createStepComponent(step) {\r\n    this.stepContainer.clear();\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(step.component);\r\n    this.curComponentRef = this.stepContainer.createComponent(componentFactory);\r\n    this.curComponentRef.instance.data = step.data;\r\n\r\n    // æ°å¢æ­¥éª¤\r\n    if (this.curComponentRef.instance.addStep) {\r\n      this.curComponentRef.instance.addStep.subscribe((stepList) => {\r\n\r\n        const curIndex = findIndex(this.steps, this.curStep);\r\n        this.steps.splice(curIndex + 1, 0, ...stepList);\r\n\r\n        this.curStep.nextStep = stepList[0].stepId;\r\n        this.curStep.showFinishBtn = false;\r\n        this.curStep.showNextStepBtn = true;\r\n\r\n      });\r\n    }\r\n    // å é¤æ­¥éª¤\r\n    if (this.curComponentRef.instance.removeStep) {\r\n      this.curComponentRef.instance.removeStep.subscribe((data) => {\r\n        merge(this.curStep, data.curStep);\r\n        data.removeSteps.forEach(removeStep => {\r\n          const index = findIndex(this.steps, removeStep);\r\n          if (index >= 0) {\r\n            this.steps.splice(index, 1);\r\n          }\r\n        });\r\n      });\r\n    }\r\n    // åæ´æ­¥éª¤\r\n    if (this.curComponentRef.instance.changeStep) {\r\n      this.curComponentRef.instance.changeStep.subscribe((stepList) => {\r\n        stepList.forEach(changeStep => {\r\n          const oldStep = find(this._copySteps, function (s) { return s.stepId === changeStep.stepId; });\r\n          merge(oldStep, changeStep);\r\n        });\r\n        this.steps = this._copySteps.filter(step => step.show !== false);\r\n      });\r\n    }\r\n\r\n  }\r\n  jumpStep(nextStep) {\r\n    // å¤æ­è·³è½¬æ¹å\r\n    if (nextStep === this.curStep) {\r\n      return;\r\n    }\r\n    const nextIndex = findIndex(this.steps, function (s) { return s.stepId === nextStep.stepId; });\r\n    if (nextIndex === this.curStepIndex) {\r\n      return;\r\n    }\r\n    if (nextIndex < this.curStepIndex) { // ååè·³\r\n      this.curStep = nextStep;\r\n      this.curStepIndex = nextIndex;\r\n      this.createStepComponent(nextStep);\r\n      return;\r\n    }\r\n    if (nextStep.stepId === this.curStep.nextStep) { // ä¸ä¸æ­¥\r\n      this.nextStep();\r\n      return;\r\n    }\r\n    //  else if (this.finishedSteps.indexOf(nextStep.stepId) > -1) { // å·²å®æçåç»­æ­¥éª¤\r\n    //   this.curStep = nextStep;\r\n    //   this.curStepIndex = nextIndex;\r\n    //   this.createStepComponent(nextStep);\r\n    // }\r\n\r\n  }\r\n  /**\r\n    * ç¹å»ä¸ä¸æ­¥\r\n    */\r\n  lastStep() {\r\n    const self = this;\r\n    this.curStepIndex = findIndex(this.steps, function (s) { return s.nextStep === self.curStep.stepId; });\r\n    this.curStep = this.steps[this.curStepIndex];\r\n    // æ§è¡åComponentå®ä¹çnextStepClickäºä»¶\r\n    const clickLastStep = this.curComponentRef.instance.clickLastStep;\r\n    if (clickLastStep && typeof (clickLastStep) === 'function') {\r\n      const result = clickLastStep(); // è¿åå¼æ¥æ¶booleanæobservableç±»å\r\n      if (typeof (result) === 'boolean' && result) {\r\n        this.createStepComponent(this.curStep);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç¹å»ä¸ä¸æ­¥\r\n   */\r\n  nextStep() {\r\n    // æ ¡éª\r\n    const validationFunc = this.curComponentRef.instance.validation;\r\n    if (validationFunc && typeof (validationFunc) === 'function') {\r\n      const result = validationFunc();\r\n      if (!result) { return; }\r\n    }\r\n    // æ§è¡åComponentå®ä¹çnextStepClickäºä»¶\r\n    const clickNextStep = this.curComponentRef.instance.clickNextStep;\r\n    if (clickNextStep && typeof (clickNextStep) === 'function') {\r\n      const result = clickNextStep(); // è¿åå¼æ¥æ¶booleanæobservableç±»å\r\n      if (typeof (result) === 'boolean' && result) {\r\n        this.moveToNextStep(result);\r\n      } else {\r\n        if (result) {\r\n          result.subscribe(data => {\r\n            this.moveToNextStep(data);\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      this.moveToNextStep(true);\r\n    }\r\n  }\r\n\r\n  moveToNextStep(data) {\r\n    if (!data) {\r\n      return;\r\n    }\r\n    const curStep = this.curStep;\r\n    if (curStep.nextStep === '') {\r\n      return;\r\n    }\r\n    // this.finishedSteps.push(curStep.stepId);\r\n    this.curStepIndex = findIndex(this.steps, function (s) { return s.stepId === curStep.nextStep; });\r\n    if (this.curStepIndex > -1) {\r\n      this.curStep = this.steps[this.curStepIndex];\r\n      this.createStepComponent(this.curStep);\r\n    }\r\n\r\n  }\r\n  /**\r\n   * åæ¶\r\n   */\r\n  clickCancel() {\r\n    this.clickCancelBtn.emit();\r\n  }\r\n  /**\r\n   * å®æ\r\n   */\r\n  finishWizard() {\r\n    const validationFunc = this.curComponentRef.instance.validation;\r\n    if (validationFunc && typeof (validationFunc) === 'function') {\r\n      const result = validationFunc();\r\n      if (!result) { return; }\r\n    }\r\n\r\n    let beforeFinish = this.curComponentRef.instance.beforeFinish;\r\n    if (this.curComponentRef.instance.qdpResult && !beforeFinish) {\r\n      beforeFinish = this.curComponentRef.instance.qdpResult.beforeFinish;\r\n    }\r\n    if (beforeFinish && typeof (beforeFinish) === 'function') {\r\n      const result = beforeFinish();\r\n      if (typeof (result) === 'boolean' && result) {\r\n        this.clickFinishBtn.emit();\r\n      } else if (typeof (result) !== 'boolean') {\r\n        if (result) {\r\n          result.subscribe(data => {\r\n            if (data) {\r\n              this.clickFinishBtn.emit(data);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n}\r\n","import { Component, OnInit, Input, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { FormularSelectComponent } from '../formular-select/formular-select.component';\r\nimport { SessionService, CacheService } from '@ecp-caf/caf-common';\r\nimport { FormularDefineComponent } from '../formular-define/formular-define.component';\r\nimport { StepComponentComponent } from '../step-component/step-component.component';\r\nimport { EntityDataService } from '../../service/entitydata.service';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Component({\r\n  selector: 'lib-formular-define-wizard',\r\n  templateUrl: './formular-define-wizard.component.html',\r\n  styleUrls: ['./formular-define-wizard.component.css']\r\n})\r\nexport class FormularDefineWizardComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('qdpsteps') qdpsteps: StepComponentComponent;\r\n  constructor(private cacheService: CacheService\r\n    , private entityDataService: EntityDataService\r\n    , private localizeService: LocalizeService) {\r\n      this.steps = [\r\n        {\r\n          stepId: 'selectTemplate',\r\n          title: this.localizeService.getValue('formular.defineWizard.labelSelectTemplate'),\r\n          component: FormularSelectComponent,\r\n          data: '',\r\n          show: true,\r\n          nextStep: 'formularDefine',\r\n          showFinishBtn: true,\r\n          showCancelBtn: true,\r\n          showLastStepBtn: false,\r\n          showNextStepBtn: true\r\n        },\r\n        {\r\n          stepId: 'formularDefine',\r\n          title: this.localizeService.getValue('formular.defineWizard.labelFormularDefine'),\r\n          component: FormularDefineComponent,\r\n          data: '',\r\n          show: true,\r\n          nextStep: '',\r\n          showFinishBtn: true,\r\n          showCancelBtn: true,\r\n          showLastStepBtn: true,\r\n          showNextStepBtn: false\r\n        }\r\n      ];\r\n   }\r\n  currentSU: any; // å½åSU\r\n  currentFormularId: any; // å½åå¬å¼id\r\n  currentFunctionId: any; // å½åä¸å¡å½æ°id\r\n  serverHost: any; // å½åç«ç¹host\r\n  sessionId: any; // å½åsessionId\r\n  parentDialog: any; // å½åå¯¹è¯æ¡\r\n  formularType: any; // å¬å¼ç±»å\r\n  selectFormularInfo: any;\r\n\r\n  steps: any;\r\n\r\n  ngOnInit() {\r\n    this.cacheService.set('formularParam', { currentSU: this.currentSU, currentFormularId: this.currentFormularId, serverHost: this.serverHost });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.entityDataService.setFormularState(false, {});\r\n    if (this.currentFormularId) {\r\n      const formularEdit = {\r\n        stepId: 'formularDefine',\r\n        title: this.localizeService.getValue('formular.defineWizard.labelFormularDefine'),\r\n        component: FormularDefineComponent,\r\n        data: '',\r\n        show: true,\r\n        nextStep: '',\r\n        showFinishBtn: true,\r\n        showCancelBtn: true,\r\n        showLastStepBtn: true,\r\n        showNextStepBtn: false\r\n      };\r\n      this.qdpsteps.jumpStep(formularEdit);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç¹å»å®æ\r\n   */\r\n  clickFinishBtn() {\r\n    if (this.parentDialog) {\r\n      // this.selectFormularInfo = this.cacheService.get('formularResult');\r\n      this.parentDialog.close();\r\n    }\r\n  }\r\n}\r\n","import { Injectable, ComponentFactoryResolver, Injector, Inject } from '@angular/core';\r\nimport { Subject, Observer, Observable, of } from 'rxjs';\r\nimport { FormularDefineComponent } from '../component/formular-define/formular-define.component';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BsModalService, BsModalRef } from '@farris/ui-modal';\r\nimport { FormularDefineWizardComponent } from '../component/formular-define-wizard/formular-define-wizard.component';\r\nimport { EntityDataService } from './entitydata.service';\r\nimport { BE_SERVER_URI_TOKEN } from '@farris/bef';\r\nimport { LocalizeService } from '@qdp/localize';\r\n\r\n@Injectable()\r\nexport class FormularService {\r\n\r\n  dlg: BsModalRef;\r\n  isFinish: any = true;\r\n\r\n  constructor(private modalService: BsModalService,\r\n              private injector: Injector,\r\n              private cfr: ComponentFactoryResolver,\r\n              private msgService: MessagerService,\r\n              private entityDataService: EntityDataService,\r\n              @Inject(BE_SERVER_URI_TOKEN) private url,\r\n              private localizeService: LocalizeService) {\r\n  }\r\n\r\n  showFormularDefine(currentSU: string, currentFormularId: any, formularType?: 'public'): Observable<any> {\r\n    const formularResult = new Subject();\r\n    const cmpF = this.cfr.resolveComponentFactory(FormularDefineWizardComponent);\r\n    const cmpR = cmpF.create(this.injector);\r\n    cmpR.instance.currentSU = currentSU;\r\n    cmpR.instance.currentFormularId = currentFormularId;\r\n    cmpR.instance.serverHost = this.url ? this.url : 'http://localhost:5100';\r\n    cmpR.instance.formularType = formularType;\r\n\r\n    this.dlg = this.modalService.show(cmpR, {\r\n      title: this.localizeService.getValue('formular.service.labelFormulaWizard'),\r\n      width: 1000, height: 800,\r\n      showButtons: false,\r\n      beforeClose: (ref) => {\r\n        const formularState = this.entityDataService.getFormularState();\r\n        if (formularState.isFinish) {\r\n          formularResult.next(formularState.formularInfo);\r\n          return of(true);\r\n        } else {\r\n          const canClose = new Subject<boolean>();\r\n          this.msgService.question(this.localizeService.getValue('formular.service.messageAlert.formulaVerify'), () => {\r\n            formularResult.next({ id: '', name: '' });\r\n            canClose.next(true);\r\n          }, () => {\r\n            canClose.next(false);\r\n          }\r\n          );\r\n          return canClose.asObservable();\r\n        }\r\n      }\r\n    }\r\n    );\r\n    cmpR.instance.parentDialog = this.dlg;\r\n\r\n    return formularResult;\r\n  }\r\n}\r\n","import { Directive, Input, OnInit } from '@angular/core';\r\nimport { LookupComponent, LookupGridComponent, PickingResult, PickedResult } from '@farris/ui-lookup';\r\nimport { RestfulService } from '../service/restful.service';\r\nimport { of, Observable } from 'rxjs';\r\nimport { tap, switchMap } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[libHelpBeforeEvent]'\r\n})\r\nexport class HelpBeforeEventDirective implements OnInit {\r\n\r\n  @Input(\"libHelpBeforeEvent\") helpData: any = {};\r\n  @Input() localHost: any = {};\r\n  @Input() dynamicInput: any = [];\r\n  constructor(private lookup: LookupGridComponent,\r\n    private restfulService: RestfulService) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.helpData, this.lookup);\r\n    this.lookup.dictPicking = this.dictPicking;\r\n    this.lookup.dictPicked = (rowData: any): Observable<PickedResult> => {\r\n      this.helpData.paramvalue = rowData[this.helpData.fieldConfig.valueField] + '|' + rowData[this.helpData.fieldConfig.textField];\r\n      const r$ = of({\r\n        closeDialog: true\r\n      });\r\n      return r$;\r\n    };\r\n\r\n  }\r\n\r\n  dictPicking = (): Observable<PickingResult> => {\r\n    const options: any = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      responseType: 'text'\r\n    };\r\n    const paramvalues = {};\r\n    this.dynamicInput.forEach(currentInput => {\r\n      paramvalues[currentInput.paramcode] = currentInput.paramvalue;\r\n    });\r\n    const params = {\r\n      helpId: this.helpData.fieldConfig.helpId,\r\n      filterInfo: this.helpData.fieldConfig.filterInfo,\r\n      parameters: JSON.stringify(paramvalues)\r\n    }\r\n    const getHelpDataUrl = this.localHost + '/api/runtime/bcc/v1.0/qdpsearch/getHelpData';\r\n\r\n    const r$ = of({\r\n      showDialog: true\r\n    });\r\n\r\n\r\n    return this.restfulService.post(getHelpDataUrl, params, {}, options).pipe(\r\n      tap((data) => {\r\n        this.lookup.items = JSON.parse(data);\r\n      }),\r\n      switchMap(() => r$)\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FormularDefineComponent } from './component/formular-define/formular-define.component';\r\nimport { FlexLayoutModule } from '@farris/ui-flex-layout';\r\nimport { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { PerfectScrollbarModule } from '@farris/ui-perfect-scrollbar';\r\nimport { TreeTableModule } from '@farris/ui-treetable';\r\nimport { ColorPickerModule } from 'ngx-color-picker';\r\nimport { RtfAppHelpModule } from '@gsp-sys/rtf-ui';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { GridModule } from '@progress/kendo-angular-grid';\r\nimport { PopupModule } from '@progress/kendo-angular-popup';\r\nimport { NumericTextBoxModule, InputsModule } from '@progress/kendo-angular-inputs';\r\nimport { DropDownsModule, DropDownListModule } from '@progress/kendo-angular-dropdowns';\r\nimport { LayoutModule } from '@progress/kendo-angular-layout';\r\nimport { ButtonsModule } from '@progress/kendo-angular-buttons';\r\nimport { FormularSelectComponent } from './component/formular-select/formular-select.component';\r\nimport { FormularDefineWizardComponent } from './component/formular-define-wizard/formular-define-wizard.component';\r\nimport { StepComponentComponent } from './component/step-component/step-component.component';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { RestfulService } from './service/restful.service';\r\nimport { FormularService } from './service/formular.service';\r\nimport {FarrisPanelModule} from '@farris/ui-panel';\r\nimport {FarrisFormsModule} from '@farris/ui-forms';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { EntityDataService } from './service/entitydata.service';\r\nimport { LocalizeModule } from '@qdp/localize';\r\nimport { LookupModule} from '@farris/ui-lookup';\r\nimport { FarrisDatePickerModule } from '@farris/ui-datepicker';\r\nimport { NumberSpinnerModule } from '@farris/ui-number-spinner';\r\nimport { HelpBeforeEventDirective } from './directive/help-before-event.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    GridModule,\r\n    PopupModule,\r\n    NumericTextBoxModule,\r\n    InputsModule,\r\n    DropDownsModule,\r\n    DropDownListModule,\r\n    LayoutModule,\r\n    ButtonsModule,\r\n    TreeViewModule,\r\n    FarrisDialogModule,\r\n    NotifyModule,\r\n    FDropdownDirectiveTypeModule,\r\n    FlexLayoutModule,\r\n    TreeTableModule,\r\n    PerfectScrollbarModule,\r\n    RtfAppHelpModule,\r\n    ColorPickerModule,\r\n    DatagridModule.forRoot(),\r\n    ComboListModule,\r\n    FarrisButtonModule,\r\n    FarrisPanelModule,\r\n    FarrisFormsModule,\r\n    LoadingModule.forRoot(),\r\n    LocalizeModule,\r\n    LookupModule,\r\n    FarrisDatePickerModule,\r\n    NumberSpinnerModule\r\n  ],\r\n  declarations: [\r\n    FormularDefineComponent,\r\n    FormularSelectComponent,\r\n    FormularDefineWizardComponent,\r\n    StepComponentComponent,\r\n    HelpBeforeEventDirective\r\n  ],\r\n  exports: [\r\n    FormularDefineComponent,\r\n    FormularSelectComponent,\r\n    FormularDefineWizardComponent,\r\n    StepComponentComponent\r\n  ],\r\n  entryComponents: [\r\n    FormularDefineComponent,\r\n    FormularSelectComponent,\r\n    FormularDefineWizardComponent,\r\n    StepComponentComponent\r\n  ]\r\n})\r\nexport class FormularModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FormularModule,\r\n      providers: [RestfulService, EntityDataService, FormularService]\r\n    }\r\n  }\r\n }\r\n"],"names":[],"mappings":"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"}
