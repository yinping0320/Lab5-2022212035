{"version":3,"file":"gsp-dip-data-imp-exp.js.map","sources":["ng://@gsp-dip/data-imp-exp/lib/i18n/default-lang.ts","ng://@gsp-dip/data-imp-exp/lib/model/utils/FileConst.ts","ng://@gsp-dip/data-imp-exp/lib/service/Utils/DataIEUtils.ts","ng://@gsp-dip/data-imp-exp/lib/element-select/element-select.component.ts","ng://@gsp-dip/data-imp-exp/lib/service/UploaderService/FileUpload/file-like-object.ts","ng://@gsp-dip/data-imp-exp/lib/service/UploaderService/FileUpload/file-item.ts","ng://@gsp-dip/data-imp-exp/lib/service/UploaderService/FileUpload/file-uploader.ts","ng://@gsp-dip/data-imp-exp/lib/validate-form/ValidateEntity/DataValidateStrategy.ts","ng://@gsp-dip/data-imp-exp/lib/validate-form/validate-form.component.ts","ng://@gsp-dip/data-imp-exp/lib/service/DataIEService/file-operate.service.ts","ng://@gsp-dip/data-imp-exp/lib/model/DataIEType/MethodType.ts","ng://@gsp-dip/data-imp-exp/lib/service/DataIEService/data-import.service.ts","ng://@gsp-dip/data-imp-exp/lib/rule-select/RuleFileType.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component1/extend-component1.component.ts","ng://@gsp-dip/data-imp-exp/lib/rule-select/rule-select.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/dataie-progress/dataie-progress.component.ts","ng://@gsp-dip/data-imp-exp/lib/service/Entity/CommonParams.ts","ng://@gsp-dip/data-imp-exp/lib/import-dialog/import-dialog.component.ts","ng://@gsp-dip/data-imp-exp/lib/service/DataIEService/data-export.service.ts","ng://@gsp-dip/data-imp-exp/lib/service/DataIEService/custom-data-ie.service.ts","ng://@gsp-dip/data-imp-exp/lib/custom-export-dialog/export-dialog.component.ts","ng://@gsp-dip/data-imp-exp/lib/service/UploaderService/FileUpload/file-drop.directive.ts","ng://@gsp-dip/data-imp-exp/lib/service/UploaderService/FileUpload/file-selecct.directive.ts","ng://@gsp-dip/data-imp-exp/lib/custom-import-dialog/custom-import-dialog.component.ts","ng://@gsp-dip/data-imp-exp/lib/export-custom-select/export-custom-select.component.ts","ng://@gsp-dip/data-imp-exp/lib/import-dialog-handcraft/import-dialog-handcraft.component.ts","ng://@gsp-dip/data-imp-exp/lib/export-custom-select-handcraft/export-custom-select-handcraft.component.ts","ng://@gsp-dip/data-imp-exp/lib/service/DataIEService/dataie-handcraft.service.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component9/extend-component9.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component8/extend-component8.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component7/extend-component7.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component6/extend-component6.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component5/extend-component5.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component4/extend-component4.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component3/extend-component3.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/extend-component2/extend-component2.component.ts","ng://@gsp-dip/data-imp-exp/lib/bakcomponents/rule-custom-setting/rule-custom-setting.component.ts","ng://@gsp-dip/data-imp-exp/lib/design-time/rule-id-help/rule-id-help.component.ts","ng://@gsp-dip/data-imp-exp/lib/design-time/dataie-rule-help/dataie-rule-help.component.ts","ng://@gsp-dip/data-imp-exp/lib/data-imp-exp.module.ts","ng://@gsp-dip/data-imp-exp/lib/service/DataIEService/data-import-export.service.ts","ng://@gsp-dip/data-imp-exp/lib/DIP_DATAIE_SERVICE.ts"],"sourcesContent":["export const DefaultLang = {\r\n  \"zh-CHS\": {\r\n    \"import_file\": \"å¯¼å¥æä»¶\",\r\n    \"choose_file\": \"éæ©æä»¶\",\r\n    \"import_placeholder\": \"è¯·éæ©éè¦å¯¼å¥çæä»¶\",\r\n    \"file_type\": \"æä»¶ç±»å\",\r\n    \"download_template\": \"ä¸è½½æ¨¡æ¿\",\r\n    \"ie_cancel\": \"åæ¶\",\r\n    \"ie_ok\": \"ç¡®å®\",\r\n    \"data_import\": \"æ°æ®å¯¼å¥\",\r\n    \"data_export\": \"æ°æ®å¯¼åº\",\r\n    \"data_export_customfile\": \"èªéæä»¶ç±»åæ°æ®å¯¼åº\",\r\n    \"choose_truefile\": \"è¯·éæ°éæ©ä¸ä¼ çæä»¶\",\r\n    \"download_template_ok\": \"ä¸è½½æ¨¡æ¿æå\",\r\n    \"download_template_fail\": \"ä¸è½½æ¨¡æ¿å¤±è´¥ï¼å¤±è´¥åå ï¼\",\r\n    \"upload_fail\": \"ä¸ä¼ å¤±è´¥ï¼åå ï¼\",\r\n    \"import_success\": \"æä»¶å¯¼å¥æåï¼\",\r\n    \"import_form_success\": \"æ°æ®å¯¼å¥è¡¨åæåï¼\",\r\n    \"import_fail\": \"æä»¶å¯¼å¥å¤±è´¥ï¼å¤±è´¥åå ï¼\",\r\n    \"master_table_noid\": \"æªè·åå°ä¸»è¡¨IDå¼ï¼è¯·ç¡®è®¤ä¸»è¡¨æ¯å¦ææ°æ®\",\r\n    \"bind_form_error\": \"ç»å®æ°æ®éè¯¯ï¼è¯·æ£æ¥æ°æ®æ¯å¦æéå¤\",\r\n    \"validate_result_show\": \"æ ¡éªç»æå±ç¤º\",\r\n    \"file_download_fail\": \"æä»¶ä¸è½½å¤±è´¥\",\r\n    \"export_success\": \"å¯¼åºæåï¼è¯·ç­å¾æä»¶ä¸è½½å®æ\",\r\n    \"export_fail\": \"å¯¼åºå¤±è´¥ï¼å¤±è´¥åå ï¼\",\r\n    \"download_vsto\": \"ä¸è½½Excelç»ä»¶\",\r\n    \"export_pdf\": \"å¯¼åºPDF\",\r\n    \"order\": \"åºå·\",\r\n    \"validate_type\": \"æ ¡éªç±»å\",\r\n    \"table_name\": \"å¯¹è±¡åç§°\",\r\n    \"illegal_data_location\": \"æ°æ®æ ¡éªä¿¡æ¯\",\r\n    \"validate_result\": \"æ ¡éªç»æ.pdf\",\r\n    \"wps_table\": \"WPS è¡¨æ ¼(*.et)\",\r\n    \"wps_table_m\": \"WPS è¡¨æ ¼ï¼æ¨¡æ¿æä»¶ï¼(*.ett)\",\r\n    \"customexport_no_column\": \"ãéä¸­ä¿¡æ¯é¡¹ãæªåå«ææçå­æ®µï¼è¯·éæ©ï¼\",\r\n    \"vsto_component\": \"æ°æ®å¯¼åºç»ä»¶.msi\",\r\n    \"data_entity\": \"æ°æ®å®ä½\",\r\n    \"selected_item\": \"éä¸­ä¿¡æ¯é¡¹\",\r\n    \"upload_filetype_nomatch\": \"ä¸ä¼ çæä»¶ä¸éæ©çæä»¶ç±»åä¸å¹é\",\r\n    \"save_customrule_fail\": \"ä¿å­èªå®ä¹å¯¼å¥è§åå¤±è´¥ï¼å¤±è´¥åå ï¼\",\r\n    \"ruleselect_code\": \"ç¼å·\",\r\n    \"ruleselect_name\": \"åç§°\",\r\n    \"ruleselect_rulesource\": \"è§åæ¥æº\",\r\n    \"ruleselect_syspreset\": \"ç³»ç»é¢ç½®\",\r\n    \"ruleselect_custom\": \"èªå®ä¹\",\r\n    \"ruleselect_billcategory\": \"åæ®ç§ç±»\",\r\n    \"ruleselect_creator\": \"åå»ºäºº\",\r\n    \"ruleselect_filetype\": \"æä»¶ç±»å\",\r\n    \"ruleselect_selectrulenotify\": \"è¯·éæ©ä¸æ¡è§å\",\r\n    \"rule_list\": \"è§åéæ©\",\r\n    \"select_data_export\": \"è¯·åéæ©è¦å¯¼åºçæ°æ®\",\r\n    \"select_xlsx_notify\": \"è¯¥æä»¶ç±»åä¸æ¯æå®è®¾ç½®ï¼ä¼å¯¼è´é¨åä¸æå¸®å©å¤±æï¼è¯·ç¥æ\",\r\n    \"ruleselect_updatetime\": \"æ´æ°æ¶é´\",\r\n    \"ruleselect_listempty\": \"å¯éè§ååè¡¨ä¸ºç©º\",\r\n    \"import_loading\": \"æ­£å¨å¯¼å¥...\",\r\n    \"after_validate_suspend\": \"è¯·ä¿®æ¹æä»¶éæ°è¿è¡å¯¼å¥\",\r\n    \"MandatoryImport\": \"å¼ºå¶å¯¼å¥\",\r\n    \"Ignore\":\"å¿½ç¥\",\r\n    \"AllMandatoryImport\": \"å¨é¨å¼ºå¶å¯¼å¥\",\r\n    \"AllIgnore\":\"å¨é¨å¿½ç¥\",\r\n    \"export_validate_result\":\"å¯¼åºæ ¡éªç»æ\",\r\n    \"continue\":\"ç»§ç»­\",\r\n    \"cancel\":\"ä¸­æ­¢\",\r\n    \"you_have\":\"æ¨æ\",\r\n    \"warning_info\":\"æ¡æ ¡éªä¸ç¬¦åé¡¹ï¼å¦ç»§ç»­æ§è¡ï¼è¢«å¿½ç¥çæ°æ®å°ä¸ä¼è¢«å¯¼å¥ç³»ç»ï¼å¼ºå¶å¯¼å¥å¯è½ä¼å½±åæ°æ®çè´¨é\",\r\n    \"error_info\":\"æ¡æ ¡éªä¸ç¬¦åé¡¹ï¼è¯·åç§æ ¡éªä¿¡æ¯ä¿®æ¹å¯¼å¥æ¨¡æ¿\",\r\n    \"security_level\":\"å¯çº§ç­çº§\",\r\n    \"importfile_toobig\":\"å½åå¯¼å¥æä»¶å¤ªå¤§ï¼æå¤§åè®¸çæä»¶å¤§å°ï¼\",\r\n    \"partdata-import-success\":\"é¨åæ°æ®å¯¼å¥å®æ\",\r\n    \"operation\":\"æä½\",\r\n    \"product_preset\":\"äº§åé¢ç½®\",\r\n    \"project_define\":\"é¡¹ç®å®ä¹\",\r\n    \"user_custom\":\"ç¨æ·èªå®ä¹\"\r\n\r\n  }\r\n};\r\n","export class FileConst {\r\n    static xls = 'Office Excel97-2003(*.xls)';\r\n    static xlsx = 'Office Excel(*.xlsx)';\r\n    static xlsm = 'Office Excel Macro(*.xlsm)';\r\n    static et = 'WPS Table(*.et)';\r\n    static xml = 'XML File(*.xml)';\r\n    static pdf = 'PDF File(*.pdf)';\r\n    static csv = 'CSV File(*.csv)';\r\n}","import {Repository} from '@farris/devkit';\r\nimport {BefRepository, BefRestService} from '@farris/bef';\r\nimport {DefaultLang} from '../../i18n/default-lang';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable, of, Subject} from 'rxjs';\r\nimport {FileConst} from '../../model/utils/FileConst';\r\n\r\nexport function isNullOrUndefined(obj: any): boolean {\r\n  if (obj === undefined) {\r\n    return true;\r\n  }\r\n  if (obj === null) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function isNullOrEmpty(obj: any): boolean {\r\n  if (obj === undefined) {\r\n    return true;\r\n  }\r\n  if (obj === null) {\r\n    return true;\r\n  }\r\n  if (obj.length == 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nexport function isNullOrBlank(str: string): boolean {\r\n  if (str == null) {\r\n    return true;\r\n  }\r\n  if (str.trim().length == 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function getQueryString(paraName: string) {\r\n  const url = window.location.hash;\r\n  const arrObj = url.split('?');\r\n  if (arrObj.length > 1) {\r\n    const arrPara = arrObj[1].split('&');\r\n    let arr: any[];\r\n    // tslint:disable-next-line: prefer-for-of\r\n    for (let i = 0; i < arrPara.length; i++) {\r\n      arr = arrPara[i].split('=');\r\n      if (arr != null && arr[0] === paraName) {\r\n        return arr[1];\r\n      }\r\n    }\r\n    return '';\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n\r\nexport class FileTypeUtil {\r\n  public static getFileExtension(valueField: any): any {\r\n    let suffix = null;\r\n    switch (valueField) {\r\n      case FileConst.xls:\r\n        suffix = '.xls';\r\n        break;\r\n      case FileConst.xlsx:\r\n        suffix = '.xlsx';\r\n        break;\r\n      case FileConst.xlsm:\r\n        suffix = '.xlsm';\r\n        break;\r\n      case FileConst.et:\r\n        suffix = '.et';\r\n        break;\r\n      case FileConst.xml:\r\n        suffix = '.xml';\r\n        break;\r\n      case FileConst.pdf:\r\n        suffix = '.pdf';\r\n        break;\r\n      case FileConst.csv:\r\n        suffix = '.csv';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return suffix;\r\n  }\r\n\r\n  public static getFileTypeName(fileType) {\r\n    let fileTypeName = '';\r\n    switch (fileType) {\r\n      case 'XLS':\r\n        fileTypeName = FileConst.xls;\r\n        break;\r\n      case 'XLSX':\r\n        fileTypeName = FileConst.xlsx;\r\n        break;\r\n      case 'XLSM':\r\n        fileTypeName = FileConst.xlsm;\r\n        break;\r\n      case 'ET':\r\n        fileTypeName = FileConst.et;\r\n        break;\r\n      case 'XML':\r\n        fileTypeName = FileConst.xml;\r\n        break;\r\n      case 'PDF':\r\n        fileTypeName = FileConst.pdf;\r\n        break;\r\n      case 'CSV':\r\n        fileTypeName = FileConst.csv;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return fileTypeName;\r\n  }\r\n}\r\n\r\nexport class DataIEUtils {\r\n  static ChooseSu(repository: any, option: any): any {\r\n    let su = '';\r\n    // éç¨å¯¼å¥å¯¼åºä»åºå­å¨ï¼ä½¿ç¨ä¸é¢åæ¯\r\n    if (repository !== null) {\r\n      const befRestService = DataIEUtils.GetBefRestService(repository);\r\n      su = DataIEUtils.getSu(befRestService.baseUri);\r\n    }\r\n    // æå·¥å¼åçä»åºä¸å­å¨ï¼éç¨ä¼ å¥çsu\r\n    if (option['su'] !== undefined && option['su'] !== null) {\r\n      su = option['su'];\r\n    }\r\n    return su;\r\n  }\r\n\r\n  static getSu(preurl: string): any {\r\n    const str = preurl.substring(preurl.indexOf(\"//\") + 2);\r\n    let strs: string[] = str.split('/');\r\n    const su = strs[3];\r\n    return su;\r\n  }\r\n\r\n  static getApp(preurl: string): any {\r\n    const str = preurl.substring(preurl.indexOf(\"//\") + 2);\r\n    let strs: string[] = str.split('/');\r\n    const app = strs[2];\r\n    return app;\r\n  }\r\n\r\n  public static getPort(preurl: string): any {\r\n    // \"http://localhost:5000/api/scm/sd/v1.0\"\r\n    const str = preurl.substring(preurl.indexOf(\"//\") + 2);\r\n    // åªååä¸¤ä½ï¼51xx,50xx,52xx\r\n    const port = str.substr(str.indexOf(':') + 1, 2);\r\n    return port;\r\n  }\r\n\r\n  public static GetBefRestService(repository: Repository<any>): BefRestService {\r\n    const befRepository = <BefRepository<any>>repository;\r\n    return befRepository.restService;\r\n  }\r\n\r\n  public static GetPreUrl(baseUrl: string): string {\r\n    const lastIndex = baseUrl.lastIndexOf('/');\r\n    const preurl = baseUrl.substr(0, lastIndex);\r\n    return preurl;\r\n  }\r\n\r\n  public static JudgeIllegalChar(str: string): boolean {\r\n    const illegalChar = ['?', 'ã', '\\\\', '/', '*', '\\'', '\"', 'â', 'â', '<', '>', '|', ',', ' '];\r\n    illegalChar.forEach(item => {\r\n      if (str.indexOf(item) !== -1) {\r\n        return true;\r\n      }\r\n    });\r\n    return false;\r\n  }\r\n\r\n  public static getTranslateValue(http: HttpClient): Observable<any> {\r\n    let lang: string;\r\n    if (localStorage === undefined || localStorage === null) {\r\n      return of(DefaultLang['zh-CHS']);\r\n    }\r\n    lang = localStorage.getItem('languageCode');\r\n\r\n    if (lang === undefined || lang === null || lang === 'zh-CHS') {\r\n      return of(DefaultLang['zh-CHS']);\r\n    }\r\n    if (http === undefined || http === null) {\r\n      return of(DefaultLang['zh-CHS']);\r\n    }\r\n    const subject = new Subject<any>();\r\n    let url: string = `/platform/common/web/@gsp-dip/i18n/${lang}.json`;\r\n    http.get(url).subscribe(data => {\r\n      console.log(data);\r\n      subject.next(data);\r\n    });\r\n    return subject;\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DataIEUtils } from '../service/Utils/DataIEUtils';\r\n\r\n@Component({\r\n  selector: 'app-element-select',\r\n  templateUrl: './element-select.component.html',\r\n  styleUrls: ['./element-select.component.css'],\r\n  providers: []\r\n})\r\nexport class ElementSelectComponent implements OnInit {\r\n\r\n  cols = [];\r\n  public selectedKeys: any[] = [];\r\n  public newSelectedKeys: any[] = [];\r\n  // public isNewExpanded = true;\r\n  public keys: string[] = [];\r\n  public newKeys: string[] = [];\r\n  @Input()\r\n  public Model: any = null;\r\n  @Input()\r\n  public CustomModel: any = null;\r\n  @Input()\r\n  public InnerModel: any = null;\r\n  public TreeData: any[] = null;\r\n  public NewData: any[] = null;\r\n\r\n  data_entity: string;\r\n  selected_item: string;\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.data_entity = res['data_entity'];\r\n      this.selected_item = res['selected_item'];\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    //ææ¶å±è½\r\n    // this.checkRightData();\r\n    this.TreeData = this.OrganizeLeftTreeOriginal();\r\n    this.NewData = this.OrganizeRightTreeOriginal();\r\n  }\r\n  checkRightData() {\r\n    if (this.CustomModel !== null) {\r\n      const mainObj = this.Model['MainObject'];\r\n      const elements: Array<string> = mainObj['Elements'];\r\n      const customMainObj = this.CustomModel['MainObject'];\r\n      const customElements = customMainObj['Elements'];\r\n      for (let i = 0; i < customElements.length; i++) {\r\n        const ele = customElements[i];\r\n        const idx = elements.findIndex(e => e['ID'] === ele['ID']);\r\n        if (idx < 0) {\r\n          customElements.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // ç»ç»å³ä¾§æ ï¼å°æ¨¡åè½¬æ¢ä¸ºå¯ä»¥å±ç¤ºçJsonç»æã\r\n  private OrganizeRightTreeOriginal(): any[] {\r\n    const tree = [];\r\n    if (this.CustomModel !== null) {\r\n      const mainObj = this.CustomModel['MainObject'];\r\n      tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });\r\n    } else {\r\n      const mainObj = this.Model['MainObject'];\r\n      tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, false) });\r\n    }\r\n    return tree;\r\n  }\r\n  // ç»ç»å·¦ä¾§æ \r\n  private OrganizeLeftTreeOriginal(): any[] {\r\n    const tree = [];\r\n    if (this.CustomModel !== null) {\r\n      const mainObj = this.Model['MainObject'];\r\n      const customMainObj = this.CustomModel['MainObject'];\r\n      tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OraganizeMinusObj(mainObj, customMainObj) });\r\n    } else {\r\n      const mainObj = this.Model['MainObject'];\r\n      tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });\r\n    }\r\n    return tree;\r\n  }\r\n  // ç»ç»åï¼customObjï¼ä»æ°æ®åºä¸­è·åçå¯¹è±¡ï¼objï¼å¤é¢ä¼ å¥çå¯¹è±¡ã\r\n  private OraganizeMinusObj(obj: any, customObj: any) {\r\n    // const items = [];\r\n    // obj['Elements'].forEach(ele => {\r\n    //   const customEle = customObj['Elements'].find(t => t['ID'] === ele['ID']);\r\n    //   if (customEle === null || customEle === undefined) {\r\n    //     if (ele['UdtElements'] !== null && ele['UdtElements'] !== undefined && ele['UdtElements'].length > 0) {\r\n    //       const udtItems = this.OrganizeUdtElements(ele['UdtElements'], customEle['UdtElements']);\r\n    //     } else {\r\n    //       items.push({id: ele['ID'], text: ele['Name'], code: ele['Code'], order: ele['Order']});\r\n    //     }\r\n    //   }\r\n    // });\r\n    const items = this.OrganizeElementsWithUdtMinus(obj['Elements'], customObj['Elements']);\r\n    if (obj['ChildrenDeo'].length > 0) {\r\n      obj['ChildrenDeo'].forEach(deo => {\r\n        const customChildDeo = customObj['ChildrenDeo'].find(t => t['ID'] === deo['ID']);\r\n        items.push({ id: deo['ID'], code: deo['Code'], text: deo['FileObjectName'], items: this.OraganizeMinusObj(deo, customChildDeo) });\r\n      });\r\n    }\r\n    return items;\r\n  }\r\n  // è·åå·¦å³æ udtå­æ®µçå·®\r\n  private OrganizeElementsWithUdtMinus(newUdtEles: any[], udtEles: any[]): any[] {\r\n    const items = [];\r\n    newUdtEles.forEach(ele => {\r\n      const customEle = udtEles.find(t => t['ID'] === ele['ID']);\r\n      if (customEle === null || customEle === undefined) {\r\n        if (ele['UdtElements'] !== null && ele['UdtElements'] !== undefined && ele['UdtElements'].length > 0) {\r\n          const udtItems = this.OrganizeElementsWithUdt(ele['UdtElements']);\r\n          if (udtItems.length > 0) {\r\n            items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'], items: udtItems });\r\n          }\r\n        } else {\r\n          items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'] });\r\n        }\r\n      } else {\r\n        if (ele['UdtElements'] !== null && ele['UdtElements'] !== undefined && ele['UdtElements'].length > 0) {\r\n          const udtItems = this.OrganizeElementsWithUdtMinus(ele['UdtElements'], customEle['UdtElements']);\r\n          if (udtItems.length > 0) {\r\n            items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'], items: udtItems });\r\n          }\r\n        }\r\n      }\r\n    });\r\n    return items;\r\n  }\r\n  // æ·»å å­å¯¹è±¡Jsonä¸²\r\n  // private OrganizeChildObjJson(obj): any[] {\r\n  //   const items = [];\r\n  //   if (obj['ChildrenDeo'].length > 0) {\r\n  //     obj['ChildrenDeo'].forEach(deo => items.push({id: deo['ID'], code: deo['Code'], text: deo['Name'],\r\n  //     items: this.OrganizeChildObjJson(deo)}));\r\n  //   }\r\n  //   return items;\r\n  // }\r\n  // æ·»å å¯¹è±¡Jsonä¸²\r\n  private OrganizeObjJson(obj: any, addEle: boolean): any[] {\r\n    let items = [];\r\n    if (addEle) {\r\n      items = this.OrganizeElementsWithUdt(obj['Elements']);\r\n      // obj['Elements'].forEach(ele => items.push({id: ele['ID'], text: ele['Name'], code: ele['Code'], order: ele['Order']}));\r\n    }\r\n    if (obj['ChildrenDeo'].length > 0) {\r\n      obj['ChildrenDeo'].forEach(deo => items.push({\r\n        id: deo['ID'], code: deo['Code'], text: deo['FileObjectName'],\r\n        items: this.OrganizeObjJson(deo, addEle)\r\n      }));\r\n    }\r\n    return items;\r\n  }\r\n  private OrganizeElementsWithUdt(eles: any[]): any[] {\r\n    const items = [];\r\n    eles.forEach(ele => {\r\n      if (ele['UdtElements'].length > 0) {\r\n        const udtItems = this.OrganizeElementsWithUdt(ele['UdtElements']);\r\n        if (udtItems.length > 0) {\r\n          items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'], items: udtItems });\r\n        } else {\r\n          items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'] });\r\n        }\r\n      } else {\r\n        items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'] });\r\n      }\r\n    });\r\n    return items;\r\n  }\r\n  public isExpanded = (dataItem: any, index: string) => {\r\n    return this.keys.indexOf(index) > -1;\r\n  }\r\n  public isNewExpanded = (dataItem: any, index: string) => {\r\n    return this.newKeys.indexOf(index) > -1;\r\n  }\r\n  // å³ç§»\r\n  public RightMove() {\r\n    if (this.selectedKeys.length === 0) {\r\n      return;\r\n    }\r\n    const indexes: number[] = this.GetIndexes(this.selectedKeys[0]);\r\n    this.MoveData(indexes, this.TreeData, '', this.NewData);\r\n  }\r\n  // å·¦ç§»\r\n  public LeftMove() {\r\n    if (this.newSelectedKeys.length === 0) {\r\n      return;\r\n    }\r\n    const indexes: number[] = this.GetIndexes(this.newSelectedKeys[0]);\r\n    this.MoveData(indexes, this.NewData, '', this.TreeData);\r\n  }\r\n  private GetIndexes(sKeys): number[] {\r\n    const arr: any[] = sKeys.split('_');\r\n    const indexes: number[] = [];\r\n    arr.forEach(element => {\r\n      indexes.push(Number(element));\r\n    });\r\n    return arr;\r\n  }\r\n  private MoveData(indexes: number[], data, objId, newData) {\r\n    const index = indexes.shift();\r\n    if (indexes.length > 0) {\r\n      this.MoveData(indexes, data[index].items, data[index].id, newData);\r\n    } else {\r\n      if (data[index].order !== undefined) {\r\n        const result = this.AddData(objId, newData, data[index]);\r\n        if (!result) {\r\n          return;\r\n        }\r\n        data.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n  private AddData(mainId, newData, data): boolean {\r\n    // åæ¾å°æå±å¯¹è±¡\r\n    const obj = this.FindObjAndIndex(mainId, newData, '');\r\n    if (obj === null) {\r\n      return false;\r\n    }\r\n    // æ¾å°è¦æå¥çä½ç½®\r\n    const index = this.FindColIndex(obj.dataItem.items, data.order);\r\n    obj.dataItem.items.splice(index, 0, data);\r\n    this.handleNewExpand(obj);\r\n    return true;\r\n  }\r\n\r\n  private FindObjAndIndex(mainId, data: any[], parentIndex: string): any {\r\n    let result = null;\r\n    // tslint:disable-next-line:prefer-for-of\r\n    for (let i = 0; i < data.length; i++) {\r\n      if (data[i].id === mainId) {\r\n        if (parentIndex !== '') {\r\n          result = { index: parentIndex + '_' + i.toString(), dataItem: data[i] };\r\n        } else {\r\n          result = { index: i.toString(), dataItem: data[i] };\r\n        }\r\n      } else if (data[i].items !== undefined && data[i].items.length > 0) {\r\n        result = this.FindObjAndIndex(mainId, data[i].items, i.toString());\r\n      }\r\n      if (result == null) {\r\n        continue;\r\n      } else {\r\n        return result;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n  private FindColIndex(items: any[], order: number) {\r\n    let index = -1;\r\n    if (items.length === 0) {\r\n      return 0;\r\n    }\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (items[i].order < order) {\r\n        index = i;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    return index + 1;\r\n  }\r\n  public handleCollapse(node) {\r\n    this.keys = this.keys.filter(k => k !== node.index);\r\n  }\r\n\r\n  public handleExpand(node) {\r\n    console.log(node);\r\n    this.keys = this.keys.concat(node.index);\r\n  }\r\n  public handleNewCollapse(node) {\r\n    this.newKeys = this.newKeys.filter(k => k !== node.index);\r\n  }\r\n\r\n  public handleNewExpand(node) {\r\n    console.log(node);\r\n    this.newKeys = this.newKeys.concat(node.index);\r\n  }\r\n  public RightMoveAll() {\r\n    // this.ClearTree(this.TreeData);\r\n    // this.FillTree(this.NewData);\r\n    this.TreeData = [];\r\n    const mainObj = this.Model['MainObject'];\r\n    this.TreeData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, false) });\r\n    // this.FillTree(this.TreeData);\r\n    this.NewData = [];\r\n    this.NewData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });\r\n  }\r\n  public FillTree(t: any[]) {\r\n    t = [];\r\n    const mainObj = this.Model['MainObject'];\r\n    t.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });\r\n  }\r\n  public ClearTree(t: any[]) {\r\n    // t = [];\r\n    // const mainObj = this.Model['MainObject'];\r\n    // t.push({id: mainObj['ID'], code: mainObj['Code'], text: mainObj['Name'], items: this.OrganizeObjJson(mainObj, false)});\r\n    t = [];\r\n  }\r\n  public LeftMoveAll() {\r\n    // this.ClearTree(this.NewData);\r\n    this.NewData = [];\r\n    const mainObj = this.Model['MainObject'];\r\n    this.NewData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, false) });\r\n    // this.FillTree(this.TreeData);\r\n    this.TreeData = [];\r\n    this.TreeData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });\r\n  }\r\n  public MoveUp() {\r\n    if (this.newSelectedKeys.length === 0) {\r\n      return;\r\n    }\r\n    const indexes = this.GetIndexes(this.newSelectedKeys[0]);\r\n    const lastIndex = indexes.pop();\r\n    const items = this.GetItems(indexes, this.NewData);\r\n    if (items[lastIndex].order === undefined || items[lastIndex].order === 0) {\r\n      return;\r\n    }\r\n    const temp = items[lastIndex].order;\r\n    items[lastIndex].order = items[lastIndex - 1].order;\r\n    items[lastIndex - 1].order = temp;\r\n    items.splice(lastIndex - 1, 0, items[lastIndex]);\r\n    items.splice(Number(lastIndex) + 1, 1);\r\n    const parentIndex: string = this.newSelectedKeys[0];\r\n    this.newSelectedKeys[0] = parentIndex.substring(0, parentIndex.lastIndexOf('_') + 1) + (lastIndex - 1);\r\n  }\r\n  private GetItems(indexes, data): any[] {\r\n    if (indexes.length === 0) {\r\n      return data;\r\n    }\r\n    const index = indexes.shift();\r\n    return this.GetItems(indexes, data[index].items);\r\n  }\r\n  public MoveDown() {\r\n    if (this.newSelectedKeys.length === 0) {\r\n      return;\r\n    }\r\n    const indexes = this.GetIndexes(this.newSelectedKeys[0]);\r\n    const lastIndex = indexes.pop();\r\n    const items = this.GetItems(indexes, this.NewData);\r\n    if (items.length === lastIndex || items[Number(lastIndex) + 1] === undefined || items[Number(lastIndex) + 1].order === undefined\r\n      || items[lastIndex].order === undefined) {\r\n      return;\r\n    }\r\n    const temp = items[lastIndex].order;\r\n    items[lastIndex].order = items[Number(lastIndex) + 1].order;\r\n    items[Number(lastIndex) + 1].order = temp;\r\n    items.splice(Number(lastIndex) + 2, 0, items[lastIndex]);\r\n    items.splice(lastIndex, 1);\r\n    const parentIndex: string = this.newSelectedKeys[0];\r\n    this.newSelectedKeys[0] = parentIndex.substring(0, parentIndex.lastIndexOf('_') + 1) + (Number(lastIndex) + 1);\r\n  }\r\n  public Save() {\r\n    // ä¼ å¥çæ¨¡åçä¸»å¯¹è±¡\r\n    if (this.InnerModel == null) {\r\n      this.InnerModel = this.Model;\r\n    }\r\n    const mainObj = this.InnerModel['MainObject'];\r\n    const newMainObj = this.NewData[0];\r\n    const preMainObj = this.Model['MainObject'];\r\n    mainObj['Elements'] = this.OrganizeElements(preMainObj['Elements'], newMainObj);\r\n    this.OrganizeChildrenDeo(mainObj, newMainObj, preMainObj);\r\n  }\r\n  private OrganizeChildrenDeo(obj: any, newObj: any, preMainObj: any) {\r\n    if (obj['ChildrenDeo'] !== undefined && obj['ChildrenDeo'].length > 0) {\r\n      const newChildrenDeo = [];\r\n      obj['ChildrenDeo'].forEach(t => {\r\n        const childDeo = newObj['items'].find(item => item['id'] === t['ID']);\r\n        const preChildObj = preMainObj['ChildrenDeo'].find(item => item['ID'] === t['ID']);\r\n        if (childDeo !== null && childDeo !== undefined) {\r\n          t['Elements'] = this.OrganizeElements(preChildObj['Elements'], childDeo);\r\n          if (t['Elements'] !== undefined && t['Elements'] !== null) {\r\n            newChildrenDeo.push(t);\r\n          }\r\n        }\r\n        this.OrganizeChildrenDeo(t, childDeo, preChildObj);\r\n      });\r\n      obj['ChildrenDeo'] = newChildrenDeo;\r\n    }\r\n  }\r\n  // ä¿å­æ¶ç»ç»å, obj: å¤é¨ä¼ å¥çåï¼newObj: ç¼è¾åæ°çå\r\n  private OrganizeElements(obj: any[], newObj: any): any[] {\r\n    const newEles = newObj['items'];\r\n    const eles = [];\r\n    newEles.forEach(t => {\r\n      const ele = obj.find(e => e['ID'] === t['id']);\r\n      if (ele !== undefined && ele !== null) {\r\n        eles.push(ele);\r\n      }\r\n    });\r\n    return eles;\r\n  }\r\n  // private OrganizeDeo(obj): any {\r\n  //   obj['Elements'] = this.OrganizeElements(obj['Elements']);\r\n  //   if (obj['ChildrenDeo'].length > 0) {\r\n  //     obj['ChildrenDeo'] = this.OrganizeChildDeo(obj)\r\n  //   }\r\n  // }\r\n\r\n}\r\n","export class FileLikeObject {\r\n    public lastModifiedDate: any;\r\n    public size: any;\r\n    public type: string;\r\n    public name: string;\r\n    public rawFile: string;\r\n\r\n    public constructor(fileOrInput: any) {\r\n    this.rawFile = fileOrInput;\r\n    const isInput = this.isElement(fileOrInput);\r\n    const fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\r\n    const postfix = typeof fakePathOrObject === 'string' ? 'FakePath' : 'Object';\r\n    const method = 'createFrom' + postfix;\r\n    (this as any)[ method ](fakePathOrObject);\r\n    }\r\n    isElement(node: any): boolean {\r\n        return !!(node && (node.nodeName || node.prop && node.attr && node.find));\r\n    }\r\n    createFromFakePath(path: string): void {\r\n        this.lastModifiedDate = void 0;\r\n        this.size = void 0;\r\n        this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\r\n        this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\r\n      }\r\n    createFromObject(object: { size: number, type: string, name: string }): void {\r\n        this.size = object.size;\r\n        this.type = object.type;\r\n        this.name = object.name;\r\n      }\r\n}\r\n\r\n\r\n\r\n","import { FileLikeObject } from './file-like-object';\r\nimport { FileUploaderOptions } from './file-uploder-options';\r\nimport { FileUploader } from './file-uploader';\r\nimport { ParsedResponseHeaders } from './parsed-response-headers';\r\n\r\nexport class FileItem {\r\n    public file: FileLikeObject;\r\n    public lfile: File;\r\n    public alias: string;\r\n    public url: string = '/';\r\n    public method: string;\r\n    public headers: any = [];\r\n    public withCredentials: boolean = true;\r\n    public formData: any = [];\r\n    public isReady: boolean = false;\r\n    public isUploading: boolean = false;\r\n    public isUploaded: boolean = false;\r\n    public isSuccess: boolean = false;\r\n    public isCancel: boolean = false;\r\n    public isError: boolean = false;\r\n    public progress: number = 0;\r\n    public index: number = void 0;\r\n    public xhr: XMLHttpRequest;\r\n    public form: any;\r\n\r\n    protected uploader: FileUploader;\r\n    protected some: File;\r\n    protected options: FileUploaderOptions;\r\n    public constructor(uploader: FileUploader, some: File, options: FileUploaderOptions) {\r\n        this.uploader = uploader;\r\n        this.some = some;\r\n        this.options = options;\r\n        this.file = new FileLikeObject(some);\r\n        this.lfile = some;\r\n        if (uploader.options) {\r\n          this.method = uploader.options.method || 'POST';\r\n          this.alias = uploader.options.itemAlias || 'file';\r\n        }\r\n        this.url = uploader.options.url;\r\n    }\r\n    public upload(): void {\r\n        try {\r\n          this.uploader.uploadItem(this);\r\n        } catch (e) {\r\n          this.uploader._onCompleteItem(this, '', 0, {});\r\n          this.uploader._onErrorItem(this, '', 0, {});\r\n        }\r\n    }\r\n    public cancel(): void {\r\n        this.uploader.cancelItem(this);\r\n    }\r\n    public remove(): void {\r\n        this.uploader.removeFromQueue(this);\r\n    }\r\n    public onBeforeUpload(): void {\r\n        return void 0;\r\n    }\r\n    public onBuildForm(form: any): any {\r\n        return { form };\r\n    }\r\n    public onProgress(progress: number): any {\r\n        return { progress };\r\n    }\r\n    public onSuccess(response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { response, status, headers };\r\n    }\r\n    public onError(response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { response, status, headers };\r\n    }\r\n    public onCancel(response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { response, status, headers };\r\n    }\r\n    public onComplete(response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { response, status, headers };\r\n    }\r\n    public _onBeforeUpload(): void {\r\n        this.isReady = true;\r\n        this.isUploading = true;\r\n        this.isUploaded = false;\r\n        this.isSuccess = false;\r\n        this.isCancel = false;\r\n        this.isError = false;\r\n        this.progress = 0;\r\n        this.onBeforeUpload();\r\n    }\r\n    public _onBuildForm(form: any): void {\r\n        this.onBuildForm(form);\r\n    }\r\n    public _onProgress(progress: number): void {\r\n        this.progress = progress;\r\n        this.onProgress(progress);\r\n    }\r\n    public _onSuccess(response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        this.isReady = false;\r\n        this.isUploading = false;\r\n        this.isUploaded = true;\r\n        this.isSuccess = true;\r\n        this.isCancel = false;\r\n        this.isError = false;\r\n        this.progress = 100;\r\n        this.index = void 0;\r\n        this.onSuccess(response, status, headers);\r\n    }\r\n    public _onError(response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        this.isReady = false;\r\n        this.isUploading = false;\r\n        this.isUploaded = true;\r\n        this.isSuccess = false;\r\n        this.isCancel = false;\r\n        this.isError = true;\r\n        this.progress = 0;\r\n        this.index = void 0;\r\n        this.onError(response, status, headers);\r\n    }\r\n    public _onCancel(response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        this.isReady = false;\r\n        this.isUploading = false;\r\n        this.isUploaded = false;\r\n        this.isSuccess = false;\r\n        this.isCancel = true;\r\n        this.isError = false;\r\n        this.progress = 0;\r\n        this.index = void 0;\r\n        this.onCancel(response, status, headers);\r\n    }\r\n    public _onComplete(response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        this.onComplete(response, status, headers);\r\n        if (this.uploader.options.removeAfterUpload) {\r\n          this.remove();\r\n        }\r\n    }\r\n    public _prepareToUploading(): void {\r\n        this.index = this.index || ++this.uploader.nextIndex;\r\n        this.isReady = true;\r\n    }\r\n}\r\n","import { FileUploaderOptions } from './file-uploder-options';\r\nimport { FileItem } from './file-item';\r\nimport { FilterFunction } from './filter-function';\r\nimport { FileLikeObject } from './file-like-object';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { ParsedResponseHeaders } from './parsed-response-headers';\r\nimport { FileType } from './file-type';\r\n\r\nexport class FileUploader {\r\n    public authToken: string;\r\n    public isUploading: boolean = false;\r\n    public queue: FileItem[] = [];\r\n    public progress: number = 0;\r\n    public nextIndex: number = 0;\r\n    public autoUpload: any;\r\n    public authTokenHeader: string;\r\n    public response: EventEmitter<any>;\r\n    public options: FileUploaderOptions = {\r\n        autoUpload: false,\r\n        isHTML5: true,\r\n        filters: [],\r\n        removeAfterUpload: false,\r\n        disableMultipart: false,\r\n        formatDataFunction: (item: FileItem) => item.lfile,\r\n        formatDataFunctionIsAsync: false\r\n    };\r\n    protected failFilterIndex: number;\r\n    public constructor(options: FileUploaderOptions) {\r\n        this.setOptions(options);\r\n        this.response = new EventEmitter<any>();\r\n    }\r\n    public setOptions(options: FileUploaderOptions): void {\r\n        this.options = Object.assign(this.options, options);\r\n        this.authToken = this.options.authToken;\r\n        this.authTokenHeader = this.options.authTokenHeader || 'Authorization';\r\n        this.autoUpload = this.options.autoUpload;\r\n        this.options.filters.unshift({ name: 'queueLimit', fn: this.queueLimitFilter });\r\n        if (this.options.maxFileSize) {\r\n            this.options.filters.unshift({ name: 'fileSize', fn: this._fileSizeFilter });\r\n        }\r\n        if (this.options.allowedFileType) {\r\n            this.options.filters.unshift({ name: 'fileType', fn: this._fileTypeFilter });\r\n        }\r\n        if (this.options.allowedMimeType) {\r\n            this.options.filters.unshift({ name: 'mimeType', fn: this._mimeTypeFilter });\r\n        }\r\n        for (const item of this.queue) {\r\n            item.url = this.options.url;\r\n        }\r\n    }\r\n    public addToQueue(files: File[], options?: FileUploaderOptions, filters?: FilterFunction[] | string): void {\r\n        const list: File[] = [];\r\n        for (const file of files) {\r\n          list.push(file);\r\n        }\r\n        const arrayOfFilters = this._getFilters(filters);\r\n        const count = this.queue.length;\r\n        const addedFileItems: FileItem[] = [];\r\n        list.map((some: File) => {\r\n          if (!options) {\r\n            options = this.options;\r\n          }\r\n          const temp = new FileLikeObject(some);\r\n          if (this._isValidFile(temp, arrayOfFilters, options)) {\r\n            const fileItem = new FileItem(this, some, options);\r\n            addedFileItems.push(fileItem);\r\n            this.queue.push(fileItem);\r\n            this._onAfterAddingFile(fileItem);\r\n          } else {\r\n            const filter = arrayOfFilters[ this.failFilterIndex ];\r\n            this._onWhenAddingFileFailed(temp, filter, options);\r\n          }\r\n        });\r\n        if (this.queue.length !== count) {\r\n          this._onAfterAddingAll(addedFileItems);\r\n          this.progress = this._getTotalProgress();\r\n        }\r\n        this._render();\r\n        if (this.options.autoUpload) {\r\n          this.uploadAll();\r\n        }\r\n    }\r\n    public removeFromQueue(value: FileItem): void {\r\n        const index = this.getIndexOfItem(value);\r\n        const item = this.queue[ index ];\r\n        if (item.isUploading) {\r\n          item.cancel();\r\n        }\r\n        this.queue.splice(index, 1);\r\n        this.progress = this._getTotalProgress();\r\n    }\r\n    public clearQueue(): void {\r\n        while (this.queue.length) {\r\n          this.queue[ 0 ].remove();\r\n        }\r\n        this.progress = 0;\r\n    }\r\n    public uploadItem(value: FileItem): void {\r\n        const index = this.getIndexOfItem(value);\r\n        const item = this.queue[ index ];\r\n        const transport = this.options.isHTML5 ? '_xhrTransport' : '_iframeTransport';\r\n        item._prepareToUploading();\r\n        if (this.isUploading) {\r\n          return;\r\n        }\r\n        this.isUploading = true;\r\n        (this as any)[ transport ](item);\r\n    }\r\n    public cancelItem(value: FileItem): void {\r\n        const index = this.getIndexOfItem(value);\r\n        const item = this.queue[ index ];\r\n        const prop = this.options.isHTML5 ? item.xhr : item.form;\r\n        if (item && item.isUploading) {\r\n          prop.abort();\r\n        }\r\n    }\r\n    public uploadAll(): void {\r\n        const items = this.getNotUploadedItems().filter((item: FileItem) => !item.isUploading);\r\n        if (!items.length) {\r\n          return;\r\n        }\r\n        items.map((item: FileItem) => item._prepareToUploading());\r\n        items[ 0 ].upload();\r\n    }\r\n    public cancelAll(): void {\r\n        const items = this.getNotUploadedItems();\r\n        items.map((item: FileItem) => item.cancel());\r\n    }\r\n    public isFile(value: any): boolean {\r\n        return this.isFile(value);\r\n    }\r\n    public isFileLikeObject(value: any): boolean {\r\n        return value instanceof FileLikeObject;\r\n    }\r\n    public getIndexOfItem(value: any): number {\r\n        return typeof value === 'number' ? value : this.queue.indexOf(value);\r\n    }\r\n    public getNotUploadedItems(): any[] {\r\n        // ä¿®æ¹ by é¹æ¿åï¼æ­¤å¤æ¯åªä¸ä¼ æ²¡æä¸ä¼ è¿çæä»¶ï¼ä¸éåå¯¼å¥å¯¼åºåºæ¯ï¼æä¿®æ¹ä¸ºå¯ä»¥é½ä¸ä¼ ã\r\n        // return this.queue.filter((item: FileItem) => !item.isUploaded);\r\n        return this.queue.filter((item: FileItem) => true);\r\n    }\r\n    public getReadyItems(): any[] {\r\n        return this.queue\r\n          .filter((item: FileItem) => (item.isReady && !item.isUploading))\r\n          .sort((item1: any, item2: any) => item1.index - item2.index);\r\n    }\r\n    public destroy(): void {\r\n        return void 0;\r\n    }\r\n    public onAfterAddingAll(fileItems: any): any {\r\n        return { fileItems };\r\n    }\r\n    public onBuildItemForm(fileItem: FileItem, form: any): any {\r\n        return { fileItem, form };\r\n    }\r\n    public onAfterAddingFile(fileItem: FileItem): any {\r\n        return { fileItem };\r\n    }\r\n    public onWhenAddingFileFailed(item: FileLikeObject, filter: any, options: any): any {\r\n        return { item, filter, options };\r\n    }\r\n    public onBeforeUploadItem(fileItem: FileItem): any {\r\n        return { fileItem };\r\n    }\r\n    public onProgressItem(fileItem: FileItem, progress: any): any {\r\n        return { fileItem, progress };\r\n    }\r\n    public onProgressAll(progress: any): any {\r\n        return { progress };\r\n    }\r\n    public onSuccessItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { item, response, status, headers };\r\n    }\r\n    public onErrorItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { item, response, status, headers };\r\n    }\r\n    public onCancelItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { item, response, status, headers };\r\n    }\r\n    public onCompleteItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        return { item, response, status, headers };\r\n    }\r\n    public onCompleteAll(): any {\r\n        return void 0;\r\n    }\r\n    public _mimeTypeFilter(item: FileLikeObject): boolean {\r\n        return !(this.options.allowedMimeType && this.options.allowedMimeType.indexOf(item.type) === -1);\r\n    }\r\n    public _fileSizeFilter(item: FileLikeObject): boolean {\r\n        return !(this.options.maxFileSize && item.size > this.options.maxFileSize);\r\n    }\r\n    public _fileTypeFilter(item: FileLikeObject): boolean {\r\n        // return !(this.options.allowedFileType &&\r\n        //   this.options.allowedFileType.indexOf(FileType.getMimeClass(item)) === -1);\r\n      //by miao  è¿ä¸ªå°æ¹ä¸è¿æ»¤æä»¶ç±»åäºï¼åç«¯æç½ååéå¶\r\n      return true;\r\n    }\r\n    public _onErrorItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onError(response, status, headers);\r\n        this.onErrorItem(item, response, status, headers);\r\n    }\r\n    public _onCompleteItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onComplete(response, status, headers);\r\n        this.onCompleteItem(item, response, status, headers);\r\n        const nextItem = this.getReadyItems()[ 0 ];\r\n        this.isUploading = false;\r\n        if (nextItem) {\r\n          nextItem.upload();\r\n          return;\r\n        }\r\n        this.onCompleteAll();\r\n        this.progress = this._getTotalProgress();\r\n        this._render();\r\n    }\r\n    protected _headersGetter(parsedHeaders: ParsedResponseHeaders): any {\r\n        return (name: any): any => {\r\n          if (name) {\r\n            return parsedHeaders[ name.toLowerCase() ] || void 0;\r\n          }\r\n          return parsedHeaders;\r\n        };\r\n    }\r\n    protected _xhrTransport(item: FileItem): any {\r\n        const that = this;\r\n        const xhr = item.xhr = new XMLHttpRequest();\r\n        let sendable: any;\r\n        this._onBeforeUploadItem(item);\r\n        if (typeof item.lfile.size !== 'number') {\r\n          throw new TypeError('The file specified is no longer valid');\r\n        }\r\n        if (!this.options.disableMultipart) {\r\n          sendable = new FormData();\r\n          this._onBuildItemForm(item, sendable);\r\n          const appendFile = () => sendable.append(item.alias, item.lfile, item.file.name);\r\n          if (!this.options.parametersBeforeFiles) {\r\n            appendFile();\r\n          }\r\n          // For AWS, Additional Parameters must come BEFORE Files\r\n          if (this.options.additionalParameter !== undefined) {\r\n            Object.keys(this.options.additionalParameter).forEach((key: string) => {\r\n              let paramVal = this.options.additionalParameter[ key ];\r\n              // Allow an additional parameter to include the filename\r\n              if (typeof paramVal === 'string' && paramVal.indexOf('{{file_name}}') >= 0) {\r\n                paramVal = paramVal.replace('{{file_name}}', item.file.name);\r\n              }\r\n              sendable.append(key, paramVal);\r\n            });\r\n          }\r\n          if (this.options.parametersBeforeFiles) {\r\n            appendFile();\r\n          }\r\n        } else {\r\n          sendable = this.options.formatDataFunction(item);\r\n        }\r\n        xhr.upload.onprogress = (event: any) => {\r\n            const progress = Math.round(event.lengthComputable ? event.loaded * 100 / event.total : 0);\r\n            this._onProgressItem(item, progress);\r\n        };\r\n        xhr.onload = () => {\r\n            const headers = this._parseHeaders(xhr.getAllResponseHeaders());\r\n            const response = this._transformResponse(xhr.response, headers);\r\n            const gist = this._isSuccessCode(xhr.status) ? 'Success' : 'Error';\r\n            const method = '_on' + gist + 'Item';\r\n            (this as any)[ method ](item, response, xhr.status, headers);\r\n            this._onCompleteItem(item, response, xhr.status, headers);\r\n        };\r\n        xhr.onerror = () => {\r\n            const headers = this._parseHeaders(xhr.getAllResponseHeaders());\r\n            const response = this._transformResponse(xhr.response, headers);\r\n            this._onErrorItem(item, response, xhr.status, headers);\r\n            this._onCompleteItem(item, response, xhr.status, headers);\r\n        };\r\n        xhr.onabort = () => {\r\n            const headers = this._parseHeaders(xhr.getAllResponseHeaders());\r\n            const response = this._transformResponse(xhr.response, headers);\r\n            this._onCancelItem(item, response, xhr.status, headers);\r\n            this._onCompleteItem(item, response, xhr.status, headers);\r\n        };\r\n        xhr.open(item.method, item.url, true);\r\n        xhr.withCredentials = item.withCredentials;\r\n        if (this.options.headers) {\r\n          for (const header of this.options.headers) {\r\n            xhr.setRequestHeader(header.name, header.value);\r\n          }\r\n        }\r\n        if (item.headers.length) {\r\n          for (const header of item.headers) {\r\n            xhr.setRequestHeader(header.name, header.value);\r\n          }\r\n        }\r\n        if (this.authToken) {\r\n          xhr.setRequestHeader(this.authTokenHeader, this.authToken);\r\n        }\r\n        // xhr.onreadystatechange = function () {\r\n        //   if (xhr.readyState == XMLHttpRequest.DONE) {\r\n        //     that.response.emit(xhr.responseText);\r\n        //   }\r\n        // }\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === XMLHttpRequest.DONE) {\r\n                that.response.emit(xhr.responseText);\r\n            }\r\n        };\r\n\r\n        if (this.options.formatDataFunctionIsAsync) {\r\n          sendable.then(\r\n            (result: any) => xhr.send(JSON.stringify(result))\r\n          );\r\n        } else {\r\n          xhr.send(sendable);\r\n        }\r\n        this._render();\r\n    }\r\n    protected _getTotalProgress(value: number = 0): number {\r\n        if (this.options.removeAfterUpload) {\r\n          return value;\r\n        }\r\n        const notUploaded = this.getNotUploadedItems().length;\r\n        const uploaded = notUploaded ? this.queue.length - notUploaded : this.queue.length;\r\n        const ratio = 100 / this.queue.length;\r\n        const current = value * ratio / 100;\r\n        return Math.round(uploaded * ratio + current);\r\n    }\r\n    protected _getFilters(filters: FilterFunction[] | string): FilterFunction[] {\r\n        if (!filters) {\r\n          return this.options.filters;\r\n        }\r\n        if (Array.isArray(filters)) {\r\n          return filters;\r\n        }\r\n        if (typeof filters === 'string') {\r\n          const names = filters.match(/[^\\s,]+/g);\r\n          return this.options.filters\r\n            .filter((filter: any) => names.indexOf(filter.name) !== -1);\r\n        }\r\n        return this.options.filters;\r\n    }\r\n    protected _render(): any {\r\n        return void 0;\r\n    }\r\n    protected _queueLimitFilter(): boolean {\r\n        return this.options.queueLimit === undefined || this.queue.length < this.options.queueLimit;\r\n    }\r\n    protected _isValidFile(file: FileLikeObject, filters: FilterFunction[], options: FileUploaderOptions): boolean {\r\n        this.failFilterIndex = -1;\r\n        return !filters.length ? true : filters.every((filter: FilterFunction) => {\r\n          this.failFilterIndex++;\r\n          return filter.fn.call(this, file, options);\r\n        });\r\n    }\r\n    protected _isSuccessCode(status: number): boolean {\r\n        return (status >= 200 && status < 300) || status === 304;\r\n    }\r\n    protected _transformResponse(response: string, headers: ParsedResponseHeaders): string {\r\n        return response;\r\n    }\r\n    protected _parseHeaders(headers: string): ParsedResponseHeaders {\r\n        const parsed: any = {};\r\n        let key: any;\r\n        let val: any;\r\n        let i: any;\r\n        if (!headers) {\r\n          return parsed;\r\n        }\r\n        headers.split('\\n').map((line: any) => {\r\n          i = line.indexOf(':');\r\n          key = line.slice(0, i).trim().toLowerCase();\r\n          val = line.slice(i + 1).trim();\r\n          if (key) {\r\n            parsed[ key ] = parsed[ key ] ? parsed[ key ] + ', ' + val : val;\r\n          }\r\n        });\r\n        return parsed;\r\n    }\r\n    protected _onWhenAddingFileFailed(item: FileLikeObject, filter: any, options: any): void {\r\n        this.onWhenAddingFileFailed(item, filter, options);\r\n    }\r\n    protected _onAfterAddingFile(item: FileItem): void {\r\n        this.onAfterAddingFile(item);\r\n    }\r\n    protected _onAfterAddingAll(items: any): void {\r\n        this.onAfterAddingAll(items);\r\n    }\r\n    protected _onBeforeUploadItem(item: FileItem): void {\r\n        item._onBeforeUpload();\r\n        this.onBeforeUploadItem(item);\r\n    }\r\n    protected _onBuildItemForm(item: FileItem, form: any): void {\r\n        item._onBuildForm(form);\r\n        this.onBuildItemForm(item, form);\r\n    }\r\n    protected _onProgressItem(item: FileItem, progress: any): void {\r\n        const total = this._getTotalProgress(progress);\r\n        this.progress = total;\r\n        item._onProgress(progress);\r\n        this.onProgressItem(item, progress);\r\n        this.onProgressAll(total);\r\n        this._render();\r\n    }\r\n    protected _onSuccessItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onSuccess(response, status, headers);\r\n        this.onSuccessItem(item, response, status, headers);\r\n    }\r\n    protected _onCancelItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onCancel(response, status, headers);\r\n        this.onCancelItem(item, response, status, headers);\r\n    }\r\n    protected queueLimitFilter(): boolean {\r\n        return this.options.queueLimit === undefined || this.queue.length < this.options.queueLimit;\r\n    }\r\n}\r\n","export enum DataValidateStrategy{\r\n    Ignore = 0,\r\n    MandatoryImport = 1\r\n}","import {Component, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild} from '@angular/core';\r\nimport {ValidatedResult} from './ValidateEntity/ValidatedResult';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {DatagridComponent} from '@farris/ui-datagrid';\r\nimport {DataValidateStrategy} from './ValidateEntity/DataValidateStrategy';\r\nimport {ValidatedInfo} from \"./ValidateEntity/ValidatedInfo\";\r\nimport {element} from \"protractor\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-validate-form',\r\n  templateUrl: './validate-form.component.html',\r\n  styleUrls: ['./validate-form.component.css']\r\n})\r\nexport class ValidateFormComponent implements OnInit {\r\n  @ViewChild('ValidateInfoGrid') ValidateInfoGrid: DatagridComponent;\r\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('columnOperation') columnOperation: TemplateRef<any>;\r\n  @ViewChild('headerTemplate') headerTemplate: TemplateRef<any>;\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() okModal = new EventEmitter<any>();\r\n\r\n  @Input()\r\n    //å®éåªæä¸æ¡\r\n  validateResult: ValidatedResult[];\r\n  su: string;\r\n  loadingParam: any;\r\n\r\n  order: string;\r\n  validate_type: string;\r\n  table_name: string;\r\n  illegal_data_location: string;\r\n  validate_result: string;\r\n  export_validate_result: string;\r\n  continue: string;\r\n  cancel: string;\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n  }\r\n\r\n  validateInfoAllWarning = false;\r\n  onlyOneObject = false;\r\n  customShowInfo;\r\n  showInfo = '';\r\n  ValidateInfoColumns = [];\r\n  radioData = [];\r\n  checkboxData1 = [];\r\n  checkboxData2 = [];\r\n  checkBoxValue1 = DataValidateStrategy[0];\r\n  checkBoxValue2 = '';\r\n\r\n  validatedInfoList: Array<ValidatedInfo> = [];\r\n\r\n  ngOnInit() {\r\n    const res = this.i18nResource;\r\n    this.order = res['order'];\r\n    this.validate_type = res['validate_type'];\r\n    this.table_name = res['table_name'];\r\n    this.illegal_data_location = res['illegal_data_location'];\r\n    this.validate_result = res['validate_result'];\r\n    this.export_validate_result = res['export_validate_result'];\r\n    this.continue = res['continue'];\r\n\r\n\r\n    this.checkboxData1 = [\r\n      {value: DataValidateStrategy[0], name: this.i18nResource['AllIgnore']}\r\n    ];\r\n    this.checkboxData2 = [\r\n      {value: DataValidateStrategy[1], name: this.i18nResource['AllMandatoryImport']}\r\n    ];\r\n    this.radioData = [\r\n      {value: DataValidateStrategy[0], name: this.i18nResource['Ignore']},\r\n      {value: DataValidateStrategy[1], name: this.i18nResource['MandatoryImport']}\r\n    ];\r\n\r\n    this.validateResult.forEach(element => {\r\n      if (element.validateInfoAllWarning) {\r\n        this.validateInfoAllWarning = true;\r\n      }\r\n      if (element.onlyOneObject) {\r\n        this.onlyOneObject = true;\r\n      }\r\n      if (element.newValidatedInfoList !== null && element.newValidatedInfoList !== undefined) {\r\n        this.validatedInfoList = this.validatedInfoList.concat(element.newValidatedInfoList);\r\n      }\r\n      if (element.validateShowInfo) {\r\n        this.customShowInfo = element.validateShowInfo;\r\n      }\r\n    });\r\n    if (this.validateInfoAllWarning) {\r\n      this.cancel = res['cancel'];\r\n    } else {\r\n      this.cancel = res['ie_ok'];\r\n    }\r\n    if (this.validateInfoAllWarning) {\r\n      this.showInfo = this.customShowInfo ? this.customShowInfo : this.i18nResource['you_have'] + this.validatedInfoList.length + this.i18nResource['warning_info'];\r\n      if (this.onlyOneObject) {\r\n        this.ValidateInfoColumns = [\r\n          {field: 'validateShowInfo', width: 140, title: this.illegal_data_location, sortable: false, showTips: true},\r\n          {\r\n            field: 'operation', width: 80, title: 'æä½', headerTemplate: this.headerTemplate,\r\n            template: this.columnOperation, sortable: false, showTips: true\r\n          }\r\n        ];\r\n      } else {\r\n        this.ValidateInfoColumns = [\r\n          {field: 'dataObjectName', width: 40, title: this.table_name, sortable: false, showTips: true},\r\n          {field: 'validateShowInfo', width: 140, title: this.illegal_data_location, sortable: false, showTips: true},\r\n          {\r\n            field: 'operation', width: 80, title: 'æä½', headerTemplate: this.headerTemplate,\r\n            template: this.columnOperation, sortable: false, showTips: true\r\n          }\r\n        ];\r\n      }\r\n\r\n    } else {\r\n      this.showInfo = this.customShowInfo ? this.customShowInfo : this.i18nResource['you_have'] + this.validatedInfoList.length + this.i18nResource['error_info'];\r\n      if (this.onlyOneObject) {\r\n        this.ValidateInfoColumns = [\r\n          {field: 'validateShowInfo', width: 140, title: this.illegal_data_location, sortable: false, showTips: true}\r\n        ];\r\n      } else {\r\n        this.ValidateInfoColumns = [\r\n          {field: 'dataObjectName', width: 40, title: this.table_name, sortable: false, showTips: true},\r\n          {field: 'validateShowInfo', width: 140, title: this.illegal_data_location, sortable: false, showTips: true}\r\n        ];\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  checkBoxChange1() {\r\n    if (this.checkBoxValue1) {\r\n      this.checkBoxValue2 = '';\r\n      if (this.validatedInfoList) {\r\n        this.validatedInfoList.forEach(t => t.dataValidateStrategy = DataValidateStrategy[0]);\r\n      }\r\n    }\r\n  }\r\n\r\n  checkBoxChange2() {\r\n    if (this.checkBoxValue2) {\r\n      this.checkBoxValue1 = '';\r\n      if (this.validatedInfoList) {\r\n        this.validatedInfoList.forEach(t => t.dataValidateStrategy = DataValidateStrategy[1]);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  radioChange(ctx) {\r\n    const ignoreList = this.validatedInfoList.filter(t => t.dataValidateStrategy == DataValidateStrategy[0]);\r\n    if (ignoreList.length == this.validatedInfoList.length) {\r\n      this.checkBoxValue1 = DataValidateStrategy[0];\r\n      this.checkBoxValue2 = '';\r\n    } else if (ignoreList.length == 0) {\r\n      this.checkBoxValue1 = '';\r\n      this.checkBoxValue2 = DataValidateStrategy[1];\r\n    } else {\r\n      this.checkBoxValue1 = '';\r\n      this.checkBoxValue2 = '';\r\n    }\r\n  }\r\n\r\n  continueHandler() {\r\n    this.okModal.emit(this.validatedInfoList);\r\n  }\r\n\r\n  cancelHandler() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n\r\n  exportPdf() {\r\n    const url = '/api/runtime/dip/v1.0/rpcfileoper/DownloadValidateFile';\r\n    const body = {\r\n      su: this.su,\r\n      validateTitles: [this.order, this.table_name, this.illegal_data_location],\r\n      validatedInfos: this.validatedInfoList\r\n    };\r\n    this.loadingParam.loadingService.show();\r\n    this.http.post(url, body, {\r\n      responseType: 'blob',\r\n      observe: 'response',\r\n      params: {su: this.su}\r\n    }).subscribe(filedata => {\r\n      this.loadingParam.loadingService.clearAll();\r\n      if (!filedata || filedata.body.size == 0) {\r\n        return;\r\n      } else {\r\n        const blob = new Blob([filedata.body]);\r\n        if (navigator.msSaveOrOpenBlob) {\r\n          navigator.msSaveOrOpenBlob(blob, this.validate_result);\r\n        } else {\r\n          const link = document.createElement('a');\r\n          link.setAttribute('href', window.URL.createObjectURL(blob));\r\n          // è®¾ç½®ä¸è½½çæä»¶å\r\n          link.setAttribute('download', this.validate_result);\r\n          link.style.visibility = 'hidden';\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n        }\r\n        const delUrl = '/api/runtime/dip/v1.0/rpcfileoper/DeleteFile';\r\n        const delParam = {\r\n          relativePath: \"VALIDATEPDFFILE/test.pdf\",\r\n          su: this.su\r\n        };\r\n        this.http.post(delUrl, delParam, {params: {su: this.su}}).subscribe();\r\n      }\r\n    }, error => {\r\n      this.loadingParam.loadingService.clearAll();\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable, Output, EventEmitter, Injector } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DataIEUtils } from '../Utils/DataIEUtils';\r\n\r\n@Injectable()\r\nexport class FileOperateService {\r\n  private origin = window.location.origin;\r\n  private fileUrl = this.origin + '/api/runtime/rtcommon/v1.0/fileoper';\r\n  public downloadComplete: any;\r\n  private file_download_fail: string;\r\n  constructor(\r\n    private http: HttpClient,\r\n  ) {\r\n    this.downloadComplete = new EventEmitter();\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.file_download_fail = res['file_download_fail'];\r\n    });\r\n  }\r\n  // ä¸è½½æä»¶\r\n  DownloadFile(relativePath: string, fileName: string, preurl: string, option: any, needDelete: boolean = true) {\r\n\r\n    let tempUrl = '';\r\n    if (preurl === '') {\r\n      tempUrl = this.fileUrl;\r\n    } else {\r\n      tempUrl = `${preurl}/fileoper`;\r\n    }\r\n\r\n    const app = DataIEUtils.getApp(tempUrl);\r\n    let su = DataIEUtils.getSu(tempUrl);\r\n    if (option !== null && option['su'] !== null && option['su'] !== undefined) {\r\n      su = option['su'];\r\n    }\r\n    const fileParam = {\r\n      relativePath: relativePath,\r\n      app: app,\r\n      su: su\r\n    };\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcfileoper';\r\n\r\n    this.http.post(\r\n      `${fixedUrl}/DownloadFile`,\r\n      fileParam,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Origin': '*'\r\n        },\r\n        responseType: 'blob',\r\n        observe: 'response',\r\n        params: { su: su }\r\n      }\r\n    ).subscribe(filedata => {\r\n      if (!filedata || filedata.body.size == 0) {\r\n        this.downloadComplete.emit(this.file_download_fail);\r\n      } else {\r\n        //const blob = new Blob([filedata.body], {type: 'application/vnd.ms-excel'});\r\n        const blob = new Blob([filedata.body]);\r\n        if (navigator.msSaveOrOpenBlob) {\r\n          navigator.msSaveOrOpenBlob(blob, fileName);\r\n        } else {\r\n          const link = document.createElement('a');\r\n          link.setAttribute('href', window.URL.createObjectURL(blob));\r\n          // è®¾ç½®ä¸è½½çæä»¶å\r\n          link.setAttribute('download', fileName);\r\n          link.style.visibility = 'hidden';\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n        }\r\n        this.downloadComplete.emit('');\r\n        if (needDelete) {\r\n          this.DeleteFile(relativePath, preurl, su);\r\n        }\r\n      }\r\n    }, error => {\r\n      this.downloadComplete.error(error);\r\n    });\r\n    // æ·»å errorå¼å¸¸å¤ç\r\n  }\r\n  // æåæä»¶ä¸è½½æä»¶\r\n  DownloadPackageFile(relativePaths: any, itemsFileName: any, packageName: string, preurl: string, packtype: string, needDelete: boolean = true) {\r\n\r\n    let tempUrl = '';\r\n    if (preurl === '') {\r\n      tempUrl = this.fileUrl;\r\n    } else {\r\n      tempUrl = `${preurl}/fileoper`;\r\n    }\r\n\r\n    const app = DataIEUtils.getApp(tempUrl);\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    const fileParam = {\r\n      relativePaths: relativePaths,\r\n      itemsFileName: itemsFileName,\r\n      packType: packtype,\r\n      packageName: packageName,\r\n      su: su\r\n    };\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcfileoper';\r\n\r\n    this.http.post(\r\n      `${fixedUrl}/DownloadPackageFile`,\r\n      fileParam,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Origin': '*'\r\n        },\r\n        responseType: 'blob',\r\n        observe: 'response',\r\n        params: { su: su }\r\n      }\r\n    ).subscribe(filedata => {\r\n      if (!filedata || filedata.body.size == 0) {\r\n        this.downloadComplete.emit(this.file_download_fail);\r\n      } else {\r\n        const blob = new Blob([filedata.body]);\r\n        // è®¾ç½®ä¸è½½çæä»¶å\r\n        const downloadFileName = packageName + '.' + packtype;\r\n        if (navigator.msSaveOrOpenBlob) {\r\n          navigator.msSaveOrOpenBlob(blob, downloadFileName);\r\n        } else {\r\n          const link = document.createElement('a');\r\n          link.setAttribute('href', window.URL.createObjectURL(blob));\r\n          link.setAttribute('download', downloadFileName);\r\n          link.style.visibility = 'hidden';\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n        }\r\n        this.downloadComplete.emit('');\r\n        if (needDelete) {\r\n          this.DeleteFile(downloadFileName, preurl);\r\n        }\r\n      }\r\n    }, error => {\r\n      this.downloadComplete.error(error);\r\n    });\r\n    // æ·»å errorå¼å¸¸å¤ç\r\n  }\r\n  /**\r\n   * æå·¥è¡¨åä¸è½½\r\n   * @param relativePath \r\n   * @param fileName \r\n   * @param su \r\n   * @param needDelete \r\n   */\r\n  DownloadFile4HandCraft(relativePath: string, fileName: string, su: string, needDelete: boolean = true) {\r\n    const fileParam = {\r\n      relativePath: relativePath,\r\n      app: '',\r\n      su: su\r\n    };\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcfileoper';\r\n\r\n    this.http.post(\r\n      `${fixedUrl}/DownloadFile`,\r\n      fileParam,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Origin': '*'\r\n        },\r\n        responseType: 'blob',\r\n        observe: 'response',\r\n        params: { su: su }\r\n      }\r\n    ).subscribe(filedata => {\r\n      if (!filedata || filedata.body.size == 0) {\r\n        this.downloadComplete.emit(this.file_download_fail);\r\n      } else {\r\n        const blob = new Blob([filedata.body]);\r\n        if (navigator.msSaveOrOpenBlob) {\r\n          navigator.msSaveOrOpenBlob(blob, fileName);\r\n        } else {\r\n          const link = document.createElement('a');\r\n          link.setAttribute('href', window.URL.createObjectURL(blob));\r\n          // è®¾ç½®ä¸è½½çæä»¶å\r\n          link.setAttribute('download', fileName);\r\n          link.style.visibility = 'hidden';\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n        }\r\n        this.downloadComplete.emit('');\r\n        if (needDelete) {\r\n          this.DeleteFile4HandCraft(relativePath, su);\r\n        }\r\n      }\r\n    }, error => {\r\n      this.downloadComplete.error(error);\r\n    });\r\n    // æ·»å errorå¼å¸¸å¤ç\r\n  }\r\n  // å é¤æä»¶\r\n  DeleteFile(relativePath: string, preurl: string, customSu: string = '') {\r\n    let tempUrl = '';\r\n    if (preurl === '') {\r\n      tempUrl = this.fileUrl;\r\n    } else {\r\n      tempUrl = `${preurl}/fileoper`;\r\n    }\r\n    let su = '';\r\n    if (customSu !== '') {\r\n      su = customSu;\r\n    } else {\r\n      su = DataIEUtils.getSu(tempUrl);\r\n    }\r\n    const delParam = {\r\n      relativePath: relativePath,\r\n      su: su\r\n    };\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcfileoper';\r\n    this.http.post(\r\n      `${fixedUrl}/DeleteFile`,\r\n      delParam,\r\n      {\r\n        params: { su: su }\r\n      }\r\n    ).subscribe();\r\n  }\r\n  DeleteFile4HandCraft(relativePath: string, su: string) {\r\n    const delParam = {\r\n      relativePath: relativePath,\r\n      su: su\r\n    };\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcfileoper';\r\n    this.http.post(\r\n      `${fixedUrl}/DeleteFile`,\r\n      delParam,\r\n      {\r\n        params: { su: su }\r\n      }\r\n    ).subscribe();\r\n  }\r\n}\r\n","export enum MethodType {\r\n    CommonImport,\r\n    ImportSubTableDetail,\r\n    CommonExport,\r\n    ExportCurrentTableData,\r\n    ExportCurrentChildData,\r\n    CardFormDataImport,\r\n    DownloadImportTemplate\r\n}\r\n","import {ComponentFactoryResolver, EventEmitter, Injectable, Injector} from '@angular/core';\r\nimport {BsModalService} from '@farris/ui-modal';\r\nimport {Repository} from '@farris/devkit';\r\nimport {BefRepository, BefRestService} from '@farris/bef';\r\n\r\nimport {ValidateFormComponent} from '../../validate-form/validate-form.component';\r\nimport {DataIEResult} from '../Entity/DataIEResult';\r\nimport {FileOperateService} from './file-operate.service';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {DataIEUtils, getQueryString, isNullOrEmpty, isNullOrUndefined} from '../Utils/DataIEUtils';\r\nimport {HttpClient, HttpResponse} from '@angular/common/http';\r\nimport {CommonParams} from \"../Entity/CommonParams\";\r\nimport {MethodType} from \"../../model/DataIEType/MethodType\";\r\n\r\n@Injectable()\r\nexport class DataImportService {\r\n  private origin = window.location.origin;\r\n  private url = this.origin + '/api/runtime/rtcommon/v1.0/import';\r\n  DataIeProgressParams = {\r\n    \"ImportProgressValue\": 13\r\n  };\r\n  public complete: any;\r\n  public errorlevel: any;\r\n  // @Output()\r\n  // needDestroy = new EventEmitter();\r\n  master_table_noid: string;\r\n  bind_form_error: string;\r\n  validate_result_show: string;\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private operateService: FileOperateService,\r\n    private notify: NotifyService,\r\n    private http: HttpClient,\r\n    private injector: Injector) {\r\n    this.complete = new EventEmitter();\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.master_table_noid = res['master_table_noid'];\r\n      this.bind_form_error = res['bind_form_error'];\r\n      this.validate_result_show = res['validate_result_show'];\r\n    });\r\n  }\r\n\r\n  ImportSubTable(commonParams: CommonParams) {\r\n    const ruleId = commonParams.ruleId;\r\n    const option = commonParams.option;\r\n    const frameContext = commonParams.frameContext;\r\n    const methodType = commonParams.methodType;\r\n    const suffix = commonParams.suffix;\r\n    const fileName = commonParams.fileName;\r\n    const befRestService = this.getBefRestService(frameContext.repository);\r\n    commonParams.befRestService = befRestService;\r\n    commonParams.repository = frameContext.repository;\r\n    let globalVar = '';\r\n    if (option['GlobalParam'] !== null && option['GlobalParam'] !== undefined) {\r\n      if (typeof (option['GlobalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['GlobalParam']);\r\n      } else {\r\n        globalVar = option['GlobalParam'];\r\n      }\r\n    }\r\n    let model = '';\r\n    if (option.Models !== undefined && option.Models !== null && option.Models.length > 0) {\r\n      model = JSON.stringify(option.Models[0]);\r\n    }\r\n    const mainObjId = frameContext.bindingData.list.currentId;\r\n    if (isNullOrEmpty(mainObjId)) {\r\n      this.notify.info(this.master_table_noid);\r\n      return false;\r\n      // this.errorlevel = 'Info';\r\n      // this.complete.emit('æªè·åå°ä¸»è¡¨IDå¼ï¼è¯·ç¡®è®¤ä¸»è¡¨æ¯å¦ææ°æ®');\r\n    } else {\r\n      const funcId = getQueryString('funcId');\r\n      const importParam = {\r\n        body: {\r\n          dataImportContext: {\r\n            RuleId: ruleId,\r\n            FileName: fileName,\r\n            MainObjId: mainObjId,\r\n            GlobalParam: globalVar,\r\n            Suffix: suffix,\r\n            Model: model,\r\n            funcId: funcId,\r\n            securityLevelName: commonParams.securityLevelName,\r\n            methodType: methodType\r\n          },\r\n          requestInfo: befRestService.buildRequestInfo()\r\n        }\r\n      };\r\n\r\n      commonParams.importParam = importParam;\r\n      commonParams.mainObjId = mainObjId;\r\n      this.Import(commonParams);\r\n    }\r\n  }\r\n\r\n  ImportSubTable4HandCraft(commonParams: CommonParams) {\r\n    const ruleId = commonParams.ruleId;\r\n    const option = commonParams.option;\r\n    const frameContext = commonParams.frameContext;\r\n    const suffix = commonParams.suffix;\r\n    const fileName = commonParams.fileName;\r\n    let globalVar = '';\r\n    if (option['GlobalParam'] !== null && option['GlobalParam'] !== undefined) {\r\n      if (typeof (option['GlobalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['GlobalParam']);\r\n      } else {\r\n        globalVar = option['GlobalParam'];\r\n      }\r\n    }\r\n    const repository = frameContext === null ? null : frameContext.repository;\r\n    let mainObjId = '';\r\n    //æå·¥è¡¨åä»åºä¸ºnull\r\n    if (repository === null) {\r\n      if (option['mainId'] === undefined || option['mainId'] === null || option['mainId'] === '') {\r\n        this.notify.info(this.master_table_noid);\r\n        return false;\r\n      } else {\r\n        mainObjId = option['mainId'];\r\n      }\r\n    } else {//éç¨å¯¼å¥\r\n      if (frameContext.bindingData.list.currentId === '' || frameContext.bindingData.list.currentId === null) {\r\n        this.notify.info(this.master_table_noid);\r\n        return false;\r\n      } else {\r\n        mainObjId = frameContext.bindingData.list.currentId;\r\n      }\r\n    }\r\n    const funcId = getQueryString('funcId');\r\n    const importParam = {\r\n      ruleId: ruleId,\r\n      fileName: fileName,\r\n      mainObjId: mainObjId,\r\n      globalParam: globalVar,\r\n      suffix: suffix,\r\n      funcId: funcId,\r\n      securityLevelName: commonParams.securityLevelName\r\n    };\r\n\r\n    commonParams.importParam = importParam;\r\n    commonParams.mainObjId = mainObjId;\r\n    // this.Import4HandCraft(commonParams);\r\n  }\r\n\r\n  ImportByRuleId(commonParams: CommonParams) {\r\n    const ruleId = commonParams.ruleId;\r\n    const option = commonParams.option;\r\n    const repository = commonParams.repository;\r\n    const suffix = commonParams.suffix;\r\n    const fileName = commonParams.fileName;\r\n    const methodType = commonParams.methodType;\r\n    const befRestService = this.getBefRestService(repository);\r\n    commonParams.befRestService = befRestService;\r\n    let globalVar = '';\r\n    if (option['GlobalParam'] !== null && option['GlobalParam'] !== undefined) {\r\n      if (typeof (option['GlobalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['GlobalParam']);\r\n      } else {\r\n        globalVar = option['GlobalParam'];\r\n      }\r\n    }\r\n    let model = '';\r\n    if (option.Models !== undefined && option.Models !== null && option.Models.length > 0) {\r\n      model = JSON.stringify(option.Models[0]);\r\n    }\r\n    console.log('baseUri: ' + befRestService.baseUri);\r\n    const funcId = getQueryString('funcId');\r\n\r\n    if (methodType === MethodType.CardFormDataImport) {\r\n      commonParams.mainObjId = option.mainObjId;\r\n    } else {\r\n      commonParams.mainObjId = '';\r\n    }\r\n\r\n    const importParam = {\r\n      body: {\r\n        dataImportContext: {\r\n          RuleId: ruleId,\r\n          FileName: fileName,\r\n          GlobalParam: globalVar,\r\n          Suffix: suffix,\r\n          Model: model,\r\n          funcId: funcId,\r\n          securityLevelName: commonParams.securityLevelName,\r\n          mainObjId: commonParams.mainObjId,\r\n          methodType: methodType\r\n        }\r\n      }\r\n    };\r\n\r\n    commonParams.importParam = importParam;\r\n    this.Import(commonParams);\r\n  }\r\n\r\n  public Import(commonParams: CommonParams) {\r\n    const repository = commonParams.repository;\r\n    const importParam = commonParams.importParam;\r\n    const befRestService = commonParams.befRestService;\r\n    const methodType = commonParams.methodType;\r\n    const subscriber = befRestService.request(`${befRestService.baseUri}/service/dataimportvmaction`, 'put', null, importParam);\r\n    subscriber.subscribe(data => {\r\n        const su = DataIEUtils.getSu(befRestService.baseUri);\r\n        let importResult = data.returnValue as DataIEResult;\r\n        if (isNullOrUndefined(importResult)) {\r\n          importResult = data as DataIEResult;\r\n        }\r\n        commonParams.su = su;\r\n        commonParams.importResult = importResult;\r\n        if (importResult.succeed === true) {\r\n          try {\r\n            if (importResult.formData && importResult.formData.length > 0) {\r\n              importResult.isform = true;\r\n              if(methodType === MethodType.ImportSubTableDetail){\r\n                //å­è¡¨å¯¼å¥è¡¨å\r\n                const newData = importResult.formData[0];\r\n                const curEntity = repository.entityCollection.getEntityById(commonParams.mainObjId);\r\n                curEntity.load(newData);\r\n              }else if(methodType === MethodType.CardFormDataImport){\r\n                //å¡çå¯¼å¥ä¸èµ°æ°æ®å è½½ï¼å¯¼å¥å½ä»¤å®æåææ´æ°å½ä»¤\r\n              }else {\r\n                //ä¸»ä»è¡¨å¯¼å¥è¡¨å\r\n                const entities = [];\r\n                importResult.formData.forEach((rdata: any) => {\r\n                  const entity = repository.buildEntity(rdata);\r\n                  entities.push(entity);\r\n                });\r\n                repository.entityCollection.addEntities(entities);\r\n              }\r\n            }\r\n            if (importResult.validatedResults && importResult.validatedResults.length > 0) {\r\n              this.complete.emit('é¨åæ°æ®å¯¼å¥å®æ');\r\n            } else {\r\n              if (importResult.isform == true) {\r\n                //æ­¤å¤ä¸ºä¼ éï¼æ éå½éå\r\n                this.complete.emit('å¯¼å¥è¡¨åæå');\r\n              } else {\r\n                this.complete.emit('');\r\n              }\r\n            }\r\n\r\n            // this.complete.emit(true);\r\n            //this.complete.emit('');\r\n            //å¯¼å¥æåå¦æå±ç¤ºæ ¡éªç»æï¼åªè½æ¯æ ¡éªç­ç¥æ¯å¿½ç¥ï¼æææ ¡éªç»æé½æ¯error\r\n            this.ShowValidatedResult(commonParams);\r\n            // this.notify.info('æ°æ®å¯¼å¥æå');\r\n            // this.needDestroy.emit();\r\n          } catch {\r\n            // this.complete.emit(false);\r\n            this.complete.emit(importResult.message);\r\n            this.notify.error(this.bind_form_error);\r\n          }\r\n        } else {\r\n          console.log(importResult.exceptionSource);\r\n          this.errorlevel = importResult.errorLevel;\r\n          this.ShowValidatedResult(commonParams);\r\n          // this.complete.emit(importResult.message);\r\n        }\r\n      }, error => {\r\n        console.log(error);\r\n        this.errorlevel = 'error';\r\n        this.complete.emit(error.error.Message);\r\n      }\r\n    );\r\n  }\r\n\r\n  // æ¾ç¤ºæ ¡éªç»æ\r\n  private ShowValidatedResult(commonParams: CommonParams) {\r\n    const importResult = commonParams.importResult;\r\n    const loadingParam = commonParams.loadingParam;\r\n    const befRestService = commonParams.befRestService;\r\n    if (importResult.validatedResults && importResult.validatedResults.length > 0) {\r\n      loadingParam.loadingService.clearAll();\r\n      const cmpRef = this.CreateValidatedComponent();\r\n      cmpRef.instance.validateResult = importResult.validatedResults;\r\n      cmpRef.instance.su = commonParams.su;\r\n      cmpRef.instance.i18nResource = commonParams.i18nResource;\r\n      cmpRef.instance.loadingParam = loadingParam;\r\n      const validateModalConfig = {\r\n        title: this.validate_result_show,\r\n        width: 950,\r\n        height: 550,\r\n        buttons: cmpRef.instance.modalFooter,\r\n        showHeader: true,\r\n        showMaxButton: false,\r\n        showButtons: true\r\n      };\r\n\r\n      const dialog = this.modalService.show(cmpRef, validateModalConfig);\r\n      //0ä»£è¡¨æé®ä¸­æ­¢æXç¹å»ï¼1ä»£è¡¨æé®ç»§ç»­\r\n      let closed = 0;\r\n      dialog.dialog.instance.closed.subscribe(() => {\r\n        if (closed === 0) {\r\n          this.complete.emit('æ ¡éªä¸­æ­¢');\r\n        }\r\n      });\r\n      cmpRef.instance.closeModal.subscribe(() => {\r\n        closed = 0;\r\n        dialog.close();\r\n      });\r\n      cmpRef.instance.okModal.subscribe((validatedInfoList) => {\r\n        closed = 1;\r\n        dialog.close();\r\n        loadingParam.loadingService.show(loadingParam.loadingConfig);\r\n        commonParams.importParam.body.dataImportContext['validatedInfoList'] = validatedInfoList;\r\n        this.Import(commonParams);\r\n      });\r\n    } else {\r\n      this.complete.emit(importResult.message);\r\n    }\r\n  }\r\n\r\n  private getBefRestService(repository: Repository<any>): BefRestService {\r\n    const befRepository = <BefRepository<any>>repository;\r\n    return befRepository.restService;\r\n  }\r\n\r\n  // çææ ¡éªçªå£ç»ä»¶\r\n  private CreateValidatedComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(ValidateFormComponent);\r\n    const comRef = compFactory.create(this.injector);\r\n    return comRef;\r\n  }\r\n\r\n  JudgeIllegalChar(str: string): boolean {\r\n    const illegalChar = ['?', 'ã', '\\\\', '/', '*', '\\'', '\"', 'â', 'â', '<', '>', '|', ','];\r\n    illegalChar.forEach(item => {\r\n      if (str.indexOf(item) !== -1) {\r\n        return true;\r\n      }\r\n    });\r\n    return false;\r\n  }\r\n\r\n  // ä¸è½½æ¨¡æ¿\r\n  DowmloadTemplate(ruleId: string, repository: Repository<any>, importOption: any, suffix: any) {\r\n    const befRestService = this.getBefRestService(repository);\r\n    const preUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    const tempUrl = `${preUrl}/import`;\r\n    let su = DataIEUtils.getSu(tempUrl);\r\n    if (importOption['su'] !== undefined && importOption['su'] !== null) {\r\n      su = importOption['su'];\r\n    }\r\n    let securityLevelName = '';\r\n    if (!isNullOrUndefined(importOption.securityLevelName)) {\r\n      securityLevelName = importOption.securityLevelName;\r\n    }\r\n    let model = '';\r\n    if (importOption.Models !== undefined && importOption.Models !== null && importOption.Models.length > 0) {\r\n      model = JSON.stringify(importOption.Models[0]);\r\n    }\r\n    let globalVar = '';\r\n    if (!isNullOrUndefined(importOption['GlobalParam'])) {\r\n      if (typeof (importOption['GlobalParam']) === 'object') {\r\n        globalVar = JSON.stringify(importOption['GlobalParam']);\r\n      } else {\r\n        globalVar = importOption['GlobalParam'];\r\n      }\r\n    }\r\n    const templateParam = {\r\n      body: {\r\n        ruleId: ruleId,\r\n        suffix: suffix,\r\n        su: su,\r\n        model: model,\r\n        globalParam: globalVar,\r\n        securityLevelName: securityLevelName\r\n      }\r\n    };\r\n\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcimport';\r\n    const subscriber = befRestService.request(`${fixedUrl}/TemplateDownload`, 'post', {su: su}, templateParam);\r\n    subscriber.subscribe(data => {\r\n      if (data['result'] === true) {\r\n        let filename = '';\r\n        if (importOption['templatefilename'] === '' || importOption['templatefilename'] === undefined) {\r\n          filename = data['fileName'];\r\n        } else {\r\n          const suffixIndex = data['fileName'].lastIndexOf('.');\r\n          const tempsuffix = data['fileName'].substring(suffixIndex);\r\n          let customName: string = importOption['templatefilename'];\r\n          if (!this.JudgeIllegalChar(customName)) {\r\n            if (customName.indexOf('.') !== -1) {\r\n              filename = customName;\r\n            } else {\r\n              filename = customName + tempsuffix;\r\n            }\r\n          } else {\r\n            filename = data['fileName'];\r\n          }\r\n        }\r\n        this.operateService.DownloadFile(data['docRelativePath'], filename, preUrl, importOption);\r\n        const subscription = this.operateService.downloadComplete.subscribe(result => {\r\n          if (result === '') {\r\n            this.complete.emit('');\r\n            subscription.unsubscribe();\r\n          } else {\r\n            this.complete.emit(result);\r\n            subscription.unsubscribe();\r\n          }\r\n        });\r\n      } else {\r\n        // this.notify.error('ä¸è½½æ¨¡æ¿å¤±è´¥ï¼å¤±è´¥ä¿¡æ¯ï¼' + data['message']);\r\n        this.complete.emit(data['message']);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n      this.complete.emit('ä¸è½½æ¨¡æ¿å¤±è´¥');\r\n    });\r\n  }\r\n\r\n  // ä¸è½½æ¨¡æ¿\r\n  DowmloadTemplate4HandCraft(ruleId: string, importOption: any, suffix: any) {\r\n    const su = importOption.su;\r\n    let globalVar = '';\r\n    if (importOption['GlobalParam'] !== null && importOption['GlobalParam'] !== undefined) {\r\n      if (typeof (importOption['GlobalParam']) === 'object') {\r\n        globalVar = JSON.stringify(importOption['GlobalParam']);\r\n      } else {\r\n        globalVar = importOption['GlobalParam'];\r\n      }\r\n    }\r\n    let securityLevelName = '';\r\n    if (!isNullOrUndefined(importOption.securityLevelName)) {\r\n      securityLevelName = importOption.securityLevelName;\r\n    }\r\n    const templateParam = {\r\n      ruleId: ruleId,\r\n      suffix: suffix,\r\n      su: su,\r\n      globalParam: globalVar,\r\n      securityLevelName: securityLevelName\r\n    };\r\n\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/AllSteps/TemplateDownload';\r\n    this.http.post(fixedUrl, templateParam,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Origin': '*'\r\n        },\r\n        responseType: 'blob',\r\n        observe: 'response',\r\n        params: {su: su}\r\n      }).subscribe((res: HttpResponse<Blob>) => {\r\n      console.log(res);\r\n      const data = res.body;\r\n      if (data.type == 'application/json') {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const responseParam = JSON.parse(reader.result as string);\r\n          if (!responseParam.result) {\r\n            this.complete.emit(responseParam.message);\r\n          }\r\n        };\r\n        reader.readAsText(data, 'utf-8');\r\n      } else {\r\n        let fileName = '';\r\n        let contentDisposition = res.headers.get(\"content-disposition\");\r\n        if (contentDisposition) {\r\n          // æ­£åè·åfilenameçå¼\r\n          let filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n          let matches = filenameRegex.exec(contentDisposition);\r\n          if (matches != null && matches[1]) {\r\n            fileName = matches[1].replace(/['\"]/g, '');\r\n          }\r\n          // éè¿ URLEncoder.encode(pFileName, StandardCharsets.UTF_8.name()) å å¯ç¼ç ç, ä½¿ç¨decodeURI(fileName) è§£å¯\r\n          fileName = decodeURI(fileName);\r\n          // éè¿ new String(pFileName.getBytes(), StandardCharsets.ISO_8859_1) å å¯ç¼ç ç, ä½¿ç¨decodeURI(escape(fileName)) è§£å¯\r\n          // fileName = decodeURI(escape(fileName))\r\n        }\r\n        if (!isNullOrUndefined(importOption.templatefilename)) {\r\n          const suffixIndex = fileName.lastIndexOf('.');\r\n          const suffix = fileName.substring(suffixIndex);\r\n          fileName = importOption.templatefilename + suffix;\r\n        }\r\n\r\n        const blob = new Blob([data]);\r\n        if (!data || data.size == 0) {\r\n          this.complete.emit('è¿åçæ°æ®ä¸ºç©º');\r\n        } else {\r\n          if (navigator.msSaveOrOpenBlob) {\r\n            navigator.msSaveOrOpenBlob(blob, fileName);\r\n          } else {\r\n            const link = document.createElement('a');\r\n            link.setAttribute('href', window.URL.createObjectURL(blob));\r\n            // è®¾ç½®ä¸è½½çæä»¶å\r\n            link.setAttribute('download', fileName);\r\n            link.style.visibility = 'hidden';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          }\r\n          this.complete.emit('');\r\n        }\r\n      }\r\n    }, error => {\r\n      this.complete.error(error.error.Message);\r\n    });\r\n  }\r\n}\r\n","export enum RuleFileType {\r\n    /**\r\n     * Excel 2003æä»¶æ ¼å¼\r\n     */\r\n    XLS = 0,\r\n    /**\r\n     * Excel 2007æä»¶æ ¼å¼ï¼å¯ç¨å®ï¼\r\n     */\r\n    XLSM = 1,\r\n    /**\r\n     * Excel 2007æä»¶æ ¼å¼\r\n     */\r\n    XLSX = 2,\r\n    /**\r\n     * WPSè¡¨æ ¼\r\n     */\r\n    ET = 3,\r\n    /**\r\n     * WPSè¡¨æ ¼ æ¨¡æ¿æä»¶\r\n     */\r\n    ETT = 4,\r\n    /**\r\n     * xmlæä»¶\r\n     */\r\n    XML = 5,\r\n    /**\r\n     * pdfæä»¶\r\n     */\r\n    PDF = 6,\r\n    /**\r\n     * csvæä»¶\r\n     */\r\n    CSV = 7\r\n}\r\n","import {Component, EventEmitter, OnInit, Output, TemplateRef, ViewChild} from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {NotifyService} from \"@farris/ui-notify\";\nimport {DataIEUtils, isNullOrEmpty, isNullOrBlank} from \"../../service/Utils/DataIEUtils\";\nimport {DatagridComponent} from \"@farris/ui-datagrid\";\n\n@Component({\n  selector: 'hlo-extend-component1',\n  templateUrl: './extend-component1.component.html',\n  styleUrls: ['./extend-component1.component.scss']\n})\n/**\n * é¢çæ©å±ç»ä»¶1\n * æ­¤ç»ä»¶ç®åè¢«ç¨äºä½ä¸ºè§åéæ©æ©å±æ¨¡æ¿éç½®çé¢\n */\nexport class ExtendComponent1Component implements OnInit {\n  @ViewChild('ObjsGrid') ObjsGrid: DatagridComponent;\n  @ViewChild('FieldsGrid') FieldsGrid: DatagridComponent;\n\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\n  @Output() closeModal = new EventEmitter<any>();\n  @Output() okModal = new EventEmitter<any>();\n\n  dataIeRuleExtendOriginal: any;\n  dataIeRuleExtend: any;\n  extendRuleInfo: any;\n\n  ObjInfoColumns = [];\n  ObjInfoData = [];\n  FieldsColumns = [];\n  FieldsData = [];\n\n  i18nResouce: any;\n  ie_cancel: string;\n  ie_ok: string;\n\n  constructor(\n    private http: HttpClient,\n    private notify: NotifyService,\n  ) {\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\n      this.i18nResouce = res;\n      this.ie_cancel = res['ie_cancel'];\n      this.ie_ok = res['ie_ok'];\n    });\n  }\n\n  ngOnInit() {\n    this.ObjInfoColumns = [\n      {field: 'fileObjectName', width: 100, title: 'å¯¹è±¡åç§°', sortable: false, showTips: true}\n    ];\n    this.dataIeRuleExtend = JSON.parse(JSON.stringify(this.dataIeRuleExtendOriginal));\n    this.extendRuleInfo = JSON.parse(this.dataIeRuleExtend.extendRuleInfo);\n    this.ObjInfoData = this.extendRuleInfo.objInfos;\n    this.FieldsColumns = [\n      {field: 'fileElementName', width: 100, title: 'åå', sortable: false, showTips: true, filter: true}\n    ];\n\n  }\n\n  ngAfterViewInit() {\n    // this.objSelectChanged({data:this.ObjInfoData[0]});\n    this.ObjsGrid.selectRow(this.ObjInfoData[0].id);\n  }\n\n  canNotCheckedRow = (row, index) => {\n    return row.require;\n  };\n\n  moveUp(e) {\n    const selectedRow = this.FieldsGrid.selectedRow;\n    if (!selectedRow || !selectedRow.data) {\n      return;\n    }\n    const id = selectedRow.data.id;\n    const idx = this.FieldsData.findIndex(e => e.id === id);\n    if (idx <= 0) {\n      return;\n    }\n    const temp = this.FieldsData.splice(idx, 1);\n    this.FieldsData.splice(idx - 1, 0, ...temp);\n    this.FieldsData = JSON.parse(JSON.stringify(this.FieldsData));\n    this.FieldsGrid.selectRow(id);\n  }\n\n  moveDown(e) {\n    const selectedRow = this.FieldsGrid.selectedRow;\n    if (!selectedRow || !selectedRow.data) {\n      return;\n    }\n    const id = selectedRow.data.id;\n    const idx = this.FieldsData.findIndex(e => e.id === id);\n    if (idx >= this.FieldsData.length - 1) {\n      return;\n    }\n    const temp = this.FieldsData.splice(idx, 1);\n    this.FieldsData.splice(idx + 1, 0, ...temp);\n    this.FieldsData = JSON.parse(JSON.stringify(this.FieldsData));\n    this.FieldsGrid.selectRow(id);\n  }\n\n  onFilterChanged(e) {\n    if (!e.fileElementName) {\n      const selectedRow = this.ObjsGrid.selectedRow;\n      if (!selectedRow || !selectedRow.data) {\n        return;\n      }\n      this.objSelectChanged(selectedRow);\n    }\n  }\n\n  objSelectChanged(e) {\n    const rowDataId = e.data.id;\n    const idx = this.ObjInfoData.findIndex(e => e.id === rowDataId);\n    if (idx >= 0) {\n      this.FieldsData = this.ObjInfoData[idx].fieldsInfo;\n      this.FieldsGrid.loadData(this.FieldsData);\n      // this.FieldsGrid = JSON.parse(JSON.stringify(fieldsData));\n      this.FieldsData.forEach(d => {\n        if (d.checked) {\n          this.FieldsGrid.checkRow(d.id, false);\n        }\n      });\n      const selectedRow = this.FieldsGrid.selectedRow;\n      if (selectedRow) {\n        this.FieldsGrid.clearSelections();\n      }\n\n    }\n  }\n\n  ElementCheckedRow(e) {\n    const rowData = e.data;\n    const idx = this.FieldsData.findIndex(e => e.id === rowData.id);\n    if (idx >= 0) {\n      this.FieldsData[idx].checked = true;\n    }\n  }\n\n  ElementUnCheckedRow(e) {\n    const rowData = e.data;\n    const idx = this.FieldsData.findIndex(e => e.id === rowData.id);\n    if (idx >= 0) {\n      this.FieldsData[idx].checked = false;\n    }\n  }\n\n  ElementCheckedAll(e) {\n    this.FieldsData.forEach(d => {\n      d.checked = true;\n    })\n  }\n\n  ElementUnCheckedAll(e) {\n    if (isNullOrEmpty(e)) {\n      return;\n    }\n    this.FieldsData.forEach(d => {\n      d.checked = false;\n    })\n  }\n\n  okHandler() {\n    if (isNullOrBlank(this.dataIeRuleExtend.code)) {\n      this.notify.warning('æ¨¡æ¿ç¼å·ä¸è½ä¸ºç©º');\n      return;\n    }\n    if (isNullOrBlank(this.dataIeRuleExtend.name)) {\n      this.notify.warning('æ¨¡æ¿åç§°ä¸è½ä¸ºç©º');\n      return;\n    }\n\n    this.extendRuleInfo.objInfos = this.ObjInfoData;\n    this.dataIeRuleExtend.extendRuleInfo = JSON.stringify(this.extendRuleInfo);\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/checkUpdateRuleExtend';\n    this.http.post(url, this.dataIeRuleExtend).subscribe((e: any) => {\n      if (e.success) {\n        this.okModal.emit(this.dataIeRuleExtend);\n      }\n    }, error => {\n      this.notify.error(error.error.Message);\n      console.log(error.error.Message);\n    });\n  }\n\n  cancelHandler() {\n    this.closeModal.emit();\n  }\n\n}\n","import {\r\n  Component,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewChild,\r\n  Output,\r\n  EventEmitter,\r\n  Injector,\r\n  ComponentFactoryResolver\r\n} from '@angular/core';\r\nimport { DatagridComponent } from '@farris/ui-datagrid';\r\nimport { RuleFileType } from './RuleFileType';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {DataIEUtils, FileTypeUtil} from '../service/Utils/DataIEUtils';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport {BsModalService} from \"@farris/ui-modal\";\r\nimport {ListDataService} from \"@farris/command-services\";\r\nimport {MessagerService} from \"@farris/ui-messager\";\r\nimport {ExtendComponent1Component} from '../bakcomponents/extend-component1/extend-component1.component';\r\n\r\n@Component({\r\n  selector: 'thd-rule-select',\r\n  templateUrl: './rule-select.component.html',\r\n  styleUrls: ['./rule-select.component.css']\r\n})\r\nexport class RuleSelectComponent implements OnInit {\r\n  @ViewChild('RuleMgrsGrid') RuleMgrsGrid: DatagridComponent;\r\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\r\n  @ViewChild('columnOperation') columnOperation: TemplateRef<any>;\r\n  @Output() closeModal = new EventEmitter<any>();\r\n  @Output() okModal = new EventEmitter<any>();\r\n  // è§åID è¯¥idä¸ºè¡¨åä¸éç½®çè§åid\r\n  ruleId = '';\r\n  voId = '';\r\n  ruleType: any;\r\n\r\n  RuleMgrsData = [];\r\n  fileTypes = [\r\n    { label: 'Office Excel97-2003(*.xls)', value: RuleFileType[0] },\r\n    { label: 'Office Excel Macro(*.xlsm)', value: RuleFileType[1] },\r\n    { label: 'Office Excel(*.xlsx)', value: RuleFileType[2] },\r\n    { label: 'WPS Table(*.et)', value: RuleFileType[3] },\r\n    { label: 'WPS Table(Template File)(*.ett)', value: RuleFileType[4] },\r\n    { label: 'XML Table(*.xml)', value: RuleFileType[5] },\r\n    { label: 'PDF File(*.pdf)', value: RuleFileType[6] },\r\n    { label: 'CSV File(*.csv)', value: RuleFileType[7] }\r\n  ];\r\n  RuleMgrsColumns = [];\r\n\r\n  i18nResouce:any;\r\n  ie_cancel: string;\r\n  ie_ok: string;\r\n  ruleselect_code: string;\r\n  ruleselect_name: string;\r\n  ruleselect_rulesource: string;\r\n  ruleselect_syspreset: string;\r\n  ruleselect_custom: string;\r\n  ruleselect_billcategory: string;\r\n  ruleselect_creator: string;\r\n  ruleselect_filetype: string;\r\n  ruleselect_selectrulenotify: string;\r\n  ruleselect_updatetime:string;\r\n  constructor(\r\n    private http: HttpClient,\r\n    private notify: NotifyService,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private msgService: MessagerService,\r\n    private resolver: ComponentFactoryResolver\r\n  ) {\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.i18nResouce = res;\r\n      this.ie_cancel = res['ie_cancel'];\r\n      this.ie_ok = res['ie_ok'];\r\n      this.ruleselect_code = res['ruleselect_code'];\r\n      this.ruleselect_name = res['ruleselect_name'];\r\n      this.ruleselect_rulesource = res['ruleselect_rulesource'];\r\n      this.ruleselect_custom = res['ruleselect_custom'];\r\n      this.ruleselect_syspreset = res['ruleselect_syspreset'];\r\n      this.ruleselect_billcategory = res['ruleselect_billcategory'];\r\n      this.ruleselect_creator = res['ruleselect_creator'];\r\n      this.ruleselect_filetype = res['ruleselect_filetype'];\r\n      this.ruleselect_selectrulenotify = res['ruleselect_selectrulenotify'];\r\n      this.ruleselect_updatetime = res['ruleselect_updatetime'];\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    const ruleSourceType = [\r\n      {label:this.i18nResouce['product_preset'],value:'ProductPreset'},\r\n      {label:this.i18nResouce['project_define'],value:'ProjectDefine'},\r\n      {label:this.i18nResouce['user_custom'],value:'UserCustom'}\r\n    ];\r\n    this.RuleMgrsColumns = [\r\n      { field: 'code', width: 180, title: this.ruleselect_code, showTips: true, halign: 'center', align: 'center', sortable: true },\r\n      { field: 'name', width: 180, title: this.ruleselect_name, showTips: true, halign: 'center', align: 'center', sortable: true },\r\n      // {\r\n      //   field: 'ruleSourceType', width: 100, title: this.ruleselect_rulesource, showTips: true, halign: 'center', align: 'center', sortable: true,\r\n      //   formatter: { type: 'enum', options: { valueField: 'value', textField: 'label', data: ruleSourceType } }\r\n      // },\r\n      {\r\n        field: 'sysPreset', width: 100, title: this.ruleselect_rulesource, halign: 'center', align: 'center', sortable: true,\r\n        formatter: { type: 'boolean', options: { trueText: this.ruleselect_syspreset, falseText: this.ruleselect_custom } }\r\n      },\r\n\r\n      // { field: 'bizEntityName', width: 150, title: 'æ°æ®å®ä½', halign: 'center', align: 'center', sortable: true },\r\n      {\r\n        field: 'fileType', width: 180, title: this.ruleselect_filetype, showTips: true, halign: 'center', align: 'center', sortable: true,\r\n        formatter: { type: 'enum', options: { valueField: 'value', textField: 'label', data: this.fileTypes } }\r\n      },\r\n      { field: 'lastModifiedTime', width: 150, title: this.ruleselect_updatetime, showTips: true, halign: 'center', align: 'center', sortable: true }\r\n\r\n      // {\r\n      //   field: 'operation',\r\n      //   width: 130,\r\n      //   halign: 'center',\r\n      //   align: 'center',\r\n      //   title: this.i18nResouce['operation'],\r\n      //   template: this.columnOperation\r\n      // }\r\n      // { field: 'creator', width: 150, title: this.ruleselect_creator, halign: 'center', align: 'center', sortable: true }\r\n    ];\r\n  }\r\n\r\n  createRuleExtend(ctx){\r\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/createRuleExtendInfo/' + ctx.rowData.id;\r\n    this.http.get(url).subscribe(res=>{\r\n      const compFactory = this.resolver.resolveComponentFactory(ExtendComponent1Component);\r\n      const compRef = compFactory.create(this.injector);\r\n      compRef.instance.dataIeRuleExtendOriginal = res;\r\n      const modalConfig = {\r\n        title: 'å¯¼å¥æ¨¡æ¿éç½®',\r\n        width: 750,\r\n        height: 650,\r\n        buttons: compRef.instance.modalFooter,\r\n        showHeader: true,\r\n        showMaxButton: false,\r\n        showButtons: true\r\n      };\r\n      const dialog = this.modalService.show(compRef, modalConfig);\r\n      compRef.instance.closeModal.subscribe(() => {\r\n        dialog.close();\r\n      })\r\n      compRef.instance.okModal.subscribe(dataIeRuleExtend => {\r\n        const idx = this.RuleMgrsData.findIndex(e=> e.id === dataIeRuleExtend.id);\r\n        if(idx >= 0){\r\n          this.RuleMgrsData[idx] = dataIeRuleExtend;\r\n          this.RuleMgrsGrid.refresh();\r\n        }else{\r\n          this.RuleMgrsData.push(dataIeRuleExtend);\r\n        }\r\n        dialog.close();\r\n      });\r\n    }, error => {\r\n      this.notify.error(error.error.Message);\r\n      console.log(error.error.Message);\r\n    });\r\n  }\r\n  updateRule(ctx){\r\n\r\n  }\r\n  deleteRule(ctx){\r\n\r\n  }\r\n\r\n\r\n  okHandler() {\r\n    const selectedRow = this.RuleMgrsGrid.selectedRow;\r\n    if (selectedRow === null) {\r\n      this.notify.info(this.ruleselect_selectrulenotify);\r\n      return;\r\n    }\r\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/updateConfigRule';\r\n    const body = {\r\n      ruleId: this.ruleId,\r\n      voId: this.voId,\r\n      ruleType: this.ruleType,\r\n      currentRuleId: selectedRow.id\r\n    }\r\n    this.http.post(url, body).subscribe((res:any) => {\r\n      console.log(res.message);\r\n      this.okModal.emit(selectedRow.data);\r\n    }, error => {\r\n      this.notify.error(error.error.Message);\r\n      console.log(error.error.Message);\r\n    });\r\n  }\r\n  cancelHandler() {\r\n    this.closeModal.emit();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'lib-dataie-progress',\n  templateUrl: './dataie-progress.component.html',\n  styleUrls: ['./dataie-progress.component.css']\n})\nexport class DataieProgressComponent implements OnInit {\n  @Output() closeModal = new EventEmitter<any>();\n\n  DataIeProgressParams:any;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {MethodType} from \"../../model/DataIEType/MethodType\";\r\n\r\nexport class CommonParams {\r\n  ruleId: string;\r\n  keys:any;\r\n  option: any;\r\n  fileName: string;\r\n  frameContext:any;\r\n  repository:any;\r\n  befRestService: any;\r\n  suffix: string;\r\n  loadingParam:any;\r\n  i18nResource:any;\r\n  importParam:any;\r\n  mainObjId:string;\r\n  su:string;\r\n  importResult:any;\r\n  securityLevelName:string;\r\n  methodType: MethodType;\r\n\r\n  constructor(){\r\n    this.ruleId = '';\r\n    this.keys = [];\r\n    this.option = {};\r\n    this.fileName = '';\r\n    this.frameContext = null;\r\n    this.repository = null;\r\n    this.befRestService = null;\r\n    this.suffix = '';\r\n    this.loadingParam = {};\r\n    this.i18nResource = {};\r\n    this.importParam = {};\r\n    this.mainObjId = '';\r\n    this.su = '';\r\n    this.importResult = {};\r\n    this.securityLevelName = '';\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Injector,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  TemplateRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {FileUploader} from '../service/UploaderService/FileUpload/file-uploader';\r\nimport {FileItem} from '../service/UploaderService/FileUpload/file-item';\r\nimport {ParsedResponseHeaders} from '../service/UploaderService/FileUpload/parsed-response-headers';\r\n\r\nimport {DataImportService} from '../service/DataIEService/data-import.service';\r\nimport {FrameContext} from '@farris/devkit';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {LoadingService} from '@farris/ui-loading';\r\nimport {MethodType} from '../model/DataIEType/MethodType';\r\nimport {Subject} from 'rxjs';\r\nimport {DataIEUtils, FileTypeUtil, isNullOrEmpty, isNullOrUndefined} from '../service/Utils/DataIEUtils';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {BsModalRef, BsModalService} from '@farris/ui-modal';\r\nimport {RuleSelectComponent} from '../rule-select/rule-select.component';\r\nimport {MessagerService} from '@farris/ui-messager';\r\nimport {ListDataService} from '@farris/command-services';\r\nimport {FileConst} from '../model/utils/FileConst';\r\nimport {DataieProgressComponent} from '../bakcomponents/dataie-progress/dataie-progress.component';\r\nimport {CommonParams} from \"../service/Entity/CommonParams\";\r\n\r\n@Component({\r\n  selector: 'app-import-dialog',\r\n  templateUrl: './import-dialog.component.html',\r\n  styleUrls: ['./import-dialog.component.css'],\r\n  providers: [NotifyService, DataImportService\r\n  ]\r\n})\r\nexport class ImportDialogComponent implements OnDestroy {\r\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\r\n  // è§åID è¯¥idä¸ºè¡¨åä¸éç½®çè§åid\r\n  @Input()\r\n  ruleId = '';\r\n  // è¿æ»¤æ¡ä»¶\r\n  @Input()\r\n  importOption: any = null;\r\n  @Input()\r\n  frameContext: FrameContext = null;\r\n  @Input()\r\n  methodType: MethodType;\r\n  @Input()\r\n  subject: Subject<Boolean> = null;\r\n\r\n  DataIeProgressDialog: BsModalRef;\r\n\r\n  showfiletype = true;\r\n  enableRuntimeCustom = false;\r\n  // è®°å½çè§å\r\n  recordRule = null;\r\n  extendInfo: any;\r\n  //å½åéæ©è§åçidãåç§°åæä»¶ç±»å\r\n  currentRuleName = '';\r\n  currentRuleId = '';\r\n  currentRuleFileType = '';\r\n  enableTemplate = true;\r\n  closeXLSX = false;\r\n  enableSecurityLevelSelect = false;\r\n  securityLevelName = '';\r\n\r\n\r\n  acceptFileType = '.csv,.xlsm,.xlsx,.xls,.pdf,.xml,.et';\r\n  ImportSecretRemindInfo = '';\r\n  // æä»¶åç§°\r\n  fileName = '';\r\n  // loadingComp: LoadingComponent = null;\r\n  @ViewChild('fileUpload')\r\n  fileUpload: ElementRef;\r\n  private origin = window.location.origin;\r\n  uploader = new FileUploader({\r\n    url: '',\r\n    method: 'POST',\r\n    autoUpload: false,\r\n    itemAlias: 'uploadedfile'\r\n  });\r\n  // æ§å¶Destroyè¡¨åä¸­çè¾å¥ç»ä»¶\r\n  @Output()\r\n  needDestroy = new EventEmitter();\r\n  valueField: any = null;\r\n\r\n  //å½éåç¸å³åé\r\n  import_file: string;\r\n  choose_file: string;\r\n  import_placeholder: string;\r\n  file_type: string;\r\n  download_template: string;\r\n  ie_cancel: string;\r\n  ie_ok: string;\r\n  choose_truefile: string;\r\n  download_template_ok: string;\r\n  download_template_fail: string;\r\n  upload_fail: string;\r\n  import_success: string;\r\n  import_form_success: string;\r\n  import_fail: string;\r\n  rule_list: string;\r\n  select_xlsx_notify: string;\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private dataImportService: DataImportService,\r\n    private notify: NotifyService,\r\n    private loadingService: LoadingService,\r\n    private http: HttpClient,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private listDataSer: ListDataService,\r\n    private msgService: MessagerService,\r\n    private resolver: ComponentFactoryResolver\r\n  ) {\r\n    this.uploader.onSuccessItem = this.Import.bind(this);\r\n    this.uploader.onErrorItem = this.ErrorLog.bind(this);\r\n    this.uploader.onAfterAddingFile = this.afterAddFile;\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.import_file = res['import_file'];\r\n      this.choose_file = res['choose_file'];\r\n      this.file_type = res['file_type'];\r\n      this.import_placeholder = res['import_placeholder'];\r\n      this.download_template = res['download_template'];\r\n      this.ie_cancel = res['ie_cancel'];\r\n      this.ie_ok = res['ie_ok'];\r\n      this.choose_truefile = res['choose_truefile'];\r\n      this.download_template_ok = res['download_template_ok'];\r\n      this.download_template_fail = res['download_template_fail'];\r\n      this.upload_fail = res['upload_fail'];\r\n      this.import_success = res['import_success'];\r\n      this.import_form_success = res['import_form_success'];\r\n      this.import_fail = res['import_fail'];\r\n      this.rule_list = res['rule_list'];\r\n      this.select_xlsx_notify = res['select_xlsx_notify'];\r\n      this.i18nResource = res;\r\n    });\r\n\r\n  }\r\n\r\n  lookupIcon = '<i class=\"f-icon f-icon-windows\"></i>';\r\n\r\n\r\n  public fileListItems = [\r\n    {id: FileConst.xls, label: FileConst.xls},\r\n    {id: FileConst.xlsx, label: FileConst.xlsx},\r\n    {id: FileConst.xlsm, label: FileConst.xlsm},\r\n    {id: FileConst.et, label: FileConst.et},\r\n    // { id: FileConst.csv, label: FileConst.csv },\r\n    // { id: FileConst.pdf, label: FileConst.pdf },\r\n    // { id: FileConst.xml, lable: FileConst.xml }\r\n  ];\r\n\r\n  securityLevelItems = [];\r\n\r\n  ngOnInit() {\r\n    let extendInfo = this.recordRule.extendInfo;\r\n    if (!isNullOrUndefined(extendInfo)) {\r\n      this.extendInfo = JSON.parse(extendInfo);\r\n      this.ImportSecretRemindInfo = this.extendInfo['ImportSecretRemindInfo'];\r\n      this.closeXLSX = this.extendInfo['closeXLSX'];\r\n      if (this.closeXLSX === true) {\r\n        this.fileListItems = [\r\n          {id: FileConst.xls, label: FileConst.xls},\r\n          {id: FileConst.xlsm, label: FileConst.xlsm},\r\n          {id: FileConst.et, label: FileConst.et}\r\n        ];\r\n      }\r\n    }\r\n    const securityLevels = this.recordRule.securityLevels;\r\n    if (!isNullOrEmpty(securityLevels)) {\r\n      this.enableSecurityLevelSelect = true;\r\n      securityLevels.forEach(e => {\r\n        const level = {\r\n          value: e.name,\r\n          label: e.name\r\n        };\r\n        this.securityLevelItems.push(level);\r\n      });\r\n      this.securityLevelName = this.securityLevelItems[0].value;\r\n    }\r\n    this.currentRuleId = this.recordRule.ruleId;\r\n    this.currentRuleName = this.recordRule.ruleName;\r\n    this.valueField = FileTypeUtil.getFileTypeName(this.recordRule.fileType);\r\n    if (this.valueField === '') {\r\n      //æªå¨å½åå¯éæä»¶çç±»åæ¶ï¼ä¸æ¾ç¤ºéæä»¶ç±»åæ§ä»¶\r\n      this.showfiletype = false;\r\n    }\r\n    this.currentRuleFileType = this.valueField;\r\n    this.controlFileType();\r\n    if (this.importOption.enableRuntimeCustom === true) {\r\n      this.enableRuntimeCustom = true;\r\n    }\r\n  }\r\n\r\n\r\n  openSelectRule($event) {\r\n    this.loadingService.show();\r\n    //è¿æ»¤è§åæ¶ç¨è¡¨åå½ä»¤å¤éç½®çè§åæ¥è¿æ»¤ï¼å æ­¤ç¨ruleIdï¼èä¸æ¯currentRuleId\r\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/filterRulesByRuleIdAndVoId';\r\n    const body = {\r\n      ruleId: this.ruleId,\r\n      ruleType: 0,\r\n      voId: this.importOption.voId,\r\n      methodType: this.methodType,\r\n      importChildNodeCode: this.importOption.importChildNodeCode,\r\n      closeXlsx: this.closeXLSX\r\n    };\r\n    this.http.post(url, body).subscribe((RuleMgrs: any) => {\r\n      this.loadingService.clearAll();\r\n      if (RuleMgrs.length === 0) {\r\n        this.notify.info(this.i18nResource['ruleselect_listempty']);\r\n        return;\r\n      }\r\n      const compFactory = this.resolver.resolveComponentFactory(RuleSelectComponent);\r\n      const compRef = compFactory.create(this.injector);\r\n      compRef.instance.ruleId = this.ruleId;\r\n      compRef.instance.voId = this.importOption.voId;\r\n      compRef.instance.ruleType = 0;\r\n      compRef.instance.RuleMgrsData = RuleMgrs;\r\n      const modalConfig = {\r\n        title: this.rule_list,\r\n        width: 950,\r\n        height: 500,\r\n        buttons: compRef.instance.modalFooter,\r\n        showHeader: true,\r\n        showMaxButton: false,\r\n        showButtons: true\r\n      };\r\n      const dialog = this.modalService.show(compRef, modalConfig);\r\n      compRef.instance.closeModal.subscribe(() => {\r\n        dialog.close();\r\n      })\r\n      compRef.instance.okModal.subscribe(RuleMgr => {\r\n        this.currentRuleId = RuleMgr.id;\r\n        this.currentRuleName = RuleMgr.name;\r\n        this.valueField = FileTypeUtil.getFileTypeName(RuleMgr.fileType);\r\n        this.currentRuleFileType = this.valueField;\r\n        this.controlFileType();\r\n        dialog.close();\r\n      });\r\n    }, error => {\r\n      this.loadingService.clearAll();\r\n      this.notify.error(error.error.Message);\r\n      console.log(error.error.Message);\r\n    });\r\n  }\r\n\r\n  canDownloadTemplate() {\r\n    const suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    const canList = ['.xls', '.xlsx', '.xlsm', '.et'];\r\n    if (canList.findIndex(t => t === suffix) < 0) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n  }\r\n\r\n  // éæ©æä»¶åäºä»¶\r\n  selectedFileOnChange(event) {\r\n    const str: string = event.target.value;\r\n    if (str === '') {\r\n      return;\r\n    }\r\n    const index = str.lastIndexOf('\\\\');\r\n    this.fileName = str.substring(index + 1);\r\n    if (this.fileName.split(\".\").length === 2 && this.fileName.split(\".\")[1] === \"jpg\") {\r\n      this.uploader.queue = [];\r\n      this.notify.info(this.choose_truefile);\r\n      return;\r\n    }\r\n    // console.log('éåä¸­çæä»¶' + this.uploader.queue[0]);\r\n  }\r\n\r\n  // å³é­çªå£\r\n  public Close() {\r\n    this.needDestroy.emit();\r\n  }\r\n\r\n  // éæ©æä»¶äºä»¶\r\n  public SelectFile(): any {\r\n    this.fileUpload.nativeElement.click();\r\n  }\r\n\r\n  fileTypeValueChange() {\r\n    if (this.controlFileType() === '.xlsx') {\r\n      this.notify.info(this.select_xlsx_notify);\r\n    }\r\n  }\r\n\r\n  controlFileType() {\r\n    const suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    if (suffix !== null) {\r\n      this.acceptFileType = suffix;\r\n    } else {\r\n      this.acceptFileType = '*';\r\n    }\r\n    return suffix;\r\n  }\r\n\r\n  clickSetting() {\r\n    this.notify.info('è®¾ç½®ä¸ä¸');\r\n  }\r\n\r\n  // ä¸è½½æ¨¡æ¿\r\n  public DownloadTemplate() {\r\n    this.loadingService.show();\r\n    let suffix = null;\r\n    if (this.canDownloadTemplate() && this.valueField !== this.currentRuleFileType) {\r\n      suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    }\r\n    this.importOption['securityLevelName'] = this.securityLevelName;\r\n    this.dataImportService.DowmloadTemplate(this.currentRuleId, this.frameContext.repository, this.importOption, suffix);\r\n    const unsubscriber = this.dataImportService.complete.subscribe(data => {\r\n      this.loadingService.clearAll();\r\n      if (data === '') {\r\n        this.notify.success(this.download_template_ok);\r\n        unsubscriber.unsubscribe();\r\n      } else {\r\n        this.notify.error(this.download_template_fail + data);\r\n        unsubscriber.unsubscribe();\r\n      }\r\n    });\r\n  }\r\n\r\n  showProgressDialog() {\r\n    const compFactory = this.resolver.resolveComponentFactory(DataieProgressComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.DataIeProgressParams = this.dataImportService.DataIeProgressParams;\r\n    const modalConfig = {\r\n      width: 530,\r\n      height: 50,\r\n      title: '',\r\n      showHeader: false,\r\n      showMaxButton: false,\r\n      showMinButton: false,\r\n      showButtons: false,\r\n      showCloseButton: false,\r\n      resizable: false\r\n    };\r\n    return this.modalService.show(compRef, modalConfig);\r\n  }\r\n\r\n  // æ·»å æä»¶åäºä»¶\r\n  afterAddFile(fileItem: FileItem): any {\r\n  }\r\n\r\n  // å¼å§å¯¼å¥\r\n  public Ok() {\r\n    console.log('å¼å§ä¸ä¼ ï¼');\r\n    console.log(this.uploader.queue);\r\n    const loadingConfig = {\r\n      message: this.i18nResource['import_loading']\r\n    };\r\n    this.loadingService.show(loadingConfig);\r\n    // this.DataIeProgressDialog = this.showProgressDialog();\r\n    const len = this.uploader.queue.length;\r\n    if (len === 0) {\r\n      this.notify.info(this.choose_truefile);\r\n      this.loadingService.clearAll();\r\n      return;\r\n    }\r\n    const lastFileItem = this.uploader.queue[len - 1];\r\n    const maxFileSize = this.recordRule.importFileMaxSize * 1024 * 1024;\r\n    if (lastFileItem.file.size > maxFileSize) {\r\n      this.notify.warning(this.i18nResource['importfile_toobig'] + this.recordRule.importFileMaxSize + 'MB');\r\n      this.loadingService.clearAll();\r\n      return;\r\n    }\r\n    const befRestService = DataIEUtils.GetBefRestService(this.frameContext.repository);\r\n    const preUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    let tempUrl = `${preUrl}/import/Upload`;\r\n    let su = DataIEUtils.getSu(tempUrl);\r\n    if (this.importOption['su'] !== null && this.importOption['su'] !== undefined) {\r\n      su = this.importOption['su'];\r\n    }\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcimport/Upload?su=' + su;\r\n    let headers = [{name: 'su', value: su}];\r\n\r\n    if (!isNullOrUndefined(this.extendInfo)) {\r\n      const enableSecurityLevel = this.extendInfo['enableSecurityLevel'] as boolean;\r\n      if (enableSecurityLevel) {\r\n        headers.push({name: 'enableSecurityLevel', value: enableSecurityLevel});\r\n        const securityLevelPrefix = this.extendInfo['securityLevelPrefix'];\r\n        const securityLevelSuffix = this.extendInfo['securityLevelSuffix'];\r\n        headers.push({name: 'securityLevelPrefix', value: encodeURIComponent(securityLevelPrefix)});\r\n        headers.push({name: 'securityLevelSuffix', value: encodeURIComponent(securityLevelSuffix)});\r\n        headers.push({name: 'securityLevelName', value: encodeURIComponent(this.securityLevelName)});\r\n      }\r\n    }\r\n    this.uploader.setOptions({\r\n      url: fixedUrl,\r\n      method: 'POST',\r\n      autoUpload: false,\r\n      itemAlias: 'uploadedfile',\r\n      headers: headers\r\n    });\r\n    this.uploader.uploadItem(lastFileItem);\r\n  }\r\n\r\n  // åæ¶äºä»¶\r\n  public Cancel() {\r\n    this.needDestroy.emit();\r\n  }\r\n\r\n  // ä¸ä¼ å¤±è´¥åæ¹æ³\r\n  ErrorLog(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    console.log('ä¸ä¼ å¤±è´¥');\r\n    console.log('éè¯¯ä»£ç ï¼' + status);\r\n    console.log(response);\r\n    console.log(headers);\r\n    this.loadingService.clearAll();\r\n    try {\r\n      const temRes = JSON.parse(response);\r\n      this.msgService.error(this.upload_fail + temRes.message);\r\n    } catch {\r\n      this.msgService.error(this.upload_fail + response);\r\n    }\r\n    this.Close();\r\n    const len = this.uploader.queue.length;\r\n    if (len > 0) {\r\n      this.uploader.queue.splice(0, 1);\r\n    }\r\n  }\r\n\r\n  Import(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    let suffix = null;\r\n    if (this.canDownloadTemplate() && this.valueField !== this.currentRuleFileType) {\r\n      suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    }\r\n    // this.dataImportService.DataIeProgressParams['ImportProgressValue'] = 45;\r\n    switch (this.methodType) {\r\n      case MethodType.CommonImport:\r\n      case MethodType.CardFormDataImport:\r\n        this.DataImportById(item, response, status, headers, suffix);\r\n        break;\r\n      case MethodType.ImportSubTableDetail:\r\n        this.ImportSubTable(item, response, status, headers, suffix);\r\n        break;\r\n    }\r\n  }\r\n\r\n  ImportSubTable(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders, suffix: string): any {\r\n    if (status === 200) {\r\n      const temRes = JSON.parse(response);\r\n      const loadingConfig = {\r\n        message: this.i18nResource['import_loading']\r\n      };\r\n      const loadingParam = {\r\n        loadingService: this.loadingService,\r\n        loadingConfig: loadingConfig\r\n      };\r\n      const commonParams = new CommonParams();\r\n      commonParams.methodType = this.methodType;\r\n      commonParams.ruleId = this.currentRuleId;\r\n      commonParams.option = this.importOption;\r\n      commonParams.fileName = temRes['fileName'];\r\n      commonParams.frameContext = this.frameContext;\r\n      commonParams.suffix = suffix;\r\n      commonParams.loadingParam = loadingParam;\r\n      commonParams.i18nResource = this.i18nResource;\r\n      commonParams.securityLevelName = this.securityLevelName;\r\n      this.dataImportService.ImportSubTable(commonParams);\r\n      const subscriber = this.dataImportService.complete.subscribe(data => {\r\n        this.loadingService.clearAll();\r\n        // this.DataIeProgressDialog.close();\r\n        subscriber.unsubscribe();\r\n        if (data === '') {\r\n          this.notify.success(this.import_success);\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n          this.needDestroy.emit();\r\n        } else if (data === 'å¯¼å¥è¡¨åæå') {\r\n          this.notify.success(this.import_form_success);\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n          this.needDestroy.emit();\r\n        } else if (data === 'é¨åæ°æ®å¯¼å¥å®æ') {\r\n          this.notify.success(this.i18nResource['partdata-import-success']);\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n          this.needDestroy.emit();\r\n        } else if (data === 'æ ¡éªä¸­æ­¢') {\r\n          this.notify.info(this.i18nResource['after_validate_suspend']);\r\n          this.needDestroy.emit();\r\n          this.subject.next(false);\r\n          this.subject.complete();\r\n        } else {\r\n          const errorlevel = this.dataImportService.errorlevel;\r\n          if (errorlevel === 'Info') {\r\n            this.messageShow('info',data);\r\n          } else if (errorlevel === 'Warning') {\r\n            this.messageShow('warning',data);\r\n          } else {\r\n            this.messageShow('error',this.import_fail + data);\r\n          }\r\n          this.needDestroy.emit();\r\n          this.subject.next(false);\r\n          this.subject.complete();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  // ä¸ä¼ æååæ¹æ³\r\n  DataImportById(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders, suffix: string): any {\r\n    console.log(status);\r\n    console.log('ä¸ä¼ å®æï¼');\r\n    if (status === 200) {\r\n      //ä¸ä¼ æååæ¸ç©ºä¸ä¼ éå\r\n      this.uploader.queue = [];\r\n      const temRes = JSON.parse(response);\r\n      console.log('ä¸ä¼ æå');\r\n      console.log(temRes);\r\n      const loadingConfig = {\r\n        message: this.i18nResource['import_loading']\r\n      };\r\n      const loadingParam = {\r\n        loadingService: this.loadingService,\r\n        loadingConfig: loadingConfig\r\n      };\r\n      const commonParams = new CommonParams();\r\n      commonParams.methodType = this.methodType;\r\n      commonParams.ruleId = this.currentRuleId;\r\n      commonParams.option = this.importOption;\r\n      commonParams.fileName = temRes['fileName'];\r\n      commonParams.repository = this.frameContext.repository;\r\n      commonParams.suffix = suffix;\r\n      commonParams.loadingParam = loadingParam;\r\n      commonParams.i18nResource = this.i18nResource;\r\n      commonParams.securityLevelName = this.securityLevelName;\r\n      this.dataImportService.ImportByRuleId(commonParams);\r\n      const unsubscriber = this.dataImportService.complete.subscribe(data => {\r\n        this.loadingService.clearAll();\r\n        // this.dataImportService.DataIeProgressParams['ImportProgressValue'] = 100;\r\n        // this.DataIeProgressDialog.close();\r\n        if (data === '') {\r\n          this.notify.success(this.import_success);\r\n          unsubscriber.unsubscribe();\r\n\r\n          //å¯¼å¥æ°æ®åºåå·æ°çé¢æ°æ®\r\n          if (this.importOption.importdbRefresh === true) {\r\n            if (this.listDataSer !== null && this.frameContext !== null) {\r\n              const filterConditionList = this.frameContext.uiState['filterConditionList'];\r\n              if (filterConditionList !== undefined && filterConditionList !== null && typeof (filterConditionList) === 'string') {\r\n                this.listDataSer.load(filterConditionList).subscribe(() => {\r\n                  console.log('å¯¼å¥æ°æ®åºåå¸¦è¿æ»¤æ¡ä»¶éæ°å è½½è¡¨åæ°æ®');\r\n                }, error => {\r\n                  console.log('å¯¼å¥æ°æ®åºåå¸¦è¿æ»¤æ¡ä»¶éæ°å è½½è¡¨åæ°æ®å¼å¸¸');\r\n                });\r\n              } else {\r\n                this.listDataSer.load().subscribe(() => {\r\n                  console.log('å¯¼å¥æ°æ®åºåéæ°å è½½è¡¨åæ°æ®');\r\n                }, error => {\r\n                  console.log('å¯¼å¥æ°æ®åºåéæ°å è½½è¡¨åæ°æ®å¼å¸¸');\r\n                });\r\n              }\r\n            }\r\n          }\r\n          this.needDestroy.emit();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n        } else if (data === 'å¯¼å¥è¡¨åæå') {\r\n          this.notify.success(this.import_form_success);\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n        } else if (data === 'é¨åæ°æ®å¯¼å¥å®æ') {\r\n          this.notify.success(this.i18nResource['partdata-import-success']);\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n        } else if (data === 'æ ¡éªä¸­æ­¢') {\r\n          this.notify.info(this.i18nResource['after_validate_suspend']);\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(false);\r\n          this.subject.complete();\r\n        } else {\r\n          const errorlevel = this.dataImportService.errorlevel;\r\n          if (errorlevel === 'Info') {\r\n            this.messageShow('info',data);\r\n          } else if (errorlevel === 'Warning') {\r\n            this.messageShow('warning',data);\r\n          } else {\r\n            this.messageShow('error',this.import_fail + data);\r\n          }\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(false);\r\n          this.subject.complete();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  messageShow(type:string,message:string){\r\n    if(this.msgService){\r\n      if(type === 'info'){\r\n        this.msgService.info(message);\r\n      }else if(type === 'warning'){\r\n        this.msgService.warning(message);\r\n      }else{\r\n        this.msgService.error(message);\r\n      }\r\n    }else{\r\n      if(type === 'info'){\r\n        this.notify.info(message);\r\n      }else if(type === 'warning'){\r\n        this.notify.warning(message);\r\n      }else{\r\n        this.notify.error(message);\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n","import {EventEmitter, Injectable, Output} from '@angular/core';\r\nimport {FrameContext, Repository} from '@farris/devkit';\r\nimport {DataIEUtils, getQueryString, isNullOrEmpty, isNullOrUndefined} from '../Utils/DataIEUtils';\r\nimport {DataIEResult} from '../Entity/DataIEResult';\r\nimport {FileOperateService} from './file-operate.service';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {LoadingService} from '@farris/ui-loading';\r\nimport {HttpClient, HttpResponse} from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class DataExportService {\r\n\r\n  private origin = window.location.origin;\r\n  @Output()\r\n  export = new EventEmitter();\r\n  public errorlevel: any;\r\n  // loadingComp: LoadingComponent = null;\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private operateService: FileOperateService,\r\n    private notify: NotifyService,\r\n    private http: HttpClient,\r\n    private loadingService: LoadingService,\r\n  ) {\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.i18nResource = res;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ°æ®å¯¼åºæå¡\r\n   */\r\n  Export(repository: Repository<any>, exportParam: any, option: any) {\r\n    this.StartLoading();\r\n    const befRestService = DataIEUtils.GetBefRestService(repository);\r\n    const subject = befRestService.request(`${befRestService.baseUri}/service/dataexportvmaction`, 'put', null, exportParam);\r\n    subject.subscribe(data => {\r\n      let exportResult = data.returnValue as DataIEResult;\r\n      if (isNullOrUndefined(exportResult)) {\r\n        exportResult = data as DataIEResult;\r\n      }\r\n      if (exportResult.succeed === true) {\r\n        let fileName = '';\r\n        if (option === '' || option['customfilename'] === '' || option['customfilename'] === undefined) {\r\n          fileName = exportResult.fileName;\r\n        } else {\r\n          const suffixIndex = exportResult.fileName.lastIndexOf('.');\r\n          const suffix = exportResult.fileName.substring(suffixIndex);\r\n          if (!DataIEUtils.JudgeIllegalChar(option['customfilename'])) {\r\n            fileName = option['customfilename'] + suffix;\r\n          } else {\r\n            fileName = exportResult.fileName;\r\n          }\r\n        }\r\n        const preurl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n        this.operateService.DownloadFile(exportResult.docRelativePath, fileName, preurl, option);\r\n        const subscriber = this.operateService.downloadComplete.subscribe(result => {\r\n          this.CloseLoading();\r\n          if (result === '') {\r\n            this.export.emit('');\r\n            subscriber.unsubscribe();\r\n          } else {\r\n            this.export.emit(result);\r\n            subscriber.unsubscribe();\r\n          }\r\n        }, error => {\r\n          this.CloseLoading();\r\n          this.notify.error(error.message);\r\n        });\r\n      } else {\r\n        this.CloseLoading();\r\n        this.errorlevel = exportResult.errorLevel;\r\n        this.export.emit(exportResult.message);\r\n        // this.notify.error('æ°æ®å¯¼åºå¤±è´¥ï¼\\n å¤±è´¥åå ï¼' + exportResult.message);\r\n      }\r\n    }, error => {\r\n      this.CloseLoading();\r\n      this.notify.error(error.error.Message);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æåå¯¼åº\r\n   * @param repository\r\n   * @param optionJson\r\n   */\r\n  ExportByPackage(repository: Repository<any>, optionJson: any) {\r\n\r\n    let packitems: Array<object> = optionJson.package.packitems;\r\n    if (packitems === undefined || packitems === null || packitems.length === 0) {\r\n      this.notify.error('è¯·ä¼ å¥éè¦æåå¯¼åºçè§åä¿¡æ¯');\r\n      return;\r\n    }\r\n    this.StartLoading();\r\n    const befRestService = DataIEUtils.GetBefRestService(repository);\r\n    let relativePaths = [];\r\n    let itemsFileName = [];\r\n    this.ExecuteMutiRequest(packitems, befRestService, relativePaths, itemsFileName, optionJson);\r\n\r\n  }\r\n\r\n  ExecuteMutiRequest(packitems: Array<object>, befRestService: any, relativePaths: any, itemsFileName: any, optionJson: any) {\r\n    if (packitems.length <= 0) {\r\n      return;\r\n    }\r\n    const item = packitems.pop();\r\n\r\n    let customfilename = '';\r\n    const ruleId = item['ruleid'];\r\n    if (ruleId === undefined || ruleId === '') {\r\n      this.notify.error('è¯·ä¼ å¥éè¦æåå¯¼åºçè§åid');\r\n      this.CloseLoading();\r\n      return;\r\n    }\r\n    let globalVar = '';\r\n    if (item['globalParam'] !== null && item['globalParam'] !== undefined) {\r\n      if (typeof (item['globalParam']) === 'object') {\r\n        globalVar = JSON.stringify(item['globalParam']);\r\n      } else {\r\n        globalVar = item['globalParam'];\r\n      }\r\n    }\r\n    let itemfilename = item['itemfilename'];\r\n    if (itemfilename !== null && itemfilename !== undefined) {\r\n      itemsFileName.push(itemfilename);\r\n    }\r\n    const funcId = getQueryString('funcId');\r\n    let exportParam = null;\r\n    const filter = item['filter'];\r\n    if (filter !== undefined && filter !== null && JSON.stringify(filter) !== '{}') {\r\n      exportParam = {\r\n        body: {\r\n          exportContext: {\r\n            RuleId: ruleId,\r\n            Filter: filter,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          }\r\n        }\r\n      };\r\n    } else {\r\n      exportParam = {\r\n        body: {\r\n          exportContext: {\r\n            RuleId: ruleId,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          }\r\n        }\r\n      };\r\n    }\r\n    const subject = befRestService.request(`${befRestService.baseUri}/service/dataexportvmaction`, 'put', null, exportParam);\r\n    subject.subscribe(data => {\r\n      let exportResult;\r\n      if (isNullOrUndefined(data.returnValue)) {\r\n        exportResult = data as DataIEResult;\r\n      } else {\r\n        exportResult = data.returnValue as DataIEResult;\r\n      }\r\n      if (exportResult.succeed === true) {\r\n        relativePaths.push(exportResult.docRelativePath);\r\n        customfilename = exportResult.fileName.split('.')[0];\r\n        console.log('å¯¼åºæ§è¡å®æ¯ï¼relativePathï¼' + JSON.stringify(exportResult.relativePath));\r\n\r\n        if (packitems.length === 0) {\r\n          const preurl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n          if (optionJson.package.customfilename !== undefined && optionJson.package.customfilename !== '') {\r\n            customfilename = optionJson.package.customfilename;\r\n          }\r\n          let packtype = 'zip';\r\n          if (optionJson.package.packtype !== undefined) {\r\n            packtype = optionJson.package.packtype;\r\n          }\r\n          if (itemsFileName.length === 0) {\r\n            itemsFileName = null;\r\n          }\r\n          this.operateService.DownloadPackageFile(relativePaths, itemsFileName, customfilename, preurl, packtype);\r\n          const subscriber = this.operateService.downloadComplete.subscribe(result => {\r\n            this.CloseLoading();\r\n            if (result === '') {\r\n              this.export.emit('');\r\n              subscriber.unsubscribe();\r\n            } else {\r\n              this.export.emit(result);\r\n              subscriber.unsubscribe();\r\n            }\r\n          });\r\n        } else {\r\n          this.ExecuteMutiRequest(packitems, befRestService, relativePaths, itemsFileName, optionJson);\r\n        }\r\n      } else {\r\n        this.CloseLoading();\r\n        this.errorlevel = exportResult.errorLevel;\r\n        this.export.emit(exportResult.message);\r\n      }\r\n    }, error => {\r\n      this.CloseLoading();\r\n      this.notify.error(error.error.Message);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æå·¥è¡¨åå¯¼åº\r\n   * @param exportParam\r\n   * @param option\r\n   */\r\n  Export4HandCraft(exportParam: any, option: any) {\r\n    this.StartLoading();\r\n    const su = option.su;\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/AllSteps/dataexportvmaction';\r\n    this.http.put(fixedUrl, exportParam,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Origin': '*'\r\n        },\r\n        responseType: 'blob',\r\n        observe: 'response',\r\n        params: {su: su}\r\n      }).subscribe((res: HttpResponse<Blob>) => {\r\n      this.CloseLoading();\r\n      console.log(res);\r\n      const data = res.body;\r\n      if (data.type == 'application/json') {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const dataIeResult = JSON.parse(reader.result as string) as DataIEResult;\r\n          if(!dataIeResult.succeed){\r\n              this.errorlevel = dataIeResult.errorLevel;\r\n              this.export.emit(dataIeResult.message);\r\n          }\r\n        };\r\n        reader.readAsText(data, 'utf-8');\r\n      } else {\r\n        let fileName = '';\r\n        let contentDisposition = res.headers.get(\"content-disposition\");\r\n        if (contentDisposition) {\r\n          // æ­£åè·åfilenameçå¼\r\n          let filenameRegex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n          let matches = filenameRegex.exec(contentDisposition);\r\n          if (matches != null && matches[1]) {\r\n            fileName = matches[1].replace(/['\"]/g, '');\r\n          }\r\n          // éè¿ URLEncoder.encode(pFileName, StandardCharsets.UTF_8.name()) å å¯ç¼ç ç, ä½¿ç¨decodeURI(fileName) è§£å¯\r\n          fileName = decodeURI(fileName);\r\n          // éè¿ new String(pFileName.getBytes(), StandardCharsets.ISO_8859_1) å å¯ç¼ç ç, ä½¿ç¨decodeURI(escape(fileName)) è§£å¯\r\n          // fileName = decodeURI(escape(fileName))\r\n        }\r\n        if(!isNullOrUndefined(option.customfilename)){\r\n          const suffixIndex = fileName.lastIndexOf('.');\r\n          const suffix = fileName.substring(suffixIndex);\r\n          fileName = option.customfilename + suffix;\r\n        }\r\n\r\n        const blob = new Blob([data]);\r\n        if (!data || data.size == 0) {\r\n          this.export.emit('è¿åçæ°æ®ä¸ºç©º');\r\n        } else {\r\n          if (navigator.msSaveOrOpenBlob) {\r\n            navigator.msSaveOrOpenBlob(blob, fileName);\r\n          } else {\r\n            const link = document.createElement('a');\r\n            link.setAttribute('href', window.URL.createObjectURL(blob));\r\n            // è®¾ç½®ä¸è½½çæä»¶å\r\n            link.setAttribute('download', fileName);\r\n            link.style.visibility = 'hidden';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n          }\r\n          this.export.emit('');\r\n        }\r\n      }\r\n    }, error => {\r\n      this.CloseLoading();\r\n      this.notify.error(error.error.Message);\r\n    });\r\n  }\r\n\r\n  StartLoading() {\r\n    if (this.loadingService !== undefined && this.loadingService !== null) {\r\n      this.loadingService.show();\r\n    }\r\n  }\r\n\r\n  CloseLoading() {\r\n    if (this.loadingService !== undefined && this.loadingService !== null) {\r\n      this.loadingService.clearAll();\r\n    }\r\n  }\r\n\r\n\r\n  ExportCurrentData(ruleId: string, frameContext: FrameContext, pageIndex: number, pageSize: number, option: any, suffix?: string) {\r\n    let exportParam = null;\r\n    let model = '';\r\n    if (option.Models !== undefined && option.Models !== null && option.Models.length > 0) {\r\n      model = JSON.stringify(option.Models[0]);\r\n    }\r\n    let globalVar = '';\r\n    if (option['globalParam'] !== null && option['globalParam'] !== undefined) {\r\n      if (typeof (option['globalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['globalParam']);\r\n      } else {\r\n        globalVar = option['globalParam'];\r\n      }\r\n    }\r\n    if (suffix === null || suffix === undefined) {\r\n      suffix = '';\r\n    }\r\n\r\n    const funcId = getQueryString('funcId');\r\n    let filterParem = option['filter'];\r\n    const newFilters = [];\r\n\r\n    const selectFilterGridComponent = option['selectFilterGridComponent'];\r\n    if (!isNullOrUndefined(selectFilterGridComponent) && !isNullOrEmpty(selectFilterGridComponent)) {\r\n      const ids = frameContext.appContext.frameContextManager.getFrameContextById(selectFilterGridComponent).uiState['ids'];\r\n      if (!isNullOrUndefined(ids) && ids.length > 0) {\r\n        let idsStr = '';\r\n        for (let i = 0; i < ids.length; i++) {\r\n          const id = ids[i];\r\n          if (i === ids.length - 1) {\r\n            idsStr += id;\r\n          } else {\r\n            idsStr += id + '\\r\\n';\r\n          }\r\n        }\r\n        const selectIdFilterCondition = {\r\n          FilterField: \"ID\",\r\n          Compare: 14,\r\n          Value: idsStr,\r\n          Relation: 1,\r\n          Expresstype: 0\r\n        }\r\n        newFilters.push(selectIdFilterCondition);\r\n      } else {\r\n        this.notify.info(this.i18nResource['select_data_export']);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const filterConditionList = frameContext.uiState['filterConditionList'];\r\n    if (filterConditionList !== undefined && filterConditionList !== null && filterConditionList !== '' && filterConditionList !== '[]') {\r\n      let filterConditionListJson;\r\n      if (typeof (filterConditionList) === 'string') {\r\n        filterConditionListJson = JSON.parse(filterConditionList);\r\n      } else {\r\n        filterConditionListJson = filterConditionList;\r\n      }\r\n      for (let index = 0; index < filterConditionListJson.length; index++) {\r\n        const element = filterConditionListJson[index];\r\n        const value = decodeURIComponent(element.Value);\r\n        element.Value = value;\r\n        newFilters.push(element);\r\n      }\r\n    }\r\n    if (newFilters.length > 0) {\r\n      if (!isNullOrUndefined(filterParem) && filterParem.FilterConditions !== null) {\r\n        filterParem.FilterConditions = newFilters.concat(filterParem.FilterConditions);\r\n      } else {\r\n        if (isNullOrUndefined(filterParem)) {\r\n          filterParem = {};\r\n        }\r\n        filterParem['FilterConditions'] = newFilters;\r\n      }\r\n    }\r\n    if (isNullOrUndefined(filterParem)) {\r\n      exportParam = {\r\n        body: {\r\n          exportContext: {\r\n            RuleId: ruleId,\r\n            Suffix: suffix,\r\n            PaginationInfo: {\r\n              PageIndex: pageIndex,\r\n              PageSize: pageSize\r\n            },\r\n            Model: model,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          }\r\n        }\r\n      };\r\n    } else {\r\n      //ç¡®ä¿æåä¸ä¸ªå³ç³»ä¸ºç©º\r\n      if (!isNullOrUndefined(filterParem.FilterConditions) && filterParem.FilterConditions.length > 0) {\r\n        filterParem.FilterConditions[filterParem.FilterConditions.length - 1].Relation = 0;\r\n      }\r\n      exportParam = {\r\n        body: {\r\n          exportContext: {\r\n            RuleId: ruleId,\r\n            Filter: filterParem,\r\n            Suffix: suffix,\r\n            PaginationInfo: {\r\n              PageIndex: pageIndex,\r\n              PageSize: pageSize\r\n            },\r\n            Model: model,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          }\r\n        }\r\n      };\r\n    }\r\n\r\n\r\n    this.Export(frameContext.repository, exportParam, option);\r\n  }\r\n\r\n  ExportById(ruleId: string, frameContext: FrameContext, option: any, suffix?: string) {\r\n    let exportParam = null;\r\n    let model = '';\r\n    if (option.Models !== undefined && option.Models !== null && option.Models.length > 0) {\r\n      model = JSON.stringify(option.Models[0]);\r\n    }\r\n    let globalVar = '';\r\n    if (option['globalParam'] !== null && option['globalParam'] !== undefined) {\r\n      if (typeof (option['globalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['globalParam']);\r\n      } else {\r\n        globalVar = option['globalParam'];\r\n      }\r\n    }\r\n    if (suffix === null || suffix === undefined) {\r\n      suffix = '';\r\n    }\r\n\r\n    const funcId = getQueryString('funcId');\r\n    let filterParam = option['filter'];\r\n    const newFilters = [];\r\n\r\n    const selectFilterGridComponent = option['selectFilterGridComponent'];\r\n    if (!isNullOrUndefined(selectFilterGridComponent) && !isNullOrEmpty(selectFilterGridComponent)) {\r\n      const ids = frameContext.appContext.frameContextManager.getFrameContextById(selectFilterGridComponent).uiState['ids'];\r\n      if (!isNullOrUndefined(ids) && ids.length > 0) {\r\n        let idsStr = '';\r\n        for (let i = 0; i < ids.length; i++) {\r\n          const id = ids[i];\r\n          if (i === ids.length - 1) {\r\n            idsStr += id;\r\n          } else {\r\n            idsStr += id + '\\r\\n';\r\n          }\r\n        }\r\n        const selectIdFilterCondition = {\r\n          FilterField: \"ID\",\r\n          Compare: 14,\r\n          Value: idsStr,\r\n          Relation: 1,\r\n          Expresstype: 0\r\n        }\r\n        newFilters.push(selectIdFilterCondition);\r\n      } else {\r\n        this.notify.info(this.i18nResource['select_data_export']);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (option['enableScreeningScheme'] === true) {\r\n      const filterConditionList = frameContext.uiState['filterConditionList'];\r\n      if (filterConditionList !== undefined && filterConditionList !== null && filterConditionList !== '' && filterConditionList !== '[]') {\r\n        let filterConditionListJson;\r\n        if (typeof (filterConditionList) === 'string') {\r\n          filterConditionListJson = JSON.parse(filterConditionList);\r\n        } else {\r\n          filterConditionListJson = filterConditionList;\r\n        }\r\n        for (let index = 0; index < filterConditionListJson.length; index++) {\r\n          const element = filterConditionListJson[index];\r\n          const value = decodeURIComponent(element.Value);\r\n          // if (typeof (value) === 'string' && value.includes('\\r\\n')) {\r\n          //     element.Value = value.replace('\\r\\n', '\\\\r\\\\n');\r\n          // } else {\r\n          // }\r\n          element.Value = value;\r\n          newFilters.push(element);\r\n        }\r\n      }\r\n    }\r\n    if (newFilters.length > 0) {\r\n      if (!isNullOrUndefined(filterParam) && filterParam.FilterConditions !== null) {\r\n        filterParam.FilterConditions = newFilters.concat(filterParam.FilterConditions);\r\n      } else {\r\n        if (isNullOrUndefined(filterParam)) {\r\n          filterParam = {};\r\n        }\r\n        filterParam['FilterConditions'] = newFilters;\r\n      }\r\n    }\r\n\r\n    if (isNullOrUndefined(filterParam)) {\r\n      exportParam = {\r\n        body: {\r\n          exportContext: {\r\n            RuleId: ruleId,\r\n            Suffix: suffix,\r\n            Model: model,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          }\r\n        }\r\n      };\r\n    } else {\r\n      //ç¡®ä¿æåä¸ä¸ªå³ç³»ä¸ºç©º\r\n      if (!isNullOrUndefined(filterParam.FilterConditions) && filterParam.FilterConditions.length > 0) {\r\n        filterParam.FilterConditions[filterParam.FilterConditions.length - 1].Relation = 0;\r\n      }\r\n      exportParam = {\r\n        body: {\r\n          exportContext: {\r\n            RuleId: ruleId,\r\n            Filter: filterParam,\r\n            Suffix: suffix,\r\n            Model: model,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          }\r\n        }\r\n      };\r\n    }\r\n\r\n    this.Export(frameContext.repository, exportParam, option);\r\n  }\r\n\r\n  ExportById4HandCraft(ruleId: string, option: any, suffix?: string) {\r\n    let globalVar = '';\r\n    if (!isNullOrUndefined(option['globalParam'])) {\r\n      if (typeof (option['globalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['globalParam']);\r\n      } else {\r\n        globalVar = option['globalParam'];\r\n      }\r\n    }\r\n    if (isNullOrUndefined(suffix)) {\r\n      suffix = '';\r\n    }\r\n    let funcId = '';\r\n    if(!isNullOrUndefined(option.funcId)){\r\n      funcId = option.funcId;\r\n    }\r\n    const exportParam = {\r\n      ruleId: ruleId,\r\n      filter: option['filter'],\r\n      suffix: suffix,\r\n      globalParam: globalVar,\r\n      funcId: funcId\r\n    };\r\n\r\n    this.Export4HandCraft(exportParam, option);\r\n  }\r\n\r\n  ExportCurrentChildData(ruleId: string, frameContext: FrameContext, option: any, suffix?: string) {\r\n    let exportParam = null;\r\n\r\n    let globalVar = '';\r\n    if (option['globalParam'] !== null && option['globalParam'] !== undefined) {\r\n      if (typeof (option['globalParam']) === 'object') {\r\n        globalVar = JSON.stringify(option['globalParam']);\r\n      } else {\r\n        globalVar = option['globalParam'];\r\n      }\r\n    }\r\n    if (suffix === null || suffix === undefined) {\r\n      suffix = '';\r\n    }\r\n\r\n    const funcId = getQueryString('funcId');\r\n\r\n\r\n    exportParam = {\r\n      body: {\r\n        exportContext: {\r\n          RuleId: ruleId,\r\n          Suffix: suffix,\r\n          MainObjId: frameContext.bindingData.list.currentId,\r\n          GlobalParam: globalVar,\r\n          funcId: funcId\r\n        }\r\n      }\r\n    };\r\n\r\n    this.Export(frameContext.repository, exportParam, option);\r\n  }\r\n}\r\n","import {EventEmitter, Injectable, Output} from '@angular/core';\r\nimport {FrameContext, Repository} from '@farris/devkit';\r\nimport {DataIEUtils, getQueryString, isNullOrEmpty, isNullOrUndefined} from '../Utils/DataIEUtils';\r\nimport {Observable} from 'rxjs';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {DataIEResult} from '../Entity/DataIEResult';\r\nimport {FileOperateService} from './file-operate.service';\r\nimport {DataImportService} from './data-import.service';\r\nimport {LoadingService} from '@farris/ui-loading';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {CommonParams} from \"../Entity/CommonParams\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CustomDataIEService {\r\n\r\n  private origin = window.location.origin;\r\n  private customExportUrl = this.origin + '/api/runtime/dip/v1.0/customexport';\r\n  private customImportUrl = this.origin + '/api/runtime/dip/v1.0/customimport';\r\n  public complete: any;\r\n\r\n  @Output()\r\n  export = new EventEmitter();\r\n  public errorlevel: any;\r\n  // loadingComp: LoadingComponent = null;\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private notify: NotifyService,\r\n    private operateService: FileOperateService,\r\n    private loadingService: LoadingService,\r\n    private importService: DataImportService,\r\n    private http: HttpClient\r\n  ) {\r\n    this.complete = new EventEmitter();\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.i18nResource = res;\r\n    });\r\n  }\r\n\r\n  public SaveCustomImportRule(model: any, components: any, frameContext: FrameContext, suffix: string, isImportForm: boolean, i18nId: string, dimension: string):\r\n    Observable<any> {\r\n    const befRestService = DataIEUtils.GetBefRestService(frameContext.repository);\r\n    const tempUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    let importParam = null;\r\n    if (isNullOrUndefined(dimension)) {\r\n      importParam = {\r\n        body: {\r\n          dataExchangeModel: JSON.stringify(model),\r\n          components: components,\r\n          suffix: suffix,\r\n          keys: ['DataImport', model['MainObject']['Source']['SourceMetadataID']],\r\n          importForm: isImportForm,\r\n          su: su,\r\n          i18nId: i18nId\r\n        }\r\n      };\r\n    } else {\r\n      importParam = {\r\n        body: {\r\n          dataExchangeModel: JSON.stringify(model),\r\n          components: components,\r\n          suffix: suffix,\r\n          keys: ['DataImport', model['MainObject']['Source']['SourceMetadataID'], dimension],\r\n          importForm: isImportForm,\r\n          su: su,\r\n          i18nId: i18nId\r\n        }\r\n      };\r\n    }\r\n    let subject: Observable<any>;\r\n    if (!isNullOrUndefined(this.http)) {\r\n      subject = this.http.post(`${this.customImportUrl}/AddImportRule`, importParam.body, {params: {su: su}});\r\n    } else {\r\n      subject = befRestService.request(`${this.customImportUrl}/AddImportRule`, 'post', {su: su}, importParam);\r\n    }\r\n    return subject;\r\n  }\r\n\r\n  public SaveCustomExportRule(model: any, components: any, frameContext: FrameContext, suffix: string, i18nId: string, dimension: string): Observable<any> {\r\n    const befRestService = DataIEUtils.GetBefRestService(frameContext.repository);\r\n    const tempUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    let exportParam = null;\r\n    if (isNullOrUndefined(dimension)) {\r\n      exportParam = {\r\n        body: {\r\n          dataExchangeModel: JSON.stringify(model),\r\n          components: components,\r\n          suffix: suffix,\r\n          keys: ['DataExport', model['MainObject']['Source']['SourceMetadataID']],\r\n          su: su,\r\n          i18nId: i18nId\r\n        }\r\n      };\r\n    } else {\r\n      exportParam = {\r\n        body: {\r\n          dataExchangeModel: JSON.stringify(model),\r\n          components: components,\r\n          suffix: suffix,\r\n          keys: ['DataExport', model['MainObject']['Source']['SourceMetadataID'], dimension],\r\n          su: su,\r\n          i18nId: i18nId\r\n        }\r\n      };\r\n    }\r\n    let subject: Observable<any>;\r\n    if (!isNullOrUndefined(this.http)) {\r\n      subject = this.http.post(`${this.customExportUrl}/AddExportRule`, exportParam.body, {params: {su: su}});\r\n    } else {\r\n      subject = befRestService.request(`${this.customExportUrl}/AddExportRule`, 'post', {su: su}, exportParam);\r\n    }\r\n    return subject;\r\n  }\r\n\r\n  // ä¸è½½æ¨¡æ¿\r\n  public DowmloadTemplate(model: any, frameContext: FrameContext, importOption: any) {\r\n    const keys = ['DataImport', model['MainObject']['Source']['SourceMetadataID'], importOption.dimension];\r\n    const befRestService = DataIEUtils.GetBefRestService(frameContext.repository);\r\n    const tempUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    const templateParam = {\r\n      body: {\r\n        keys: keys,\r\n        su: su\r\n      }\r\n    };\r\n\r\n    const subject = befRestService.request(`${this.customImportUrl}/TemplateDownload`, 'post', {su: su}, templateParam);\r\n    subject.subscribe(data => {\r\n      if (data['success'] === true) {\r\n        let filename = data['fileName'];\r\n        if (importOption !== null && importOption['templatefilename'] !== null && importOption['templatefilename'] !== undefined) {\r\n          const suffixIndex = filename.lastIndexOf('.');\r\n          const suffix = filename.substring(suffixIndex);\r\n          filename = importOption['templatefilename'] + suffix;\r\n        }\r\n\r\n        const preUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n        this.operateService.DownloadFile(data['relativePath'], filename, preUrl, importOption);\r\n        const subscription = this.operateService.downloadComplete.subscribe(result => {\r\n          if (result === '') {\r\n            this.complete.emit('');\r\n            subscription.unsubscribe();\r\n          } else {\r\n            this.complete.emit(result);\r\n            subscription.unsubscribe();\r\n          }\r\n        });\r\n      } else {\r\n        this.complete.emit(data['message']);\r\n      }\r\n    });\r\n  }\r\n\r\n  public GetImportRuleModel(keys: string[], repository: Repository<any>, i18nId: string, model: any) {\r\n    const befRestService = DataIEUtils.GetBefRestService(repository);\r\n    const tempUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    const params = {\r\n      body: {\r\n        keys: keys,\r\n        su: su,\r\n        i18nId: i18nId,\r\n        needI18nModel: JSON.stringify(model)\r\n      }\r\n    };\r\n    let subject: Observable<any>;\r\n    if (!isNullOrUndefined(this.http)) {\r\n      subject = this.http.post(`${this.customImportUrl}/GetImportModel`, params.body, {params: {su: su}});\r\n    } else {\r\n      subject = befRestService.request(`${this.customImportUrl}/GetImportModel`, 'post', {su: su}, params);\r\n    }\r\n    return subject;\r\n  }\r\n\r\n  public GetExportRuleModel(keys: string[], repository: Repository<any>, i18nId: string, model: any) {\r\n    const befRestService = DataIEUtils.GetBefRestService(repository);\r\n    const tempUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    const params = {\r\n      body: {\r\n        keys: keys,\r\n        su: su,\r\n        i18nId: i18nId,\r\n        needI18nModel: JSON.stringify(model)\r\n      }\r\n    };\r\n    let subject: Observable<any>;\r\n    if (!isNullOrUndefined(this.http)) {\r\n      subject = this.http.post(`${this.customExportUrl}/GetExportModel`, params.body, {params: {su: su}});\r\n    } else {\r\n      subject = befRestService.request(`${this.customExportUrl}/GetExportModel`, 'post', {su: su}, params);\r\n    }\r\n    return subject;\r\n  }\r\n\r\n  public ImportByRule(commonParams: CommonParams) {\r\n    const repository = commonParams.repository;\r\n    const option = commonParams.option;\r\n    const keys = commonParams.keys;\r\n    const fileName = commonParams.fileName;\r\n    const befRestService = DataIEUtils.GetBefRestService(repository);\r\n    let globalVar = '';\r\n    if (option !== null && option['GlobalParam'] !== null && option['GlobalParam'] !== undefined) {\r\n      globalVar = JSON.stringify(option['GlobalParam']);\r\n    }\r\n    const funcId = getQueryString('funcId');\r\n    const importParam = {\r\n      body: {\r\n        dataImportContext: {\r\n          Keys: keys,\r\n          FileName: fileName,\r\n          GlobalParam: globalVar,\r\n          funcId: funcId\r\n        }\r\n      }\r\n    };\r\n    commonParams.befRestService = befRestService;\r\n    commonParams.importParam = importParam;\r\n    commonParams.mainObjId = '';\r\n    this.importService.Import(commonParams);\r\n  }\r\n\r\n  public ImportSubTableByRule(commonParams: CommonParams): boolean {\r\n    const repository = commonParams.repository;\r\n    const option = commonParams.option;\r\n    const keys = commonParams.keys;\r\n    const fileName = commonParams.fileName;\r\n    const frameContext = commonParams.frameContext;\r\n    const befRestService = DataIEUtils.GetBefRestService(repository);\r\n    let globalVar = '';\r\n    if (option !== null && option['GlobalParam'] !== null && option['GlobalParam'] !== undefined) {\r\n      globalVar = JSON.stringify(option['GlobalParam']);\r\n    }\r\n\r\n    if (frameContext.bindingData.list.currentId === '' || frameContext.bindingData.list.currentId === null) {\r\n      this.notify.info(this.i18nResource['master_table_noid']);\r\n      return false;\r\n    } else {\r\n      const funcId = getQueryString('funcId');\r\n      const importParam = {\r\n        body: {\r\n          dataImportContext: {\r\n            Keys: keys,\r\n            FileName: fileName,\r\n            MainObjId: frameContext.bindingData.list.currentId,\r\n            GlobalParam: globalVar,\r\n            funcId: funcId\r\n          },\r\n          requestInfo: befRestService.buildRequestInfo()\r\n        }\r\n      };\r\n      commonParams.befRestService = befRestService;\r\n      commonParams.importParam = importParam;\r\n      commonParams.mainObjId = frameContext.bindingData.list.currentId;\r\n      this.importService.Import(commonParams);\r\n    }\r\n  }\r\n\r\n  public ExportByRule(keys: any[], filter: any, option: any, frameContext: FrameContext) {\r\n    const befRestService = DataIEUtils.GetBefRestService(frameContext.repository);\r\n    const funcId = getQueryString('funcId');\r\n\r\n    const newFilters = [];\r\n\r\n    const selectFilterGridComponent = option['selectFilterGridComponent'];\r\n    if (!isNullOrUndefined(selectFilterGridComponent) && !isNullOrEmpty(selectFilterGridComponent)) {\r\n      const ids = frameContext.appContext.frameContextManager.getFrameContextById(selectFilterGridComponent).uiState['ids'];\r\n      if (!isNullOrUndefined(ids) && ids.length > 0) {\r\n        let idsStr = '';\r\n        for (let i = 0; i < ids.length; i++) {\r\n          const id = ids[i];\r\n          if (i === ids.length - 1) {\r\n            idsStr += id;\r\n          } else {\r\n            idsStr += id + '\\r\\n';\r\n          }\r\n        }\r\n        const selectIdFilterCondition = {\r\n          FilterField: \"ID\",\r\n          Compare: 14,\r\n          Value: idsStr,\r\n          Relation: 1,\r\n          Expresstype: 0\r\n        }\r\n        newFilters.push(selectIdFilterCondition);\r\n      } else {\r\n        this.notify.info(this.i18nResource['select-data-export']);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (option['enableScreeningScheme'] === true) {\r\n      const filterConditionList = frameContext.uiState['filterConditionList'];\r\n      if (filterConditionList !== undefined && filterConditionList !== null && filterConditionList !== '' && filterConditionList !== '[]') {\r\n        let filterConditionListJson;\r\n        if (typeof (filterConditionList) === 'string') {\r\n          filterConditionListJson = JSON.parse(filterConditionList);\r\n        } else {\r\n          filterConditionListJson = filterConditionList;\r\n        }\r\n        for (let index = 0; index < filterConditionListJson.length; index++) {\r\n          const element = filterConditionListJson[index];\r\n          const value = decodeURIComponent(element.Value);\r\n\r\n          element.Value = value;\r\n          newFilters.push(element);\r\n        }\r\n      }\r\n    }\r\n    if (newFilters.length > 0) {\r\n      if (!isNullOrUndefined(filter) && filter.FilterConditions !== null) {\r\n        filter.FilterConditions = newFilters.concat(filter.FilterConditions);\r\n      } else {\r\n        if (isNullOrUndefined(filter)) {\r\n          filter = {};\r\n        }\r\n        filter['FilterConditions'] = newFilters;\r\n      }\r\n    }\r\n    if (!isNullOrUndefined(filter) && !isNullOrUndefined(filter.FilterConditions)) {\r\n      //ç¡®ä¿æåä¸ä¸ªå³ç³»ä¸ºç©º\r\n      filter.FilterConditions[filter.FilterConditions.length - 1].Relation = 0;\r\n    }\r\n    const exportParam = {\r\n      body: {\r\n        exportContext: {\r\n          Filter: filter,\r\n          Keys: keys,\r\n          GlobalParam: '',\r\n          funcId: funcId\r\n        }\r\n      }\r\n    };\r\n    this.loadingService.show();\r\n    const subject = befRestService.request(`${befRestService.baseUri}/service/dataexportvmaction`, 'put', null, exportParam);\r\n    subject.subscribe(data => {\r\n      if (data === null) {\r\n        // this.export.emit(false);\r\n        this.notify.info('æ°æ®å¯¼åºå¤±è´¥ï¼\\n å¤±è´¥åå ï¼æå¡ç«¯ååºå¼å¸¸ï¼è¯·æ£æ¥');\r\n      }\r\n      let exportResult = data.returnValue as DataIEResult;\r\n      if (isNullOrUndefined(exportResult)) {\r\n        exportResult = data as DataIEResult;\r\n      }\r\n      let fileName = exportResult.fileName;\r\n      if (option !== null && option['customfilename'] !== null && option['customfilename'] !== undefined) {\r\n        const suffixIndex = fileName.lastIndexOf('.');\r\n        const suffix = fileName.substring(suffixIndex);\r\n        fileName = option['customfilename'] + suffix;\r\n      }\r\n      if (exportResult.succeed === true) {\r\n        const preUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n        this.operateService.DownloadFile(exportResult.relativePath, fileName, preUrl, option);\r\n        const subscriber = this.operateService.downloadComplete.subscribe(result => {\r\n          this.loadingService.clearAll();\r\n          if (result === '') {\r\n            this.export.emit('');\r\n            subscriber.unsubscribe();\r\n          } else {\r\n            this.export.emit(result);\r\n            subscriber.unsubscribe();\r\n          }\r\n        });\r\n      } else {\r\n        this.loadingService.clearAll();\r\n        this.errorlevel = exportResult.errorLevel;\r\n        this.export.emit(exportResult.message);\r\n        // this.notify.error('æ°æ®å¯¼åºå¤±è´¥ï¼\\n å¤±è´¥åå ï¼' + exportResult.message);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter, ViewChild, TemplateRef, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { FrameContext } from '@farris/devkit';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { DataExportService } from '../service/DataIEService/data-export.service';\r\nimport { DataExchangeModel } from '../model/Model/DataExchangeModel';\r\nimport { DataImportExportRule } from '../model/DataImportExportRule';\r\nimport { ExportMethodType } from '../model/DataIEType/ExportMethodType';\r\nimport { FileOperateService } from '../service/DataIEService/file-operate.service';\r\nimport { EntityListService } from '@farris/command-services';\r\nimport { ElementSelectComponent } from '../element-select/element-select.component';\r\nimport { CustomDataIEService } from '../service/DataIEService/custom-data-ie.service';\r\n// import { FilterAndSortComponent } from '../filter-and-sort/filter-and-sort.component';\r\nimport { BsModalService } from '@farris/ui-modal';\r\nimport { DataIEUtils } from '../service/Utils/DataIEUtils';\r\nimport { LoadingService, LoadingComponent } from '@farris/ui-loading';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Subject } from 'rxjs';\r\nimport {MethodType} from '../model/DataIEType/MethodType';\r\n\r\n@Component({\r\n    selector: 'app-export-dialog',\r\n    templateUrl: './export-dialog.component.html',\r\n    styleUrls: ['./export-dialog.component.css'],\r\n    providers: [NotifyService]\r\n})\r\n//èªå®ä¹å¯¼åº\r\nexport class ExportDialogComponent {\r\n    @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\r\n    // è§åID\r\n    @Input()\r\n    ruleId = '';\r\n    @Input()\r\n    i18nId = '';\r\n    @Input()\r\n    exportOption: any = null;\r\n    @Input()\r\n    isHandCraft: boolean = false;\r\n    subject: Subject<Boolean> = null;\r\n    @Input()\r\n    // repository = null;\r\n    frameContext: FrameContext = null;\r\n    @Input()\r\n    methodType: MethodType;\r\n    @Input()\r\n    show: boolean = false;\r\n    @Output()\r\n    needDestroy = new EventEmitter<boolean>();\r\n    valueField: string = 'Office Excel97-2003(*.xls)';\r\n    exportRule: DataImportExportRule;\r\n    @ViewChild(ElementSelectComponent)\r\n    eleSelectComp: ElementSelectComponent;\r\n    @Input()\r\n    Model: any = null;\r\n    @Input()\r\n    components: any = null;\r\n    @Input()\r\n    filter: any = null;\r\n    @Input()\r\n    InnerModel: any = null;\r\n    @Input()\r\n    CustomModel: any = null;\r\n    @Input()\r\n    isCustomExport: any = null;\r\n\r\n\r\n\r\n    export_success: string;\r\n    export_fail: string;\r\n    file_type: string;\r\n    download_vsto: string;\r\n    ie_cancel: string;\r\n    ie_ok: string;\r\n    customexport_no_column: string;\r\n    vsto_component: string;\r\n    constructor(\r\n        private dataExportService: DataExportService,\r\n        private notify: NotifyService,\r\n        private fileService: FileOperateService,\r\n        private entityService: EntityListService,\r\n        private customIEService: CustomDataIEService,\r\n        private resolver: ComponentFactoryResolver,\r\n        private modalService: BsModalService,\r\n        private http: HttpClient\r\n    ) {\r\n        DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n            this.export_success = res['export_success'];\r\n            this.export_fail = res['export_fail'];\r\n            this.file_type = res['file_type'];\r\n            this.download_vsto = res['download_vsto'];\r\n            this.ie_cancel = res['ie_cancel'];\r\n            this.ie_ok = res['ie_ok'];\r\n            this.customexport_no_column = res['customexport_no_column'];\r\n            this.vsto_component = res['vsto_component'];\r\n        });\r\n    }\r\n    public DownloadVSTO() {\r\n        const repository = this.frameContext === null ? null : this.frameContext.repository;\r\n        if (this.isHandCraft === true) {\r\n            const su = DataIEUtils.ChooseSu(repository, this.exportOption);\r\n            this.fileService.DownloadFile4HandCraft('æ°æ®å¯¼åºç»ä»¶.msi', this.vsto_component, su, false)\r\n        } else {\r\n            const befService = DataIEUtils.GetBefRestService(repository);\r\n            this.fileService.DownloadFile('æ°æ®å¯¼åºç»ä»¶.msi', this.vsto_component, befService.baseUri, false);\r\n        }\r\n    }\r\n    public close() {\r\n        this.needDestroy.emit();\r\n    }\r\n    // public fileListItems = [\r\n    //     {id:'Office Excel97-2003(*.xls)',label:'Office Excel97-2003(*.xls)'},\r\n    //     {id:'Office Excel(*.xlsx)',label:'Office Excel(*.xlsx)'},\r\n    //     {id:'Office Excel Macro(*.xlsm)',label:'Office Excel Macro(*.xlsm)'},\r\n    //     {id:'WPS Table(*.et)',label:'WPS Table(*.et)'}\r\n    //     // 'WPS Table(Template File)(*.ett)'\r\n    // ];\r\n    public fileListItems = [\r\n        'Office Excel97-2003(*.xls)',\r\n        'Office Excel(*.xlsx)',\r\n        'Office Excel Macro(*.xlsm)',\r\n        'WPS Table(*.et)'\r\n        // 'WPS Table(Template File)(*.ett)'\r\n    ];\r\n    public Ok() {\r\n        if (this.ruleId === '' && this.InnerModel === null) {\r\n            return;\r\n        }\r\n        let suffix = '.xls';\r\n        switch (this.valueField) {\r\n            case 'Office Excel97-2003(*.xls)':\r\n                suffix = '.xls';\r\n                break;\r\n            case 'Office Excel(*.xlsx)':\r\n                suffix = '.xlsx';\r\n                break;\r\n            case 'Office Excel Macro(*.xlsm)':\r\n                suffix = '.xlsm';\r\n                break;\r\n            case 'WPS Table(*.et)':\r\n                suffix = '.et';\r\n                break;\r\n            case 'WPS Table(Template File)(*.ett)':\r\n                suffix = '.ett';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if (this.isCustomExport === false) {\r\n            suffix = null;\r\n        }\r\n        //èªå®ä¹å¯¼åºåæ¯\r\n        if (this.InnerModel !== null) {\r\n            this.eleSelectComp.Save();\r\n            const elements = this.InnerModel.MainObject.Elements;\r\n            const mainObjName = this.InnerModel.MainObject.FileObjectName;\r\n            if (elements == null || elements === undefined || elements.length === 0) {\r\n                this.notify.info(mainObjName + ' ' + this.customexport_no_column);\r\n                return;\r\n            }\r\n            this.customIEService.SaveCustomExportRule(this.InnerModel, this.components, this.frameContext, suffix, this.i18nId,this.exportOption.dimension).subscribe(\r\n                data => {\r\n                    if (data['success'] === true) {\r\n                        this.customIEService.ExportByRule(\r\n                            ['DataExport', this.Model['MainObject']['Source']['SourceMetadataID'],this.exportOption.dimension],\r\n                            this.filter,\r\n                            this.exportOption,\r\n                            this.frameContext);\r\n                    } else {\r\n                        this.notify.error(this.export_fail + data['message']);\r\n                    }\r\n                }\r\n            );\r\n            const unscriber = this.customIEService.export.subscribe(data => {\r\n                if (data === '') {\r\n                    this.notify.success(this.export_success);\r\n                    unscriber.unsubscribe();\r\n                    this.subject.next(true);\r\n                    this.subject.complete();\r\n                } else {\r\n                    const errorlevel = this.customIEService.errorlevel;\r\n                    if (errorlevel === 'Info') {\r\n                        this.notify.info(data);\r\n                    } else if (errorlevel === 'Warning') {\r\n                        this.notify.warning(data);\r\n                    } else {\r\n                        this.notify.error(this.export_fail + data);\r\n                    }\r\n                    // this.notify.error('å¯¼åºå¤±è´¥ï¼');\r\n                    unscriber.unsubscribe();\r\n                    this.subject.next(false);\r\n                    this.subject.complete();\r\n                }\r\n                this.needDestroy.emit();\r\n            });\r\n        }\r\n        //éVSTOç¹æ§ä¸çæ®éå¯¼åºåæ¯\r\n        if (this.ruleId !== '') {\r\n            switch (this.methodType) {\r\n                case MethodType.CommonExport:\r\n                  this.dataExportService.ExportById(this.ruleId, this.frameContext, this.exportOption, suffix);\r\n                  const unscriber = this.dataExportService.export.subscribe(data => {\r\n                        if (data === '') {\r\n                            this.notify.success(this.export_success);\r\n                            unscriber.unsubscribe();\r\n                            this.subject.next(true);\r\n                            this.subject.complete();\r\n                        } else {\r\n                            const errorlevel = this.dataExportService.errorlevel;\r\n                            if (errorlevel === 'Info') {\r\n                                this.notify.info(data);\r\n                            } else if (errorlevel === 'Warning') {\r\n                                this.notify.warning(data);\r\n                            } else {\r\n                                this.notify.error(this.export_fail + data);\r\n                            }\r\n                            // this.notify.error('å¯¼åºå¤±è´¥ï¼');\r\n                            unscriber.unsubscribe();\r\n                            this.subject.next(false);\r\n                            this.subject.complete();\r\n                        }\r\n                        this.needDestroy.emit();\r\n                    });\r\n                    break;\r\n                case MethodType.ExportCurrentTableData:\r\n                  this.dataExportService.ExportCurrentData(this.ruleId, this.frameContext, this.entityService.pageIndex,\r\n                    this.entityService.pageSize, this.exportOption, suffix);\r\n                  const exportUnscribe = this.dataExportService.export.subscribe(data => {\r\n                        if (data === '') {\r\n                            this.notify.success(this.export_success);\r\n                            exportUnscribe.unsubscribe();\r\n                            this.subject.next(true);\r\n                            this.subject.complete();\r\n                        } else {\r\n                            const errorlevel = this.dataExportService.errorlevel;\r\n                            if (errorlevel === 'Info') {\r\n                                this.notify.info(data);\r\n                            } else if (errorlevel === 'Warning') {\r\n                                this.notify.warning(data);\r\n                            } else {\r\n                                this.notify.error(this.export_fail + data);\r\n                            }\r\n                            exportUnscribe.unsubscribe();\r\n                            this.subject.next(false);\r\n                            this.subject.complete();\r\n                        }\r\n                        this.needDestroy.emit();\r\n                    });\r\n                    break;\r\n            }\r\n            // this.needDestroy.emit();\r\n        }\r\n    }\r\n    public Cancel() {\r\n        this.needDestroy.emit(true);\r\n    }\r\n}\r\n","import { EventEmitter, ElementRef, HostListener, Input, Output, Directive } from '@angular/core';\r\n\r\nimport { FileUploader } from './file-uploader';\r\nimport { FileUploaderOptions } from './file-uploder-options';\r\n\r\n@Directive({\r\n    selector: '[libFileDrop]'\r\n})\r\nexport class FileDropDirective {\r\n    @Input() public uploader: FileUploader;\r\n    @Output() public fileOver: EventEmitter<any> = new EventEmitter();\r\n    @Output() public FileDrop: EventEmitter<File[]> = new EventEmitter<File[]>();\r\n\r\n    protected element: ElementRef;\r\n\r\n    public constructor(element: ElementRef) {\r\n        this.element = element;\r\n    }\r\n\r\n    public getOptions(): FileUploaderOptions {\r\n        return this.uploader.options;\r\n    }\r\n\r\n    public getFilters(): any {\r\n        return {};\r\n    }\r\n\r\n    @HostListener('drop', [ '$event' ])\r\n    public onDrop(event: any): void {\r\n        const transfer = this._getTransfer(event);\r\n        if (!transfer) {\r\n            return;\r\n        }\r\n\r\n        const options = this.getOptions();\r\n        const filters = this.getFilters();\r\n        this._preventAndStop(event);\r\n        this.uploader.addToQueue(transfer.files, options, filters);\r\n        this.fileOver.emit(false);\r\n        this.FileDrop.emit(transfer.files);\r\n    }\r\n\r\n    @HostListener('dragover', [ '$event' ])\r\n    public onDragOver(event: any): void {\r\n        const transfer = this._getTransfer(event);\r\n        if (!this._haveFiles(transfer.types)) {\r\n            return;\r\n        }\r\n\r\n        transfer.dropEffect = 'copy';\r\n        this._preventAndStop(event);\r\n        this.fileOver.emit(true);\r\n    }\r\n    @HostListener('dragleave', [ '$event' ])\r\n    public onDragLeave(event: any): any {\r\n        if ((this as any).element) {\r\n            if (event.currentTarget === (this as any).element[ 0 ]) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._preventAndStop(event);\r\n        this.fileOver.emit(false);\r\n    }\r\n\r\n    protected _getTransfer(event: any): any {\r\n        return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer; // jQuery fix;\r\n    }\r\n\r\n    protected _preventAndStop(event: any): any {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n\r\n    protected _haveFiles(types: any): any {\r\n        if (!types) {\r\n            return false;\r\n        }\r\n        if (types.indexOf) {\r\n            return types.indexOf('Files') !== -1;\r\n        } else if (types.contains) {\r\n            return types.contains('Files');\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n","import { EventEmitter, ElementRef, Input, HostListener, Output, Directive } from '@angular/core';\r\n\r\nimport { FileUploader } from './file-uploader';\r\n\r\n@Directive({ selector: '[libFileSelect]' })\r\nexport class FileSelectDirective {\r\n  @Input() public uploader: FileUploader;\r\n  @Output() public FileSelected: EventEmitter<File[]> = new EventEmitter<File[]>();\r\n\r\n  protected element: ElementRef;\r\n\r\n  public constructor(element: ElementRef) {\r\n    this.element = element;\r\n  }\r\n\r\n  public getOptions(): any {\r\n    return this.uploader.options;\r\n  }\r\n\r\n  public getFilters(): any {\r\n    return {};\r\n  }\r\n\r\n  public isEmptyAfterSelection(): boolean {\r\n    return !!this.element.nativeElement.attributes.multiple;\r\n  }\r\n\r\n  @HostListener('change')\r\n  public onChange(): any {\r\n    const files = this.element.nativeElement.files;\r\n    const options = this.getOptions();\r\n    const filters = this.getFilters();\r\n\r\n    this.uploader.addToQueue(files, options, filters);\r\n    this.FileSelected.emit(files);\r\n\r\n    if (this.isEmptyAfterSelection()) {\r\n      this.element.nativeElement.value = '';\r\n    }\r\n  }\r\n}\r\n","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild} from '@angular/core';\r\nimport {FrameContext} from '@farris/devkit';\r\nimport {LoadingService} from '@farris/ui-loading';\r\nimport {FileUploader} from '../service/UploaderService/FileUpload/file-uploader';\r\nimport {Subject} from 'rxjs';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {FileItem} from '../service/UploaderService/FileUpload/file-item';\r\nimport {ParsedResponseHeaders} from '../service/UploaderService/FileUpload/parsed-response-headers';\r\nimport {CustomDataIEService} from '../service/DataIEService/custom-data-ie.service';\r\nimport {ElementSelectComponent} from '../element-select/element-select.component';\r\nimport {DataImportService} from '../service/DataIEService/data-import.service';\r\nimport {DataIEUtils} from '../service/Utils/DataIEUtils';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {CommonParams} from \"../service/Entity/CommonParams\";\r\n\r\n@Component({\r\n  selector: 'lib-custom-import-dialog',\r\n  templateUrl: './custom-import-dialog.component.html',\r\n  styleUrls: ['./custom-import-dialog.component.css']\r\n})\r\nexport class CustomImportDialogComponent implements OnInit {\r\n\r\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\r\n  // è§åID\r\n  @Input()\r\n  ruleId = '';\r\n  @Input()\r\n  i18nId = '';\r\n  // è¿æ»¤æ¡ä»¶\r\n  @Input()\r\n  importOption: any = null;\r\n  @Input()\r\n  frameContext: FrameContext = null;\r\n  // @Input()\r\n  // methodType: MethodType;\r\n  @Input()\r\n  subject: Subject<Boolean> = null;\r\n  acceptFileType = '.xls';\r\n  // æä»¶åç§°\r\n  fileName = '';\r\n  // loadingComp: LoadingComponent = null;\r\n  @ViewChild('fileUpload')\r\n  fileUpload: ElementRef;\r\n  private origin = window.location.origin;\r\n  // åéæ©ç»ä»¶\r\n  @ViewChild(ElementSelectComponent)\r\n  eleSelectComp: ElementSelectComponent;\r\n  valueField: string = 'Office Excel97-2003(*.xls)';\r\n  uploader = new FileUploader({\r\n    url: this.origin + '/api/runtime/dip/v1.0/rpcimport/Upload',\r\n    method: 'POST',\r\n    autoUpload: false,\r\n    itemAlias: 'uploadedfile',\r\n    allowedFileType: ['xls', 'xml', 'pdf', 'wps', 'doc']\r\n  });\r\n  // æ§å¶Destroyè¡¨åä¸­çè¾å¥ç»ä»¶\r\n  @Output()\r\n  needDestroy = new EventEmitter();\r\n  @Input()\r\n  Model: any = null;\r\n  @Input()\r\n  InnerModel: any = null;\r\n  @Input()\r\n  components: any = null;\r\n  @Input()\r\n  CustomModel: any = null;\r\n  @Input()\r\n  IsImportForm: boolean = false;\r\n  // public fileListItems = [\r\n  //     {id:'Office Excel97-2003(*.xls)',label:'Office Excel97-2003(*.xls)'},\r\n  //     {id:'Office Excel(*.xlsx)',label:'Office Excel(*.xlsx)'},\r\n  //     {id:'Office Excel Macro(*.xlsm)',label:'Office Excel Macro(*.xlsm)'},\r\n  //     {id:'WPS Table(*.et)',label:'WPS Table(*.et)'}\r\n  //     // 'WPS Table(Template File)(*.ett)'\r\n  // ];\r\n  public fileListItems = [\r\n    'Office Excel97-2003(*.xls)',\r\n    'Office Excel(*.xlsx)',\r\n    'Office Excel Macro(*.xlsm)',\r\n    'WPS Table(*.et)'\r\n    // 'WPS Table(Template File)(*.ett)'\r\n  ];\r\n\r\n  file_type: string;\r\n  download_template: string;\r\n  ie_cancel: string;\r\n  ie_ok: string;\r\n  choose_file: string;\r\n  import_file: string;\r\n  import_placeholder: string;\r\n  download_template_ok: string;\r\n  download_template_fail: string;\r\n  choose_truefile: string;\r\n  upload_filetype_nomatch: string;\r\n  upload_fail: string;\r\n  save_customrule_fail: string;\r\n  import_success: string;\r\n  import_fail: string;\r\n  import_form_success: string;\r\n  customexport_no_column: string;\r\n  select_xlsx_notify: string;\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private customDataIEService: CustomDataIEService,\r\n    private notify: NotifyService,\r\n    private loadingService: LoadingService,\r\n    private importService: DataImportService,\r\n    private http: HttpClient) {\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.import_file = res['import_file'];\r\n      this.choose_file = res['choose_file'];\r\n      this.file_type = res['file_type'];\r\n      this.import_placeholder = res['import_placeholder'];\r\n      this.download_template = res['download_template'];\r\n      this.ie_cancel = res['ie_cancel'];\r\n      this.ie_ok = res['ie_ok'];\r\n      this.choose_truefile = res['choose_truefile'];\r\n      this.download_template_ok = res['download_template_ok'];\r\n      this.download_template_fail = res['download_template_fail'];\r\n      this.upload_fail = res['upload_fail'];\r\n      this.import_success = res['import_success'];\r\n      this.import_form_success = res['import_form_success'];\r\n      this.import_fail = res['import_fail'];\r\n      this.upload_filetype_nomatch = res['upload_filetype_nomatch'];\r\n      this.save_customrule_fail = res['save_customrule_fail'];\r\n      this.customexport_no_column = res['customexport_no_column'];\r\n      this.select_xlsx_notify = res['select_xlsx_notify'];\r\n      this.i18nResource = res;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    // ä¸ä¼ æååæ§è¡çäºä»¶\r\n    this.uploader.onSuccessItem = this.Import.bind(this);\r\n    // ä¸ä¼ å¤±è´¥åæ§è¡çäºä»¶\r\n    this.uploader.onErrorItem = this.ErrorLog.bind(this);\r\n    // æ·»å æä»¶åæ§è¡çäºä»¶\r\n    this.uploader.onAfterAddingFile = this.afterAddFile;\r\n    // ä¸ä¼ æä»¶åæ§è¡çäºä»¶\r\n    this.uploader.onBeforeUploadItem = this.SaveCustomImportRule;\r\n  }\r\n\r\n  selectedFileOnChange(event) {\r\n    const str: string = event.target.value;\r\n    if (str === '') {\r\n      return;\r\n    }\r\n    const index = str.lastIndexOf('\\\\');\r\n    this.fileName = str.substring(index + 1);\r\n    // console.log('éåä¸­çæä»¶' + this.uploader.queue[0]);\r\n  }\r\n\r\n  // å³é­çªå£\r\n  public Close() {\r\n    this.needDestroy.emit();\r\n  }\r\n\r\n  // éæ©æä»¶äºä»¶\r\n  public SelectFile(): any {\r\n    this.fileUpload.nativeElement.click();\r\n  }\r\n\r\n  fileTypeValueChange() {\r\n    const suffix = this.getFileExtension();\r\n    if (suffix === '.xlsx') {\r\n      this.notify.info(this.select_xlsx_notify);\r\n    }\r\n    if (suffix !== null) {\r\n      this.acceptFileType = suffix;\r\n    } else {\r\n      this.acceptFileType = '.csv,.xlsm,.xlsx,.xls,.pdf,.xml,.et';\r\n    }\r\n  }\r\n\r\n  //ä¸è½½æ¨¡æ¿\r\n  public DownloadTemplate() {\r\n    //const temRes = JSON.parse(response);\r\n    let suffix = '.xls';\r\n    suffix = this.getFileExtension();\r\n\r\n    if (this.InnerModel !== null) {\r\n      this.eleSelectComp.Save();\r\n      const elements = this.InnerModel.MainObject.Elements;\r\n      const mainObjName = this.InnerModel.MainObject.FileObjectName;\r\n      if (elements == null || elements === undefined || elements.length === 0) {\r\n        this.notify.info(mainObjName + ' ' + this.customexport_no_column);\r\n        return;\r\n      }\r\n      this.customDataIEService.SaveCustomImportRule(this.InnerModel, this.components, this.frameContext, suffix, false, this.i18nId, this.importOption.dimension).subscribe(\r\n        data => {\r\n          if (data['success'] === true) {\r\n            this.customDataIEService.DowmloadTemplate(this.Model, this.frameContext, this.importOption);\r\n            const unsubscriber = this.customDataIEService.complete.subscribe(data => {\r\n              if (data === '') {\r\n                this.notify.success(this.download_template_ok);\r\n                unsubscriber.unsubscribe();\r\n              } else {\r\n                this.notify.error(this.download_template_fail + data);\r\n                unsubscriber.unsubscribe();\r\n              }\r\n            });\r\n          } else {\r\n            this.notify.error(this.save_customrule_fail + data['message']);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  // æ·»å æä»¶åäºä»¶\r\n  afterAddFile(fileItem: FileItem): any {\r\n  }\r\n\r\n  // å¼å§å¯¼å¥\r\n  public Ok() {\r\n    console.log('å¼å§ä¸ä¼ ï¼');\r\n    console.log(this.uploader.queue);\r\n    const loadingConfig = {\r\n      message: this.i18nResource['import_loading']\r\n    };\r\n    this.loadingService.show(loadingConfig);\r\n    const len = this.uploader.queue.length;\r\n    if (len === 0) {\r\n      this.notify.info(this.choose_truefile);\r\n      this.loadingService.clearAll();\r\n      return;\r\n    }\r\n    const lastFileItem = this.uploader.queue[len - 1];\r\n    // this.uploader.uploadAll();\r\n    const befRestService = DataIEUtils.GetBefRestService(this.frameContext.repository);\r\n    const preUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);\r\n    let tempUrl = `${preUrl}/import/Upload`;\r\n    const su = DataIEUtils.getSu(tempUrl);\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcimport/Upload?su=' + su;\r\n    this.uploader.setOptions({\r\n      url: fixedUrl,\r\n      method: 'POST',\r\n      autoUpload: false,\r\n      itemAlias: 'uploadedfile',\r\n      allowedFileType: ['xls', 'xml', 'pdf', 'wps', 'doc'],\r\n      headers: [{name: 'su', value: su}]\r\n    });\r\n    if (this.fileName.split(\".\").length === 2) {\r\n      if (this.getFileExtension() !== (\".\" + this.fileName.split(\".\")[1])) {\r\n        this.notify.info(this.upload_filetype_nomatch);\r\n        this.loadingService.clearAll();\r\n        return;\r\n      }\r\n\r\n    }\r\n    this.uploader.uploadItem(lastFileItem);\r\n\r\n  }\r\n\r\n  // åæ¶äºä»¶\r\n  public Cancel() {\r\n    this.needDestroy.emit();\r\n  }\r\n\r\n  // ä¸ä¼ å¤±è´¥åæ¹æ³\r\n  ErrorLog(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    console.log('ä¸ä¼ å¤±è´¥');\r\n    console.log('éè¯¯ä»£ç ï¼' + status);\r\n    console.log(response);\r\n    console.log(headers);\r\n    if (response !== ' ') {\r\n      const temRes = JSON.parse(response);\r\n      this.notify.info(this.upload_fail + temRes);\r\n      console.log('å¤±è´¥åå ï¼' + temRes);\r\n    }\r\n  }\r\n\r\n  SaveCustomImportRule() {\r\n\r\n  }\r\n\r\n  Import(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    const temRes = JSON.parse(response);\r\n    let suffix = '.xls';\r\n    suffix = this.getFileExtension();\r\n\r\n    if (this.InnerModel !== null) {\r\n      let isForm = false;\r\n      if (this.importOption !== null && this.importOption['IsImportForm'] !== null && this.importOption['IsImportForm'] !== undefined) {\r\n        if (this.importOption['IsImportForm'] === true) {\r\n          isForm = true;\r\n        }\r\n      }\r\n      this.eleSelectComp.Save();\r\n      this.customDataIEService.SaveCustomImportRule(this.InnerModel, this.components, this.frameContext, suffix, isForm, this.i18nId, this.importOption.dimension).subscribe(\r\n        data => {\r\n          if (data['success'] === true) {\r\n            if (data['isImportSub'] == true) {\r\n              this.ImportSubTableByRule(item, response, status, headers);\r\n            } else {\r\n              this.ImportByRule(item, response, status, headers);\r\n            }\r\n          } else {\r\n            this.notify.error(this.save_customrule_fail + data['message']);\r\n            this.loadingService.clearAll();\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      console.log('æ°æ®äº¤æ¢æ¨¡ååæ°å¼ä¸ºç©º');\r\n      this.loadingService.clearAll();\r\n    }\r\n  }\r\n\r\n  ImportByRule(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    console.log(status);\r\n    console.log('ä¸ä¼ å®æï¼');\r\n    if (status == 200) {\r\n      const temRes = JSON.parse(response);\r\n      console.log('ä¸ä¼ æå');\r\n      console.log(temRes);\r\n      const loadingConfig = {\r\n        message: this.i18nResource['import_loading']\r\n      };\r\n      const loadingParam = {\r\n        loadingService: this.loadingService,\r\n        loadingConfig: loadingConfig\r\n      };\r\n      const commonParams = new CommonParams();\r\n      commonParams.keys = ['DataImport', this.Model['MainObject']['Source']['SourceMetadataID'], this.importOption.dimension];\r\n      commonParams.option = this.importOption;\r\n      commonParams.fileName = temRes['fileName'];\r\n      commonParams.repository = this.frameContext.repository;\r\n      commonParams.loadingParam = loadingParam;\r\n      commonParams.i18nResource = this.i18nResource;\r\n      this.customDataIEService.ImportByRule(commonParams);\r\n      const unsubscriber = this.importService.complete.subscribe(data => {\r\n        this.loadingService.clearAll();\r\n        if (data === '') {\r\n          this.notify.success(this.import_success);\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n        } else if (data === 'å¯¼å¥è¡¨åæå') {\r\n          this.notify.success(this.import_form_success);\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n        } else {\r\n          const errorlevel = this.importService.errorlevel;\r\n          if (errorlevel === 'Info') {\r\n            this.notify.info(data);\r\n          } else if (errorlevel === 'Warning') {\r\n            this.notify.warning(data);\r\n          } else {\r\n            this.notify.error(this.import_fail + data);\r\n          }\r\n          unsubscriber.unsubscribe();\r\n          this.needDestroy.emit();\r\n          this.subject.next(false);\r\n          this.subject.complete();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ImportSubTableByRule(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    if (status === 200) {\r\n      const temRes = JSON.parse(response);\r\n      const loadingConfig = {\r\n        message: this.i18nResource['import_loading']\r\n      };\r\n      const loadingParam = {\r\n        loadingService: this.loadingService,\r\n        loadingConfig: loadingConfig\r\n      };\r\n      const commonParams = new CommonParams();\r\n      commonParams.keys = ['DataImport', this.Model['MainObject']['Source']['SourceMetadataID'], this.importOption.dimension];\r\n      commonParams.option = this.importOption;\r\n      commonParams.fileName = temRes['fileName'];\r\n      commonParams.repository = this.frameContext.repository;\r\n      commonParams.frameContext = this.frameContext;\r\n      commonParams.loadingParam = loadingParam;\r\n      commonParams.i18nResource = this.i18nResource;\r\n      const flag = this.customDataIEService.ImportSubTableByRule(commonParams);\r\n      if (flag === false) {\r\n        this.loadingService.clearAll();\r\n      }\r\n      const unsubscriber = this.importService.complete.subscribe(data => {\r\n        this.loadingService.clearAll();\r\n        if (data === '') {\r\n          this.notify.success(this.import_success);\r\n          unsubscriber.unsubscribe();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n          this.needDestroy.emit();\r\n        } else if (data === 'å¯¼å¥è¡¨åæå') {\r\n          this.notify.success(this.import_form_success);\r\n          unsubscriber.unsubscribe();\r\n          this.subject.next(true);\r\n          this.subject.complete();\r\n          this.needDestroy.emit();\r\n        } else {\r\n          const errorlevel = this.importService.errorlevel;\r\n          if (errorlevel === 'Info') {\r\n            this.notify.info(data);\r\n          } else if (errorlevel === 'Warning') {\r\n            this.notify.warning(data);\r\n          } else {\r\n            this.notify.error(this.import_fail + data);\r\n          }\r\n          unsubscriber.unsubscribe();\r\n          this.subject.next(false);\r\n          this.subject.complete();\r\n          this.needDestroy.emit();\r\n        }\r\n        unsubscriber.unsubscribe();\r\n      });\r\n    }\r\n  }\r\n\r\n  getFileExtension(): any {\r\n    let suffix = null;\r\n    switch (this.valueField) {\r\n      case 'Office Excel97-2003(*.xls)':\r\n        suffix = '.xls';\r\n        break;\r\n      case 'Office Excel(*.xlsx)':\r\n        suffix = '.xlsx';\r\n        break;\r\n      case 'Office Excel Macro(*.xlsm)':\r\n        suffix = '.xlsm';\r\n        break;\r\n      case 'WPS Table(*.et)':\r\n        suffix = '.et';\r\n        break;\r\n      case 'WPS Table(Template File)(*.ett)':\r\n        suffix = '.ett';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return suffix;\r\n  }\r\n}\r\n","import {\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter,\n  Injector,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {DataExportService} from '../service/DataIEService/data-export.service';\nimport {NotifyService} from '@farris/ui-notify';\nimport {BindingData, FrameContext} from '@farris/devkit';\nimport {EntityListService} from '@farris/command-services';\nimport {HttpClient} from '@angular/common/http';\nimport {DataIEUtils, FileTypeUtil} from '../service/Utils/DataIEUtils';\nimport {LoadingComponent, LoadingService} from '@farris/ui-loading';\nimport {BsModalService} from '@farris/ui-modal';\nimport {RuleSelectComponent} from '../rule-select/rule-select.component';\nimport {Subject} from 'rxjs';\nimport {FileConst} from '../model/utils/FileConst';\nimport {MethodType} from '../model/DataIEType/MethodType';\n\n@Component({\n  selector: 'app-export-custom-select',\n  templateUrl: './export-custom-select.component.html',\n  styleUrls: ['./export-custom-select.component.css'],\n  providers: [NotifyService, DataExportService, EntityListService, BindingData]\n})\n//èªéæä»¶ç±»åå¯¼åº\nexport class ExportCustomSelectComponent implements OnDestroy {\n  ngOnDestroy(): void {\n  }\n\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\n  @Input()\n  ruleId = '';\n  @Input()\n  methodType: MethodType;\n  @Input()\n  frameContext: FrameContext = null;\n  subject: Subject<Boolean> = null;\n  @Input()\n  exportOption: any = null;\n  @Output()\n  needDestroy = new EventEmitter<boolean>();\n  valueField: any;\n\n  enableRuntimeCustom = false;\n  // è®°å½çè§å\n  recordRule = null;\n  currentRuleName = '';\n  currentRuleId = '';\n  currentRuleFileType = '';\n\n  lookupIcon = '<i class=\"f-icon f-icon-windows\"></i>';\n  loadingComp: LoadingComponent = null;\n\n  public fileListItems = [\n    {id: FileConst.xls, label: FileConst.xls},\n    {id: FileConst.xlsx, label: FileConst.xlsx},\n    {id: FileConst.xlsm, label: FileConst.xlsm},\n    {id: FileConst.et, label: FileConst.et},\n    // { id: FileConst.csv, label: FileConst.csv },\n    // { id: FileConst.pdf, label: FileConst.pdf },\n    // { id: FileConst.xml, lable: FileConst.xml }\n  ];\n\n\n  file_type: string;\n  export_success: string;\n  export_fail: string;\n  ie_cancel: string;\n  ie_ok: string;\n  rule_list: string;\n  i18nResource: any;\n\n  constructor(\n    private dataExportService: DataExportService,\n    private notify: NotifyService,\n    private entityService: EntityListService,\n    private http: HttpClient,\n    private loadingService: LoadingService,\n    private injector: Injector,\n    private modalService: BsModalService,\n    private resolver: ComponentFactoryResolver\n  ) {\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\n      this.export_success = res['export_success'];\n      this.export_fail = res['export_fail'];\n      this.file_type = res['file_type'];\n      this.ie_cancel = res['ie_cancel'];\n      this.ie_ok = res['ie_ok'];\n      this.rule_list = res['rule_list'];\n      this.i18nResource = res;\n    });\n  }\n\n  ngOnInit() {\n    this.currentRuleId = this.recordRule.ruleId;\n    this.currentRuleName = this.recordRule.ruleName;\n    this.valueField = FileTypeUtil.getFileTypeName(this.recordRule.fileType);\n    this.currentRuleFileType = this.valueField;\n    if (this.exportOption.enableRuntimeCustom === true) {\n      this.enableRuntimeCustom = true;\n    }\n  }\n\n  openSelectRule($event) {\n    this.loadingComp = this.loadingService.show();\n    //è¿æ»¤è§åæ¶ç¨è¡¨åå½ä»¤å¤éç½®çè§åæ¥è¿æ»¤ï¼å æ­¤ç¨ruleIdï¼èä¸æ¯currentRuleId\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/filterRulesByRuleIdAndVoId';\n    const body = {\n      ruleId: this.ruleId,\n      ruleType: 1,\n      voId: this.exportOption.voId,\n      methodType: this.methodType,\n      exportChildNodeCode: this.exportOption.exportChildNodeCode\n    };\n    this.http.post(url, body).subscribe((RuleMgrs: any) => {\n      this.loadingService.clearAll();\n      if (RuleMgrs.length === 0) {\n        this.notify.info(this.i18nResource['ruleselect_listempty']);\n        return;\n      }\n      const compFactory = this.resolver.resolveComponentFactory(RuleSelectComponent);\n      const compRef = compFactory.create(this.injector);\n      compRef.instance.ruleId = this.ruleId;\n      compRef.instance.voId = this.exportOption.voId;\n      compRef.instance.ruleType = 1;\n      compRef.instance.RuleMgrsData = RuleMgrs;\n      const modalConfig = {\n        title: this.rule_list,\n        width: 950,\n        height: 500,\n        buttons: compRef.instance.modalFooter,\n        showHeader: true,\n        showMaxButton: false,\n        showButtons: true\n      };\n      const dialog = this.modalService.show(compRef, modalConfig);\n      compRef.instance.closeModal.subscribe(() => {\n        dialog.close();\n      })\n      compRef.instance.okModal.subscribe(RuleMgr => {\n        this.currentRuleId = RuleMgr.id;\n        this.currentRuleName = RuleMgr.name;\n        this.valueField = FileTypeUtil.getFileTypeName(RuleMgr.fileType);\n        this.currentRuleFileType = this.valueField;\n        dialog.close();\n      });\n    }, error => {\n      this.loadingService.clearAll();\n      this.notify.error(error.error.Message);\n      console.log(error.error.Message);\n    });\n  }\n\n  public Ok() {\n    let suffix = null;\n    if (this.valueField !== this.currentRuleFileType) {\n      suffix = FileTypeUtil.getFileExtension(this.valueField);\n    }\n    switch (this.methodType) {\n      case MethodType.CommonExport:\n        this.dataExportService.ExportById(this.currentRuleId, this.frameContext, this.exportOption, suffix);\n        this.exportComplete();\n        break;\n      case MethodType.ExportCurrentTableData:\n        this.dataExportService.ExportCurrentData(this.currentRuleId, this.frameContext, this.entityService.pageIndex,\n          this.entityService.pageSize, this.exportOption, suffix);\n        this.exportComplete();\n        break;\n      case MethodType.ExportCurrentChildData:\n        this.dataExportService.ExportCurrentChildData(this.currentRuleId, this.frameContext, this.exportOption, suffix);\n        this.exportComplete();\n        break;\n    }\n  }\n\n  exportComplete() {\n    const exportUnscribe = this.dataExportService.export.subscribe(data => {\n      if (data === '') {\n        this.notify.success(this.export_success);\n        exportUnscribe.unsubscribe();\n        this.subject.next(true);\n        this.subject.complete();\n      } else {\n        const errorlevel = this.dataExportService.errorlevel;\n        if (errorlevel === 'Info') {\n          this.notify.info(data);\n        } else if (errorlevel === 'Warning') {\n          this.notify.warning(data);\n        } else {\n          this.notify.error(this.export_fail + data);\n        }\n        exportUnscribe.unsubscribe();\n        this.subject.next(false);\n        this.subject.complete();\n      }\n      this.needDestroy.emit();\n    });\n  }\n\n  canSelectFileType() {\n    const suffix = FileTypeUtil.getFileExtension(this.valueField);\n    const canList = ['.xls', '.xlsx', '.xlsm', '.et'];\n    if (canList.findIndex(t => t === suffix) < 0) {\n      return false;\n    }\n    return true;\n  }\n\n  public close() {\n    this.needDestroy.emit();\n  }\n\n  public Cancel() {\n    this.needDestroy.emit(true);\n  }\n}\n","import {\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Injector,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  TemplateRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {FileUploader} from '../service/UploaderService/FileUpload/file-uploader';\r\nimport {FileItem} from '../service/UploaderService/FileUpload/file-item';\r\nimport {ParsedResponseHeaders} from '../service/UploaderService/FileUpload/parsed-response-headers';\r\n\r\nimport {DataImportService} from '../service/DataIEService/data-import.service';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {LoadingService} from '@farris/ui-loading';\r\nimport {MethodType} from '../model/DataIEType/MethodType';\r\nimport {Subject} from 'rxjs';\r\nimport {\r\n  DataIEUtils,\r\n  FileTypeUtil,\r\n  getQueryString,\r\n  isNullOrEmpty,\r\n  isNullOrUndefined\r\n} from '../service/Utils/DataIEUtils';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {BsModalService} from '@farris/ui-modal';\r\nimport {RuleSelectComponent} from '../rule-select/rule-select.component';\r\nimport {MessagerService} from '@farris/ui-messager';\r\nimport {FileConst} from '../model/utils/FileConst';\r\nimport {CommonParams} from \"../service/Entity/CommonParams\";\r\nimport {DataIEResult} from \"../service/Entity/DataIEResult\";\r\nimport {ValidateFormComponent} from \"../validate-form/validate-form.component\";\r\n\r\n@Component({\r\n  selector: 'hlo-import-dialog-handcraft',\r\n  templateUrl: './import-dialog-handcraft.component.html',\r\n  styleUrls: ['./import-dialog-handcraft.component.scss']\r\n})\r\nexport class ImportDialogHandcraftComponent implements OnDestroy {\r\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\r\n  // è§åID è¯¥idä¸ºè¡¨åä¸éç½®çè§åid\r\n  @Input()\r\n  ruleId = '';\r\n  // è¿æ»¤æ¡ä»¶\r\n  @Input()\r\n  importOption: any = null;\r\n  @Input()\r\n  methodType: MethodType;\r\n  @Input()\r\n  subject: Subject<any> = null;\r\n  selectrule = false;\r\n  // è®°å½çè§å\r\n  @Input()\r\n  recordRule = null;\r\n  selectfiletype = null;\r\n  extendInfo: any;\r\n  currentRuleName = '';\r\n  currentRuleId = '';\r\n  currentRuleFileType = '';\r\n  enableTemplate = true;\r\n  closeXLSX = false;\r\n  enableSecurityLevelSelect = false;\r\n  securityLevelName = '';\r\n\r\n  ImportSecretRemindInfo = '';\r\n\r\n  acceptFileType = '.csv,.xlsm,.xlsx,.xls,.pdf,.xml,.et';\r\n  // æä»¶åç§°\r\n  fileName = '';\r\n  //   loadingComp: LoadingComponent = null;\r\n  @ViewChild('fileUpload')\r\n  fileUpload: ElementRef;\r\n  private origin = window.location.origin;\r\n  uploader = new FileUploader({\r\n    url: '',\r\n    method: 'POST',\r\n    autoUpload: false,\r\n    itemAlias: 'uploadedfile'\r\n  });\r\n  // æ§å¶Destroyè¡¨åä¸­çè¾å¥ç»ä»¶\r\n  @Output()\r\n  needDestroy = new EventEmitter();\r\n\r\n  showfiletype = true;\r\n  enableRuntimeCustom = false;\r\n  valueField: any = null;\r\n\r\n  //å½éåç¸å³åé\r\n  import_file: string;\r\n  choose_file: string;\r\n  import_placeholder: string;\r\n  file_type: string;\r\n  download_template: string;\r\n  ie_cancel: string;\r\n  ie_ok: string;\r\n  choose_truefile: string;\r\n  download_template_ok: string;\r\n  download_template_fail: string;\r\n  upload_fail: string;\r\n  import_success: string;\r\n  import_form_success: string;\r\n  import_fail: string;\r\n  rule_list: string;\r\n  select_xlsx_notify: string;\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private dataImportService: DataImportService,\r\n    private notify: NotifyService,\r\n    private loadingService: LoadingService,\r\n    private http: HttpClient,\r\n    private injector: Injector,\r\n    private modalService: BsModalService,\r\n    private msgService: MessagerService,\r\n    private resolver: ComponentFactoryResolver\r\n  ) {\r\n    this.uploader.onSuccessItem = this.Import.bind(this);\r\n    this.uploader.onErrorItem = this.ErrorLog.bind(this);\r\n    this.uploader.onAfterAddingFile = this.afterAddFile;\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.import_file = res['import_file'];\r\n      this.choose_file = res['choose_file'];\r\n      this.file_type = res['file_type'];\r\n      this.import_placeholder = res['import_placeholder'];\r\n      this.download_template = res['download_template'];\r\n      this.ie_cancel = res['ie_cancel'];\r\n      this.ie_ok = res['ie_ok'];\r\n      this.choose_truefile = res['choose_truefile'];\r\n      this.download_template_ok = res['download_template_ok'];\r\n      this.download_template_fail = res['download_template_fail'];\r\n      this.upload_fail = res['upload_fail'];\r\n      this.import_success = res['import_success'];\r\n      this.import_form_success = res['import_form_success'];\r\n      this.import_fail = res['import_fail'];\r\n      this.rule_list = res['rule_list'];\r\n      this.select_xlsx_notify = res['select_xlsx_notify'];\r\n      this.i18nResource = res;\r\n    });\r\n\r\n  }\r\n\r\n  lookupIcon = '<i class=\"f-icon f-icon-windows\"></i>';\r\n\r\n  public fileListItems = [\r\n    {id: FileConst.xls, label: FileConst.xls},\r\n    {id: FileConst.xlsx, label: FileConst.xlsx},\r\n    {id: FileConst.xlsm, label: FileConst.xlsm},\r\n    {id: FileConst.et, label: FileConst.et},\r\n    // { id: FileConst.csv, label: FileConst.csv },\r\n    // { id: FileConst.pdf, label: FileConst.pdf },\r\n    // { id: FileConst.xml, lable: FileConst.xml }\r\n  ];\r\n  securityLevelItems = [];\r\n\r\n  ngOnInit() {\r\n    if (this.importOption.selectfiletype === true) {\r\n      this.selectfiletype = this.importOption.selectfiletype;\r\n      if (this.importOption.suffix !== undefined && this.importOption.suffix !== null) {\r\n        this.valueField = FileTypeUtil.getFileTypeName(this.importOption.suffix.toUpperCase());\r\n      }\r\n    }\r\n    let extendInfo = this.recordRule.extendInfo;\r\n    if (!isNullOrUndefined(extendInfo)) {\r\n      this.extendInfo = JSON.parse(extendInfo);\r\n      this.ImportSecretRemindInfo = this.extendInfo['ImportSecretRemindInfo'];\r\n      this.closeXLSX = this.extendInfo['closeXLSX'];\r\n      if (this.closeXLSX === true) {\r\n        this.fileListItems = [\r\n          {id: FileConst.xls, label: FileConst.xls},\r\n          {id: FileConst.xlsm, label: FileConst.xlsm},\r\n          {id: FileConst.et, label: FileConst.et}\r\n        ];\r\n      }\r\n    }\r\n    const securityLevels = this.recordRule.securityLevels;\r\n    if (!isNullOrEmpty(securityLevels)) {\r\n      this.enableSecurityLevelSelect = true;\r\n      securityLevels.forEach(e => {\r\n        const level = {\r\n          value: e.name,\r\n          label: e.name\r\n        };\r\n        this.securityLevelItems.push(level);\r\n      });\r\n      this.securityLevelName = this.securityLevelItems[0].value;\r\n    }\r\n    this.currentRuleId = this.recordRule.ruleId;\r\n    this.currentRuleName = this.recordRule.ruleName;\r\n    this.valueField = FileTypeUtil.getFileTypeName(this.recordRule.fileType);\r\n    if (this.valueField === '') {\r\n      //æªå¨å½åå¯éæä»¶çç±»åæ¶ï¼ä¸æ¾ç¤ºéæä»¶ç±»åæ§ä»¶\r\n      this.showfiletype = false;\r\n    }\r\n    this.currentRuleFileType = this.valueField;\r\n    this.controlFileType();\r\n    if (this.importOption.enableRuntimeCustom === true) {\r\n      this.enableRuntimeCustom = true;\r\n    }\r\n  }\r\n\r\n\r\n  openSelectRule($event) {\r\n    this.loadingService.show();\r\n    //è¿æ»¤è§åæ¶ç¨è¡¨åå½ä»¤å¤éç½®çè§åæ¥è¿æ»¤ï¼å æ­¤ç¨ruleIdï¼èä¸æ¯currentRuleId\r\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/filterRulesByRuleIdAndVoId';\r\n    const body = {\r\n      ruleId: this.ruleId,\r\n      ruleType: 0,\r\n      voId: this.importOption.voId,\r\n      methodType: this.methodType,\r\n      importChildNodeCode: this.importOption.importChildNodeCode,\r\n      closeXlsx: this.closeXLSX\r\n    };\r\n    this.http.post(url, body).subscribe((RuleMgrs: any) => {\r\n      this.loadingService.clearAll();\r\n      if (RuleMgrs.length === 0) {\r\n        this.notify.info(this.i18nResource['ruleselect_listempty']);\r\n        return;\r\n      }\r\n      const compFactory = this.resolver.resolveComponentFactory(RuleSelectComponent);\r\n      const compRef = compFactory.create(this.injector);\r\n      compRef.instance.ruleId = this.ruleId;\r\n      compRef.instance.voId = this.importOption.voId;\r\n      compRef.instance.ruleType = 0;\r\n      compRef.instance.RuleMgrsData = RuleMgrs;\r\n      const modalConfig = {\r\n        title: this.rule_list,\r\n        width: 950,\r\n        height: 500,\r\n        buttons: compRef.instance.modalFooter,\r\n        showHeader: true,\r\n        showMaxButton: false,\r\n        showButtons: true\r\n      };\r\n      const dialog = this.modalService.show(compRef, modalConfig);\r\n      compRef.instance.closeModal.subscribe(() => {\r\n        dialog.close();\r\n      })\r\n      compRef.instance.okModal.subscribe(RuleMgr => {\r\n        this.currentRuleId = RuleMgr.id;\r\n        this.currentRuleName = RuleMgr.name;\r\n        this.valueField = FileTypeUtil.getFileTypeName(RuleMgr.fileType);\r\n        this.currentRuleFileType = this.valueField;\r\n        this.controlFileType();\r\n        dialog.close();\r\n      });\r\n    }, error => {\r\n      this.loadingService.clearAll();\r\n      this.notify.error(error.error.Message);\r\n      console.log(error.error.Message);\r\n    });\r\n  }\r\n\r\n\r\n  getFileExtension(): any {\r\n    let suffix = null;\r\n    switch (this.valueField) {\r\n      case FileConst.xls:\r\n        suffix = '.xls';\r\n        break;\r\n      case FileConst.xlsx:\r\n        suffix = '.xlsx';\r\n        break;\r\n      case FileConst.xlsm:\r\n        suffix = '.xlsm';\r\n        break;\r\n      case FileConst.et:\r\n        suffix = '.et';\r\n        break;\r\n      case FileConst.xml:\r\n        suffix = '.xml';\r\n        break;\r\n      case FileConst.pdf:\r\n        suffix = '.pdf';\r\n        break;\r\n      case FileConst.csv:\r\n        suffix = '.csv';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return suffix;\r\n  }\r\n\r\n  canDownloadTemplate() {\r\n    const suffix = this.getFileExtension();\r\n    const canList = ['.xls', '.xlsx', '.xlsm', '.et'];\r\n    if (canList.findIndex(t => t === suffix) < 0) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n  }\r\n\r\n  // éæ©æä»¶åäºä»¶\r\n  selectedFileOnChange(event) {\r\n    const str: string = event.target.value;\r\n    if (str === '') {\r\n      return;\r\n    }\r\n    const index = str.lastIndexOf('\\\\');\r\n    this.fileName = str.substring(index + 1);\r\n    if (this.fileName.split(\".\").length === 2 && this.fileName.split(\".\")[1] === \"jpg\") {\r\n      this.uploader.queue = [];\r\n      this.notify.info(this.choose_truefile);\r\n      return;\r\n    }\r\n    // console.log('éåä¸­çæä»¶' + this.uploader.queue[0]);\r\n  }\r\n\r\n  // å³é­çªå£\r\n  public Close() {\r\n    this.needDestroy.emit();\r\n  }\r\n\r\n  // éæ©æä»¶äºä»¶\r\n  public SelectFile(): any {\r\n    this.fileUpload.nativeElement.click();\r\n  }\r\n\r\n  fileTypeValueChange() {\r\n    if (this.controlFileType() === '.xlsx') {\r\n      this.notify.info(this.select_xlsx_notify);\r\n    }\r\n  }\r\n\r\n  controlFileType() {\r\n    const suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    if (suffix !== null) {\r\n      this.acceptFileType = suffix;\r\n    } else {\r\n      this.acceptFileType = '*';\r\n    }\r\n    return suffix;\r\n  }\r\n\r\n  // ä¸è½½æ¨¡æ¿\r\n  public DownloadTemplate() {\r\n    this.loadingService.show();\r\n    let suffix = null;\r\n    if (this.canDownloadTemplate() && this.valueField !== this.currentRuleFileType) {\r\n      suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    }\r\n    this.importOption['securityLevelName'] = this.securityLevelName;\r\n    this.dataImportService.DowmloadTemplate4HandCraft(this.currentRuleId, this.importOption, suffix);\r\n\r\n    // this.dataImportService.complete.unsubscribe();\r\n    const unsubscriber = this.dataImportService.complete.subscribe(data => {\r\n      this.loadingService.clearAll();\r\n      if (data === '') {\r\n        this.notify.success(this.download_template_ok);\r\n        unsubscriber.unsubscribe();\r\n      } else {\r\n        this.notify.error(this.download_template_fail + data);\r\n        unsubscriber.unsubscribe();\r\n      }\r\n    }, error => {\r\n      this.loadingService.clearAll();\r\n      this.notify.error(error.message);\r\n    });\r\n  }\r\n\r\n  // æ·»å æä»¶åäºä»¶\r\n  afterAddFile(fileItem: FileItem): any {\r\n  }\r\n\r\n  // å¼å§å¯¼å¥\r\n  public Ok() {\r\n    console.log('å¼å§ä¸ä¼ ï¼');\r\n    console.log(this.uploader.queue);\r\n    const loadingConfig = {\r\n      message: this.i18nResource['import_loading']\r\n    };\r\n    this.loadingService.show(loadingConfig);\r\n    const len = this.uploader.queue.length;\r\n    if (len === 0) {\r\n      this.notify.info(this.choose_truefile);\r\n      this.loadingService.clearAll();\r\n      return;\r\n    }\r\n    const lastFileItem = this.uploader.queue[len - 1];\r\n    const maxFileSize = this.recordRule.importFileMaxSize * 1024 * 1024;\r\n    if (lastFileItem.file.size > maxFileSize) {\r\n      this.notify.warning(this.i18nResource['importfile_toobig'] + this.recordRule.importFileMaxSize + 'MB');\r\n      this.loadingService.clearAll();\r\n      return;\r\n    }\r\n    const su = this.importOption.su;\r\n    const fixedUrl = this.origin + '/api/runtime/dip/v1.0/AllSteps/dataimportvmaction?su=' + su;\r\n    let headers = [{name: 'su', value: su}];\r\n    if (!isNullOrUndefined(this.extendInfo)) {\r\n      const enableSecurityLevel = this.extendInfo['enableSecurityLevel'] as boolean;\r\n      if (enableSecurityLevel) {\r\n        headers.push({name: 'enableSecurityLevel', value: enableSecurityLevel});\r\n        const securityLevelPrefix = this.extendInfo['securityLevelPrefix'];\r\n        const securityLevelSuffix = this.extendInfo['securityLevelSuffix'];\r\n        headers.push({name: 'securityLevelPrefix', value: encodeURIComponent(securityLevelPrefix)});\r\n        headers.push({name: 'securityLevelSuffix', value: encodeURIComponent(securityLevelSuffix)});\r\n        headers.push({name: 'securityLevelName', value: encodeURIComponent(this.securityLevelName)});\r\n      }\r\n    }\r\n    let suffix = '';\r\n    if (this.canDownloadTemplate() && this.valueField !== this.currentRuleFileType) {\r\n      suffix = FileTypeUtil.getFileExtension(this.valueField);\r\n    }\r\n    let globalVar = '';\r\n    if (!isNullOrUndefined(this.importOption['GlobalParam'])) {\r\n      if (typeof (this.importOption['GlobalParam']) === 'object') {\r\n        globalVar = JSON.stringify(this.importOption['GlobalParam']);\r\n      } else {\r\n        globalVar = this.importOption['GlobalParam'];\r\n      }\r\n    }\r\n    let funcId = '';\r\n    if(!isNullOrUndefined(this.importOption.funcId)){\r\n      funcId = this.importOption.funcId;\r\n    }\r\n    headers.push({name: 'ruleId', value: this.currentRuleId});\r\n    headers.push({name: 'globalParam', value: globalVar});\r\n    headers.push({name: 'suffix', value: suffix});\r\n    headers.push({name: 'funcId', value: funcId});\r\n    headers.push({name: 'securityLevelName', value: this.securityLevelName});\r\n\r\n    this.uploader.setOptions({\r\n      url: fixedUrl,\r\n      method: 'POST',\r\n      autoUpload: false,\r\n      itemAlias: 'uploadedfile',\r\n      headers: headers\r\n    });\r\n    this.uploader.uploadItem(lastFileItem);\r\n  }\r\n\r\n  // åæ¶äºä»¶\r\n  public Cancel() {\r\n    this.needDestroy.emit();\r\n  }\r\n\r\n  // ä¸ä¼ å¤±è´¥åæ¹æ³\r\n  ErrorLog(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    this.loadingService.clearAll();\r\n    try{\r\n      const temRes = JSON.parse(response);\r\n      this.msgService.error(this.upload_fail + temRes.message);\r\n    } catch{\r\n      this.msgService.error(this.upload_fail + response);\r\n    }\r\n    this.Close();\r\n    const len = this.uploader.queue.length;\r\n    if (len > 0) {\r\n      this.uploader.queue.splice(0, 1);\r\n    }\r\n  }\r\n\r\n  Import(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    switch (this.methodType) {\r\n      case MethodType.CommonImport:\r\n        this.DataImportById(item, response, status, headers);\r\n        break;\r\n      case MethodType.ImportSubTableDetail:\r\n        // this.ImportSubTable(item, response, status, headers, suffix);\r\n        break;\r\n    }\r\n  }\r\n\r\n  // æ¾ç¤ºæ ¡éªç»æ\r\n  private ShowValidatedResult(commonParams: CommonParams) {\r\n    const importResult = commonParams.importResult;\r\n    const loadingParam = commonParams.loadingParam;\r\n    if (importResult.validatedResults && importResult.validatedResults.length > 0) {\r\n      loadingParam.loadingService.clearAll();\r\n      const compFactory = this.resolver.resolveComponentFactory(ValidateFormComponent);\r\n      const cmpRef = compFactory.create(this.injector);\r\n      cmpRef.instance.validateResult = importResult.validatedResults;\r\n      cmpRef.instance.su = commonParams.su;\r\n      cmpRef.instance.i18nResource = commonParams.i18nResource;\r\n      cmpRef.instance.loadingParam = loadingParam;\r\n      const validateModalConfig = {\r\n        title: this.i18nResource['validate_result_show'],\r\n        width: 950,\r\n        height: 550,\r\n        buttons: cmpRef.instance.modalFooter,\r\n        showHeader: true,\r\n        showMaxButton: false,\r\n        showButtons: true\r\n      };\r\n\r\n      const dialog = this.modalService.show(cmpRef, validateModalConfig);\r\n      //0ä»£è¡¨æé®ä¸­æ­¢æXç¹å»ï¼1ä»£è¡¨æé®ç»§ç»­\r\n      let closed = 0;\r\n      dialog.dialog.instance.closed.subscribe(() => {\r\n        if (closed === 0) {\r\n          this.notify.info(this.i18nResource['after_validate_suspend']);\r\n          this.needDestroy.emit();\r\n        }\r\n      });\r\n      cmpRef.instance.closeModal.subscribe(() => {\r\n        closed = 0;\r\n        dialog.close();\r\n      });\r\n      cmpRef.instance.okModal.subscribe((validatedInfoList) => {\r\n        closed = 1;\r\n        dialog.close();\r\n        loadingParam.loadingService.show(loadingParam.loadingConfig);\r\n        commonParams.importParam['validatedInfoList'] = validatedInfoList;\r\n        //todo\r\n        // this.Import4HandCraft(commonParams);\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  // ä¸ä¼ æååæ¹æ³\r\n  DataImportById(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): any {\r\n    console.log(status);\r\n    this.loadingService.clearAll();\r\n    let importResult = JSON.parse(response) as DataIEResult;\r\n    const loadingConfig = {\r\n      message: this.i18nResource['import_loading']\r\n    };\r\n    const loadingParam = {\r\n      loadingService: this.loadingService,\r\n      loadingConfig: loadingConfig\r\n    };\r\n    const commonParams = new CommonParams();\r\n    commonParams.loadingParam = loadingParam;\r\n    commonParams.i18nResource = this.i18nResource;\r\n    commonParams.su = this.importOption.su;\r\n    commonParams.importResult = importResult;\r\n    if (importResult.succeed === true) {\r\n      if (importResult.formData && importResult.formData.length > 0) {\r\n        if(typeof (importResult.formData[0]) !== 'object'){\r\n          const formDataObjArray = [];\r\n          importResult.formData.forEach(e=>{\r\n            formDataObjArray.push(JSON.parse(e));\r\n          });\r\n          importResult.formData = formDataObjArray;\r\n        }\r\n      }\r\n      this.needDestroy.emit(importResult);\r\n      //å¯¼å¥æåå¦æå±ç¤ºæ ¡éªç»æï¼åªè½æ¯æ ¡éªç­ç¥æ¯å¿½ç¥ï¼æææ ¡éªç»æé½æ¯error\r\n      this.ShowValidatedResult(commonParams);\r\n    } else {\r\n      if (importResult.validatedResults && importResult.validatedResults.length > 0) {\r\n        this.ShowValidatedResult(commonParams);\r\n      } else {\r\n        const errorlevel = importResult.errorLevel;\r\n        if (errorlevel === 'Info') {\r\n          this.notify.info(importResult.message);\r\n        } else if (errorlevel === 'Warning') {\r\n          this.msgService.warning(importResult.message);\r\n        } else {\r\n          this.msgService.error(this.import_fail + importResult.message);\r\n        }\r\n        this.needDestroy.emit(importResult);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import {\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter,\n  Injector,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {MethodType} from \"../model/DataIEType/MethodType\";\nimport {FrameContext} from \"@farris/devkit\";\nimport {Subject} from \"rxjs\";\nimport {LoadingComponent, LoadingService} from \"@farris/ui-loading\";\nimport {FileConst} from \"../model/utils/FileConst\";\nimport {DataExportService} from \"../service/DataIEService/data-export.service\";\nimport {NotifyService} from \"@farris/ui-notify\";\nimport {EntityListService} from \"@farris/command-services\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {BsModalService} from \"@farris/ui-modal\";\nimport {DataIEUtils, FileTypeUtil} from \"../service/Utils/DataIEUtils\";\nimport {RuleSelectComponent} from \"../rule-select/rule-select.component\";\n\n@Component({\n  selector: 'lib-export-custom-select-handcraft',\n  templateUrl: './export-custom-select-handcraft.component.html',\n  styleUrls: ['./export-custom-select-handcraft.component.css']\n})\nexport class ExportCustomSelectHandcraftComponent implements OnInit {\n\n  ngOnDestroy(): void {\n  }\n\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\n  @Input()\n  ruleId = '';\n  @Input()\n  methodType: MethodType;\n  @Input()\n  frameContext: FrameContext = null;\n  subject: Subject<any> = null;\n  @Input()\n  exportOption: any = null;\n  @Output()\n  needDestroy = new EventEmitter<boolean>();\n\n  valueField: any;\n\n  enableRuntimeCustom = false;\n  // è®°å½çè§å\n  recordRule = null;\n  currentRuleName = '';\n  currentRuleId = '';\n  currentRuleFileType = '';\n\n  lookupIcon = '<i class=\"f-icon f-icon-windows\"></i>';\n  loadingComp: LoadingComponent = null;\n\n  public fileListItems = [\n    {id: FileConst.xls, label: FileConst.xls},\n    {id: FileConst.xlsx, label: FileConst.xlsx},\n    {id: FileConst.xlsm, label: FileConst.xlsm},\n    {id: FileConst.et, label: FileConst.et},\n    // { id: FileConst.csv, label: FileConst.csv },\n    // { id: FileConst.pdf, label: FileConst.pdf },\n    // { id: FileConst.xml, lable: FileConst.xml }\n  ];\n\n\n  file_type: string;\n  export_success: string;\n  export_fail: string;\n  ie_cancel: string;\n  ie_ok: string;\n  rule_list: string;\n  i18nResource: any;\n\n  constructor(\n    private dataExportService: DataExportService,\n    private notify: NotifyService,\n    private http: HttpClient,\n    private loadingService: LoadingService,\n    private injector: Injector,\n    private modalService: BsModalService,\n    private resolver: ComponentFactoryResolver\n  ) {\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\n      this.export_success = res['export_success'];\n      this.export_fail = res['export_fail'];\n      this.file_type = res['file_type'];\n      this.ie_cancel = res['ie_cancel'];\n      this.ie_ok = res['ie_ok'];\n      this.rule_list = res['rule_list'];\n      this.i18nResource = res;\n    });\n  }\n\n  ngOnInit() {\n    this.currentRuleId = this.recordRule.ruleId;\n    this.currentRuleName = this.recordRule.ruleName;\n    this.valueField = FileTypeUtil.getFileTypeName(this.recordRule.fileType);\n    this.currentRuleFileType = this.valueField;\n    if (this.exportOption.enableRuntimeCustom === true) {\n      this.enableRuntimeCustom = true;\n    }\n  }\n\n  openSelectRule($event) {\n    this.loadingComp = this.loadingService.show();\n    //è¿æ»¤è§åæ¶ç¨è¡¨åå½ä»¤å¤éç½®çè§åæ¥è¿æ»¤ï¼å æ­¤ç¨ruleIdï¼èä¸æ¯currentRuleId\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/filterRulesByRuleIdAndVoId';\n    const body = {\n      ruleId: this.ruleId,\n      ruleType: 1,\n      voId: this.exportOption.voId,\n      methodType: this.methodType,\n      exportChildNodeCode: this.exportOption.exportChildNodeCode\n    };\n    this.http.post(url, body).subscribe((RuleMgrs: any) => {\n      this.loadingService.clearAll();\n      if (RuleMgrs.length === 0) {\n        this.notify.info(this.i18nResource['ruleselect_listempty']);\n        return;\n      }\n      const compFactory = this.resolver.resolveComponentFactory(RuleSelectComponent);\n      const compRef = compFactory.create(this.injector);\n      compRef.instance.ruleId = this.ruleId;\n      compRef.instance.voId = this.exportOption.voId;\n      compRef.instance.ruleType = 1;\n      compRef.instance.RuleMgrsData = RuleMgrs;\n      const modalConfig = {\n        title: this.rule_list,\n        width: 950,\n        height: 500,\n        buttons: compRef.instance.modalFooter,\n        showHeader: true,\n        showMaxButton: false,\n        showButtons: true\n      };\n      const dialog = this.modalService.show(compRef, modalConfig);\n      compRef.instance.closeModal.subscribe(() => {\n        dialog.close();\n      })\n      compRef.instance.okModal.subscribe(RuleMgr => {\n        this.currentRuleId = RuleMgr.id;\n        this.currentRuleName = RuleMgr.name;\n        this.valueField = FileTypeUtil.getFileTypeName(RuleMgr.fileType);\n        this.currentRuleFileType = this.valueField;\n        dialog.close();\n      });\n    }, error => {\n      this.loadingService.clearAll();\n      this.notify.error(error.error.Message);\n      console.log(error.error.Message);\n    });\n  }\n\n  public Ok() {\n    let suffix = null;\n    if (this.valueField !== this.currentRuleFileType) {\n      suffix = FileTypeUtil.getFileExtension(this.valueField);\n    }\n    switch (this.methodType) {\n      case MethodType.CommonExport:\n        this.dataExportService.ExportById4HandCraft(this.currentRuleId, this.exportOption, suffix);\n        this.exportComplete();\n        break;\n      case MethodType.ExportCurrentTableData:\n        this.notify.warning('ä¸æ¯æå¯¼åºå½åé¡µ');\n        this.exportComplete();\n        break;\n      case MethodType.ExportCurrentChildData:\n        this.notify.warning('ä¸æ¯æå¯¼åºå­è¡¨æ°æ®');\n        this.exportComplete();\n        break;\n    }\n  }\n\n  exportComplete() {\n    const exportUnscribe = this.dataExportService.export.subscribe(data => {\n      if (data === '') {\n        this.notify.success(this.export_success);\n        exportUnscribe.unsubscribe();\n        const res = {\n          type: 'success',\n          data: null,\n          other: null\n        };\n        this.subject.next(res);\n        this.subject.complete();\n      } else {\n        const errorlevel = this.dataExportService.errorlevel;\n        if (errorlevel === 'Info') {\n          this.notify.info(data);\n        } else if (errorlevel === 'Warning') {\n          this.notify.warning(data);\n        } else {\n          this.notify.error(this.export_fail + data);\n        }\n        const res = {\n          type: 'fail',\n          data: null,\n          other: data\n        };\n        this.subject.next(res);\n        this.subject.complete();\n      }\n      exportUnscribe.unsubscribe();\n      this.needDestroy.emit();\n    });\n  }\n\n  canSelectFileType() {\n    const suffix = FileTypeUtil.getFileExtension(this.valueField);\n    const canList = ['.xls', '.xlsx', '.xlsm', '.et'];\n    if (canList.findIndex(t => t === suffix) < 0) {\n      return false;\n    }\n    return true;\n  }\n\n  public close() {\n    this.needDestroy.emit();\n  }\n\n  public Cancel() {\n    this.needDestroy.emit(true);\n  }\n\n}\n","import { Injectable, ComponentFactoryResolver, Injector } from '@angular/core';\nimport { ExportDialogComponent } from '../../custom-export-dialog/export-dialog.component';\nimport { DataExportService } from './data-export.service';\nimport { NotifyService } from '@farris/ui-notify';\nimport { Subject, Observable, of } from 'rxjs';\nimport { ImportDialogComponent } from '../../import-dialog/import-dialog.component';\nimport { MethodType } from '../../model/DataIEType/MethodType';\nimport { BsModalService } from '@farris/ui-modal';\nimport { DataIEResult } from '../Entity/DataIEResult';\nimport { ExportCustomSelectComponent } from '../../export-custom-select/export-custom-select.component';\nimport { ExportMethodType } from '../../model/DataIEType/ExportMethodType';\nimport {DataIEUtils, isNullOrEmpty, isNullOrUndefined} from '../Utils/DataIEUtils';\nimport { HttpClient } from '@angular/common/http';\nimport { FrameContext } from '@farris/devkit';\nimport { EntityListService } from '@farris/command-services';\nimport { CustomDataIEService } from './custom-data-ie.service';\nimport { CustomImportDialogComponent } from '../../custom-import-dialog/custom-import-dialog.component';\nimport { PageInfo } from '../Entity/PageInfo';\nimport { ImportDialogHandcraftComponent } from '../../import-dialog-handcraft/import-dialog-handcraft.component';\nimport {LoadingService} from \"@farris/ui-loading\";\nimport {ExportCustomSelectHandcraftComponent} from \"../../export-custom-select-handcraft/export-custom-select-handcraft.component\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataieHandcraftService {\n\n  data_import: string;\n  data_export: string;\n  data_export_customfile: string;\n  export_success: string;\n  export_fail: string;\n  i18nResource: any;\n  constructor(\n    private resolver: ComponentFactoryResolver,\n    private modalService: BsModalService,\n    private injector: Injector,\n    private dataExportService: DataExportService,\n    private notify: NotifyService,\n    private customIEService: CustomDataIEService,\n    private http: HttpClient,\n    private loadingService: LoadingService\n  ) {\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\n      this.data_import = res['data_import'];\n      this.data_export = res['data_export'];\n      this.export_success = res['export_success'];\n      this.export_fail = res['export_fail'];\n      this.data_export_customfile = res['data_export_customfile'];\n      this.i18nResource = res;\n    })\n  }\n\n  /**\n   * éç¨å¯¼åºæ¹æ³\n   * @param type\n   * @param ruleID\n   * @param option\n   */\n  public CommonDataExport(type: any, ruleID: string, option: string): Observable<any> {\n    if (type === 1) {\n      console.log('æ§è¡æ¹æ³ï¼ExportCurrentListData');\n      throw new Error('ä¸æ¯æéç½®è¯¥ç±»å:1');\n    } else if (type === 2) {\n      console.log('æ§è¡æ¹æ³ï¼ExportByModel');\n      throw new Error('ä¸æ¯æéç½®è¯¥ç±»å:2');\n    } else if (type === 3) {\n      console.log('æ§è¡æ¹æ³ï¼ExportCurrentChildData');\n      // return this.ExportCurrentChildData(ruleID, option);\n      throw new Error('ä¸æ¯æéç½®è¯¥ç±»å:3');\n    } else if (type === 0) {\n      console.log('æ§è¡æ¹æ³ï¼ExportByRule');\n      return this.ExportByRule(ruleID, option);\n    } else {\n      console.log('æ§è¡æ¹æ³ï¼ExportByRule');\n      return this.ExportByRule(ruleID, option);\n    }\n  }\n\n  public ExportByRule(ruleID: string, option: any) {\n    const subject = new Subject<any>();\n    this.ExportCommonEntry(ruleID, option, MethodType.CommonExport).subscribe(s => {\n      subject.next(s);\n      subject.complete();\n    });\n    return subject;\n  }\n  public ExportCurrentChildData(ruleID: string, option: string): Observable<any> {\n    const subject = new Subject<any>();\n    this.ExportCommonEntry(ruleID, option, MethodType.ExportCurrentChildData).subscribe(s => {\n      subject.next(s);\n      subject.complete();\n    });\n    return subject;\n  }\n  private ExportCommonEntry(ruleID: string, option: string, methodType: MethodType): Observable<any> {\n    const subject = new Subject<any>();\n    const optionJson = this.ParseExportJson(option);\n    console.log(optionJson);\n    if (isNullOrEmpty(ruleID) && isNullOrEmpty(optionJson.voId)) {\n      this.notify.warning(\"æªéç½®è§åidï¼ä¸æ æ³è·åå°è¡¨åå¯¹åºçvoIdï¼è¯·æ£æ¥\");\n      const res = {\n        type: 'close',\n        data: null,\n        other: null\n      };\n      subject.next(res);\n      return subject;\n    }\n    if (methodType === MethodType.ExportCurrentChildData) {\n      if (isNullOrEmpty(ruleID) && isNullOrEmpty(optionJson.exportChildNodeCode)) {\n        //å¯¼åºå­è¡¨å½è§åidä¸ºç©ºæ¶ï¼æ ¹æ®voæ¾è§åï¼å¿é¡»è¦æ±æéç½®å­è¡¨èç¹\n        this.notify.warning(\"è§åidä¸ºç©ºæ¶ï¼æ ¹æ®Voæ¥æ¾è§åï¼å¯¼åºå­è¡¨å¿é¡»éç½®å­è¡¨èç¹\");\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n        return subject;\n      }\n    }\n    if (isNullOrEmpty(ruleID) || optionJson.enableRuntimeCustom === true) {\n      this.StartLoading();\n      const url = '/api/runtime/dip/v1.0/dataIeRuleManage/getRecordRuleInfo';\n      const postBody = {\n        body: {\n          ruleId: ruleID,\n          ruleType: 1,\n          voId: optionJson.voId,\n          needModelConvert: optionJson.needModelConvert === true,\n          methodType: methodType,\n          exportChildNodeCode: optionJson.exportChildNodeCode,\n          enableRuntimeCustom: optionJson.enableRuntimeCustom === true\n        }\n      };\n\n      this.http.post(url, postBody.body).subscribe((recordRule:any) => {\n        this.CloseLoading();\n        optionJson.voId = recordRule.voId;\n        this.ExportByRuleImpl(ruleID, optionJson, methodType, recordRule).subscribe(s => {\n          subject.next(s);\n          subject.complete();\n        });\n      }, error => {\n        this.CloseLoading();\n        this.notify.error(error.error.Message);\n        console.log(error.error.Message);\n        const res = {\n          type: 'close',\n          data: null,\n          other: error.error.Message\n        };\n        subject.next(res);\n      });\n    } else {\n      this.ExportByRuleImpl(ruleID, optionJson, methodType).subscribe(s => {\n        subject.next(s);\n        subject.complete();\n      });\n    }\n    return subject;\n  }\n\n  private ExportByRuleImpl(ruleID: string, optionJson: any, mType: MethodType, recordRule?: any) {\n    const subject = new Subject<any>();\n    if (optionJson.customExportTitle !== undefined && optionJson.customExportTitle !== null) {\n      if (optionJson.customExportTitle.length > 20) {\n        this.notify.warning('èªå®ä¹æ é¢åç§°çé¿åº¦å¤ªé¿');\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n        return subject;\n      }\n      if (DataIEUtils.JudgeIllegalChar(optionJson.customExportTitle)) {\n        this.notify.warning('èªå®ä¹æ é¢åç§°å­å¨ä¸åæ³å­ç¬¦');\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n        return subject;\n      }\n    }\n\n    if (optionJson.enableRuntimeCustom === true || optionJson.selectfiletype === true) {\n      const compFactory = this.resolver.resolveComponentFactory(ExportCustomSelectHandcraftComponent);\n      const cmpRef = compFactory.create(this.injector);\n      cmpRef.instance.ruleId = ruleID;\n      cmpRef.instance.exportOption = optionJson;\n      cmpRef.instance.recordRule = recordRule;\n      cmpRef.instance.subject = subject;\n      cmpRef.instance.methodType = MethodType.CommonExport;\n      let title = this.data_export;\n      if (optionJson.customExportTitle !== undefined && optionJson.customExportTitle !== null) {\n        title = optionJson.customExportTitle;\n      }\n      const exportModalConfig = {\n        title: title,\n        width: 530,\n        height: 342,\n        buttons: cmpRef.instance.modalFooter,\n        showCloseButton: true,\n        showMaxButton: false,\n        showMinButton: false,\n        showButtons: true,\n        resizable: false\n      };\n      const dialog = this.modalService.show(cmpRef, exportModalConfig);\n      dialog.dialog.instance.closed.subscribe(() => {\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n      });\n      cmpRef.instance.needDestroy.subscribe($event => {\n        dialog.close();\n      });\n    } else {\n      if (!isNullOrUndefined(recordRule) && !isNullOrEmpty(recordRule.ruleId)) {\n        ruleID = recordRule.ruleId;\n      }\n      if (mType == MethodType.CommonExport) {\n        this.dataExportService.ExportById4HandCraft(ruleID,  optionJson);\n      } else if (mType == MethodType.ExportCurrentTableData){\n        throw new Error('ä¸æ¯æè¯¥ç±»å:ExportCurrentTableData');\n      }else{\n        throw new Error('ä¸æ¯æè¯¥ç±»å:ExportCurrentChildData');\n      }\n      const unscriber = this.dataExportService.export.subscribe(data => {\n        if (data === '') {\n          const res = {\n            type: 'success',\n            data: null,\n            other: null\n          };\n          subject.next(res);\n          subject.complete();\n        } else {\n          const errorlevel = this.dataExportService.errorlevel;\n          if (errorlevel === 'Info') {\n            this.notify.info(data);\n          } else if (errorlevel === 'Warning') {\n            this.notify.warning(data);\n          } else {\n            this.notify.error(this.export_fail + data);\n          }\n          const res = {\n            type: 'fail',\n            data: null,\n            other: data\n          };\n          subject.next(res);\n          subject.complete();\n        }\n        unscriber.unsubscribe();\n      }, error => {\n        this.notify.error(error.error.Message);\n        const res = {\n          type: 'fail',\n          data: null,\n          other: error.error.Message\n        };\n        subject.next(res);\n        subject.complete();\n      });\n    }\n    return subject;\n  }\n\n\n\n\n\n\n  /**\n   * éç¨å¯¼å¥æ¹æ³\n   * @param type\n   * @param ruleID\n   * @param option\n   */\n  public CommonDataImport(type: any, ruleID: string, option: string): Observable<any> {\n    if (type === 1) {\n      console.log('æ§è¡æ¹æ³ï¼ImportSublistData');\n      return this.ImportSublistData(ruleID, option);\n    } else if (type === 2) {\n      console.log('æ§è¡æ¹æ³ï¼ImportByModel');\n      throw new Error('ä¸æ¯æéç½®è¯¥ç±»å:2');\n    } else if (type === 0) {\n      console.log('æ§è¡æ¹æ³ï¼ImportByRule');\n      return this.ImportByRule(ruleID, option);\n    } else {\n      console.log('æ§è¡æ¹æ³ï¼ImportByRule');\n      return this.ImportByRule(ruleID, option);\n    }\n  }\n  // æ®éå¯¼å¥\n  public ImportByRule(ruleID: string, option: any): Observable<any> {\n    const subject = new Subject<any>();\n    this.ImportCommonEntry(ruleID, option, MethodType.CommonImport).subscribe(s => {\n      subject.next(s);\n      subject.complete();\n    });\n    return subject;\n  }\n  // å­è¡¨å¯¼å¥\n  public ImportSublistData(ruleID: string, option: any): Observable<any> {\n    const subject = new Subject<any>();\n    this.ImportCommonEntry(ruleID, option, MethodType.ImportSubTableDetail).subscribe(s => {\n      subject.next(s);\n      subject.complete();\n    });\n    return subject;\n  }\n  private ImportCommonEntry(ruleID: string, option: string, methodType: MethodType) {\n    console.log(option);\n    const subject = new Subject<any>();\n    const optionJson = this.ParseImportJson(option);\n    const su = optionJson.su;\n    if (methodType === MethodType.ImportSubTableDetail) {\n      if (isNullOrEmpty(ruleID) && isNullOrEmpty(optionJson.importChildNodeCode)) {\n        //å¯¼å¥å­è¡¨å½è§åidä¸ºç©ºæ¶ï¼æ ¹æ®voæ¾è§åï¼å¿é¡»è¦æ±æéç½®å­è¡¨èç¹\n        this.notify.warning(\"è§åidä¸ºç©ºæ¶ï¼æ ¹æ®æ¨¡åæ¥æ¾è§åï¼å¯¼å¥å­è¡¨å¿é¡»éç½®å­è¡¨èç¹\");\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n        return subject;\n      }\n    }\n    this.StartLoading();\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/getRecordRuleInfo';\n    const postBody = {\n      body: {\n        ruleId: ruleID,\n        su: su,\n        ruleType: 0,\n        voId: optionJson.voId,\n        needModelConvert: optionJson.needModelConvert === true,\n        methodType: methodType,\n        importChildNodeCode: optionJson.importChildNodeCode,\n        enableRuntimeCustom: optionJson.enableRuntimeCustom === true\n      }\n    };\n    this.http.post(url, postBody.body).subscribe((recordRule:any) => {\n      this.CloseLoading();\n      optionJson.voId = recordRule.voId;\n      this.ImportByRuleImpl(ruleID, optionJson, methodType, recordRule).subscribe(s => {\n        subject.next(s);\n        subject.complete();\n      });\n    }, error => {\n      this.CloseLoading();\n      this.notify.error(error.error.Message);\n      console.log(error.error.Message);\n      const res = {\n        type: 'close',\n        data: null,\n        other: error.error.Message\n      };\n      subject.next(res);\n    });\n    return subject;\n  }\n  private ImportByRuleImpl(ruleID: string, optionJson: any, methodType: MethodType, recordRule?: any) {\n    const subject = new Subject<any>();\n    if (optionJson.customImportTitle !== undefined && optionJson.customImportTitle !== null) {\n      if (optionJson.customImportTitle.length > 20) {\n        this.notify.warning('èªå®ä¹æ é¢åç§°çé¿åº¦å¤ªé¿');\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n        return subject;\n      }\n      if (DataIEUtils.JudgeIllegalChar(optionJson.customImportTitle)) {\n        this.notify.warning('èªå®ä¹æ é¢åç§°å­å¨ä¸åæ³å­ç¬¦');\n        const res = {\n          type: 'close',\n          data: null,\n          other: null\n        };\n        subject.next(res);\n        return subject;\n      }\n    }\n    const compFactory = this.resolver.resolveComponentFactory(ImportDialogHandcraftComponent);\n    const cmpRef = compFactory.create(this.injector);\n    cmpRef.instance.ruleId = ruleID;\n    cmpRef.instance.recordRule = recordRule;\n    cmpRef.instance.importOption = optionJson;\n    if (methodType == MethodType.CommonImport) {\n      cmpRef.instance.methodType = MethodType.CommonImport;\n    } else {\n      cmpRef.instance.methodType = MethodType.ImportSubTableDetail;\n    }\n    cmpRef.instance.subject = subject;\n    let title = this.data_import;\n    if (!isNullOrUndefined(optionJson.customImportTitle)) {\n      title = optionJson.customImportTitle;\n    }\n    const importModalConfig = {\n      title: title,\n      width: 530,\n      height: 342,\n      buttons: cmpRef.instance.modalFooter,\n      showCloseButton: true,\n      showMaxButton: false,\n      showMinButton: false,\n      showButtons: true,\n      resizable: false\n    };\n    const dialog = this.modalService.show(cmpRef, importModalConfig);\n    dialog.dialog.instance.closed.subscribe(() => {\n      const res = {\n        type: 'close',\n        data: null,\n        other: null\n      };\n      subject.next(res);\n    });\n    cmpRef.instance.needDestroy.subscribe(data => {\n      dialog.close();\n      const importResult = data as DataIEResult;\n      if (!isNullOrUndefined(importResult)) {\n        let res;\n        if(importResult.succeed){\n          res = {\n            type: 'success',\n            data: importResult,\n            other: null\n          };\n        }else {\n          res = {\n            type: 'fail',\n            data: importResult,\n            other: null\n          };\n        }\n        subject.next(res);\n        subject.complete();\n      }\n    });\n    return subject;\n  }\n\n\n\n\n\n\n  private ParseExportJson(option: any): any {\n    if (typeof (option) === 'object'){\n      return option;\n    }\n    if (isNullOrUndefined(option) || isNullOrEmpty(option)) {\n      return {};\n    }\n    let optionJson = null;\n    try {\n      optionJson = JSON.parse(option);\n    } catch {\n      this.notify.warning('ä¼ å¥çåæ°è½¬æ¢JSONå¯¹è±¡å¼å¸¸ï¼å·²ä½¿ç¨é»è®¤åæ°');\n      return {};\n    }\n    if (typeof (optionJson) !== 'object'){\n      optionJson = {};\n    }\n    return optionJson;\n  }\n  private ParseImportJson(option: any): any {\n    if (typeof (option) === 'object'){\n      return option;\n    }\n    if (isNullOrUndefined(option) || isNullOrEmpty(option)) {\n      return {};\n    }\n    let optionJson = null;\n    try {\n      optionJson = JSON.parse(option);\n    } catch {\n      this.notify.warning('ä¼ å¥çåæ°è½¬æ¢JSONå¯¹è±¡å¼å¸¸ï¼å·²ä½¿ç¨é»è®¤åæ°');\n      return {};\n    }\n    if (typeof (optionJson) !== 'object'){\n      optionJson = {};\n    }\n    let globalParam = optionJson['globalParam'];\n    if (globalParam !== undefined && globalParam !== null) {\n      optionJson['GlobalParam'] = globalParam;\n    }\n    return optionJson;\n  }\n\n  StartLoading() {\n    if (this.loadingService !== undefined && this.loadingService !== null) {\n      this.loadingService.show();\n    }\n  }\n\n  CloseLoading() {\n    if (this.loadingService !== undefined && this.loadingService !== null) {\n      this.loadingService.clearAll();\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component9',\n  templateUrl: './extend-component9.component.html',\n  styleUrls: ['./extend-component9.component.scss']\n})\nexport class ExtendComponent9Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component8',\n  templateUrl: './extend-component8.component.html',\n  styleUrls: ['./extend-component8.component.scss']\n})\nexport class ExtendComponent8Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component7',\n  templateUrl: './extend-component7.component.html',\n  styleUrls: ['./extend-component7.component.scss']\n})\nexport class ExtendComponent7Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component6',\n  templateUrl: './extend-component6.component.html',\n  styleUrls: ['./extend-component6.component.scss']\n})\nexport class ExtendComponent6Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component5',\n  templateUrl: './extend-component5.component.html',\n  styleUrls: ['./extend-component5.component.scss']\n})\nexport class ExtendComponent5Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component4',\n  templateUrl: './extend-component4.component.html',\n  styleUrls: ['./extend-component4.component.scss']\n})\nexport class ExtendComponent4Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component3',\n  templateUrl: './extend-component3.component.html',\n  styleUrls: ['./extend-component3.component.scss']\n})\nexport class ExtendComponent3Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-extend-component2',\n  templateUrl: './extend-component2.component.html',\n  styleUrls: ['./extend-component2.component.scss']\n})\nexport class ExtendComponent2Component implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'hlo-rule-custom-setting',\n  templateUrl: './rule-custom-setting.component.html',\n  styleUrls: ['./rule-custom-setting.component.scss']\n})\nexport class RuleCustomSettingComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter, Injector,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {DatagridComponent} from \"@farris/ui-datagrid\";\nimport {NotifyService} from \"@farris/ui-notify\";\nimport {LoadingService} from \"@farris/ui-loading\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {RuleFileType} from \"../../rule-select/RuleFileType\";\nimport {RuleSelectComponent} from \"../../rule-select/rule-select.component\";\nimport {FileTypeUtil} from \"../../service/Utils/DataIEUtils\";\nimport {BsModalService} from \"@farris/ui-modal\";\nimport {Observable, Subject} from \"rxjs\";\n\n@Component({\n  selector: 'rule-id-help',\n  templateUrl: './rule-id-help.component.html',\n  styleUrls: ['./rule-id-help.component.css']\n})\nexport class RuleIdHelpComponent implements OnInit {\n  @ViewChild('selectFooter') modalFooter: TemplateRef<any>;\n  @ViewChild('RuleIdHelpGrid') RuleIdHelpGrid: DatagridComponent;\n\n  RuleIdHelpColumn: any;\n  RuleIdHelpData: any;\n\n  @Output()\n  ruleId: string;\n  @Output() closeModal = new EventEmitter<any>();\n  @Output() afterHelpConfirm = new EventEmitter<any>();\n\n\n  @Input()\n  ruleType: number;\n  @Input()\n  beId: string;\n  @Input()\n  voId: string;\n\n  fileTypes = [\n    {label: 'Office Excel97-2003(*.xls)', value: RuleFileType[0]},\n    {label: 'Office Excel Macro(*.xlsm)', value: RuleFileType[1]},\n    {label: 'Office Excel(*.xlsx)', value: RuleFileType[2]},\n    {label: 'WPS Table(*.et)', value: RuleFileType[3]},\n    {label: 'WPS Table(Template File)(*.ett)', value: RuleFileType[4]},\n    {label: 'XML Table(*.xml)', value: RuleFileType[5]},\n    {label: 'PDF File(*.pdf)', value: RuleFileType[6]},\n    {label: 'CSV File(*.csv)', value: RuleFileType[7]}\n  ];\n\n  constructor(\n    private notify: NotifyService,\n    private http: HttpClient,\n\n    private loadingService: LoadingService\n  ) {\n  }\n\n  ngOnInit() {\n    this.RuleIdHelpColumn = [\n      {field: 'code', width: 180, title: 'ç¼å·', halign: 'center', align: 'center', sortable: true},\n      {field: 'name', width: 180, title: 'åç§°', halign: 'center', align: 'center', sortable: true},\n\n      // { field: 'bizEntityName', width: 150, title: 'æ°æ®å®ä½', halign: 'center', align: 'center', sortable: true },\n      {\n        field: 'fileType', width: 180, title: 'æä»¶ç±»å', halign: 'center', align: 'center', sortable: true,\n        formatter: {type: 'enum', options: {valueField: 'value', textField: 'label', data: this.fileTypes}}\n      },\n      {field: 'lastModifiedTime', width: 150, title: 'æåä¿®æ¹æ¶é´', halign: 'center', align: 'center', sortable: true}\n\n      // { field: 'creator', width: 150, title: this.ruleselect_creator, halign: 'center', align: 'center', sortable: true }\n    ];\n    this.loadingService.show();\n    const url = \"/api/runtime/dip/v1.0/dataIeRuleManage/getImpExpHelpRules\";\n    const requestBody = {\n      \"ruleType\": this.ruleType,   //å¯¼å¥ä¸º0ï¼å¯¼åºä¸º1\n      \"beId\": this.beId,\n      \"voId\": this.voId\n    }\n    this.http.post(url, requestBody).subscribe(res => {\n      this.loadingService.clearAll();\n      this.RuleIdHelpData = res;\n    }, error => {\n      this.loadingService.clearAll();\n      this.notify.error(error.error.Message);\n      console.log(error.error.Message);\n    });\n  }\n\n\n  okHandler() {\n    const selectedRow = this.RuleIdHelpGrid.selectedRow;\n    if (selectedRow === null) {\n      this.notify.info('è¯·éæ©ä¸æ¡è§å');\n      return;\n    }\n    this.ruleId = selectedRow.data.id;\n    this.closeModal.emit(this.ruleId);\n  }\n\n  cancelHandler() {\n    this.closeModal.emit();\n  }\n}\n","import {Component, ComponentFactoryResolver, Injector, OnInit} from '@angular/core';\nimport {Observable, Subject} from \"rxjs\";\nimport {BsModalService} from \"@farris/ui-modal\";\nimport {RuleIdHelpComponent} from \"../rule-id-help/rule-id-help.component\";\n\n@Component({\n  selector: 'dataie-rule-help',\n  templateUrl: './dataie-rule-help.component.html',\n  styleUrls: ['./dataie-rule-help.component.css']\n})\nexport class DataieRuleHelpComponent implements OnInit {\n\n  constructor(\n    private injector: Injector,\n    private modalService: BsModalService,\n    private resolver: ComponentFactoryResolver\n  ) { }\n\n  ngOnInit() {\n  }\n\n  /**\n   * æå¼å¯¼å¥å¯¼åºè§åidéæ©å¸®å©\n   * @param ruleType è§åç±»åï¼å¯¼å¥ä¸º0ï¼å¯¼åºä¸º1\n   * @param voId\n   * @param beId\n   */\n  public showRuleIdHelp(ruleType:number,voId:string,beId:string): Observable<any>{\n    const subject = new Subject<any>();\n    const compFactory = this.resolver.resolveComponentFactory(RuleIdHelpComponent);\n    const compRef = compFactory.create(this.injector);\n    compRef.instance.beId = beId;\n    compRef.instance.ruleType = ruleType;\n    compRef.instance.voId = voId;\n    const modalConfig = {\n      title: 'è§åéæ©',\n      width: 920,\n      height: 500,\n      buttons: compRef.instance.modalFooter,\n      showHeader: true,\n      showMaxButton: false,\n      showButtons: true\n    };\n    const dialog = this.modalService.show(compRef, modalConfig);\n    compRef.instance.closeModal.subscribe(ruleId => {\n      console.log(ruleId);\n      dialog.close();\n      subject.next(ruleId);\n    });\n    return subject;\n  }\n\n}\n","import { NgModule, LOCALE_ID, Injector } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DropDownsModule } from '@progress/kendo-angular-dropdowns';\r\nimport { GridModule, PDFModule, ExcelModule } from '@progress/kendo-angular-grid';\r\nimport { ModalModule } from '@farris/ui-modal';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { LayoutModule as KendoLayoutModule } from '@progress/kendo-angular-layout';\r\nimport { TreeViewModule } from '@progress/kendo-angular-treeview';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FilterModule } from '@farris/ui-filter-editor';\r\nimport { FarrisTabsModule } from '@farris/ui-tabs';\r\nimport { PopoverModule } from '@farris/ui-popover';\r\nimport { ElementSelectComponent } from './element-select/element-select.component';\r\nimport { ImportDialogComponent } from './import-dialog/import-dialog.component';\r\nimport { ExportDialogComponent } from './custom-export-dialog/export-dialog.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ValidateFormComponent } from './validate-form/validate-form.component';\r\nimport { ExcelExportModule } from '@progress/kendo-angular-excel-export';\r\nimport { FileDropDirective } from './service/UploaderService/FileUpload/file-drop.directive';\r\nimport { FileSelectDirective } from './service/UploaderService/FileUpload/file-selecct.directive';\r\nimport { DataExportService } from './service/DataIEService/data-export.service';\r\nimport { FileOperateService } from './service/DataIEService/file-operate.service';\r\nimport { CustomImportDialogComponent } from './custom-import-dialog/custom-import-dialog.component';\r\nimport { DataImportService } from './service/DataIEService/data-import.service';\r\nimport { CustomDataIEService } from './service/DataIEService/custom-data-ie.service';\r\nimport { ExportCustomSelectComponent } from './export-custom-select/export-custom-select.component';\r\nimport { DataieHandcraftService } from './service/DataIEService/dataie-handcraft.service';\r\nimport { RuleSelectComponent } from './rule-select/rule-select.component';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { MultiSelectModule } from '@farris/ui-multi-select';\r\nimport { ImportDialogHandcraftComponent } from './import-dialog-handcraft/import-dialog-handcraft.component';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { FarrisButtonModule } from '@farris/ui-button';\r\nimport { FarrisTooltipModule } from '@farris/ui-tooltip';\r\nimport { ProgressModule } from '@farris/ui-progress';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { ExtendComponent9Component } from './bakcomponents/extend-component9/extend-component9.component';\r\nimport { ExtendComponent8Component } from './bakcomponents/extend-component8/extend-component8.component';\r\nimport { ExtendComponent7Component } from './bakcomponents/extend-component7/extend-component7.component';\r\nimport { ExtendComponent6Component } from './bakcomponents/extend-component6/extend-component6.component';\r\nimport { ExtendComponent5Component } from './bakcomponents/extend-component5/extend-component5.component';\r\nimport { ExtendComponent4Component } from './bakcomponents/extend-component4/extend-component4.component';\r\nimport { ExtendComponent3Component } from './bakcomponents/extend-component3/extend-component3.component';\r\nimport { ExtendComponent2Component } from './bakcomponents/extend-component2/extend-component2.component';\r\nimport { ExtendComponent1Component } from './bakcomponents/extend-component1/extend-component1.component';\r\nimport { RuleCustomSettingComponent } from './bakcomponents/rule-custom-setting/rule-custom-setting.component';\r\nimport { DataieProgressComponent } from './bakcomponents/dataie-progress/dataie-progress.component';\r\nimport { RuleIdHelpComponent } from './design-time/rule-id-help/rule-id-help.component';\r\nimport { DataieRuleHelpComponent } from './design-time/dataie-rule-help/dataie-rule-help.component';\r\nimport { ExportCustomSelectHandcraftComponent } from './export-custom-select-handcraft/export-custom-select-handcraft.component';\r\nimport { LayoutModule } from '@farris/ui-layout';\r\nimport { DatagridFilterRowModule } from '@farris/ui-datagrid-filter';\r\nimport { FarrisSectionModule } from '@farris/ui-section';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ElementSelectComponent,\r\n    ImportDialogComponent,\r\n    ExportDialogComponent,\r\n    ValidateFormComponent,\r\n    FileDropDirective,\r\n    FileSelectDirective,\r\n    CustomImportDialogComponent,\r\n    ExportCustomSelectComponent,\r\n    RuleSelectComponent,\r\n    ImportDialogHandcraftComponent,\r\n    ExportCustomSelectHandcraftComponent,\r\n\r\n    //extendcomponent\r\n    DataieProgressComponent,\r\n    RuleCustomSettingComponent,\r\n    ExtendComponent1Component,\r\n    ExtendComponent2Component,\r\n    ExtendComponent3Component,\r\n    ExtendComponent4Component,\r\n    ExtendComponent5Component,\r\n    ExtendComponent6Component,\r\n    ExtendComponent7Component,\r\n    ExtendComponent8Component,\r\n    ExtendComponent9Component,\r\n    RuleIdHelpComponent,\r\n    DataieRuleHelpComponent,\r\n  ],\r\n  exports: [\r\n    ElementSelectComponent,\r\n    ImportDialogComponent,\r\n    ExportDialogComponent,\r\n    ValidateFormComponent,\r\n    CustomImportDialogComponent,\r\n    ExportCustomSelectComponent,\r\n    ImportDialogHandcraftComponent,\r\n    FileDropDirective,\r\n    FileSelectDirective,\r\n    RuleIdHelpComponent,\r\n    DataieRuleHelpComponent\r\n  ],\r\n  entryComponents: [ImportDialogComponent, ImportDialogHandcraftComponent,\r\n    ExportDialogComponent, ValidateFormComponent, RuleSelectComponent,\r\n    CustomImportDialogComponent, ExportCustomSelectComponent,\r\n    RuleIdHelpComponent,DataieRuleHelpComponent,ExportCustomSelectHandcraftComponent,\r\n\r\n  //extendcomponent\r\n  DataieProgressComponent,\r\n  RuleCustomSettingComponent,\r\n  ExtendComponent1Component,\r\n  ExtendComponent2Component,\r\n  ExtendComponent3Component,\r\n  ExtendComponent4Component,\r\n  ExtendComponent5Component,\r\n  ExtendComponent6Component,\r\n  ExtendComponent7Component,\r\n  ExtendComponent8Component,\r\n  ExtendComponent9Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    DropDownsModule,\r\n    GridModule,\r\n    ModalModule.forRoot(),\r\n    FormsModule,\r\n    FarrisFormsModule,\r\n    FarrisDialogModule,\r\n    KendoLayoutModule,\r\n    ExcelModule,\r\n    TreeViewModule,\r\n    FilterModule,\r\n    FarrisTabsModule,\r\n    PDFModule,\r\n    DatagridModule,\r\n    DatagridFilterRowModule.forRoot(),\r\n    InputGroupModule,\r\n    MultiSelectModule,\r\n    ComboListModule,\r\n    FarrisButtonModule,\r\n    PopoverModule,\r\n    FarrisTooltipModule,\r\n    ProgressModule,\r\n    LayoutModule,\r\n    FarrisSectionModule\r\n  ],\r\n  providers: [DataExportService, FileOperateService, DataImportService, CustomDataIEService, DataieHandcraftService\r\n  ],\r\n  bootstrap: []\r\n})\r\nexport class DataImpExpModule { }\r\n","import {ComponentFactoryResolver, Injectable, Injector} from '@angular/core';\r\nimport {ImportDialogComponent} from '../../import-dialog/import-dialog.component';\r\nimport {ExportDialogComponent} from '../../custom-export-dialog/export-dialog.component';\r\nimport {BsModalService} from '@farris/ui-modal';\r\nimport {FrameContext} from '@farris/devkit';\r\nimport {MethodType} from '../../model/DataIEType/MethodType';\r\nimport {EntityListService} from '@farris/command-services';\r\nimport {NotifyService} from '@farris/ui-notify';\r\nimport {DataExportService} from './data-export.service';\r\nimport {Observable, Subject} from 'rxjs';\r\nimport {CustomDataIEService} from './custom-data-ie.service';\r\nimport {CustomImportDialogComponent} from '../../custom-import-dialog/custom-import-dialog.component';\r\nimport {ExportCustomSelectComponent} from '../../export-custom-select/export-custom-select.component';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {DataIEUtils, FileTypeUtil, isNullOrEmpty, isNullOrUndefined} from '../Utils/DataIEUtils';\r\nimport {DataieHandcraftService} from './dataie-handcraft.service';\r\nimport {LoadingService} from '@farris/ui-loading';\r\nimport {DataImportService} from \"./data-import.service\";\r\n\r\n@Injectable()\r\nexport class DataImportExportService {\r\n  data_import: string;\r\n  data_export: string;\r\n  data_export_customfile: string;\r\n  export_success: string;\r\n  export_fail: string;\r\n  rule_list: string;\r\n  //2021.12.17å·å ç\r\n  i18nResource: any;\r\n\r\n  constructor(\r\n    private modalService: BsModalService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private injector: Injector,\r\n    private frameContext: FrameContext,\r\n    private dataExportService: DataExportService,\r\n    private notify: NotifyService,\r\n    private entityService: EntityListService,\r\n    private customIEService: CustomDataIEService,\r\n    private handcraftSer: DataieHandcraftService,\r\n    private http: HttpClient,\r\n    private loadingService: LoadingService,\r\n    private dataImportService: DataImportService\r\n  ) {\r\n    DataIEUtils.getTranslateValue(http).subscribe(res => {\r\n      this.i18nResource = res;\r\n      this.data_import = res['data_import'];\r\n      this.data_export = res['data_export'];\r\n      this.export_success = res['export_success'];\r\n      this.export_fail = res['export_fail'];\r\n      this.data_export_customfile = res['data_export_customfile'];\r\n      this.rule_list = res['rule_list'];\r\n    });\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®è§åå¯¼åº\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public ExportByRule(ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n\r\n    const optionJson = this.ParseExportJson(option);\r\n    if (optionJson.packSize) {\r\n      //è·åæ»å±æå¤å°æ¡æ°æ®\r\n      const totalData = this.frameContext.bindingData.pagingInfo.total;\r\n      if (isNullOrUndefined(totalData) || totalData <= 0) {\r\n        this.notify.warning('æªè·åå°æ»æ°æ®éææ°æ®éä¸º0ï¼æ æ³è¿è¡åæ¹æåå¯¼åºï¼è¯·æ£æ¥');\r\n        subject.next(false);\r\n        subject.complete();\r\n      } else {\r\n        let filterConditions = [];\r\n        if (optionJson.enableScreeningScheme === true) {\r\n          const filterConditionList = this.frameContext.uiState['filterConditionList'];\r\n          if (!isNullOrUndefined(filterConditionList) && filterConditionList !== '' && filterConditionList !== '[]') {\r\n            let filterConditionListJson = [];\r\n            if (typeof (filterConditionList) === 'string') {\r\n              filterConditionListJson = JSON.parse(filterConditionList);\r\n            } else {\r\n              filterConditionListJson = filterConditionList;\r\n            }\r\n            for (let index = 0; index < filterConditionListJson.length; index++) {\r\n              const element = filterConditionListJson[index];\r\n              element.Value = decodeURIComponent(element.Value);\r\n              if (index === filterConditionListJson.length - 1) {\r\n                element.Relation = 0;\r\n              }\r\n              filterConditions.push(element);\r\n            }\r\n          }\r\n        }\r\n        //åé¡µå¤§å°ï¼å¯¹åºçæ¯ä¸ªExcelæä»¶çæ°æ®é\r\n        const pageSize = Number.parseInt(optionJson.packSize);\r\n        const num = Math.ceil(totalData / pageSize);\r\n        const packitems = [];\r\n        for (let i = 0; i < num; i++) {\r\n          const packitem = {\r\n            ruleid: ruleID,\r\n            globalParam: optionJson.globalParam,\r\n            filter: {\r\n              filterConditions: filterConditions,\r\n              isUsePagination: true,\r\n              pagination: {\r\n                pageIndex: i + 1,\r\n                pageSize: pageSize\r\n              }\r\n            }\r\n          };\r\n          packitems.push(packitem);\r\n        }\r\n        let customfilename = 'æåå¯¼åº' + new Date();\r\n        if (!isNullOrEmpty(optionJson.customfilename)) {\r\n          customfilename = optionJson.customfilename;\r\n        }\r\n        const option = {\r\n          package:\r\n            {\r\n              customfilename: customfilename,\r\n              packitems: packitems\r\n            }\r\n        }\r\n        this.ExportByPackage(JSON.stringify(option)).subscribe(s => {\r\n          subject.next(s);\r\n          subject.complete();\r\n        });\r\n      }\r\n\r\n    } else {\r\n      this.ExportCommonEntry(ruleID, option, MethodType.CommonExport).subscribe(s => {\r\n        subject.next(s);\r\n        subject.complete();\r\n      });\r\n    }\r\n\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®è§åå¯¼åº\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public ExportCurrentChildData(ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    this.ExportCommonEntry(ruleID, option, MethodType.ExportCurrentChildData).subscribe(s => {\r\n      subject.next(s);\r\n      subject.complete();\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * å¯¼åºå½ååè¡¨æ°æ®ï¼åé¡µï¼\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public ExportCurrentListData(ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    this.ExportCommonEntry(ruleID, option, MethodType.ExportCurrentTableData).subscribe(s => {\r\n      subject.next(s);\r\n      subject.complete();\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * æ¹éæåå¯¼åº\r\n   * @param option éç½®æåä¿¡æ¯\r\n   */\r\n  public ExportByPackage(option: string): Observable<any> {\r\n    console.log(option);\r\n    const subject = new Subject<Boolean>();\r\n    const optionJson = this.ParseExportJson(option);\r\n    this.dataExportService.ExportByPackage(this.frameContext.repository, optionJson);\r\n    const unscriber = this.dataExportService.export.subscribe(data => {\r\n      if (data === '') {\r\n        this.notify.success(this.export_success);\r\n        unscriber.unsubscribe();\r\n        subject.next(true);\r\n        subject.complete();\r\n      } else {\r\n        const errorlevel = this.dataExportService.errorlevel;\r\n        if (errorlevel === 'Info') {\r\n          this.notify.info(data);\r\n        } else if (errorlevel === 'Warning') {\r\n          this.notify.warning(data);\r\n        } else {\r\n          this.notify.error(this.export_fail + data);\r\n        }\r\n        unscriber.unsubscribe();\r\n        subject.next(false);\r\n        subject.complete();\r\n      }\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  private ExportCommonEntry(ruleID: string, option: string, methodType: MethodType): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    console.log(option);\r\n    const optionJson = this.ParseExportJson(option);\r\n    if (isNullOrEmpty(ruleID) && isNullOrEmpty(optionJson.voId)) {\r\n      this.notify.warning(\"æªéç½®è§åidï¼ä¸æ æ³è·åå°è¡¨åå¯¹åºçvoIdï¼è¯·æ£æ¥\");\r\n      return subject;\r\n    }\r\n    if (methodType === MethodType.ExportCurrentChildData) {\r\n      if (isNullOrEmpty(ruleID) && isNullOrEmpty(optionJson.exportChildNodeCode)) {\r\n        //å¯¼åºå­è¡¨å½è§åidä¸ºç©ºæ¶ï¼æ ¹æ®voæ¾è§åï¼å¿é¡»è¦æ±æéç½®å­è¡¨èç¹\r\n        this.notify.warning(\"è§åidä¸ºç©ºæ¶ï¼æ ¹æ®Voæ¥æ¾è§åï¼å¯¼åºå­è¡¨å¿é¡»éç½®å­è¡¨èç¹\");\r\n        return subject;\r\n      }\r\n    }\r\n    if (isNullOrEmpty(ruleID) || optionJson.enableRuntimeCustom === true || optionJson.selectfiletype === true) {\r\n      const befRestService = DataIEUtils.GetBefRestService(this.frameContext.repository);\r\n      this.StartLoading();\r\n      const url = '/api/runtime/dip/v1.0/dataIeRuleManage/getRecordRuleInfo';\r\n      const postBody = {\r\n        body: {\r\n          ruleId: ruleID,\r\n          ruleType: 1,\r\n          voId: optionJson.voId,\r\n          methodType: methodType,\r\n          exportChildNodeCode: optionJson.exportChildNodeCode,\r\n          enableRuntimeCustom: optionJson.enableRuntimeCustom === true\r\n        }\r\n      };\r\n      let subscriber: Observable<any>;\r\n      if (!isNullOrUndefined(this.http)) {\r\n        subscriber = this.http.post(url, postBody.body);\r\n      } else {\r\n        subscriber = befRestService.request(url, 'post', null, postBody);\r\n      }\r\n      subscriber.subscribe(recordRule => {\r\n        this.CloseLoading();\r\n        this.ExportByRuleImpl(ruleID, optionJson, methodType, recordRule).subscribe(s => {\r\n          subject.next(s);\r\n          subject.complete();\r\n        });\r\n      }, error => {\r\n        this.CloseLoading();\r\n        this.notify.error(error.error.Message);\r\n        console.log(error.error.Message);\r\n      });\r\n    } else {\r\n      this.ExportByRuleImpl(ruleID, optionJson, methodType).subscribe(s => {\r\n        subject.next(s);\r\n        subject.complete();\r\n      });\r\n    }\r\n    return subject;\r\n  }\r\n\r\n  private ExportByRuleImpl(ruleID: string, optionJson: any, mType: MethodType, recordRule?: any) {\r\n    const subject = new Subject<Boolean>();\r\n    if (optionJson.customExportTitle !== undefined && optionJson.customExportTitle !== null) {\r\n      if (optionJson.customExportTitle.length > 20) {\r\n        this.notify.warning('èªå®ä¹æ é¢åç§°çé¿åº¦å¤ªé¿');\r\n        return subject;\r\n      }\r\n      if (DataIEUtils.JudgeIllegalChar(optionJson.customExportTitle)) {\r\n        this.notify.warning('èªå®ä¹æ é¢åç§°å­å¨ä¸åæ³å­ç¬¦');\r\n        return subject;\r\n      }\r\n    }\r\n\r\n    if (optionJson.applyui === true) {\r\n      const cmpRef = this.CreateExportComponent();\r\n      cmpRef.instance.ruleId = ruleID;\r\n      cmpRef.instance.exportOption = optionJson;\r\n      cmpRef.instance.frameContext = this.frameContext;\r\n      cmpRef.instance.methodType = mType;\r\n      cmpRef.instance.subject = subject;\r\n      cmpRef.instance.show = optionJson.vsto;\r\n      cmpRef.instance.isCustomExport = false;\r\n      const exportModalConfig = this.GetExportDialogConfig(cmpRef, optionJson);\r\n      const dialog = this.modalService.show(cmpRef, exportModalConfig);\r\n      cmpRef.instance.needDestroy.subscribe($event => {\r\n        dialog.close();\r\n      });\r\n    } else if (optionJson.enableRuntimeCustom === true || optionJson.selectfiletype === true) {\r\n      const cmpRef = this.CreateSelectExportComponent();\r\n      cmpRef.instance.ruleId = ruleID;\r\n      cmpRef.instance.exportOption = optionJson;\r\n      cmpRef.instance.recordRule = recordRule;\r\n      cmpRef.instance.frameContext = this.frameContext;\r\n      cmpRef.instance.methodType = mType;\r\n      cmpRef.instance.subject = subject;\r\n      const exportModalConfig = this.GetSelectExportDialogConfig(cmpRef, optionJson);\r\n      const dialog = this.modalService.show(cmpRef, exportModalConfig);\r\n      cmpRef.instance.needDestroy.subscribe($event => {\r\n        dialog.close();\r\n      });\r\n    } else {\r\n      if (!isNullOrUndefined(recordRule) && !isNullOrEmpty(recordRule.ruleId)) {\r\n        ruleID = recordRule.ruleId;\r\n      }\r\n      if (mType == MethodType.CommonExport) {\r\n        this.dataExportService.ExportById(ruleID, this.frameContext, optionJson);\r\n      } else if (mType == MethodType.ExportCurrentTableData) {\r\n        this.dataExportService.ExportCurrentData(ruleID, this.frameContext, this.entityService.pageIndex,\r\n          this.entityService.pageSize, optionJson);\r\n      } else {\r\n        this.dataExportService.ExportCurrentChildData(ruleID, this.frameContext, optionJson);\r\n      }\r\n      const unscriber = this.dataExportService.export.subscribe(data => {\r\n        if (data === '') {\r\n          // æäººéæ±å¯¼åºå»ææåæç¤ºï¼å ä¸ºæä»¶è¿æ²¡ä¸è½½ä¸æ¥æç¤ºæåäº\r\n          if (optionJson.cancelnotify === undefined || optionJson.cancelnotify === null || optionJson.cancelnotify === false) {\r\n            this.notify.success(this.export_success);\r\n          }\r\n          subject.next(true);\r\n          subject.complete();\r\n        } else {\r\n          const errorlevel = this.dataExportService.errorlevel;\r\n          if (errorlevel === 'Info') {\r\n            this.notify.info(data);\r\n          } else if (errorlevel === 'Warning') {\r\n            this.notify.warning(data);\r\n          } else {\r\n            this.notify.error(this.export_fail + data);\r\n          }\r\n          subject.next(false);\r\n          subject.complete();\r\n        }\r\n        unscriber.unsubscribe();\r\n      }, error => {\r\n        this.notify.error(error.error.Message);\r\n        subject.next(false);\r\n        subject.complete();\r\n      });\r\n    }\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * éç¨å¯¼å¥æ¹æ³\r\n   * @param type\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public CommonDataImport(type: any, ruleID: string, option: string): Observable<any> {\r\n    // if (type !== 2 && (ruleID === undefined || ruleID === null || ruleID === '')) {\r\n    //     this.notify.error('è¯·å¨è¡¨åå¯¼å¥å½ä»¤å¨ä½å¤éç½®å¯¼å¥è§åID');\r\n    //     return;\r\n    // }\r\n    if (type === 1) {\r\n      console.log('æ§è¡æ¹æ³ï¼ImportSublistData');\r\n      return this.ImportSublistData(ruleID, option);\r\n    } else if (type === 2) {\r\n      console.log('æ§è¡æ¹æ³ï¼ImportByModel');\r\n      return this.ImportByModel(option);\r\n    } else if (type === 0) {\r\n      console.log('æ§è¡æ¹æ³ï¼ImportByRule');\r\n      return this.ImportByRule(ruleID, option);\r\n    } else {\r\n      console.log('æ§è¡æ¹æ³ï¼ImportByRule');\r\n      return this.ImportByRule(ruleID, option);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¡çè¡¨åæ°æ®å¯¼å¥ï¼ä¸»ä»è¡¨ï¼å­è¡¨ï¼ç»ä¸åªå¯¼å¥å°è¡¨åï¼\r\n   * @param dataId\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public CardDataImport(dataId: string, ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    console.log(dataId);\r\n    if(!dataId){\r\n      this.notify.warning('æªè¯»åå°ä¸»è¡¨æ°æ®idï¼ä¸åè®¸å¯¼å¥');\r\n      subject.next(false);\r\n      return subject;\r\n    }\r\n    const optionJson = this.ParseImportJson(option);\r\n    optionJson['mainObjId'] = dataId;\r\n    this.frameContext.repository.updateAllChanges().subscribe(e=>{\r\n      this.ImportCommonEntry(ruleID, JSON.stringify(optionJson), MethodType.CardFormDataImport).subscribe(s => {\r\n        subject.next(s);\r\n        subject.complete();\r\n      });\r\n    });\r\n\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * éç¨å¯¼åºæ¹æ³\r\n   * @param type\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public CommonDataExport(type: any, ruleID: string, option: string): Observable<any> {\r\n    // if (type !== 2 && (ruleID === undefined || ruleID === null || ruleID === '')) {\r\n    //     this.notify.error('è¯·å¨è¡¨åå¯¼åºå½ä»¤å¨ä½å¤éç½®å¯¼åºè§åID');\r\n    //     return;\r\n    // }\r\n    if (type === 1) {\r\n      console.log('æ§è¡æ¹æ³ï¼ExportCurrentListData');\r\n      // const pageInfo = new PageInfo();\r\n      // pageInfo.pageIndex = this.entityService.pageIndex;\r\n      // pageInfo.pageSize = this.entityService.pageSize;\r\n      return this.ExportCurrentListData(ruleID, option);\r\n    } else if (type === 2) {\r\n      console.log('æ§è¡æ¹æ³ï¼ExportByModel');\r\n      return this.ExportByModel(option);\r\n    } else if (type === 3) {\r\n      console.log('æ§è¡æ¹æ³ï¼ExportCurrentChildData');\r\n      return this.ExportCurrentChildData(ruleID, option);\r\n    } else if (type === 0) {\r\n      console.log('æ§è¡æ¹æ³ï¼ExportByRule');\r\n      return this.ExportByRule(ruleID, option);\r\n    } else {\r\n      console.log('æ§è¡æ¹æ³ï¼ExportByRule');\r\n      return this.ExportByRule(ruleID, option);\r\n    }\r\n  }\r\n\r\n  private ParseExportJson(option: string): any {\r\n    const voId = this.frameContext.appContext.formId;\r\n    if (isNullOrUndefined(option) || isNullOrEmpty(option)) {\r\n      return {filter: null, voId: voId, customfilename: '', applyui: false, vsto: false};\r\n    }\r\n    let optionJson = null;\r\n    try {\r\n      optionJson = JSON.parse(option);\r\n    } catch {\r\n      this.notify.warning('ä¼ å¥çåæ°è½¬æ¢JSONå¯¹è±¡å¼å¸¸ï¼å·²ä½¿ç¨é»è®¤åæ°');\r\n      return {filter: null, voId: voId, customfilename: '', applyui: false, vsto: false};\r\n    }\r\n    if (typeof (optionJson) !== 'object') {\r\n      optionJson = {};\r\n    }\r\n    optionJson['voId'] = voId;\r\n    return optionJson;\r\n  }\r\n\r\n  private ParseImportJson(option: string): any {\r\n    const voId = this.frameContext.appContext.formId;\r\n    if (isNullOrUndefined(option) || isNullOrEmpty(option)) {\r\n      return {templatefilename: '', GlobalParam: '', voId: voId};\r\n    }\r\n    let optionJson = null;\r\n    try {\r\n      optionJson = JSON.parse(option);\r\n    } catch {\r\n      this.notify.warning('ä¼ å¥çåæ°è½¬æ¢JSONå¯¹è±¡å¼å¸¸ï¼å·²ä½¿ç¨é»è®¤åæ°');\r\n      return {templatefilename: '', GlobalParam: '', voId: voId};\r\n    }\r\n    if (typeof (optionJson) !== 'object') {\r\n      optionJson = {};\r\n    }\r\n    let globalParam = optionJson['globalParam'];\r\n    if (globalParam !== undefined && globalParam !== null) {\r\n      optionJson['GlobalParam'] = globalParam;\r\n    }\r\n    optionJson['voId'] = voId;\r\n    return optionJson;\r\n  }\r\n\r\n  public ExportByModel(option: string) {\r\n    const subject = new Subject<Boolean>();\r\n    const optionJson = JSON.parse(option);\r\n    const model = optionJson.dataExchangeModel;\r\n    const components = [];\r\n    if (optionJson.components !== undefined && optionJson.components !== null && optionJson.components.length > 0) {\r\n      optionJson.components.forEach(c =>\r\n        components.push(JSON.stringify(c)));\r\n    }\r\n    let i18nId = '';\r\n    if (optionJson.I18nMetadataID !== undefined && optionJson.I18nMetadataID !== null) {\r\n      i18nId = optionJson.I18nMetadataID;\r\n    }\r\n    let filter = null;\r\n    if (optionJson.filter !== undefined && optionJson.filter !== null) {\r\n      filter = optionJson.filter;\r\n    }\r\n    const cmpRef = this.CreateExportComponent();\r\n    cmpRef.instance.frameContext = this.frameContext;\r\n    cmpRef.instance.methodType = MethodType.CommonExport;\r\n    cmpRef.instance.isCustomExport = true;\r\n    cmpRef.instance.Model = model;\r\n    cmpRef.instance.subject = subject;\r\n    cmpRef.instance.components = components;\r\n    cmpRef.instance.i18nId = i18nId;\r\n    cmpRef.instance.filter = filter;\r\n    cmpRef.instance.exportOption = optionJson;\r\n    const modelStr = JSON.stringify(model);\r\n    cmpRef.instance.InnerModel = JSON.parse(modelStr);\r\n    const exportModalConfig = this.GetExportDialogConfig(cmpRef, optionJson);\r\n    const keys = ['DataExport', model['MainObject']['Source']['SourceMetadataID'], optionJson.dimension];\r\n    this.customIEService.GetExportRuleModel(keys, this.frameContext.repository, i18nId, model).subscribe(\r\n      data => {\r\n        if (data['success'] === true) {\r\n          cmpRef.instance.CustomModel = JSON.parse(data['modelStr']);\r\n        }\r\n        if (i18nId !== '' && data['i18nModel'] !== undefined && data['i18nModel'] !== null) {\r\n          const i18nModel = JSON.parse(data['i18nModel']);\r\n          cmpRef.instance.Model = i18nModel;\r\n          const modelStr = JSON.stringify(i18nModel);\r\n          cmpRef.instance.InnerModel = JSON.parse(modelStr);\r\n        }\r\n        const dialog = this.modalService.show(cmpRef, exportModalConfig);\r\n        cmpRef.instance.needDestroy.subscribe($event => {\r\n          dialog.close();\r\n        });\r\n      }\r\n    );\r\n    return subject;\r\n    // const dialog = this.modalService.show(cmpRef, exportModalConfig);\r\n    // cmpRef.instance.needDestroy.subscribe($event => { dialog.close(); });\r\n  }\r\n\r\n  public ImportByModel(option: string) {\r\n    const optionJson = JSON.parse(option);\r\n    const model = optionJson.dataExchangeModel;\r\n    const subject = new Subject<Boolean>();\r\n    const components = [];\r\n    if (optionJson.components !== undefined && optionJson.components !== null && optionJson.components.length > 0) {\r\n      optionJson.components.forEach(c =>\r\n        components.push(JSON.stringify(c)));\r\n    }\r\n    let i18nId = '';\r\n    if (optionJson.I18nMetadataID !== undefined && optionJson.I18nMetadataID !== null) {\r\n      i18nId = optionJson.I18nMetadataID;\r\n    }\r\n    if (optionJson.customImportTitle !== undefined && optionJson.customImportTitle !== null) {\r\n      if (optionJson.customImportTitle.length > 20) {\r\n        this.notify.warning('èªå®ä¹æ é¢åç§°çé¿åº¦å¤ªé¿');\r\n        return subject;\r\n      }\r\n      if (DataIEUtils.JudgeIllegalChar(optionJson.customImportTitle)) {\r\n        this.notify.warning('èªå®ä¹æ é¢åç§°å­å¨ä¸åæ³å­ç¬¦');\r\n        return subject;\r\n      }\r\n    }\r\n    const cmpRef = this.CreateCustomImportComponent();\r\n    cmpRef.instance.frameContext = this.frameContext;\r\n    cmpRef.instance.importOption = optionJson;\r\n    // cmpRef.instance.methodType = MethodType.ImportSubTableDetail;\r\n    cmpRef.instance.subject = subject;\r\n    cmpRef.instance.i18nId = i18nId;\r\n    cmpRef.instance.Model = model;\r\n    const modelStr = JSON.stringify(model);\r\n    cmpRef.instance.InnerModel = JSON.parse(modelStr);\r\n    cmpRef.instance.components = components;\r\n    const importModalConfig = this.GetCustomImportDialogConfig(cmpRef, optionJson);\r\n    const keys = ['DataImport', model['MainObject']['Source']['SourceMetadataID'], optionJson.dimension];\r\n    this.customIEService.GetImportRuleModel(keys, this.frameContext.repository, i18nId, model).subscribe(\r\n      data => {\r\n        if (data['success'] === true) {\r\n          cmpRef.instance.CustomModel = JSON.parse(data['modelStr']);\r\n        }\r\n        if (i18nId !== '' && data['i18nModel'] !== undefined && data['i18nModel'] !== null) {\r\n          const i18nModel = JSON.parse(data['i18nModel']);\r\n          cmpRef.instance.Model = i18nModel;\r\n          const modelStr = JSON.stringify(i18nModel);\r\n          cmpRef.instance.InnerModel = JSON.parse(modelStr);\r\n        }\r\n        const dialog = this.modalService.show(cmpRef, importModalConfig);\r\n        cmpRef.instance.needDestroy.subscribe($event => {\r\n          dialog.close();\r\n        });\r\n      }\r\n    )\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * ä¸è½½å¯¼å¥æ¨¡æ¿\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public DownloadTemplate(ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    this.ImportCommonEntry(ruleID, option, MethodType.DownloadImportTemplate).subscribe(s => {\r\n      subject.next(s);\r\n      subject.complete();\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®è§åå¯¼å¥\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public ImportByRule(ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    this.ImportCommonEntry(ruleID, option, MethodType.CommonImport).subscribe(s => {\r\n      subject.next(s);\r\n      subject.complete();\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  /**\r\n   * å¯¼å¥å­è¡¨æ°æ®\r\n   * @param ruleID\r\n   * @param option\r\n   */\r\n  public ImportSublistData(ruleID: string, option: string): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    this.ImportCommonEntry(ruleID, option, MethodType.ImportSubTableDetail).subscribe(s => {\r\n      subject.next(s);\r\n      subject.complete();\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  private ImportCommonEntry(ruleID: string, option: string, methodType: MethodType) {\r\n    console.log(option);\r\n    const subject = new Subject<any>();\r\n    const befRestService = DataIEUtils.GetBefRestService(this.frameContext.repository);\r\n    const su = DataIEUtils.getSu(befRestService.baseUri);\r\n    const optionJson = this.ParseImportJson(option);\r\n    if (methodType === MethodType.ImportSubTableDetail) {\r\n      if (isNullOrEmpty(ruleID) && isNullOrEmpty(optionJson.importChildNodeCode)) {\r\n        //å¯¼å¥å­è¡¨å½è§åidä¸ºç©ºæ¶ï¼æ ¹æ®voæ¾è§åï¼å¿é¡»è¦æ±æéç½®å­è¡¨èç¹\r\n        this.notify.warning(\"è§åidä¸ºç©ºæ¶ï¼æ ¹æ®Voæ¥æ¾è§åï¼å¯¼å¥å­è¡¨å¿é¡»éç½®å­è¡¨èç¹\");\r\n        return subject;\r\n      }\r\n    }\r\n    this.StartLoading();\r\n    const url = '/api/runtime/dip/v1.0/dataIeRuleManage/getRecordRuleInfo';\r\n    const postBody = {\r\n      body: {\r\n        ruleId: ruleID,\r\n        su: su,\r\n        ruleType: 0,\r\n        voId: optionJson.voId,\r\n        methodType: methodType,\r\n        importChildNodeCode: optionJson.importChildNodeCode,\r\n        enableRuntimeCustom: optionJson.enableRuntimeCustom === true\r\n      }\r\n    };\r\n    let subscriber: Observable<any>;\r\n    if (!isNullOrUndefined(this.http)) {\r\n      subscriber = this.http.post(url, postBody.body);\r\n    } else {\r\n      subscriber = befRestService.request(url, 'post', null, postBody);\r\n    }\r\n    subscriber.subscribe(recordRule => {\r\n      this.CloseLoading();\r\n      this.ImportByRuleImpl(ruleID, optionJson, methodType, recordRule).subscribe(s => {\r\n        subject.next(s);\r\n        subject.complete();\r\n      });\r\n    }, error => {\r\n      this.CloseLoading();\r\n      this.notify.error(error.error.Message);\r\n      console.log(error.error.Message);\r\n    });\r\n    return subject;\r\n  }\r\n\r\n  private ImportByRuleImpl(ruleID: string, optionJson: any, methodType: MethodType, recordRule?: any) {\r\n    const subject = new Subject<Boolean>();\r\n    if(methodType === MethodType.DownloadImportTemplate){\r\n      this.loadingService.show();\r\n      const ruleId = recordRule.ruleId ? recordRule.ruleId : ruleID;\r\n      this.dataImportService.DowmloadTemplate(ruleId, this.frameContext.repository, optionJson, null);\r\n      this.dataImportService.complete.subscribe(data => {\r\n        this.loadingService.clearAll();\r\n        if (data === '') {\r\n          this.notify.success(this.i18nResource.download_template_ok);\r\n          subject.next(true);\r\n          subject.complete();\r\n        } else {\r\n          this.notify.error(this.i18nResource.download_template_fail + data);\r\n          subject.next(false);\r\n          subject.complete();\r\n        }\r\n      });\r\n    }else {\r\n      if (optionJson.customImportTitle !== undefined && optionJson.customImportTitle !== null) {\r\n        if (optionJson.customImportTitle.length > 20) {\r\n          this.notify.warning('èªå®ä¹æ é¢åç§°çé¿åº¦å¤ªé¿');\r\n          return subject;\r\n        }\r\n        if (DataIEUtils.JudgeIllegalChar(optionJson.customImportTitle)) {\r\n          this.notify.warning('èªå®ä¹æ é¢åç§°å­å¨ä¸åæ³å­ç¬¦');\r\n          return subject;\r\n        }\r\n      }\r\n      const cmpRef = this.CreateImportComponent();\r\n      cmpRef.instance.ruleId = ruleID;\r\n      cmpRef.instance.importOption = optionJson;\r\n      cmpRef.instance.recordRule = recordRule;\r\n      cmpRef.instance.frameContext = this.frameContext;\r\n      cmpRef.instance.methodType = methodType;\r\n      cmpRef.instance.subject = subject;\r\n      const importModalConfig = this.GetImportDialogConfig(cmpRef, optionJson);\r\n      const dialog = this.modalService.show(cmpRef, importModalConfig);\r\n      cmpRef.instance.needDestroy.subscribe($event => {\r\n        dialog.close();\r\n      });\r\n    }\r\n\r\n    return subject;\r\n  }\r\n\r\n  StartLoading() {\r\n    if (this.loadingService !== undefined && this.loadingService !== null) {\r\n      this.loadingService.show();\r\n    }\r\n  }\r\n\r\n  CloseLoading() {\r\n    if (this.loadingService !== undefined && this.loadingService !== null) {\r\n      this.loadingService.clearAll();\r\n    }\r\n  }\r\n\r\n  private GetImportDialogConfig(cmpRef, optionJson) {\r\n    let title = this.data_import;\r\n    if (optionJson.customImportTitle !== undefined && optionJson.customImportTitle !== null) {\r\n      title = optionJson.customImportTitle;\r\n    }\r\n    const importModalConfig = {\r\n      title: title,\r\n      width: 530,\r\n      height: 342,\r\n      buttons: cmpRef.instance.modalFooter,\r\n      showCloseButton: true,\r\n      showMaxButton: false,\r\n      showMinButton: false,\r\n      showButtons: true,\r\n      resizable: false\r\n    };\r\n    return importModalConfig;\r\n  }\r\n\r\n  private GetCustomImportDialogConfig(cmpRef, optionJson) {\r\n    let title = this.data_import;\r\n    if (optionJson.customImportTitle !== undefined && optionJson.customImportTitle !== null) {\r\n      title = optionJson.customImportTitle;\r\n    }\r\n    const importModalConfig = {\r\n      title: title,\r\n      width: 950,\r\n      height: 570,\r\n      buttons: cmpRef.instance.modalFooter,\r\n      showCloseButton: true,\r\n      showMaxButton: false,\r\n      showMinButton: false,\r\n      showButtons: true,\r\n      resizable: false\r\n    };\r\n    return importModalConfig;\r\n  }\r\n\r\n  private GetExportDialogConfig(cmpRef, optionJson) {\r\n    let title = this.data_export;\r\n    if (optionJson.customExportTitle !== undefined && optionJson.customExportTitle !== null) {\r\n      title = optionJson.customExportTitle;\r\n    }\r\n    const exportModalConfig = {\r\n      title: title,\r\n      width: 922,\r\n      height: 530,\r\n      buttons: cmpRef.instance.modalFooter,\r\n      showCloseButton: true,\r\n      showMaxButton: false,\r\n      showMinButton: false,\r\n      showButtons: true,\r\n      resizable: false\r\n    };\r\n    return exportModalConfig;\r\n  }\r\n\r\n  private GetSelectExportDialogConfig(cmpRef, optionJson) {\r\n    let title = this.data_export;\r\n    if (optionJson.customExportTitle !== undefined && optionJson.customExportTitle !== null) {\r\n      title = optionJson.customExportTitle;\r\n    }\r\n    const exportModalConfig = {\r\n      title: title,\r\n      width: 530,\r\n      height: 342,\r\n      buttons: cmpRef.instance.modalFooter,\r\n      showCloseButton: true,\r\n      showMaxButton: false,\r\n      showMinButton: false,\r\n      showButtons: true,\r\n      resizable: false\r\n    };\r\n    return exportModalConfig;\r\n  }\r\n\r\n  // åå»ºè¾å¥ç»ä»¶å®ä¾\r\n  private CreateImportComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(ImportDialogComponent);\r\n    const cmpRef = compFactory.create(this.injector);\r\n    return cmpRef;\r\n  }\r\n\r\n  // åå»ºè¾åºç»ä»¶å®ä¾\r\n  private CreateExportComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(ExportDialogComponent);\r\n    const cmpRef = compFactory.create(this.injector);\r\n    return cmpRef;\r\n  }\r\n\r\n  private CreateSelectExportComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(ExportCustomSelectComponent);\r\n    const cmpRef = compFactory.create(this.injector);\r\n    return cmpRef;\r\n  }\r\n\r\n  private CreateCustomImportComponent() {\r\n    const compFactory = this.resolver.resolveComponentFactory(CustomImportDialogComponent);\r\n    const cmpRef = compFactory.create(this.injector);\r\n    return cmpRef;\r\n  }\r\n\r\n\r\n}\r\n","import { DataImportExportService } from './service/DataIEService/data-import-export.service';\r\n\r\nexport const DIP_DATAIE_SERVICE = [\r\n   DataImportExportService\r\n];\r\n"],"names":["tslib_1.__values","KendoLayoutModule","LayoutModule"],"mappings":"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"}
