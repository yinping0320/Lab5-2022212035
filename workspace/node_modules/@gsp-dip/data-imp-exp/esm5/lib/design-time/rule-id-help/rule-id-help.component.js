/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Input, Output, TemplateRef, ViewChild } from '@angular/core';
import { DatagridComponent } from "@farris/ui-datagrid";
import { NotifyService } from "@farris/ui-notify";
import { LoadingService } from "@farris/ui-loading";
import { HttpClient } from "@angular/common/http";
import { RuleFileType } from "../../rule-select/RuleFileType";
var RuleIdHelpComponent = /** @class */ (function () {
    function RuleIdHelpComponent(notify, http, loadingService) {
        this.notify = notify;
        this.http = http;
        this.loadingService = loadingService;
        this.closeModal = new EventEmitter();
        this.afterHelpConfirm = new EventEmitter();
        this.fileTypes = [
            { label: 'Office Excel97-2003(*.xls)', value: RuleFileType[0] },
            { label: 'Office Excel Macro(*.xlsm)', value: RuleFileType[1] },
            { label: 'Office Excel(*.xlsx)', value: RuleFileType[2] },
            { label: 'WPS Table(*.et)', value: RuleFileType[3] },
            { label: 'WPS Table(Template File)(*.ett)', value: RuleFileType[4] },
            { label: 'XML Table(*.xml)', value: RuleFileType[5] },
            { label: 'PDF File(*.pdf)', value: RuleFileType[6] },
            { label: 'CSV File(*.csv)', value: RuleFileType[7] }
        ];
    }
    /**
     * @return {?}
     */
    RuleIdHelpComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.RuleIdHelpColumn = [
            { field: 'code', width: 180, title: '编号', halign: 'center', align: 'center', sortable: true },
            { field: 'name', width: 180, title: '名称', halign: 'center', align: 'center', sortable: true },
            // { field: 'bizEntityName', width: 150, title: '数据实体', halign: 'center', align: 'center', sortable: true },
            {
                field: 'fileType', width: 180, title: '文件类型', halign: 'center', align: 'center', sortable: true,
                formatter: { type: 'enum', options: { valueField: 'value', textField: 'label', data: this.fileTypes } }
            },
            { field: 'lastModifiedTime', width: 150, title: '最后修改时间', halign: 'center', align: 'center', sortable: true }
            // { field: 'creator', width: 150, title: this.ruleselect_creator, halign: 'center', align: 'center', sortable: true }
        ];
        this.loadingService.show();
        /** @type {?} */
        var url = "/api/runtime/dip/v1.0/dataIeRuleManage/getImpExpHelpRules";
        /** @type {?} */
        var requestBody = {
            "ruleType": this.ruleType,
            //导入为0，导出为1
            "beId": this.beId,
            "voId": this.voId
        };
        this.http.post(url, requestBody).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            _this.loadingService.clearAll();
            _this.RuleIdHelpData = res;
        }), (/**
         * @param {?} error
         * @return {?}
         */
        function (error) {
            _this.loadingService.clearAll();
            _this.notify.error(error.error.Message);
            console.log(error.error.Message);
        }));
    };
    /**
     * @return {?}
     */
    RuleIdHelpComponent.prototype.okHandler = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var selectedRow = this.RuleIdHelpGrid.selectedRow;
        if (selectedRow === null) {
            this.notify.info('请选择一条规则');
            return;
        }
        this.ruleId = selectedRow.data.id;
        this.closeModal.emit(this.ruleId);
    };
    /**
     * @return {?}
     */
    RuleIdHelpComponent.prototype.cancelHandler = /**
     * @return {?}
     */
    function () {
        this.closeModal.emit();
    };
    RuleIdHelpComponent.decorators = [
        { type: Component, args: [{
                    selector: 'rule-id-help',
                    template: "\n  <div class=\"d-flex flex-fill\" style=\"height:100%;\">\n    <farris-datagrid #RuleIdHelpGrid id=\"rule-mgrs-data\" [fit]=\"true\" [fitColumns]=\"true\" [columns]=\"RuleIdHelpColumn\"\n                     [pagination]=\"false\"\n                     [showLineNumber]=\"true\" [keepSelect]=\"true\" [sizeType]=\"'sm'\" [data]=\"RuleIdHelpData\">\n    </farris-datagrid>\n  </div>\n\n  <ng-template #selectFooter>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelHandler()\">\u53D6\u6D88</button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"okHandler()\">\u786E\u5B9A</button>\n  </ng-template>\n\n\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    RuleIdHelpComponent.ctorParameters = function () { return [
        { type: NotifyService },
        { type: HttpClient },
        { type: LoadingService }
    ]; };
    RuleIdHelpComponent.propDecorators = {
        modalFooter: [{ type: ViewChild, args: ['selectFooter',] }],
        RuleIdHelpGrid: [{ type: ViewChild, args: ['RuleIdHelpGrid',] }],
        ruleId: [{ type: Output }],
        closeModal: [{ type: Output }],
        afterHelpConfirm: [{ type: Output }],
        ruleType: [{ type: Input }],
        beId: [{ type: Input }],
        voId: [{ type: Input }]
    };
    return RuleIdHelpComponent;
}());
export { RuleIdHelpComponent };
if (false) {
    /** @type {?} */
    RuleIdHelpComponent.prototype.modalFooter;
    /** @type {?} */
    RuleIdHelpComponent.prototype.RuleIdHelpGrid;
    /** @type {?} */
    RuleIdHelpComponent.prototype.RuleIdHelpColumn;
    /** @type {?} */
    RuleIdHelpComponent.prototype.RuleIdHelpData;
    /** @type {?} */
    RuleIdHelpComponent.prototype.ruleId;
    /** @type {?} */
    RuleIdHelpComponent.prototype.closeModal;
    /** @type {?} */
    RuleIdHelpComponent.prototype.afterHelpConfirm;
    /** @type {?} */
    RuleIdHelpComponent.prototype.ruleType;
    /** @type {?} */
    RuleIdHelpComponent.prototype.beId;
    /** @type {?} */
    RuleIdHelpComponent.prototype.voId;
    /** @type {?} */
    RuleIdHelpComponent.prototype.fileTypes;
    /**
     * @type {?}
     * @private
     */
    RuleIdHelpComponent.prototype.notify;
    /**
     * @type {?}
     * @private
     */
    RuleIdHelpComponent.prototype.http;
    /**
     * @type {?}
     * @private
     */
    RuleIdHelpComponent.prototype.loadingService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVsZS1pZC1oZWxwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3AtZGlwL2RhdGEtaW1wLWV4cC8iLCJzb3VyY2VzIjpbImxpYi9kZXNpZ24tdGltZS9ydWxlLWlkLWhlbHAvcnVsZS1pZC1oZWxwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFFVCxZQUFZLEVBQ1osS0FBSyxFQUVMLE1BQU0sRUFDTixXQUFXLEVBQ1gsU0FBUyxFQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRCxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFDbEQsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxnQ0FBZ0MsQ0FBQztBQU01RDtJQW9DRSw2QkFDVSxNQUFxQixFQUNyQixJQUFnQixFQUVoQixjQUE4QjtRQUg5QixXQUFNLEdBQU4sTUFBTSxDQUFlO1FBQ3JCLFNBQUksR0FBSixJQUFJLENBQVk7UUFFaEIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBMUI5QixlQUFVLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUNyQyxxQkFBZ0IsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBVXJELGNBQVMsR0FBRztZQUNWLEVBQUMsS0FBSyxFQUFFLDRCQUE0QixFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUM7WUFDN0QsRUFBQyxLQUFLLEVBQUUsNEJBQTRCLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBQztZQUM3RCxFQUFDLEtBQUssRUFBRSxzQkFBc0IsRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFD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WUFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDNUIsT0FBTztTQUNSO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEMsQ0FBQzs7OztJQUVELDJDQUFhOzs7SUFBYjtRQUNFLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekIsQ0FBQzs7Z0JBeEZGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsY0FBYztvQkFDeEIsNHBCQUE0Qzs7aUJBRTdDOzs7O2dCQWJPLGFBQWE7Z0JBRWIsVUFBVTtnQkFEVixjQUFjOzs7OEJBY25CLFNBQVMsU0FBQyxjQUFjO2lDQUN4QixTQUFTLFNBQUMsZ0JBQWdCO3lCQUsxQixNQUFNOzZCQUVOLE1BQU07bUNBQ04sTUFBTTsyQkFHTixLQUFLO3VCQUVMLEtBQUs7dUJBRUwsS0FBSzs7SUFtRVIsMEJBQUM7Q0FBQSxBQXpGRCxJQXlGQztTQXBGWSxtQkFBbUI7OztJQUM5QiwwQ0FBeUQ7O0lBQ3pELDZDQUErRDs7SUFFL0QsK0NBQXNCOztJQUN0Qiw2Q0FBb0I7O0lBRXBCLHFDQUNlOztJQUNmLHlDQUErQzs7SUFDL0MsK0NBQXFEOztJQUdyRCx1Q0FDaUI7O0lBQ2pCLG1DQUNhOztJQUNiLG1DQUNhOztJQUViLHdDQVNFOzs7OztJQUdBLHFDQUE2Qjs7Ozs7SUFDN0IsbUNBQXdCOzs7OztJQUV4Qiw2Q0FBc0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgRXZlbnRFbWl0dGVyLCBJbmplY3RvcixcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBUZW1wbGF0ZVJlZixcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtEYXRhZ3JpZENvbXBvbmVudH0gZnJvbSBcIkBmYXJyaXMvdWktZGF0YWdyaWRcIjtcbmltcG9ydCB7Tm90aWZ5U2VydmljZX0gZnJvbSBcIkBmYXJyaXMvdWktbm90aWZ5XCI7XG5pbXBvcnQge0xvYWRpbmdTZXJ2aWNlfSBmcm9tIFwiQGZhcnJpcy91aS1sb2FkaW5nXCI7XG5pbXBvcnQge0h0dHBDbGllbnR9IGZyb20gXCJAYW5ndWxhci9jb21tb24vaHR0cFwiO1xuaW1wb3J0IHtSdWxlRmlsZVR5cGV9IGZyb20gXCIuLi8uLi9ydWxlLXNlbGVjdC9SdWxlRmlsZVR5cGVcIjtcbmltcG9ydCB7UnVsZVNlbGVjdENvbXBvbmVudH0gZnJvbSBcIi4uLy4uL3J1bGUtc2VsZWN0L3J1bGUtc2VsZWN0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHtGaWxlVHlwZVV0aWx9IGZyb20gXCIuLi8uLi9zZXJ2aWNlL1V0aWxzL0RhdGFJRVV0aWxzXCI7XG5pbXBvcnQge0JzTW9kYWxTZXJ2aWNlfSBmcm9tIFwiQGZhcnJpcy91aS1tb2RhbFwiO1xuaW1wb3J0IHtPYnNlcnZhYmxlLCBTdWJqZWN0fSBmcm9tIFwicnhqc1wiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdydWxlLWlkLWhlbHAnLFxuICB0ZW1wbGF0ZVVybDogJy4vcnVsZS1pZC1oZWxwLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcnVsZS1pZC1oZWxwLmNvbXBvbmVudC5jc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBSdWxlSWRIZWxwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQFZpZXdDaGlsZCgnc2VsZWN0Rm9vdGVyJykgbW9kYWxGb290ZXI6IFRlbXBsYXRlUmVmPGFueT47XG4gIEBWaWV3Q2hpbGQoJ1J1bGVJZEhlbHBHcmlkJykgUnVsZUlkSGVscEdyaWQ6IERhdGFncmlkQ29tcG9uZW50O1xuXG4gIFJ1bGVJZEhlbHBDb2x1bW46IGFueTtcbiAgUnVsZUlkSGVscERhdGE6IGFueTtcblxuICBAT3V0cHV0KClcbiAgcnVsZUlkOiBzdHJpbmc7XG4gIEBPdXRwdXQoKSBjbG9zZU1vZGFsID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBhZnRlckhlbHBDb25maXJtID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cblxuICBASW5wdXQoKVxuICBydWxlVHlwZTogbnVtYmVyO1xuICBASW5wdXQoKVxuICBiZUlkOiBzdHJpbmc7XG4gIEBJbnB1dCgpXG4gIHZvSWQ6IHN0cmluZztcblxuICBmaWxlVHlwZXMgPSBbXG4gICAge2xhYmVsOiAnT2ZmaWNlIEV4Y2VsOTctMjAwMygqLnhscyknLCB2YWx1ZTogUnVsZUZpbGVUeXBlWzBdfSxcbiAgICB7bGFiZWw6ICdPZmZpY2UgRXhjZWwgTWFjcm8oKi54bHNtKScsIHZhbHVlOiBSdWxlRmlsZVR5cGVbMV19LFxuICAgIHtsYWJlbDogJ09mZmljZSBFeGNlbCgqLnhsc3gpJywgdmFsdWU6IFJ1bGVGaWxlVHlwZVsyXX0sXG4gICAge2xhYmVsOiAnV1BTIFRhYmxlKCouZXQpJywgdmFsdWU6IFJ1bGVGaWxlVHlwZVszXX0sXG4gICAge2xhYmVsOiAnV1BTIFRhYmxlKFRlbXBsYXRlIEZpbGUpKCouZXR0KScsIHZhbHVlOiBSdWxlRmlsZVR5cGVbNF19LFxuICAgIHtsYWJlbDogJ1hNTCBUYWJsZSgqLnhtbCknLCB2YWx1ZTogUnVsZUZpbGVUeXBlWzVdfSxcbiAgICB7bGFiZWw6ICdQREYgRmlsZSgqLnBkZiknLCB2YWx1ZTogUnVsZUZpbGVUeXBlWzZdfSxcbiAgICB7bGFiZWw6ICdDU1YgRmlsZSgqLmNzdiknLCB2YWx1ZTogUnVsZUZpbGVUeXBlWzddfVxuICBdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbm90aWZ5OiBOb3RpZnlTZXJ2aWNlLFxuICAgIHByaXZhdGUgaHR0cDogSHR0cENsaWVudCxcblxuICAgIHByaXZhdGUgbG9hZGluZ1NlcnZpY2U6IExvYWRpbmdTZXJ2aWNlXG4gICkge1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5SdWxlSWRIZWxwQ29sdW1uID0gW1xuICAgICAge2ZpZWxkOiAnY29kZScsIHdpZHRoOiAxODAsIHRpdGxlOiAn57yW5Y+3JywgaGFsaWduOiAnY2VudGVyJywgYWxpZ246ICdjZW50ZXInLCBzb3J0YWJsZTogdHJ1ZX0sXG4gICAgICB7ZmllbGQ6ICduYW1lJywgd2lkdGg6IDE4MCwgdGl0bGU6ICflkI3np7AnLCBoYWxpZ246ICdjZW50ZXInLCBhbGlnbjogJ2NlbnRlcicsIHNvcnRhYmxlOiB0cnVlfSxcblxuICAgICAgLy8geyBmaWVsZDogJ2JpekVudGl0eU5hbWUnLCB3aWR0aDogMTUwLCB0aXRsZTogJ+aVsOaNruWunuS9kycsIGhhbGlnbjogJ2NlbnRlcicsIGFsaWduOiAnY2VudGVyJywgc29ydGFibGU6IHRydWUgfSxcbiAgICAgIHtcbiAgICAgICAgZmllbGQ6ICdmaWxlVHlwZScsIHdpZHRoOiAxODAsIHRpdGxlOiAn5paH5Lu257G75Z6LJywgaGFsaWduOiAnY2VudGVyJywgYWxpZ246ICdjZW50ZXInLCBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0dGVyOiB7dHlwZTogJ2VudW0nLCBvcHRpb25zOiB7dmFsdWVGaWVsZDogJ3ZhbHVlJywgdGV4dEZpZWxkOiAnbGFiZWwnLCBkYXRhOiB0aGlzLmZpbGVUeXBlc319XG4gICAgICB9LFxuICAgICAge2ZpZWxkOiAnbGFzdE1vZGlmaWVkVGltZScsIHdpZHRoOiAxNTAsIHRpdGxlOiAn5pyA5ZCO5L+u5pS55pe26Ze0JywgaGFsaWduOiAnY2VudGVyJywgYWxpZ246ICdjZW50ZXInLCBzb3J0YWJsZTogdHJ1ZX1cblxuICAgICAgLy8geyBmaWVsZDogJ2NyZWF0b3InLCB3aWR0aDogMTUwLCB0aXRsZTogdGhpcy5ydWxlc2VsZWN0X2NyZWF0b3IsIGhhbGlnbjogJ2NlbnRlcicsIGFsaWduOiAnY2VudGVyJywgc29ydGFibGU6IHRydWUgfVxuICAgIF07XG4gICAgdGhpcy5sb2FkaW5nU2VydmljZS5zaG93KCk7XG4gICAgY29uc3QgdXJsID0gXCIvYXBpL3J1bnRpbWUvZGlwL3YxLjAvZGF0YUllUnVsZU1hbmFnZS9nZXRJbXBFeHBIZWxwUnVsZXNcIjtcbiAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgIFwicnVsZVR5cGVcIjogdGhpcy5ydWxlVHlwZSwgICAvL+WvvOWFpeS4ujDvvIzlr7zlh7rkuLoxXG4gICAgICBcImJlSWRcIjogdGhpcy5iZUlkLFxuICAgICAgXCJ2b0lkXCI6IHRoaXMudm9JZFxuICAgIH1cbiAgICB0aGlzLmh0dHAucG9zdCh1cmwsIHJlcXVlc3RCb2R5KS5zdWJzY3JpYmUocmVzID0+IHtcbiAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UuY2xlYXJBbGwoKTtcbiAgICAgIHRoaXMuUnVsZUlkSGVscERhdGEgPSByZXM7XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgdGhpcy5sb2FkaW5nU2VydmljZS5jbGVhckFsbCgpO1xuICAgICAgdGhpcy5ub3RpZnkuZXJyb3IoZXJyb3IuZXJyb3IuTWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvci5lcnJvci5NZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgb2tIYW5kbGVyKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkUm93ID0gdGhpcy5SdWxlSWRIZWxwR3JpZC5zZWxlY3RlZFJvdztcbiAgICBpZiAoc2VsZWN0ZWRSb3cgPT09IG51bGwpIHtcbiAgICAgIHRoaXMubm90aWZ5LmluZm8oJ+ivt+mAieaLqeS4gOadoeinhOWImScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJ1bGVJZCA9IHNlbGVjdGVkUm93LmRhdGEuaWQ7XG4gICAgdGhpcy5jbG9zZU1vZGFsLmVtaXQodGhpcy5ydWxlSWQpO1xuICB9XG5cbiAgY2FuY2VsSGFuZGxlcigpIHtcbiAgICB0aGlzLmNsb3NlTW9kYWwuZW1pdCgpO1xuICB9XG59XG4iXX0=