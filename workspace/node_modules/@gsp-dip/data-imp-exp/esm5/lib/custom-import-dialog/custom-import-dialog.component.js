/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, EventEmitter, Input, Output, TemplateRef, ViewChild } from '@angular/core';
import { FrameContext } from '@farris/devkit';
import { LoadingService } from '@farris/ui-loading';
import { FileUploader } from '../service/UploaderService/FileUpload/file-uploader';
import { Subject } from 'rxjs';
import { NotifyService } from '@farris/ui-notify';
import { CustomDataIEService } from '../service/DataIEService/custom-data-ie.service';
import { ElementSelectComponent } from '../element-select/element-select.component';
import { DataImportService } from '../service/DataIEService/data-import.service';
import { DataIEUtils } from '../service/Utils/DataIEUtils';
import { HttpClient } from '@angular/common/http';
import { CommonParams } from "../service/Entity/CommonParams";
var CustomImportDialogComponent = /** @class */ (function () {
    function CustomImportDialogComponent(customDataIEService, notify, loadingService, importService, http) {
        var _this = this;
        this.customDataIEService = customDataIEService;
        this.notify = notify;
        this.loadingService = loadingService;
        this.importService = importService;
        this.http = http;
        // 规则ID
        this.ruleId = '';
        this.i18nId = '';
        // 过滤条件
        this.importOption = null;
        this.frameContext = null;
        // @Input()
        // methodType: MethodType;
        this.subject = null;
        this.acceptFileType = '.xls';
        // 文件名称
        this.fileName = '';
        this.origin = window.location.origin;
        this.valueField = 'Office Excel97-2003(*.xls)';
        this.uploader = new FileUploader({
            url: this.origin + '/api/runtime/dip/v1.0/rpcimport/Upload',
            method: 'POST',
            autoUpload: false,
            itemAlias: 'uploadedfile',
            allowedFileType: ['xls', 'xml', 'pdf', 'wps', 'doc']
        });
        // 控制Destroy表单中的输入组件
        this.needDestroy = new EventEmitter();
        this.Model = null;
        this.InnerModel = null;
        this.components = null;
        this.CustomModel = null;
        this.IsImportForm = false;
        // public fileListItems = [
        //     {id:'Office Excel97-2003(*.xls)',label:'Office Excel97-2003(*.xls)'},
        //     {id:'Office Excel(*.xlsx)',label:'Office Excel(*.xlsx)'},
        //     {id:'Office Excel Macro(*.xlsm)',label:'Office Excel Macro(*.xlsm)'},
        //     {id:'WPS Table(*.et)',label:'WPS Table(*.et)'}
        //     // 'WPS Table(Template File)(*.ett)'
        // ];
        this.fileListItems = [
            'Office Excel97-2003(*.xls)',
            'Office Excel(*.xlsx)',
            'Office Excel Macro(*.xlsm)',
            'WPS Table(*.et)'
            // 'WPS Table(Template File)(*.ett)'
        ];
        DataIEUtils.getTranslateValue(http).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        function (res) {
            _this.import_file = res['import_file'];
            _this.choose_file = res['choose_file'];
            _this.file_type = res['file_type'];
            _this.import_placeholder = res['import_placeholder'];
            _this.download_template = res['download_template'];
            _this.ie_cancel = res['ie_cancel'];
            _this.ie_ok = res['ie_ok'];
            _this.choose_truefile = res['choose_truefile'];
            _this.download_template_ok = res['download_template_ok'];
            _this.download_template_fail = res['download_template_fail'];
            _this.upload_fail = res['upload_fail'];
            _this.import_success = res['import_success'];
            _this.import_form_success = res['import_form_success'];
            _this.import_fail = res['import_fail'];
            _this.upload_filetype_nomatch = res['upload_filetype_nomatch'];
            _this.save_customrule_fail = res['save_customrule_fail'];
            _this.customexport_no_column = res['customexport_no_column'];
            _this.select_xlsx_notify = res['select_xlsx_notify'];
            _this.i18nResource = res;
        }));
    }
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // 上传成功后执行的事件
        this.uploader.onSuccessItem = this.Import.bind(this);
        // 上传失败后执行的事件
        this.uploader.onErrorItem = this.ErrorLog.bind(this);
        // 添加文件后执行的事件
        this.uploader.onAfterAddingFile = this.afterAddFile;
        // 上传文件前执行的事件
        this.uploader.onBeforeUploadItem = this.SaveCustomImportRule;
    };
    /**
     * @param {?} event
     * @return {?}
     */
    CustomImportDialogComponent.prototype.selectedFileOnChange = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var str = event.target.value;
        if (str === '') {
            return;
        }
        /** @type {?} */
        var index = str.lastIndexOf('\\');
        this.fileName = str.substring(index + 1);
        // console.log('队列中的文件' + this.uploader.queue[0]);
    };
    // 关闭窗口
    // 关闭窗口
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.Close = 
    // 关闭窗口
    /**
     * @return {?}
     */
    function () {
        this.needDestroy.emit();
    };
    // 选择文件事件
    // 选择文件事件
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.SelectFile = 
    // 选择文件事件
    /**
     * @return {?}
     */
    function () {
        this.fileUpload.nativeElement.click();
    };
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.fileTypeValueChange = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var suffix = this.getFileExtension();
        if (suffix === '.xlsx') {
            this.notify.info(this.select_xlsx_notify);
        }
        if (suffix !== null) {
            this.acceptFileType = suffix;
        }
        else {
            this.acceptFileType = '.csv,.xlsm,.xlsx,.xls,.pdf,.xml,.et';
        }
    };
    //下载模板
    //下载模板
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.DownloadTemplate = 
    //下载模板
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        //const temRes = JSON.parse(response);
        /** @type {?} */
        var suffix = '.xls';
        suffix = this.getFileExtension();
        if (this.InnerModel !== null) {
            this.eleSelectComp.Save();
            /** @type {?} */
            var elements = this.InnerModel.MainObject.Elements;
            /** @type {?} */
            var mainObjName = this.InnerModel.MainObject.FileObjectName;
            if (elements == null || elements === undefined || elements.length === 0) {
                this.notify.info(mainObjName + ' ' + this.customexport_no_column);
                return;
            }
            this.customDataIEService.SaveCustomImportRule(this.InnerModel, this.components, this.frameContext, suffix, false, this.i18nId, this.importOption.dimension).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                if (data['success'] === true) {
                    _this.customDataIEService.DowmloadTemplate(_this.Model, _this.frameContext, _this.importOption);
                    /** @type {?} */
                    var unsubscriber_1 = _this.customDataIEService.complete.subscribe((/**
                     * @param {?} data
                     * @return {?}
                     */
                    function (data) {
                        if (data === '') {
                            _this.notify.success(_this.download_template_ok);
                            unsubscriber_1.unsubscribe();
                        }
                        else {
                            _this.notify.error(_this.download_template_fail + data);
                            unsubscriber_1.unsubscribe();
                        }
                    }));
                }
                else {
                    _this.notify.error(_this.save_customrule_fail + data['message']);
                }
            }));
        }
    };
    // 添加文件后事件
    // 添加文件后事件
    /**
     * @param {?} fileItem
     * @return {?}
     */
    CustomImportDialogComponent.prototype.afterAddFile = 
    // 添加文件后事件
    /**
     * @param {?} fileItem
     * @return {?}
     */
    function (fileItem) {
    };
    // 开始导入
    // 开始导入
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.Ok = 
    // 开始导入
    /**
     * @return {?}
     */
    function () {
        console.log('开始上传！');
        console.log(this.uploader.queue);
        /** @type {?} */
        var loadingConfig = {
            message: this.i18nResource['import_loading']
        };
        this.loadingService.show(loadingConfig);
        /** @type {?} */
        var len = this.uploader.queue.length;
        if (len === 0) {
            this.notify.info(this.choose_truefile);
            this.loadingService.clearAll();
            return;
        }
        /** @type {?} */
        var lastFileItem = this.uploader.queue[len - 1];
        // this.uploader.uploadAll();
        /** @type {?} */
        var befRestService = DataIEUtils.GetBefRestService(this.frameContext.repository);
        /** @type {?} */
        var preUrl = DataIEUtils.GetPreUrl(befRestService.baseUri);
        /** @type {?} */
        var tempUrl = preUrl + "/import/Upload";
        /** @type {?} */
        var su = DataIEUtils.getSu(tempUrl);
        /** @type {?} */
        var fixedUrl = this.origin + '/api/runtime/dip/v1.0/rpcimport/Upload?su=' + su;
        this.uploader.setOptions({
            url: fixedUrl,
            method: 'POST',
            autoUpload: false,
            itemAlias: 'uploadedfile',
            allowedFileType: ['xls', 'xml', 'pdf', 'wps', 'doc'],
            headers: [{ name: 'su', value: su }]
        });
        if (this.fileName.split(".").length === 2) {
            if (this.getFileExtension() !== ("." + this.fileName.split(".")[1])) {
                this.notify.info(this.upload_filetype_nomatch);
                this.loadingService.clearAll();
                return;
            }
        }
        this.uploader.uploadItem(lastFileItem);
    };
    // 取消事件
    // 取消事件
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.Cancel = 
    // 取消事件
    /**
     * @return {?}
     */
    function () {
        this.needDestroy.emit();
    };
    // 上传失败后方法
    // 上传失败后方法
    /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    CustomImportDialogComponent.prototype.ErrorLog = 
    // 上传失败后方法
    /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    function (item, response, status, headers) {
        console.log('上传失败');
        console.log('错误代码：' + status);
        console.log(response);
        console.log(headers);
        if (response !== ' ') {
            /** @type {?} */
            var temRes = JSON.parse(response);
            this.notify.info(this.upload_fail + temRes);
            console.log('失败原因：' + temRes);
        }
    };
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.SaveCustomImportRule = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    CustomImportDialogComponent.prototype.Import = /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    function (item, response, status, headers) {
        var _this = this;
        /** @type {?} */
        var temRes = JSON.parse(response);
        /** @type {?} */
        var suffix = '.xls';
        suffix = this.getFileExtension();
        if (this.InnerModel !== null) {
            /** @type {?} */
            var isForm = false;
            if (this.importOption !== null && this.importOption['IsImportForm'] !== null && this.importOption['IsImportForm'] !== undefined) {
                if (this.importOption['IsImportForm'] === true) {
                    isForm = true;
                }
            }
            this.eleSelectComp.Save();
            this.customDataIEService.SaveCustomImportRule(this.InnerModel, this.components, this.frameContext, suffix, isForm, this.i18nId, this.importOption.dimension).subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                if (data['success'] === true) {
                    if (data['isImportSub'] == true) {
                        _this.ImportSubTableByRule(item, response, status, headers);
                    }
                    else {
                        _this.ImportByRule(item, response, status, headers);
                    }
                }
                else {
                    _this.notify.error(_this.save_customrule_fail + data['message']);
                    _this.loadingService.clearAll();
                }
            }));
        }
        else {
            console.log('数据交换模型参数值为空');
            this.loadingService.clearAll();
        }
    };
    /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    CustomImportDialogComponent.prototype.ImportByRule = /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    function (item, response, status, headers) {
        var _this = this;
        console.log(status);
        console.log('上传完成！');
        if (status == 200) {
            /** @type {?} */
            var temRes = JSON.parse(response);
            console.log('上传成功');
            console.log(temRes);
            /** @type {?} */
            var loadingConfig = {
                message: this.i18nResource['import_loading']
            };
            /** @type {?} */
            var loadingParam = {
                loadingService: this.loadingService,
                loadingConfig: loadingConfig
            };
            /** @type {?} */
            var commonParams = new CommonParams();
            commonParams.keys = ['DataImport', this.Model['MainObject']['Source']['SourceMetadataID'], this.importOption.dimension];
            commonParams.option = this.importOption;
            commonParams.fileName = temRes['fileName'];
            commonParams.repository = this.frameContext.repository;
            commonParams.loadingParam = loadingParam;
            commonParams.i18nResource = this.i18nResource;
            this.customDataIEService.ImportByRule(commonParams);
            /** @type {?} */
            var unsubscriber_2 = this.importService.complete.subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                _this.loadingService.clearAll();
                if (data === '') {
                    _this.notify.success(_this.import_success);
                    unsubscriber_2.unsubscribe();
                    _this.needDestroy.emit();
                    _this.subject.next(true);
                    _this.subject.complete();
                }
                else if (data === '导入表单成功') {
                    _this.notify.success(_this.import_form_success);
                    unsubscriber_2.unsubscribe();
                    _this.needDestroy.emit();
                    _this.subject.next(true);
                    _this.subject.complete();
                }
                else {
                    /** @type {?} */
                    var errorlevel = _this.importService.errorlevel;
                    if (errorlevel === 'Info') {
                        _this.notify.info(data);
                    }
                    else if (errorlevel === 'Warning') {
                        _this.notify.warning(data);
                    }
                    else {
                        _this.notify.error(_this.import_fail + data);
                    }
                    unsubscriber_2.unsubscribe();
                    _this.needDestroy.emit();
                    _this.subject.next(false);
                    _this.subject.complete();
                }
            }));
        }
    };
    /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    CustomImportDialogComponent.prototype.ImportSubTableByRule = /**
     * @param {?} item
     * @param {?} response
     * @param {?} status
     * @param {?} headers
     * @return {?}
     */
    function (item, response, status, headers) {
        var _this = this;
        if (status === 200) {
            /** @type {?} */
            var temRes = JSON.parse(response);
            /** @type {?} */
            var loadingConfig = {
                message: this.i18nResource['import_loading']
            };
            /** @type {?} */
            var loadingParam = {
                loadingService: this.loadingService,
                loadingConfig: loadingConfig
            };
            /** @type {?} */
            var commonParams = new CommonParams();
            commonParams.keys = ['DataImport', this.Model['MainObject']['Source']['SourceMetadataID'], this.importOption.dimension];
            commonParams.option = this.importOption;
            commonParams.fileName = temRes['fileName'];
            commonParams.repository = this.frameContext.repository;
            commonParams.frameContext = this.frameContext;
            commonParams.loadingParam = loadingParam;
            commonParams.i18nResource = this.i18nResource;
            /** @type {?} */
            var flag = this.customDataIEService.ImportSubTableByRule(commonParams);
            if (flag === false) {
                this.loadingService.clearAll();
            }
            /** @type {?} */
            var unsubscriber_3 = this.importService.complete.subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                _this.loadingService.clearAll();
                if (data === '') {
                    _this.notify.success(_this.import_success);
                    unsubscriber_3.unsubscribe();
                    _this.subject.next(true);
                    _this.subject.complete();
                    _this.needDestroy.emit();
                }
                else if (data === '导入表单成功') {
                    _this.notify.success(_this.import_form_success);
                    unsubscriber_3.unsubscribe();
                    _this.subject.next(true);
                    _this.subject.complete();
                    _this.needDestroy.emit();
                }
                else {
                    /** @type {?} */
                    var errorlevel = _this.importService.errorlevel;
                    if (errorlevel === 'Info') {
                        _this.notify.info(data);
                    }
                    else if (errorlevel === 'Warning') {
                        _this.notify.warning(data);
                    }
                    else {
                        _this.notify.error(_this.import_fail + data);
                    }
                    unsubscriber_3.unsubscribe();
                    _this.subject.next(false);
                    _this.subject.complete();
                    _this.needDestroy.emit();
                }
                unsubscriber_3.unsubscribe();
            }));
        }
    };
    /**
     * @return {?}
     */
    CustomImportDialogComponent.prototype.getFileExtension = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var suffix = null;
        switch (this.valueField) {
            case 'Office Excel97-2003(*.xls)':
                suffix = '.xls';
                break;
            case 'Office Excel(*.xlsx)':
                suffix = '.xlsx';
                break;
            case 'Office Excel Macro(*.xlsm)':
                suffix = '.xlsm';
                break;
            case 'WPS Table(*.et)':
                suffix = '.et';
                break;
            case 'WPS Table(Template File)(*.ett)':
                suffix = '.ett';
                break;
            default:
                break;
        }
        return suffix;
    };
    CustomImportDialogComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-custom-import-dialog',
                    template: "<div class=\"d-flex flex-column\" style=\"width: 100%; height: 100%;\">\r\n  <div region=\"north\" class=\"north\">\r\n    <div style=\"margin-top: 12px;margin-left: 20px\">\r\n      <table>\r\n        <tr>\r\n          <td class=\"mkwidth\">\r\n            <label for=\"f_upload\">{{import_file}}</label>\r\n          </td>\r\n          <td>\r\n            <input #fileUpload name=\"fileinput\" hidden=true type=\"file\" libFileSelect [uploader]=\"uploader\" [accept]=\"acceptFileType\"\r\n              (change)=\"selectedFileOnChange($event)\" />\r\n            <div class=\"input-group\" style=\"margin-left: 10px; width: 800px\">\r\n              <input type=\"text\" id=\"f_upload\" readonly=\"readonly\" class=\"form-control flie-loading\"\r\n                [(ngModel)]=\"fileName\" [placeholder]=\"import_placeholder\">\r\n              <span class=\"input-group-btn\">\r\n                <button class=\"btn btn-primary\" type=\"button\" (click)=\"SelectFile()\">{{choose_file}}</button>\r\n              </span>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div region=\"center\" class=\"center flex-fill\">\r\n    <div>\r\n      <app-element-select [Model]=\"Model\" [InnerModel]=\"InnerModel\" [CustomModel]=\"CustomModel\"></app-element-select>\r\n    </div>\r\n  </div>\r\n  <div region=\"south\" class=\"south mgleft\">\r\n    <label>{{file_type}}</label>\r\n    <kendo-dropdownlist class=\"longleng\" id=\"fileType\" [data]=\"fileListItems\" [value]=\"'Office Excel97-2003(*.xls)'\"\r\n      [(ngModel)]=\"valueField\" (valueChange)=\"fileTypeValueChange()\">\r\n    </kendo-dropdownlist>\r\n  </div>\r\n  <!-- <farris-combo-list id=\"fileType\" [(ngModel)]=\"valueField\" [idField]=\"'id'\" [textField]=\"'label'\"\r\n    [data]=\"fileListItems\"></farris-combo-list> -->\r\n\r\n</div>\r\n<ng-template #selectFooter>\r\n  <!-- <div class=\"btns\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm px-3\" (click)=\"DownloadTemplate()\">{{download_template}}</button>\r\n        <button type=\"button\" class=\"btn btn-outline-secondary btn-sm px-3\" (click)=\"Cancel()\">{{ie_cancel}}</button>\r\n        <button type=\"button\" class=\"btn btn-outline-primary btn-sm px-3\" (click)=\"Ok()\">{{ie_ok}}</button>\r\n    </div> -->\r\n  <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"DownloadTemplate()\">{{download_template}}</button>\r\n  <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"Cancel()\">{{ie_cancel}}</button>\r\n  <button type=\"button\" class=\"btn btn-primary\" (click)=\"Ok()\">{{ie_ok}}</button>\r\n</ng-template>",
                    styles: [".barmanager{position:absolute;bottom:0;height:50px;right:30px;padding-left:50px}*{padding:0;margin:0}#filePath,#fileType,#filterExpression{margin-left:7px}.input-group{margin-bottom:12px}.btngroup{margin-top:12px}.exchange{margin-top:30px}#IsSave{margin:6px}.pos{position:relative}.left{float:right}.mkwidth{width:75px;line-height:28px}.div-inline{display:inline}.mgleft{margin-left:20px;margin-top:10px}.longleng{width:820px}"]
                }] }
    ];
    /** @nocollapse */
    CustomImportDialogComponent.ctorParameters = function () { return [
        { type: CustomDataIEService },
        { type: NotifyService },
        { type: LoadingService },
        { type: DataImportService },
        { type: HttpClient }
    ]; };
    CustomImportDialogComponent.propDecorators = {
        modalFooter: [{ type: ViewChild, args: ['selectFooter',] }],
        ruleId: [{ type: Input }],
        i18nId: [{ type: Input }],
        importOption: [{ type: Input }],
        frameContext: [{ type: Input }],
        subject: [{ type: Input }],
        fileUpload: [{ type: ViewChild, args: ['fileUpload',] }],
        eleSelectComp: [{ type: ViewChild, args: [ElementSelectComponent,] }],
        needDestroy: [{ type: Output }],
        Model: [{ type: Input }],
        InnerModel: [{ type: Input }],
        components: [{ type: Input }],
        CustomModel: [{ type: Input }],
        IsImportForm: [{ type: Input }]
    };
    return CustomImportDialogComponent;
}());
export { CustomImportDialogComponent };
if (false) {
    /** @type {?} */
    CustomImportDialogComponent.prototype.modalFooter;
    /** @type {?} */
    CustomImportDialogComponent.prototype.ruleId;
    /** @type {?} */
    CustomImportDialogComponent.prototype.i18nId;
    /** @type {?} */
    CustomImportDialogComponent.prototype.importOption;
    /** @type {?} */
    CustomImportDialogComponent.prototype.frameContext;
    /** @type {?} */
    CustomImportDialogComponent.prototype.subject;
    /** @type {?} */
    CustomImportDialogComponent.prototype.acceptFileType;
    /** @type {?} */
    CustomImportDialogComponent.prototype.fileName;
    /** @type {?} */
    CustomImportDialogComponent.prototype.fileUpload;
    /**
     * @type {?}
     * @private
     */
    CustomImportDialogComponent.prototype.origin;
    /** @type {?} */
    CustomImportDialogComponent.prototype.eleSelectComp;
    /** @type {?} */
    CustomImportDialogComponent.prototype.valueField;
    /** @type {?} */
    CustomImportDialogComponent.prototype.uploader;
    /** @type {?} */
    CustomImportDialogComponent.prototype.needDestroy;
    /** @type {?} */
    CustomImportDialogComponent.prototype.Model;
    /** @type {?} */
    CustomImportDialogComponent.prototype.InnerModel;
    /** @type {?} */
    CustomImportDialogComponent.prototype.components;
    /** @type {?} */
    CustomImportDialogComponent.prototype.CustomModel;
    /** @type {?} */
    CustomImportDialogComponent.prototype.IsImportForm;
    /** @type {?} */
    CustomImportDialogComponent.prototype.fileListItems;
    /** @type {?} */
    CustomImportDialogComponent.prototype.file_type;
    /** @type {?} */
    CustomImportDialogComponent.prototype.download_template;
    /** @type {?} */
    CustomImportDialogComponent.prototype.ie_cancel;
    /** @type {?} */
    CustomImportDialogComponent.prototype.ie_ok;
    /** @type {?} */
    CustomImportDialogComponent.prototype.choose_file;
    /** @type {?} */
    CustomImportDialogComponent.prototype.import_file;
    /** @type {?} */
    CustomImportDialogComponent.prototype.import_placeholder;
    /** @type {?} */
    CustomImportDialogComponent.prototype.download_template_ok;
    /** @type {?} */
    CustomImportDialogComponent.prototype.download_template_fail;
    /** @type {?} */
    CustomImportDialogComponent.prototype.choose_truefile;
    /** @type {?} */
    CustomImportDialogComponent.prototype.upload_filetype_nomatch;
    /** @type {?} */
    CustomImportDialogComponent.prototype.upload_fail;
    /** @type {?} */
    CustomImportDialogComponent.prototype.save_customrule_fail;
    /** @type {?} */
    CustomImportDialogComponent.prototype.import_success;
    /** @type {?} */
    CustomImportDialogComponent.prototype.import_fail;
    /** @type {?} */
    CustomImportDialogComponent.prototype.import_form_success;
    /** @type {?} */
    CustomImportDialogComponent.prototype.customexport_no_column;
    /** @type {?} */
    CustomImportDialogComponent.prototype.select_xlsx_notify;
    /** @type {?} */
    CustomImportDialogComponent.prototype.i18nResource;
    /**
     * @type {?}
     * @private
     */
    CustomImportDialogComponent.prototype.customDataIEService;
    /**
     * @type {?}
     * @private
     */
    CustomImportDialogComponent.prototype.notify;
    /**
     * @type {?}
     * @private
     */
    CustomImportDialogComponent.prototype.loadingService;
    /**
     * @type {?}
     * @private
     */
    CustomImportDialogComponent.prototype.importService;
    /**
     * @type {?}
     * @private
     */
    CustomImportDialogComponent.prototype.http;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tLWltcG9ydC1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1kaXAvZGF0YS1pbXAtZXhwLyIsInNvdXJjZXMiOlsibGliL2N1c3RvbS1pbXBvcnQtZGlhbG9nL2N1c3RvbS1pbXBvcnQtZGlhbG9nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNqSCxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLG9CQUFvQixDQUFDO0FBQ2xELE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxxREFBcUQsQ0FBQztBQUNqRixPQUFPLEVBQUMsT0FBTyxFQUFDLE1BQU0sTUFBTSxDQUFDO0FBQzdCLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxtQkFBbUIsQ0FBQztBQUdoRCxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSxpREFBaUQsQ0FBQztBQUNwRixPQUFPLEVBQUMsc0JBQXNCLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQztBQUNsRixPQUFPLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSw4Q0FBOEMsQ0FBQztBQUMvRSxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sOEJBQThCLENBQUM7QUFDekQsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxnQ0FBZ0MsQ0FBQztBQUU1RDtJQXdGRSxxQ0FDVSxtQkFBd0MsRUFDeEMsTUFBcUIsRUFDckIsY0FBOEIsRUFDOUIsYUFBZ0MsRUFDaEMsSUFBZ0I7UUFMMUIsaUJBMkJDO1FBMUJTLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDeEMs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NkJBRUwsS0FBSzs2QkFFTCxLQUFLOzhCQUVMLEtBQUs7K0JBRUwsS0FBSzs7SUF3WFIsa0NBQUM7Q0FBQSxBQTNhRCxJQTJhQztTQXRhWSwyQkFBMkI7OztJQUV0QyxrREFBeUQ7O0lBRXpELDZDQUNZOztJQUNaLDZDQUNZOztJQUVaLG1EQUN5Qjs7SUFDekIsbURBQ2tDOztJQUdsQyw4Q0FDaUM7O0lBQ2pDLHFEQUF3Qjs7SUFFeEIsK0NBQWM7O0lBRWQsaURBQ3VCOzs7OztJQUN2Qiw2Q0FBd0M7O0lBRXhDLG9EQUNzQzs7SUFDdEMsaURBQWtEOztJQUNsRCwrQ0FNRzs7SUFFSCxrREFDaUM7O0lBQ2pDLDRDQUNrQjs7SUFDbEIsaURBQ3VCOztJQUN2QixpREFDdUI7O0lBQ3ZCLGtEQUN3Qjs7SUFDeEIsbURBQzhCOztJQVE5QixvREFNRTs7SUFFRixnREFBa0I7O0lBQ2xCLHdEQUEwQjs7SUFDMUIsZ0RBQWtCOztJQUNsQiw0Q0FBYzs7SUFDZCxrREFBb0I7O0lBQ3BCLGtEQUFvQjs7SUFDcEIseURBQTJCOztJQUMzQiwyREFBNkI7O0lBQzdCLDZEQUErQjs7SUFDL0Isc0RBQXdCOztJQUN4Qiw4REFBZ0M7O0lBQ2hDLGtEQUFvQjs7SUFDcEIsMkRBQTZCOztJQUM3QixxREFBdUI7O0lBQ3ZCLGtEQUFvQjs7SUFDcEIsMERBQTRCOztJQUM1Qiw2REFBK0I7O0lBQy9CLHlEQUEyQjs7SUFDM0IsbURBQWtCOzs7OztJQUdoQiwwREFBZ0Q7Ozs7O0lBQ2hELDZDQUE2Qjs7Ozs7SUFDN0IscURBQXNDOzs7OztJQUN0QyxvREFBd0M7Ozs7O0lBQ3hDLDJDQUF3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgVGVtcGxhdGVSZWYsIFZpZXdDaGlsZH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7RnJhbWVDb250ZXh0fSBmcm9tICdAZmFycmlzL2RldmtpdCc7XHJcbmltcG9ydCB7TG9hZGluZ1NlcnZpY2V9IGZyb20gJ0BmYXJyaXMvdWktbG9hZGluZyc7XHJcbmltcG9ydCB7RmlsZVVwbG9hZGVyfSBmcm9tICcuLi9zZXJ2aWNlL1VwbG9hZGVyU2VydmljZS9GaWxlVXBsb2FkL2ZpbGUtdXBsb2FkZXInO1xyXG5pbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQge05vdGlmeVNlcnZpY2V9IGZyb20gJ0BmYXJyaXMvdWktbm90aWZ5JztcclxuaW1wb3J0IHtGaWxlSXRlbX0gZnJvbSAnLi4vc2VydmljZS9VcGxvYWRlclNlcnZpY2UvRmlsZVVwbG9hZC9maWxlLWl0ZW0nO1xyXG5pbXBvcnQge1BhcnNlZFJlc3BvbnNlSGVhZGVyc30gZnJvbSAnLi4vc2VydmljZS9VcGxvYWRlclNlcnZpY2UvRmlsZVVwbG9hZC9wYXJzZWQtcmVzcG9uc2UtaGVhZGVycyc7XHJcbmltcG9ydCB7Q3VzdG9tRGF0YUlFU2VydmljZX0gZnJvbSAnLi4vc2VydmljZS9EYXRhSUVTZXJ2aWNlL2N1c3RvbS1kYXRhLWllLnNlcnZpY2UnO1xyXG5pbXBvcnQge0VsZW1lbnRTZWxlY3RDb21wb25lbnR9IGZyb20gJy4uL2VsZW1lbnQtc2VsZWN0L2VsZW1lbnQtc2VsZWN0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7RGF0YUltcG9ydFNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2UvRGF0YUlFU2VydmljZS9kYXRhLWltcG9ydC5zZXJ2aWNlJztcclxuaW1wb3J0IHtEYXRhSUVVdGlsc30gZnJvbSAnLi4vc2VydmljZS9VdGlscy9EYXRhSUVVdGlscyc7XHJcbmltcG9ydCB7SHR0cENsaWVudH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xyXG5pbXBvcnQge0NvbW1vblBhcmFtc30gZnJvbSBcIi4uL3NlcnZpY2UvRW50aXR5L0NvbW1vblBhcmFtc1wiO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItY3VzdG9tLWltcG9ydC1kaWFsb2cnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9jdXN0b20taW1wb3J0LWRpYWxvZy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vY3VzdG9tLWltcG9ydC1kaWFsb2cuY29tcG9uZW50LmNzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDdXN0b21JbXBvcnREaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBAVmlld0NoaWxkKCdzZWxlY3RGb290ZXInKSBtb2RhbEZvb3RlcjogVGVtcGxhdGVSZWY8YW55PjtcclxuICAvLyDop4TliJlJRFxyXG4gIEBJbnB1dCgpXHJcbiAgcnVsZUlkID0gJyc7XHJcbiAgQElucHV0KClcclxuICBpMThuSWQgPSAnJztcclxuICAvLyDov4fmu6TmnaHku7ZcclxuICBASW5wdXQoKVxyXG4gIGltcG9ydE9wdGlvbjogYW55ID0gbnVsbDtcclxuICBASW5wdXQoKVxyXG4gIGZyYW1lQ29udGV4dDogRnJhbWVDb250ZXh0ID0gbnVsbDtcclxuICAvLyBASW5wdXQoKVxyXG4gIC8vIG1ldGhvZFR5cGU6IE1ldGhvZFR5cGU7XHJcbiAgQElucHV0KClcclxuICBzdWJqZWN0OiBTdWJqZWN0PEJvb2xlYW4+ID0gbnVsbDtcclxuICBhY2NlcHRGaWxlVHlwZSA9ICcueGxzJztcclxuICAvLyDmlofku7blkI3np7BcclxuICBmaWxlTmFtZSA9ICcnO1xyXG4gIC8vIGxvYWRpbmdDb21wOiBMb2FkaW5nQ29tcG9uZW50ID0gbnVsbDtcclxuICBAVmlld0NoaWxkKCdmaWxlVXBsb2FkJylcclxuICBmaWxlVXBsb2FkOiBFbGVtZW50UmVmO1xyXG4gIHByaXZhdGUgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcclxuICAvLyDliJfpgInmi6nnu4Tku7ZcclxuICBAVmlld0NoaWxkKEVsZW1lbnRTZWxlY3RDb21wb25lbnQpXHJcbiAgZWxlU2VsZWN0Q29tcDogRWxlbWVudFNlbGVjdENvbXBvbmVudDtcclxuICB2YWx1ZUZpZWxkOiBzdHJpbmcgPSAnT2ZmaWNlIEV4Y2VsOTctMjAwMygqLnhscyknO1xyXG4gIHVwbG9hZGVyID0gbmV3IEZpbGVVcGxvYWRlcih7XHJcbiAgICB1cmw6IHRoaXMub3JpZ2luICsgJy9hcGkvcnVudGltZS9kaXAvdjEuMC9ycGNpbXBvcnQvVXBsb2FkJyxcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgYXV0b1VwbG9hZDogZmFsc2UsXHJcbiAgICBpdGVtQWxpYXM6ICd1cGxvYWRlZGZpbGUnLFxyXG4gICAgYWxsb3dlZEZpbGVUeXBlOiBbJ3hscycsICd4bWwnLCAncGRmJywgJ3dwcycsICdkb2MnXVxyXG4gIH0pO1xyXG4gIC8vIOaOp+WItkRlc3Ryb3nooajljZXkuK3nmoTovpPlhaXnu4Tku7ZcclxuICBAT3V0cHV0KClcclxuICBuZWVkRGVzdHJveSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBASW5wdXQoKVxyXG4gIE1vZGVsOiBhbnkgPSBudWxsO1xyXG4gIEBJbnB1dCgpXHJcbiAgSW5uZXJNb2RlbDogYW55ID0gbnVsbDtcclxuICBASW5wdXQoKVxyXG4gIGNvbXBvbmVudHM6IGFueSA9IG51bGw7XHJcbiAgQElucHV0KClcclxuICBDdXN0b21Nb2RlbDogYW55ID0gbnVsbDtcclxuICBASW5wdXQoKVxyXG4gIElzSW1wb3J0Rm9ybTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8vIHB1YmxpYyBmaWxlTGlzdEl0ZW1zID0gW1xyXG4gIC8vICAgICB7aWQ6J09mZmljZSBFeGNlbDk3LTIwMDMoKi54bHMpJyxsYWJlbDonT2ZmaWNlIEV4Y2VsOTctMjAwMygqLnhscyknfSxcclxuICAvLyAgICAge2lkOidPZmZpY2UgRXhjZWwoKi54bHN4KScsbGFiZWw6J09mZmljZSBFeGNlbCgqLnhsc3gpJ30sXHJcbiAgLy8gICAgIHtpZDonT2ZmaWNlIEV4Y2VsIE1hY3JvKCoueGxzbSknLGxhYmVsOidPZmZpY2UgRXhjZWwgTWFjcm8oKi54bHNtKSd9LFxyXG4gIC8vICAgICB7aWQ6J1dQUyBUYWJsZSgqLmV0KScsbGFiZWw6J1dQUyBUYWJsZSgqLmV0KSd9XHJcbiAgLy8gICAgIC8vICdXUFMgVGFibGUoVGVtcGxhdGUgRmlsZSkoKi5ldHQpJ1xyXG4gIC8vIF07XHJcbiAgcHVibGljIGZpbGVMaXN0SXRlbXMgPSBbXHJcbiAgICAnT2ZmaWNlIEV4Y2VsOTctMjAwMygqLnhscyknLFxyXG4gICAgJ09mZmljZSBFeGNlbCgqLnhsc3gpJyxcclxuICAgICdPZmZpY2UgRXhjZWwgTWFjcm8oKi54bHNtKScsXHJcbiAgICAnV1BTIFRhYmxlKCouZXQpJ1xyXG4gICAgLy8gJ1dQUyBUYWJsZShUZW1wbGF0ZSBGaWxlKSgqLmV0dCknXHJcbiAgXTtcclxuXHJcbiAgZmlsZV90eXBlOiBzdHJpbmc7XHJcbiAgZG93bmxvYWRfdGVtcGxhdGU6IHN0cmluZztcclxuICBpZV9jYW5jZWw6IHN0cmluZztcclxuICBpZV9vazogc3RyaW5nO1xyXG4gIGNob29zZV9maWxlOiBzdHJpbmc7XHJcbiAgaW1wb3J0X2ZpbGU6IHN0cmluZztcclxuICBpbXBvcnRfcGxhY2Vob2xkZXI6IHN0cmluZztcclxuICBkb3dubG9hZF90ZW1wbGF0ZV9vazogc3RyaW5nO1xyXG4gIGRvd25sb2FkX3RlbXBsYXRlX2ZhaWw6IHN0cmluZztcclxuICBjaG9vc2VfdHJ1ZWZpbGU6IHN0cmluZztcclxuICB1cGxvYWRfZmlsZXR5cGVfbm9tYXRjaDogc3RyaW5nO1xyXG4gIHVwbG9hZF9mYWlsOiBzdHJpbmc7XHJcbiAgc2F2ZV9jdXN0b21ydWxlX2ZhaWw6IHN0cmluZztcclxuICBpbXBvcnRfc3VjY2Vzczogc3RyaW5nO1xyXG4gIGltcG9ydF9mYWlsOiBzdHJpbmc7XHJcbiAgaW1wb3J0X2Zvcm1fc3VjY2Vzczogc3RyaW5nO1xyXG4gIGN1c3RvbWV4cG9ydF9ub19jb2x1bW46IHN0cmluZztcclxuICBzZWxlY3RfeGxzeF9ub3RpZnk6IHN0cmluZztcclxuICBpMThuUmVzb3VyY2U6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGN1c3RvbURhdGFJRVNlcnZpY2U6IEN1c3RvbURhdGFJRVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIG5vdGlmeTogTm90aWZ5U2VydmljZSxcclxuICAgIHByaXZhdGUgbG9hZGluZ1NlcnZpY2U6IExvYWRpbmdTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBpbXBvcnRTZXJ2aWNlOiBEYXRhSW1wb3J0U2VydmljZSxcclxuICAgIHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkge1xyXG4gICAgRGF0YUlFVXRpbHMuZ2V0VHJhbnNsYXRlVmFsdWUoaHR0cCkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgIHRoaXMuaW1wb3J0X2ZpbGUgPSByZXNbJ2ltcG9ydF9maWxlJ107XHJcbiAgICAgIHRoaXMuY2hvb3NlX2ZpbGUgPSByZXNbJ2Nob29zZV9maWxlJ107XHJcbiAgICAgIHRoaXMuZmlsZV90eXBlID0gcmVzWydmaWxlX3R5cGUnXTtcclxuICAgICAgdGhpcy5pbXBvcnRfcGxhY2Vob2xkZXIgPSByZXNbJ2ltcG9ydF9wbGFjZWhvbGRlciddO1xyXG4gICAgICB0aGlzLmRvd25sb2FkX3RlbXBsYXRlID0gcmVzWydkb3dubG9hZF90ZW1wbGF0ZSddO1xyXG4gICAgICB0aGlzLmllX2NhbmNlbCA9IHJlc1snaWVfY2FuY2VsJ107XHJcbiAgICAgIHRoaXMuaWVfb2sgPSByZXNbJ2llX29rJ107XHJcbiAgICAgIHRoaXMuY2hvb3NlX3RydWVmaWxlID0gcmVzWydjaG9vc2VfdHJ1ZWZpbGUnXTtcclxuICAgICAgdGhpcy5kb3dubG9hZF90ZW1wbGF0ZV9vayA9IHJlc1snZG93bmxvYWRfdGVtcGxhdGVfb2snXTtcclxuICAgICAgdGhpcy5kb3dubG9hZF90ZW1wbGF0ZV9mYWlsID0gcmVzWydkb3dubG9hZF90ZW1wbGF0ZV9mYWlsJ107XHJcbiAgICAgIHRoaXMudXBsb2FkX2ZhaWwgPSByZXNbJ3VwbG9hZF9mYWlsJ107XHJcbiAgICAgIHRoaXMuaW1wb3J0X3N1Y2Nlc3MgPSByZXNbJ2ltcG9ydF9zdWNjZXNzJ107XHJcbiAgICAgIHRoaXMuaW1wb3J0X2Zvcm1fc3VjY2VzcyA9IHJlc1snaW1wb3J0X2Zvcm1fc3VjY2VzcyddO1xyXG4gICAgICB0aGlzLmltcG9ydF9mYWlsID0gcmVzWydpbXBvcnRfZmFpbCddO1xyXG4gICAgICB0aGlzLnVwbG9hZF9maWxldHlwZV9ub21hdGNoID0gcmVzWyd1cGxvYWRfZmlsZXR5cGVfbm9tYXRjaCddO1xyXG4gICAgICB0aGlzLnNhdmVfY3VzdG9tcnVsZV9mYWlsID0gcmVzWydzYXZlX2N1c3RvbXJ1bGVfZmFpbCddO1xyXG4gICAgICB0aGlzLmN1c3RvbWV4cG9ydF9ub19jb2x1bW4gPSByZXNbJ2N1c3RvbWV4cG9ydF9ub19jb2x1bW4nXTtcclxuICAgICAgdGhpcy5zZWxlY3RfeGxzeF9ub3RpZnkgPSByZXNbJ3NlbGVjdF94bHN4X25vdGlmeSddO1xyXG4gICAgICB0aGlzLmkxOG5SZXNvdXJjZSA9IHJlcztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICAvLyDkuIrkvKDmiJDlip/lkI7miafooYznmoTkuovku7ZcclxuICAgIHRoaXMudXBsb2FkZXIub25TdWNjZXNzSXRlbSA9IHRoaXMuSW1wb3J0LmJpbmQodGhpcyk7XHJcbiAgICAvLyDkuIrkvKDlpLHotKXlkI7miafooYznmoTkuovku7ZcclxuICAgIHRoaXMudXBsb2FkZXIub25FcnJvckl0ZW0gPSB0aGlzLkVycm9yTG9nLmJpbmQodGhpcyk7XHJcbiAgICAvLyDmt7vliqDmlofku7blkI7miafooYznmoTkuovku7ZcclxuICAgIHRoaXMudXBsb2FkZXIub25BZnRlckFkZGluZ0ZpbGUgPSB0aGlzLmFmdGVyQWRkRmlsZTtcclxuICAgIC8vIOS4iuS8oOaWh+S7tuWJjeaJp+ihjOeahOS6i+S7tlxyXG4gICAgdGhpcy51cGxvYWRlci5vbkJlZm9yZVVwbG9hZEl0ZW0gPSB0aGlzLlNhdmVDdXN0b21JbXBvcnRSdWxlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0ZWRGaWxlT25DaGFuZ2UoZXZlbnQpIHtcclxuICAgIGNvbnN0IHN0cjogc3RyaW5nID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgaWYgKHN0ciA9PT0gJycpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5kZXggPSBzdHIubGFzdEluZGV4T2YoJ1xcXFwnKTtcclxuICAgIHRoaXMuZmlsZU5hbWUgPSBzdHIuc3Vic3RyaW5nKGluZGV4ICsgMSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygn6Zif5YiX5Lit55qE5paH5Lu2JyArIHRoaXMudXBsb2FkZXIucXVldWVbMF0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5YWz6Zet56qX5Y+jXHJcbiAgcHVibGljIENsb3NlKCkge1xyXG4gICAgdGhpcy5uZWVkRGVzdHJveS5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICAvLyDpgInmi6nmlofku7bkuovku7ZcclxuICBwdWJsaWMgU2VsZWN0RmlsZSgpOiBhbnkge1xyXG4gICAgdGhpcy5maWxlVXBsb2FkLm5hdGl2ZUVsZW1lbnQuY2xpY2soKTtcclxuICB9XHJcblxyXG4gIGZpbGVUeXBlVmFsdWVDaGFuZ2UoKSB7XHJcbiAgICBjb25zdCBzdWZmaXggPSB0aGlzLmdldEZpbGVFeHRlbnNpb24oKTtcclxuICAgIGlmIChzdWZmaXggPT09ICcueGxzeCcpIHtcclxuICAgICAgdGhpcy5ub3RpZnkuaW5mbyh0aGlzLnNlbGVjdF94bHN4X25vdGlmeSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc3VmZml4ICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuYWNjZXB0RmlsZVR5cGUgPSBzdWZmaXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFjY2VwdEZpbGVUeXBlID0gJy5jc3YsLnhsc20sLnhsc3gsLnhscywucGRmLC54bWwsLmV0JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v5LiL6L295qih5p2/XHJcbiAgcHVibGljIERvd25sb2FkVGVtcGxhdGUoKSB7XHJcbiAgICAvL2NvbnN0IHRlbVJlcyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgbGV0IHN1ZmZpeCA9ICcueGxzJztcclxuICAgIHN1ZmZpeCA9IHRoaXMuZ2V0RmlsZUV4dGVuc2lvbigpO1xyXG5cclxuICAgIGlmICh0aGlzLklubmVyTW9kZWwgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5lbGVTZWxlY3RDb21wLlNhdmUoKTtcclxuICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLklubmVyTW9kZWwuTWFpbk9iamVjdC5FbGVtZW50cztcclxuICAgICAgY29uc3QgbWFpbk9iak5hbWUgPSB0aGlzLklubmVyTW9kZWwuTWFpbk9iamVjdC5GaWxlT2JqZWN0TmFtZTtcclxuICAgICAgaWYgKGVsZW1lbnRzID09IG51bGwgfHwgZWxlbWVudHMgPT09IHVuZGVmaW5lZCB8fCBlbGVtZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aGlzLm5vdGlmeS5pbmZvKG1haW5PYmpOYW1lICsgJyAnICsgdGhpcy5jdXN0b21leHBvcnRfbm9fY29sdW1uKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXN0b21EYXRhSUVTZXJ2aWNlLlNhdmVDdXN0b21JbXBvcnRSdWxlKHRoaXMuSW5uZXJNb2RlbCwgdGhpcy5jb21wb25lbnRzLCB0aGlzLmZyYW1lQ29udGV4dCwgc3VmZml4LCBmYWxzZSwgdGhpcy5pMThuSWQsIHRoaXMuaW1wb3J0T3B0aW9uLmRpbWVuc2lvbikuc3Vic2NyaWJlKFxyXG4gICAgICAgIGRhdGEgPT4ge1xyXG4gICAgICAgICAgaWYgKGRhdGFbJ3N1Y2Nlc3MnXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbURhdGFJRVNlcnZpY2UuRG93bWxvYWRUZW1wbGF0ZSh0aGlzLk1vZGVsLCB0aGlzLmZyYW1lQ29udGV4dCwgdGhpcy5pbXBvcnRPcHRpb24pO1xyXG4gICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZXIgPSB0aGlzLmN1c3RvbURhdGFJRVNlcnZpY2UuY29tcGxldGUuc3Vic2NyaWJlKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChkYXRhID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmRvd25sb2FkX3RlbXBsYXRlX29rKTtcclxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeS5lcnJvcih0aGlzLmRvd25sb2FkX3RlbXBsYXRlX2ZhaWwgKyBkYXRhKTtcclxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeS5lcnJvcih0aGlzLnNhdmVfY3VzdG9tcnVsZV9mYWlsICsgZGF0YVsnbWVzc2FnZSddKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmt7vliqDmlofku7blkI7kuovku7ZcclxuICBhZnRlckFkZEZpbGUoZmlsZUl0ZW06IEZpbGVJdGVtKTogYW55IHtcclxuICB9XHJcblxyXG4gIC8vIOW8gOWni+WvvOWFpVxyXG4gIHB1YmxpYyBPaygpIHtcclxuICAgIGNvbnNvbGUubG9nKCflvIDlp4vkuIrkvKDvvIEnKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMudXBsb2FkZXIucXVldWUpO1xyXG4gICAgY29uc3QgbG9hZGluZ0NvbmZpZyA9IHtcclxuICAgICAgbWVzc2FnZTogdGhpcy5pMThuUmVzb3VyY2VbJ2ltcG9ydF9sb2FkaW5nJ11cclxuICAgIH07XHJcbiAgICB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3cobG9hZGluZ0NvbmZpZyk7XHJcbiAgICBjb25zdCBsZW4gPSB0aGlzLnVwbG9hZGVyLnF1ZXVlLmxlbmd0aDtcclxuICAgIGlmIChsZW4gPT09IDApIHtcclxuICAgICAgdGhpcy5ub3RpZnkuaW5mbyh0aGlzLmNob29zZV90cnVlZmlsZSk7XHJcbiAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UuY2xlYXJBbGwoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGFzdEZpbGVJdGVtID0gdGhpcy51cGxvYWRlci5xdWV1ZVtsZW4gLSAxXTtcclxuICAgIC8vIHRoaXMudXBsb2FkZXIudXBsb2FkQWxsKCk7XHJcbiAgICBjb25zdCBiZWZSZXN0U2VydmljZSA9IERhdGFJRVV0aWxzLkdldEJlZlJlc3RTZXJ2aWNlKHRoaXMuZnJhbWVDb250ZXh0LnJlcG9zaXRvcnkpO1xyXG4gICAgY29uc3QgcHJlVXJsID0gRGF0YUlFVXRpbHMuR2V0UHJlVXJsKGJlZlJlc3RTZXJ2aWNlLmJhc2VVcmkpO1xyXG4gICAgbGV0IHRlbXBVcmwgPSBgJHtwcmVVcmx9L2ltcG9ydC9VcGxvYWRgO1xyXG4gICAgY29uc3Qgc3UgPSBEYXRhSUVVdGlscy5nZXRTdSh0ZW1wVXJsKTtcclxuICAgIGNvbnN0IGZpeGVkVXJsID0gdGhpcy5vcmlnaW4gKyAnL2FwaS9ydW50aW1lL2RpcC92MS4wL3JwY2ltcG9ydC9VcGxvYWQ/c3U9JyArIHN1O1xyXG4gICAgdGhpcy51cGxvYWRlci5zZXRPcHRpb25zKHtcclxuICAgICAgdXJsOiBmaXhlZFVybCxcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGF1dG9VcGxvYWQ6IGZhbHNlLFxyXG4gICAgICBpdGVtQWxpYXM6ICd1cGxvYWRlZGZpbGUnLFxyXG4gICAgICBhbGxvd2VkRmlsZVR5cGU6IFsneGxzJywgJ3htbCcsICdwZGYnLCAnd3BzJywgJ2RvYyddLFxyXG4gICAgICBoZWFkZXJzOiBbe25hbWU6ICdzdScsIHZhbHVlOiBzdX1dXHJcbiAgICB9KTtcclxuICAgIGlmICh0aGlzLmZpbGVOYW1lLnNwbGl0KFwiLlwiKS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgaWYgKHRoaXMuZ2V0RmlsZUV4dGVuc2lvbigpICE9PSAoXCIuXCIgKyB0aGlzLmZpbGVOYW1lLnNwbGl0KFwiLlwiKVsxXSkpIHtcclxuICAgICAgICB0aGlzLm5vdGlmeS5pbmZvKHRoaXMudXBsb2FkX2ZpbGV0eXBlX25vbWF0Y2gpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UuY2xlYXJBbGwoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICB0aGlzLnVwbG9hZGVyLnVwbG9hZEl0ZW0obGFzdEZpbGVJdGVtKTtcclxuXHJcbiAgfVxyXG5cclxuICAvLyDlj5bmtojkuovku7ZcclxuICBwdWJsaWMgQ2FuY2VsKCkge1xyXG4gICAgdGhpcy5uZWVkRGVzdHJveS5lbWl0KCk7XHJcbiAgfVxyXG5cclxuICAvLyDkuIrkvKDlpLHotKXlkI7mlrnms5VcclxuICBFcnJvckxvZyhpdGVtOiBGaWxlSXRlbSwgcmVzcG9uc2U6IHN0cmluZywgc3RhdHVzOiBudW1iZXIsIGhlYWRlcnM6IFBhcnNlZFJlc3BvbnNlSGVhZGVycyk6IGFueSB7XHJcbiAgICBjb25zb2xlLmxvZygn5LiK5Lyg5aSx6LSlJyk7XHJcbiAgICBjb25zb2xlLmxvZygn6ZSZ6K+v5Luj56CB77yaJyArIHN0YXR1cyk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICBjb25zb2xlLmxvZyhoZWFkZXJzKTtcclxuICAgIGlmIChyZXNwb25zZSAhPT0gJyAnKSB7XHJcbiAgICAgIGNvbnN0IHRlbVJlcyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICB0aGlzLm5vdGlmeS5pbmZvKHRoaXMudXBsb2FkX2ZhaWwgKyB0ZW1SZXMpO1xyXG4gICAgICBjb25zb2xlLmxvZygn5aSx6LSl5Y6f5Zug77yaJyArIHRlbVJlcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBTYXZlQ3VzdG9tSW1wb3J0UnVsZSgpIHtcclxuXHJcbiAgfVxyXG5cclxuICBJbXBvcnQoaXRlbTogRmlsZUl0ZW0sIHJlc3BvbnNlOiBzdHJpbmcsIHN0YXR1czogbnVtYmVyLCBoZWFkZXJzOiBQYXJzZWRSZXNwb25zZUhlYWRlcnMpOiBhbnkge1xyXG4gICAgY29uc3QgdGVtUmVzID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICBsZXQgc3VmZml4ID0gJy54bHMnO1xyXG4gICAgc3VmZml4ID0gdGhpcy5nZXRGaWxlRXh0ZW5zaW9uKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuSW5uZXJNb2RlbCAhPT0gbnVsbCkge1xyXG4gICAgICBsZXQgaXNGb3JtID0gZmFsc2U7XHJcbiAgICAgIGlmICh0aGlzLmltcG9ydE9wdGlvbiAhPT0gbnVsbCAmJiB0aGlzLmltcG9ydE9wdGlvblsnSXNJbXBvcnRGb3JtJ10gIT09IG51bGwgJiYgdGhpcy5pbXBvcnRPcHRpb25bJ0lzSW1wb3J0Rm9ybSddICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAodGhpcy5pbXBvcnRPcHRpb25bJ0lzSW1wb3J0Rm9ybSddID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBpc0Zvcm0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVsZVNlbGVjdENvbXAuU2F2ZSgpO1xyXG4gICAgICB0aGlzLmN1c3RvbURhdGFJRVNlcnZpY2UuU2F2ZUN1c3RvbUltcG9ydFJ1bGUodGhpcy5Jbm5lck1vZGVsLCB0aGlzLmNvbXBvbmVudHMsIHRoaXMuZnJhbWVDb250ZXh0LCBzdWZmaXgsIGlzRm9ybSwgdGhpcy5pMThuSWQsIHRoaXMuaW1wb3J0T3B0aW9uLmRpbWVuc2lvbikuc3Vic2NyaWJlKFxyXG4gICAgICAgIGRhdGEgPT4ge1xyXG4gICAgICAgICAgaWYgKGRhdGFbJ3N1Y2Nlc3MnXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVsnaXNJbXBvcnRTdWInXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5JbXBvcnRTdWJUYWJsZUJ5UnVsZShpdGVtLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLkltcG9ydEJ5UnVsZShpdGVtLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkuZXJyb3IodGhpcy5zYXZlX2N1c3RvbXJ1bGVfZmFpbCArIGRhdGFbJ21lc3NhZ2UnXSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UuY2xlYXJBbGwoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygn5pWw5o2u5Lqk5o2i5qih5Z6L5Y+C5pWw5YC85Li656m6Jyk7XHJcbiAgICAgIHRoaXMubG9hZGluZ1NlcnZpY2UuY2xlYXJBbGwoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEltcG9ydEJ5UnVsZShpdGVtOiBGaWxlSXRlbSwgcmVzcG9uc2U6IHN0cmluZywgc3RhdHVzOiBudW1iZXIsIGhlYWRlcnM6IFBhcnNlZFJlc3BvbnNlSGVhZGVycyk6IGFueSB7XHJcbiAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xyXG4gICAgY29uc29sZS5sb2coJ+S4iuS8oOWujOaIkO+8gScpO1xyXG4gICAgaWYgKHN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgY29uc3QgdGVtUmVzID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfkuIrkvKDmiJDlip8nKTtcclxuICAgICAgY29uc29sZS5sb2codGVtUmVzKTtcclxuICAgICAgY29uc3QgbG9hZGluZ0NvbmZpZyA9IHtcclxuICAgICAgICBtZXNzYWdlOiB0aGlzLmkxOG5SZXNvdXJjZVsnaW1wb3J0X2xvYWRpbmcnXVxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBsb2FkaW5nUGFyYW0gPSB7XHJcbiAgICAgICAgbG9hZGluZ1NlcnZpY2U6IHRoaXMubG9hZGluZ1NlcnZpY2UsXHJcbiAgICAgICAgbG9hZGluZ0NvbmZpZzogbG9hZGluZ0NvbmZpZ1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBjb21tb25QYXJhbXMgPSBuZXcgQ29tbW9uUGFyYW1zKCk7XHJcbiAgICAgIGNvbW1vblBhcmFtcy5rZXlzID0gWydEYXRhSW1wb3J0JywgdGhpcy5Nb2RlbFsnTWFpbk9iamVjdCddWydTb3VyY2UnXVsnU291cmNlTWV0YWRhdGFJRCddLCB0aGlzLmltcG9ydE9wdGlvbi5kaW1lbnNpb25dO1xyXG4gICAgICBjb21tb25QYXJhbXMub3B0aW9uID0gdGhpcy5pbXBvcnRPcHRpb247XHJcbiAgICAgIGNvbW1vblBhcmFtcy5maWxlTmFtZSA9IHRlbVJlc1snZmlsZU5hbWUnXTtcclxuICAgICAgY29tbW9uUGFyYW1zLnJlcG9zaXRvcnkgPSB0aGlzLmZyYW1lQ29udGV4dC5yZXBvc2l0b3J5O1xyXG4gICAgICBjb21tb25QYXJhbXMubG9hZGluZ1BhcmFtID0gbG9hZGluZ1BhcmFtO1xyXG4gICAgICBjb21tb25QYXJhbXMuaTE4blJlc291cmNlID0gdGhpcy5pMThuUmVzb3VyY2U7XHJcbiAgICAgIHRoaXMuY3VzdG9tRGF0YUlFU2VydmljZS5JbXBvcnRCeVJ1bGUoY29tbW9uUGFyYW1zKTtcclxuICAgICAgY29uc3QgdW5zdWJzY3JpYmVyID0gdGhpcy5pbXBvcnRTZXJ2aWNlLmNvbXBsZXRlLnN1YnNjcmliZShkYXRhID0+IHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdTZXJ2aWNlLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09ICcnKSB7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaW1wb3J0X3N1Y2Nlc3MpO1xyXG4gICAgICAgICAgdW5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB0aGlzLm5lZWREZXN0cm95LmVtaXQoKTtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHRydWUpO1xyXG4gICAgICAgICAgdGhpcy5zdWJqZWN0LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSAn5a+85YWl6KGo5Y2V5oiQ5YqfJykge1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmltcG9ydF9mb3JtX3N1Y2Nlc3MpO1xyXG4gICAgICAgICAgdW5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB0aGlzLm5lZWREZXN0cm95LmVtaXQoKTtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHRydWUpO1xyXG4gICAgICAgICAgdGhpcy5zdWJqZWN0LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGVycm9ybGV2ZWwgPSB0aGlzLmltcG9ydFNlcnZpY2UuZXJyb3JsZXZlbDtcclxuICAgICAgICAgIGlmIChlcnJvcmxldmVsID09PSAnSW5mbycpIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkuaW5mbyhkYXRhKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3JsZXZlbCA9PT0gJ1dhcm5pbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcoZGF0YSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeS5lcnJvcih0aGlzLmltcG9ydF9mYWlsICsgZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB1bnN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgIHRoaXMubmVlZERlc3Ryb3kuZW1pdCgpO1xyXG4gICAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoZmFsc2UpO1xyXG4gICAgICAgICAgdGhpcy5zdWJqZWN0LmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEltcG9ydFN1YlRhYmxlQnlSdWxlKGl0ZW06IEZpbGVJdGVtLCByZXNwb25zZTogc3RyaW5nLCBzdGF0dXM6IG51bWJlciwgaGVhZGVyczogUGFyc2VkUmVzcG9uc2VIZWFkZXJzKTogYW55IHtcclxuICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICBjb25zdCB0ZW1SZXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgY29uc3QgbG9hZGluZ0NvbmZpZyA9IHtcclxuICAgICAgICBtZXNzYWdlOiB0aGlzLmkxOG5SZXNvdXJjZVsnaW1wb3J0X2xvYWRpbmcnXVxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBsb2FkaW5nUGFyYW0gPSB7XHJcbiAgICAgICAgbG9hZGluZ1NlcnZpY2U6IHRoaXMubG9hZGluZ1NlcnZpY2UsXHJcbiAgICAgICAgbG9hZGluZ0NvbmZpZzogbG9hZGluZ0NvbmZpZ1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBjb21tb25QYXJhbXMgPSBuZXcgQ29tbW9uUGFyYW1zKCk7XHJcbiAgICAgIGNvbW1vblBhcmFtcy5rZXlzID0gWydEYXRhSW1wb3J0JywgdGhpcy5Nb2RlbFsnTWFpbk9iamVjdCddWydTb3VyY2UnXVsnU291cmNlTWV0YWRhdGFJRCddLCB0aGlzLmltcG9ydE9wdGlvbi5kaW1lbnNpb25dO1xyXG4gICAgICBjb21tb25QYXJhbXMub3B0aW9uID0gdGhpcy5pbXBvcnRPcHRpb247XHJcbiAgICAgIGNvbW1vblBhcmFtcy5maWxlTmFtZSA9IHRlbVJlc1snZmlsZU5hbWUnXTtcclxuICAgICAgY29tbW9uUGFyYW1zLnJlcG9zaXRvcnkgPSB0aGlzLmZyYW1lQ29udGV4dC5yZXBvc2l0b3J5O1xyXG4gICAgICBjb21tb25QYXJhbXMuZnJhbWVDb250ZXh0ID0gdGhpcy5mcmFtZUNvbnRleHQ7XHJcbiAgICAgIGNvbW1vblBhcmFtcy5sb2FkaW5nUGFyYW0gPSBsb2FkaW5nUGFyYW07XHJcbiAgICAgIGNvbW1vblBhcmFtcy5pMThuUmVzb3VyY2UgPSB0aGlzLmkxOG5SZXNvdXJjZTtcclxuICAgICAgY29uc3QgZmxhZyA9IHRoaXMuY3VzdG9tRGF0YUlFU2VydmljZS5JbXBvcnRTdWJUYWJsZUJ5UnVsZShjb21tb25QYXJhbXMpO1xyXG4gICAgICBpZiAoZmxhZyA9PT0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdTZXJ2aWNlLmNsZWFyQWxsKCk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdW5zdWJzY3JpYmVyID0gdGhpcy5pbXBvcnRTZXJ2aWNlLmNvbXBsZXRlLnN1YnNjcmliZShkYXRhID0+IHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdTZXJ2aWNlLmNsZWFyQWxsKCk7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09ICcnKSB7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaW1wb3J0X3N1Y2Nlc3MpO1xyXG4gICAgICAgICAgdW5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh0cnVlKTtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5uZWVkRGVzdHJveS5lbWl0KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhID09PSAn5a+85YWl6KGo5Y2V5oiQ5YqfJykge1xyXG4gICAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmltcG9ydF9mb3JtX3N1Y2Nlc3MpO1xyXG4gICAgICAgICAgdW5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh0cnVlKTtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5uZWVkRGVzdHJveS5lbWl0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGVycm9ybGV2ZWwgPSB0aGlzLmltcG9ydFNlcnZpY2UuZXJyb3JsZXZlbDtcclxuICAgICAgICAgIGlmIChlcnJvcmxldmVsID09PSAnSW5mbycpIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkuaW5mbyhkYXRhKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3JsZXZlbCA9PT0gJ1dhcm5pbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcoZGF0YSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeS5lcnJvcih0aGlzLmltcG9ydF9mYWlsICsgZGF0YSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB1bnN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KGZhbHNlKTtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgdGhpcy5uZWVkRGVzdHJveS5lbWl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVuc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEZpbGVFeHRlbnNpb24oKTogYW55IHtcclxuICAgIGxldCBzdWZmaXggPSBudWxsO1xyXG4gICAgc3dpdGNoICh0aGlzLnZhbHVlRmllbGQpIHtcclxuICAgICAgY2FzZSAnT2ZmaWNlIEV4Y2VsOTctMjAwMygqLnhscyknOlxyXG4gICAgICAgIHN1ZmZpeCA9ICcueGxzJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnT2ZmaWNlIEV4Y2VsKCoueGxzeCknOlxyXG4gICAgICAgIHN1ZmZpeCA9ICcueGxzeCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ09mZmljZSBFeGNlbCBNYWNybygqLnhsc20pJzpcclxuICAgICAgICBzdWZmaXggPSAnLnhsc20nO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdXUFMgVGFibGUoKi5ldCknOlxyXG4gICAgICAgIHN1ZmZpeCA9ICcuZXQnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdXUFMgVGFibGUoVGVtcGxhdGUgRmlsZSkoKi5ldHQpJzpcclxuICAgICAgICBzdWZmaXggPSAnLmV0dCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VmZml4O1xyXG4gIH1cclxufVxyXG4iXX0=