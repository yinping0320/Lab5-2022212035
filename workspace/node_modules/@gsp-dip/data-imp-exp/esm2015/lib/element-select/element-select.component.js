/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { DataIEUtils } from '../service/Utils/DataIEUtils';
export class ElementSelectComponent {
    /**
     * @param {?} http
     */
    constructor(http) {
        this.http = http;
        this.cols = [];
        this.selectedKeys = [];
        this.newSelectedKeys = [];
        // public isNewExpanded = true;
        this.keys = [];
        this.newKeys = [];
        this.Model = null;
        this.CustomModel = null;
        this.InnerModel = null;
        this.TreeData = null;
        this.NewData = null;
        this.isExpanded = (/**
         * @param {?} dataItem
         * @param {?} index
         * @return {?}
         */
        (dataItem, index) => {
            return this.keys.indexOf(index) > -1;
        });
        this.isNewExpanded = (/**
         * @param {?} dataItem
         * @param {?} index
         * @return {?}
         */
        (dataItem, index) => {
            return this.newKeys.indexOf(index) > -1;
        });
        DataIEUtils.getTranslateValue(http).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        res => {
            this.data_entity = res['data_entity'];
            this.selected_item = res['selected_item'];
        }));
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        //暂时屏蔽
        // this.checkRightData();
        this.TreeData = this.OrganizeLeftTreeOriginal();
        this.NewData = this.OrganizeRightTreeOriginal();
    }
    /**
     * @return {?}
     */
    checkRightData() {
        if (this.CustomModel !== null) {
            /** @type {?} */
            const mainObj = this.Model['MainObject'];
            /** @type {?} */
            const elements = mainObj['Elements'];
            /** @type {?} */
            const customMainObj = this.CustomModel['MainObject'];
            /** @type {?} */
            const customElements = customMainObj['Elements'];
            for (let i = 0; i < customElements.length; i++) {
                /** @type {?} */
                const ele = customElements[i];
                /** @type {?} */
                const idx = elements.findIndex((/**
                 * @param {?} e
                 * @return {?}
                 */
                e => e['ID'] === ele['ID']));
                if (idx < 0) {
                    customElements.splice(i, 1);
                    i--;
                }
            }
        }
    }
    // 组织右侧树，将模型转换为可以展示的Json结构。
    /**
     * @private
     * @return {?}
     */
    OrganizeRightTreeOriginal() {
        /** @type {?} */
        const tree = [];
        if (this.CustomModel !== null) {
            /** @type {?} */
            const mainObj = this.CustomModel['MainObject'];
            tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });
        }
        else {
            /** @type {?} */
            const mainObj = this.Model['MainObject'];
            tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, false) });
        }
        return tree;
    }
    // 组织左侧树
    /**
     * @private
     * @return {?}
     */
    OrganizeLeftTreeOriginal() {
        /** @type {?} */
        const tree = [];
        if (this.CustomModel !== null) {
            /** @type {?} */
            const mainObj = this.Model['MainObject'];
            /** @type {?} */
            const customMainObj = this.CustomModel['MainObject'];
            tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OraganizeMinusObj(mainObj, customMainObj) });
        }
        else {
            /** @type {?} */
            const mainObj = this.Model['MainObject'];
            tree.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });
        }
        return tree;
    }
    // 组织列，customObj：从数据库中获取的对象，obj：外面传入的对象。
    /**
     * @private
     * @param {?} obj
     * @param {?} customObj
     * @return {?}
     */
    OraganizeMinusObj(obj, customObj) {
        // const items = [];
        // obj['Elements'].forEach(ele => {
        //   const customEle = customObj['Elements'].find(t => t['ID'] === ele['ID']);
        //   if (customEle === null || customEle === undefined) {
        //     if (ele['UdtElements'] !== null && ele['UdtElements'] !== undefined && ele['UdtElements'].length > 0) {
        //       const udtItems = this.OrganizeUdtElements(ele['UdtElements'], customEle['UdtElements']);
        //     } else {
        //       items.push({id: ele['ID'], text: ele['Name'], code: ele['Code'], order: ele['Order']});
        //     }
        //   }
        // });
        /** @type {?} */
        const items = this.OrganizeElementsWithUdtMinus(obj['Elements'], customObj['Elements']);
        if (obj['ChildrenDeo'].length > 0) {
            obj['ChildrenDeo'].forEach((/**
             * @param {?} deo
             * @return {?}
             */
            deo => {
                /** @type {?} */
                const customChildDeo = customObj['ChildrenDeo'].find((/**
                 * @param {?} t
                 * @return {?}
                 */
                t => t['ID'] === deo['ID']));
                items.push({ id: deo['ID'], code: deo['Code'], text: deo['FileObjectName'], items: this.OraganizeMinusObj(deo, customChildDeo) });
            }));
        }
        return items;
    }
    // 获取左右树udt字段的差
    /**
     * @private
     * @param {?} newUdtEles
     * @param {?} udtEles
     * @return {?}
     */
    OrganizeElementsWithUdtMinus(newUdtEles, udtEles) {
        /** @type {?} */
        const items = [];
        newUdtEles.forEach((/**
         * @param {?} ele
         * @return {?}
         */
        ele => {
            /** @type {?} */
            const customEle = udtEles.find((/**
             * @param {?} t
             * @return {?}
             */
            t => t['ID'] === ele['ID']));
            if (customEle === null || customEle === undefined) {
                if (ele['UdtElements'] !== null && ele['UdtElements'] !== undefined && ele['UdtElements'].length > 0) {
                    /** @type {?} */
                    const udtItems = this.OrganizeElementsWithUdt(ele['UdtElements']);
                    if (udtItems.length > 0) {
                        items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'], items: udtItems });
                    }
                }
                else {
                    items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'] });
                }
            }
            else {
                if (ele['UdtElements'] !== null && ele['UdtElements'] !== undefined && ele['UdtElements'].length > 0) {
                    /** @type {?} */
                    const udtItems = this.OrganizeElementsWithUdtMinus(ele['UdtElements'], customEle['UdtElements']);
                    if (udtItems.length > 0) {
                        items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'], items: udtItems });
                    }
                }
            }
        }));
        return items;
    }
    // 添加子对象Json串
    // private OrganizeChildObjJson(obj): any[] {
    //   const items = [];
    //   if (obj['ChildrenDeo'].length > 0) {
    //     obj['ChildrenDeo'].forEach(deo => items.push({id: deo['ID'], code: deo['Code'], text: deo['Name'],
    //     items: this.OrganizeChildObjJson(deo)}));
    //   }
    //   return items;
    // }
    // 添加对象Json串
    /**
     * @private
     * @param {?} obj
     * @param {?} addEle
     * @return {?}
     */
    OrganizeObjJson(obj, addEle) {
        /** @type {?} */
        let items = [];
        if (addEle) {
            items = this.OrganizeElementsWithUdt(obj['Elements']);
            // obj['Elements'].forEach(ele => items.push({id: ele['ID'], text: ele['Name'], code: ele['Code'], order: ele['Order']}));
        }
        if (obj['ChildrenDeo'].length > 0) {
            obj['ChildrenDeo'].forEach((/**
             * @param {?} deo
             * @return {?}
             */
            deo => items.push({
                id: deo['ID'], code: deo['Code'], text: deo['FileObjectName'],
                items: this.OrganizeObjJson(deo, addEle)
            })));
        }
        return items;
    }
    /**
     * @private
     * @param {?} eles
     * @return {?}
     */
    OrganizeElementsWithUdt(eles) {
        /** @type {?} */
        const items = [];
        eles.forEach((/**
         * @param {?} ele
         * @return {?}
         */
        ele => {
            if (ele['UdtElements'].length > 0) {
                /** @type {?} */
                const udtItems = this.OrganizeElementsWithUdt(ele['UdtElements']);
                if (udtItems.length > 0) {
                    items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'], items: udtItems });
                }
                else {
                    items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'] });
                }
            }
            else {
                items.push({ id: ele['ID'], text: ele['FileElementName'], code: ele['Code'], order: ele['Order'] });
            }
        }));
        return items;
    }
    // 右移
    /**
     * @return {?}
     */
    RightMove() {
        if (this.selectedKeys.length === 0) {
            return;
        }
        /** @type {?} */
        const indexes = this.GetIndexes(this.selectedKeys[0]);
        this.MoveData(indexes, this.TreeData, '', this.NewData);
    }
    // 左移
    /**
     * @return {?}
     */
    LeftMove() {
        if (this.newSelectedKeys.length === 0) {
            return;
        }
        /** @type {?} */
        const indexes = this.GetIndexes(this.newSelectedKeys[0]);
        this.MoveData(indexes, this.NewData, '', this.TreeData);
    }
    /**
     * @private
     * @param {?} sKeys
     * @return {?}
     */
    GetIndexes(sKeys) {
        /** @type {?} */
        const arr = sKeys.split('_');
        /** @type {?} */
        const indexes = [];
        arr.forEach((/**
         * @param {?} element
         * @return {?}
         */
        element => {
            indexes.push(Number(element));
        }));
        return arr;
    }
    /**
     * @private
     * @param {?} indexes
     * @param {?} data
     * @param {?} objId
     * @param {?} newData
     * @return {?}
     */
    MoveData(indexes, data, objId, newData) {
        /** @type {?} */
        const index = indexes.shift();
        if (indexes.length > 0) {
            this.MoveData(indexes, data[index].items, data[index].id, newData);
        }
        else {
            if (data[index].order !== undefined) {
                /** @type {?} */
                const result = this.AddData(objId, newData, data[index]);
                if (!result) {
                    return;
                }
                data.splice(index, 1);
            }
        }
    }
    /**
     * @private
     * @param {?} mainId
     * @param {?} newData
     * @param {?} data
     * @return {?}
     */
    AddData(mainId, newData, data) {
        // 先找到所属对象
        /** @type {?} */
        const obj = this.FindObjAndIndex(mainId, newData, '');
        if (obj === null) {
            return false;
        }
        // 找到要插入的位置
        /** @type {?} */
        const index = this.FindColIndex(obj.dataItem.items, data.order);
        obj.dataItem.items.splice(index, 0, data);
        this.handleNewExpand(obj);
        return true;
    }
    /**
     * @private
     * @param {?} mainId
     * @param {?} data
     * @param {?} parentIndex
     * @return {?}
     */
    FindObjAndIndex(mainId, data, parentIndex) {
        /** @type {?} */
        let result = null;
        // tslint:disable-next-line:prefer-for-of
        for (let i = 0; i < data.length; i++) {
            if (data[i].id === mainId) {
                if (parentIndex !== '') {
                    result = { index: parentIndex + '_' + i.toString(), dataItem: data[i] };
                }
                else {
                    result = { index: i.toString(), dataItem: data[i] };
                }
            }
            else if (data[i].items !== undefined && data[i].items.length > 0) {
                result = this.FindObjAndIndex(mainId, data[i].items, i.toString());
            }
            if (result == null) {
                continue;
            }
            else {
                return result;
            }
        }
        return result;
    }
    /**
     * @private
     * @param {?} items
     * @param {?} order
     * @return {?}
     */
    FindColIndex(items, order) {
        /** @type {?} */
        let index = -1;
        if (items.length === 0) {
            return 0;
        }
        for (let i = 0; i < items.length; i++) {
            if (items[i].order < order) {
                index = i;
            }
            else {
                break;
            }
        }
        return index + 1;
    }
    /**
     * @param {?} node
     * @return {?}
     */
    handleCollapse(node) {
        this.keys = this.keys.filter((/**
         * @param {?} k
         * @return {?}
         */
        k => k !== node.index));
    }
    /**
     * @param {?} node
     * @return {?}
     */
    handleExpand(node) {
        console.log(node);
        this.keys = this.keys.concat(node.index);
    }
    /**
     * @param {?} node
     * @return {?}
     */
    handleNewCollapse(node) {
        this.newKeys = this.newKeys.filter((/**
         * @param {?} k
         * @return {?}
         */
        k => k !== node.index));
    }
    /**
     * @param {?} node
     * @return {?}
     */
    handleNewExpand(node) {
        console.log(node);
        this.newKeys = this.newKeys.concat(node.index);
    }
    /**
     * @return {?}
     */
    RightMoveAll() {
        // this.ClearTree(this.TreeData);
        // this.FillTree(this.NewData);
        this.TreeData = [];
        /** @type {?} */
        const mainObj = this.Model['MainObject'];
        this.TreeData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, false) });
        // this.FillTree(this.TreeData);
        this.NewData = [];
        this.NewData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });
    }
    /**
     * @param {?} t
     * @return {?}
     */
    FillTree(t) {
        t = [];
        /** @type {?} */
        const mainObj = this.Model['MainObject'];
        t.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });
    }
    /**
     * @param {?} t
     * @return {?}
     */
    ClearTree(t) {
        // t = [];
        // const mainObj = this.Model['MainObject'];
        // t.push({id: mainObj['ID'], code: mainObj['Code'], text: mainObj['Name'], items: this.OrganizeObjJson(mainObj, false)});
        t = [];
    }
    /**
     * @return {?}
     */
    LeftMoveAll() {
        // this.ClearTree(this.NewData);
        this.NewData = [];
        /** @type {?} */
        const mainObj = this.Model['MainObject'];
        this.NewData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, false) });
        // this.FillTree(this.TreeData);
        this.TreeData = [];
        this.TreeData.push({ id: mainObj['ID'], code: mainObj['Code'], text: mainObj['FileObjectName'], items: this.OrganizeObjJson(mainObj, true) });
    }
    /**
     * @return {?}
     */
    MoveUp() {
        if (this.newSelectedKeys.length === 0) {
            return;
        }
        /** @type {?} */
        const indexes = this.GetIndexes(this.newSelectedKeys[0]);
        /** @type {?} */
        const lastIndex = indexes.pop();
        /** @type {?} */
        const items = this.GetItems(indexes, this.NewData);
        if (items[lastIndex].order === undefined || items[lastIndex].order === 0) {
            return;
        }
        /** @type {?} */
        const temp = items[lastIndex].order;
        items[lastIndex].order = items[lastIndex - 1].order;
        items[lastIndex - 1].order = temp;
        items.splice(lastIndex - 1, 0, items[lastIndex]);
        items.splice(Number(lastIndex) + 1, 1);
        /** @type {?} */
        const parentIndex = this.newSelectedKeys[0];
        this.newSelectedKeys[0] = parentIndex.substring(0, parentIndex.lastIndexOf('_') + 1) + (lastIndex - 1);
    }
    /**
     * @private
     * @param {?} indexes
     * @param {?} data
     * @return {?}
     */
    GetItems(indexes, data) {
        if (indexes.length === 0) {
            return data;
        }
        /** @type {?} */
        const index = indexes.shift();
        return this.GetItems(indexes, data[index].items);
    }
    /**
     * @return {?}
     */
    MoveDown() {
        if (this.newSelectedKeys.length === 0) {
            return;
        }
        /** @type {?} */
        const indexes = this.GetIndexes(this.newSelectedKeys[0]);
        /** @type {?} */
        const lastIndex = indexes.pop();
        /** @type {?} */
        const items = this.GetItems(indexes, this.NewData);
        if (items.length === lastIndex || items[Number(lastIndex) + 1] === undefined || items[Number(lastIndex) + 1].order === undefined
            || items[lastIndex].order === undefined) {
            return;
        }
        /** @type {?} */
        const temp = items[lastIndex].order;
        items[lastIndex].order = items[Number(lastIndex) + 1].order;
        items[Number(lastIndex) + 1].order = temp;
        items.splice(Number(lastIndex) + 2, 0, items[lastIndex]);
        items.splice(lastIndex, 1);
        /** @type {?} */
        const parentIndex = this.newSelectedKeys[0];
        this.newSelectedKeys[0] = parentIndex.substring(0, parentIndex.lastIndexOf('_') + 1) + (Number(lastIndex) + 1);
    }
    /**
     * @return {?}
     */
    Save() {
        // 传入的模型的主对象
        if (this.InnerModel == null) {
            this.InnerModel = this.Model;
        }
        /** @type {?} */
        const mainObj = this.InnerModel['MainObject'];
        /** @type {?} */
        const newMainObj = this.NewData[0];
        /** @type {?} */
        const preMainObj = this.Model['MainObject'];
        mainObj['Elements'] = this.OrganizeElements(preMainObj['Elements'], newMainObj);
        this.OrganizeChildrenDeo(mainObj, newMainObj, preMainObj);
    }
    /**
     * @private
     * @param {?} obj
     * @param {?} newObj
     * @param {?} preMainObj
     * @return {?}
     */
    OrganizeChildrenDeo(obj, newObj, preMainObj) {
        if (obj['ChildrenDeo'] !== undefined && obj['ChildrenDeo'].length > 0) {
            /** @type {?} */
            const newChildrenDeo = [];
            obj['ChildrenDeo'].forEach((/**
             * @param {?} t
             * @return {?}
             */
            t => {
                /** @type {?} */
                const childDeo = newObj['items'].find((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item['id'] === t['ID']));
                /** @type {?} */
                const preChildObj = preMainObj['ChildrenDeo'].find((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item['ID'] === t['ID']));
                if (childDeo !== null && childDeo !== undefined) {
                    t['Elements'] = this.OrganizeElements(preChildObj['Elements'], childDeo);
                    if (t['Elements'] !== undefined && t['Elements'] !== null) {
                        newChildrenDeo.push(t);
                    }
                }
                this.OrganizeChildrenDeo(t, childDeo, preChildObj);
            }));
            obj['ChildrenDeo'] = newChildrenDeo;
        }
    }
    // 保存时组织列, obj: 外部传入的列，newObj: 编辑后新的列
    /**
     * @private
     * @param {?} obj
     * @param {?} newObj
     * @return {?}
     */
    OrganizeElements(obj, newObj) {
        /** @type {?} */
        const newEles = newObj['items'];
        /** @type {?} */
        const eles = [];
        newEles.forEach((/**
         * @param {?} t
         * @return {?}
         */
        t => {
            /** @type {?} */
            const ele = obj.find((/**
             * @param {?} e
             * @return {?}
             */
            e => e['ID'] === t['id']));
            if (ele !== undefined && ele !== null) {
                eles.push(ele);
            }
        }));
        return eles;
    }
}
ElementSelectComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-element-select',
                template: "<div *ngIf=\"Model\" class=\"row inner\">\r\n  <div class=\"col-lg-5 col-md-5\">\r\n    <div>\r\n      <div>\r\n        {{data_entity}}\r\n      </div>\r\n      \r\n      <div class=\"hasborder\" style=\"height:330px;overflow-y:auto\">\r\n        <kendo-treeview\r\n          [nodes]=\"TreeData\"\r\n          textField=\"text\"\r\n          kendoTreeViewExpandable\r\n          kendoTreeViewSelectable\r\n          kendoTreeViewHierarchyBinding\r\n          childrenField=\"items\"\r\n          [(selectedKeys)]=\"selectedKeys\"\r\n          [isExpanded]=\"isExpanded\"\r\n          (collapse)=\"handleCollapse($event)\"\r\n          (expand)=\"handleExpand($event)\"\r\n        >\r\n        \r\n        </kendo-treeview>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"col-lg-2 col-md-2 btn-group-vertical\" role=\"group\" aria-label=\"...\">\r\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"RightMove()\">></button>\r\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"LeftMove()\"><</button>\r\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"RightMoveAll()\">>></button>\r\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"LeftMoveAll()\"><<</button>\r\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"MoveUp()\">^</button>\r\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"MoveDown()\">v</button>\r\n  </div>\r\n  <div class=\"col-lg-5 col-md-5\">\r\n    <div>\r\n      <div>\r\n        {{selected_item}}\r\n      </div>\r\n      <div class=\"hasborder\" style=\"height:330px;overflow-y:auto\">\r\n        <kendo-treeview\r\n          [nodes]=\"NewData\"\r\n          textField=\"text\"\r\n          kendoTreeViewExpandable\r\n          kendoTreeViewSelectable\r\n          kendoTreeViewHierarchyBinding\r\n          childrenField=\"items\"\r\n          [(selectedKeys)]=\"newSelectedKeys\"\r\n          [isExpanded]=\"isNewExpanded\"\r\n          (collapse)=\"handleNewCollapse($event)\"\r\n          (expand)=\"handleNewExpand($event)\"\r\n        >\r\n          <ng-template kendoTreeViewNodeTemplate let-dataItem>\r\n            {{dataItem.text}}\r\n            <span></span>\r\n          </ng-template>\r\n        </kendo-treeview>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- <div *ngIf=\"Model\" class=\"row inner\">\r\n\r\n  <multi-select [dataSource]=\"leftTreeData\" [idField]=\"'name'\" [valueField]=\"'type'\" [textField]=\"'name'\" [displayType]=\"'Tree'\"\r\n    [(selectedId)]=\"treeSelectedId\">\r\n    <ng-template farrisTemplate=\"text\" let-data>\r\n      {{ data['name'] }} [ {{ data['type'] }}]\r\n    </ng-template>\r\n  </multi-select>\r\n</div> -->",
                providers: [],
                styles: ["kendo-grid-column{line-height:30px}.inner{margin:5px}.btn{width:80px;margin-bottom:5px}.hasborder{border:.5px solid #a9a9a9;height:330px}"]
            }] }
];
/** @nocollapse */
ElementSelectComponent.ctorParameters = () => [
    { type: HttpClient }
];
ElementSelectComponent.propDecorators = {
    Model: [{ type: Input }],
    CustomModel: [{ type: Input }],
    InnerModel: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    ElementSelectComponent.prototype.cols;
    /** @type {?} */
    ElementSelectComponent.prototype.selectedKeys;
    /** @type {?} */
    ElementSelectComponent.prototype.newSelectedKeys;
    /** @type {?} */
    ElementSelectComponent.prototype.keys;
    /** @type {?} */
    ElementSelectComponent.prototype.newKeys;
    /** @type {?} */
    ElementSelectComponent.prototype.Model;
    /** @type {?} */
    ElementSelectComponent.prototype.CustomModel;
    /** @type {?} */
    ElementSelectComponent.prototype.InnerModel;
    /** @type {?} */
    ElementSelectComponent.prototype.TreeData;
    /** @type {?} */
    ElementSelectComponent.prototype.NewData;
    /** @type {?} */
    ElementSelectComponent.prototype.data_entity;
    /** @type {?} */
    ElementSelectComponent.prototype.selected_item;
    /** @type {?} */
    ElementSelectComponent.prototype.isExpanded;
    /** @type {?} */
    ElementSelectComponent.prototype.isNewExpanded;
    /**
     * @type {?}
     * @private
     */
    ElementSelectComponent.prototype.http;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC1zZWxlY3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1kaXAvZGF0YS1pbXAtZXhwLyIsInNvdXJjZXMiOlsibGliL2VsZW1lbnQtc2VsZWN0L2VsZW1lbnQtc2VsZWN0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDekQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQVEzRCxNQUFNLE9BQU8sc0JBQXNCOzs7O0lBbUJqQyxZQUNVLElBQWdCO1FBQWhCLFNBQUksR0FBSixJQUFJLENBQVk7UUFsQjFCLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDSCxpQkFBWSxHQUFVLEVBQUUsQ0FBQztRQUN6QixvQkFBZSxHQUFVLEVBQUUsQ0FBQzs7UUFFNUIsU0FBSSxHQUFhLEVBQUUsQ0FBQztRQUNwQixZQUFPLEdBQWEsRUFBRSxDQUFDO1FBRXZCLFVBQUssR0FBUSxJQUFJLENBQUM7UUFFbEIsZ0JBQVcsR0FBUSxJQUFJLENBQUM7UUFFeEIsZUFBVSxHQUFRLElBQUksQ0FBQztRQUN2QixhQUFRLEdBQVUsSUFBSSxDQUFDO1FBQ3ZCLFlBQU8sR0FBVSxJQUFJLENBQUM7UUFtSnRCLGVBQVU7Ozs7O1FBQUcsQ0FBQyxRQUFhLEVBQUUsS0FBYSxFQUFFLEVBQUU7WUFDbkQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QyxDQUFDLEVBQUE7UUFDTSxrQkFBYTs7Ozs7UUFBRyxDQUFDLFFBQWEsRUFBRSxLQUFhLEVBQUUsRUFBRTtZQUN0RCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMs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ZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XHJcbmltcG9ydCB7IERhdGFJRVV0aWxzIH0gZnJvbSAnLi4vc2VydmljZS9VdGlscy9EYXRhSUVVdGlscyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC1lbGVtZW50LXNlbGVjdCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2VsZW1lbnQtc2VsZWN0LmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9lbGVtZW50LXNlbGVjdC5jb21wb25lbnQuY3NzJ10sXHJcbiAgcHJvdmlkZXJzOiBbXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRWxlbWVudFNlbGVjdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIGNvbHMgPSBbXTtcclxuICBwdWJsaWMgc2VsZWN0ZWRLZXlzOiBhbnlbXSA9IFtdO1xyXG4gIHB1YmxpYyBuZXdTZWxlY3RlZEtleXM6IGFueVtdID0gW107XHJcbiAgLy8gcHVibGljIGlzTmV3RXhwYW5kZWQgPSB0cnVlO1xyXG4gIHB1YmxpYyBrZXlzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIHB1YmxpYyBuZXdLZXlzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIE1vZGVsOiBhbnkgPSBudWxsO1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIEN1c3RvbU1vZGVsOiBhbnkgPSBudWxsO1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIElubmVyTW9kZWw6IGFueSA9IG51bGw7XHJcbiAgcHVibGljIFRyZWVEYXRhOiBhbnlbXSA9IG51bGw7XHJcbiAgcHVibGljIE5ld0RhdGE6IGFueVtdID0gbnVsbDtcclxuXHJcbiAgZGF0YV9lbnRpdHk6IHN0cmluZztcclxuICBzZWxlY3RlZF9pdGVtOiBzdHJpbmc7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGh0dHA6IEh0dHBDbGllbnRcclxuICApIHtcclxuICAgIERhdGFJRVV0aWxzLmdldFRyYW5zbGF0ZVZhbHVlKGh0dHApLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICB0aGlzLmRhdGFfZW50aXR5ID0gcmVzWydkYXRhX2VudGl0eSddO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkX2l0ZW0gPSByZXNbJ3NlbGVjdGVkX2l0ZW0nXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICAvL+aaguaXtuWxj+iUvVxyXG4gICAgLy8gdGhpcy5jaGVja1JpZ2h0RGF0YSgpO1xyXG4gICAgdGhpcy5UcmVlRGF0YSA9IHRoaXMuT3JnYW5pemVMZWZ0VHJlZU9yaWdpbmFsKCk7XHJcbiAgICB0aGlzLk5ld0RhdGEgPSB0aGlzLk9yZ2FuaXplUmlnaHRUcmVlT3JpZ2luYWwoKTtcclxuICB9XHJcbiAgY2hlY2tSaWdodERhdGEoKSB7XHJcbiAgICBpZiAodGhpcy5DdXN0b21Nb2RlbCAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBtYWluT2JqID0gdGhpcy5Nb2RlbFsnTWFpbk9iamVjdCddO1xyXG4gICAgICBjb25zdCBlbGVtZW50czogQXJyYXk8c3RyaW5nPiA9IG1haW5PYmpbJ0VsZW1lbnRzJ107XHJcbiAgICAgIGNvbnN0IGN1c3RvbU1haW5PYmogPSB0aGlzLkN1c3RvbU1vZGVsWydNYWluT2JqZWN0J107XHJcbiAgICAgIGNvbnN0IGN1c3RvbUVsZW1lbnRzID0gY3VzdG9tTWFpbk9ialsnRWxlbWVudHMnXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXN0b21FbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGVsZSA9IGN1c3RvbUVsZW1lbnRzW2ldO1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IGVsZW1lbnRzLmZpbmRJbmRleChlID0+IGVbJ0lEJ10gPT09IGVsZVsnSUQnXSk7XHJcbiAgICAgICAgaWYgKGlkeCA8IDApIHtcclxuICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIGktLTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLy8g57uE57uH5Y+z5L6n5qCR77yM5bCG5qih5Z6L6L2s5o2i5Li65Y+v5Lul5bGV56S655qESnNvbue7k+aehOOAglxyXG4gIHByaXZhdGUgT3JnYW5pemVSaWdodFRyZWVPcmlnaW5hbCgpOiBhbnlbXSB7XHJcbiAgICBjb25zdCB0cmVlID0gW107XHJcbiAgICBpZiAodGhpcy5DdXN0b21Nb2RlbCAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBtYWluT2JqID0gdGhpcy5DdXN0b21Nb2RlbFsnTWFpbk9iamVjdCddO1xyXG4gICAgICB0cmVlLnB1c2goeyBpZDogbWFpbk9ialsnSUQnXSwgY29kZTogbWFpbk9ialsnQ29kZSddLCB0ZXh0OiBtYWluT2JqWydGaWxlT2JqZWN0TmFtZSddLCBpdGVtczogdGhpcy5Pcmdhbml6ZU9iakpzb24obWFpbk9iaiwgdHJ1ZSkgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBtYWluT2JqID0gdGhpcy5Nb2RlbFsnTWFpbk9iamVjdCddO1xyXG4gICAgICB0cmVlLnB1c2goeyBpZDogbWFpbk9ialsnSUQnXSwgY29kZTogbWFpbk9ialsnQ29kZSddLCB0ZXh0OiBtYWluT2JqWydGaWxlT2JqZWN0TmFtZSddLCBpdGVtczogdGhpcy5Pcmdhbml6ZU9iakpzb24obWFpbk9iaiwgZmFsc2UpIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRyZWU7XHJcbiAgfVxyXG4gIC8vIOe7hOe7h+W3puS+p+agkVxyXG4gIHByaXZhdGUgT3JnYW5pemVMZWZ0VHJlZU9yaWdpbmFsKCk6IGFueVtdIHtcclxuICAgIGNvbnN0IHRyZWUgPSBbXTtcclxuICAgIGlmICh0aGlzLkN1c3RvbU1vZGVsICE9PSBudWxsKSB7XHJcbiAgICAgIGNvbnN0IG1haW5PYmogPSB0aGlzLk1vZGVsWydNYWluT2JqZWN0J107XHJcbiAgICAgIGNvbnN0IGN1c3RvbU1haW5PYmogPSB0aGlzLkN1c3RvbU1vZGVsWydNYWluT2JqZWN0J107XHJcbiAgICAgIHRyZWUucHVzaCh7IGlkOiBtYWluT2JqWydJRCddLCBjb2RlOiBtYWluT2JqWydDb2RlJ10sIHRleHQ6IG1haW5PYmpbJ0ZpbGVPYmplY3ROYW1lJ10sIGl0ZW1zOiB0aGlzLk9yYWdhbml6ZU1pbnVzT2JqKG1haW5PYmosIGN1c3RvbU1haW5PYmopIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbWFpbk9iaiA9IHRoaXMuTW9kZWxbJ01haW5PYmplY3QnXTtcclxuICAgICAgdHJlZS5wdXNoKHsgaWQ6IG1haW5PYmpbJ0lEJ10sIGNvZGU6IG1haW5PYmpbJ0NvZGUnXSwgdGV4dDogbWFpbk9ialsnRmlsZU9iamVjdE5hbWUnXSwgaXRlbXM6IHRoaXMuT3JnYW5pemVPYmpKc29uKG1haW5PYmosIHRydWUpIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRyZWU7XHJcbiAgfVxyXG4gIC8vIOe7hOe7h+WIl++8jGN1c3RvbU9iau+8muS7juaVsOaNruW6k+S4reiOt+WPlueahOWvueixoe+8jG9iau+8muWklumdouS8oOWFpeeahOWvueixoeOAglxyXG4gIHByaXZhdGUgT3JhZ2FuaXplTWludXNPYmoob2JqOiBhbnksIGN1c3RvbU9iajogYW55KSB7XHJcbiAgICAvLyBjb25zdCBpdGVtcyA9IFtdO1xyXG4gICAgLy8gb2JqWydFbGVtZW50cyddLmZvckVhY2goZWxlID0+IHtcclxuICAgIC8vICAgY29uc3QgY3VzdG9tRWxlID0gY3VzdG9tT2JqWydFbGVtZW50cyddLmZpbmQodCA9PiB0WydJRCddID09PSBlbGVbJ0lEJ10pO1xyXG4gICAgLy8gICBpZiAoY3VzdG9tRWxlID09PSBudWxsIHx8IGN1c3RvbUVsZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyAgICAgaWYgKGVsZVsnVWR0RWxlbWVudHMnXSAhPT0gbnVsbCAmJiBlbGVbJ1VkdEVsZW1lbnRzJ10gIT09IHVuZGVmaW5lZCAmJiBlbGVbJ1VkdEVsZW1lbnRzJ10ubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICAgICAgY29uc3QgdWR0SXRlbXMgPSB0aGlzLk9yZ2FuaXplVWR0RWxlbWVudHMoZWxlWydVZHRFbGVtZW50cyddLCBjdXN0b21FbGVbJ1VkdEVsZW1lbnRzJ10pO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICBpdGVtcy5wdXNoKHtpZDogZWxlWydJRCddLCB0ZXh0OiBlbGVbJ05hbWUnXSwgY29kZTogZWxlWydDb2RlJ10sIG9yZGVyOiBlbGVbJ09yZGVyJ119KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pO1xyXG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLk9yZ2FuaXplRWxlbWVudHNXaXRoVWR0TWludXMob2JqWydFbGVtZW50cyddLCBjdXN0b21PYmpbJ0VsZW1lbnRzJ10pO1xyXG4gICAgaWYgKG9ialsnQ2hpbGRyZW5EZW8nXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIG9ialsnQ2hpbGRyZW5EZW8nXS5mb3JFYWNoKGRlbyA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tQ2hpbGREZW8gPSBjdXN0b21PYmpbJ0NoaWxkcmVuRGVvJ10uZmluZCh0ID0+IHRbJ0lEJ10gPT09IGRlb1snSUQnXSk7XHJcbiAgICAgICAgaXRlbXMucHVzaCh7IGlkOiBkZW9bJ0lEJ10sIGNvZGU6IGRlb1snQ29kZSddLCB0ZXh0OiBkZW9bJ0ZpbGVPYmplY3ROYW1lJ10sIGl0ZW1zOiB0aGlzLk9yYWdhbml6ZU1pbnVzT2JqKGRlbywgY3VzdG9tQ2hpbGREZW8pIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBpdGVtcztcclxuICB9XHJcbiAgLy8g6I635Y+W5bem5Y+z5qCRdWR05a2X5q6155qE5beuXHJcbiAgcHJpdmF0ZSBPcmdhbml6ZUVsZW1lbnRzV2l0aFVkdE1pbnVzKG5ld1VkdEVsZXM6IGFueVtdLCB1ZHRFbGVzOiBhbnlbXSk6IGFueVtdIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gW107XHJcbiAgICBuZXdVZHRFbGVzLmZvckVhY2goZWxlID0+IHtcclxuICAgICAgY29uc3QgY3VzdG9tRWxlID0gdWR0RWxlcy5maW5kKHQgPT4gdFsnSUQnXSA9PT0gZWxlWydJRCddKTtcclxuICAgICAgaWYgKGN1c3RvbUVsZSA9PT0gbnVsbCB8fCBjdXN0b21FbGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChlbGVbJ1VkdEVsZW1lbnRzJ10gIT09IG51bGwgJiYgZWxlWydVZHRFbGVtZW50cyddICE9PSB1bmRlZmluZWQgJiYgZWxlWydVZHRFbGVtZW50cyddLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHVkdEl0ZW1zID0gdGhpcy5Pcmdhbml6ZUVsZW1lbnRzV2l0aFVkdChlbGVbJ1VkdEVsZW1lbnRzJ10pO1xyXG4gICAgICAgICAgaWYgKHVkdEl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaXRlbXMucHVzaCh7IGlkOiBlbGVbJ0lEJ10sIHRleHQ6IGVsZVsnRmlsZUVsZW1lbnROYW1lJ10sIGNvZGU6IGVsZVsnQ29kZSddLCBvcmRlcjogZWxlWydPcmRlciddLCBpdGVtczogdWR0SXRlbXMgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGl0ZW1zLnB1c2goeyBpZDogZWxlWydJRCddLCB0ZXh0OiBlbGVbJ0ZpbGVFbGVtZW50TmFtZSddLCBjb2RlOiBlbGVbJ0NvZGUnXSwgb3JkZXI6IGVsZVsnT3JkZXInXSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGVsZVsnVWR0RWxlbWVudHMnXSAhPT0gbnVsbCAmJiBlbGVbJ1VkdEVsZW1lbnRzJ10gIT09IHVuZGVmaW5lZCAmJiBlbGVbJ1VkdEVsZW1lbnRzJ10ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgdWR0SXRlbXMgPSB0aGlzLk9yZ2FuaXplRWxlbWVudHNXaXRoVWR0TWludXMoZWxlWydVZHRFbGVtZW50cyddLCBjdXN0b21FbGVbJ1VkdEVsZW1lbnRzJ10pO1xyXG4gICAgICAgICAgaWYgKHVkdEl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaXRlbXMucHVzaCh7IGlkOiBlbGVbJ0lEJ10sIHRleHQ6IGVsZVsnRmlsZUVsZW1lbnROYW1lJ10sIGNvZGU6IGVsZVsnQ29kZSddLCBvcmRlcjogZWxlWydPcmRlciddLCBpdGVtczogdWR0SXRlbXMgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpdGVtcztcclxuICB9XHJcbiAgLy8g5re75Yqg5a2Q5a+56LGhSnNvbuS4slxyXG4gIC8vIHByaXZhdGUgT3JnYW5pemVDaGlsZE9iakpzb24ob2JqKTogYW55W10ge1xyXG4gIC8vICAgY29uc3QgaXRlbXMgPSBbXTtcclxuICAvLyAgIGlmIChvYmpbJ0NoaWxkcmVuRGVvJ10ubGVuZ3RoID4gMCkge1xyXG4gIC8vICAgICBvYmpbJ0NoaWxkcmVuRGVvJ10uZm9yRWFjaChkZW8gPT4gaXRlbXMucHVzaCh7aWQ6IGRlb1snSUQnXSwgY29kZTogZGVvWydDb2RlJ10sIHRleHQ6IGRlb1snTmFtZSddLFxyXG4gIC8vICAgICBpdGVtczogdGhpcy5Pcmdhbml6ZUNoaWxkT2JqSnNvbihkZW8pfSkpO1xyXG4gIC8vICAgfVxyXG4gIC8vICAgcmV0dXJuIGl0ZW1zO1xyXG4gIC8vIH1cclxuICAvLyDmt7vliqDlr7nosaFKc29u5LiyXHJcbiAgcHJpdmF0ZSBPcmdhbml6ZU9iakpzb24ob2JqOiBhbnksIGFkZEVsZTogYm9vbGVhbik6IGFueVtdIHtcclxuICAgIGxldCBpdGVtcyA9IFtdO1xyXG4gICAgaWYgKGFkZEVsZSkge1xyXG4gICAgICBpdGVtcyA9IHRoaXMuT3JnYW5pemVFbGVtZW50c1dpdGhVZHQob2JqWydFbGVtZW50cyddKTtcclxuICAgICAgLy8gb2JqWydFbGVtZW50cyddLmZvckVhY2goZWxlID0+IGl0ZW1zLnB1c2goe2lkOiBlbGVbJ0lEJ10sIHRleHQ6IGVsZVsnTmFtZSddLCBjb2RlOiBlbGVbJ0NvZGUnXSwgb3JkZXI6IGVsZVsnT3JkZXInXX0pKTtcclxuICAgIH1cclxuICAgIGlmIChvYmpbJ0NoaWxkcmVuRGVvJ10ubGVuZ3RoID4gMCkge1xyXG4gICAgICBvYmpbJ0NoaWxkcmVuRGVvJ10uZm9yRWFjaChkZW8gPT4gaXRlbXMucHVzaCh7XHJcbiAgICAgICAgaWQ6IGRlb1snSUQnXSwgY29kZTogZGVvWydDb2RlJ10sIHRleHQ6IGRlb1snRmlsZU9iamVjdE5hbWUnXSxcclxuICAgICAgICBpdGVtczogdGhpcy5Pcmdhbml6ZU9iakpzb24oZGVvLCBhZGRFbGUpXHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpdGVtcztcclxuICB9XHJcbiAgcHJpdmF0ZSBPcmdhbml6ZUVsZW1lbnRzV2l0aFVkdChlbGVzOiBhbnlbXSk6IGFueVtdIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gW107XHJcbiAgICBlbGVzLmZvckVhY2goZWxlID0+IHtcclxuICAgICAgaWYgKGVsZVsnVWR0RWxlbWVudHMnXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgdWR0SXRlbXMgPSB0aGlzLk9yZ2FuaXplRWxlbWVudHNXaXRoVWR0KGVsZVsnVWR0RWxlbWVudHMnXSk7XHJcbiAgICAgICAgaWYgKHVkdEl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGl0ZW1zLnB1c2goeyBpZDogZWxlWydJRCddLCB0ZXh0OiBlbGVbJ0ZpbGVFbGVtZW50TmFtZSddLCBjb2RlOiBlbGVbJ0NvZGUnXSwgb3JkZXI6IGVsZVsnT3JkZXInXSwgaXRlbXM6IHVkdEl0ZW1zIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtcy5wdXNoKHsgaWQ6IGVsZVsnSUQnXSwgdGV4dDogZWxlWydGaWxlRWxlbWVudE5hbWUnXSwgY29kZTogZWxlWydDb2RlJ10sIG9yZGVyOiBlbGVbJ09yZGVyJ10gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGl0ZW1zLnB1c2goeyBpZDogZWxlWydJRCddLCB0ZXh0OiBlbGVbJ0ZpbGVFbGVtZW50TmFtZSddLCBjb2RlOiBlbGVbJ0NvZGUnXSwgb3JkZXI6IGVsZVsnT3JkZXInXSB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaXRlbXM7XHJcbiAgfVxyXG4gIHB1YmxpYyBpc0V4cGFuZGVkID0gKGRhdGFJdGVtOiBhbnksIGluZGV4OiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiB0aGlzLmtleXMuaW5kZXhPZihpbmRleCkgPiAtMTtcclxuICB9XHJcbiAgcHVibGljIGlzTmV3RXhwYW5kZWQgPSAoZGF0YUl0ZW06IGFueSwgaW5kZXg6IHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMubmV3S2V5cy5pbmRleE9mKGluZGV4KSA+IC0xO1xyXG4gIH1cclxuICAvLyDlj7Pnp7tcclxuICBwdWJsaWMgUmlnaHRNb3ZlKCkge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRLZXlzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbmRleGVzOiBudW1iZXJbXSA9IHRoaXMuR2V0SW5kZXhlcyh0aGlzLnNlbGVjdGVkS2V5c1swXSk7XHJcbiAgICB0aGlzLk1vdmVEYXRhKGluZGV4ZXMsIHRoaXMuVHJlZURhdGEsICcnLCB0aGlzLk5ld0RhdGEpO1xyXG4gIH1cclxuICAvLyDlt6bnp7tcclxuICBwdWJsaWMgTGVmdE1vdmUoKSB7XHJcbiAgICBpZiAodGhpcy5uZXdTZWxlY3RlZEtleXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGluZGV4ZXM6IG51bWJlcltdID0gdGhpcy5HZXRJbmRleGVzKHRoaXMubmV3U2VsZWN0ZWRLZXlzWzBdKTtcclxuICAgIHRoaXMuTW92ZURhdGEoaW5kZXhlcywgdGhpcy5OZXdEYXRhLCAnJywgdGhpcy5UcmVlRGF0YSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgR2V0SW5kZXhlcyhzS2V5cyk6IG51bWJlcltdIHtcclxuICAgIGNvbnN0IGFycjogYW55W10gPSBzS2V5cy5zcGxpdCgnXycpO1xyXG4gICAgY29uc3QgaW5kZXhlczogbnVtYmVyW10gPSBbXTtcclxuICAgIGFyci5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICBpbmRleGVzLnB1c2goTnVtYmVyKGVsZW1lbnQpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcbiAgcHJpdmF0ZSBNb3ZlRGF0YShpbmRleGVzOiBudW1iZXJbXSwgZGF0YSwgb2JqSWQsIG5ld0RhdGEpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gaW5kZXhlcy5zaGlmdCgpO1xyXG4gICAgaWYgKGluZGV4ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLk1vdmVEYXRhKGluZGV4ZXMsIGRhdGFbaW5kZXhdLml0ZW1zLCBkYXRhW2luZGV4XS5pZCwgbmV3RGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZGF0YVtpbmRleF0ub3JkZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuQWRkRGF0YShvYmpJZCwgbmV3RGF0YSwgZGF0YVtpbmRleF0pO1xyXG4gICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBwcml2YXRlIEFkZERhdGEobWFpbklkLCBuZXdEYXRhLCBkYXRhKTogYm9vbGVhbiB7XHJcbiAgICAvLyDlhYjmib7liLDmiYDlsZ7lr7nosaFcclxuICAgIGNvbnN0IG9iaiA9IHRoaXMuRmluZE9iakFuZEluZGV4KG1haW5JZCwgbmV3RGF0YSwgJycpO1xyXG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyDmib7liLDopoHmj5LlhaXnmoTkvY3nva5cclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5GaW5kQ29sSW5kZXgob2JqLmRhdGFJdGVtLml0ZW1zLCBkYXRhLm9yZGVyKTtcclxuICAgIG9iai5kYXRhSXRlbS5pdGVtcy5zcGxpY2UoaW5kZXgsIDAsIGRhdGEpO1xyXG4gICAgdGhpcy5oYW5kbGVOZXdFeHBhbmQob2JqKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBGaW5kT2JqQW5kSW5kZXgobWFpbklkLCBkYXRhOiBhbnlbXSwgcGFyZW50SW5kZXg6IHN0cmluZyk6IGFueSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItZm9yLW9mXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGRhdGFbaV0uaWQgPT09IG1haW5JZCkge1xyXG4gICAgICAgIGlmIChwYXJlbnRJbmRleCAhPT0gJycpIHtcclxuICAgICAgICAgIHJlc3VsdCA9IHsgaW5kZXg6IHBhcmVudEluZGV4ICsgJ18nICsgaS50b1N0cmluZygpLCBkYXRhSXRlbTogZGF0YVtpXSB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXN1bHQgPSB7IGluZGV4OiBpLnRvU3RyaW5nKCksIGRhdGFJdGVtOiBkYXRhW2ldIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGRhdGFbaV0uaXRlbXMgIT09IHVuZGVmaW5lZCAmJiBkYXRhW2ldLml0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXN1bHQgPSB0aGlzLkZpbmRPYmpBbmRJbmRleChtYWluSWQsIGRhdGFbaV0uaXRlbXMsIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgcHJpdmF0ZSBGaW5kQ29sSW5kZXgoaXRlbXM6IGFueVtdLCBvcmRlcjogbnVtYmVyKSB7XHJcbiAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChpdGVtc1tpXS5vcmRlciA8IG9yZGVyKSB7XHJcbiAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5kZXggKyAxO1xyXG4gIH1cclxuICBwdWJsaWMgaGFuZGxlQ29sbGFwc2Uobm9kZSkge1xyXG4gICAgdGhpcy5rZXlzID0gdGhpcy5rZXlzLmZpbHRlcihrID0+IGsgIT09IG5vZGUuaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhhbmRsZUV4cGFuZChub2RlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhub2RlKTtcclxuICAgIHRoaXMua2V5cyA9IHRoaXMua2V5cy5jb25jYXQobm9kZS5pbmRleCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBoYW5kbGVOZXdDb2xsYXBzZShub2RlKSB7XHJcbiAgICB0aGlzLm5ld0tleXMgPSB0aGlzLm5ld0tleXMuZmlsdGVyKGsgPT4gayAhPT0gbm9kZS5pbmRleCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaGFuZGxlTmV3RXhwYW5kKG5vZGUpIHtcclxuICAgIGNvbnNvbGUubG9nKG5vZGUpO1xyXG4gICAgdGhpcy5uZXdLZXlzID0gdGhpcy5uZXdLZXlzLmNvbmNhdChub2RlLmluZGV4KTtcclxuICB9XHJcbiAgcHVibGljIFJpZ2h0TW92ZUFsbCgpIHtcclxuICAgIC8vIHRoaXMuQ2xlYXJUcmVlKHRoaXMuVHJlZURhdGEpO1xyXG4gICAgLy8gdGhpcy5GaWxsVHJlZSh0aGlzLk5ld0RhdGEpO1xyXG4gICAgdGhpcy5UcmVlRGF0YSA9IFtdO1xyXG4gICAgY29uc3QgbWFpbk9iaiA9IHRoaXMuTW9kZWxbJ01haW5PYmplY3QnXTtcclxuICAgIHRoaXMuVHJlZURhdGEucHVzaCh7IGlkOiBtYWluT2JqWydJRCddLCBjb2RlOiBtYWluT2JqWydDb2RlJ10sIHRleHQ6IG1haW5PYmpbJ0ZpbGVPYmplY3ROYW1lJ10sIGl0ZW1zOiB0aGlzLk9yZ2FuaXplT2JqSnNvbihtYWluT2JqLCBmYWxzZSkgfSk7XHJcbiAgICAvLyB0aGlzLkZpbGxUcmVlKHRoaXMuVHJlZURhdGEpO1xyXG4gICAgdGhpcy5OZXdEYXRhID0gW107XHJcbiAgICB0aGlzLk5ld0RhdGEucHVzaCh7IGlkOiBtYWluT2JqWydJRCddLCBjb2RlOiBtYWluT2JqWydDb2RlJ10sIHRleHQ6IG1haW5PYmpbJ0ZpbGVPYmplY3ROYW1lJ10sIGl0ZW1zOiB0aGlzLk9yZ2FuaXplT2JqSnNvbihtYWluT2JqLCB0cnVlKSB9KTtcclxuICB9XHJcbiAgcHVibGljIEZpbGxUcmVlKHQ6IGFueVtdKSB7XHJcbiAgICB0ID0gW107XHJcbiAgICBjb25zdCBtYWluT2JqID0gdGhpcy5Nb2RlbFsnTWFpbk9iamVjdCddO1xyXG4gICAgdC5wdXNoKHsgaWQ6IG1haW5PYmpbJ0lEJ10sIGNvZGU6IG1haW5PYmpbJ0NvZGUnXSwgdGV4dDogbWFpbk9ialsnRmlsZU9iamVjdE5hbWUnXSwgaXRlbXM6IHRoaXMuT3JnYW5pemVPYmpKc29uKG1haW5PYmosIHRydWUpIH0pO1xyXG4gIH1cclxuICBwdWJsaWMgQ2xlYXJUcmVlKHQ6IGFueVtdKSB7XHJcbiAgICAvLyB0ID0gW107XHJcbiAgICAvLyBjb25zdCBtYWluT2JqID0gdGhpcy5Nb2RlbFsnTWFpbk9iamVjdCddO1xyXG4gICAgLy8gdC5wdXNoKHtpZDogbWFpbk9ialsnSUQnXSwgY29kZTogbWFpbk9ialsnQ29kZSddLCB0ZXh0OiBtYWluT2JqWydOYW1lJ10sIGl0ZW1zOiB0aGlzLk9yZ2FuaXplT2JqSnNvbihtYWluT2JqLCBmYWxzZSl9KTtcclxuICAgIHQgPSBbXTtcclxuICB9XHJcbiAgcHVibGljIExlZnRNb3ZlQWxsKCkge1xyXG4gICAgLy8gdGhpcy5DbGVhclRyZWUodGhpcy5OZXdEYXRhKTtcclxuICAgIHRoaXMuTmV3RGF0YSA9IFtdO1xyXG4gICAgY29uc3QgbWFpbk9iaiA9IHRoaXMuTW9kZWxbJ01haW5PYmplY3QnXTtcclxuICAgIHRoaXMuTmV3RGF0YS5wdXNoKHsgaWQ6IG1haW5PYmpbJ0lEJ10sIGNvZGU6IG1haW5PYmpbJ0NvZGUnXSwgdGV4dDogbWFpbk9ialsnRmlsZU9iamVjdE5hbWUnXSwgaXRlbXM6IHRoaXMuT3JnYW5pemVPYmpKc29uKG1haW5PYmosIGZhbHNlKSB9KTtcclxuICAgIC8vIHRoaXMuRmlsbFRyZWUodGhpcy5UcmVlRGF0YSk7XHJcbiAgICB0aGlzLlRyZWVEYXRhID0gW107XHJcbiAgICB0aGlzLlRyZWVEYXRhLnB1c2goeyBpZDogbWFpbk9ialsnSUQnXSwgY29kZTogbWFpbk9ialsnQ29kZSddLCB0ZXh0OiBtYWluT2JqWydGaWxlT2JqZWN0TmFtZSddLCBpdGVtczogdGhpcy5Pcmdhbml6ZU9iakpzb24obWFpbk9iaiwgdHJ1ZSkgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBNb3ZlVXAoKSB7XHJcbiAgICBpZiAodGhpcy5uZXdTZWxlY3RlZEtleXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGluZGV4ZXMgPSB0aGlzLkdldEluZGV4ZXModGhpcy5uZXdTZWxlY3RlZEtleXNbMF0pO1xyXG4gICAgY29uc3QgbGFzdEluZGV4ID0gaW5kZXhlcy5wb3AoKTtcclxuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5HZXRJdGVtcyhpbmRleGVzLCB0aGlzLk5ld0RhdGEpO1xyXG4gICAgaWYgKGl0ZW1zW2xhc3RJbmRleF0ub3JkZXIgPT09IHVuZGVmaW5lZCB8fCBpdGVtc1tsYXN0SW5kZXhdLm9yZGVyID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHRlbXAgPSBpdGVtc1tsYXN0SW5kZXhdLm9yZGVyO1xyXG4gICAgaXRlbXNbbGFzdEluZGV4XS5vcmRlciA9IGl0ZW1zW2xhc3RJbmRleCAtIDFdLm9yZGVyO1xyXG4gICAgaXRlbXNbbGFzdEluZGV4IC0gMV0ub3JkZXIgPSB0ZW1wO1xyXG4gICAgaXRlbXMuc3BsaWNlKGxhc3RJbmRleCAtIDEsIDAsIGl0ZW1zW2xhc3RJbmRleF0pO1xyXG4gICAgaXRlbXMuc3BsaWNlKE51bWJlcihsYXN0SW5kZXgpICsgMSwgMSk7XHJcbiAgICBjb25zdCBwYXJlbnRJbmRleDogc3RyaW5nID0gdGhpcy5uZXdTZWxlY3RlZEtleXNbMF07XHJcbiAgICB0aGlzLm5ld1NlbGVjdGVkS2V5c1swXSA9IHBhcmVudEluZGV4LnN1YnN0cmluZygwLCBwYXJlbnRJbmRleC5sYXN0SW5kZXhPZignXycpICsgMSkgKyAobGFzdEluZGV4IC0gMSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgR2V0SXRlbXMoaW5kZXhlcywgZGF0YSk6IGFueVtdIHtcclxuICAgIGlmIChpbmRleGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuICAgIGNvbnN0IGluZGV4ID0gaW5kZXhlcy5zaGlmdCgpO1xyXG4gICAgcmV0dXJuIHRoaXMuR2V0SXRlbXMoaW5kZXhlcywgZGF0YVtpbmRleF0uaXRlbXMpO1xyXG4gIH1cclxuICBwdWJsaWMgTW92ZURvd24oKSB7XHJcbiAgICBpZiAodGhpcy5uZXdTZWxlY3RlZEtleXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGluZGV4ZXMgPSB0aGlzLkdldEluZGV4ZXModGhpcy5uZXdTZWxlY3RlZEtleXNbMF0pO1xyXG4gICAgY29uc3QgbGFzdEluZGV4ID0gaW5kZXhlcy5wb3AoKTtcclxuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5HZXRJdGVtcyhpbmRleGVzLCB0aGlzLk5ld0RhdGEpO1xyXG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gbGFzdEluZGV4IHx8IGl0ZW1zW051bWJlcihsYXN0SW5kZXgpICsgMV0gPT09IHVuZGVmaW5lZCB8fCBpdGVtc1tOdW1iZXIobGFzdEluZGV4KSArIDFdLm9yZGVyID09PSB1bmRlZmluZWRcclxuICAgICAgfHwgaXRlbXNbbGFzdEluZGV4XS5vcmRlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHRlbXAgPSBpdGVtc1tsYXN0SW5kZXhdLm9yZGVyO1xyXG4gICAgaXRlbXNbbGFzdEluZGV4XS5vcmRlciA9IGl0ZW1zW051bWJlcihsYXN0SW5kZXgpICsgMV0ub3JkZXI7XHJcbiAgICBpdGVtc1tOdW1iZXIobGFzdEluZGV4KSArIDFdLm9yZGVyID0gdGVtcDtcclxuICAgIGl0ZW1zLnNwbGljZShOdW1iZXIobGFzdEluZGV4KSArIDIsIDAsIGl0ZW1zW2xhc3RJbmRleF0pO1xyXG4gICAgaXRlbXMuc3BsaWNlKGxhc3RJbmRleCwgMSk7XHJcbiAgICBjb25zdCBwYXJlbnRJbmRleDogc3RyaW5nID0gdGhpcy5uZXdTZWxlY3RlZEtleXNbMF07XHJcbiAgICB0aGlzLm5ld1NlbGVjdGVkS2V5c1swXSA9IHBhcmVudEluZGV4LnN1YnN0cmluZygwLCBwYXJlbnRJbmRleC5sYXN0SW5kZXhPZignXycpICsgMSkgKyAoTnVtYmVyKGxhc3RJbmRleCkgKyAxKTtcclxuICB9XHJcbiAgcHVibGljIFNhdmUoKSB7XHJcbiAgICAvLyDkvKDlhaXnmoTmqKHlnovnmoTkuLvlr7nosaFcclxuICAgIGlmICh0aGlzLklubmVyTW9kZWwgPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLklubmVyTW9kZWwgPSB0aGlzLk1vZGVsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWFpbk9iaiA9IHRoaXMuSW5uZXJNb2RlbFsnTWFpbk9iamVjdCddO1xyXG4gICAgY29uc3QgbmV3TWFpbk9iaiA9IHRoaXMuTmV3RGF0YVswXTtcclxuICAgIGNvbnN0IHByZU1haW5PYmogPSB0aGlzLk1vZGVsWydNYWluT2JqZWN0J107XHJcbiAgICBtYWluT2JqWydFbGVtZW50cyddID0gdGhpcy5Pcmdhbml6ZUVsZW1lbnRzKHByZU1haW5PYmpbJ0VsZW1lbnRzJ10sIG5ld01haW5PYmopO1xyXG4gICAgdGhpcy5Pcmdhbml6ZUNoaWxkcmVuRGVvKG1haW5PYmosIG5ld01haW5PYmosIHByZU1haW5PYmopO1xyXG4gIH1cclxuICBwcml2YXRlIE9yZ2FuaXplQ2hpbGRyZW5EZW8ob2JqOiBhbnksIG5ld09iajogYW55LCBwcmVNYWluT2JqOiBhbnkpIHtcclxuICAgIGlmIChvYmpbJ0NoaWxkcmVuRGVvJ10gIT09IHVuZGVmaW5lZCAmJiBvYmpbJ0NoaWxkcmVuRGVvJ10ubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBuZXdDaGlsZHJlbkRlbyA9IFtdO1xyXG4gICAgICBvYmpbJ0NoaWxkcmVuRGVvJ10uZm9yRWFjaCh0ID0+IHtcclxuICAgICAgICBjb25zdCBjaGlsZERlbyA9IG5ld09ialsnaXRlbXMnXS5maW5kKGl0ZW0gPT4gaXRlbVsnaWQnXSA9PT0gdFsnSUQnXSk7XHJcbiAgICAgICAgY29uc3QgcHJlQ2hpbGRPYmogPSBwcmVNYWluT2JqWydDaGlsZHJlbkRlbyddLmZpbmQoaXRlbSA9PiBpdGVtWydJRCddID09PSB0WydJRCddKTtcclxuICAgICAgICBpZiAoY2hpbGREZW8gIT09IG51bGwgJiYgY2hpbGREZW8gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgdFsnRWxlbWVudHMnXSA9IHRoaXMuT3JnYW5pemVFbGVtZW50cyhwcmVDaGlsZE9ialsnRWxlbWVudHMnXSwgY2hpbGREZW8pO1xyXG4gICAgICAgICAgaWYgKHRbJ0VsZW1lbnRzJ10gIT09IHVuZGVmaW5lZCAmJiB0WydFbGVtZW50cyddICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5ld0NoaWxkcmVuRGVvLnB1c2godCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuT3JnYW5pemVDaGlsZHJlbkRlbyh0LCBjaGlsZERlbywgcHJlQ2hpbGRPYmopO1xyXG4gICAgICB9KTtcclxuICAgICAgb2JqWydDaGlsZHJlbkRlbyddID0gbmV3Q2hpbGRyZW5EZW87XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIOS/neWtmOaXtue7hOe7h+WIlywgb2JqOiDlpJbpg6jkvKDlhaXnmoTliJfvvIxuZXdPYmo6IOe8lui+keWQjuaWsOeahOWIl1xyXG4gIHByaXZhdGUgT3JnYW5pemVFbGVtZW50cyhvYmo6IGFueVtdLCBuZXdPYmo6IGFueSk6IGFueVtdIHtcclxuICAgIGNvbnN0IG5ld0VsZXMgPSBuZXdPYmpbJ2l0ZW1zJ107XHJcbiAgICBjb25zdCBlbGVzID0gW107XHJcbiAgICBuZXdFbGVzLmZvckVhY2godCA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZSA9IG9iai5maW5kKGUgPT4gZVsnSUQnXSA9PT0gdFsnaWQnXSk7XHJcbiAgICAgIGlmIChlbGUgIT09IHVuZGVmaW5lZCAmJiBlbGUgIT09IG51bGwpIHtcclxuICAgICAgICBlbGVzLnB1c2goZWxlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZWxlcztcclxuICB9XHJcbiAgLy8gcHJpdmF0ZSBPcmdhbml6ZURlbyhvYmopOiBhbnkge1xyXG4gIC8vICAgb2JqWydFbGVtZW50cyddID0gdGhpcy5Pcmdhbml6ZUVsZW1lbnRzKG9ialsnRWxlbWVudHMnXSk7XHJcbiAgLy8gICBpZiAob2JqWydDaGlsZHJlbkRlbyddLmxlbmd0aCA+IDApIHtcclxuICAvLyAgICAgb2JqWydDaGlsZHJlbkRlbyddID0gdGhpcy5Pcmdhbml6ZUNoaWxkRGVvKG9iailcclxuICAvLyAgIH1cclxuICAvLyB9XHJcblxyXG59XHJcbiJdfQ==