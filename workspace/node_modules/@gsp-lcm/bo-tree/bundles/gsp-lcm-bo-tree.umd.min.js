!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@ecp-caf/caf-common"),require("@gsp-lcm/bo-rt-service"),require("@farris/ui-treetable")):"function"==typeof define&&define.amd?define("@gsp-lcm/bo-tree",["exports","@angular/common","@angular/core","@ecp-caf/caf-common","@gsp-lcm/bo-rt-service","@farris/ui-treetable"],t):t((e["gsp-lcm"]=e["gsp-lcm"]||{},e["gsp-lcm"]["bo-tree"]={}),e.ng.common,e.ng.core,e.cafCommon,e.boRtService,e.uiTreetable)}(this,function(e,t,n,r,o,i){"use strict";var a=(s.decorators=[{type:n.Injectable}],s);function s(){this.boTreeNodeActived=new n.EventEmitter,this.boTreeNodeDoubleClick=new n.EventEmitter,this.boTreeNodeAdding=new n.EventEmitter,this.boTreeNodeClick=new n.EventEmitter}var c=(l.prototype.getInitBOTreeData=function(){var t=this;this.boRtService.getBusinessObjects().subscribe(function(e){e instanceof Array?e.forEach(function(e){e.parentID!==undefined&&null!==e.parentID&&""!==e.parentID||(e.parentID=undefined),"1"===e.sysInit?e.isSysInit=!0:e.isSysInit=!1}):e.parentID!==undefined&&null!==e.parentID&&""!==e.parentID||(e.parentID=undefined,"1"===e.sysInit?e.isSysInit=!0:e.isSysInit=!1),t.treeNodes=t.makeTree(e)})},l.prototype.selectNode=function(e,t){this.treetable.selectNode(e,t)},l.prototype.doubleClickEventHandler=function(e){this.boTreePanelState.boTreeNodeDoubleClick.emit(e.node)},l.prototype.ngOnInit=function(){},l.prototype.selectionChange=function(e){this.selctedBO=e.node.data,this.selectionChanged.emit(e.node)},l.prototype.refresh=function(){this.getInitBOTreeData()},l.prototype.makeTree=function(t){var n=this,e=t.filter(function(e){return 1===e.layer}).map(function(e){return{id:e.id,data:e,children:[],expanded:!0}});return e.forEach(function(e){e.children=n.makeTreeChildren(t,e.data)}),e},l.prototype.makeTreeChildren=function(t,n){var r=this,o=n.layer+1;return t.filter(function(e){return e.layer===o&&e.parentID===n.id}).map(function(e){return{data:e,children:r.makeTreeChildren(t,e),expanded:!1}})},l.decorators=[{type:n.Component,args:[{selector:"app-bo-tree-panel",template:'\r\n<div  #test class="botreepanel farris-main-area flex-column">\r\n  <farris-treetable #treetable class="farris-overflow-y-auto flex-fill"\r\n    [data]="treeNodes" \r\n    [columns]="cols" \r\n    [fit] ="true" \r\n    [fixedHeader]="true" \r\n    [idField]="\'id\'" \r\n    [checkOnSelect]="true"  \r\n    [showIcon]="showIcon"\r\n    [showHeader]="false" \r\n    (nodeSelected)="selectionChange($event)">\r\n  </farris-treetable>\r\n</div>',styles:[".botreepanel{overflow:hidden;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}"]}]}],l.ctorParameters=function(){return[{type:o.BusinessObjectRtService},{type:a}]},l.propDecorators={showIcon:[{type:n.Input}],selectionChanged:[{type:n.Output}],treetable:[{type:n.ViewChild,args:["treetable"]}]},l);function l(e,t){this.boRtService=e,this.boTreePanelState=t,this.selectionChanged=new n.EventEmitter,this.cols=[{field:"name",title:"Name",width:200}],this.customTemplateStringOptions={treeNodeTemplate:"{{ node.name }} ({{ node.subTitle }})"},this.getInitBOTreeData()}var d=(u.decorators=[{type:n.Directive,args:[{selector:"[treeNodeContent-host]"}]}],u.ctorParameters=function(){return[{type:n.ViewContainerRef}]},u);function u(e){this.viewContainerRef=e}var p=(f.decorators=[{type:n.NgModule,args:[{declarations:[d,c],imports:[t.CommonModule,i.TreeTableModule],exports:[c],providers:[a,r.HttpService,o.BusinessObjectRtService],entryComponents:[c]}]}],f);function f(){}e.BOTreePanelComponent=c,e.BOTreePanelPackageModule=p,e.ɵb=d,e.ɵa=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=gsp-lcm-bo-tree.umd.min.js.map