/**
 * @fileoverview added by tsickle
 * Generated from: metadata/metadata.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { MetadataPackageDto } from './metadatapackagedto';
import { Inject } from '@angular/core';
import { Subject } from 'rxjs';
export class GSPMetadataService {
    /**
     * @param {?} http
     * @param {?} url
     */
    constructor(http, url) {
        this.http = http;
        this.url = url;
        this.METADATA_BASE_PATH = '/api/dev/main/v1.0/metadatas';
        this.GSP_PROJECT_BASE_PATH = '/api/dev/main/v1.0/gsp-projects';
        this.Project_Base_Path = '/api/dev/main/v1.0/project';
        this.DBO_BASE_PATH = '/api/dev/main/v1.0/database-objects'; // dbo相关
        // dbo相关
        this.METADATA_PROJECT_BASE_PATH = '/api/dev/main/v1.0/metadata-projects';
        this.METADATA_PACKAGE_BASE_PATH = '/api/dev/main/v1.0/metadata-packages';
        this.METADATA_CONFIG_BASE_PATH = '/api/dev/main/v1.0/metadata-configs';
        // private Metadata4RefDto_Base_Path = '/api/dev/main/v1.0/metadata4refdtos'; pickMetadataIndex，dotnet不需要
        // tslint:disable-next-line:variable-name
        this.DevBasinBOInfo_Base_Path = '/api/dev/main/v1.0/dev-basic-boinfos'; // 业务对象
        // 业务对象
        this.NUGET_BASE_PATH = '/api/dev/main/v1.0/nuget-packages';
        this.SETTING_BASE_PATH = '/api/dev/main/v1.0/ide/settings';
        this.MAVEN_JAVA_BASE_PATH = '/api/dev/main/v1.0/repo-packages';
        this.FS_JAVA_BASE_PATH = '/api/dev/main/v1.0/file-system';
        this.JAVA_CODE_GENERATOR = '/api/dev/main/v1.0/generator';
        this.JAVA_BUILD = '/api/dev/main/v1.0/repo-packages';
        this.METADATA_JAVA_BASE_PATH = '/api/dev/main/v1.0/mdservice';
        this.SERVER_IP = (url === null || url === undefined) ? '' : url;
        this.sessionId = gsp.cache.get('sessionId');
    }
    /**
     * 元数据设计时服务
     * @return {?}
     */
    // 打包（功能触发）
    Pack() {
        if (this.selectType === 'folder' || this.selectType === 'project') {
            if (this.selectPath !== '' && this.selectPath !== undefined) {
                this.PackageBuild(this.selectPath.substring(1));
            }
        }
        else {
            alert('请选择合适的目录');
        }
    }
    // 打包（外部调用）
    /**
     * @param {?} path
     * @return {?}
     */
    PackageBuild(path) {
        /** @type {?} */
        const sessionId = gsp.cache.get('sessionId');
        /** @type {?} */
        const headers = new HttpHeaders({ 'Content-Type': 'application/json' }).append('SessionId', sessionId);
        /** @type {?} */
        const packageDto = new MetadataPackageDto('', '', '', path);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PACKAGE_BASE_PATH;
        return this.http.post(url, packageDto, {
            headers,
            observe: 'response'
        });
    }
    // 递归查找是否存在工程文件
    /**
     * @param {?} path
     * @return {?}
     */
    IsProjExistRecursively(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/validationrecursively?path=' + path;
        /** @type {?} */
        const metadata = new Subject();
        this.http.get(url).subscribe((/**
         * @param {?} result
         * @return {?}
         */
        result => {
            // if (result) {
            metadata.next(result);
            // }
        }));
        return metadata;
    }
    // 初始化元数据实体
    /**
     * @param {?} metadataDto
     * @return {?}
     */
    InitializeMetadataEntity(metadataDto) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        // tslint:disable-next-line:max-line-length
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/initialized?nameSpace=' + metadataDto.nameSpace + '&code=' + metadataDto.code + '&name=' + metadataDto.name + '&type=' + metadataDto.type + '&bizObjectID=' + metadataDto.bizobjectID + '&metadataPath=' + metadataDto.relativePath + '&extendProperty=' + metadataDto.extendProperty;
        return this.http.get(url, { headers });
    }
    // 新建元数据
    /**
     * @param {?} metadataDto
     * @return {?}
     */
    CreateMetadata(metadataDto) {
        /** @type {?} */
        const content = {
            'ID': metadataDto.id,
            'NameSpace': metadataDto.nameSpace,
            'Code': metadataDto.code,
            'Name': metadataDto.name,
            'FileName': metadataDto.fileName,
            'RelativePath': metadataDto.relativePath,
            'Content': metadataDto.content,
            'Type': metadataDto.type,
            'BizobjectID': metadataDto.bizobjectID,
            'ExtendProperty': metadataDto.extendProperty
        };
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH;
        return this.http.post(url, content, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    // 删除元数据文件
    /**
     * @return {?}
     */
    DeleteMetadata() {
        if (this.selectPath !== '' && this.selectPath !== undefined) {
            if (this.selectType === 'file') {
                this.DeleteMetadataOrDir(this.selectPath.substring(1)).subscribe((/**
                 * @param {?} result
                 * @return {?}
                 */
                result => {
                    // 刷新节点
                    // this.treeModel.removeFileNode();
                    alert('删除成功！');
                    this.selectPath = '';
                    this.selectType = '';
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                error => {
                    alert('删除失败！');
                }));
            }
            else {
                alert('请选择正确的文件进行删除！');
            }
        }
        else {
            alert('请选择正确的文件进行删除！');
        }
    }
    // 保存元数据
    /**
     * @param {?} metadataDto
     * @param {?} sessionId
     * @return {?}
     */
    SaveMetadata(metadataDto, sessionId) {
        /** @type {?} */
        const content = {
            'ID': metadataDto.id,
            'NameSpace': metadataDto.nameSpace,
            'Code': metadataDto.code,
            'Name': metadataDto.name,
            'FileName': metadataDto.fileName,
            'RelativePath': metadataDto.relativePath,
            'Content': metadataDto.content,
            'Type': metadataDto.type,
            'BizobjectID': metadataDto.bizobjectID,
            'ExtendProperty': metadataDto.extendProperty,
            'Extendable': metadataDto.extendable
        };
        // tslint:disable-next-line:one-variable-per-declaration
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH;
        return this.http.put(url, content, {
            headers,
            observe: 'response'
        });
    }
    // Load元数据（外部调用）
    /**
     * @param {?} fullName
     * @param {?} path
     * @return {?}
     */
    LoadMetadata(fullName, path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const metadataFullPath = path.replace(/\\/g, '/') + '/' + fullName;
        /** @type {?} */
        const encMetadataFullPath = encodeURIComponent(metadataFullPath);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/load?metadataFullPath=' + encMetadataFullPath;
        return this.http.get(url, { headers });
    }
    // Load bo内元数据（外部调用）
    /**
     * @param {?} fullName
     * @param {?} path
     * @param {?} currentProjPath
     * @return {?}
     */
    LoadMetadataInBo(fullName, path, currentProjPath) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const metadataFullPath = path.replace(/\\/g, '/') + '/' + fullName;
        /** @type {?} */
        const encMetadataFullPath = encodeURIComponent(metadataFullPath);
        // tslint:disable-next-line: max-line-length
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/metadataInBo?metadataFullPath=' + encMetadataFullPath
            + '&currentProjPath=' + currentProjPath;
        return this.http.get(url, { headers });
    }
    // 删除文件夹
    /**
     * @return {?}
     */
    DeleteFolder() {
        if (this.selectPath !== '' && this.selectPath !== undefined) {
            if (this.selectType === 'folder') {
                this.DeleteMetadataOrDir(this.selectPath.substring(1)).subscribe((/**
                 * @param {?} result
                 * @return {?}
                 */
                result => {
                    // 刷新节点
                    // this.treeModel.removeFolderNode();
                    alert('删除成功！');
                    this.selectPath = '';
                    this.selectType = '';
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                error => {
                    alert('删除失败！');
                }));
            }
            else {
                alert('请选择正确的目录进行删除！');
            }
        }
        else {
            alert('请选择正确的目录进行删除！');
        }
    }
    // 删除工程
    /**
     * @return {?}
     */
    DeleteProj() {
        if (this.selectPath !== '' && this.selectPath !== undefined) {
            if (this.selectType === 'project') {
                this.DeleteProject(this.selectPath.substring(1)).subscribe((/**
                 * @param {?} result
                 * @return {?}
                 */
                result => {
                    // 刷新节点
                    // this.treeModel.removeProjectNode();
                    alert('删除成功！');
                    this.selectPath = '';
                    this.selectType = '';
                }), (/**
                 * @param {?} error
                 * @return {?}
                 */
                error => {
                    alert('删除失败！');
                }));
            }
            else {
                alert('请选择正确的工程节点进行删除！');
            }
        }
        else {
            alert('请选择正确的工程节点进行删除！');
        }
    }
    // 元数据或者文件夹的删除（外部调用）
    /**
     * @param {?} fullPath
     * @return {?}
     */
    DeleteMetadataOrDir(fullPath) {
        /** @type {?} */
        const sessionId = gsp.cache.get('sessionId');
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', sessionId);
        /** @type {?} */
        const encFullPath = encodeURIComponent(fullPath.replace(/\\/g, '/'));
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/delete?fullPath=' + encFullPath;
        return this.http.delete(url, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    // 判断元数据是否被依赖
    /**
     * @param {?} fullPath
     * @return {?}
     */
    isMetadataRefed(fullPath) {
        /** @type {?} */
        const sessionId = gsp.cache.get('sessionId');
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', sessionId);
        /** @type {?} */
        const encFullPath = encodeURIComponent(fullPath.replace(/\\/g, '/'));
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/isMetadataRefed?path=' + encFullPath;
        return this.http.get(url, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    // 删除工程
    /**
     * @param {?} path
     * @return {?}
     */
    DeleteProject(path) {
        /** @type {?} */
        const sessionId = gsp.cache.get('sessionId');
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.Project_Base_Path + '/' + path.replace(/\\/g, '/');
        return this.http.delete(url, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    /**
     * @return {?}
     */
    GetDevRootPath() {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const options = {
            params: {},
            headers,
            responseType: 'text'
        };
        /** @type {?} */
        const url = this.SERVER_IP + this.Project_Base_Path + '/rootpath';
        /** @type {?} */
        const metadata = new Subject();
        this.http.get(url, { responseType: 'text' }).subscribe((/**
         * @param {?} result
         * @return {?}
         */
        result => {
            if (result) {
                metadata.next(result);
            }
        }));
        return metadata;
    }
    /**
     * @param {?} fullName
     * @param {?} path
     * @param {?} sessionId
     * @return {?}
     */
    LoadDBO(fullName, path, sessionId) {
        /** @type {?} */
        const dboFullPath = path.replace(/\\/g, '/') + '/' + fullName;
        /** @type {?} */
        const url = this.SERVER_IP + this.DBO_BASE_PATH + '/' + dboFullPath;
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        return this.http.get(url, { headers });
    }
    // 新建文件夹
    /**
     * @param {?} path
     * @param {?} name
     * @return {?}
     */
    CreateDir(path, name) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.Project_Base_Path + '/folder' + path + '/' + name + '?quiet=true';
        return this.http.post(url, null, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    // 获取元数据工程信息
    /**
     * @param {?} path
     * @return {?}
     */
    GetProjectInfo(path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '?path=' + path;
        return this.http.get(url, { headers });
    }
    // 获取工程信息
    /**
     * @param {?} path
     * @return {?}
     */
    GetGspProjInfo(path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.GSP_PROJECT_BASE_PATH + '?path=' + path;
        return this.http.get(url, { headers });
    }
    // 获取工程路径
    /**
     * @param {?} path
     * @return {?}
     */
    GetProjPath(path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/path?path=' + path;
        return this.http.get(url, { responseType: 'text' });
    }
    // 获取当前工程下或者其他元数据包中依赖的元数据
    /**
     * @param {?} path
     * @param {?} metadataid
     * @param {?} sessionId
     * @return {?}
     */
    GetRefMetadata(path, metadataid, sessionId) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/relied?metadataPath=' + path + '&metadataID=' + metadataid;
        return this.http.get(url, { headers });
    }
    // 获取当前工程下所有的元数据包
    /**
     * @param {?} spacePath
     * @param {?} typeName
     * @return {?}
     */
    GetMetadataList(spacePath, typeName) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '?path=' + spacePath + '&metadataTypeList=' + typeName;
        return this.http.get(url, { headers });
    }
    // 获取bo工程下所有的元数据列表
    /**
     * @param {?} projPath
     * @param {?} typeName
     * @return {?}
     */
    GetMetadataListInBo(projPath, typeName) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/metadataListInBo?path=' + projPath + '&metadataTypeList=' + typeName;
        return this.http.get(url, { headers });
    }
    /**
     * @param {?} path
     * @param {?} typeCode
     * @param {?} filter
     * @param {?} postfix
     * @return {?}
     */
    GetMetadataByFilter(path, typeCode, filter, postfix) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/filter?path=' + path +
            '&typeCode=' + typeCode + '&filter=' + filter + '&postfix=' + postfix;
        return this.http.get(url, { headers });
    }
    // pickMetadataIndex(scope: number, currentProjPath: string, metadataIndexDto: any): Observable<any> {
    //   const sessionId = gsp.cache.get('sessionId');
    //   const headers = new HttpHeaders({ 'Content-Type': 'application/json' }).append('SessionId', sessionId);
    //   const url = this.SERVER_IP + this.Metadata4RefDto_Base_Path + '/scope/' + scope + '?currentPath=' + currentProjPath;
    //   return this.http.post(url, metadataIndexDto, {
    //     headers
    //   });
    // }
    /**
     * @param {?} scope
     * @param {?} currentProjPath
     * @param {?} metadataIndexDto
     * @return {?}
     */
    pickMetadataIndex(scope, currentProjPath, metadataIndexDto) {
        /** @type {?} */
        const sessionId = gsp.cache.get('sessionId');
        /** @type {?} */
        const headers = new HttpHeaders({ 'Content-Type': 'application/json' }).append('SessionId', sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/pickmd?scopeType=' + scope + '&currentPath=' + currentProjPath;
        return this.http.post(url, metadataIndexDto, {
            headers
        });
    }
    // 获取元数据包中所包含的元数据信息
    /**
     * @param {?} packagePath
     * @param {?} packageName
     * @return {?}
     */
    GetMetadataPackageInfo(packagePath, packageName) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        let packageFullName = '';
        if (packagePath) {
            packageFullName = packagePath.replace(/\\/g, '/') + '/' + packageName;
        }
        else {
            packageFullName = packageName;
        }
        /** @type {?} */
        const encPackageFullName = encodeURIComponent(packageFullName);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PACKAGE_BASE_PATH + '/packagePath?packagePath=' + encPackageFullName;
        return this.http.get(url, { headers });
    }
    // 获取本地包
    /**
     * @param {?} path
     * @return {?}
     */
    GetLocalPackages(path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PACKAGE_BASE_PATH + '/local?path=' + path;
        return this.http.get(url, { headers });
    }
    /**
     * @param {?} scope
     * @param {?=} metadataType
     * @param {?=} searchText
     * @param {?=} page
     * @param {?=} selectedPackageSource
     * @param {?=} currentProjPath
     * @return {?}
     */
    GetMetadataInfosByScope(scope, metadataType = null, searchText = null, page = null, selectedPackageSource = null, currentProjPath = '') {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        let url = this.SERVER_IP + this.METADATA_BASE_PATH + '/scope/' + scope + '?path=' + currentProjPath;
        if (page) {
            url = url + '&page=true&pageIndex=' + page.pageIndex + '&pageSize=' + page.pageSize;
        }
        else {
            url = url + '&page=false';
        }
        if (metadataType) {
            url = url + '&metadataTypeList=' + metadataType;
        }
        if (searchText) {
            url = url + '&text=' + searchText;
        }
        if ((scope === 2 || scope === 3) && selectedPackageSource) {
            url = url + '&selectedPackageSource=' + selectedPackageSource;
        }
        return this.http.get(url, { headers });
    }
    /**
     * @param {?} scope
     * @param {?=} metadataType
     * @param {?=} searchText
     * @param {?=} page
     * @param {?=} selectedPackageSource
     * @param {?=} currentProjPath
     * @return {?}
     */
    GetMetadataInfosByScope4Java(scope, metadataType = null, searchText = null, page = null, selectedPackageSource = null, currentProjPath = '') {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        let url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/mdlist?scopeType=' + scope + '&path=' + currentProjPath;
        if (page) {
            url = url + '&page=true&pageIndex=' + page.pageIndex + '&pageSize=' + page.pageSize;
        }
        else {
            url = url + '&page=false';
        }
        if (metadataType) {
            url = url + '&metadataTypeList=' + metadataType;
        }
        if (searchText) {
            url = url + '&text=' + searchText;
        }
        if ((scope === 2 || scope === 3) && selectedPackageSource) {
            url = url + '&selectedPackageSource=' + selectedPackageSource;
        }
        return this.http.get(url, { headers });
    }
    // 获取元数据以及包的信息
    // GetMetadataFromPackage(packageName: string, packagePath: string, metadataID: string): Observable<any> {
    //   const headers = new HttpHeaders().set('SessionId', this.sessionId);
    //   let fullName = '';
    //   if (packageName.endsWith('mdpkg')) {
    //     fullName = packageName;
    //   } else {
    //     fullName = packageName + '.mdpkg';
    //   }
    //   let path = '';
    //   if (packagePath) {
    //     path = packagePath;
    //   }
    //   const url = this.SERVER_IP + this.Metadata4RefDto_Base_Path + '?packageName=' + fullName +
    //     '&packagePath=' + path + '&metadataID=' + metadataID;
    //   return this.http.get(url, { headers });
    // }
    // 获取某个路径下的所有元数据包
    /**
     * @param {?} path
     * @return {?}
     */
    GetMetadataPackages(path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.Project_Base_Path + '/children/' + path;
        return this.http.get(url, { headers });
    }
    // 获取元数据类型及后缀信息
    /**
     * @return {?}
     */
    GetMetadataTypeList() {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_CONFIG_BASE_PATH;
        return this.http.get(url, { headers });
    }
    // 获取后缀
    /**
     * @param {?} metadataType
     * @return {?}
     */
    GetPostfix(metadataType) {
        this.GetMetadataTypeList().subscribe((/**
         * @param {?} typeList
         * @return {?}
         */
        typeList => {
            typeList.forEach((/**
             * @param {?} type
             * @return {?}
             */
            type => {
                if (metadataType.toLowerCase() === type.typeCode.toLowerCase()) {
                    return type.postfix;
                }
            }));
        }));
        return new Observable();
    }
    // 更新工程引用
    /**
     * @param {?} projectPath
     * @param {?} packageHeader
     * @return {?}
     */
    UpdateMetadataProject(projectPath, packageHeader) {
        /** @type {?} */
        const content = {
            ProjectPath: projectPath,
            DepPackageName: packageHeader.name,
            DepPackageVersion: packageHeader.version.versionString,
            DepPackageLocation: packageHeader.location
        };
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH;
        return this.http.put(url, content, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    // 根据业务对象ID获取app、su等信息
    /**
     * @param {?} businessObjectID
     * @param {?} sessionId
     * @return {?}
     */
    GetDevBasicBOInfo(businessObjectID, sessionId) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.DevBasinBOInfo_Base_Path + '/' + businessObjectID;
        return this.http.get(url, { headers });
    }
    /**
     * @param {?} path
     * @param {?} fileName
     * @return {?}
     */
    ValidateRepeatName(path, fileName) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/validation?path=' + path + '&fileName=' + fileName;
        /** @type {?} */
        const metadata = new Subject();
        this.http.get(url).subscribe((/**
         * @param {?} result
         * @return {?}
         */
        result => {
            // if (result) {
            metadata.next(result);
            // }
        }));
        return metadata;
    }
    /**
     * @param {?} path
     * @param {?} sessionId
     * @return {?}
     */
    SetMetadataUri(path, sessionId) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_CONFIG_BASE_PATH + '?path=' + path;
        return this.http.put(url, null, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    /**
     * @return {?}
     */
    getGspProjectType() {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.GSP_PROJECT_BASE_PATH + '/type';
        return this.http.get(url, { headers });
    }
    /**
     * @param {?} path
     * @param {?} codeLanguage
     * @return {?}
     */
    updateGspProject(path, codeLanguage) {
        /** @type {?} */
        const sessionId = gsp.cache.get('sessionId');
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.GSP_PROJECT_BASE_PATH + '?path=' + path + '&codeLanguage=' + codeLanguage;
        return this.http.put(url, null, {
            params: {},
            headers,
            observe: 'response'
        });
    }
    /**
     * @return {?}
     */
    getNugetSourceList() {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.NUGET_BASE_PATH + '/sources';
        return this.http.get(url, { headers });
    }
    /**
     * @return {?}
     */
    getMavenSourceList() {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.MAVEN_JAVA_BASE_PATH + '/repolist';
        return this.http.get(url, { headers });
    }
    // 获取技术栈
    // tslint:disable-next-line:adjacent-overload-signatures
    /**
     * @param {?} projPath
     * @return {?}
     */
    getCodeLanguage(projPath) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/codelanguage?projPath=' + projPath;
        return this.http.get(url, { responseType: 'text' });
    }
    // 获取setting信息
    /**
     * @return {?}
     */
    getSettingInfo() {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.SETTING_BASE_PATH;
        return this.http.get(url, { headers });
    }
    // 是否开启maven
    /**
     * @return {?}
     */
    getMavenSetting() {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_BASE_PATH + '/mavensetting';
        return this.http.get(url);
    }
    // 获取bo路径
    /**
     * @param {?} path
     * @return {?}
     */
    getBoPath(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/bopath?path=' + path;
        return this.http.get(url, { responseType: 'text' });
    }
    // 获取是否是maven引用
    /**
     * @param {?} path
     * @return {?}
     */
    getMavenStatus(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/isMaven?path=' + path;
        return this.http.get(url);
    }
    // 获取是否是解析型工具
    /**
     * @param {?} path
     * @return {?}
     */
    isInterpretation(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/isInterpretation?path=' + path;
        return this.http.get(url);
    }
    // 生成代码
    /**
     * @param {?} path
     * @return {?}
     */
    generate(path) {
        /** @type {?} */
        const url = this.JAVA_CODE_GENERATOR + '?path=' + path;
        return this.http.post(url, null);
    }
    // 获取ProcessMode
    /**
     * @param {?} path
     * @return {?}
     */
    getProcessMode(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/processMode?path=' + path;
        return this.http.get(url, { responseType: 'text' });
    }
    // 添加依赖并更新版本
    /**
     * @param {?} path
     * @param {?} metadataPackages
     * @param {?} isMaven
     * @return {?}
     */
    addDependencyAndRestore(path, metadataPackages, isMaven) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        let url;
        if (isMaven) {
            url = this.SERVER_IP + this.MAVEN_JAVA_BASE_PATH + '/adddepedency?path=' + path
                + '&metadataPackages=' + metadataPackages;
            return this.http.put(url, null, {
                params: {},
                headers,
                observe: 'response'
            });
        }
        else {
            url = this.SERVER_IP + this.NUGET_BASE_PATH + '/adddepedency?projPath=' + path
                + '&metadataPackages=' + metadataPackages;
            return this.http.post(url, null, {
                params: {},
                headers,
                observe: 'response'
            });
        }
    }
    // 在资源管理器中打开
    /**
     * @param {?} path
     * @return {?}
     */
    showInExplorer(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.FS_JAVA_BASE_PATH + '?path=' + path;
        return this.http.get(url);
    }
    /**
     * @param {?} path
     * @param {?} metadataPackages
     * @return {?}
     */
    restoreMavenPackage(path, metadataPackages) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.MAVEN_JAVA_BASE_PATH + '/adddepedency?path=' + path + '&metadataPackages=' + metadataPackages;
        return this.http.put(url, null, {
            headers,
            observe: 'response'
        });
    }
    // 获取菜单
    /**
     * @param {?} path
     * @return {?}
     */
    getMenu(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.SETTING_BASE_PATH + '/menu?path=' + path;
        return this.http.get(url);
    }
    /**
     * @param {?} projPath
     * @param {?=} fakeFlag
     * @return {?}
     */
    mavenBuildAll(projPath, fakeFlag = false) {
        if (fakeFlag) {
            return this.getMenu(projPath);
        }
        /** @type {?} */
        const url = this.JAVA_BUILD + '/compileAll?path=' + projPath;
        return this.http.post(url, null);
    }
    // 获取路径下的工程路径
    /**
     * @param {?} path
     * @return {?}
     */
    getProjPathsInPath(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/projinpath?path=' + path;
        return this.http.get(url);
    }
    /**
     * @param {?} path
     * @param {?} mdpkgName
     * @return {?}
     */
    getMdpkgNameExistInBo(path, mdpkgName) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_JAVA_BASE_PATH + '/mdpkgNameExist?path=' + path + '&mdpkgName=' + mdpkgName;
        return this.http.get(url, { responseType: 'text' });
    }
    // 是否存在工程文件，废弃，使用getProjPath代替
    /**
     * @param {?} path
     * @return {?}
     */
    IsProjExist(path) {
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PROJECT_BASE_PATH + '/validation?path=' + path;
        /** @type {?} */
        const metadata = new Subject();
        this.http.get(url).subscribe((/**
         * @param {?} result
         * @return {?}
         */
        result => {
            metadata.next(result);
        }));
        return metadata;
    }
    // 获取Nuget包下所有的元数据包，nuget已废弃
    /**
     * @param {?} path
     * @return {?}
     */
    GetMetadataPackagesUnderNugetDir(path) {
        /** @type {?} */
        const headers = new HttpHeaders().set('SessionId', this.sessionId);
        /** @type {?} */
        const url = this.SERVER_IP + this.METADATA_PACKAGE_BASE_PATH + '?path=' + path;
        return this.http.get(url, { headers });
    }
}
GSPMetadataService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
GSPMetadataService.ctorParameters = () => [
    { type: HttpClient },
    { type: String, decorators: [{ type: Inject, args: ['url',] }] }
];
if (false) {
    /** @type {?} */
    GSPMetadataService.prototype.selectPath;
    /** @type {?} */
    GSPMetadataService.prototype.selectType;
    /** @type {?} */
    GSPMetadataService.prototype.sessionId;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.SERVER_IP;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.METADATA_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.GSP_PROJECT_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.Project_Base_Path;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.DBO_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.METADATA_PROJECT_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.METADATA_PACKAGE_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.METADATA_CONFIG_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.DevBasinBOInfo_Base_Path;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.NUGET_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.SETTING_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.MAVEN_JAVA_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.FS_JAVA_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.JAVA_CODE_GENERATOR;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.JAVA_BUILD;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.METADATA_JAVA_BASE_PATH;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.http;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataService.prototype.url;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3AtbGNtL21ldGFkYXRhLXNlbGVjdG9yLyIsInNvdXJjZXMiOlsibWV0YWRhdGEvbWV0YWRhdGEuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNsQyxPQUFPLEVBQUUsVUFBVSxFQUFlLFdBQVcsRUFBZ0IsTUFBTSxzQkFBc0IsQ0FBQztBQUUxRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFHL0IsTUFBTSxPQUFPLGtCQUFrQjs7Ozs7SUF5QjdCLFlBQW9CLElBQWdCLEVBQXlCLEdBQVc7UUFBcEQsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUF5QixRQUFHLEdBQUgsR0FBRyxDQUFRO1FBbkJoRSx1QkFBa0IsR0FBRyw4QkFBOEIsQ0FBQztRQUNwRCwwQkFBcUIsR0FBRyxpQ0FBaUMsQ0FBQztRQUMxRCxzQkFBaUIsR0FBRyw0QkFBNEIsQ0FBQztRQUNqRCxrQkFBYSxHQUFHLHFDQUFxQyxDQUFDLENBQUUsUUFBUTs7UUFDaEUsK0JBQTBCLEdBQUcsc0NBQXNDLENBQUM7UUFDcEUsK0JBQTBCLEdBQUcsc0NBQXNDLENBQUM7UUFDcEUsOEJBQXlCLEdBQUcscUNBQXFDLENBQUM7OztRQUdsRSw2QkFBd0IsR0FBRyxzQ0FBc0MsQ0FBQyxDQUFDLE9BQU87O1FBQzFFLG9CQUFlLEdBQUcsbUNBQW1DLENBQUM7UUFDdEQsc0JBQWlCLEdBQUcsaUNBQWlDLENBQUM7UUFDdEQseUJBQW9CLEdBQUcsa0NBQWtDLENBQUM7UUFDMUQsc0JBQWlCLEdB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OztJQUFFLGlDQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGFuZGxlciwgSHR0cEhlYWRlcnMsIEh0dHBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHsgTWV0YWRhdGFEdG8gfSBmcm9tICcuL21ldGFkYXRhZHRvJztcclxuaW1wb3J0IHsgTWV0YWRhdGFQYWNrYWdlRHRvIH0gZnJvbSAnLi9tZXRhZGF0YXBhY2thZ2VkdG8nO1xyXG5pbXBvcnQgeyBJbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgR1NQTWV0YWRhdGFTZXJ2aWNlIHtcclxuICBwdWJsaWMgc2VsZWN0UGF0aDogc3RyaW5nO1xyXG4gIHB1YmxpYyBzZWxlY3RUeXBlOiBzdHJpbmc7XHJcbiAgcHVibGljIHNlc3Npb25JZDogc3RyaW5nO1xyXG4gIC8vIOeOr+Wig+WPmOmHj1xyXG4gIHByaXZhdGUgU0VSVkVSX0lQOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBNRVRBREFUQV9CQVNFX1BBVEggPSAnL2FwaS9kZXYvbWFpbi92MS4wL21ldGFkYXRhcyc7XHJcbiAgcHJpdmF0ZSBHU1BfUFJPSkVDVF9CQVNFX1BBVEggPSAnL2FwaS9kZXYvbWFpbi92MS4wL2dzcC1wcm9qZWN0cyc7XHJcbiAgcHJpdmF0ZSBQcm9qZWN0X0Jhc2VfUGF0aCA9ICcvYXBpL2Rldi9tYWluL3YxLjAvcHJvamVjdCc7XHJcbiAgcHJpdmF0ZSBEQk9fQkFTRV9QQVRIID0gJy9hcGkvZGV2L21haW4vdjEuMC9kYXRhYmFzZS1vYmplY3RzJzsgIC8vIGRib+ebuOWFs1xyXG4gIHByaXZhdGUgTUVUQURBVEFfUFJPSkVDVF9CQVNFX1BBVEggPSAnL2FwaS9kZXYvbWFpbi92MS4wL21ldGFkYXRhLXByb2plY3RzJztcclxuICBwcml2YXRlIE1FVEFEQVRBX1BBQ0tBR0VfQkFTRV9QQVRIID0gJy9hcGkvZGV2L21haW4vdjEuMC9tZXRhZGF0YS1wYWNrYWdlcyc7XHJcbiAgcHJpdmF0ZSBNRVRBREFUQV9DT05GSUdfQkFTRV9QQVRIID0gJy9hcGkvZGV2L21haW4vdjEuMC9tZXRhZGF0YS1jb25maWdzJztcclxuICAvLyBwcml2YXRlIE1ldGFkYXRhNFJlZkR0b19CYXNlX1BhdGggPSAnL2FwaS9kZXYvbWFpbi92MS4wL21ldGFkYXRhNHJlZmR0b3MnOyBwaWNrTWV0YWRhdGFJbmRleO+8jGRvdG5ldOS4jemcgOimgVxyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXHJcbiAgcHJpdmF0ZSBEZXZCYXNpbkJPSW5mb19CYXNlX1BhdGggPSAnL2FwaS9kZXYvbWFpbi92MS4wL2Rldi1iYXNpYy1ib2luZm9zJzsgLy8g5Lia5Yqh5a+56LGhXHJcbiAgcHJpdmF0ZSBOVUdFVF9CQVNFX1BBVEggPSAnL2FwaS9kZXYvbWFpbi92MS4wL251Z2V0LXBhY2thZ2VzJztcclxuICBwcml2YXRlIFNFVFRJTkdfQkFTRV9QQVRIID0gJy9hcGkvZGV2L21haW4vdjEuMC9pZGUvc2V0dGluZ3MnO1xyXG4gIHByaXZhdGUgTUFWRU5fSkFWQV9CQVNFX1BBVEggPSAnL2FwaS9kZXYvbWFpbi92MS4wL3JlcG8tcGFja2FnZXMnO1xyXG4gIHByaXZhdGUgRlNfSkFWQV9CQVNFX1BBVEggPSAnL2FwaS9kZXYvbWFpbi92MS4wL2ZpbGUtc3lzdGVtJztcclxuICBwcml2YXRlIEpBVkFfQ09ERV9HRU5FUkFUT1IgPSAnL2FwaS9kZXYvbWFpbi92MS4wL2dlbmVyYXRvcic7XHJcbiAgcHJpdmF0ZSBKQVZBX0JVSUxEID0gJy9hcGkvZGV2L21haW4vdjEuMC9yZXBvLXBhY2thZ2VzJztcclxuXHJcbiAgcHJpdmF0ZSBNRVRBREFUQV9KQVZBX0JBU0VfUEFUSCA9ICcvYXBpL2Rldi9tYWluL3YxLjAvbWRzZXJ2aWNlJztcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LCBASW5qZWN0KCd1cmwnKSBwcml2YXRlIHVybDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLlNFUlZFUl9JUCA9ICh1cmwgPT09IG51bGwgfHwgdXJsID09PSB1bmRlZmluZWQpID8gJycgOiB1cmw7XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IGdzcC5jYWNoZS5nZXQoJ3Nlc3Npb25JZCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YWD5pWw5o2u6K6+6K6h5pe25pyN5YqhXHJcbiAgICovXHJcblxyXG4gIC8vIOaJk+WMhe+8iOWKn+iDveinpuWPke+8iVxyXG4gIHB1YmxpYyBQYWNrKCkge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0VHlwZSA9PT0gJ2ZvbGRlcicgfHwgdGhpcy5zZWxlY3RUeXBlID09PSAncHJvamVjdCcpIHtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0UGF0aCAhPT0gJycgJiYgdGhpcy5zZWxlY3RQYXRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLlBhY2thZ2VCdWlsZCh0aGlzLnNlbGVjdFBhdGguc3Vic3RyaW5nKDEpKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWxlcnQoJ+ivt+mAieaLqeWQiOmAgueahOebruW9lScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5omT5YyF77yI5aSW6YOo6LCD55So77yJXHJcbiAgcHVibGljIFBhY2thZ2VCdWlsZChwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3Qgc2Vzc2lvbklkID0gZ3NwLmNhY2hlLmdldCgnc2Vzc2lvbklkJyk7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KS5hcHBlbmQoJ1Nlc3Npb25JZCcsIHNlc3Npb25JZCk7XHJcbiAgICBjb25zdCBwYWNrYWdlRHRvID0gbmV3IE1ldGFkYXRhUGFja2FnZUR0bygnJywgJycsICcnLCBwYXRoKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9QQUNLQUdFX0JBU0VfUEFUSDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdCh1cmwsIHBhY2thZ2VEdG8sIHtcclxuICAgICAgaGVhZGVycyxcclxuICAgICAgb2JzZXJ2ZTogJ3Jlc3BvbnNlJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDpgJLlvZLmn6Xmib7mmK/lkKblrZjlnKjlt6XnqIvmlofku7ZcclxuICBwdWJsaWMgSXNQcm9qRXhpc3RSZWN1cnNpdmVseShwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX1BST0pFQ1RfQkFTRV9QQVRIICsgJy92YWxpZGF0aW9ucmVjdXJzaXZlbHk/cGF0aD0nICsgcGF0aDtcclxuICAgIGNvbnN0IG1ldGFkYXRhID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgdGhpcy5odHRwLmdldCh1cmwpLnN1YnNjcmliZShcclxuICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICAvLyBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgbWV0YWRhdGEubmV4dChyZXN1bHQpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgfSk7XHJcbiAgICByZXR1cm4gbWV0YWRhdGE7XHJcbiAgfVxyXG5cclxuICAvLyDliJ3lp4vljJblhYPmlbDmja7lrp7kvZNcclxuICBwdWJsaWMgSW5pdGlhbGl6ZU1ldGFkYXRhRW50aXR5KG1ldGFkYXRhRHRvOiBNZXRhZGF0YUR0byk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfQkFTRV9QQVRIICsgJy9pbml0aWFsaXplZD9uYW1lU3BhY2U9JyArIG1ldGFkYXRhRHRvLm5hbWVTcGFjZSArICcmY29kZT0nICsgbWV0YWRhdGFEdG8uY29kZSArICcmbmFtZT0nICsgbWV0YWRhdGFEdG8ubmFtZSArICcmdHlwZT0nICsgbWV0YWRhdGFEdG8udHlwZSArICcmYml6T2JqZWN0SUQ9JyArIG1ldGFkYXRhRHRvLmJpem9iamVjdElEICsgJyZtZXRhZGF0YVBhdGg9JyArIG1ldGFkYXRhRHRvLnJlbGF0aXZlUGF0aCArICcmZXh0ZW5kUHJvcGVydHk9JyArIG1ldGFkYXRhRHRvLmV4dGVuZFByb3BlcnR5O1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5paw5bu65YWD5pWw5o2uXHJcbiAgcHVibGljIENyZWF0ZU1ldGFkYXRhKG1ldGFkYXRhRHRvOiBNZXRhZGF0YUR0byk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBjb250ZW50ID0ge1xyXG4gICAgICAnSUQnOiBtZXRhZGF0YUR0by5pZCxcclxuICAgICAgJ05hbWVTcGFjZSc6IG1ldGFkYXRhRHRvLm5hbWVTcGFjZSxcclxuICAgICAgJ0NvZGUnOiBtZXRhZGF0YUR0by5jb2RlLFxyXG4gICAgICAnTmFtZSc6IG1ldGFkYXRhRHRvLm5hbWUsXHJcbiAgICAgICdGaWxlTmFtZSc6IG1ldGFkYXRhRHRvLmZpbGVOYW1lLFxyXG4gICAgICAnUmVsYXRpdmVQYXRoJzogbWV0YWRhdGFEdG8ucmVsYXRpdmVQYXRoLFxyXG4gICAgICAnQ29udGVudCc6IG1ldGFkYXRhRHRvLmNvbnRlbnQsXHJcbiAgICAgICdUeXBlJzogbWV0YWRhdGFEdG8udHlwZSxcclxuICAgICAgJ0Jpem9iamVjdElEJzogbWV0YWRhdGFEdG8uYml6b2JqZWN0SUQsXHJcbiAgICAgICdFeHRlbmRQcm9wZXJ0eSc6IG1ldGFkYXRhRHRvLmV4dGVuZFByb3BlcnR5XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0JBU0VfUEFUSDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLCBjb250ZW50LCB7XHJcbiAgICAgIHBhcmFtczoge30sXHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG9ic2VydmU6ICdyZXNwb25zZSdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yig6Zmk5YWD5pWw5o2u5paH5Lu2XHJcbiAgcHVibGljIERlbGV0ZU1ldGFkYXRhKCkge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0UGF0aCAhPT0gJycgJiYgdGhpcy5zZWxlY3RQYXRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0VHlwZSA9PT0gJ2ZpbGUnKSB7XHJcbiAgICAgICAgdGhpcy5EZWxldGVNZXRhZGF0YU9yRGlyKHRoaXMuc2VsZWN0UGF0aC5zdWJzdHJpbmcoMSkpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgLy8g5Yi35paw6IqC54K5XHJcbiAgICAgICAgICAvLyB0aGlzLnRyZWVNb2RlbC5yZW1vdmVGaWxlTm9kZSgpO1xyXG4gICAgICAgICAgYWxlcnQoJ+WIoOmZpOaIkOWKn++8gScpO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RQYXRoID0gJyc7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdFR5cGUgPSAnJztcclxuICAgICAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgICAgICBhbGVydCgn5Yig6Zmk5aSx6LSl77yBJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnQoJ+ivt+mAieaLqeato+ehrueahOaWh+S7tui/m+ihjOWIoOmZpO+8gScpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhbGVydCgn6K+36YCJ5oup5q2j56Gu55qE5paH5Lu26L+b6KGM5Yig6Zmk77yBJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDkv53lrZjlhYPmlbDmja5cclxuICBwdWJsaWMgU2F2ZU1ldGFkYXRhKG1ldGFkYXRhRHRvOiBNZXRhZGF0YUR0bywgc2Vzc2lvbklkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgY29udGVudCA9IHtcclxuICAgICAgJ0lEJzogbWV0YWRhdGFEdG8uaWQsXHJcbiAgICAgICdOYW1lU3BhY2UnOiBtZXRhZGF0YUR0by5uYW1lU3BhY2UsXHJcbiAgICAgICdDb2RlJzogbWV0YWRhdGFEdG8uY29kZSxcclxuICAgICAgJ05hbWUnOiBtZXRhZGF0YUR0by5uYW1lLFxyXG4gICAgICAnRmlsZU5hbWUnOiBtZXRhZGF0YUR0by5maWxlTmFtZSxcclxuICAgICAgJ1JlbGF0aXZlUGF0aCc6IG1ldGFkYXRhRHRvLnJlbGF0aXZlUGF0aCxcclxuICAgICAgJ0NvbnRlbnQnOiBtZXRhZGF0YUR0by5jb250ZW50LFxyXG4gICAgICAnVHlwZSc6IG1ldGFkYXRhRHRvLnR5cGUsXHJcbiAgICAgICdCaXpvYmplY3RJRCc6IG1ldGFkYXRhRHRvLmJpem9iamVjdElELFxyXG4gICAgICAnRXh0ZW5kUHJvcGVydHknOiBtZXRhZGF0YUR0by5leHRlbmRQcm9wZXJ0eSxcclxuICAgICAgJ0V4dGVuZGFibGUnOiBtZXRhZGF0YUR0by5leHRlbmRhYmxlXHJcbiAgICB9O1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEg7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wdXQodXJsLCBjb250ZW50LCB7XHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG9ic2VydmU6ICdyZXNwb25zZSdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9hZOWFg+aVsOaNru+8iOWklumDqOiwg+eUqO+8iVxyXG4gIHB1YmxpYyBMb2FkTWV0YWRhdGEoZnVsbE5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IG1ldGFkYXRhRnVsbFBhdGggPSBwYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKSArICcvJyArIGZ1bGxOYW1lO1xyXG4gICAgY29uc3QgZW5jTWV0YWRhdGFGdWxsUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChtZXRhZGF0YUZ1bGxQYXRoKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL2xvYWQ/bWV0YWRhdGFGdWxsUGF0aD0nICsgZW5jTWV0YWRhdGFGdWxsUGF0aDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9hZCBib+WGheWFg+aVsOaNru+8iOWklumDqOiwg+eUqO+8iVxyXG4gIHB1YmxpYyBMb2FkTWV0YWRhdGFJbkJvKGZ1bGxOYW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgY3VycmVudFByb2pQYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgbWV0YWRhdGFGdWxsUGF0aCA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpICsgJy8nICsgZnVsbE5hbWU7XHJcbiAgICBjb25zdCBlbmNNZXRhZGF0YUZ1bGxQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KG1ldGFkYXRhRnVsbFBhdGgpO1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL21ldGFkYXRhSW5Cbz9tZXRhZGF0YUZ1bGxQYXRoPScgKyBlbmNNZXRhZGF0YUZ1bGxQYXRoXHJcbiAgICAgICsgJyZjdXJyZW50UHJvalBhdGg9JyArIGN1cnJlbnRQcm9qUGF0aDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yig6Zmk5paH5Lu25aS5XHJcbiAgcHVibGljIERlbGV0ZUZvbGRlcigpIHtcclxuICAgIGlmICh0aGlzLnNlbGVjdFBhdGggIT09ICcnICYmIHRoaXMuc2VsZWN0UGF0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmICh0aGlzLnNlbGVjdFR5cGUgPT09ICdmb2xkZXInKSB7XHJcbiAgICAgICAgdGhpcy5EZWxldGVNZXRhZGF0YU9yRGlyKHRoaXMuc2VsZWN0UGF0aC5zdWJzdHJpbmcoMSkpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgLy8g5Yi35paw6IqC54K5XHJcbiAgICAgICAgICAvLyB0aGlzLnRyZWVNb2RlbC5yZW1vdmVGb2xkZXJOb2RlKCk7XHJcbiAgICAgICAgICBhbGVydCgn5Yig6Zmk5oiQ5Yqf77yBJyk7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdFBhdGggPSAnJztcclxuICAgICAgICAgIHRoaXMuc2VsZWN0VHlwZSA9ICcnO1xyXG4gICAgICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgICAgIGFsZXJ0KCfliKDpmaTlpLHotKXvvIEnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydCgn6K+36YCJ5oup5q2j56Gu55qE55uu5b2V6L+b6KGM5Yig6Zmk77yBJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFsZXJ0KCfor7fpgInmi6nmraPnoa7nmoTnm67lvZXov5vooYzliKDpmaTvvIEnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOWIoOmZpOW3peeoi1xyXG4gIHB1YmxpYyBEZWxldGVQcm9qKCkge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0UGF0aCAhPT0gJycgJiYgdGhpcy5zZWxlY3RQYXRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0VHlwZSA9PT0gJ3Byb2plY3QnKSB7XHJcbiAgICAgICAgdGhpcy5EZWxldGVQcm9qZWN0KHRoaXMuc2VsZWN0UGF0aC5zdWJzdHJpbmcoMSkpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgLy8g5Yi35paw6IqC54K5XHJcbiAgICAgICAgICAvLyB0aGlzLnRyZWVNb2RlbC5yZW1vdmVQcm9qZWN0Tm9kZSgpO1xyXG4gICAgICAgICAgYWxlcnQoJ+WIoOmZpOaIkOWKn++8gScpO1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RQYXRoID0gJyc7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdFR5cGUgPSAnJztcclxuICAgICAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgICAgICBhbGVydCgn5Yig6Zmk5aSx6LSl77yBJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnQoJ+ivt+mAieaLqeato+ehrueahOW3peeoi+iKgueCuei/m+ihjOWIoOmZpO+8gScpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhbGVydCgn6K+36YCJ5oup5q2j56Gu55qE5bel56iL6IqC54K56L+b6KGM5Yig6Zmk77yBJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDlhYPmlbDmja7miJbogIXmlofku7blpLnnmoTliKDpmaTvvIjlpJbpg6josIPnlKjvvIlcclxuICBwdWJsaWMgRGVsZXRlTWV0YWRhdGFPckRpcihmdWxsUGF0aDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHNlc3Npb25JZCA9IGdzcC5jYWNoZS5nZXQoJ3Nlc3Npb25JZCcpO1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IGVuY0Z1bGxQYXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGZ1bGxQYXRoLnJlcGxhY2UoL1xcXFwvZywgJy8nKSk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfQkFTRV9QQVRIICsgJy9kZWxldGU/ZnVsbFBhdGg9JyArIGVuY0Z1bGxQYXRoO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlKHVybCwge1xyXG4gICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICBoZWFkZXJzLFxyXG4gICAgICBvYnNlcnZlOiAncmVzcG9uc2UnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOWIpOaWreWFg+aVsOaNruaYr+WQpuiiq+S+nei1llxyXG4gIHB1YmxpYyBpc01ldGFkYXRhUmVmZWQoZnVsbFBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBnc3AuY2FjaGUuZ2V0KCdzZXNzaW9uSWQnKTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHNlc3Npb25JZCk7XHJcbiAgICBjb25zdCBlbmNGdWxsUGF0aCA9IGVuY29kZVVSSUNvbXBvbmVudChmdWxsUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJykpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0pBVkFfQkFTRV9QQVRIICsgJy9pc01ldGFkYXRhUmVmZWQ/cGF0aD0nICsgZW5jRnVsbFBhdGg7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7XHJcbiAgICAgIHBhcmFtczoge30sXHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG9ic2VydmU6ICdyZXNwb25zZSdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yig6Zmk5bel56iLXHJcbiAgcHVibGljIERlbGV0ZVByb2plY3QocGF0aDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHNlc3Npb25JZCA9IGdzcC5jYWNoZS5nZXQoJ3Nlc3Npb25JZCcpO1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5Qcm9qZWN0X0Jhc2VfUGF0aCArICcvJyArIHBhdGgucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5kZWxldGUodXJsLCB7XHJcbiAgICAgIHBhcmFtczoge30sXHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG9ic2VydmU6ICdyZXNwb25zZSdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIEdldERldlJvb3RQYXRoKCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICBoZWFkZXJzLFxyXG4gICAgICByZXNwb25zZVR5cGU6ICd0ZXh0J1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5Qcm9qZWN0X0Jhc2VfUGF0aCArICcvcm9vdHBhdGgnO1xyXG4gICAgY29uc3QgbWV0YWRhdGEgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgICB0aGlzLmh0dHAuZ2V0KHVybCwgeyByZXNwb25zZVR5cGU6ICd0ZXh0JyB9KS5zdWJzY3JpYmUoXHJcbiAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgbWV0YWRhdGEubmV4dChyZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICByZXR1cm4gbWV0YWRhdGE7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgTG9hZERCTyhmdWxsTmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIHNlc3Npb25JZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGRib0Z1bGxQYXRoID0gcGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJykgKyAnLycgKyBmdWxsTmFtZTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5EQk9fQkFTRV9QQVRIICsgJy8nICsgZGJvRnVsbFBhdGg7XHJcblxyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5paw5bu65paH5Lu25aS5XHJcbiAgcHVibGljIENyZWF0ZURpcihwYXRoOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuUHJvamVjdF9CYXNlX1BhdGggKyAnL2ZvbGRlcicgKyBwYXRoICsgJy8nICsgbmFtZSArICc/cXVpZXQ9dHJ1ZSc7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHVybCwgbnVsbCwge1xyXG4gICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICBoZWFkZXJzLFxyXG4gICAgICBvYnNlcnZlOiAncmVzcG9uc2UnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluWFg+aVsOaNruW3peeoi+S/oeaBr1xyXG4gIHB1YmxpYyBHZXRQcm9qZWN0SW5mbyhwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX1BST0pFQ1RfQkFTRV9QQVRIICsgJz9wYXRoPScgKyBwYXRoO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5bel56iL5L+h5oGvXHJcbiAgcHVibGljIEdldEdzcFByb2pJbmZvKHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuR1NQX1BST0pFQ1RfQkFTRV9QQVRIICsgJz9wYXRoPScgKyBwYXRoO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5bel56iL6Lev5b6EXHJcbiAgcHVibGljIEdldFByb2pQYXRoKHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfUFJPSkVDVF9CQVNFX1BBVEggKyAnL3BhdGg/cGF0aD0nICsgcGF0aDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgcmVzcG9uc2VUeXBlOiAndGV4dCcgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5blvZPliY3lt6XnqIvkuIvmiJbogIXlhbbku5blhYPmlbDmja7ljIXkuK3kvp3otZbnmoTlhYPmlbDmja5cclxuICBwdWJsaWMgR2V0UmVmTWV0YWRhdGEocGF0aDogc3RyaW5nLCBtZXRhZGF0YWlkOiBzdHJpbmcsIHNlc3Npb25JZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL3JlbGllZD9tZXRhZGF0YVBhdGg9JyArIHBhdGggKyAnJm1ldGFkYXRhSUQ9JyArIG1ldGFkYXRhaWQ7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5blvZPliY3lt6XnqIvkuIvmiYDmnInnmoTlhYPmlbDmja7ljIVcclxuICBHZXRNZXRhZGF0YUxpc3Qoc3BhY2VQYXRoOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0pBVkFfQkFTRV9QQVRIICsgJz9wYXRoPScgKyBzcGFjZVBhdGggKyAnJm1ldGFkYXRhVHlwZUxpc3Q9JyArIHR5cGVOYW1lO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+WYm/lt6XnqIvkuIvmiYDmnInnmoTlhYPmlbDmja7liJfooahcclxuICBHZXRNZXRhZGF0YUxpc3RJbkJvKHByb2pQYXRoOiBzdHJpbmcsIHR5cGVOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0pBVkFfQkFTRV9QQVRIICsgJy9tZXRhZGF0YUxpc3RJbkJvP3BhdGg9JyArIHByb2pQYXRoICsgJyZtZXRhZGF0YVR5cGVMaXN0PScgKyB0eXBlTmFtZTtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgR2V0TWV0YWRhdGFCeUZpbHRlcihwYXRoOiBzdHJpbmcsIHR5cGVDb2RlOiBzdHJpbmcsIGZpbHRlcjogc3RyaW5nLCBwb3N0Zml4OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL2ZpbHRlcj9wYXRoPScgKyBwYXRoICtcclxuICAgICAgJyZ0eXBlQ29kZT0nICsgdHlwZUNvZGUgKyAnJmZpbHRlcj0nICsgZmlsdGVyICsgJyZwb3N0Zml4PScgKyBwb3N0Zml4O1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gcGlja01ldGFkYXRhSW5kZXgoc2NvcGU6IG51bWJlciwgY3VycmVudFByb2pQYXRoOiBzdHJpbmcsIG1ldGFkYXRhSW5kZXhEdG86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgLy8gICBjb25zdCBzZXNzaW9uSWQgPSBnc3AuY2FjaGUuZ2V0KCdzZXNzaW9uSWQnKTtcclxuICAvLyAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pLmFwcGVuZCgnU2Vzc2lvbklkJywgc2Vzc2lvbklkKTtcclxuICAvLyAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NZXRhZGF0YTRSZWZEdG9fQmFzZV9QYXRoICsgJy9zY29wZS8nICsgc2NvcGUgKyAnP2N1cnJlbnRQYXRoPScgKyBjdXJyZW50UHJvalBhdGg7XHJcbiAgLy8gICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLCBtZXRhZGF0YUluZGV4RHRvLCB7XHJcbiAgLy8gICAgIGhlYWRlcnNcclxuICAvLyAgIH0pO1xyXG4gIC8vIH1cclxuXHJcbiAgcGlja01ldGFkYXRhSW5kZXgoc2NvcGU6IG51bWJlciwgY3VycmVudFByb2pQYXRoOiBzdHJpbmcsIG1ldGFkYXRhSW5kZXhEdG86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uSWQgPSBnc3AuY2FjaGUuZ2V0KCdzZXNzaW9uSWQnKTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pLmFwcGVuZCgnU2Vzc2lvbklkJywgc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9KQVZBX0JBU0VfUEFUSCArICcvcGlja21kP3Njb3BlVHlwZT0nICsgc2NvcGUgKyAnJmN1cnJlbnRQYXRoPScgKyBjdXJyZW50UHJvalBhdGg7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLCBtZXRhZGF0YUluZGV4RHRvLCB7XHJcbiAgICAgIGhlYWRlcnNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5YWD5pWw5o2u5YyF5Lit5omA5YyF5ZCr55qE5YWD5pWw5o2u5L+h5oGvXHJcbiAgR2V0TWV0YWRhdGFQYWNrYWdlSW5mbyhwYWNrYWdlUGF0aDogc3RyaW5nLCBwYWNrYWdlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGxldCBwYWNrYWdlRnVsbE5hbWUgPSAnJztcclxuICAgIGlmIChwYWNrYWdlUGF0aCkge1xyXG4gICAgICBwYWNrYWdlRnVsbE5hbWUgPSBwYWNrYWdlUGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJykgKyAnLycgKyBwYWNrYWdlTmFtZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBhY2thZ2VGdWxsTmFtZSA9IHBhY2thZ2VOYW1lO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZW5jUGFja2FnZUZ1bGxOYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhY2thZ2VGdWxsTmFtZSk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfUEFDS0FHRV9CQVNFX1BBVEggKyAnL3BhY2thZ2VQYXRoP3BhY2thZ2VQYXRoPScgKyBlbmNQYWNrYWdlRnVsbE5hbWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bmnKzlnLDljIVcclxuICBHZXRMb2NhbFBhY2thZ2VzKHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfUEFDS0FHRV9CQVNFX1BBVEggKyAnL2xvY2FsP3BhdGg9JyArIHBhdGg7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICBHZXRNZXRhZGF0YUluZm9zQnlTY29wZShzY29wZTogbnVtYmVyLCBtZXRhZGF0YVR5cGUgPSBudWxsLCBzZWFyY2hUZXh0ID0gbnVsbCwgcGFnZSA9IG51bGwsXHJcbiAgICBzZWxlY3RlZFBhY2thZ2VTb3VyY2UgPSBudWxsLCBjdXJyZW50UHJvalBhdGggPSAnJykge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgbGV0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL3Njb3BlLycgKyBzY29wZSArICc/cGF0aD0nICsgY3VycmVudFByb2pQYXRoO1xyXG4gICAgaWYgKHBhZ2UpIHtcclxuICAgICAgdXJsID0gdXJsICsgJyZwYWdlPXRydWUmcGFnZUluZGV4PScgKyBwYWdlLnBhZ2VJbmRleCArICcmcGFnZVNpemU9JyArIHBhZ2UucGFnZVNpemU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1cmwgPSB1cmwgKyAnJnBhZ2U9ZmFsc2UnO1xyXG4gICAgfVxyXG4gICAgaWYgKG1ldGFkYXRhVHlwZSkge1xyXG4gICAgICB1cmwgPSB1cmwgKyAnJm1ldGFkYXRhVHlwZUxpc3Q9JyArIG1ldGFkYXRhVHlwZTtcclxuICAgIH1cclxuICAgIGlmIChzZWFyY2hUZXh0KSB7XHJcbiAgICAgIHVybCA9IHVybCArICcmdGV4dD0nICsgc2VhcmNoVGV4dDtcclxuICAgIH1cclxuICAgIGlmICgoc2NvcGUgPT09IDIgfHwgc2NvcGUgPT09IDMpICYmIHNlbGVjdGVkUGFja2FnZVNvdXJjZSkge1xyXG4gICAgICB1cmwgPSB1cmwgKyAnJnNlbGVjdGVkUGFja2FnZVNvdXJjZT0nICsgc2VsZWN0ZWRQYWNrYWdlU291cmNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICBHZXRNZXRhZGF0YUluZm9zQnlTY29wZTRKYXZhKHNjb3BlOiBudW1iZXIsIG1ldGFkYXRhVHlwZSA9IG51bGwsIHNlYXJjaFRleHQgPSBudWxsLCBwYWdlID0gbnVsbCxcclxuICAgIHNlbGVjdGVkUGFja2FnZVNvdXJjZSA9IG51bGwsIGN1cnJlbnRQcm9qUGF0aCA9ICcnKSB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBsZXQgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0pBVkFfQkFTRV9QQVRIICsgJy9tZGxpc3Q/c2NvcGVUeXBlPScgKyBzY29wZSArICcmcGF0aD0nICsgY3VycmVudFByb2pQYXRoO1xyXG4gICAgaWYgKHBhZ2UpIHtcclxuICAgICAgdXJsID0gdXJsICsgJyZwYWdlPXRydWUmcGFnZUluZGV4PScgKyBwYWdlLnBhZ2VJbmRleCArICcmcGFnZVNpemU9JyArIHBhZ2UucGFnZVNpemU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1cmwgPSB1cmwgKyAnJnBhZ2U9ZmFsc2UnO1xyXG4gICAgfVxyXG4gICAgaWYgKG1ldGFkYXRhVHlwZSkge1xyXG4gICAgICB1cmwgPSB1cmwgKyAnJm1ldGFkYXRhVHlwZUxpc3Q9JyArIG1ldGFkYXRhVHlwZTtcclxuICAgIH1cclxuICAgIGlmIChzZWFyY2hUZXh0KSB7XHJcbiAgICAgIHVybCA9IHVybCArICcmdGV4dD0nICsgc2VhcmNoVGV4dDtcclxuICAgIH1cclxuICAgIGlmICgoc2NvcGUgPT09IDIgfHwgc2NvcGUgPT09IDMpICYmIHNlbGVjdGVkUGFja2FnZVNvdXJjZSkge1xyXG4gICAgICB1cmwgPSB1cmwgKyAnJnNlbGVjdGVkUGFja2FnZVNvdXJjZT0nICsgc2VsZWN0ZWRQYWNrYWdlU291cmNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5blhYPmlbDmja7ku6Xlj4rljIXnmoTkv6Hmga9cclxuICAvLyBHZXRNZXRhZGF0YUZyb21QYWNrYWdlKHBhY2thZ2VOYW1lOiBzdHJpbmcsIHBhY2thZ2VQYXRoOiBzdHJpbmcsIG1ldGFkYXRhSUQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgLy8gICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgLy8gICBsZXQgZnVsbE5hbWUgPSAnJztcclxuICAvLyAgIGlmIChwYWNrYWdlTmFtZS5lbmRzV2l0aCgnbWRwa2cnKSkge1xyXG4gIC8vICAgICBmdWxsTmFtZSA9IHBhY2thZ2VOYW1lO1xyXG4gIC8vICAgfSBlbHNlIHtcclxuICAvLyAgICAgZnVsbE5hbWUgPSBwYWNrYWdlTmFtZSArICcubWRwa2cnO1xyXG4gIC8vICAgfVxyXG4gIC8vICAgbGV0IHBhdGggPSAnJztcclxuICAvLyAgIGlmIChwYWNrYWdlUGF0aCkge1xyXG4gIC8vICAgICBwYXRoID0gcGFja2FnZVBhdGg7XHJcbiAgLy8gICB9XHJcbiAgLy8gICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTWV0YWRhdGE0UmVmRHRvX0Jhc2VfUGF0aCArICc/cGFja2FnZU5hbWU9JyArIGZ1bGxOYW1lICtcclxuICAvLyAgICAgJyZwYWNrYWdlUGF0aD0nICsgcGF0aCArICcmbWV0YWRhdGFJRD0nICsgbWV0YWRhdGFJRDtcclxuXHJcbiAgLy8gICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgaGVhZGVycyB9KTtcclxuICAvLyB9XHJcblxyXG4gIC8vIOiOt+WPluafkOS4qui3r+W+hOS4i+eahOaJgOacieWFg+aVsOaNruWMhVxyXG4gIEdldE1ldGFkYXRhUGFja2FnZXMocGF0aDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5Qcm9qZWN0X0Jhc2VfUGF0aCArICcvY2hpbGRyZW4vJyArIHBhdGg7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5blhYPmlbDmja7nsbvlnovlj4rlkI7nvIDkv6Hmga9cclxuICBHZXRNZXRhZGF0YVR5cGVMaXN0KCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfQ09ORklHX0JBU0VfUEFUSDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgaGVhZGVycyB9KTtcclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluWQjue8gFxyXG4gIEdldFBvc3RmaXgobWV0YWRhdGFUeXBlKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHRoaXMuR2V0TWV0YWRhdGFUeXBlTGlzdCgpLnN1YnNjcmliZSh0eXBlTGlzdCA9PiB7XHJcbiAgICAgIHR5cGVMaXN0LmZvckVhY2godHlwZSA9PiB7XHJcbiAgICAgICAgaWYgKG1ldGFkYXRhVHlwZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlLnR5cGVDb2RlLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgIHJldHVybiB0eXBlLnBvc3RmaXg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPGFueT4oKTtcclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOW3peeoi+W8leeUqFxyXG4gIFVwZGF0ZU1ldGFkYXRhUHJvamVjdChwcm9qZWN0UGF0aDogc3RyaW5nLCBwYWNrYWdlSGVhZGVyOiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgY29udGVudCA9IHtcclxuICAgICAgUHJvamVjdFBhdGg6IHByb2plY3RQYXRoLFxyXG4gICAgICBEZXBQYWNrYWdlTmFtZTogcGFja2FnZUhlYWRlci5uYW1lLFxyXG4gICAgICBEZXBQYWNrYWdlVmVyc2lvbjogcGFja2FnZUhlYWRlci52ZXJzaW9uLnZlcnNpb25TdHJpbmcsXHJcbiAgICAgIERlcFBhY2thZ2VMb2NhdGlvbjogcGFja2FnZUhlYWRlci5sb2NhdGlvblxyXG4gICAgfTtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9QUk9KRUNUX0JBU0VfUEFUSDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIGNvbnRlbnQsIHtcclxuICAgICAgcGFyYW1zOiB7fSxcclxuICAgICAgaGVhZGVycyxcclxuICAgICAgb2JzZXJ2ZTogJ3Jlc3BvbnNlJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDmoLnmja7kuJrliqHlr7nosaFJROiOt+WPlmFwcOOAgXN1562J5L+h5oGvXHJcbiAgR2V0RGV2QmFzaWNCT0luZm8oYnVzaW5lc3NPYmplY3RJRDogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCkuc2V0KCdTZXNzaW9uSWQnLCB0aGlzLnNlc3Npb25JZCk7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuRGV2QmFzaW5CT0luZm9fQmFzZV9QYXRoICsgJy8nICsgYnVzaW5lc3NPYmplY3RJRDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgaGVhZGVycyB9KTtcclxuICB9XHJcblxyXG4gIFZhbGlkYXRlUmVwZWF0TmFtZShwYXRoOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL3ZhbGlkYXRpb24/cGF0aD0nICsgcGF0aCArICcmZmlsZU5hbWU9JyArIGZpbGVOYW1lO1xyXG5cclxuICAgIGNvbnN0IG1ldGFkYXRhID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgdGhpcy5odHRwLmdldCh1cmwpLnN1YnNjcmliZShcclxuICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICAvLyBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgbWV0YWRhdGEubmV4dChyZXN1bHQpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgfSk7XHJcbiAgICByZXR1cm4gbWV0YWRhdGE7XHJcbiAgfVxyXG5cclxuICBTZXRNZXRhZGF0YVVyaShwYXRoOiBzdHJpbmcsIHNlc3Npb25JZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9DT05GSUdfQkFTRV9QQVRIICsgJz9wYXRoPScgKyBwYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wdXQodXJsLCBudWxsLCB7XHJcbiAgICAgIHBhcmFtczoge30sXHJcbiAgICAgIGhlYWRlcnMsXHJcbiAgICAgIG9ic2VydmU6ICdyZXNwb25zZSdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0R3NwUHJvamVjdFR5cGUoKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5HU1BfUFJPSkVDVF9CQVNFX1BBVEggKyAnL3R5cGUnO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlR3NwUHJvamVjdChwYXRoOiBzdHJpbmcsIGNvZGVMYW5ndWFnZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHNlc3Npb25JZCA9IGdzcC5jYWNoZS5nZXQoJ3Nlc3Npb25JZCcpO1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5HU1BfUFJPSkVDVF9CQVNFX1BBVEggKyAnP3BhdGg9JyArIHBhdGggKyAnJmNvZGVMYW5ndWFnZT0nICsgY29kZUxhbmd1YWdlO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgbnVsbCwge1xyXG4gICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICBoZWFkZXJzLFxyXG4gICAgICBvYnNlcnZlOiAncmVzcG9uc2UnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldE51Z2V0U291cmNlTGlzdCgpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk5VR0VUX0JBU0VfUEFUSCArICcvc291cmNlcyc7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRNYXZlblNvdXJjZUxpc3QoKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NQVZFTl9KQVZBX0JBU0VfUEFUSCArICcvcmVwb2xpc3QnO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5oqA5pyv5qCIXHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmFkamFjZW50LW92ZXJsb2FkLXNpZ25hdHVyZXNcclxuICBwdWJsaWMgZ2V0Q29kZUxhbmd1YWdlKHByb2pQYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX1BST0pFQ1RfQkFTRV9QQVRIICsgJy9jb2RlbGFuZ3VhZ2U/cHJvalBhdGg9JyArIHByb2pQYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IHJlc3BvbnNlVHlwZTogJ3RleHQnIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+Wc2V0dGluZ+S/oeaBr1xyXG4gIHB1YmxpYyBnZXRTZXR0aW5nSW5mbygpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLlNFVFRJTkdfQkFTRV9QQVRIO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IGhlYWRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDmmK/lkKblvIDlkK9tYXZlblxyXG4gIHB1YmxpYyBnZXRNYXZlblNldHRpbmcoKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9CQVNFX1BBVEggKyAnL21hdmVuc2V0dGluZyc7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+WYm/ot6/lvoRcclxuICBwdWJsaWMgZ2V0Qm9QYXRoKHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfUFJPSkVDVF9CQVNFX1BBVEggKyAnL2JvcGF0aD9wYXRoPScgKyBwYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IHJlc3BvbnNlVHlwZTogJ3RleHQnIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5piv5ZCm5pivbWF2ZW7lvJXnlKhcclxuICBwdWJsaWMgZ2V0TWF2ZW5TdGF0dXMocGF0aDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9QUk9KRUNUX0JBU0VfUEFUSCArICcvaXNNYXZlbj9wYXRoPScgKyBwYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluaYr+WQpuaYr+ino+aekOWei+W3peWFt1xyXG4gIHB1YmxpYyBpc0ludGVycHJldGF0aW9uKHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfUFJPSkVDVF9CQVNFX1BBVEggKyAnL2lzSW50ZXJwcmV0YXRpb24/cGF0aD0nICsgcGF0aDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG5cclxuICAvLyDnlJ/miJDku6PnoIFcclxuICBnZW5lcmF0ZShwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5KQVZBX0NPREVfR0VORVJBVE9SICsgJz9wYXRoPScgKyBwYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHVybCwgbnVsbCk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5ZQcm9jZXNzTW9kZVxyXG4gIHB1YmxpYyBnZXRQcm9jZXNzTW9kZShwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0pBVkFfQkFTRV9QQVRIICsgJy9wcm9jZXNzTW9kZT9wYXRoPScgKyBwYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsLCB7IHJlc3BvbnNlVHlwZTogJ3RleHQnIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g5re75Yqg5L6d6LWW5bm25pu05paw54mI5pysXHJcbiAgcHVibGljIGFkZERlcGVuZGVuY3lBbmRSZXN0b3JlKHBhdGg6IHN0cmluZywgbWV0YWRhdGFQYWNrYWdlczogc3RyaW5nLCBpc01hdmVuOiBib29sZWFuKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGxldCB1cmw7XHJcbiAgICBpZiAoaXNNYXZlbikge1xyXG4gICAgICB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUFWRU5fSkFWQV9CQVNFX1BBVEggKyAnL2FkZGRlcGVkZW5jeT9wYXRoPScgKyBwYXRoXHJcbiAgICAgICAgKyAnJm1ldGFkYXRhUGFja2FnZXM9JyArIG1ldGFkYXRhUGFja2FnZXM7XHJcbiAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgbnVsbCwge1xyXG4gICAgICAgIHBhcmFtczoge30sXHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBvYnNlcnZlOiAncmVzcG9uc2UnXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk5VR0VUX0JBU0VfUEFUSCArICcvYWRkZGVwZWRlbmN5P3Byb2pQYXRoPScgKyBwYXRoXHJcbiAgICAgICAgKyAnJm1ldGFkYXRhUGFja2FnZXM9JyArIG1ldGFkYXRhUGFja2FnZXM7XHJcbiAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdCh1cmwsIG51bGwsIHtcclxuICAgICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgb2JzZXJ2ZTogJ3Jlc3BvbnNlJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOWcqOi1hOa6kOeuoeeQhuWZqOS4reaJk+W8gFxyXG4gIHB1YmxpYyBzaG93SW5FeHBsb3JlcihwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLkZTX0pBVkFfQkFTRV9QQVRIICsgJz9wYXRoPScgKyBwYXRoO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZXN0b3JlTWF2ZW5QYWNrYWdlKHBhdGg6IHN0cmluZywgbWV0YWRhdGFQYWNrYWdlczogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ1Nlc3Npb25JZCcsIHRoaXMuc2Vzc2lvbklkKTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NQVZFTl9KQVZBX0JBU0VfUEFUSCArICcvYWRkZGVwZWRlbmN5P3BhdGg9JyArIHBhdGggKyAnJm1ldGFkYXRhUGFja2FnZXM9JyArIG1ldGFkYXRhUGFja2FnZXM7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIG51bGwsIHtcclxuICAgICAgaGVhZGVycyxcclxuICAgICAgb2JzZXJ2ZTogJ3Jlc3BvbnNlJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5boj5zljZVcclxuICBwdWJsaWMgZ2V0TWVudShwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLlNFVFRJTkdfQkFTRV9QQVRIICsgJy9tZW51P3BhdGg9JyArIHBhdGg7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgbWF2ZW5CdWlsZEFsbChwcm9qUGF0aDogc3RyaW5nLCBmYWtlRmxhZzogYm9vbGVhbiA9IGZhbHNlKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGlmIChmYWtlRmxhZykge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRNZW51KHByb2pQYXRoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVybCA9IHRoaXMuSkFWQV9CVUlMRCArICcvY29tcGlsZUFsbD9wYXRoPScgKyBwcm9qUGF0aDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAucG9zdCh1cmwsIG51bGwpO1xyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W6Lev5b6E5LiL55qE5bel56iL6Lev5b6EXHJcbiAgcHVibGljIGdldFByb2pQYXRoc0luUGF0aChwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX0pBVkFfQkFTRV9QQVRIICsgJy9wcm9qaW5wYXRoP3BhdGg9JyArIHBhdGg7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBwdWJsaWMgZ2V0TWRwa2dOYW1lRXhpc3RJbkJvKHBhdGg6IHN0cmluZywgbWRwa2dOYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuU0VSVkVSX0lQICsgdGhpcy5NRVRBREFUQV9KQVZBX0JBU0VfUEFUSCArICcvbWRwa2dOYW1lRXhpc3Q/cGF0aD0nICsgcGF0aCArICcmbWRwa2dOYW1lPScgKyBtZHBrZ05hbWU7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwsIHsgcmVzcG9uc2VUeXBlOiAndGV4dCcgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDmmK/lkKblrZjlnKjlt6XnqIvmlofku7bvvIzlup/lvIPvvIzkvb/nlKhnZXRQcm9qUGF0aOS7o+abv1xyXG4gIHB1YmxpYyBJc1Byb2pFeGlzdChwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX1BST0pFQ1RfQkFTRV9QQVRIICsgJy92YWxpZGF0aW9uP3BhdGg9JyArIHBhdGg7XHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IG5ldyBTdWJqZWN0PGFueT4oKTtcclxuICAgIHRoaXMuaHR0cC5nZXQodXJsKS5zdWJzY3JpYmUoXHJcbiAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgbWV0YWRhdGEubmV4dChyZXN1bHQpO1xyXG4gICAgICB9KTtcclxuICAgIHJldHVybiBtZXRhZGF0YTtcclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlk51Z2V05YyF5LiL5omA5pyJ55qE5YWD5pWw5o2u5YyF77yMbnVnZXTlt7Llup/lvINcclxuICBHZXRNZXRhZGF0YVBhY2thZ2VzVW5kZXJOdWdldERpcihwYXRoOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLnNldCgnU2Vzc2lvbklkJywgdGhpcy5zZXNzaW9uSWQpO1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5TRVJWRVJfSVAgKyB0aGlzLk1FVEFEQVRBX1BBQ0tBR0VfQkFTRV9QQVRIICsgJz9wYXRoPScgKyBwYXRoO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCwgeyBoZWFkZXJzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g6K6+572u5bel56iL5LiK5LiL5paH6Lev5b6E77yM5ZKMc2V0TWV0YWRhdGFVcmnph43lpI3kuobvvIzljrvmjolcclxuICAvLyBwdWJsaWMgc2V0TWV0YWRhdGFQYXRoKHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgLy8gICBjb25zdCB1cmwgPSB0aGlzLlNFUlZFUl9JUCArIHRoaXMuTUVUQURBVEFfUFJPSkVDVF9CQVNFX1BBVEggKyAnL21ldGFkYXRhUGF0aD9wYXRoPScgKyBwYXRoO1xyXG4gIC8vICAgcmV0dXJuIHRoaXMuaHR0cC5wdXQodXJsLCBudWxsKTtcclxuICAvLyB9XHJcblxyXG59XHJcblxyXG5cclxuIl19