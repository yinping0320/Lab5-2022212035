/**
 * @fileoverview added by tsickle
 * Generated from: metadata/metadata.rtservice4biztype.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Observable } from 'rxjs/Observable';
export class GSPMetadataRTService4BizType {
    // tslint:disable-next-line:variable-name
    /**
     * @param {?} http
     */
    constructor(http) {
        this.http = http;
        // 环境变量
        // tslint:disable-next-line:variable-name
        // tslint:disable-next-line:variable-name
        this.MetadataRT_Base_Path = '/api/runtime/lcm/v1.0/rt-metadatas';
        // tslint:disable-next-line:variable-name
        this.MetadataBizType_Base_Path = '/api/runtime/lcm/v1.0/metadata-biztypes';
        this.MetadataBizType_Mapping_Path = '/api/runtime/lcm/v1.0/metadata-biztypes/mappings';
    }
    /**
     * 元数据运行时服务
     * @param {?} metadataID
     * @return {?}
     */
    GetMetadataRT(metadataID) {
        /** @type {?} */
        const url = this.MetadataRT_Base_Path + '/' + metadataID;
        return this.http.get(url);
    }
    /**
     * @param {?} typeList
     * @return {?}
     */
    GetMetadataRTList(typeList) {
        /** @type {?} */
        const url = this.MetadataRT_Base_Path + '?metadataTypes=' + typeList;
        return this.http.get(url);
    }
    /**
     * @param {?} typeList
     * @return {?}
     */
    GetPackagedMetadataRTListWithType(typeList) {
        /** @type {?} */
        const url = this.MetadataRT_Base_Path + '/packaged?metadataTypes=' + typeList;
        return this.http.get(url);
    }
    /**
     * @param {?} typeList
     * @return {?}
     */
    GetAllOriginMdRTListWithType(typeList) {
        /** @type {?} */
        var t = this.MetadataRT_Base_Path + "/origin?metadataTypes=" + typeList;
        return this.http.get(t);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} metadataTypes
     * @return {?}
     */
    getMetadataListByBizTypeId(bizTypeId, metadataTypes) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '?bizTypeId=' + bizTypeId + '&metadataTypes=' + metadataTypes;
        return this.http.get(url);
    }
    /**
     * @param {?} metadataId
     * @param {?} certId
     * @return {?}
     */
    getMappingListByMetadataId(metadataId, certId) {
        /** @type {?} */
        const url = this.MetadataBizType_Mapping_Path + '?metadataId=' + metadataId + '&certId=' + certId;
        return this.http.get(url);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} metadataId
     * @return {?}
     */
    isMappingExist(bizTypeId, metadataId) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/validation/md?bizTypeId=' + bizTypeId + '&mdId=' + metadataId;
        return this.http.get(url);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} boId
     * @return {?}
     */
    isBoBizTypeMappingExist(bizTypeId, boId) {
        /** @type {?} */
        var a = this.MetadataBizType_Base_Path + "/validation/bo?bizTypeId=" + bizTypeId + "&boId=" + boId;
        return this.http.get(a);
    }
    // 获取元数据类型及后缀信息
    /**
     * @return {?}
     */
    GetMetadataTypeList() {
        /** @type {?} */
        const url = this.MetadataRT_Base_Path + '/typeList';
        return this.http.get(url);
    }
    /**
     * @return {?}
     */
    GetPackagedMetadataRTList() {
        /** @type {?} */
        const url = this.MetadataRT_Base_Path + '/packaged';
        return this.http.get(url);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} metadataId
     * @return {?}
     */
    deleteMappingData(bizTypeId, metadataId) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/md?bizTypeId=' + bizTypeId + '&mdId=' + metadataId;
        return this.http.delete(url, null);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} metadataIds
     * @return {?}
     */
    deleteMdMappingDataList(bizTypeId, metadataIds) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/mds?bizTypeId=' + bizTypeId + '&mdIds=' + metadataIds;
        return this.http.delete(url, null);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} boIds
     * @return {?}
     */
    deleteBoMappingDataList(bizTypeId, boIds) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/bos?bizTypeId=' + bizTypeId + '&boIds=' + boIds;
        return this.http.delete(url, null);
    }
    /**
     * @param {?} mdBizTypeMapping
     * @return {?}
     */
    saveMappingData(mdBizTypeMapping) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/md';
        return this.http.post(url, mdBizTypeMapping);
    }
    /**
     * @param {?} mdBizTypeMappingings
     * @return {?}
     */
    saveMdMappingList(mdBizTypeMappingings) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/mds';
        return this.http.post(url, mdBizTypeMappingings);
    }
    /**
     * @param {?} boBizTypeMaaing
     * @return {?}
     */
    saveBoBizTypeMapping(boBizTypeMaaing) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/bo';
        return this.http.post(url, boBizTypeMaaing);
    }
    /**
     * @param {?} boBizTypeMappings
     * @return {?}
     */
    saveBoBizTypeMappingList(boBizTypeMappings) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/bos';
        return this.http.post(url, boBizTypeMappings);
    }
    // 获取后缀
    /**
     * @param {?} metadataType
     * @return {?}
     */
    GetPostfix(metadataType) {
        this.GetMetadataTypeList().subscribe((/**
         * @param {?} typeList
         * @return {?}
         */
        typeList => {
            typeList.forEach((/**
             * @param {?} type
             * @return {?}
             */
            type => {
                if (metadataType.toLowerCase() === type.typeCode.toLowerCase()) {
                    return type.postfix;
                }
            }));
        }));
        return new Observable();
    }
    /**
     * @param {?} bizTypeId
     * @return {?}
     */
    getMdBizTypeMappingType(bizTypeId) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappingtype?bizTypeId=' + bizTypeId;
        return this.http.get(url);
    }
    /**
     * @param {?} bizTypeId
     * @return {?}
     */
    getMdBizMappingListBizTypeId(bizTypeId) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/md?bizTypeId=' + bizTypeId;
        return this.http.get(url);
    }
    /**
     * @param {?} bizTypeId
     * @return {?}
     */
    getBoBizMappingListBizTypeId(bizTypeId) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/bo?bizTypeId=' + bizTypeId;
        return this.http.get(url);
    }
    /**
     * @param {?} mdBizTypeMappingDto
     * @return {?}
     */
    save(mdBizTypeMappingDto) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path;
        return this.http.post(url, mdBizTypeMappingDto);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} mdBizMapType
     * @return {?}
     */
    saveMappingType(bizTypeId, mdBizMapType) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappingtype?bizTypeId=' + bizTypeId + '&mdBizMapType=' + mdBizMapType;
        return this.http.post(url, null);
    }
    /**
     * @param {?} bizTypeId
     * @param {?} boId
     * @return {?}
     */
    deleteBoMdMappingData(bizTypeId, boId) {
        /** @type {?} */
        const url = this.MetadataBizType_Base_Path + '/mappings/bo?bizTypeId=' + bizTypeId + '&boId=' + boId;
        return this.http.delete(url, null);
    }
}
if (false) {
    /**
     * @type {?}
     * @private
     */
    GSPMetadataRTService4BizType.prototype.MetadataRT_Base_Path;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataRTService4BizType.prototype.MetadataBizType_Base_Path;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataRTService4BizType.prototype.MetadataBizType_Mapping_Path;
    /**
     * @type {?}
     * @private
     */
    GSPMetadataRTService4BizType.prototype.http;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWV0YWRhdGEucnRzZXJ2aWNlNGJpenR5cGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLWxjbS9tZXRhZGF0YXJ0LXNlbGVjdG9yNGJpenR5cGUvIiwic291cmNlcyI6WyJtZXRhZGF0YS9tZXRhZGF0YS5ydHNlcnZpY2U0Yml6dHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUk3QyxNQUFNLE9BQU8sNEJBQTRCOzs7OztJQVV2QyxZQUFvQixJQUFpQjtRQUFqQixTQUFJLEdBQUosSUFBSSxDQUFhOzs7O1FBTjdCLHlCQUFvQixHQUFHLG9DQUFvQyxDQUFDOztRQUU1RCw4QkFBeUIsR0FBRyx5Q0FBeUMsQ0FBQztRQUV0RSxpQ0FBNEIsR0FBRyxrREFBa0QsQ0FBQztJQUcxRixDQUFDOzs7Ozs7SUFNTSxhQUFhLENBQUMsVUFBa0I7O2NBQy9CLEdBQUcsR0FBRyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsR0FBRyxHQUFHLFVBQVU7UUFDeEQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QixDQUFDOzs7OztJQUVNLGlCQUFpQixDQUFDLFFBQWdCOztjQUNqQyxHQUFHLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixHQUFHLGlCQUFpQixHQUFHLFFBQVE7UUFDcEUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QixDQUFDOzs7OztJQUNNLGlDQUFpQyxDQUFDLFFBQWdCOztjQUNqRCxHQUFHLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLFFBQVE7UUFDN0UsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QixDQUFDOzs7OztJQUVNLDRCQUE0QixDQUFFLFFBQWdCOztZQUMvQyxDQUFDLEdBQUcs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Rjs7Ozs7SUFFOUUsNENBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSAnQGVjcC1jYWYvY2FmLWNvbW1vbic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdTUE1ldGFkYXRhUlRTZXJ2aWNlNEJpelR5cGUge1xyXG4gIC8vIOeOr+Wig+WPmOmHj1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcclxuICBwcml2YXRlIE1ldGFkYXRhUlRfQmFzZV9QYXRoID0gJy9hcGkvcnVudGltZS9sY20vdjEuMC9ydC1tZXRhZGF0YXMnO1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXHJcbiAgcHJpdmF0ZSBNZXRhZGF0YUJpelR5cGVfQmFzZV9QYXRoID0gJy9hcGkvcnVudGltZS9sY20vdjEuMC9tZXRhZGF0YS1iaXp0eXBlcyc7XHJcblxyXG4gIHByaXZhdGUgTWV0YWRhdGFCaXpUeXBlX01hcHBpbmdfUGF0aCA9ICcvYXBpL3J1bnRpbWUvbGNtL3YxLjAvbWV0YWRhdGEtYml6dHlwZXMvbWFwcGluZ3MnO1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwU2VydmljZSkge1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YWD5pWw5o2u6L+Q6KGM5pe25pyN5YqhXHJcbiAgICovXHJcblxyXG4gIHB1YmxpYyBHZXRNZXRhZGF0YVJUKG1ldGFkYXRhSUQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhUlRfQmFzZV9QYXRoICsgJy8nICsgbWV0YWRhdGFJRDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgR2V0TWV0YWRhdGFSVExpc3QodHlwZUxpc3Q6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhUlRfQmFzZV9QYXRoICsgJz9tZXRhZGF0YVR5cGVzPScgKyB0eXBlTGlzdDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXRQYWNrYWdlZE1ldGFkYXRhUlRMaXN0V2l0aFR5cGUodHlwZUxpc3Q6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhUlRfQmFzZV9QYXRoICsgJy9wYWNrYWdlZD9tZXRhZGF0YVR5cGVzPScgKyB0eXBlTGlzdDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgR2V0QWxsT3JpZ2luTWRSVExpc3RXaXRoVHlwZSAodHlwZUxpc3Q6IHN0cmluZykge1xyXG4gICAgdmFyIHQgPSB0aGlzLk1ldGFkYXRhUlRfQmFzZV9QYXRoICsgXCIvb3JpZ2luP21ldGFkYXRhVHlwZXM9XCIgKyB0eXBlTGlzdDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHQpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0TWV0YWRhdGFMaXN0QnlCaXpUeXBlSWQoYml6VHlwZUlkOiBzdHJpbmcsIG1ldGFkYXRhVHlwZXM6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhQml6VHlwZV9CYXNlX1BhdGggKyAnP2JpelR5cGVJZD0nICsgYml6VHlwZUlkICsgJyZtZXRhZGF0YVR5cGVzPScgKyBtZXRhZGF0YVR5cGVzO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRNYXBwaW5nTGlzdEJ5TWV0YWRhdGFJZChtZXRhZGF0YUlkOiBzdHJpbmcsIGNlcnRJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuTWV0YWRhdGFCaXpUeXBlX01hcHBpbmdfUGF0aCArICc/bWV0YWRhdGFJZD0nICsgbWV0YWRhdGFJZCArICcmY2VydElkPScgKyBjZXJ0SWQ7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzTWFwcGluZ0V4aXN0KGJpelR5cGVJZDogc3RyaW5nLCBtZXRhZGF0YUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5NZXRhZGF0YUJpelR5cGVfQmFzZV9QYXRoICsgJy92YWxpZGF0aW9uL21kP2JpelR5cGVJZD0nICsgYml6VHlwZUlkICsgJyZtZElkPScgKyBtZXRhZGF0YUlkO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBpc0JvQml6VHlwZU1hcHBpbmdFeGlzdChiaXpUeXBlSWQ6IHN0cmluZywgYm9JZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+ICB7XHJcbiAgICB2YXIgYSA9IHRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArIFwiL3ZhbGlkYXRpb24vYm8/Yml6VHlwZUlkPVwiICsgYml6VHlwZUlkICsgXCImYm9JZD1cIiArIGJvSWQ7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldChhKVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5YWD5pWw5o2u57G75Z6L5Y+K5ZCO57yA5L+h5oGvXHJcbiAgR2V0TWV0YWRhdGFUeXBlTGlzdCgpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5NZXRhZGF0YVJUX0Jhc2VfUGF0aCArICcvdHlwZUxpc3QnO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBHZXRQYWNrYWdlZE1ldGFkYXRhUlRMaXN0KCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhUlRfQmFzZV9QYXRoICsgJy9wYWNrYWdlZCc7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRlbGV0ZU1hcHBpbmdEYXRhKGJpelR5cGVJZDogc3RyaW5nLCBtZXRhZGF0YUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5NZXRhZGF0YUJpelR5cGVfQmFzZV9QYXRoICsgJy9tYXBwaW5ncy9tZD9iaXpUeXBlSWQ9JyArIGJpelR5cGVJZCArICcmbWRJZD0nICsgbWV0YWRhdGFJZDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlKHVybCxudWxsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZWxldGVNZE1hcHBpbmdEYXRhTGlzdChiaXpUeXBlSWQ6IHN0cmluZywgbWV0YWRhdGFJZHM6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhQml6VHlwZV9CYXNlX1BhdGggKyAnL21hcHBpbmdzL21kcz9iaXpUeXBlSWQ9JyArIGJpelR5cGVJZCArICcmbWRJZHM9JyArIG1ldGFkYXRhSWRzO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5kZWxldGUodXJsLG51bGwpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRlbGV0ZUJvTWFwcGluZ0RhdGFMaXN0KGJpelR5cGVJZDogc3RyaW5nLCBib0lkczogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArICcvbWFwcGluZ3MvYm9zP2JpelR5cGVJZD0nICsgYml6VHlwZUlkICsgJyZib0lkcz0nICsgYm9JZHM7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZSh1cmwsbnVsbCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2F2ZU1hcHBpbmdEYXRhKG1kQml6VHlwZU1hcHBpbmc6YW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArJy9tYXBwaW5ncy9tZCc7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLCBtZEJpelR5cGVNYXBwaW5nKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzYXZlTWRNYXBwaW5nTGlzdChtZEJpelR5cGVNYXBwaW5naW5nczphbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5NZXRhZGF0YUJpelR5cGVfQmFzZV9QYXRoICsnL21hcHBpbmdzL21kcyc7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLCBtZEJpelR5cGVNYXBwaW5naW5ncyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2F2ZUJvQml6VHlwZU1hcHBpbmcoYm9CaXpUeXBlTWFhaW5nOmFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPXRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArJy9tYXBwaW5ncy9ibyc7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLGJvQml6VHlwZU1hYWluZyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2F2ZUJvQml6VHlwZU1hcHBpbmdMaXN0KGJvQml6VHlwZU1hcHBpbmdzOmFueSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCB1cmwgPXRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArJy9tYXBwaW5ncy9ib3MnO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHVybCxib0JpelR5cGVNYXBwaW5ncyk7XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5blkI7nvIBcclxuICBHZXRQb3N0Zml4KG1ldGFkYXRhVHlwZSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICB0aGlzLkdldE1ldGFkYXRhVHlwZUxpc3QoKS5zdWJzY3JpYmUodHlwZUxpc3QgPT4ge1xyXG4gICAgICB0eXBlTGlzdC5mb3JFYWNoKHR5cGUgPT4ge1xyXG4gICAgICAgIGlmIChtZXRhZGF0YVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZS50eXBlQ29kZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHlwZS5wb3N0Zml4O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxhbnk+KCk7XHJcbiAgfVxyXG4gIGdldE1kQml6VHlwZU1hcHBpbmdUeXBlKGJpelR5cGVJZCk6T2JzZXJ2YWJsZTxhbnk+e1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5NZXRhZGF0YUJpelR5cGVfQmFzZV9QYXRoICsgJy9tYXBwaW5ndHlwZT9iaXpUeXBlSWQ9JyArYml6VHlwZUlkO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQodXJsKTtcclxuICB9XHJcbiAgZ2V0TWRCaXpNYXBwaW5nTGlzdEJpelR5cGVJZChiaXpUeXBlSWQpOk9ic2VydmFibGU8YW55PntcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArICcvbWFwcGluZ3MvbWQ/Yml6VHlwZUlkPScgK2JpelR5cGVJZDtcclxuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHVybCk7XHJcbiAgfVxyXG4gIGdldEJvQml6TWFwcGluZ0xpc3RCaXpUeXBlSWQoYml6VHlwZUlkKTpPYnNlcnZhYmxlPGFueT57XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhQml6VHlwZV9CYXNlX1BhdGggKyAnL21hcHBpbmdzL2JvP2JpelR5cGVJZD0nICtiaXpUeXBlSWQ7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmdldCh1cmwpO1xyXG4gIH1cclxuICBzYXZlKG1kQml6VHlwZU1hcHBpbmdEdG86YW55KTpPYnNlcnZhYmxlPGFueT57XHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLk1ldGFkYXRhQml6VHlwZV9CYXNlX1BhdGg7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QodXJsLCBtZEJpelR5cGVNYXBwaW5nRHRvKTtcclxuICB9XHJcbiAgc2F2ZU1hcHBpbmdUeXBlKGJpelR5cGVJZDpzdHJpbmcsbWRCaXpNYXBUeXBlOnN0cmluZyk6T2JzZXJ2YWJsZTxhbnk+e1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5NZXRhZGF0YUJpelR5cGVfQmFzZV9QYXRoKycvbWFwcGluZ3R5cGU/Yml6VHlwZUlkPScrYml6VHlwZUlkKycmbWRCaXpNYXBUeXBlPScrbWRCaXpNYXBUeXBlO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHVybCwgbnVsbCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBwdWJsaWMgZGVsZXRlQm9NZE1hcHBpbmdEYXRhKGJpelR5cGVJZDogc3RyaW5nLCBib0lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG5cclxuICAgIGNvbnN0IHVybCA9IHRoaXMuTWV0YWRhdGFCaXpUeXBlX0Jhc2VfUGF0aCArICcvbWFwcGluZ3MvYm8/Yml6VHlwZUlkPScgKyBiaXpUeXBlSWQgKyAnJmJvSWQ9JyArIGJvSWQ7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwLmRlbGV0ZSh1cmwsbnVsbCk7XHJcbiAgfVxyXG59Il19