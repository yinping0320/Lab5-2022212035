/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild, TemplateRef } from '@angular/core';
import { DboHelpRtService } from '../dbo-help-rt.service';
var DboSelectRTComponent = /** @class */ (function () {
    function DboSelectRTComponent(dboHelpService) {
        this.dboHelpService = dboHelpService;
        this.url = '';
        /**
         * 帮助标题
         */
        this.title = '帮助';
        /**
         * 输出事件
         */
        this.selectedAfterOk = new EventEmitter();
        this.modalClosed = new EventEmitter();
        this.selectableSettings = {
            checkboxOnly: true,
            mode: 'single',
            enabled: true
        };
        /** @type {?} */
        var sessionId = this.sessionId;
        if (!sessionId) {
            alert('session信息不能为空');
        }
        else {
            this.dboHelpService.sessionId = sessionId;
        }
    }
    /**输入属性变化后 */
    /**
     * 输入属性变化后
     * @param {?} changes
     * @return {?}
     */
    DboSelectRTComponent.prototype.ngOnChanges = /**
     * 输入属性变化后
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
    };
    /**
     * @return {?}
     */
    DboSelectRTComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.dboHelpService.getAllDatabaseObjectRT()
            .subscribe((/**
         * @param {?} result
         * @return {?}
         */
        function (result) {
            _this.data = result;
            _this.curSelectedKeys = [];
            if (_this.initSelectedKeys) {
                _this.initSelectedKeys.map((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) { return _this.curSelectedKeys.push(item); }));
            }
        }), (/**
         * @param {?} error
         * @return {?}
         */
        function (error) {
            console.log('获取数据源失败！');
            console.log(error);
        }));
    };
    /**帮助确定按钮 */
    /**
     * 帮助确定按钮
     * @return {?}
     */
    DboSelectRTComponent.prototype.btnOk = /**
     * 帮助确定按钮
     * @return {?}
     */
    function () {
        var _this = this;
        // 根据选中行获取实体数据
        // 服务端获取数据
        /** @type {?} */
        var selectPosEntity = [];
        this.curSelectedKeys.forEach((/**
         * @param {?} dboID
         * @return {?}
         */
        function (dboID) {
            /** @type {?} */
            var selectDBO = _this.data.find((/**
             * @param {?} item
             * @return {?}
             */
            function (item) { return item['id'] === dboID; }));
            selectPosEntity.push(selectDBO);
        }));
        if (!selectPosEntity) {
            alert('请选择数据库对象');
            return;
        }
        else {
            // 发射当前选中数据
            this.selectedAfterOk.next(selectPosEntity);
        }
        this.hideModal();
    };
    /**
     * @return {?}
     */
    DboSelectRTComponent.prototype.hideModal = /**
     * @return {?}
     */
    function () {
        this.modalClosed.emit();
    };
    DboSelectRTComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-dbo-selectrt',
                    template: "<div class=\"modal-body\">\r\n<div class=\"templateBlock\">\r\n  <kendo-grid [class]=\"'flex-auto'\" [selectable]=\"selectableSettings\" [kendoGridSelectBy]=\"'id'\" [selectedKeys]=\"curSelectedKeys\"\r\n    [kendoGridBinding]=\"data\">\r\n    <kendo-grid-checkbox-column width=\"10%\"></kendo-grid-checkbox-column>\r\n    <kendo-grid-column field=\"code\" title=\"\u7F16\u53F7\" width=\"40%\"></kendo-grid-column>\r\n    <kendo-grid-column field=\"name\" title=\"\u540D\u79F0\" width=\"45%\"></kendo-grid-column>\r\n  </kendo-grid>\r\n  </div>\r\n</div>\r\n<ng-template #btns>\r\n<button type=\"button\" class=\"btn btn-default btn-primary\" (click)=\"btnOk()\">\u786E\u5B9A</button>\r\n<button type=\"button\" class=\"btn btn-default\" (click)=\"hideModal()\">\u53D6\u6D88</button>\r\n</ng-template>\r\n",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    DboSelectRTComponent.ctorParameters = function () { return [
        { type: DboHelpRtService }
    ]; };
    DboSelectRTComponent.propDecorators = {
        url: [{ type: Input }],
        title: [{ type: Input }],
        isShow: [{ type: Input }],
        initSelectedKeys: [{ type: Input }],
        sessionId: [{ type: Input }],
        selectedAfterOk: [{ type: Output }],
        modalClosed: [{ type: Output }],
        modalFooter: [{ type: ViewChild, args: ['modalFooter',] }],
        btns: [{ type: ViewChild, args: ['btns',] }]
    };
    return DboSelectRTComponent;
}());
export { DboSelectRTComponent };
if (false) {
    /** @type {?} */
    DboSelectRTComponent.prototype.url;
    /**
     * 帮助标题
     * @type {?}
     */
    DboSelectRTComponent.prototype.title;
    /**
     * 帮助打开状态
     * @type {?}
     */
    DboSelectRTComponent.prototype.isShow;
    /**
     * 选中列表
     * @type {?}
     */
    DboSelectRTComponent.prototype.initSelectedKeys;
    /** @type {?} */
    DboSelectRTComponent.prototype.sessionId;
    /**
     * 输出事件
     * @type {?}
     */
    DboSelectRTComponent.prototype.selectedAfterOk;
    /** @type {?} */
    DboSelectRTComponent.prototype.modalClosed;
    /** @type {?} */
    DboSelectRTComponent.prototype.modalFooter;
    /** @type {?} */
    DboSelectRTComponent.prototype.btns;
    /**
     * 当前界面选中的内码
     * @type {?}
     */
    DboSelectRTComponent.prototype.curSelectedKeys;
    /** @type {?} */
    DboSelectRTComponent.prototype.selectableSettings;
    /** @type {?} */
    DboSelectRTComponent.prototype.data;
    /**
     * @type {?}
     * @private
     */
    DboSelectRTComponent.prototype.dboHelpService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGJvLXNlbGVjdHJ0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3AtbGNtL2Riby1zZWxlY3RydC8iLCJzb3VyY2VzIjpbImxpYi9kYm8tc2VsZWN0cnQvZGJvLXNlbGVjdHJ0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBNEIsU0FBUyxFQUFFLFdBQVcsRUFBRyxNQUFNLGVBQWUsQ0FBQztBQUVsSSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUd6RDtJQStCRSw4QkFDVSxjQUFnQztRQUFoQyxtQkFBYyxHQUFkLGNBQWMsQ0FBa0I7UUF6QjFDLFFBQUcsR0FBRyxFQUFFLENBQUM7Ozs7UUFHVCxVQUFLLEdBQUcsSUFBSSxDQUFDOzs7O1FBVUgsb0JBQWUsR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUM3RCxnQkFBVyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFhOUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHO1lBQ3hCLFlBQVksRUFBRSxJQUFJO1lBQ2xCLElBQUksRUFBRSxRQUFRO1lBQ2QsT0FBTyxFQUFFLElBQUk7U0FDZCxDQUFDOztZQUNJLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUztRQUNoQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2QsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1NBQ3hCO2FBQU07WUFDTCxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7U0FDM0M7SUFDSCxDQUFDO0lBRUQsYUFBYTs7Ozs7O0lBQ2IsMENBQVc7Ozs7O0lBQVgsVUFBWSxPQUFzQjtJQUNsQyxDQUFDOzs7O0lBQ0QsdUNBQVE7OztJQUFSO1FBQUEsaUJBYUM7UUFYQyxJQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFzQixFQUFFO2FBQzNDLFNBQVM7Ozs7UUFBQyxVQUFBLE1BQU07WUFDZixLQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztZQUNuQixLQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztZQUMxQixJQUFJLEtBQUksQ0FBQyxnQkFBZ0IsRUFBRTtnQkFDekIsS0FBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUc7Ozs7Z0JBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxLQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBL0IsQ0FBK0IsRUFBQyxDQUFDO2FBQ3BFO1FBQ0gsQ0FBQzs7OztRQUFFLFVBQUEsS0FBSztZQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixDQUFDLEVBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxZQUFZOzs7OztJQUNaLG9DQUFLOzs7O0lBQUw7UUFBQSxpQkFpQkM7Ozs7WUFkTyxlQUFlLEdBQUcsRUFBRTtRQUMxQixJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU87Ozs7UUFBQyxVQUFBLEtBQUs7O2dCQUMxQixTQUFTLEdBQUcsS0FBSSxDQUFDLElBQUksQ0FBQyxJQUFJOzs7O1lBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFwQixDQUFvQixFQUFDO1lBQzlELGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEMsQ0FBQyxFQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3BCLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsQixPQUFPO1NBQ1I7YUFBTTtZQUNMLFdBQVc7WUFDWCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUM1QztRQUNELElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNuQixDQUFDOzs7O0lBQ0Qsd0NBQVM7OztJQUFUO1FBQ0UsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMxQixDQUFDOztnQkFyRkYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxrQkFBa0I7b0JBQzVCLGl6QkFBNEM7O2lCQUU3Qzs7OztnQkFQUSxnQkFBZ0I7OztzQkFTdEIsS0FBSzt3QkFHTCxLQUFLO3lCQUdMLEtBQUs7bUNBR0wsS0FBSzs0QkFFTCxLQUFLO2tDQUdMLE1BQU07OEJBQ04sTUFBTTs4QkFFTixTQUFTLFNBQUMsYUFBYTt1QkFDdkIsU0FBUyxTQUFDLE1BQU07O0lBOERuQiwyQkFBQztDQUFBLEFBdEZELElBc0ZDO1NBakZZLG9CQUFvQjs7O0lBQy9CLG1DQUNTOzs7OztJQUVULHFDQUNhOzs7OztJQUViLHNDQUNnQjs7Ozs7SUFFaEIsZ0RBQzJCOztJQUMzQix5Q0FDa0I7Ozs7O0lBRWxCLCtDQUF1RTs7SUFDdkUsMkNBQWdEOztJQUVoRCwyQ0FBd0Q7O0lBQ3hELG9DQUEwQzs7Ozs7SUFHMUMsK0NBQTBCOztJQUMxQixrREFBdUM7O0lBQ3ZDLG9DQUFlOzs7OztJQUdiLDhDQUF3QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcywgVmlld0NoaWxkLCBUZW1wbGF0ZVJlZiAgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU2VsZWN0YWJsZVNldHRpbmdzIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWFuZ3VsYXItZ3JpZCc7XHJcbmltcG9ydCB7IERib0hlbHBSdFNlcnZpY2V9IGZyb20gJy4uL2Riby1oZWxwLXJ0LnNlcnZpY2UnO1xyXG5cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWRiby1zZWxlY3RydCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2Riby1zZWxlY3RydC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZGJvLXNlbGVjdHJ0LmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRGJvU2VsZWN0UlRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XHJcbiAgQElucHV0KClcclxuICB1cmwgPSAnJztcclxuICAvKirluK7liqnmoIfpopggKi9cclxuICBASW5wdXQoKVxyXG4gIHRpdGxlID0gJ+W4ruWKqSc7XHJcbiAgLyoq5biu5Yqp5omT5byA54q25oCBICovXHJcbiAgQElucHV0KClcclxuICBpc1Nob3c6IGJvb2xlYW47XHJcbiAgLyoq6YCJ5Lit5YiX6KGoICovXHJcbiAgQElucHV0KClcclxuICBpbml0U2VsZWN0ZWRLZXlzOiBzdHJpbmdbXTtcclxuICBASW5wdXQoKVxyXG4gIHNlc3Npb25JZDogc3RyaW5nO1xyXG4gIC8qKui+k+WHuuS6i+S7tiAqL1xyXG4gIEBPdXRwdXQoKSBzZWxlY3RlZEFmdGVyT2s6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIG1vZGFsQ2xvc2VkID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ21vZGFsRm9vdGVyJykgbW9kYWxGb290ZXI6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgQFZpZXdDaGlsZCgnYnRucycpIGJ0bnM6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gIC8qKuW9k+WJjeeVjOmdoumAieS4reeahOWGheeggSAqL1xyXG4gIGN1clNlbGVjdGVkS2V5czogc3RyaW5nW107XHJcbiAgc2VsZWN0YWJsZVNldHRpbmdzOiBTZWxlY3RhYmxlU2V0dGluZ3M7XHJcbiAgZGF0YTogT2JqZWN0W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBkYm9IZWxwU2VydmljZTogRGJvSGVscFJ0U2VydmljZSxcclxuICApIHtcclxuICAgIHRoaXMuc2VsZWN0YWJsZVNldHRpbmdzID0ge1xyXG4gICAgICBjaGVja2JveE9ubHk6IHRydWUsXHJcbiAgICAgIG1vZGU6ICdzaW5nbGUnLFxyXG4gICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uSWQ7XHJcbiAgICBpZiAoIXNlc3Npb25JZCkge1xyXG4gICAgICBhbGVydCgnc2Vzc2lvbuS/oeaBr+S4jeiDveS4uuepuicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kYm9IZWxwU2VydmljZS5zZXNzaW9uSWQgPSBzZXNzaW9uSWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKirovpPlhaXlsZ7mgKflj5jljJblkI4gKi9cclxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgfVxyXG4gIG5nT25Jbml0KCkge1xyXG4gIFxyXG4gICAgdGhpcy5kYm9IZWxwU2VydmljZS5nZXRBbGxEYXRhYmFzZU9iamVjdFJUKClcclxuICAgIC5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgICAgdGhpcy5kYXRhID0gcmVzdWx0O1xyXG4gICAgICB0aGlzLmN1clNlbGVjdGVkS2V5cyA9IFtdO1xyXG4gICAgICBpZiAodGhpcy5pbml0U2VsZWN0ZWRLZXlzKSB7XHJcbiAgICAgICAgdGhpcy5pbml0U2VsZWN0ZWRLZXlzLm1hcChpdGVtID0+IHRoaXMuY3VyU2VsZWN0ZWRLZXlzLnB1c2goaXRlbSkpO1xyXG4gICAgICB9XHJcbiAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfojrflj5bmlbDmja7mupDlpLHotKXvvIEnKTtcclxuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKuW4ruWKqeehruWumuaMiemSriAqL1xyXG4gIGJ0bk9rKCkge1xyXG4gICAgLy8g5qC55o2u6YCJ5Lit6KGM6I635Y+W5a6e5L2T5pWw5o2uXHJcbiAgICAgICAgLy8g5pyN5Yqh56uv6I635Y+W5pWw5o2uXHJcbiAgICBjb25zdCBzZWxlY3RQb3NFbnRpdHkgPSBbXTtcclxuICAgIHRoaXMuY3VyU2VsZWN0ZWRLZXlzLmZvckVhY2goZGJvSUQgPT4ge1xyXG4gICAgICBjb25zdCBzZWxlY3REQk8gPSB0aGlzLmRhdGEuZmluZChpdGVtID0+IGl0ZW1bJ2lkJ10gPT09IGRib0lEKTtcclxuICAgICAgc2VsZWN0UG9zRW50aXR5LnB1c2goc2VsZWN0REJPKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghc2VsZWN0UG9zRW50aXR5KSB7XHJcbiAgICAgIGFsZXJ0KCfor7fpgInmi6nmlbDmja7lupPlr7nosaEnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g5Y+R5bCE5b2T5YmN6YCJ5Lit5pWw5o2uXHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRBZnRlck9rLm5leHQoc2VsZWN0UG9zRW50aXR5KTtcclxuICAgIH1cclxuICAgIHRoaXMuaGlkZU1vZGFsKCk7XHJcbiAgfVxyXG4gIGhpZGVNb2RhbCgpOiB2b2lkIHtcclxuICAgIHRoaXMubW9kYWxDbG9zZWQuZW1pdCgpO1xyXG4gIH1cclxufVxyXG4iXX0=